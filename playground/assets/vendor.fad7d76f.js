var vTe=Object.defineProperty,_Te=Object.defineProperties;var bTe=Object.getOwnPropertyDescriptors;var XZ=Object.getOwnPropertySymbols;var CTe=Object.prototype.hasOwnProperty,yTe=Object.prototype.propertyIsEnumerable;var M5=(n,e,t)=>e in n?vTe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Dt=(n,e)=>{for(var t in e||(e={}))CTe.call(e,t)&&M5(n,t,e[t]);if(XZ)for(var t of XZ(e))yTe.call(e,t)&&M5(n,t,e[t]);return n},gn=(n,e)=>_Te(n,bTe(e));var _r=(n,e,t)=>(M5(n,typeof e!="symbol"?e+"":e,t),t);function Yl(n,e){const t=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)t[i[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const wTe="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",STe=Yl(wTe),LTe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kTe=Yl(LTe);function lle(n){return!!n||n===""}function wt(n){if(Xt(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=si(i)?ule(i):wt(i);if(r)for(const s in r)e[s]=r[s]}return e}else{if(si(n))return n;if(bs(n))return n}}const ETe=/;(?![^(]*\))/g,DTe=/:(.+)/;function ule(n){const e={};return n.split(ETe).forEach(t=>{if(t){const i=t.split(DTe);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Z(n){let e="";if(si(n))e=n;else if(Xt(n))for(let t=0;t<n.length;t++){const i=Z(n[t]);i&&(e+=i+" ")}else if(bs(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function Am(n){if(!n)return null;let{class:e,style:t}=n;return e&&!si(e)&&(n.class=Z(e)),t&&(n.style=wt(t)),n}const ITe="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",TTe="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",NTe="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",xTe=Yl(ITe),MTe=Yl(TTe),ATe=Yl(NTe);function RTe(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=Rm(n[i],e[i]);return t}function Rm(n,e){if(n===e)return!0;let t=ZZ(n),i=ZZ(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=Xt(n),i=Xt(e),t||i)return t&&i?RTe(n,e):!1;if(t=bs(n),i=bs(e),t||i){if(!t||!i)return!1;const r=Object.keys(n).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Rm(n[o],e[o]))return!1}}return String(n)===String(e)}function iO(n,e){return n.findIndex(t=>Rm(t,e))}const Je=n=>si(n)?n:n==null?"":Xt(n)||bs(n)&&(n.toString===dle||!Hn(n.toString))?JSON.stringify(n,cle,2):String(n),cle=(n,e)=>e&&e.__v_isRef?cle(n,e.value):MC(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r])=>(t[`${i} =>`]=r,t),{})}:g1(e)?{[`Set(${e.size})`]:[...e.values()]}:bs(e)&&!Xt(e)&&!hle(e)?String(e):e,tr={},xC=[],tl=()=>{},TN=()=>!1,OTe=/^on[^a-z]/,f1=n=>OTe.test(n),HH=n=>n.startsWith("onUpdate:"),ir=Object.assign,zH=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},PTe=Object.prototype.hasOwnProperty,qi=(n,e)=>PTe.call(n,e),Xt=Array.isArray,MC=n=>rO(n)==="[object Map]",g1=n=>rO(n)==="[object Set]",ZZ=n=>n instanceof Date,Hn=n=>typeof n=="function",si=n=>typeof n=="string",Nw=n=>typeof n=="symbol",bs=n=>n!==null&&typeof n=="object",UH=n=>bs(n)&&Hn(n.then)&&Hn(n.catch),dle=Object.prototype.toString,rO=n=>dle.call(n),FTe=n=>rO(n).slice(8,-1),hle=n=>rO(n)==="[object Object]",jH=n=>si(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,q0=Yl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),BTe=Yl("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),sO=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},$Te=/-(\w)/g,la=sO(n=>n.replace($Te,(e,t)=>t?t.toUpperCase():"")),VTe=/\B([A-Z])/g,Cd=sO(n=>n.replace(VTe,"-$1").toLowerCase()),p1=sO(n=>n.charAt(0).toUpperCase()+n.slice(1)),AC=sO(n=>n?`on${p1(n)}`:""),AL=(n,e)=>!Object.is(n,e),RC=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},sM=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},Om=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let QZ;const WTe=()=>QZ||(QZ=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let pc;class KH{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&pc&&(this.parent=pc,this.index=(pc.scopes||(pc.scopes=[])).push(this)-1)}run(e){if(this.active)try{return pc=this,e()}finally{pc=this.parent}}on(){pc=this}off(){pc=this.parent}stop(e){if(this.active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function fle(n){return new KH(n)}function gle(n,e=pc){e&&e.active&&e.effects.push(n)}function ple(){return pc}function GH(n){pc&&pc.cleanups.push(n)}const qH=n=>{const e=new Set(n);return e.w=0,e.n=0,e},mle=n=>(n.w&Pm)>0,vle=n=>(n.n&Pm)>0,HTe=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=Pm},zTe=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const r=e[i];mle(r)&&!vle(r)?r.delete(n):e[t++]=r,r.w&=~Pm,r.n&=~Pm}e.length=t}},lB=new WeakMap;let t2=0,Pm=1;const uB=30;let Ah;const Y0=Symbol(""),cB=Symbol("");class VE{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,gle(this,i)}run(){if(!this.active)return this.fn();let e=Ah,t=gm;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ah,Ah=this,gm=!0,Pm=1<<++t2,t2<=uB?HTe(this):JZ(this),this.fn()}finally{t2<=uB&&zTe(this),Pm=1<<--t2,Ah=this.parent,gm=t,this.parent=void 0}}stop(){this.active&&(JZ(this),this.onStop&&this.onStop(),this.active=!1)}}function JZ(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}function UTe(n,e){n.effect&&(n=n.effect.fn);const t=new VE(n);e&&(ir(t,e),e.scope&&gle(t,e.scope)),(!e||!e.lazy)&&t.run();const i=t.run.bind(t);return i.effect=t,i}function jTe(n){n.effect.stop()}let gm=!0;const _le=[];function m1(){_le.push(gm),gm=!1}function v1(){const n=_le.pop();gm=n===void 0?!0:n}function Au(n,e,t){if(gm&&Ah){let i=lB.get(n);i||lB.set(n,i=new Map);let r=i.get(t);r||i.set(t,r=qH()),ble(r)}}function ble(n,e){let t=!1;t2<=uB?vle(n)||(n.n|=Pm,t=!mle(n)):t=!n.has(Ah),t&&(n.add(Ah),Ah.deps.push(n))}function Bg(n,e,t,i,r,s){const o=lB.get(n);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&Xt(n))o.forEach((l,u)=>{(u==="length"||u>=i)&&a.push(l)});else switch(t!==void 0&&a.push(o.get(t)),e){case"add":Xt(n)?jH(t)&&a.push(o.get("length")):(a.push(o.get(Y0)),MC(n)&&a.push(o.get(cB)));break;case"delete":Xt(n)||(a.push(o.get(Y0)),MC(n)&&a.push(o.get(cB)));break;case"set":MC(n)&&a.push(o.get(Y0));break}if(a.length===1)a[0]&&dB(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);dB(qH(l))}}function dB(n,e){for(const t of Xt(n)?n:[...n])(t!==Ah||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const KTe=Yl("__proto__,__v_isRef,__isVue"),Cle=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(Nw)),GTe=oO(),qTe=oO(!1,!0),YTe=oO(!0),XTe=oO(!0,!0),eQ=ZTe();function ZTe(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=wi(this);for(let s=0,o=this.length;s<o;s++)Au(i,"get",s+"");const r=i[e](...t);return r===-1||r===!1?i[e](...t.map(wi)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){m1();const i=wi(this)[e].apply(this,t);return v1(),i}}),n}function oO(n=!1,e=!1){return function(i,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&s===(n?e?Dle:Ele:e?kle:Lle).get(i))return i;const o=Xt(i);if(!n&&o&&qi(eQ,r))return Reflect.get(eQ,r,s);const a=Reflect.get(i,r,s);return(Nw(r)?Cle.has(r):KTe(r))||(n||Au(i,"get",r),e)?a:es(a)?!o||!jH(r)?a.value:a:bs(a)?n?xw(a):xi(a):a}}const QTe=yle(),JTe=yle(!0);function yle(n=!1){return function(t,i,r,s){let o=t[i];if(gy(o)&&es(o)&&!es(r))return!1;if(!n&&!gy(r)&&(XH(r)||(r=wi(r),o=wi(o)),!Xt(t)&&es(o)&&!es(r)))return o.value=r,!0;const a=Xt(t)&&jH(i)?Number(i)<t.length:qi(t,i),l=Reflect.set(t,i,r,s);return t===wi(s)&&(a?AL(r,o)&&Bg(t,"set",i,r):Bg(t,"add",i,r)),l}}function eNe(n,e){const t=qi(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&Bg(n,"delete",e,void 0),i}function tNe(n,e){const t=Reflect.has(n,e);return(!Nw(e)||!Cle.has(e))&&Au(n,"has",e),t}function nNe(n){return Au(n,"iterate",Xt(n)?"length":Y0),Reflect.ownKeys(n)}const wle={get:GTe,set:QTe,deleteProperty:eNe,has:tNe,ownKeys:nNe},Sle={get:YTe,set(n,e){return!0},deleteProperty(n,e){return!0}},iNe=ir({},wle,{get:qTe,set:JTe}),rNe=ir({},Sle,{get:XTe}),YH=n=>n,aO=n=>Reflect.getPrototypeOf(n);function BI(n,e,t=!1,i=!1){n=n.__v_raw;const r=wi(n),s=wi(e);e!==s&&!t&&Au(r,"get",e),!t&&Au(r,"get",s);const{has:o}=aO(r),a=i?YH:t?QH:RL;if(o.call(r,e))return a(n.get(e));if(o.call(r,s))return a(n.get(s));n!==r&&n.get(e)}function $I(n,e=!1){const t=this.__v_raw,i=wi(t),r=wi(n);return n!==r&&!e&&Au(i,"has",n),!e&&Au(i,"has",r),n===r?t.has(n):t.has(n)||t.has(r)}function VI(n,e=!1){return n=n.__v_raw,!e&&Au(wi(n),"iterate",Y0),Reflect.get(n,"size",n)}function tQ(n){n=wi(n);const e=wi(this);return aO(e).has.call(e,n)||(e.add(n),Bg(e,"add",n,n)),this}function nQ(n,e){e=wi(e);const t=wi(this),{has:i,get:r}=aO(t);let s=i.call(t,n);s||(n=wi(n),s=i.call(t,n));const o=r.call(t,n);return t.set(n,e),s?AL(e,o)&&Bg(t,"set",n,e):Bg(t,"add",n,e),this}function iQ(n){const e=wi(this),{has:t,get:i}=aO(e);let r=t.call(e,n);r||(n=wi(n),r=t.call(e,n)),i&&i.call(e,n);const s=e.delete(n);return r&&Bg(e,"delete",n,void 0),s}function rQ(){const n=wi(this),e=n.size!==0,t=n.clear();return e&&Bg(n,"clear",void 0,void 0),t}function WI(n,e){return function(i,r){const s=this,o=s.__v_raw,a=wi(o),l=e?YH:n?QH:RL;return!n&&Au(a,"iterate",Y0),o.forEach((u,c)=>i.call(r,l(u),l(c),s))}}function HI(n,e,t){return function(...i){const r=this.__v_raw,s=wi(r),o=MC(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,u=r[n](...i),c=t?YH:e?QH:RL;return!e&&Au(s,"iterate",l?cB:Y0),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function wp(n){return function(...e){return n==="delete"?!1:this}}function sNe(){const n={get(s){return BI(this,s)},get size(){return VI(this)},has:$I,add:tQ,set:nQ,delete:iQ,clear:rQ,forEach:WI(!1,!1)},e={get(s){return BI(this,s,!1,!0)},get size(){return VI(this)},has:$I,add:tQ,set:nQ,delete:iQ,clear:rQ,forEach:WI(!1,!0)},t={get(s){return BI(this,s,!0)},get size(){return VI(this,!0)},has(s){return $I.call(this,s,!0)},add:wp("add"),set:wp("set"),delete:wp("delete"),clear:wp("clear"),forEach:WI(!0,!1)},i={get(s){return BI(this,s,!0,!0)},get size(){return VI(this,!0)},has(s){return $I.call(this,s,!0)},add:wp("add"),set:wp("set"),delete:wp("delete"),clear:wp("clear"),forEach:WI(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=HI(s,!1,!1),t[s]=HI(s,!0,!1),e[s]=HI(s,!1,!0),i[s]=HI(s,!0,!0)}),[n,t,e,i]}const[oNe,aNe,lNe,uNe]=sNe();function lO(n,e){const t=e?n?uNe:lNe:n?aNe:oNe;return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(qi(t,r)&&r in i?t:i,r,s)}const cNe={get:lO(!1,!1)},dNe={get:lO(!1,!0)},hNe={get:lO(!0,!1)},fNe={get:lO(!0,!0)},Lle=new WeakMap,kle=new WeakMap,Ele=new WeakMap,Dle=new WeakMap;function gNe(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pNe(n){return n.__v_skip||!Object.isExtensible(n)?0:gNe(FTe(n))}function xi(n){return gy(n)?n:uO(n,!1,wle,cNe,Lle)}function Ile(n){return uO(n,!1,iNe,dNe,kle)}function xw(n){return uO(n,!0,Sle,hNe,Ele)}function mNe(n){return uO(n,!0,rNe,fNe,Dle)}function uO(n,e,t,i,r){if(!bs(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const o=pNe(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return r.set(n,a),a}function X0(n){return gy(n)?X0(n.__v_raw):!!(n&&n.__v_isReactive)}function gy(n){return!!(n&&n.__v_isReadonly)}function XH(n){return!!(n&&n.__v_isShallow)}function ZH(n){return X0(n)||gy(n)}function wi(n){const e=n&&n.__v_raw;return e?wi(e):n}function py(n){return sM(n,"__v_skip",!0),n}const RL=n=>bs(n)?xi(n):n,QH=n=>bs(n)?xw(n):n;function JH(n){gm&&Ah&&(n=wi(n),ble(n.dep||(n.dep=qH())))}function cO(n,e){n=wi(n),n.dep&&dB(n.dep)}function es(n){return!!(n&&n.__v_isRef===!0)}function J(n){return Tle(n,!1)}function ra(n){return Tle(n,!0)}function Tle(n,e){return es(n)?n:new vNe(n,e)}class vNe{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:wi(e),this._value=t?e:RL(e)}get value(){return JH(this),this._value}set value(e){e=this.__v_isShallow?e:wi(e),AL(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:RL(e),cO(this))}}function jb(n){cO(n)}function Ue(n){return es(n)?n.value:n}const _Ne={get:(n,e,t)=>Ue(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return es(r)&&!es(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function ez(n){return X0(n)?n:new Proxy(n,_Ne)}class bNe{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:i}=e(()=>JH(this),()=>cO(this));this._get=t,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function CNe(n){return new bNe(n)}function Ko(n){const e=Xt(n)?new Array(n.length):{};for(const t in n)e[t]=Uo(n,t);return e}class yNe{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Uo(n,e,t){const i=n[e];return es(i)?i:new yNe(n,e,t)}class wNe{constructor(e,t,i,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new VE(e,()=>{this._dirty||(this._dirty=!0,cO(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=wi(this);return JH(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function SNe(n,e,t=!1){let i,r;const s=Hn(n);return s?(i=n,r=tl):(i=n.get,r=n.set),new wNe(i,r,s||!r,t)}Promise.resolve();const L2=[];function tz(n,...e){m1();const t=L2.length?L2[L2.length-1].component:null,i=t&&t.appContext.config.warnHandler,r=LNe();if(i)Vh(i,t,11,[n+e.join(""),t&&t.proxy,r.map(({vnode:s})=>`at <${vue(t,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${n}`,...e];r.length&&s.push(`
`,...kNe(r)),console.warn(...s)}v1()}function LNe(){let n=L2[L2.length-1];if(!n)return[];const e=[];for(;n;){const t=e[0];t&&t.vnode===n?t.recurseCount++:e.push({vnode:n,recurseCount:0});const i=n.component&&n.component.parent;n=i&&i.vnode}return e}function kNe(n){const e=[];return n.forEach((t,i)=>{e.push(...i===0?[]:[`
`],...ENe(t))}),e}function ENe({vnode:n,recurseCount:e}){const t=e>0?`... (${e} recursive calls)`:"",i=n.component?n.component.parent==null:!1,r=` at <${vue(n.component,n.type,i)}`,s=">"+t;return n.props?[r,...DNe(n.props),s]:[r+s]}function DNe(n){const e=[],t=Object.keys(n);return t.slice(0,3).forEach(i=>{e.push(...Nle(i,n[i]))}),t.length>3&&e.push(" ..."),e}function Nle(n,e,t){return si(e)?(e=JSON.stringify(e),t?e:[`${n}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?t?e:[`${n}=${e}`]:es(e)?(e=Nle(n,wi(e.value),!0),t?e:[`${n}=Ref<`,e,">"]):Hn(e)?[`${n}=fn${e.name?`<${e.name}>`:""}`]:(e=wi(e),t?e:[`${n}=`,e])}function Vh(n,e,t,i){let r;try{r=i?n(...i):n()}catch(s){_1(s,e,t)}return r}function Eu(n,e,t,i){if(Hn(n)){const s=Vh(n,e,t,i);return s&&UH(s)&&s.catch(o=>{_1(o,e,t)}),s}const r=[];for(let s=0;s<n.length;s++)r.push(Eu(n[s],e,t,i));return r}function _1(n,e,t,i=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=t;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](n,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Vh(l,null,10,[n,o,a]);return}}INe(n,t,r,i)}function INe(n,e,t,i=!0){console.error(n)}let oM=!1,hB=!1;const pu=[];let ag=0;const k2=[];let n2=null,Kb=0;const E2=[];let Pp=null,Gb=0;const xle=Promise.resolve();let nz=null,fB=null;function Nt(n){const e=nz||xle;return n?e.then(this?n.bind(this):n):e}function TNe(n){let e=ag+1,t=pu.length;for(;e<t;){const i=e+t>>>1;OL(pu[i])<n?e=i+1:t=i}return e}function iz(n){(!pu.length||!pu.includes(n,oM&&n.allowRecurse?ag+1:ag))&&n!==fB&&(n.id==null?pu.push(n):pu.splice(TNe(n.id),0,n),Mle())}function Mle(){!oM&&!hB&&(hB=!0,nz=xle.then(Rle))}function NNe(n){const e=pu.indexOf(n);e>ag&&pu.splice(e,1)}function Ale(n,e,t,i){Xt(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?i+1:i))&&t.push(n),Mle()}function xNe(n){Ale(n,n2,k2,Kb)}function rz(n){Ale(n,Pp,E2,Gb)}function sz(n,e=null){if(k2.length){for(fB=e,n2=[...new Set(k2)],k2.length=0,Kb=0;Kb<n2.length;Kb++)n2[Kb]();n2=null,Kb=0,fB=null,sz(n,e)}}function aM(n){if(E2.length){const e=[...new Set(E2)];if(E2.length=0,Pp){Pp.push(...e);return}for(Pp=e,Pp.sort((t,i)=>OL(t)-OL(i)),Gb=0;Gb<Pp.length;Gb++)Pp[Gb]();Pp=null,Gb=0}}const OL=n=>n.id==null?1/0:n.id;function Rle(n){hB=!1,oM=!0,sz(n),pu.sort((t,i)=>OL(t)-OL(i));const e=tl;try{for(ag=0;ag<pu.length;ag++){const t=pu[ag];t&&t.active!==!1&&Vh(t,null,14)}}finally{ag=0,pu.length=0,aM(),oM=!1,nz=null,(pu.length||k2.length||E2.length)&&Rle(n)}}let qb,zI=[];function Ole(n,e){var t,i;qb=n,qb?(qb.enabled=!0,zI.forEach(({event:r,args:s})=>qb.emit(r,...s)),zI=[]):typeof window!="undefined"&&window.HTMLElement&&!((i=(t=window.navigator)===null||t===void 0?void 0:t.userAgent)===null||i===void 0?void 0:i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Ole(s,e)}),setTimeout(()=>{qb||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,zI=[])},3e3)):zI=[]}function MNe(n,e,...t){const i=n.vnode.props||tr;let r=t;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in i){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=i[c]||tr;h?r=t.map(f=>f.trim()):d&&(r=t.map(Om))}let a,l=i[a=AC(e)]||i[a=AC(la(e))];!l&&s&&(l=i[a=AC(Cd(e))]),l&&Eu(l,n,6,r);const u=i[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Eu(u,n,6,r)}}function Ple(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const s=n.emits;let o={},a=!1;if(!Hn(n)){const l=u=>{const c=Ple(u,e,!0);c&&(a=!0,ir(o,c))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!a?(i.set(n,null),null):(Xt(s)?s.forEach(l=>o[l]=null):ir(o,s),i.set(n,o),o)}function oz(n,e){return!n||!f1(e)?!1:(e=e.slice(2).replace(/Once$/,""),qi(n,e[0].toLowerCase()+e.slice(1))||qi(n,Cd(e))||qi(n,e))}let yu=null,dO=null;function PL(n){const e=yu;return yu=n,dO=n&&n.type.__scopeId||null,e}function ANe(n){dO=n}function RNe(){dO=null}const ONe=n=>De;function De(n,e=yu,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&_B(-1);const s=PL(e),o=n(...r);return PL(s),i._d&&_B(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function NN(n){const{type:e,vnode:t,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:g,inheritAttrs:p}=n;let m,b;const _=PL(n);try{if(t.shapeFlag&4){const w=r||i;m=hu(c.call(w,w,d,s,f,h,g)),b=l}else{const w=e;m=hu(w.length>1?w(s,{attrs:l,slots:a,emit:u}):w(s,null)),b=e.props?l:FNe(l)}}catch(w){I2.length=0,_1(w,n,1),m=be(ua)}let C=m;if(b&&p!==!1){const w=Object.keys(b),{shapeFlag:S}=C;w.length&&S&7&&(o&&w.some(HH)&&(b=BNe(b,o)),C=$g(C,b))}return t.dirs&&(C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&(C.transition=t.transition),m=C,PL(_),m}function PNe(n){let e;for(let t=0;t<n.length;t++){const i=n[t];if(Rr(i)){if(i.type!==ua||i.children==="v-if"){if(e)return;e=i}}else return}return e}const FNe=n=>{let e;for(const t in n)(t==="class"||t==="style"||f1(t))&&((e||(e={}))[t]=n[t]);return e},BNe=(n,e)=>{const t={};for(const i in n)(!HH(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function $Ne(n,e,t){const{props:i,children:r,component:s}=n,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?sQ(i,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==i[h]&&!oz(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?sQ(i,o,u):!0:!!o;return!1}function sQ(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==n[s]&&!oz(t,s))return!0}return!1}function az({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const VNe=n=>n.__isSuspense,WNe={name:"Suspense",__isSuspense:!0,process(n,e,t,i,r,s,o,a,l,u){n==null?zNe(e,t,i,r,s,o,a,l,u):UNe(n,e,t,i,r,o,a,l,u)},hydrate:jNe,create:lz,normalize:KNe},HNe=WNe;function FL(n,e){const t=n.props&&n.props[e];Hn(t)&&t()}function zNe(n,e,t,i,r,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=n.suspense=lz(n,r,i,e,d,t,s,o,a,l);u(null,h.pendingBranch=n.ssContent,d,null,i,h,s,o),h.deps>0?(FL(n,"onPending"),FL(n,"onFallback"),u(null,n.ssFallback,e,t,i,null,s,o),OC(h,n.ssFallback)):h.resolve()}function UNe(n,e,t,i,r,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=n.suspense;d.vnode=e,e.el=n.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:g,pendingBranch:p,isInFallback:m,isHydrating:b}=d;if(p)d.pendingBranch=h,Lh(h,p)?(l(p,h,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():m&&(l(g,f,t,i,r,null,s,o,a),OC(d,f))):(d.pendingId++,b?(d.isHydrating=!1,d.activeBranch=p):u(p,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),m?(l(null,h,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():(l(g,f,t,i,r,null,s,o,a),OC(d,f))):g&&Lh(h,g)?(l(g,h,t,i,r,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&Lh(h,g))l(g,h,t,i,r,d,s,o,a),OC(d,h);else if(FL(e,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:_,pendingId:C}=d;_>0?setTimeout(()=>{d.pendingId===C&&d.fallback(f)},_):_===0&&d.fallback(f)}}function lz(n,e,t,i,r,s,o,a,l,u,c=!1){const{p:d,m:h,um:f,n:g,o:{parentNode:p,remove:m}}=u,b=Om(n.props&&n.props.timeout),_={vnode:n,parent:e,parentComponent:t,isSVG:o,container:i,hiddenContainer:r,anchor:s,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(C=!1){const{vnode:w,activeBranch:S,pendingBranch:D,pendingId:E,effects:I,parentComponent:T,container:M}=_;if(_.isHydrating)_.isHydrating=!1;else if(!C){const F=S&&D.transition&&D.transition.mode==="out-in";F&&(S.transition.afterLeave=()=>{E===_.pendingId&&h(D,M,U,0)});let{anchor:U}=_;S&&(U=g(S),f(S,T,_,!0)),F||h(D,M,U,0)}OC(_,D),_.pendingBranch=null,_.isInFallback=!1;let A=_.parent,O=!1;for(;A;){if(A.pendingBranch){A.effects.push(...I),O=!0;break}A=A.parent}O||rz(I),_.effects=[],FL(w,"onResolve")},fallback(C){if(!_.pendingBranch)return;const{vnode:w,activeBranch:S,parentComponent:D,container:E,isSVG:I}=_;FL(w,"onFallback");const T=g(S),M=()=>{!_.isInFallback||(d(null,C,E,T,D,null,I,a,l),OC(_,C))},A=C.transition&&C.transition.mode==="out-in";A&&(S.transition.afterLeave=M),_.isInFallback=!0,f(S,D,null,!0),A||M()},move(C,w,S){_.activeBranch&&h(_.activeBranch,C,w,S),_.container=C},next(){return _.activeBranch&&g(_.activeBranch)},registerDep(C,w){const S=!!_.pendingBranch;S&&_.deps++;const D=C.vnode.el;C.asyncDep.catch(E=>{_1(E,C,0)}).then(E=>{if(C.isUnmounted||_.isUnmounted||_.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:I}=C;yB(C,E,!1),D&&(I.el=D);const T=!D&&C.subTree.el;w(C,I,p(D||C.subTree.el),D?null:g(C.subTree),_,o,l),T&&m(T),az(C,I.el),S&&--_.deps===0&&_.resolve()})},unmount(C,w){_.isUnmounted=!0,_.activeBranch&&f(_.activeBranch,t,C,w),_.pendingBranch&&f(_.pendingBranch,t,C,w)}};return _}function jNe(n,e,t,i,r,s,o,a,l){const u=e.suspense=lz(e,i,t,n.parentNode,document.createElement("div"),null,r,s,o,a,!0),c=l(n,u.pendingBranch=e.ssContent,t,u,s,o);return u.deps===0&&u.resolve(),c}function KNe(n){const{shapeFlag:e,children:t}=n,i=e&32;n.ssContent=oQ(i?t.default:t),n.ssFallback=i?oQ(t.fallback):be(ua)}function oQ(n){let e;if(Hn(n)){const t=vy&&n._c;t&&(n._d=!1,B()),n=n(),t&&(n._d=!0,e=Wh,oue())}return Xt(n)&&(n=PNe(n)),n=hu(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function Fle(n,e){e&&e.pendingBranch?Xt(n)?e.effects.push(...n):e.effects.push(n):rz(n)}function OC(n,e){n.activeBranch=e;const{vnode:t,parentComponent:i}=n,r=t.el=e.el;i&&i.subTree===t&&(i.vnode.el=r,az(i,r))}function vn(n,e){if(Do){let t=Do.provides;const i=Do.parent&&Do.parent.provides;i===t&&(t=Do.provides=Object.create(i)),t[n]=e}}function mt(n,e,t=!1){const i=Do||yu;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&Hn(e)?e.call(i.proxy):e}}function yd(n,e){return WE(n,null,e)}function Ble(n,e){return WE(n,null,{flush:"post"})}function GNe(n,e){return WE(n,null,{flush:"sync"})}const aQ={};function Ze(n,e,t){return WE(n,e,t)}function WE(n,e,{immediate:t,deep:i,flush:r,onTrack:s,onTrigger:o}=tr){const a=Do;let l,u=!1,c=!1;if(es(n)?(l=()=>n.value,u=XH(n)):X0(n)?(l=()=>n,i=!0):Xt(n)?(c=!0,u=n.some(X0),l=()=>n.map(b=>{if(es(b))return b.value;if(X0(b))return x0(b);if(Hn(b))return Vh(b,a,2)})):Hn(n)?e?l=()=>Vh(n,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),Eu(n,a,3,[h])}:l=tl,e&&i){const b=l;l=()=>x0(b())}let d,h=b=>{d=m.onStop=()=>{Vh(b,a,4)}};if(by)return h=tl,e?t&&Eu(e,a,3,[l(),c?[]:void 0,h]):l(),tl;let f=c?[]:aQ;const g=()=>{if(!!m.active)if(e){const b=m.run();(i||u||(c?b.some((_,C)=>AL(_,f[C])):AL(b,f)))&&(d&&d(),Eu(e,a,3,[b,f===aQ?void 0:f,h]),f=b)}else m.run()};g.allowRecurse=!!e;let p;r==="sync"?p=g:r==="post"?p=()=>Jo(g,a&&a.suspense):p=()=>{!a||a.isMounted?xNe(g):g()};const m=new VE(l,p);return e?t?g():f=m.run():r==="post"?Jo(m.run.bind(m),a&&a.suspense):m.run(),()=>{m.stop(),a&&a.scope&&zH(a.scope.effects,m)}}function qNe(n,e,t){const i=this.proxy,r=si(n)?n.includes(".")?$le(i,n):()=>i[n]:n.bind(i,i);let s;Hn(e)?s=e:(s=e.handler,t=e);const o=Do;$m(this);const a=WE(r,s.bind(i),t);return o?$m(o):pm(),a}function $le(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function x0(n,e){if(!bs(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),es(n))x0(n.value,e);else if(Xt(n))for(let t=0;t<n.length;t++)x0(n[t],e);else if(g1(n)||MC(n))n.forEach(t=>{x0(t,e)});else if(hle(n))for(const t in n)x0(n[t],e);return n}function uz(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rn(()=>{n.isMounted=!0}),Er(()=>{n.isUnmounting=!0}),n}const sc=[Function,Array],YNe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:sc,onEnter:sc,onAfterEnter:sc,onEnterCancelled:sc,onBeforeLeave:sc,onLeave:sc,onAfterLeave:sc,onLeaveCancelled:sc,onBeforeAppear:sc,onAppear:sc,onAfterAppear:sc,onAppearCancelled:sc},setup(n,{slots:e}){const t=en(),i=uz();let r;return()=>{const s=e.default&&hO(e.default(),!0);if(!s||!s.length)return;const o=wi(n),{mode:a}=o,l=s[0];if(i.isLeaving)return A5(l);const u=lQ(l);if(!u)return A5(l);const c=my(u,o,i,t);L_(u,c);const d=t.subTree,h=d&&lQ(d);let f=!1;const{getTransitionKey:g}=u.type;if(g){const p=g();r===void 0?r=p:p!==r&&(r=p,f=!0)}if(h&&h.type!==ua&&(!Lh(u,h)||f)){const p=my(h,o,i,t);if(L_(h,p),a==="out-in")return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,t.update()},A5(l);a==="in-out"&&u.type!==ua&&(p.delayLeave=(m,b,_)=>{const C=Vle(i,h);C[String(h.key)]=h,m._leaveCb=()=>{b(),m._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=_})}return l}}},cz=YNe;function Vle(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function my(n,e,t,i){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:p,onAppear:m,onAfterAppear:b,onAppearCancelled:_}=e,C=String(n.key),w=Vle(t,n),S=(E,I)=>{E&&Eu(E,i,9,I)},D={mode:s,persisted:o,beforeEnter(E){let I=a;if(!t.isMounted)if(r)I=p||a;else return;E._leaveCb&&E._leaveCb(!0);const T=w[C];T&&Lh(n,T)&&T.el._leaveCb&&T.el._leaveCb(),S(I,[E])},enter(E){let I=l,T=u,M=c;if(!t.isMounted)if(r)I=m||l,T=b||u,M=_||c;else return;let A=!1;const O=E._enterCb=F=>{A||(A=!0,F?S(M,[E]):S(T,[E]),D.delayedLeave&&D.delayedLeave(),E._enterCb=void 0)};I?(I(E,O),I.length<=1&&O()):O()},leave(E,I){const T=String(n.key);if(E._enterCb&&E._enterCb(!0),t.isUnmounting)return I();S(d,[E]);let M=!1;const A=E._leaveCb=O=>{M||(M=!0,I(),O?S(g,[E]):S(f,[E]),E._leaveCb=void 0,w[T]===n&&delete w[T])};w[T]=n,h?(h(E,A),h.length<=1&&A()):A()},clone(E){return my(E,e,t,i)}};return D}function A5(n){if(HE(n))return n=$g(n),n.children=null,n}function lQ(n){return HE(n)?n.children?n.children[0]:void 0:n}function L_(n,e){n.shapeFlag&6&&n.component?L_(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function hO(n,e=!1){let t=[],i=0;for(let r=0;r<n.length;r++){const s=n[r];s.type===kt?(s.patchFlag&128&&i++,t=t.concat(hO(s.children,e))):(e||s.type!==ua)&&t.push(s)}if(i>1)for(let r=0;r<t.length;r++)t[r].patchFlag=-2;return t}function Me(n){return Hn(n)?{setup:n,name:n.name}:n}const BL=n=>!!n.type.__asyncLoader;function XNe(n){Hn(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:i,delay:r=200,timeout:s,suspensible:o=!0,onError:a}=n;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let f;return l||(f=l=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),a)return new Promise((p,m)=>{a(g,()=>p(d()),()=>m(g),c+1)});throw g}).then(g=>f!==l&&l?l:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return Me({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const f=Do;if(u)return()=>R5(u,f);const g=_=>{l=null,_1(_,f,13,!i)};if(o&&f.suspense||by)return h().then(_=>()=>R5(_,f)).catch(_=>(g(_),()=>i?be(i,{error:_}):null));const p=J(!1),m=J(),b=J(!!r);return r&&setTimeout(()=>{b.value=!1},r),s!=null&&setTimeout(()=>{if(!p.value&&!m.value){const _=new Error(`Async component timed out after ${s}ms.`);g(_),m.value=_}},s),h().then(()=>{p.value=!0,f.parent&&HE(f.parent.vnode)&&iz(f.parent.update)}).catch(_=>{g(_),m.value=_}),()=>{if(p.value&&u)return R5(u,f);if(m.value&&i)return be(i,{error:m.value});if(t&&!b.value)return be(t)}}})}function R5(n,{vnode:{ref:e,props:t,children:i}}){const r=be(n,t,i);return r.ref=e,r}const HE=n=>n.type.__isKeepAlive,ZNe={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=en(),i=t.ctx;if(!i.renderer)return e.default;const r=new Map,s=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=i,h=d("div");i.activate=(_,C,w,S,D)=>{const E=_.component;u(_,C,w,0,a),l(E.vnode,_,C,w,E,a,S,_.slotScopeIds,D),Jo(()=>{E.isDeactivated=!1,E.a&&RC(E.a);const I=_.props&&_.props.onVnodeMounted;I&&wl(I,E.parent,_)},a)},i.deactivate=_=>{const C=_.component;u(_,h,null,1,a),Jo(()=>{C.da&&RC(C.da);const w=_.props&&_.props.onVnodeUnmounted;w&&wl(w,C.parent,_),C.isDeactivated=!0},a)};function f(_){O5(_),c(_,t,a,!0)}function g(_){r.forEach((C,w)=>{const S=hM(C.type);S&&(!_||!_(S))&&p(w)})}function p(_){const C=r.get(_);!o||C.type!==o.type?f(C):o&&O5(o),r.delete(_),s.delete(_)}Ze(()=>[n.include,n.exclude],([_,C])=>{_&&g(w=>i2(_,w)),C&&g(w=>!i2(C,w))},{flush:"post",deep:!0});let m=null;const b=()=>{m!=null&&r.set(m,P5(t.subTree))};return rn(b),Xl(b),Er(()=>{r.forEach(_=>{const{subTree:C,suspense:w}=t,S=P5(C);if(_.type===S.type){O5(S);const D=S.component.da;D&&Jo(D,w);return}f(_)})}),()=>{if(m=null,!e.default)return null;const _=e.default(),C=_[0];if(_.length>1)return o=null,_;if(!Rr(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return o=null,C;let w=P5(C);const S=w.type,D=hM(BL(w)?w.type.__asyncResolved||{}:S),{include:E,exclude:I,max:T}=n;if(E&&(!D||!i2(E,D))||I&&D&&i2(I,D))return o=w,C;const M=w.key==null?S:w.key,A=r.get(M);return w.el&&(w=$g(w),C.shapeFlag&128&&(C.ssContent=w)),m=M,A?(w.el=A.el,w.component=A.component,w.transition&&L_(w,w.transition),w.shapeFlag|=512,s.delete(M),s.add(M)):(s.add(M),T&&s.size>parseInt(T,10)&&p(s.values().next().value)),w.shapeFlag|=256,o=w,C}}},QNe=ZNe;function i2(n,e){return Xt(n)?n.some(t=>i2(t,e)):si(n)?n.split(",").includes(e):n.test?n.test(e):!1}function Wle(n,e){zle(n,"a",e)}function Hle(n,e){zle(n,"da",e)}function zle(n,e,t=Do){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(fO(e,i,t),t){let r=t.parent;for(;r&&r.parent;)HE(r.parent.vnode)&&JNe(i,e,t,r),r=r.parent}}function JNe(n,e,t,i){const r=fO(e,n,i,!0);b1(()=>{zH(i[e],r)},t)}function O5(n){let e=n.shapeFlag;e&256&&(e-=256),e&512&&(e-=512),n.shapeFlag=e}function P5(n){return n.shapeFlag&128?n.ssContent:n}function fO(n,e,t=Do,i=!1){if(t){const r=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;m1(),$m(t);const a=Eu(e,t,n,o);return pm(),v1(),a});return i?r.unshift(s):r.push(s),s}}const tp=n=>(e,t=Do)=>(!by||n==="sp")&&fO(n,e,t),Mw=tp("bm"),rn=tp("m"),dz=tp("bu"),Xl=tp("u"),Er=tp("bum"),b1=tp("um"),Ule=tp("sp"),jle=tp("rtg"),Kle=tp("rtc");function Gle(n,e=Do){fO("ec",n,e)}let gB=!0;function exe(n){const e=Yle(n),t=n.proxy,i=n.ctx;gB=!1,e.beforeCreate&&uQ(e.beforeCreate,n,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:g,activated:p,deactivated:m,beforeDestroy:b,beforeUnmount:_,destroyed:C,unmounted:w,render:S,renderTracked:D,renderTriggered:E,errorCaptured:I,serverPrefetch:T,expose:M,inheritAttrs:A,components:O,directives:F,filters:U}=e;if(u&&txe(u,i,null,n.appContext.config.unwrapInjectedRef),o)for(const j in o){const X=o[j];Hn(X)&&(i[j]=X.bind(t))}if(r){const j=r.call(t,t);bs(j)&&(n.data=xi(j))}if(gB=!0,s)for(const j in s){const X=s[j],ie=Hn(X)?X.bind(t,t):Hn(X.get)?X.get.bind(t,t):tl,Ce=!Hn(X)&&Hn(X.set)?X.set.bind(t):tl,Be=z({get:ie,set:Ce});Object.defineProperty(i,j,{enumerable:!0,configurable:!0,get:()=>Be.value,set:we=>Be.value=we})}if(a)for(const j in a)qle(a[j],i,t,j);if(l){const j=Hn(l)?l.call(t):l;Reflect.ownKeys(j).forEach(X=>{vn(X,j[X])})}c&&uQ(c,n,"c");function G(j,X){Xt(X)?X.forEach(ie=>j(ie.bind(t))):X&&j(X.bind(t))}if(G(Mw,d),G(rn,h),G(dz,f),G(Xl,g),G(Wle,p),G(Hle,m),G(Gle,I),G(Kle,D),G(jle,E),G(Er,_),G(b1,w),G(Ule,T),Xt(M))if(M.length){const j=n.exposed||(n.exposed={});M.forEach(X=>{Object.defineProperty(j,X,{get:()=>t[X],set:ie=>t[X]=ie})})}else n.exposed||(n.exposed={});S&&n.render===tl&&(n.render=S),A!=null&&(n.inheritAttrs=A),O&&(n.components=O),F&&(n.directives=F)}function txe(n,e,t=tl,i=!1){Xt(n)&&(n=pB(n));for(const r in n){const s=n[r];let o;bs(s)?"default"in s?o=mt(s.from||r,s.default,!0):o=mt(s.from||r):o=mt(s),es(o)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function uQ(n,e,t){Eu(Xt(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function qle(n,e,t,i){const r=i.includes(".")?$le(t,i):()=>t[i];if(si(n)){const s=e[n];Hn(s)&&Ze(r,s)}else if(Hn(n))Ze(r,n.bind(t));else if(bs(n))if(Xt(n))n.forEach(s=>qle(s,e,t,i));else{const s=Hn(n.handler)?n.handler.bind(t):e[n.handler];Hn(s)&&Ze(r,s,n)}}function Yle(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(u=>lM(l,u,o,!0)),lM(l,e,o)),s.set(e,l),l}function lM(n,e,t,i=!1){const{mixins:r,extends:s}=e;s&&lM(n,s,t,!0),r&&r.forEach(o=>lM(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=nxe[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const nxe={data:cQ,props:t0,emits:t0,methods:t0,computed:t0,beforeCreate:Ua,created:Ua,beforeMount:Ua,mounted:Ua,beforeUpdate:Ua,updated:Ua,beforeDestroy:Ua,beforeUnmount:Ua,destroyed:Ua,unmounted:Ua,activated:Ua,deactivated:Ua,errorCaptured:Ua,serverPrefetch:Ua,components:t0,directives:t0,watch:rxe,provide:cQ,inject:ixe};function cQ(n,e){return e?n?function(){return ir(Hn(n)?n.call(this,this):n,Hn(e)?e.call(this,this):e)}:e:n}function ixe(n,e){return t0(pB(n),pB(e))}function pB(n){if(Xt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Ua(n,e){return n?[...new Set([].concat(n,e))]:e}function t0(n,e){return n?ir(ir(Object.create(null),n),e):e}function rxe(n,e){if(!n)return e;if(!e)return n;const t=ir(Object.create(null),n);for(const i in e)t[i]=Ua(n[i],e[i]);return t}function sxe(n,e,t,i=!1){const r={},s={};sM(s,gO,1),n.propsDefaults=Object.create(null),Xle(n,e,r,s);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);t?n.props=i?r:Ile(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function oxe(n,e,t,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=n,a=wi(r),[l]=n.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=n.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];const f=e[h];if(l)if(qi(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const g=la(h);r[g]=mB(l,a,g,f,n,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{Xle(n,e,r,s)&&(u=!0);let c;for(const d in a)(!e||!qi(e,d)&&((c=Cd(d))===d||!qi(e,c)))&&(l?t&&(t[d]!==void 0||t[c]!==void 0)&&(r[d]=mB(l,a,d,void 0,n,!0)):delete r[d]);if(s!==a)for(const d in s)(!e||!qi(e,d)&&!0)&&(delete s[d],u=!0)}u&&Bg(n,"set","$attrs")}function Xle(n,e,t,i){const[r,s]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(q0(l))continue;const u=e[l];let c;r&&qi(r,c=la(l))?!s||!s.includes(c)?t[c]=u:(a||(a={}))[c]=u:oz(n.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=wi(t),u=a||tr;for(let c=0;c<s.length;c++){const d=s[c];t[d]=mB(r,l,d,u[d],n,!qi(u,d))}}return o}function mB(n,e,t,i,r,s){const o=n[t];if(o!=null){const a=qi(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&Hn(l)){const{propsDefaults:u}=r;t in u?i=u[t]:($m(r),i=u[t]=l.call(null,e),pm())}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Cd(t))&&(i=!0))}return i}function Zle(n,e,t=!1){const i=e.propsCache,r=i.get(n);if(r)return r;const s=n.props,o={},a=[];let l=!1;if(!Hn(n)){const c=d=>{l=!0;const[h,f]=Zle(d,e,!0);ir(o,h),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!s&&!l)return i.set(n,xC),xC;if(Xt(s))for(let c=0;c<s.length;c++){const d=la(s[c]);dQ(d)&&(o[d]=tr)}else if(s)for(const c in s){const d=la(c);if(dQ(d)){const h=s[c],f=o[d]=Xt(h)||Hn(h)?{type:h}:h;if(f){const g=gQ(Boolean,f.type),p=gQ(String,f.type);f[0]=g>-1,f[1]=p<0||g<p,(g>-1||qi(f,"default"))&&a.push(d)}}}const u=[o,a];return i.set(n,u),u}function dQ(n){return n[0]!=="$"}function hQ(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function fQ(n,e){return hQ(n)===hQ(e)}function gQ(n,e){return Xt(e)?e.findIndex(t=>fQ(t,n)):Hn(e)&&fQ(e,n)?0:-1}const Qle=n=>n[0]==="_"||n==="$stable",hz=n=>Xt(n)?n.map(hu):[hu(n)],axe=(n,e,t)=>{const i=De((...r)=>hz(e(...r)),t);return i._c=!1,i},Jle=(n,e,t)=>{const i=n._ctx;for(const r in n){if(Qle(r))continue;const s=n[r];if(Hn(s))e[r]=axe(r,s,i);else if(s!=null){const o=hz(s);e[r]=()=>o}}},eue=(n,e)=>{const t=hz(e);n.slots.default=()=>t},lxe=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=wi(e),sM(e,"_",t)):Jle(e,n.slots={})}else n.slots={},e&&eue(n,e);sM(n.slots,gO,1)},uxe=(n,e,t)=>{const{vnode:i,slots:r}=n;let s=!0,o=tr;if(i.shapeFlag&32){const a=e._;a?t&&a===1?s=!1:(ir(r,e),!t&&a===1&&delete r._):(s=!e.$stable,Jle(e,r)),o=e}else e&&(eue(n,e),o={default:1});if(s)for(const a in r)!Qle(a)&&!(a in o)&&delete r[a]};function Ht(n,e){const t=yu;if(t===null)return n;const i=t.proxy,r=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=tr]=e[s];Hn(o)&&(o={mounted:o,updated:o}),o.deep&&x0(a),r.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:u})}return n}function fh(n,e,t,i){const r=n.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(m1(),Eu(l,t,8,[n.el,a,n,e]),v1())}}function tue(){return{app:null,config:{isNativeTag:TN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cxe=0;function dxe(n,e){return function(i,r=null){r!=null&&!bs(r)&&(r=null);const s=tue(),o=new Set;let a=!1;const l=s.app={_uid:cxe++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:wue,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&Hn(u.install)?(o.add(u),u.install(l,...c)):Hn(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=be(i,r);return h.appContext=s,c&&e?e(h,u):n(h,u,d),a=!0,l._container=u,u.__vue_app__=l,vz(h.component)||h.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l}};return l}}function uM(n,e,t,i,r=!1){if(Xt(n)){n.forEach((h,f)=>uM(h,e&&(Xt(e)?e[f]:e),t,i,r));return}if(BL(i)&&!r)return;const s=i.shapeFlag&4?vz(i.component)||i.component.proxy:i.el,o=r?null:s,{i:a,r:l}=n,u=e&&e.r,c=a.refs===tr?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(si(u)?(c[u]=null,qi(d,u)&&(d[u]=null)):es(u)&&(u.value=null)),Hn(l))Vh(l,a,12,[o,c]);else{const h=si(l),f=es(l);if(h||f){const g=()=>{if(n.f){const p=h?c[l]:l.value;r?Xt(p)&&zH(p,s):Xt(p)?p.includes(s)||p.push(s):h?c[l]=[s]:(l.value=[s],n.k&&(c[n.k]=l.value))}else h?(c[l]=o,qi(d,l)&&(d[l]=o)):es(l)&&(l.value=o,n.k&&(c[n.k]=o))};o?(g.id=-1,Jo(g,t)):g()}}}let Sp=!1;const UI=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",F5=n=>n.nodeType===8;function hxe(n){const{mt:e,p:t,o:{patchProp:i,nextSibling:r,parentNode:s,remove:o,insert:a,createComment:l}}=n,u=(m,b)=>{if(!b.hasChildNodes()){t(null,m,b),aM();return}Sp=!1,c(b.firstChild,m,null,null,null),aM(),Sp&&console.error("Hydration completed but contains mismatches.")},c=(m,b,_,C,w,S=!1)=>{const D=F5(m)&&m.data==="[",E=()=>g(m,b,_,C,w,D),{type:I,ref:T,shapeFlag:M}=b,A=m.nodeType;b.el=m;let O=null;switch(I){case Fm:A!==3?O=E():(m.data!==b.children&&(Sp=!0,m.data=b.children),O=r(m));break;case ua:A!==8||D?O=E():O=r(m);break;case Z0:if(A!==1)O=E();else{O=m;const F=!b.children.length;for(let U=0;U<b.staticCount;U++)F&&(b.children+=O.outerHTML),U===b.staticCount-1&&(b.anchor=O),O=r(O);return O}break;case kt:D?O=f(m,b,_,C,w,S):O=E();break;default:if(M&1)A!==1||b.type.toLowerCase()!==m.tagName.toLowerCase()?O=E():O=d(m,b,_,C,w,S);else if(M&6){b.slotScopeIds=w;const F=s(m);if(e(b,F,null,_,C,UI(F),S),O=D?p(m):r(m),BL(b)){let U;D?(U=be(kt),U.anchor=O?O.previousSibling:F.lastChild):U=m.nodeType===3?xn(""):be("div"),U.el=m,b.component.subTree=U}}else M&64?A!==8?O=E():O=b.type.hydrate(m,b,_,C,w,S,n,h):M&128&&(O=b.type.hydrate(m,b,_,C,UI(s(m)),w,S,n,c))}return T!=null&&uM(T,null,C,b),O},d=(m,b,_,C,w,S)=>{S=S||!!b.dynamicChildren;const{type:D,props:E,patchFlag:I,shapeFlag:T,dirs:M}=b,A=D==="input"&&M||D==="option";if(A||I!==-1){if(M&&fh(b,null,_,"created"),E)if(A||!S||I&48)for(const F in E)(A&&F.endsWith("value")||f1(F)&&!q0(F))&&i(m,F,null,E[F],!1,void 0,_);else E.onClick&&i(m,"onClick",null,E.onClick,!1,void 0,_);let O;if((O=E&&E.onVnodeBeforeMount)&&wl(O,_,b),M&&fh(b,null,_,"beforeMount"),((O=E&&E.onVnodeMounted)||M)&&Fle(()=>{O&&wl(O,_,b),M&&fh(b,null,_,"mounted")},C),T&16&&!(E&&(E.innerHTML||E.textContent))){let F=h(m.firstChild,b,m,_,C,w,S);for(;F;){Sp=!0;const U=F;F=F.nextSibling,o(U)}}else T&8&&m.textContent!==b.children&&(Sp=!0,m.textContent=b.children)}return m.nextSibling},h=(m,b,_,C,w,S,D)=>{D=D||!!b.dynamicChildren;const E=b.children,I=E.length;for(let T=0;T<I;T++){const M=D?E[T]:E[T]=hu(E[T]);if(m)m=c(m,M,C,w,S,D);else{if(M.type===Fm&&!M.children)continue;Sp=!0,t(null,M,_,null,C,w,UI(_),S)}}return m},f=(m,b,_,C,w,S)=>{const{slotScopeIds:D}=b;D&&(w=w?w.concat(D):D);const E=s(m),I=h(r(m),b,E,_,C,w,S);return I&&F5(I)&&I.data==="]"?r(b.anchor=I):(Sp=!0,a(b.anchor=l("]"),E,I),I)},g=(m,b,_,C,w,S)=>{if(Sp=!0,b.el=null,S){const I=p(m);for(;;){const T=r(m);if(T&&T!==I)o(T);else break}}const D=r(m),E=s(m);return o(m),t(null,b,E,D,_,C,UI(E),w),D},p=m=>{let b=0;for(;m;)if(m=r(m),m&&F5(m)&&(m.data==="["&&b++,m.data==="]")){if(b===0)return r(m);b--}return m};return[u,c]}const Jo=Fle;function nue(n){return rue(n)}function iue(n){return rue(n,hxe)}function rue(n,e){const t=WTe();t.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=tl,cloneNode:g,insertStaticContent:p}=n,m=(ee,ne,le,de=null,ye=null,q=null,P=!1,x=null,R=!!ne.dynamicChildren)=>{if(ee===ne)return;ee&&!Lh(ee,ne)&&(de=Ne(ee),ke(ee,ye,q,!0),ee=null),ne.patchFlag===-2&&(R=!1,ne.dynamicChildren=null);const{type:H,ref:W,shapeFlag:K}=ne;switch(H){case Fm:b(ee,ne,le,de);break;case ua:_(ee,ne,le,de);break;case Z0:ee==null&&C(ne,le,de,P);break;case kt:F(ee,ne,le,de,ye,q,P,x,R);break;default:K&1?D(ee,ne,le,de,ye,q,P,x,R):K&6?U(ee,ne,le,de,ye,q,P,x,R):(K&64||K&128)&&H.process(ee,ne,le,de,ye,q,P,x,R,rt)}W!=null&&ye&&uM(W,ee&&ee.ref,q,ne||ee,!ne)},b=(ee,ne,le,de)=>{if(ee==null)i(ne.el=a(ne.children),le,de);else{const ye=ne.el=ee.el;ne.children!==ee.children&&u(ye,ne.children)}},_=(ee,ne,le,de)=>{ee==null?i(ne.el=l(ne.children||""),le,de):ne.el=ee.el},C=(ee,ne,le,de)=>{[ee.el,ee.anchor]=p(ee.children,ne,le,de,ee.el,ee.anchor)},w=({el:ee,anchor:ne},le,de)=>{let ye;for(;ee&&ee!==ne;)ye=h(ee),i(ee,le,de),ee=ye;i(ne,le,de)},S=({el:ee,anchor:ne})=>{let le;for(;ee&&ee!==ne;)le=h(ee),r(ee),ee=le;r(ne)},D=(ee,ne,le,de,ye,q,P,x,R)=>{P=P||ne.type==="svg",ee==null?E(ne,le,de,ye,q,P,x,R):M(ee,ne,ye,q,P,x,R)},E=(ee,ne,le,de,ye,q,P,x)=>{let R,H;const{type:W,props:K,shapeFlag:re,transition:se,patchFlag:ve,dirs:Re}=ee;if(ee.el&&g!==void 0&&ve===-1)R=ee.el=g(ee.el);else{if(R=ee.el=o(ee.type,q,K&&K.is,K),re&8?c(R,ee.children):re&16&&T(ee.children,R,null,de,ye,q&&W!=="foreignObject",P,x),Re&&fh(ee,null,de,"created"),K){for(const Ie in K)Ie!=="value"&&!q0(Ie)&&s(R,Ie,null,K[Ie],q,ee.children,de,ye,me);"value"in K&&s(R,"value",null,K.value),(H=K.onVnodeBeforeMount)&&wl(H,de,ee)}I(R,ee,ee.scopeId,P,de)}Re&&fh(ee,null,de,"beforeMount");const ge=(!ye||ye&&!ye.pendingBranch)&&se&&!se.persisted;ge&&se.beforeEnter(R),i(R,ne,le),((H=K&&K.onVnodeMounted)||ge||Re)&&Jo(()=>{H&&wl(H,de,ee),ge&&se.enter(R),Re&&fh(ee,null,de,"mounted")},ye)},I=(ee,ne,le,de,ye)=>{if(le&&f(ee,le),de)for(let q=0;q<de.length;q++)f(ee,de[q]);if(ye){let q=ye.subTree;if(ne===q){const P=ye.vnode;I(ee,P,P.scopeId,P.slotScopeIds,ye.parent)}}},T=(ee,ne,le,de,ye,q,P,x,R=0)=>{for(let H=R;H<ee.length;H++){const W=ee[H]=x?zp(ee[H]):hu(ee[H]);m(null,W,ne,le,de,ye,q,P,x)}},M=(ee,ne,le,de,ye,q,P)=>{const x=ne.el=ee.el;let{patchFlag:R,dynamicChildren:H,dirs:W}=ne;R|=ee.patchFlag&16;const K=ee.props||tr,re=ne.props||tr;let se;le&&Hv(le,!1),(se=re.onVnodeBeforeUpdate)&&wl(se,le,ne,ee),W&&fh(ne,ee,le,"beforeUpdate"),le&&Hv(le,!0);const ve=ye&&ne.type!=="foreignObject";if(H?A(ee.dynamicChildren,H,x,le,de,ve,q):P||ie(ee,ne,x,null,le,de,ve,q,!1),R>0){if(R&16)O(x,ne,K,re,le,de,ye);else if(R&2&&K.class!==re.class&&s(x,"class",null,re.class,ye),R&4&&s(x,"style",K.style,re.style,ye),R&8){const Re=ne.dynamicProps;for(let ge=0;ge<Re.length;ge++){const Ie=Re[ge],Pe=K[Ie],Ge=re[Ie];(Ge!==Pe||Ie==="value")&&s(x,Ie,Pe,Ge,ye,ee.children,le,de,me)}}R&1&&ee.children!==ne.children&&c(x,ne.children)}else!P&&H==null&&O(x,ne,K,re,le,de,ye);((se=re.onVnodeUpdated)||W)&&Jo(()=>{se&&wl(se,le,ne,ee),W&&fh(ne,ee,le,"updated")},de)},A=(ee,ne,le,de,ye,q,P)=>{for(let x=0;x<ne.length;x++){const R=ee[x],H=ne[x],W=R.el&&(R.type===kt||!Lh(R,H)||R.shapeFlag&70)?d(R.el):le;m(R,H,W,null,de,ye,q,P,!0)}},O=(ee,ne,le,de,ye,q,P)=>{if(le!==de){for(const x in de){if(q0(x))continue;const R=de[x],H=le[x];R!==H&&x!=="value"&&s(ee,x,H,R,P,ne.children,ye,q,me)}if(le!==tr)for(const x in le)!q0(x)&&!(x in de)&&s(ee,x,le[x],null,P,ne.children,ye,q,me);"value"in de&&s(ee,"value",le.value,de.value)}},F=(ee,ne,le,de,ye,q,P,x,R)=>{const H=ne.el=ee?ee.el:a(""),W=ne.anchor=ee?ee.anchor:a("");let{patchFlag:K,dynamicChildren:re,slotScopeIds:se}=ne;se&&(x=x?x.concat(se):se),ee==null?(i(H,le,de),i(W,le,de),T(ne.children,le,W,ye,q,P,x,R)):K>0&&K&64&&re&&ee.dynamicChildren?(A(ee.dynamicChildren,re,le,ye,q,P,x),(ne.key!=null||ye&&ne===ye.subTree)&&fz(ee,ne,!0)):ie(ee,ne,le,W,ye,q,P,x,R)},U=(ee,ne,le,de,ye,q,P,x,R)=>{ne.slotScopeIds=x,ee==null?ne.shapeFlag&512?ye.ctx.activate(ne,le,de,P,R):V(ne,le,de,ye,q,P,R):G(ee,ne,R)},V=(ee,ne,le,de,ye,q,P)=>{const x=ee.component=due(ee,de,ye);if(HE(ee)&&(x.ctx.renderer=rt),fue(x),x.asyncDep){if(ye&&ye.registerDep(x,j),!ee.el){const R=x.subTree=be(ua);_(null,R,ne,le)}return}j(x,ee,ne,le,ye,q,P)},G=(ee,ne,le)=>{const de=ne.component=ee.component;if($Ne(ee,ne,le))if(de.asyncDep&&!de.asyncResolved){X(de,ne,le);return}else de.next=ne,NNe(de.update),de.update();else ne.component=ee.component,ne.el=ee.el,de.vnode=ne},j=(ee,ne,le,de,ye,q,P)=>{const x=()=>{if(ee.isMounted){let{next:W,bu:K,u:re,parent:se,vnode:ve}=ee,Re=W,ge;Hv(ee,!1),W?(W.el=ve.el,X(ee,W,P)):W=ve,K&&RC(K),(ge=W.props&&W.props.onVnodeBeforeUpdate)&&wl(ge,se,W,ve),Hv(ee,!0);const Ie=NN(ee),Pe=ee.subTree;ee.subTree=Ie,m(Pe,Ie,d(Pe.el),Ne(Pe),ee,ye,q),W.el=Ie.el,Re===null&&az(ee,Ie.el),re&&Jo(re,ye),(ge=W.props&&W.props.onVnodeUpdated)&&Jo(()=>wl(ge,se,W,ve),ye)}else{let W;const{el:K,props:re}=ne,{bm:se,m:ve,parent:Re}=ee,ge=BL(ne);if(Hv(ee,!1),se&&RC(se),!ge&&(W=re&&re.onVnodeBeforeMount)&&wl(W,Re,ne),Hv(ee,!0),K&&Ve){const Ie=()=>{ee.subTree=NN(ee),Ve(K,ee.subTree,ee,ye,null)};ge?ne.type.__asyncLoader().then(()=>!ee.isUnmounted&&Ie()):Ie()}else{const Ie=ee.subTree=NN(ee);m(null,Ie,le,de,ee,ye,q),ne.el=Ie.el}if(ve&&Jo(ve,ye),!ge&&(W=re&&re.onVnodeMounted)){const Ie=ne;Jo(()=>wl(W,Re,Ie),ye)}ne.shapeFlag&256&&ee.a&&Jo(ee.a,ye),ee.isMounted=!0,ne=le=de=null}},R=ee.effect=new VE(x,()=>iz(ee.update),ee.scope),H=ee.update=R.run.bind(R);H.id=ee.uid,Hv(ee,!0),H()},X=(ee,ne,le)=>{ne.component=ee;const de=ee.vnode.props;ee.vnode=ne,ee.next=null,oxe(ee,ne.props,de,le),uxe(ee,ne.children,le),m1(),sz(void 0,ee.update),v1()},ie=(ee,ne,le,de,ye,q,P,x,R=!1)=>{const H=ee&&ee.children,W=ee?ee.shapeFlag:0,K=ne.children,{patchFlag:re,shapeFlag:se}=ne;if(re>0){if(re&128){Be(H,K,le,de,ye,q,P,x,R);return}else if(re&256){Ce(H,K,le,de,ye,q,P,x,R);return}}se&8?(W&16&&me(H,ye,q),K!==H&&c(le,K)):W&16?se&16?Be(H,K,le,de,ye,q,P,x,R):me(H,ye,q,!0):(W&8&&c(le,""),se&16&&T(K,le,de,ye,q,P,x,R))},Ce=(ee,ne,le,de,ye,q,P,x,R)=>{ee=ee||xC,ne=ne||xC;const H=ee.length,W=ne.length,K=Math.min(H,W);let re;for(re=0;re<K;re++){const se=ne[re]=R?zp(ne[re]):hu(ne[re]);m(ee[re],se,le,null,ye,q,P,x,R)}H>W?me(ee,ye,q,!0,!1,K):T(ne,le,de,ye,q,P,x,R,K)},Be=(ee,ne,le,de,ye,q,P,x,R)=>{let H=0;const W=ne.length;let K=ee.length-1,re=W-1;for(;H<=K&&H<=re;){const se=ee[H],ve=ne[H]=R?zp(ne[H]):hu(ne[H]);if(Lh(se,ve))m(se,ve,le,null,ye,q,P,x,R);else break;H++}for(;H<=K&&H<=re;){const se=ee[K],ve=ne[re]=R?zp(ne[re]):hu(ne[re]);if(Lh(se,ve))m(se,ve,le,null,ye,q,P,x,R);else break;K--,re--}if(H>K){if(H<=re){const se=re+1,ve=se<W?ne[se].el:de;for(;H<=re;)m(null,ne[H]=R?zp(ne[H]):hu(ne[H]),le,ve,ye,q,P,x,R),H++}}else if(H>re)for(;H<=K;)ke(ee[H],ye,q,!0),H++;else{const se=H,ve=H,Re=new Map;for(H=ve;H<=re;H++){const Jt=ne[H]=R?zp(ne[H]):hu(ne[H]);Jt.key!=null&&Re.set(Jt.key,H)}let ge,Ie=0;const Pe=re-ve+1;let Ge=!1,bt=0;const Mt=new Array(Pe);for(H=0;H<Pe;H++)Mt[H]=0;for(H=se;H<=K;H++){const Jt=ee[H];if(Ie>=Pe){ke(Jt,ye,q,!0);continue}let sn;if(Jt.key!=null)sn=Re.get(Jt.key);else for(ge=ve;ge<=re;ge++)if(Mt[ge-ve]===0&&Lh(Jt,ne[ge])){sn=ge;break}sn===void 0?ke(Jt,ye,q,!0):(Mt[sn-ve]=H+1,sn>=bt?bt=sn:Ge=!0,m(Jt,ne[sn],le,null,ye,q,P,x,R),Ie++)}const pt=Ge?fxe(Mt):xC;for(ge=pt.length-1,H=Pe-1;H>=0;H--){const Jt=ve+H,sn=ne[Jt],vr=Jt+1<W?ne[Jt+1].el:de;Mt[H]===0?m(null,sn,le,vr,ye,q,P,x,R):Ge&&(ge<0||H!==pt[ge]?we(sn,le,vr,2):ge--)}}},we=(ee,ne,le,de,ye=null)=>{const{el:q,type:P,transition:x,children:R,shapeFlag:H}=ee;if(H&6){we(ee.component.subTree,ne,le,de);return}if(H&128){ee.suspense.move(ne,le,de);return}if(H&64){P.move(ee,ne,le,rt);return}if(P===kt){i(q,ne,le);for(let K=0;K<R.length;K++)we(R[K],ne,le,de);i(ee.anchor,ne,le);return}if(P===Z0){w(ee,ne,le);return}if(de!==2&&H&1&&x)if(de===0)x.beforeEnter(q),i(q,ne,le),Jo(()=>x.enter(q),ye);else{const{leave:K,delayLeave:re,afterLeave:se}=x,ve=()=>i(q,ne,le),Re=()=>{K(q,()=>{ve(),se&&se()})};re?re(q,ve,Re):Re()}else i(q,ne,le)},ke=(ee,ne,le,de=!1,ye=!1)=>{const{type:q,props:P,ref:x,children:R,dynamicChildren:H,shapeFlag:W,patchFlag:K,dirs:re}=ee;if(x!=null&&uM(x,null,le,ee,!0),W&256){ne.ctx.deactivate(ee);return}const se=W&1&&re,ve=!BL(ee);let Re;if(ve&&(Re=P&&P.onVnodeBeforeUnmount)&&wl(Re,ne,ee),W&6)pe(ee.component,le,de);else{if(W&128){ee.suspense.unmount(le,de);return}se&&fh(ee,null,ne,"beforeUnmount"),W&64?ee.type.remove(ee,ne,le,ye,rt,de):H&&(q!==kt||K>0&&K&64)?me(H,ne,le,!1,!0):(q===kt&&K&384||!ye&&W&16)&&me(R,ne,le),de&&Se(ee)}(ve&&(Re=P&&P.onVnodeUnmounted)||se)&&Jo(()=>{Re&&wl(Re,ne,ee),se&&fh(ee,null,ne,"unmounted")},le)},Se=ee=>{const{type:ne,el:le,anchor:de,transition:ye}=ee;if(ne===kt){fe(le,de);return}if(ne===Z0){S(ee);return}const q=()=>{r(le),ye&&!ye.persisted&&ye.afterLeave&&ye.afterLeave()};if(ee.shapeFlag&1&&ye&&!ye.persisted){const{leave:P,delayLeave:x}=ye,R=()=>P(le,q);x?x(ee.el,q,R):R()}else q()},fe=(ee,ne)=>{let le;for(;ee!==ne;)le=h(ee),r(ee),ee=le;r(ne)},pe=(ee,ne,le)=>{const{bum:de,scope:ye,update:q,subTree:P,um:x}=ee;de&&RC(de),ye.stop(),q&&(q.active=!1,ke(P,ee,ne,le)),x&&Jo(x,ne),Jo(()=>{ee.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&ee.asyncDep&&!ee.asyncResolved&&ee.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},me=(ee,ne,le,de=!1,ye=!1,q=0)=>{for(let P=q;P<ee.length;P++)ke(ee[P],ne,le,de,ye)},Ne=ee=>ee.shapeFlag&6?Ne(ee.component.subTree):ee.shapeFlag&128?ee.suspense.next():h(ee.anchor||ee.el),je=(ee,ne,le)=>{ee==null?ne._vnode&&ke(ne._vnode,null,null,!0):m(ne._vnode||null,ee,ne,null,null,null,le),aM(),ne._vnode=ee},rt={p:m,um:ke,m:we,r:Se,mt:V,mc:T,pc:ie,pbc:A,n:Ne,o:n};let xe,Ve;return e&&([xe,Ve]=e(rt)),{render:je,hydrate:xe,createApp:dxe(je,xe)}}function Hv({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function fz(n,e,t=!1){const i=n.children,r=e.children;if(Xt(i)&&Xt(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=zp(r[s]),a.el=o.el),t||fz(o,a))}}function fxe(n){const e=n.slice(),t=[0];let i,r,s,o,a;const l=n.length;for(i=0;i<l;i++){const u=n[i];if(u!==0){if(r=t[t.length-1],n[r]<u){e[i]=r,t.push(i);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,n[t[a]]<u?s=a+1:o=a;u<n[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}const gxe=n=>n.__isTeleport,D2=n=>n&&(n.disabled||n.disabled===""),pQ=n=>typeof SVGElement!="undefined"&&n instanceof SVGElement,vB=(n,e)=>{const t=n&&n.to;return si(t)?e?e(t):null:t},pxe={__isTeleport:!0,process(n,e,t,i,r,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:g,createText:p,createComment:m}}=u,b=D2(e.props);let{shapeFlag:_,children:C,dynamicChildren:w}=e;if(n==null){const S=e.el=p(""),D=e.anchor=p("");f(S,t,i),f(D,t,i);const E=e.target=vB(e.props,g),I=e.targetAnchor=p("");E&&(f(I,E),o=o||pQ(E));const T=(M,A)=>{_&16&&c(C,M,A,r,s,o,a,l)};b?T(t,D):E&&T(E,I)}else{e.el=n.el;const S=e.anchor=n.anchor,D=e.target=n.target,E=e.targetAnchor=n.targetAnchor,I=D2(n.props),T=I?t:D,M=I?S:E;if(o=o||pQ(D),w?(h(n.dynamicChildren,w,T,r,s,o,a),fz(n,e,!0)):l||d(n,e,T,M,r,s,o,a,!1),b)I||jI(e,t,S,u,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const A=e.target=vB(e.props,g);A&&jI(e,A,null,u,0)}else I&&jI(e,D,E,u,1)}},remove(n,e,t,i,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=n;if(d&&s(c),(o||!D2(h))&&(s(u),a&16))for(let f=0;f<l.length;f++){const g=l[f];r(g,e,t,!0,!!g.dynamicChildren)}},move:jI,hydrate:mxe};function jI(n,e,t,{o:{insert:i},m:r},s=2){s===0&&i(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=n,d=s===2;if(d&&i(o,e,t),(!d||D2(c))&&l&16)for(let h=0;h<u.length;h++)r(u[h],e,t,2);d&&i(a,e,t)}function mxe(n,e,t,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=vB(e.props,l);if(c){const d=c._lpa||c.firstChild;e.shapeFlag&16&&(D2(e.props)?(e.anchor=u(o(n),e,a(n),t,i,r,s),e.targetAnchor=d):(e.anchor=o(n),e.targetAnchor=u(d,e,c,t,i,r,s)),c._lpa=e.targetAnchor&&o(e.targetAnchor))}return e.anchor&&o(e.anchor)}const zE=pxe,gz="components",vxe="directives";function Te(n,e){return pz(gz,n,!0,e)||n}const sue=Symbol();function Bn(n){return si(n)?pz(gz,n,!1)||n:n||sue}function xa(n){return pz(vxe,n)}function pz(n,e,t=!0,i=!1){const r=yu||Do;if(r){const s=r.type;if(n===gz){const a=hM(s);if(a&&(a===e||a===la(e)||a===p1(la(e))))return s}const o=mQ(r[n]||s[n],e)||mQ(r.appContext[n],e);return!o&&i?s:o}}function mQ(n,e){return n&&(n[e]||n[la(e)]||n[p1(la(e))])}const kt=Symbol(void 0),Fm=Symbol(void 0),ua=Symbol(void 0),Z0=Symbol(void 0),I2=[];let Wh=null;function B(n=!1){I2.push(Wh=n?null:[])}function oue(){I2.pop(),Wh=I2[I2.length-1]||null}let vy=1;function _B(n){vy+=n}function aue(n){return n.dynamicChildren=vy>0?Wh||xC:null,oue(),vy>0&&Wh&&Wh.push(n),n}function te(n,e,t,i,r,s){return aue(oe(n,e,t,i,r,s,!0))}function Oe(n,e,t,i,r){return aue(be(n,e,t,i,r,!0))}function Rr(n){return n?n.__v_isVNode===!0:!1}function Lh(n,e){return n.type===e.type&&n.key===e.key}function _xe(n){}const gO="__vInternal",lue=({key:n})=>n!=null?n:null,xN=({ref:n,ref_key:e,ref_for:t})=>n!=null?si(n)||es(n)||Hn(n)?{i:yu,r:n,k:e,f:!!t}:n:null;function oe(n,e=null,t=null,i=0,r=null,s=n===kt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&lue(e),ref:e&&xN(e),scopeId:dO,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(mz(l,t),s&128&&n.normalize(l)):t&&(l.shapeFlag|=si(t)?8:16),vy>0&&!o&&Wh&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Wh.push(l),l}const be=bxe;function bxe(n,e=null,t=null,i=0,r=null,s=!1){if((!n||n===sue)&&(n=ua),Rr(n)){const a=$g(n,e,!0);return t&&mz(a,t),a}if(Txe(n)&&(n=n.__vccOpts),e){e=Bm(e);let{class:a,style:l}=e;a&&!si(a)&&(e.class=Z(a)),bs(l)&&(ZH(l)&&!Xt(l)&&(l=ir({},l)),e.style=wt(l))}const o=si(n)?1:VNe(n)?128:gxe(n)?64:bs(n)?4:Hn(n)?2:0;return oe(n,e,t,i,r,o,s,!0)}function Bm(n){return n?ZH(n)||gO in n?ir({},n):n:null}function $g(n,e,t=!1){const{props:i,ref:r,patchFlag:s,children:o}=n,a=e?lo(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&lue(a),ref:e&&e.ref?t&&r?Xt(r)?r.concat(xN(e)):[r,xN(e)]:xN(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==kt?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&$g(n.ssContent),ssFallback:n.ssFallback&&$g(n.ssFallback),el:n.el,anchor:n.anchor}}function xn(n=" ",e=0){return be(Fm,null,n,e)}function Cxe(n,e){const t=be(Z0,null,n);return t.staticCount=e,t}function Fe(n="",e=!1){return e?(B(),Oe(ua,null,n)):be(ua,null,n)}function hu(n){return n==null||typeof n=="boolean"?be(ua):Xt(n)?be(kt,null,n.slice()):typeof n=="object"?zp(n):be(Fm,null,String(n))}function zp(n){return n.el===null||n.memo?n:$g(n)}function mz(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Xt(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),mz(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(gO in e)?e._ctx=yu:r===3&&yu&&(yu.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Hn(e)?(e={default:e,_ctx:yu},t=32):(e=String(e),i&64?(t=16,e=[xn(e)]):t=8);n.children=e,n.shapeFlag|=t}function lo(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Z([e.class,i.class]));else if(r==="style")e.style=wt([e.style,i.style]);else if(f1(r)){const s=e[r],o=i[r];o&&s!==o&&!(Xt(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function wl(n,e,t,i=null){Eu(n,e,7,[t,i])}function $n(n,e,t,i){let r;const s=t&&t[i];if(Xt(n)||si(n)){r=new Array(n.length);for(let o=0,a=n.length;o<a;o++)r[o]=e(n[o],o,void 0,s&&s[o])}else if(typeof n=="number"){r=new Array(n);for(let o=0;o<n;o++)r[o]=e(o+1,o,void 0,s&&s[o])}else if(bs(n))if(n[Symbol.iterator])r=Array.from(n,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(n);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];r[a]=e(n[u],u,a,s&&s[a])}}else r=[];return t&&(t[i]=r),r}function _y(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(Xt(i))for(let r=0;r<i.length;r++)n[i[r].name]=i[r].fn;else i&&(n[i.name]=i.fn)}return n}function Xe(n,e,t={},i,r){if(yu.isCE)return be("slot",e==="default"?null:{name:e},i&&i());let s=n[e];s&&s._c&&(s._d=!1),B();const o=s&&uue(s(t)),a=Oe(kt,{key:t.key||`_${e}`},o||(i?i():[]),o&&n._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function uue(n){return n.some(e=>Rr(e)?!(e.type===ua||e.type===kt&&!uue(e.children)):!0)?n:null}function cue(n){const e={};for(const t in n)e[AC(t)]=n[t];return e}const bB=n=>n?hue(n)?vz(n)||n.proxy:bB(n.parent):null,cM=ir(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>bB(n.parent),$root:n=>bB(n.root),$emit:n=>n.emit,$options:n=>Yle(n),$forceUpdate:n=>()=>iz(n.update),$nextTick:n=>Nt.bind(n.proxy),$watch:n=>qNe.bind(n)}),CB={get({_:n},e){const{ctx:t,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=n;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return s[e]}else{if(i!==tr&&qi(i,e))return o[e]=1,i[e];if(r!==tr&&qi(r,e))return o[e]=2,r[e];if((u=n.propsOptions[0])&&qi(u,e))return o[e]=3,s[e];if(t!==tr&&qi(t,e))return o[e]=4,t[e];gB&&(o[e]=0)}}const c=cM[e];let d,h;if(c)return e==="$attrs"&&Au(n,"get",e),c(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==tr&&qi(t,e))return o[e]=4,t[e];if(h=l.config.globalProperties,qi(h,e))return h[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:s}=n;return r!==tr&&qi(r,e)?(r[e]=t,!0):i!==tr&&qi(i,e)?(i[e]=t,!0):qi(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!t[o]||n!==tr&&qi(n,o)||e!==tr&&qi(e,o)||(a=s[0])&&qi(a,o)||qi(i,o)||qi(cM,o)||qi(r.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?this.set(n,e,t.get(),null):t.value!=null&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},yxe=ir({},CB,{get(n,e){if(e!==Symbol.unscopables)return CB.get(n,e,n)},has(n,e){return e[0]!=="_"&&!STe(e)}}),wxe=tue();let Sxe=0;function due(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||wxe,s={uid:Sxe++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new KH(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zle(i,r),emitsOptions:Ple(i,r),emit:null,emitted:null,propsDefaults:tr,inheritAttrs:i.inheritAttrs,ctx:tr,data:tr,props:tr,attrs:tr,slots:tr,refs:tr,setupState:tr,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=MNe.bind(null,s),n.ce&&n.ce(s),s}let Do=null;const en=()=>Do||yu,$m=n=>{Do=n,n.scope.on()},pm=()=>{Do&&Do.scope.off(),Do=null};function hue(n){return n.vnode.shapeFlag&4}let by=!1;function fue(n,e=!1){by=e;const{props:t,children:i}=n.vnode,r=hue(n);sxe(n,t,r,e),lxe(n,i);const s=r?Lxe(n,e):void 0;return by=!1,s}function Lxe(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=py(new Proxy(n.ctx,CB));const{setup:i}=t;if(i){const r=n.setupContext=i.length>1?mue(n):null;$m(n),m1();const s=Vh(i,n,0,[n.props,r]);if(v1(),pm(),UH(s)){if(s.then(pm,pm),e)return s.then(o=>{yB(n,o,e)}).catch(o=>{_1(o,n,0)});n.asyncDep=s}else yB(n,s,e)}else pue(n,e)}function yB(n,e,t){Hn(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:bs(e)&&(n.setupState=ez(e)),pue(n,t)}let dM,wB;function gue(n){dM=n,wB=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,yxe))}}const kxe=()=>!dM;function pue(n,e,t){const i=n.type;if(!n.render){if(!e&&dM&&!i.render){const r=i.template;if(r){const{isCustomElement:s,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,u=ir(ir({isCustomElement:s,delimiters:a},o),l);i.render=dM(r,u)}}n.render=i.render||tl,wB&&wB(n)}$m(n),m1(),exe(n),v1(),pm()}function Exe(n){return new Proxy(n.attrs,{get(e,t){return Au(n,"get","$attrs"),e[t]}})}function mue(n){const e=i=>{n.exposed=i||{}};let t;return{get attrs(){return t||(t=Exe(n))},slots:n.slots,emit:n.emit,expose:e}}function vz(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(ez(py(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in cM)return cM[t](n)}}))}const Dxe=/(?:^|[-_])(\w)/g,Ixe=n=>n.replace(Dxe,e=>e.toUpperCase()).replace(/[-_]/g,"");function hM(n){return Hn(n)&&n.displayName||n.name}function vue(n,e,t=!1){let i=hM(e);if(!i&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&n&&n.parent){const r=s=>{for(const o in s)if(s[o]===e)return o};i=r(n.components||n.parent.type.components)||r(n.appContext.components)}return i?Ixe(i):t?"App":"Anonymous"}function Txe(n){return Hn(n)&&"__vccOpts"in n}const z=(n,e)=>SNe(n,e,by);function Nxe(){return null}function xxe(){return null}function Mxe(n){}function Axe(n,e){return null}function _ue(){return bue().slots}function Rxe(){return bue().attrs}function bue(){const n=en();return n.setupContext||(n.setupContext=mue(n))}function Oxe(n,e){const t=Xt(n)?n.reduce((i,r)=>(i[r]={},i),{}):n;for(const i in e){const r=t[i];r?Xt(r)||Hn(r)?t[i]={type:r,default:e[i]}:r.default=e[i]:r===null&&(t[i]={default:e[i]})}return t}function Pxe(n,e){const t={};for(const i in n)e.includes(i)||Object.defineProperty(t,i,{enumerable:!0,get:()=>n[i]});return t}function Fxe(n){const e=en();let t=n();return pm(),UH(t)&&(t=t.catch(i=>{throw $m(e),i})),[t,()=>$m(e)]}function st(n,e,t){const i=arguments.length;return i===2?bs(e)&&!Xt(e)?Rr(e)?be(n,null,[e]):be(n,e):be(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&Rr(t)&&(t=[t]),be(n,e,t))}const Cue=Symbol(""),Bxe=()=>{{const n=mt(Cue);return n||tz("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),n}};function $xe(){}function Vxe(n,e,t,i){const r=t[i];if(r&&yue(r,n))return r;const s=e();return s.memo=n.slice(),t[i]=s}function yue(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return vy>0&&Wh&&Wh.push(n),!0}const wue="3.2.31",Wxe={createComponentInstance:due,setupComponent:fue,renderComponentRoot:NN,setCurrentRenderingInstance:PL,isVNode:Rr,normalizeVNode:hu},Hxe=Wxe,zxe=null,Uxe=null,jxe="http://www.w3.org/2000/svg",f0=typeof document!="undefined"?document:null,vQ=f0&&f0.createElement("template"),Kxe={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e?f0.createElementNS(jxe,n):f0.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>f0.createTextNode(n),createComment:n=>f0.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>f0.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){const e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,i,r,s){const o=t?t.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===s||!(r=r.nextSibling)););else{vQ.innerHTML=i?`<svg>${n}</svg>`:n;const a=vQ.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function Gxe(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function qxe(n,e,t){const i=n.style,r=si(t);if(t&&!r){for(const s in t)SB(i,s,t[s]);if(e&&!si(e))for(const s in e)t[s]==null&&SB(i,s,"")}else{const s=i.display;r?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=s)}}const _Q=/\s*!important$/;function SB(n,e,t){if(Xt(t))t.forEach(i=>SB(n,e,i));else if(e.startsWith("--"))n.setProperty(e,t);else{const i=Yxe(n,e);_Q.test(t)?n.setProperty(Cd(i),t.replace(_Q,""),"important"):n[i]=t}}const bQ=["Webkit","Moz","ms"],B5={};function Yxe(n,e){const t=B5[e];if(t)return t;let i=la(e);if(i!=="filter"&&i in n)return B5[e]=i;i=p1(i);for(let r=0;r<bQ.length;r++){const s=bQ[r]+i;if(s in n)return B5[e]=s}return e}const CQ="http://www.w3.org/1999/xlink";function Xxe(n,e,t,i,r){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(CQ,e.slice(6,e.length)):n.setAttributeNS(CQ,e,t);else{const s=kTe(e);t==null||s&&!lle(t)?n.removeAttribute(e):n.setAttribute(e,s?"":t)}}function Zxe(n,e,t,i,r,s,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,r,s),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const a=t==null?"":t;(n.value!==a||n.tagName==="OPTION")&&(n.value=a),t==null&&n.removeAttribute(e);return}if(t===""||t==null){const a=typeof n[e];if(a==="boolean"){n[e]=lle(t);return}else if(t==null&&a==="string"){n[e]="",n.removeAttribute(e);return}else if(a==="number"){try{n[e]=0}catch{}n.removeAttribute(e);return}}try{n[e]=t}catch{}}let fM=Date.now,Sue=!1;if(typeof window!="undefined"){fM()>document.createEvent("Event").timeStamp&&(fM=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);Sue=!!(n&&Number(n[1])<=53)}let LB=0;const Qxe=Promise.resolve(),Jxe=()=>{LB=0},eMe=()=>LB||(Qxe.then(Jxe),LB=fM());function lg(n,e,t,i){n.addEventListener(e,t,i)}function tMe(n,e,t,i){n.removeEventListener(e,t,i)}function nMe(n,e,t,i,r=null){const s=n._vei||(n._vei={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=iMe(e);if(i){const u=s[e]=rMe(i,r);lg(n,a,u,l)}else o&&(tMe(n,a,o,l),s[e]=void 0)}}const yQ=/(?:Once|Passive|Capture)$/;function iMe(n){let e;if(yQ.test(n)){e={};let t;for(;t=n.match(yQ);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[Cd(n.slice(2)),e]}function rMe(n,e){const t=i=>{const r=i.timeStamp||fM();(Sue||r>=t.attached-1)&&Eu(sMe(i,t.value),e,5,[i])};return t.value=n,t.attached=eMe(),t}function sMe(n,e){if(Xt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const wQ=/^on[a-z]/,oMe=(n,e,t,i,r=!1,s,o,a,l)=>{e==="class"?Gxe(n,i,r):e==="style"?qxe(n,t,i):f1(e)?HH(e)||nMe(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):aMe(n,e,i,r))?Zxe(n,e,i,s,o,a,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),Xxe(n,e,i,r))};function aMe(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&wQ.test(e)&&Hn(t)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||wQ.test(e)&&si(t)?!1:e in n}function Lue(n,e){const t=Me(n);class i extends pO{constructor(s){super(t,s,e)}}return i.def=t,i}const lMe=n=>Lue(n,Fue),uMe=typeof HTMLElement!="undefined"?HTMLElement:class{};class pO extends uMe{constructor(e,t={},i){super();this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Nt(()=>{this._connected||(Vg(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const r of i)this._setAttr(r.attributeName)}).observe(this,{attributes:!0});const e=i=>{const{props:r,styles:s}=i,o=!Xt(r),a=r?o?Object.keys(r):r:[];let l;if(o)for(const u in this._props){const c=r[u];(c===Number||c&&c.type===Number)&&(this._props[u]=Om(this._props[u]),(l||(l=Object.create(null)))[u]=!0)}this._numberProps=l;for(const u of Object.keys(this))u[0]!=="_"&&this._setProp(u,this[u],!0,!1);for(const u of a.map(la))Object.defineProperty(this,u,{get(){return this._getProp(u)},set(c){this._setProp(u,c)}});this._applyStyles(s),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=Om(t)),this._setProp(la(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,i=!0,r=!0){t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),i&&(t===!0?this.setAttribute(Cd(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Cd(e),t+""):t||this.removeAttribute(Cd(e))))}_update(){Vg(this._createVNode(),this.shadowRoot)}_createVNode(){const e=be(this._def,ir({},this._props));return this._instance||(e.ce=t=>{this._instance=t,t.isCE=!0,t.emit=(r,...s)=>{this.dispatchEvent(new CustomEvent(r,{detail:s}))};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof pO){t.parent=i._instance;break}}),e}_applyStyles(e){e&&e.forEach(t=>{const i=document.createElement("style");i.textContent=t,this.shadowRoot.appendChild(i)})}}function cMe(n="$style"){{const e=en();if(!e)return tr;const t=e.type.__cssModules;if(!t)return tr;const i=t[n];return i||tr}}function dMe(n){const e=en();if(!e)return;const t=()=>kB(e.subTree,n(e.proxy));Ble(t),rn(()=>{const i=new MutationObserver(t);i.observe(e.subTree.el.parentNode,{childList:!0}),b1(()=>i.disconnect())})}function kB(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{kB(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)SQ(n.el,e);else if(n.type===kt)n.children.forEach(t=>kB(t,e));else if(n.type===Z0){let{el:t,anchor:i}=n;for(;t&&(SQ(t,e),t!==i);)t=t.nextSibling}}function SQ(n,e){if(n.nodeType===1){const t=n.style;for(const i in e)t.setProperty(`--${i}`,e[i])}}const Lp="transition",wS="animation",Cs=(n,{slots:e})=>st(cz,Eue(n),e);Cs.displayName="Transition";const kue={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hMe=Cs.props=ir({},cz.props,kue),zv=(n,e=[])=>{Xt(n)?n.forEach(t=>t(...e)):n&&n(...e)},LQ=n=>n?Xt(n)?n.some(e=>e.length>1):n.length>1:!1;function Eue(n){const e={};for(const O in n)O in kue||(e[O]=n[O]);if(n.css===!1)return e;const{name:t="v",type:i,duration:r,enterFromClass:s=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=n,g=fMe(r),p=g&&g[0],m=g&&g[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:C,onLeave:w,onLeaveCancelled:S,onBeforeAppear:D=b,onAppear:E=_,onAppearCancelled:I=C}=e,T=(O,F,U)=>{n0(O,F?c:a),n0(O,F?u:o),U&&U()},M=(O,F)=>{n0(O,f),n0(O,h),F&&F()},A=O=>(F,U)=>{const V=O?E:_,G=()=>T(F,O,U);zv(V,[F,G]),kQ(()=>{n0(F,O?l:s),Uf(F,O?c:a),LQ(V)||EQ(F,i,p,G)})};return ir(e,{onBeforeEnter(O){zv(b,[O]),Uf(O,s),Uf(O,o)},onBeforeAppear(O){zv(D,[O]),Uf(O,l),Uf(O,u)},onEnter:A(!1),onAppear:A(!0),onLeave(O,F){const U=()=>M(O,F);Uf(O,d),Iue(),Uf(O,h),kQ(()=>{n0(O,d),Uf(O,f),LQ(w)||EQ(O,i,m,U)}),zv(w,[O,U])},onEnterCancelled(O){T(O,!1),zv(C,[O])},onAppearCancelled(O){T(O,!0),zv(I,[O])},onLeaveCancelled(O){M(O),zv(S,[O])}})}function fMe(n){if(n==null)return null;if(bs(n))return[$5(n.enter),$5(n.leave)];{const e=$5(n);return[e,e]}}function $5(n){return Om(n)}function Uf(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function n0(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function kQ(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let gMe=0;function EQ(n,e,t,i){const r=n._endId=++gMe,s=()=>{r===n._endId&&i()};if(t)return setTimeout(s,t);const{type:o,timeout:a,propCount:l}=Due(n,e);if(!o)return i();const u=o+"end";let c=0;const d=()=>{n.removeEventListener(u,h),s()},h=f=>{f.target===n&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),n.addEventListener(u,h)}function Due(n,e){const t=window.getComputedStyle(n),i=g=>(t[g]||"").split(", "),r=i(Lp+"Delay"),s=i(Lp+"Duration"),o=DQ(r,s),a=i(wS+"Delay"),l=i(wS+"Duration"),u=DQ(a,l);let c=null,d=0,h=0;e===Lp?o>0&&(c=Lp,d=o,h=s.length):e===wS?u>0&&(c=wS,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Lp:wS:null,h=c?c===Lp?s.length:l.length:0);const f=c===Lp&&/\b(transform|all)(,|$)/.test(t[Lp+"Property"]);return{type:c,timeout:d,propCount:h,hasTransform:f}}function DQ(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>IQ(t)+IQ(n[i])))}function IQ(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function Iue(){return document.body.offsetHeight}const Tue=new WeakMap,Nue=new WeakMap,pMe={name:"TransitionGroup",props:ir({},hMe,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=en(),i=uz();let r,s;return Xl(()=>{if(!r.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!bMe(r[0].el,t.vnode.el,o))return;r.forEach(mMe),r.forEach(vMe);const a=r.filter(_Me);Iue(),a.forEach(l=>{const u=l.el,c=u.style;Uf(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u._moveCb=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,n0(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=wi(n),a=Eue(o);let l=o.tag||kt;r=s,s=e.default?hO(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&L_(c,my(c,a,i,t))}if(r)for(let u=0;u<r.length;u++){const c=r[u];L_(c,my(c,a,i,t)),Tue.set(c,c.el.getBoundingClientRect())}return be(l,null,s)}}},xue=pMe;function mMe(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function vMe(n){Nue.set(n,n.el.getBoundingClientRect())}function _Me(n){const e=Tue.get(n),t=Nue.get(n),i=e.left-t.left,r=e.top-t.top;if(i||r){const s=n.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",n}}function bMe(n,e,t){const i=n.cloneNode();n._vtc&&n._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),t.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:s}=Due(i);return r.removeChild(i),s}const Vm=n=>{const e=n.props["onUpdate:modelValue"];return Xt(e)?t=>RC(e,t):e};function CMe(n){n.target.composing=!0}function TQ(n){const e=n.target;e.composing&&(e.composing=!1,yMe(e,"input"))}function yMe(n,e){const t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}const k_={created(n,{modifiers:{lazy:e,trim:t,number:i}},r){n._assign=Vm(r);const s=i||r.props&&r.props.type==="number";lg(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t?a=a.trim():s&&(a=Om(a)),n._assign(a)}),t&&lg(n,"change",()=>{n.value=n.value.trim()}),e||(lg(n,"compositionstart",CMe),lg(n,"compositionend",TQ),lg(n,"change",TQ))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:r}},s){if(n._assign=Vm(s),n.composing||document.activeElement===n&&(t||i&&n.value.trim()===e||(r||n.type==="number")&&Om(n.value)===e))return;const o=e==null?"":e;n.value!==o&&(n.value=o)}},E_={deep:!0,created(n,e,t){n._assign=Vm(t),lg(n,"change",()=>{const i=n._modelValue,r=Cy(n),s=n.checked,o=n._assign;if(Xt(i)){const a=iO(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const u=[...i];u.splice(a,1),o(u)}}else if(g1(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(Aue(n,s))})},mounted:NQ,beforeUpdate(n,e,t){n._assign=Vm(t),NQ(n,e,t)}};function NQ(n,{value:e,oldValue:t},i){n._modelValue=e,Xt(e)?n.checked=iO(e,i.props.value)>-1:g1(e)?n.checked=e.has(i.props.value):e!==t&&(n.checked=Rm(e,Aue(n,!0)))}const UE={created(n,{value:e},t){n.checked=Rm(e,t.props.value),n._assign=Vm(t),lg(n,"change",()=>{n._assign(Cy(n))})},beforeUpdate(n,{value:e,oldValue:t},i){n._assign=Vm(i),e!==t&&(n.checked=Rm(e,i.props.value))}},Mue={deep:!0,created(n,{value:e,modifiers:{number:t}},i){const r=g1(e);lg(n,"change",()=>{const s=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Om(Cy(o)):Cy(o));n._assign(n.multiple?r?new Set(s):s:s[0])}),n._assign=Vm(i)},mounted(n,{value:e}){xQ(n,e)},beforeUpdate(n,e,t){n._assign=Vm(t)},updated(n,{value:e}){xQ(n,e)}};function xQ(n,e){const t=n.multiple;if(!(t&&!Xt(e)&&!g1(e))){for(let i=0,r=n.options.length;i<r;i++){const s=n.options[i],o=Cy(s);if(t)Xt(e)?s.selected=iO(e,o)>-1:s.selected=e.has(o);else if(Rm(Cy(s),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Cy(n){return"_value"in n?n._value:n.value}function Aue(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const wMe={created(n,e,t){KI(n,e,t,null,"created")},mounted(n,e,t){KI(n,e,t,null,"mounted")},beforeUpdate(n,e,t,i){KI(n,e,t,i,"beforeUpdate")},updated(n,e,t,i){KI(n,e,t,i,"updated")}};function KI(n,e,t,i,r){let s;switch(n.tagName){case"SELECT":s=Mue;break;case"TEXTAREA":s=k_;break;default:switch(t.props&&t.props.type){case"checkbox":s=E_;break;case"radio":s=UE;break;default:s=k_}}const o=s[r];o&&o(n,e,t,i)}function SMe(){k_.getSSRProps=({value:n})=>({value:n}),UE.getSSRProps=({value:n},e)=>{if(e.props&&Rm(e.props.value,n))return{checked:!0}},E_.getSSRProps=({value:n},e)=>{if(Xt(n)){if(e.props&&iO(n,e.props.value)>-1)return{checked:!0}}else if(g1(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}}}const LMe=["ctrl","shift","alt","meta"],kMe={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>LMe.some(t=>n[`${t}Key`]&&!e.includes(t))},Ft=(n,e)=>(t,...i)=>{for(let r=0;r<e.length;r++){const s=kMe[e[r]];if(s&&s(t,e))return}return n(t,...i)},EMe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cn=(n,e)=>t=>{if(!("key"in t))return;const i=Cd(t.key);if(e.some(r=>r===i||EMe[r]===i))return n(t)},zn={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):SS(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),SS(n,!0),i.enter(n)):i.leave(n,()=>{SS(n,!1)}):SS(n,e))},beforeUnmount(n,{value:e}){SS(n,e)}};function SS(n,e){n.style.display=e?n._vod:"none"}function DMe(){zn.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const Rue=ir({patchProp:oMe},Kxe);let T2,MQ=!1;function Oue(){return T2||(T2=nue(Rue))}function Pue(){return T2=MQ?T2:iue(Rue),MQ=!0,T2}const Vg=(...n)=>{Oue().render(...n)},Fue=(...n)=>{Pue().hydrate(...n)},Bue=(...n)=>{const e=Oue().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=$ue(i);if(!r)return;const s=e._component;!Hn(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},IMe=(...n)=>{const e=Pue().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=$ue(i);if(r)return t(r,!0,r instanceof SVGElement)},e};function $ue(n){return si(n)?document.querySelector(n):n}let AQ=!1;const TMe=()=>{AQ||(AQ=!0,SMe(),DMe())};var NMe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Transition:Cs,TransitionGroup:xue,VueElement:pO,createApp:Bue,createSSRApp:IMe,defineCustomElement:Lue,defineSSRCustomElement:lMe,hydrate:Fue,initDirectivesForSSR:TMe,render:Vg,useCssModule:cMe,useCssVars:dMe,vModelCheckbox:E_,vModelDynamic:wMe,vModelRadio:UE,vModelSelect:Mue,vModelText:k_,vShow:zn,withKeys:Cn,withModifiers:Ft,EffectScope:KH,ReactiveEffect:VE,customRef:CNe,effect:UTe,effectScope:fle,getCurrentScope:ple,isProxy:ZH,isReactive:X0,isReadonly:gy,isRef:es,isShallow:XH,markRaw:py,onScopeDispose:GH,proxyRefs:ez,reactive:xi,readonly:xw,ref:J,shallowReactive:Ile,shallowReadonly:mNe,shallowRef:ra,stop:jTe,toRaw:wi,toRef:Uo,toRefs:Ko,triggerRef:jb,unref:Ue,camelize:la,capitalize:p1,normalizeClass:Z,normalizeProps:Am,normalizeStyle:wt,toDisplayString:Je,toHandlerKey:AC,BaseTransition:cz,Comment:ua,Fragment:kt,KeepAlive:QNe,Static:Z0,Suspense:HNe,Teleport:zE,Text:Fm,callWithAsyncErrorHandling:Eu,callWithErrorHandling:Vh,cloneVNode:$g,compatUtils:Uxe,computed:z,createBlock:Oe,createCommentVNode:Fe,createElementBlock:te,createElementVNode:oe,createHydrationRenderer:iue,createPropsRestProxy:Pxe,createRenderer:nue,createSlots:_y,createStaticVNode:Cxe,createTextVNode:xn,createVNode:be,defineAsyncComponent:XNe,defineComponent:Me,defineEmits:xxe,defineExpose:Mxe,defineProps:Nxe,get devtools(){return qb},getCurrentInstance:en,getTransitionRawChildren:hO,guardReactiveProps:Bm,h:st,handleError:_1,initCustomFormatter:$xe,inject:mt,isMemoSame:yue,isRuntimeOnly:kxe,isVNode:Rr,mergeDefaults:Oxe,mergeProps:lo,nextTick:Nt,onActivated:Wle,onBeforeMount:Mw,onBeforeUnmount:Er,onBeforeUpdate:dz,onDeactivated:Hle,onErrorCaptured:Gle,onMounted:rn,onRenderTracked:Kle,onRenderTriggered:jle,onServerPrefetch:Ule,onUnmounted:b1,onUpdated:Xl,openBlock:B,popScopeId:RNe,provide:vn,pushScopeId:ANe,queuePostFlushCb:rz,registerRuntimeCompiler:gue,renderList:$n,renderSlot:Xe,resolveComponent:Te,resolveDirective:xa,resolveDynamicComponent:Bn,resolveFilter:zxe,resolveTransitionHooks:my,setBlockTracking:_B,setDevtoolsHook:Ole,setTransitionHooks:L_,ssrContextKey:Cue,ssrUtils:Hxe,toHandlers:cue,transformVNodeArgs:_xe,useAttrs:Rxe,useSSRContext:Bxe,useSlots:_ue,useTransitionState:uz,version:wue,warn:tz,watch:Ze,watchEffect:yd,watchPostEffect:Ble,watchSyncEffect:GNe,withAsyncContext:Fxe,withCtx:De,withDefaults:Axe,withDirectives:Ht,withMemo:Vxe,withScopeId:ONe});function _z(n){throw n}function Vue(n){}function ms(n,e,t,i){const r=n,s=new SyntaxError(String(r));return s.code=n,s.loc=e,s}const $L=Symbol(""),N2=Symbol(""),bz=Symbol(""),gM=Symbol(""),Wue=Symbol(""),D_=Symbol(""),Hue=Symbol(""),zue=Symbol(""),Cz=Symbol(""),yz=Symbol(""),jE=Symbol(""),wz=Symbol(""),Uue=Symbol(""),Sz=Symbol(""),pM=Symbol(""),Lz=Symbol(""),kz=Symbol(""),Ez=Symbol(""),Dz=Symbol(""),jue=Symbol(""),Kue=Symbol(""),mO=Symbol(""),mM=Symbol(""),Iz=Symbol(""),Tz=Symbol(""),VL=Symbol(""),KE=Symbol(""),Nz=Symbol(""),EB=Symbol(""),xMe=Symbol(""),DB=Symbol(""),vM=Symbol(""),MMe=Symbol(""),AMe=Symbol(""),xz=Symbol(""),RMe=Symbol(""),OMe=Symbol(""),Mz=Symbol(""),Gue=Symbol(""),Wm={[$L]:"Fragment",[N2]:"Teleport",[bz]:"Suspense",[gM]:"KeepAlive",[Wue]:"BaseTransition",[D_]:"openBlock",[Hue]:"createBlock",[zue]:"createElementBlock",[Cz]:"createVNode",[yz]:"createElementVNode",[jE]:"createCommentVNode",[wz]:"createTextVNode",[Uue]:"createStaticVNode",[Sz]:"resolveComponent",[pM]:"resolveDynamicComponent",[Lz]:"resolveDirective",[kz]:"resolveFilter",[Ez]:"withDirectives",[Dz]:"renderList",[jue]:"renderSlot",[Kue]:"createSlots",[mO]:"toDisplayString",[mM]:"mergeProps",[Iz]:"normalizeClass",[Tz]:"normalizeStyle",[VL]:"normalizeProps",[KE]:"guardReactiveProps",[Nz]:"toHandlers",[EB]:"camelize",[xMe]:"capitalize",[DB]:"toHandlerKey",[vM]:"setBlockTracking",[MMe]:"pushScopeId",[AMe]:"popScopeId",[xz]:"withCtx",[RMe]:"unref",[OMe]:"isRef",[Mz]:"withMemo",[Gue]:"isMemoSame"};function PMe(n){Object.getOwnPropertySymbols(n).forEach(e=>{Wm[e]=n[e]})}const zu={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function FMe(n,e=zu){return{type:0,children:n,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function WL(n,e,t,i,r,s,o,a=!1,l=!1,u=!1,c=zu){return n&&(a?(n.helper(D_),n.helper(Sy(n.inSSR,u))):n.helper(wy(n.inSSR,u)),o&&n.helper(Ez)),{type:13,tag:e,props:t,children:i,patchFlag:r,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:u,loc:c}}function GE(n,e=zu){return{type:17,loc:e,elements:n}}function wc(n,e=zu){return{type:15,loc:e,properties:n}}function js(n,e){return{type:16,loc:zu,key:si(n)?fi(n,!0):n,value:e}}function fi(n,e=!1,t=zu,i=0){return{type:4,loc:t,content:n,isStatic:e,constType:e?3:i}}function Hh(n,e=zu){return{type:8,loc:e,children:n}}function to(n,e=[],t=zu){return{type:14,loc:t,callee:n,arguments:e}}function yy(n,e=void 0,t=!1,i=!1,r=zu){return{type:18,params:n,returns:e,newline:t,isSlot:i,loc:r}}function IB(n,e,t,i=!0){return{type:19,test:n,consequent:e,alternate:t,newline:i,loc:zu}}function BMe(n,e,t=!1){return{type:20,index:n,value:e,isVNode:t,loc:zu}}function $Me(n){return{type:21,body:n,loc:zu}}const Nl=n=>n.type===4&&n.isStatic,sC=(n,e)=>n===e||n===Cd(e);function que(n){if(sC(n,"Teleport"))return N2;if(sC(n,"Suspense"))return bz;if(sC(n,"KeepAlive"))return gM;if(sC(n,"BaseTransition"))return Wue}const VMe=/^\d|[^\$\w]/,Az=n=>!VMe.test(n),WMe=/[A-Za-z_$\xA0-\uFFFF]/,HMe=/[\.\?\w$\xA0-\uFFFF]/,zMe=/\s+[.[]\s*|\s*[.[]\s+/g,UMe=n=>{n=n.trim().replace(zMe,o=>o.trim());let e=0,t=[],i=0,r=0,s=null;for(let o=0;o<n.length;o++){const a=n.charAt(o);switch(e){case 0:if(a==="[")t.push(e),e=1,i++;else if(a==="(")t.push(e),e=2,r++;else if(!(o===0?WMe:HMe).test(a))return!1;break;case 1:a==="'"||a==='"'||a==="`"?(t.push(e),e=3,s=a):a==="["?i++:a==="]"&&(--i||(e=t.pop()));break;case 2:if(a==="'"||a==='"'||a==="`")t.push(e),e=3,s=a;else if(a==="(")r++;else if(a===")"){if(o===n.length-1)return!1;--r||(e=t.pop())}break;case 3:a===s&&(e=t.pop(),s=null);break}}return!i&&!r},Yue=UMe;function Xue(n,e,t){const r={source:n.source.slice(e,e+t),start:_M(n.start,n.source,e),end:n.end};return t!=null&&(r.end=_M(n.start,n.source,e+t)),r}function _M(n,e,t=e.length){return bM(ir({},n),e,t)}function bM(n,e,t=e.length){let i=0,r=-1;for(let s=0;s<t;s++)e.charCodeAt(s)===10&&(i++,r=s);return n.offset+=t,n.line+=i,n.column=r===-1?n.column+t:t-r,n}function vc(n,e,t=!1){for(let i=0;i<n.props.length;i++){const r=n.props[i];if(r.type===7&&(t||r.exp)&&(si(e)?r.name===e:e.test(r.name)))return r}}function vO(n,e,t=!1,i=!1){for(let r=0;r<n.props.length;r++){const s=n.props[r];if(s.type===6){if(t)continue;if(s.name===e&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&M0(s.arg,e))return s}}function M0(n,e){return!!(n&&Nl(n)&&n.content===e)}function jMe(n){return n.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function V5(n){return n.type===5||n.type===2}function KMe(n){return n.type===7&&n.name==="slot"}function CM(n){return n.type===1&&n.tagType===3}function yM(n){return n.type===1&&n.tagType===2}function wy(n,e){return n||e?Cz:yz}function Sy(n,e){return n||e?Hue:zue}const GMe=new Set([VL,KE]);function Zue(n,e=[]){if(n&&!si(n)&&n.type===14){const t=n.callee;if(!si(t)&&GMe.has(t))return Zue(n.arguments[0],e.concat(n))}return[n,e]}function wM(n,e,t){let i,r=n.type===13?n.props:n.arguments[2],s=[],o;if(r&&!si(r)&&r.type===14){const a=Zue(r);r=a[0],s=a[1],o=s[s.length-1]}if(r==null||si(r))i=wc([e]);else if(r.type===14){const a=r.arguments[0];!si(a)&&a.type===15?a.properties.unshift(e):r.callee===Nz?i=to(t.helper(mM),[wc([e]),r]):r.arguments.unshift(wc([e])),!i&&(i=r)}else if(r.type===15){let a=!1;if(e.key.type===4){const l=e.key.content;a=r.properties.some(u=>u.key.type===4&&u.key.content===l)}a||r.properties.unshift(e),i=r}else i=to(t.helper(mM),[wc([e]),r]),o&&o.callee===KE&&(o=s[s.length-2]);n.type===13?o?o.arguments[0]=i:n.props=i:o?o.arguments[0]=i:n.arguments[2]=i}function HL(n,e){return`_${e}_${n.replace(/[^\w]/g,(t,i)=>t==="-"?"_":n.charCodeAt(i).toString())}`}function qMe(n){return n.type===14&&n.callee===Mz?n.arguments[1].returns:n}function Rz(n,{helper:e,removeHelper:t,inSSR:i}){n.isBlock||(n.isBlock=!0,t(wy(i,n.isComponent)),e(D_),e(Sy(i,n.isComponent)))}function RQ(n,e){const t=e.options?e.options.compatConfig:e.compatConfig,i=t&&t[n];return n==="MODE"?i||3:i}function Q0(n,e){const t=RQ("MODE",e),i=RQ(n,e);return t===3?i===!0:i!==!1}function zL(n,e,t,...i){return Q0(n,e)}const YMe=/&(gt|lt|amp|apos|quot);/g,XMe={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},OQ={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:TN,isPreTag:TN,isCustomElement:TN,decodeEntities:n=>n.replace(YMe,(e,t)=>XMe[t]),onError:_z,onWarn:Vue,comments:!1};function ZMe(n,e={}){const t=QMe(n,e),i=Du(t);return FMe(Oz(t,0,[]),Rc(t,i))}function QMe(n,e){const t=ir({},OQ);let i;for(i in e)t[i]=e[i]===void 0?OQ[i]:e[i];return{options:t,column:1,line:1,offset:0,originalSource:n,source:n,inPre:!1,inVPre:!1,onWarn:t.onWarn}}function Oz(n,e,t){const i=_O(t),r=i?i.ns:0,s=[];for(;!aAe(n,e,t);){const a=n.source;let l;if(e===0||e===1){if(!n.inVPre&&Ea(a,n.options.delimiters[0]))l=sAe(n,e);else if(e===0&&a[0]==="<")if(a.length===1)pr(n,5,1);else if(a[1]==="!")Ea(a,"<!--")?l=eAe(n):Ea(a,"<!DOCTYPE")?l=LS(n):Ea(a,"<![CDATA[")?r!==0?l=JMe(n,t):(pr(n,1),l=LS(n)):(pr(n,11),l=LS(n));else if(a[1]==="/")if(a.length===2)pr(n,5,2);else if(a[2]===">"){pr(n,14,2),No(n,3);continue}else if(/[a-z]/i.test(a[2])){pr(n,23),TB(n,1,i);continue}else pr(n,12,2),l=LS(n);else/[a-z]/i.test(a[1])?(l=tAe(n,t),Q0("COMPILER_NATIVE_TEMPLATE",n)&&l&&l.tag==="template"&&!l.props.some(u=>u.type===7&&Que(u.name))&&(l=l.children)):a[1]==="?"?(pr(n,21,1),l=LS(n)):pr(n,12,1)}if(l||(l=oAe(n,e)),Xt(l))for(let u=0;u<l.length;u++)PQ(s,l[u]);else PQ(s,l)}let o=!1;if(e!==2&&e!==1){const a=n.options.whitespace!=="preserve";for(let l=0;l<s.length;l++){const u=s[l];if(!n.inPre&&u.type===2)if(/[^\t\r\n\f ]/.test(u.content))a&&(u.content=u.content.replace(/[\t\r\n\f ]+/g," "));else{const c=s[l-1],d=s[l+1];!c||!d||a&&(c.type===3||d.type===3||c.type===1&&d.type===1&&/[\r\n]/.test(u.content))?(o=!0,s[l]=null):u.content=" "}else u.type===3&&!n.options.comments&&(o=!0,s[l]=null)}if(n.inPre&&i&&n.options.isPreTag(i.tag)){const l=s[0];l&&l.type===2&&(l.content=l.content.replace(/^\r?\n/,""))}}return o?s.filter(Boolean):s}function PQ(n,e){if(e.type===2){const t=_O(n);if(t&&t.type===2&&t.loc.end.offset===e.loc.start.offset){t.content+=e.content,t.loc.end=e.loc.end,t.loc.source+=e.loc.source;return}}n.push(e)}function JMe(n,e){No(n,9);const t=Oz(n,3,e);return n.source.length===0?pr(n,6):No(n,3),t}function eAe(n){const e=Du(n);let t;const i=/--(\!)?>/.exec(n.source);if(!i)t=n.source.slice(4),No(n,n.source.length),pr(n,7);else{i.index<=3&&pr(n,0),i[1]&&pr(n,10),t=n.source.slice(4,i.index);const r=n.source.slice(0,i.index);let s=1,o=0;for(;(o=r.indexOf("<!--",s))!==-1;)No(n,o-s+1),o+4<r.length&&pr(n,16),s=o+1;No(n,i.index+i[0].length-s+1)}return{type:3,content:t,loc:Rc(n,e)}}function LS(n){const e=Du(n),t=n.source[1]==="?"?1:2;let i;const r=n.source.indexOf(">");return r===-1?(i=n.source.slice(t),No(n,n.source.length)):(i=n.source.slice(t,r),No(n,r+1)),{type:3,content:i,loc:Rc(n,e)}}function tAe(n,e){const t=n.inPre,i=n.inVPre,r=_O(e),s=TB(n,0,r),o=n.inPre&&!t,a=n.inVPre&&!i;if(s.isSelfClosing||n.options.isVoidTag(s.tag))return o&&(n.inPre=!1),a&&(n.inVPre=!1),s;e.push(s);const l=n.options.getTextMode(s,r),u=Oz(n,l,e);e.pop();{const c=s.props.find(d=>d.type===6&&d.name==="inline-template");if(c&&zL("COMPILER_INLINE_TEMPLATE",n,c.loc)){const d=Rc(n,s.loc.end);c.value={type:2,content:d.source,loc:d}}}if(s.children=u,NB(n.source,s.tag))TB(n,1,r);else if(pr(n,24,0,s.loc.start),n.source.length===0&&s.tag.toLowerCase()==="script"){const c=u[0];c&&Ea(c.loc.source,"<!--")&&pr(n,8)}return s.loc=Rc(n,s.loc.start),o&&(n.inPre=!1),a&&(n.inVPre=!1),s}const Que=Yl("if,else,else-if,for,slot");function TB(n,e,t){const i=Du(n),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(n.source),s=r[1],o=n.options.getNamespace(s,t);No(n,r[0].length),UL(n);const a=Du(n),l=n.source;n.options.isPreTag(s)&&(n.inPre=!0);let u=FQ(n,e);e===0&&!n.inVPre&&u.some(h=>h.type===7&&h.name==="pre")&&(n.inVPre=!0,ir(n,a),n.source=l,u=FQ(n,e).filter(h=>h.name!=="v-pre"));let c=!1;if(n.source.length===0?pr(n,9):(c=Ea(n.source,"/>"),e===1&&c&&pr(n,4),No(n,c?2:1)),e===1)return;let d=0;return n.inVPre||(s==="slot"?d=2:s==="template"?u.some(h=>h.type===7&&Que(h.name))&&(d=3):nAe(s,u,n)&&(d=1)),{type:1,ns:o,tag:s,tagType:d,props:u,isSelfClosing:c,children:[],loc:Rc(n,i),codegenNode:void 0}}function nAe(n,e,t){const i=t.options;if(i.isCustomElement(n))return!1;if(n==="component"||/^[A-Z]/.test(n)||que(n)||i.isBuiltInComponent&&i.isBuiltInComponent(n)||i.isNativeTag&&!i.isNativeTag(n))return!0;for(let r=0;r<e.length;r++){const s=e[r];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(zL("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}else{if(s.name==="is")return!0;if(s.name==="bind"&&M0(s.arg,"is")&&!0&&zL("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}}function FQ(n,e){const t=[],i=new Set;for(;n.source.length>0&&!Ea(n.source,">")&&!Ea(n.source,"/>");){if(Ea(n.source,"/")){pr(n,22),No(n,1),UL(n);continue}e===1&&pr(n,3);const r=iAe(n,i);r.type===6&&r.value&&r.name==="class"&&(r.value.content=r.value.content.replace(/\s+/g," ").trim()),e===0&&t.push(r),/^[^\t\r\n\f />]/.test(n.source)&&pr(n,15),UL(n)}return t}function iAe(n,e){const t=Du(n),r=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(n.source)[0];e.has(r)&&pr(n,2),e.add(r),r[0]==="="&&pr(n,19);{const a=/["'<]/g;let l;for(;l=a.exec(r);)pr(n,17,l.index)}No(n,r.length);let s;/^[\t\r\n\f ]*=/.test(n.source)&&(UL(n),No(n,1),UL(n),s=rAe(n),s||pr(n,13));const o=Rc(n,t);if(!n.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(r)){const a=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(r);let l=Ea(r,"."),u=a[1]||(l||Ea(r,":")?"bind":Ea(r,"@")?"on":"slot"),c;if(a[2]){const h=u==="slot",f=r.lastIndexOf(a[2]),g=Rc(n,BQ(n,t,f),BQ(n,t,f+a[2].length+(h&&a[3]||"").length));let p=a[2],m=!0;p.startsWith("[")?(m=!1,p.endsWith("]")?p=p.slice(1,p.length-1):(pr(n,27),p=p.slice(1))):h&&(p+=a[3]||""),c={type:4,content:p,isStatic:m,constType:m?3:0,loc:g}}if(s&&s.isQuoted){const h=s.loc;h.start.offset++,h.start.column++,h.end=_M(h.start,s.content),h.source=h.source.slice(1,-1)}const d=a[3]?a[3].slice(1).split("."):[];return l&&d.push("prop"),u==="bind"&&c&&d.includes("sync")&&zL("COMPILER_V_BIND_SYNC",n,o,c.loc.source)&&(u="model",d.splice(d.indexOf("sync"),1)),{type:7,name:u,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:c,modifiers:d,loc:o}}return!n.inVPre&&Ea(r,"v-")&&pr(n,26),{type:6,name:r,value:s&&{type:2,content:s.content,loc:s.loc},loc:o}}function rAe(n){const e=Du(n);let t;const i=n.source[0],r=i==='"'||i==="'";if(r){No(n,1);const s=n.source.indexOf(i);s===-1?t=x2(n,n.source.length,4):(t=x2(n,s,4),No(n,1))}else{const s=/^[^\t\r\n\f >]+/.exec(n.source);if(!s)return;const o=/["'<=`]/g;let a;for(;a=o.exec(s[0]);)pr(n,18,a.index);t=x2(n,s[0].length,4)}return{content:t,isQuoted:r,loc:Rc(n,e)}}function sAe(n,e){const[t,i]=n.options.delimiters,r=n.source.indexOf(i,t.length);if(r===-1){pr(n,25);return}const s=Du(n);No(n,t.length);const o=Du(n),a=Du(n),l=r-t.length,u=n.source.slice(0,l),c=x2(n,l,e),d=c.trim(),h=c.indexOf(d);h>0&&bM(o,u,h);const f=l-(c.length-d.length-h);return bM(a,u,f),No(n,i.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:d,loc:Rc(n,o,a)},loc:Rc(n,s)}}function oAe(n,e){const t=e===3?["]]>"]:["<",n.options.delimiters[0]];let i=n.source.length;for(let o=0;o<t.length;o++){const a=n.source.indexOf(t[o],1);a!==-1&&i>a&&(i=a)}const r=Du(n),s=x2(n,i,e);return{type:2,content:s,loc:Rc(n,r)}}function x2(n,e,t){const i=n.source.slice(0,e);return No(n,e),t===2||t===3||!i.includes("&")?i:n.options.decodeEntities(i,t===4)}function Du(n){const{column:e,line:t,offset:i}=n;return{column:e,line:t,offset:i}}function Rc(n,e,t){return t=t||Du(n),{start:e,end:t,source:n.originalSource.slice(e.offset,t.offset)}}function _O(n){return n[n.length-1]}function Ea(n,e){return n.startsWith(e)}function No(n,e){const{source:t}=n;bM(n,t,e),n.source=t.slice(e)}function UL(n){const e=/^[\t\r\n\f ]+/.exec(n.source);e&&No(n,e[0].length)}function BQ(n,e,t){return _M(e,n.originalSource.slice(e.offset,t),t)}function pr(n,e,t,i=Du(n)){t&&(i.offset+=t,i.column+=t),n.options.onError(ms(e,{start:i,end:i,source:""}))}function aAe(n,e,t){const i=n.source;switch(e){case 0:if(Ea(i,"</")){for(let r=t.length-1;r>=0;--r)if(NB(i,t[r].tag))return!0}break;case 1:case 2:{const r=_O(t);if(r&&NB(i,r.tag))return!0;break}case 3:if(Ea(i,"]]>"))return!0;break}return!i}function NB(n,e){return Ea(n,"</")&&n.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(n[2+e.length]||">")}function lAe(n,e){MN(n,e,Jue(n,n.children[0]))}function Jue(n,e){const{children:t}=n;return t.length===1&&e.type===1&&!yM(e)}function MN(n,e,t=!1){const{children:i}=n,r=i.length;let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(a.type===1&&a.tagType===0){const l=t?0:Sc(a,e);if(l>0){if(l>=2){a.codegenNode.patchFlag=-1+"",a.codegenNode=e.hoist(a.codegenNode),s++;continue}}else{const u=a.codegenNode;if(u.type===13){const c=ice(u);if((!c||c===512||c===1)&&tce(a,e)>=2){const d=nce(a);d&&(u.props=e.hoist(d))}u.dynamicProps&&(u.dynamicProps=e.hoist(u.dynamicProps))}}}else a.type===12&&Sc(a.content,e)>=2&&(a.codegenNode=e.hoist(a.codegenNode),s++);if(a.type===1){const l=a.tagType===1;l&&e.scopes.vSlot++,MN(a,e),l&&e.scopes.vSlot--}else if(a.type===11)MN(a,e,a.children.length===1);else if(a.type===9)for(let l=0;l<a.branches.length;l++)MN(a.branches[l],e,a.branches[l].children.length===1)}s&&e.transformHoist&&e.transformHoist(i,e,n),s&&s===r&&n.type===1&&n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&Xt(n.codegenNode.children)&&(n.codegenNode.children=e.hoist(GE(n.codegenNode.children)))}function Sc(n,e){const{constantCache:t}=e;switch(n.type){case 1:if(n.tagType!==0)return 0;const i=t.get(n);if(i!==void 0)return i;const r=n.codegenNode;if(r.type!==13||r.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject")return 0;if(ice(r))return t.set(n,0),0;{let a=3;const l=tce(n,e);if(l===0)return t.set(n,0),0;l<a&&(a=l);for(let u=0;u<n.children.length;u++){const c=Sc(n.children[u],e);if(c===0)return t.set(n,0),0;c<a&&(a=c)}if(a>1)for(let u=0;u<n.props.length;u++){const c=n.props[u];if(c.type===7&&c.name==="bind"&&c.exp){const d=Sc(c.exp,e);if(d===0)return t.set(n,0),0;d<a&&(a=d)}}return r.isBlock&&(e.removeHelper(D_),e.removeHelper(Sy(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(wy(e.inSSR,r.isComponent))),t.set(n,a),a}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Sc(n.content,e);case 4:return n.constType;case 8:let o=3;for(let a=0;a<n.children.length;a++){const l=n.children[a];if(si(l)||Nw(l))continue;const u=Sc(l,e);if(u===0)return 0;u<o&&(o=u)}return o;default:return 0}}const uAe=new Set([Iz,Tz,VL,KE]);function ece(n,e){if(n.type===14&&!si(n.callee)&&uAe.has(n.callee)){const t=n.arguments[0];if(t.type===4)return Sc(t,e);if(t.type===14)return ece(t,e)}return 0}function tce(n,e){let t=3;const i=nce(n);if(i&&i.type===15){const{properties:r}=i;for(let s=0;s<r.length;s++){const{key:o,value:a}=r[s],l=Sc(o,e);if(l===0)return l;l<t&&(t=l);let u;if(a.type===4?u=Sc(a,e):a.type===14?u=ece(a,e):u=0,u===0)return u;u<t&&(t=u)}}return t}function nce(n){const e=n.codegenNode;if(e.type===13)return e.props}function ice(n){const e=n.patchFlag;return e?parseInt(e,10):void 0}function cAe(n,{filename:e="",prefixIdentifiers:t=!1,hoistStatic:i=!1,cacheHandlers:r=!1,nodeTransforms:s=[],directiveTransforms:o={},transformHoist:a=null,isBuiltInComponent:l=tl,isCustomElement:u=tl,expressionPlugins:c=[],scopeId:d=null,slotted:h=!0,ssr:f=!1,inSSR:g=!1,ssrCssVars:p="",bindingMetadata:m=tr,inline:b=!1,isTS:_=!1,onError:C=_z,onWarn:w=Vue,compatConfig:S}){const D=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),E={selfName:D&&p1(la(D[1])),prefixIdentifiers:t,hoistStatic:i,cacheHandlers:r,nodeTransforms:s,directiveTransforms:o,transformHoist:a,isBuiltInComponent:l,isCustomElement:u,expressionPlugins:c,scopeId:d,slotted:h,ssr:f,inSSR:g,ssrCssVars:p,bindingMetadata:m,inline:b,isTS:_,onError:C,onWarn:w,compatConfig:S,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(I){const T=E.helpers.get(I)||0;return E.helpers.set(I,T+1),I},removeHelper(I){const T=E.helpers.get(I);if(T){const M=T-1;M?E.helpers.set(I,M):E.helpers.delete(I)}},helperString(I){return`_${Wm[E.helper(I)]}`},replaceNode(I){E.parent.children[E.childIndex]=E.currentNode=I},removeNode(I){const T=E.parent.children,M=I?T.indexOf(I):E.currentNode?E.childIndex:-1;!I||I===E.currentNode?(E.currentNode=null,E.onNodeRemoved()):E.childIndex>M&&(E.childIndex--,E.onNodeRemoved()),E.parent.children.splice(M,1)},onNodeRemoved:()=>{},addIdentifiers(I){},removeIdentifiers(I){},hoist(I){si(I)&&(I=fi(I)),E.hoists.push(I);const T=fi(`_hoisted_${E.hoists.length}`,!1,I.loc,2);return T.hoisted=I,T},cache(I,T=!1){return BMe(E.cached++,I,T)}};return E.filters=new Set,E}function dAe(n,e){const t=cAe(n,e);bO(n,t),e.hoistStatic&&lAe(n,t),e.ssr||hAe(n,t),n.helpers=[...t.helpers.keys()],n.components=[...t.components],n.directives=[...t.directives],n.imports=t.imports,n.hoists=t.hoists,n.temps=t.temps,n.cached=t.cached,n.filters=[...t.filters]}function hAe(n,e){const{helper:t}=e,{children:i}=n;if(i.length===1){const r=i[0];if(Jue(n,r)&&r.codegenNode){const s=r.codegenNode;s.type===13&&Rz(s,e),n.codegenNode=s}else n.codegenNode=r}else if(i.length>1){let r=64;n.codegenNode=WL(e,t($L),void 0,n.children,r+"",void 0,void 0,!0,void 0,!1)}}function fAe(n,e){let t=0;const i=()=>{t--};for(;t<n.children.length;t++){const r=n.children[t];si(r)||(e.parent=n,e.childIndex=t,e.onNodeRemoved=i,bO(r,e))}}function bO(n,e){e.currentNode=n;const{nodeTransforms:t}=e,i=[];for(let s=0;s<t.length;s++){const o=t[s](n,e);if(o&&(Xt(o)?i.push(...o):i.push(o)),e.currentNode)n=e.currentNode;else return}switch(n.type){case 3:e.ssr||e.helper(jE);break;case 5:e.ssr||e.helper(mO);break;case 9:for(let s=0;s<n.branches.length;s++)bO(n.branches[s],e);break;case 10:case 11:case 1:case 0:fAe(n,e);break}e.currentNode=n;let r=i.length;for(;r--;)i[r]()}function rce(n,e){const t=si(n)?i=>i===n:i=>n.test(i);return(i,r)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(KMe))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&t(l.name)){s.splice(a,1),a--;const u=e(i,l,r);u&&o.push(u)}}return o}}}const CO="/*#__PURE__*/";function gAe(n,{mode:e="function",prefixIdentifiers:t=e==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:c=!1,isTS:d=!1,inSSR:h=!1}){const f={mode:e,prefixIdentifiers:t,sourceMap:i,filename:r,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:c,isTS:d,inSSR:h,source:n.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(p){return`_${Wm[p]}`},push(p,m){f.code+=p},indent(){g(++f.indentLevel)},deindent(p=!1){p?--f.indentLevel:g(--f.indentLevel)},newline(){g(f.indentLevel)}};function g(p){f.push(`
`+"  ".repeat(p))}return f}function pAe(n,e={}){const t=gAe(n,e);e.onContextCreated&&e.onContextCreated(t);const{mode:i,push:r,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:u,ssr:c}=t,d=n.helpers.length>0,h=!s&&i!=="module";mAe(n,t);const g=c?"ssrRender":"render",m=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${g}(${m}) {`),o(),h&&(r("with (_ctx) {"),o(),d&&(r(`const { ${n.helpers.map(b=>`${Wm[b]}: _${Wm[b]}`).join(", ")} } = _Vue`),r(`
`),l())),n.components.length&&(W5(n.components,"component",t),(n.directives.length||n.temps>0)&&l()),n.directives.length&&(W5(n.directives,"directive",t),n.temps>0&&l()),n.filters&&n.filters.length&&(l(),W5(n.filters,"filter",t),l()),n.temps>0){r("let ");for(let b=0;b<n.temps;b++)r(`${b>0?", ":""}_temp${b}`)}return(n.components.length||n.directives.length||n.temps)&&(r(`
`),l()),c||r("return "),n.codegenNode?Ia(n.codegenNode,t):r("null"),h&&(a(),r("}")),a(),r("}"),{ast:n,code:t.code,preamble:"",map:t.map?t.map.toJSON():void 0}}function mAe(n,e){const{ssr:t,prefixIdentifiers:i,push:r,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,u=a,c=d=>`${Wm[d]}: _${Wm[d]}`;if(n.helpers.length>0&&(r(`const _Vue = ${u}
`),n.hoists.length)){const d=[Cz,yz,jE,wz,Uue].filter(h=>n.helpers.includes(h)).map(c).join(", ");r(`const { ${d} } = _Vue
`)}vAe(n.hoists,e),s(),r("return ")}function W5(n,e,{helper:t,push:i,newline:r,isTS:s}){const o=t(e==="filter"?kz:e==="component"?Sz:Lz);for(let a=0;a<n.length;a++){let l=n[a];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),i(`const ${HL(l,e)} = ${o}(${JSON.stringify(l)}${u?", true":""})${s?"!":""}`),a<n.length-1&&r()}}function vAe(n,e){if(!n.length)return;e.pure=!0;const{push:t,newline:i,helper:r,scopeId:s,mode:o}=e;i();for(let a=0;a<n.length;a++){const l=n[a];l&&(t(`const _hoisted_${a+1} = `),Ia(l,e),i())}e.pure=!1}function Pz(n,e){const t=n.length>3||!1;e.push("["),t&&e.indent(),qE(n,e,t),t&&e.deindent(),e.push("]")}function qE(n,e,t=!1,i=!0){const{push:r,newline:s}=e;for(let o=0;o<n.length;o++){const a=n[o];si(a)?r(a):Xt(a)?Pz(a,e):Ia(a,e),o<n.length-1&&(t?(i&&r(","),s()):i&&r(", "))}}function Ia(n,e){if(si(n)){e.push(n);return}if(Nw(n)){e.push(e.helper(n));return}switch(n.type){case 1:case 9:case 11:Ia(n.codegenNode,e);break;case 2:_Ae(n,e);break;case 4:sce(n,e);break;case 5:bAe(n,e);break;case 12:Ia(n.codegenNode,e);break;case 8:oce(n,e);break;case 3:yAe(n,e);break;case 13:wAe(n,e);break;case 14:LAe(n,e);break;case 15:kAe(n,e);break;case 17:EAe(n,e);break;case 18:DAe(n,e);break;case 19:IAe(n,e);break;case 20:TAe(n,e);break;case 21:qE(n.body,e,!0,!1);break}}function _Ae(n,e){e.push(JSON.stringify(n.content),n)}function sce(n,e){const{content:t,isStatic:i}=n;e.push(i?JSON.stringify(t):t,n)}function bAe(n,e){const{push:t,helper:i,pure:r}=e;r&&t(CO),t(`${i(mO)}(`),Ia(n.content,e),t(")")}function oce(n,e){for(let t=0;t<n.children.length;t++){const i=n.children[t];si(i)?e.push(i):Ia(i,e)}}function CAe(n,e){const{push:t}=e;if(n.type===8)t("["),oce(n,e),t("]");else if(n.isStatic){const i=Az(n.content)?n.content:JSON.stringify(n.content);t(i,n)}else t(`[${n.content}]`,n)}function yAe(n,e){const{push:t,helper:i,pure:r}=e;r&&t(CO),t(`${i(jE)}(${JSON.stringify(n.content)})`,n)}function wAe(n,e){const{push:t,helper:i,pure:r}=e,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:u,directives:c,isBlock:d,disableTracking:h,isComponent:f}=n;c&&t(i(Ez)+"("),d&&t(`(${i(D_)}(${h?"true":""}), `),r&&t(CO);const g=d?Sy(e.inSSR,f):wy(e.inSSR,f);t(i(g)+"(",n),qE(SAe([s,o,a,l,u]),e),t(")"),d&&t(")"),c&&(t(", "),Ia(c,e),t(")"))}function SAe(n){let e=n.length;for(;e--&&n[e]==null;);return n.slice(0,e+1).map(t=>t||"null")}function LAe(n,e){const{push:t,helper:i,pure:r}=e,s=si(n.callee)?n.callee:i(n.callee);r&&t(CO),t(s+"(",n),qE(n.arguments,e),t(")")}function kAe(n,e){const{push:t,indent:i,deindent:r,newline:s}=e,{properties:o}=n;if(!o.length){t("{}",n);return}const a=o.length>1||!1;t(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:u,value:c}=o[l];CAe(u,e),t(": "),Ia(c,e),l<o.length-1&&(t(","),s())}a&&r(),t(a?"}":" }")}function EAe(n,e){Pz(n.elements,e)}function DAe(n,e){const{push:t,indent:i,deindent:r}=e,{params:s,returns:o,body:a,newline:l,isSlot:u}=n;u&&t(`_${Wm[xz]}(`),t("(",n),Xt(s)?qE(s,e):s&&Ia(s,e),t(") => "),(l||a)&&(t("{"),i()),o?(l&&t("return "),Xt(o)?Pz(o,e):Ia(o,e)):a&&Ia(a,e),(l||a)&&(r(),t("}")),u&&(n.isNonScopedSlot&&t(", undefined, true"),t(")"))}function IAe(n,e){const{test:t,consequent:i,alternate:r,newline:s}=n,{push:o,indent:a,deindent:l,newline:u}=e;if(t.type===4){const d=!Az(t.content);d&&o("("),sce(t,e),d&&o(")")}else o("("),Ia(t,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),Ia(i,e),e.indentLevel--,s&&u(),s||o(" "),o(": ");const c=r.type===19;c||e.indentLevel++,Ia(r,e),c||e.indentLevel--,s&&l(!0)}function TAe(n,e){const{push:t,helper:i,indent:r,deindent:s,newline:o}=e;t(`_cache[${n.index}] || (`),n.isVNode&&(r(),t(`${i(vM)}(-1),`),o()),t(`_cache[${n.index}] = `),Ia(n.value,e),n.isVNode&&(t(","),o(),t(`${i(vM)}(1),`),o(),t(`_cache[${n.index}]`),s()),t(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const NAe=rce(/^(if|else|else-if)$/,(n,e,t)=>xAe(n,e,t,(i,r,s)=>{const o=t.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const u=o[a];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(s)i.codegenNode=VQ(r,l,t);else{const u=MAe(i.codegenNode);u.alternate=VQ(r,l+i.branches.length-1,t)}}}));function xAe(n,e,t,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const r=e.exp?e.exp.loc:n.loc;t.onError(ms(28,e.loc)),e.exp=fi("true",!1,r)}if(e.name==="if"){const r=$Q(n,e),s={type:9,loc:n.loc,branches:[r]};if(t.replaceNode(s),i)return i(s,r,!0)}else{const r=t.parent.children;let s=r.indexOf(n);for(;s-->=-1;){const o=r[s];if(o&&o.type===2&&!o.content.trim().length){t.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&t.onError(ms(30,n.loc)),t.removeNode();const a=$Q(n,e);o.branches.push(a);const l=i&&i(o,a,!1);bO(a,t),l&&l(),t.currentNode=null}else t.onError(ms(30,n.loc));break}}}function $Q(n,e){return{type:10,loc:n.loc,condition:e.name==="else"?void 0:e.exp,children:n.tagType===3&&!vc(n,"for")?n.children:[n],userKey:vO(n,"key")}}function VQ(n,e,t){return n.condition?IB(n.condition,WQ(n,e,t),to(t.helper(jE),['""',"true"])):WQ(n,e,t)}function WQ(n,e,t){const{helper:i}=t,r=js("key",fi(`${e}`,!1,zu,2)),{children:s}=n,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const l=o.codegenNode;return wM(l,r,t),l}else{let l=64;return WL(t,i($L),wc([r]),s,l+"",void 0,void 0,!0,!1,!1,n.loc)}else{const l=o.codegenNode,u=qMe(l);return u.type===13&&Rz(u,t),wM(u,r,t),l}}function MAe(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const AAe=rce("for",(n,e,t)=>{const{helper:i,removeHelper:r}=t;return RAe(n,e,t,s=>{const o=to(i(Dz),[s.source]),a=CM(n),l=vc(n,"memo"),u=vO(n,"key"),c=u&&(u.type===6?fi(u.value.content,!0):u.exp),d=u?js("key",c):null,h=s.source.type===4&&s.source.constType>0,f=h?64:u?128:256;return s.codegenNode=WL(t,i($L),void 0,o,f+"",void 0,void 0,!0,!h,!1,n.loc),()=>{let g;const{children:p}=s,m=p.length!==1||p[0].type!==1,b=yM(n)?n:a&&n.children.length===1&&yM(n.children[0])?n.children[0]:null;if(b?(g=b.codegenNode,a&&d&&wM(g,d,t)):m?g=WL(t,i($L),d?wc([d]):void 0,n.children,64+"",void 0,void 0,!0,void 0,!1):(g=p[0].codegenNode,a&&d&&wM(g,d,t),g.isBlock!==!h&&(g.isBlock?(r(D_),r(Sy(t.inSSR,g.isComponent))):r(wy(t.inSSR,g.isComponent))),g.isBlock=!h,g.isBlock?(i(D_),i(Sy(t.inSSR,g.isComponent))):i(wy(t.inSSR,g.isComponent))),l){const _=yy(xB(s.parseResult,[fi("_cached")]));_.body=$Me([Hh(["const _memo = (",l.exp,")"]),Hh(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${t.helperString(Gue)}(_cached, _memo)) return _cached`]),Hh(["const _item = ",g]),fi("_item.memo = _memo"),fi("return _item")]),o.arguments.push(_,fi("_cache"),fi(String(t.cached++)))}else o.arguments.push(yy(xB(s.parseResult),g,!0))}})});function RAe(n,e,t,i){if(!e.exp){t.onError(ms(31,e.loc));return}const r=ace(e.exp);if(!r){t.onError(ms(32,e.loc));return}const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=t,{source:l,value:u,key:c,index:d}=r,h={type:11,loc:e.loc,source:l,valueAlias:u,keyAlias:c,objectIndexAlias:d,parseResult:r,children:CM(n)?n.children:[n]};t.replaceNode(h),a.vFor++;const f=i&&i(h);return()=>{a.vFor--,f&&f()}}const OAe=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,HQ=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,PAe=/^\(|\)$/g;function ace(n,e){const t=n.loc,i=n.content,r=i.match(OAe);if(!r)return;const[,s,o]=r,a={source:GI(t,o.trim(),i.indexOf(o,s.length)),value:void 0,key:void 0,index:void 0};let l=s.trim().replace(PAe,"").trim();const u=s.indexOf(l),c=l.match(HQ);if(c){l=l.replace(HQ,"").trim();const d=c[1].trim();let h;if(d&&(h=i.indexOf(d,u+l.length),a.key=GI(t,d,h)),c[2]){const f=c[2].trim();f&&(a.index=GI(t,f,i.indexOf(f,a.key?h+d.length:u+l.length)))}}return l&&(a.value=GI(t,l,u)),a}function GI(n,e,t){return fi(e,!1,Xue(n,t,e.length))}function xB({value:n,key:e,index:t},i=[]){return FAe([n,e,t,...i])}function FAe(n){let e=n.length;for(;e--&&!n[e];);return n.slice(0,e+1).map((t,i)=>t||fi("_".repeat(i+1),!1))}const zQ=fi("undefined",!1),BAe=(n,e)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const t=vc(n,"slot");if(t)return t.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},$Ae=(n,e,t)=>yy(n,e,!1,!0,e.length?e[0].loc:t);function VAe(n,e,t=$Ae){e.helper(xz);const{children:i,loc:r}=n,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=vc(n,"slot",!0);if(l){const{arg:p,exp:m}=l;p&&!Nl(p)&&(a=!0),s.push(js(p||fi("default",!0),t(m,i,r)))}let u=!1,c=!1;const d=[],h=new Set;for(let p=0;p<i.length;p++){const m=i[p];let b;if(!CM(m)||!(b=vc(m,"slot",!0))){m.type!==3&&d.push(m);continue}if(l){e.onError(ms(37,b.loc));break}u=!0;const{children:_,loc:C}=m,{arg:w=fi("default",!0),exp:S,loc:D}=b;let E;Nl(w)?E=w?w.content:"default":a=!0;const I=t(S,_,C);let T,M,A;if(T=vc(m,"if"))a=!0,o.push(IB(T.exp,qI(w,I),zQ));else if(M=vc(m,/^else(-if)?$/,!0)){let O=p,F;for(;O--&&(F=i[O],F.type===3););if(F&&CM(F)&&vc(F,"if")){i.splice(p,1),p--;let U=o[o.length-1];for(;U.alternate.type===19;)U=U.alternate;U.alternate=M.exp?IB(M.exp,qI(w,I),zQ):qI(w,I)}else e.onError(ms(30,M.loc))}else if(A=vc(m,"for")){a=!0;const O=A.parseResult||ace(A.exp);O?o.push(to(e.helper(Dz),[O.source,yy(xB(O),qI(w,I),!0)])):e.onError(ms(32,A.loc))}else{if(E){if(h.has(E)){e.onError(ms(38,D));continue}h.add(E),E==="default"&&(c=!0)}s.push(js(w,I))}}if(!l){const p=(m,b)=>{const _=t(m,b,r);return e.compatConfig&&(_.isNonScopedSlot=!0),js("default",_)};u?d.length&&d.some(m=>lce(m))&&(c?e.onError(ms(39,d[0].loc)):s.push(p(void 0,d))):s.push(p(void 0,i))}const f=a?2:AN(n.children)?3:1;let g=wc(s.concat(js("_",fi(f+"",!1))),r);return o.length&&(g=to(e.helper(Kue),[g,GE(o)])),{slots:g,hasDynamicSlots:a}}function qI(n,e){return wc([js("name",n),js("fn",e)])}function AN(n){for(let e=0;e<n.length;e++){const t=n[e];switch(t.type){case 1:if(t.tagType===2||AN(t.children))return!0;break;case 9:if(AN(t.branches))return!0;break;case 10:case 11:if(AN(t.children))return!0;break}}return!1}function lce(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():lce(n.content)}const uce=new WeakMap,WAe=(n,e)=>function(){if(n=e.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:i,props:r}=n,s=n.tagType===1;let o=s?HAe(n,e):`"${i}"`;const a=bs(o)&&o.callee===pM;let l,u,c,d=0,h,f,g,p=a||o===N2||o===bz||!s&&(i==="svg"||i==="foreignObject");if(r.length>0){const m=cce(n,e);l=m.props,d=m.patchFlag,f=m.dynamicPropNames;const b=m.directives;g=b&&b.length?GE(b.map(_=>UAe(_,e))):void 0,m.shouldUseBlock&&(p=!0)}if(n.children.length>0)if(o===gM&&(p=!0,d|=1024),s&&o!==N2&&o!==gM){const{slots:b,hasDynamicSlots:_}=VAe(n,e);u=b,_&&(d|=1024)}else if(n.children.length===1&&o!==N2){const b=n.children[0],_=b.type,C=_===5||_===8;C&&Sc(b,e)===0&&(d|=1),C||_===2?u=b:u=n.children}else u=n.children;d!==0&&(c=String(d),f&&f.length&&(h=jAe(f))),n.codegenNode=WL(e,o,l,u,c,h,g,!!p,!1,s,n.loc)};function HAe(n,e,t=!1){let{tag:i}=n;const r=MB(i),s=vO(n,"is");if(s)if(r||Q0("COMPILER_IS_ON_ELEMENT",e)){const l=s.type===6?s.value&&fi(s.value.content,!0):s.exp;if(l)return to(e.helper(pM),[l])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const o=!r&&vc(n,"is");if(o&&o.exp)return to(e.helper(pM),[o.exp]);const a=que(i)||e.isBuiltInComponent(i);return a?(t||e.helper(a),a):(e.helper(Sz),e.components.add(i),HL(i,"component"))}function cce(n,e,t=n.props,i=!1){const{tag:r,loc:s,children:o}=n,a=n.tagType===1;let l=[];const u=[],c=[],d=o.length>0;let h=!1,f=0,g=!1,p=!1,m=!1,b=!1,_=!1,C=!1;const w=[],S=({key:E,value:I})=>{if(Nl(E)){const T=E.content,M=f1(T);if(!a&&M&&T.toLowerCase()!=="onclick"&&T!=="onUpdate:modelValue"&&!q0(T)&&(b=!0),M&&q0(T)&&(C=!0),I.type===20||(I.type===4||I.type===8)&&Sc(I,e)>0)return;T==="ref"?g=!0:T==="class"?p=!0:T==="style"?m=!0:T!=="key"&&!w.includes(T)&&w.push(T),a&&(T==="class"||T==="style")&&!w.includes(T)&&w.push(T)}else _=!0};for(let E=0;E<t.length;E++){const I=t[E];if(I.type===6){const{loc:T,name:M,value:A}=I;let O=!0;if(M==="ref"&&(g=!0,e.scopes.vFor>0&&l.push(js(fi("ref_for",!0),fi("true")))),M==="is"&&(MB(r)||A&&A.content.startsWith("vue:")||Q0("COMPILER_IS_ON_ELEMENT",e)))continue;l.push(js(fi(M,!0,Xue(T,0,M.length)),fi(A?A.content:"",O,A?A.loc:T)))}else{const{name:T,arg:M,exp:A,loc:O}=I,F=T==="bind",U=T==="on";if(T==="slot"){a||e.onError(ms(40,O));continue}if(T==="once"||T==="memo"||T==="is"||F&&M0(M,"is")&&(MB(r)||Q0("COMPILER_IS_ON_ELEMENT",e))||U&&i)continue;if((F&&M0(M,"key")||U&&d&&M0(M,"vue:before-update"))&&(h=!0),F&&M0(M,"ref")&&e.scopes.vFor>0&&l.push(js(fi("ref_for",!0),fi("true"))),!M&&(F||U)){if(_=!0,A)if(l.length&&(u.push(wc(H5(l),s)),l=[]),F){if(Q0("COMPILER_V_BIND_OBJECT_ORDER",e)){u.unshift(A);continue}u.push(A)}else u.push({type:14,loc:O,callee:e.helper(Nz),arguments:[A]});else e.onError(ms(F?34:35,O));continue}const V=e.directiveTransforms[T];if(V){const{props:G,needRuntime:j}=V(I,n,e);!i&&G.forEach(S),l.push(...G),j&&(c.push(I),Nw(j)&&uce.set(I,j))}else BTe(T)||(c.push(I),d&&(h=!0))}}let D;if(u.length?(l.length&&u.push(wc(H5(l),s)),u.length>1?D=to(e.helper(mM),u,s):D=u[0]):l.length&&(D=wc(H5(l),s)),_?f|=16:(p&&!a&&(f|=2),m&&!a&&(f|=4),w.length&&(f|=8),b&&(f|=32)),!h&&(f===0||f===32)&&(g||C||c.length>0)&&(f|=512),!e.inSSR&&D)switch(D.type){case 15:let E=-1,I=-1,T=!1;for(let O=0;O<D.properties.length;O++){const F=D.properties[O].key;Nl(F)?F.content==="class"?E=O:F.content==="style"&&(I=O):F.isHandlerKey||(T=!0)}const M=D.properties[E],A=D.properties[I];T?D=to(e.helper(VL),[D]):(M&&!Nl(M.value)&&(M.value=to(e.helper(Iz),[M.value])),A&&!Nl(A.value)&&(m||A.value.type===17)&&(A.value=to(e.helper(Tz),[A.value])));break;case 14:break;default:D=to(e.helper(VL),[to(e.helper(KE),[D])]);break}return{props:D,directives:c,patchFlag:f,dynamicPropNames:w,shouldUseBlock:h}}function H5(n){const e=new Map,t=[];for(let i=0;i<n.length;i++){const r=n[i];if(r.key.type===8||!r.key.isStatic){t.push(r);continue}const s=r.key.content,o=e.get(s);o?(s==="style"||s==="class"||f1(s))&&zAe(o,r):(e.set(s,r),t.push(r))}return t}function zAe(n,e){n.value.type===17?n.value.elements.push(e.value):n.value=GE([n.value,e.value],n.loc)}function UAe(n,e){const t=[],i=uce.get(n);i?t.push(e.helperString(i)):(e.helper(Lz),e.directives.add(n.name),t.push(HL(n.name,"directive")));const{loc:r}=n;if(n.exp&&t.push(n.exp),n.arg&&(n.exp||t.push("void 0"),t.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||t.push("void 0"),t.push("void 0"));const s=fi("true",!1,r);t.push(wc(n.modifiers.map(o=>js(o,s)),r))}return GE(t,n.loc)}function jAe(n){let e="[";for(let t=0,i=n.length;t<i;t++)e+=JSON.stringify(n[t]),t<i-1&&(e+=", ");return e+"]"}function MB(n){return n==="component"||n==="Component"}const KAe=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},GAe=/-(\w)/g,UQ=KAe(n=>n.replace(GAe,(e,t)=>t?t.toUpperCase():"")),qAe=(n,e)=>{if(yM(n)){const{children:t,loc:i}=n,{slotName:r,slotProps:s}=YAe(n,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),t.length&&(o[3]=yy([],t,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),n.codegenNode=to(e.helper(jue),o,i)}};function YAe(n,e){let t='"default"',i;const r=[];for(let s=0;s<n.props.length;s++){const o=n.props[s];o.type===6?o.value&&(o.name==="name"?t=JSON.stringify(o.value.content):(o.name=UQ(o.name),r.push(o))):o.name==="bind"&&M0(o.arg,"name")?o.exp&&(t=o.exp):(o.name==="bind"&&o.arg&&Nl(o.arg)&&(o.arg.content=UQ(o.arg.content)),r.push(o))}if(r.length>0){const{props:s,directives:o}=cce(n,e,r);i=s,o.length&&e.onError(ms(36,o[0].loc))}return{slotName:t,slotProps:i}}const XAe=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,dce=(n,e,t,i)=>{const{loc:r,modifiers:s,arg:o}=n;!n.exp&&!s.length&&t.onError(ms(35,r));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`),a=fi(AC(la(d)),!0,o.loc)}else a=Hh([`${t.helperString(DB)}(`,o,")"]);else a=o,a.children.unshift(`${t.helperString(DB)}(`),a.children.push(")");let l=n.exp;l&&!l.content.trim()&&(l=void 0);let u=t.cacheHandlers&&!l&&!t.inVOnce;if(l){const d=Yue(l.content),h=!(d||XAe.test(l.content)),f=l.content.includes(";");(h||u&&d)&&(l=Hh([`${h?"$event":"(...args)"} => ${f?"{":"("}`,l,f?"}":")"]))}let c={props:[js(a,l||fi("() => {}",!1,r))]};return i&&(c=i(c)),u&&(c.props[0].value=t.cache(c.props[0].value)),c.props.forEach(d=>d.key.isHandlerKey=!0),c},ZAe=(n,e,t)=>{const{exp:i,modifiers:r,loc:s}=n,o=n.arg;return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),r.includes("camel")&&(o.type===4?o.isStatic?o.content=la(o.content):o.content=`${t.helperString(EB)}(${o.content})`:(o.children.unshift(`${t.helperString(EB)}(`),o.children.push(")"))),t.inSSR||(r.includes("prop")&&jQ(o,"."),r.includes("attr")&&jQ(o,"^")),!i||i.type===4&&!i.content.trim()?(t.onError(ms(34,s)),{props:[js(o,fi("",!0,s))]}):{props:[js(o,i)]}},jQ=(n,e)=>{n.type===4?n.isStatic?n.content=e+n.content:n.content=`\`${e}\${${n.content}}\``:(n.children.unshift(`'${e}' + (`),n.children.push(")"))},QAe=(n,e)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const t=n.children;let i,r=!1;for(let s=0;s<t.length;s++){const o=t[s];if(V5(o)){r=!0;for(let a=s+1;a<t.length;a++){const l=t[a];if(V5(l))i||(i=t[s]={type:8,loc:o.loc,children:[o]}),i.children.push(" + ",l),t.splice(a,1),a--;else{i=void 0;break}}}}if(!(!r||t.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&n.tag!=="template")))for(let s=0;s<t.length;s++){const o=t[s];if(V5(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Sc(o,e)===0&&a.push(1+""),t[s]={type:12,content:o,loc:o.loc,codegenNode:to(e.helper(wz),a)}}}}},KQ=new WeakSet,JAe=(n,e)=>{if(n.type===1&&vc(n,"once",!0))return KQ.has(n)||e.inVOnce?void 0:(KQ.add(n),e.inVOnce=!0,e.helper(vM),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))})},hce=(n,e,t)=>{const{exp:i,arg:r}=n;if(!i)return t.onError(ms(41,n.loc)),z5();const s=i.loc.source,o=i.type===4?i.content:s;t.bindingMetadata[s];const a=!1;if(!o.trim()||!Yue(o)&&!a)return t.onError(ms(42,i.loc)),z5();const l=r||fi("modelValue",!0),u=r?Nl(r)?`onUpdate:${r.content}`:Hh(['"onUpdate:" + ',r]):"onUpdate:modelValue";let c;const d=t.isTS?"($event: any)":"$event";c=Hh([`${d} => ((`,i,") = $event)"]);const h=[js(l,n.exp),js(u,c)];if(n.modifiers.length&&e.tagType===1){const f=n.modifiers.map(p=>(Az(p)?p:JSON.stringify(p))+": true").join(", "),g=r?Nl(r)?`${r.content}Modifiers`:Hh([r,' + "Modifiers"']):"modelModifiers";h.push(js(g,fi(`{ ${f} }`,!1,n.loc,2)))}return z5(h)};function z5(n=[]){return{props:n}}const eRe=/[\w).+\-_$\]]/,tRe=(n,e)=>{!Q0("COMPILER_FILTER",e)||(n.type===5&&SM(n.content,e),n.type===1&&n.props.forEach(t=>{t.type===7&&t.name!=="for"&&t.exp&&SM(t.exp,e)}))};function SM(n,e){if(n.type===4)GQ(n,e);else for(let t=0;t<n.children.length;t++){const i=n.children[t];typeof i=="object"&&(i.type===4?GQ(i,e):i.type===8?SM(n,e):i.type===5&&SM(i.content,e))}}function GQ(n,e){const t=n.content;let i=!1,r=!1,s=!1,o=!1,a=0,l=0,u=0,c=0,d,h,f,g,p=[];for(f=0;f<t.length;f++)if(h=d,d=t.charCodeAt(f),i)d===39&&h!==92&&(i=!1);else if(r)d===34&&h!==92&&(r=!1);else if(s)d===96&&h!==92&&(s=!1);else if(o)d===47&&h!==92&&(o=!1);else if(d===124&&t.charCodeAt(f+1)!==124&&t.charCodeAt(f-1)!==124&&!a&&!l&&!u)g===void 0?(c=f+1,g=t.slice(0,f).trim()):m();else{switch(d){case 34:r=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let b=f-1,_;for(;b>=0&&(_=t.charAt(b),_===" ");b--);(!_||!eRe.test(_))&&(o=!0)}}g===void 0?g=t.slice(0,f).trim():c!==0&&m();function m(){p.push(t.slice(c,f).trim()),c=f+1}if(p.length){for(f=0;f<p.length;f++)g=nRe(g,p[f],e);n.content=g}}function nRe(n,e,t){t.helper(kz);const i=e.indexOf("(");if(i<0)return t.filters.add(e),`${HL(e,"filter")}(${n})`;{const r=e.slice(0,i),s=e.slice(i+1);return t.filters.add(r),`${HL(r,"filter")}(${n}${s!==")"?","+s:s}`}}const qQ=new WeakSet,iRe=(n,e)=>{if(n.type===1){const t=vc(n,"memo");return!t||qQ.has(n)?void 0:(qQ.add(n),()=>{const i=n.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(n.tagType!==1&&Rz(i,e),n.codegenNode=to(e.helper(Mz),[t.exp,yy(void 0,i),"_cache",String(e.cached++)]))})}};function rRe(n){return[[JAe,NAe,iRe,AAe,tRe,qAe,WAe,BAe,QAe],{on:dce,bind:ZAe,model:hce}]}function sRe(n,e={}){const t=e.onError||_z,i=e.mode==="module";e.prefixIdentifiers===!0?t(ms(46)):i&&t(ms(47));const r=!1;e.cacheHandlers&&t(ms(48)),e.scopeId&&!i&&t(ms(49));const s=si(n)?ZMe(n,e):n,[o,a]=rRe();return dAe(s,ir({},e,{prefixIdentifiers:r,nodeTransforms:[...o,...e.nodeTransforms||[]],directiveTransforms:ir({},a,e.directiveTransforms||{})})),pAe(s,ir({},e,{prefixIdentifiers:r}))}const oRe=()=>({props:[]}),fce=Symbol(""),gce=Symbol(""),pce=Symbol(""),mce=Symbol(""),AB=Symbol(""),vce=Symbol(""),_ce=Symbol(""),bce=Symbol(""),Cce=Symbol(""),yce=Symbol("");PMe({[fce]:"vModelRadio",[gce]:"vModelCheckbox",[pce]:"vModelText",[mce]:"vModelSelect",[AB]:"vModelDynamic",[vce]:"withModifiers",[_ce]:"withKeys",[bce]:"vShow",[Cce]:"Transition",[yce]:"TransitionGroup"});let gb;function aRe(n,e=!1){return gb||(gb=document.createElement("div")),e?(gb.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,gb.children[0].getAttribute("foo")):(gb.innerHTML=n,gb.textContent)}const lRe=Yl("style,iframe,script,noscript",!0),uRe={isVoidTag:ATe,isNativeTag:n=>xTe(n)||MTe(n),isPreTag:n=>n==="pre",decodeEntities:aRe,isBuiltInComponent:n=>{if(sC(n,"Transition"))return Cce;if(sC(n,"TransitionGroup"))return yce},getNamespace(n,e){let t=e?e.ns:0;if(e&&t===2)if(e.tag==="annotation-xml"){if(n==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(t=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&n!=="mglyph"&&n!=="malignmark"&&(t=0);else e&&t===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(t=0);if(t===0){if(n==="svg")return 1;if(n==="math")return 2}return t},getTextMode({tag:n,ns:e}){if(e===0){if(n==="textarea"||n==="title")return 1;if(lRe(n))return 2}return 0}},cRe=n=>{n.type===1&&n.props.forEach((e,t)=>{e.type===6&&e.name==="style"&&e.value&&(n.props[t]={type:7,name:"bind",arg:fi("style",!0,e.loc),exp:dRe(e.value.content,e.loc),modifiers:[],loc:e.loc})})},dRe=(n,e)=>{const t=ule(n);return fi(JSON.stringify(t),!1,e,3)};function wg(n,e){return ms(n,e)}const hRe=(n,e,t)=>{const{exp:i,loc:r}=n;return i||t.onError(wg(50,r)),e.children.length&&(t.onError(wg(51,r)),e.children.length=0),{props:[js(fi("innerHTML",!0,r),i||fi("",!0))]}},fRe=(n,e,t)=>{const{exp:i,loc:r}=n;return i||t.onError(wg(52,r)),e.children.length&&(t.onError(wg(53,r)),e.children.length=0),{props:[js(fi("textContent",!0),i?to(t.helperString(mO),[i],r):fi("",!0))]}},gRe=(n,e,t)=>{const i=hce(n,e,t);if(!i.props.length||e.tagType===1)return i;n.arg&&t.onError(wg(55,n.arg.loc));const{tag:r}=e,s=t.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||s){let o=pce,a=!1;if(r==="input"||s){const l=vO(e,"type");if(l){if(l.type===7)o=AB;else if(l.value)switch(l.value.content){case"radio":o=fce;break;case"checkbox":o=gce;break;case"file":a=!0,t.onError(wg(56,n.loc));break}}else jMe(e)&&(o=AB)}else r==="select"&&(o=mce);a||(i.needRuntime=t.helper(o))}else t.onError(wg(54,n.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},pRe=Yl("passive,once,capture"),mRe=Yl("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),vRe=Yl("left,right"),wce=Yl("onkeyup,onkeydown,onkeypress",!0),_Re=(n,e,t,i)=>{const r=[],s=[],o=[];for(let a=0;a<e.length;a++){const l=e[a];l==="native"&&zL("COMPILER_V_ON_NATIVE",t)||pRe(l)?o.push(l):vRe(l)?Nl(n)?wce(n.content)?r.push(l):s.push(l):(r.push(l),s.push(l)):mRe(l)?s.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:o}},YQ=(n,e)=>Nl(n)&&n.content.toLowerCase()==="onclick"?fi(e,!0):n.type!==4?Hh(["(",n,`) === "onClick" ? "${e}" : (`,n,")"]):n,bRe=(n,e,t)=>dce(n,e,t,i=>{const{modifiers:r}=n;if(!r.length)return i;let{key:s,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:u}=_Re(s,r,t,n.loc);if(l.includes("right")&&(s=YQ(s,"onContextmenu")),l.includes("middle")&&(s=YQ(s,"onMouseup")),l.length&&(o=to(t.helper(vce),[o,JSON.stringify(l)])),a.length&&(!Nl(s)||wce(s.content))&&(o=to(t.helper(_ce),[o,JSON.stringify(a)])),u.length){const c=u.map(p1).join("");s=Nl(s)?fi(`${s.content}${c}`,!0):Hh(["(",s,`) + "${c}"`])}return{props:[js(s,o)]}}),CRe=(n,e,t)=>{const{exp:i,loc:r}=n;return i||t.onError(wg(58,r)),{props:[],needRuntime:t.helper(bce)}},yRe=(n,e)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&(e.onError(wg(60,n.loc)),e.removeNode())},wRe=[cRe],SRe={cloak:oRe,html:hRe,text:fRe,model:gRe,on:bRe,show:CRe};function LRe(n,e={}){return sRe(n,ir({},uRe,e,{nodeTransforms:[yRe,...wRe,...e.nodeTransforms||[]],directiveTransforms:ir({},SRe,e.directiveTransforms||{}),transformHoist:null}))}const XQ=Object.create(null);function kRe(n,e){if(!si(n))if(n.nodeType)n=n.innerHTML;else return tl;const t=n,i=XQ[t];if(i)return i;if(n[0]==="#"){const o=document.querySelector(n);n=o?o.innerHTML:""}const{code:r}=LRe(n,ir({hoistStatic:!0,onError:void 0,onWarn:tl},e)),s=new Function("Vue",r)(NMe);return s._rc=!0,XQ[t]=s}gue(kRe);var ERe=typeof global=="object"&&global&&global.Object===Object&&global,Sce=ERe,DRe=typeof self=="object"&&self&&self.Object===Object&&self,IRe=Sce||DRe||Function("return this")(),jd=IRe,TRe=jd.Symbol,Oc=TRe,Lce=Object.prototype,NRe=Lce.hasOwnProperty,xRe=Lce.toString,kS=Oc?Oc.toStringTag:void 0;function MRe(n){var e=NRe.call(n,kS),t=n[kS];try{n[kS]=void 0;var i=!0}catch{}var r=xRe.call(n);return i&&(e?n[kS]=t:delete n[kS]),r}var ARe=Object.prototype,RRe=ARe.toString;function ORe(n){return RRe.call(n)}var PRe="[object Null]",FRe="[object Undefined]",ZQ=Oc?Oc.toStringTag:void 0;function Aw(n){return n==null?n===void 0?FRe:PRe:ZQ&&ZQ in Object(n)?MRe(n):ORe(n)}function Wg(n){return n!=null&&typeof n=="object"}var BRe="[object Symbol]";function yO(n){return typeof n=="symbol"||Wg(n)&&Aw(n)==BRe}function $Re(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var VRe=Array.isArray,Hg=VRe,WRe=1/0,QQ=Oc?Oc.prototype:void 0,JQ=QQ?QQ.toString:void 0;function kce(n){if(typeof n=="string")return n;if(Hg(n))return $Re(n,kce)+"";if(yO(n))return JQ?JQ.call(n):"";var e=n+"";return e=="0"&&1/n==-WRe?"-0":e}var HRe=/\s/;function zRe(n){for(var e=n.length;e--&&HRe.test(n.charAt(e)););return e}var URe=/^\s+/;function jRe(n){return n&&n.slice(0,zRe(n)+1).replace(URe,"")}function zg(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var eJ=0/0,KRe=/^[-+]0x[0-9a-f]+$/i,GRe=/^0b[01]+$/i,qRe=/^0o[0-7]+$/i,YRe=parseInt;function tJ(n){if(typeof n=="number")return n;if(yO(n))return eJ;if(zg(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=zg(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=jRe(n);var t=GRe.test(n);return t||qRe.test(n)?YRe(n.slice(2),t?2:8):KRe.test(n)?eJ:+n}function Ece(n){return n}var XRe="[object AsyncFunction]",ZRe="[object Function]",QRe="[object GeneratorFunction]",JRe="[object Proxy]";function Dce(n){if(!zg(n))return!1;var e=Aw(n);return e==ZRe||e==QRe||e==XRe||e==JRe}var eOe=jd["__core-js_shared__"],U5=eOe,nJ=function(){var n=/[^.]+$/.exec(U5&&U5.keys&&U5.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function tOe(n){return!!nJ&&nJ in n}var nOe=Function.prototype,iOe=nOe.toString;function C1(n){if(n!=null){try{return iOe.call(n)}catch{}try{return n+""}catch{}}return""}var rOe=/[\\^$.*+?()[\]{}|]/g,sOe=/^\[object .+?Constructor\]$/,oOe=Function.prototype,aOe=Object.prototype,lOe=oOe.toString,uOe=aOe.hasOwnProperty,cOe=RegExp("^"+lOe.call(uOe).replace(rOe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dOe(n){if(!zg(n)||tOe(n))return!1;var e=Dce(n)?cOe:sOe;return e.test(C1(n))}function hOe(n,e){return n==null?void 0:n[e]}function y1(n,e){var t=hOe(n,e);return dOe(t)?t:void 0}var fOe=y1(jd,"WeakMap"),RB=fOe,iJ=Object.create,gOe=function(){function n(){}return function(e){if(!zg(e))return{};if(iJ)return iJ(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),pOe=gOe;function mOe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function vOe(){}function _Oe(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var bOe=800,COe=16,yOe=Date.now;function wOe(n){var e=0,t=0;return function(){var i=yOe(),r=COe-(i-t);if(t=i,r>0){if(++e>=bOe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function SOe(n){return function(){return n}}var LOe=function(){try{var n=y1(Object,"defineProperty");return n({},"",{}),n}catch{}}(),LM=LOe,kOe=LM?function(n,e){return LM(n,"toString",{configurable:!0,enumerable:!1,value:SOe(e),writable:!0})}:Ece,EOe=kOe,DOe=wOe(EOe),IOe=DOe;function TOe(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}function NOe(n,e,t,i){for(var r=n.length,s=t+(i?1:-1);i?s--:++s<r;)if(e(n[s],s,n))return s;return-1}function xOe(n){return n!==n}function MOe(n,e,t){for(var i=t-1,r=n.length;++i<r;)if(n[i]===e)return i;return-1}function AOe(n,e,t){return e===e?MOe(n,e,t):NOe(n,xOe,t)}function ROe(n,e){var t=n==null?0:n.length;return!!t&&AOe(n,e,0)>-1}var OOe=9007199254740991,POe=/^(?:0|[1-9]\d*)$/;function FOe(n,e){var t=typeof n;return e=e==null?OOe:e,!!e&&(t=="number"||t!="symbol"&&POe.test(n))&&n>-1&&n%1==0&&n<e}function Ice(n,e,t){e=="__proto__"&&LM?LM(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Fz(n,e){return n===e||n!==n&&e!==e}var BOe=Object.prototype,$Oe=BOe.hasOwnProperty;function Tce(n,e,t){var i=n[e];(!($Oe.call(n,e)&&Fz(i,t))||t===void 0&&!(e in n))&&Ice(n,e,t)}function wO(n,e,t,i){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),r?Ice(t,a,l):Tce(t,a,l)}return t}var rJ=Math.max;function VOe(n,e,t){return e=rJ(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=rJ(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(o),mOe(n,this,a)}}function WOe(n,e){return IOe(VOe(n,e,Ece),n+"")}var HOe=9007199254740991;function Nce(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=HOe}function Bz(n){return n!=null&&Nce(n.length)&&!Dce(n)}var zOe=Object.prototype;function $z(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||zOe;return n===t}function UOe(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var jOe="[object Arguments]";function sJ(n){return Wg(n)&&Aw(n)==jOe}var xce=Object.prototype,KOe=xce.hasOwnProperty,GOe=xce.propertyIsEnumerable,qOe=sJ(function(){return arguments}())?sJ:function(n){return Wg(n)&&KOe.call(n,"callee")&&!GOe.call(n,"callee")},Mce=qOe;function YOe(){return!1}var Ace=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oJ=Ace&&typeof module=="object"&&module&&!module.nodeType&&module,XOe=oJ&&oJ.exports===Ace,aJ=XOe?jd.Buffer:void 0,ZOe=aJ?aJ.isBuffer:void 0,QOe=ZOe||YOe,kM=QOe,JOe="[object Arguments]",e4e="[object Array]",t4e="[object Boolean]",n4e="[object Date]",i4e="[object Error]",r4e="[object Function]",s4e="[object Map]",o4e="[object Number]",a4e="[object Object]",l4e="[object RegExp]",u4e="[object Set]",c4e="[object String]",d4e="[object WeakMap]",h4e="[object ArrayBuffer]",f4e="[object DataView]",g4e="[object Float32Array]",p4e="[object Float64Array]",m4e="[object Int8Array]",v4e="[object Int16Array]",_4e="[object Int32Array]",b4e="[object Uint8Array]",C4e="[object Uint8ClampedArray]",y4e="[object Uint16Array]",w4e="[object Uint32Array]",Xr={};Xr[g4e]=Xr[p4e]=Xr[m4e]=Xr[v4e]=Xr[_4e]=Xr[b4e]=Xr[C4e]=Xr[y4e]=Xr[w4e]=!0;Xr[JOe]=Xr[e4e]=Xr[h4e]=Xr[t4e]=Xr[f4e]=Xr[n4e]=Xr[i4e]=Xr[r4e]=Xr[s4e]=Xr[o4e]=Xr[a4e]=Xr[l4e]=Xr[u4e]=Xr[c4e]=Xr[d4e]=!1;function S4e(n){return Wg(n)&&Nce(n.length)&&!!Xr[Aw(n)]}function Vz(n){return function(e){return n(e)}}var Rce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,M2=Rce&&typeof module=="object"&&module&&!module.nodeType&&module,L4e=M2&&M2.exports===Rce,j5=L4e&&Sce.process,k4e=function(){try{var n=M2&&M2.require&&M2.require("util").types;return n||j5&&j5.binding&&j5.binding("util")}catch{}}(),Ly=k4e,lJ=Ly&&Ly.isTypedArray,E4e=lJ?Vz(lJ):S4e,Oce=E4e,D4e=Object.prototype,I4e=D4e.hasOwnProperty;function Pce(n,e){var t=Hg(n),i=!t&&Mce(n),r=!t&&!i&&kM(n),s=!t&&!i&&!r&&Oce(n),o=t||i||r||s,a=o?UOe(n.length,String):[],l=a.length;for(var u in n)(e||I4e.call(n,u))&&!(o&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||FOe(u,l)))&&a.push(u);return a}function Fce(n,e){return function(t){return n(e(t))}}var T4e=Fce(Object.keys,Object),N4e=T4e,x4e=Object.prototype,M4e=x4e.hasOwnProperty;function A4e(n){if(!$z(n))return N4e(n);var e=[];for(var t in Object(n))M4e.call(n,t)&&t!="constructor"&&e.push(t);return e}function Wz(n){return Bz(n)?Pce(n):A4e(n)}function R4e(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var O4e=Object.prototype,P4e=O4e.hasOwnProperty;function F4e(n){if(!zg(n))return R4e(n);var e=$z(n),t=[];for(var i in n)i=="constructor"&&(e||!P4e.call(n,i))||t.push(i);return t}function Hz(n){return Bz(n)?Pce(n,!0):F4e(n)}var B4e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$4e=/^\w*$/;function V4e(n,e){if(Hg(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||yO(n)?!0:$4e.test(n)||!B4e.test(n)||e!=null&&n in Object(e)}var W4e=y1(Object,"create"),jL=W4e;function H4e(){this.__data__=jL?jL(null):{},this.size=0}function z4e(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var U4e="__lodash_hash_undefined__",j4e=Object.prototype,K4e=j4e.hasOwnProperty;function G4e(n){var e=this.__data__;if(jL){var t=e[n];return t===U4e?void 0:t}return K4e.call(e,n)?e[n]:void 0}var q4e=Object.prototype,Y4e=q4e.hasOwnProperty;function X4e(n){var e=this.__data__;return jL?e[n]!==void 0:Y4e.call(e,n)}var Z4e="__lodash_hash_undefined__";function Q4e(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=jL&&e===void 0?Z4e:e,this}function I_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}I_.prototype.clear=H4e;I_.prototype.delete=z4e;I_.prototype.get=G4e;I_.prototype.has=X4e;I_.prototype.set=Q4e;function J4e(){this.__data__=[],this.size=0}function SO(n,e){for(var t=n.length;t--;)if(Fz(n[t][0],e))return t;return-1}var ePe=Array.prototype,tPe=ePe.splice;function nPe(n){var e=this.__data__,t=SO(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():tPe.call(e,t,1),--this.size,!0}function iPe(n){var e=this.__data__,t=SO(e,n);return t<0?void 0:e[t][1]}function rPe(n){return SO(this.__data__,n)>-1}function sPe(n,e){var t=this.__data__,i=SO(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function np(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}np.prototype.clear=J4e;np.prototype.delete=nPe;np.prototype.get=iPe;np.prototype.has=rPe;np.prototype.set=sPe;var oPe=y1(jd,"Map"),KL=oPe;function aPe(){this.size=0,this.__data__={hash:new I_,map:new(KL||np),string:new I_}}function lPe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function LO(n,e){var t=n.__data__;return lPe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function uPe(n){var e=LO(this,n).delete(n);return this.size-=e?1:0,e}function cPe(n){return LO(this,n).get(n)}function dPe(n){return LO(this,n).has(n)}function hPe(n,e){var t=LO(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function ip(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}ip.prototype.clear=aPe;ip.prototype.delete=uPe;ip.prototype.get=cPe;ip.prototype.has=dPe;ip.prototype.set=hPe;var fPe="Expected a function";function kO(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(fPe);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var o=n.apply(this,i);return t.cache=s.set(r,o)||s,o};return t.cache=new(kO.Cache||ip),t}kO.Cache=ip;var gPe=500;function pPe(n){var e=kO(n,function(i){return t.size===gPe&&t.clear(),i}),t=e.cache;return e}var mPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vPe=/\\(\\)?/g,_Pe=pPe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(mPe,function(t,i,r,s){e.push(r?s.replace(vPe,"$1"):i||t)}),e}),bPe=_Pe;function CPe(n){return n==null?"":kce(n)}function yPe(n,e){return Hg(n)?n:V4e(n,e)?[n]:bPe(CPe(n))}var wPe=1/0;function SPe(n){if(typeof n=="string"||yO(n))return n;var e=n+"";return e=="0"&&1/n==-wPe?"-0":e}function LPe(n,e){e=yPe(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[SPe(e[t++])];return t&&t==i?n:void 0}function Vs(n,e,t){var i=n==null?void 0:LPe(n,e);return i===void 0?t:i}function zz(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var uJ=Oc?Oc.isConcatSpreadable:void 0;function kPe(n){return Hg(n)||Mce(n)||!!(uJ&&n&&n[uJ])}function Uz(n,e,t,i,r){var s=-1,o=n.length;for(t||(t=kPe),r||(r=[]);++s<o;){var a=n[s];e>0&&t(a)?e>1?Uz(a,e-1,t,i,r):zz(r,a):i||(r[r.length]=a)}return r}var EPe=Fce(Object.getPrototypeOf,Object),Bce=EPe;function DPe(){this.__data__=new np,this.size=0}function IPe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function TPe(n){return this.__data__.get(n)}function NPe(n){return this.__data__.has(n)}var xPe=200;function MPe(n,e){var t=this.__data__;if(t instanceof np){var i=t.__data__;if(!KL||i.length<xPe-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new ip(i)}return t.set(n,e),this.size=t.size,this}function Sg(n){var e=this.__data__=new np(n);this.size=e.size}Sg.prototype.clear=DPe;Sg.prototype.delete=IPe;Sg.prototype.get=TPe;Sg.prototype.has=NPe;Sg.prototype.set=MPe;function APe(n,e){return n&&wO(e,Wz(e),n)}function RPe(n,e){return n&&wO(e,Hz(e),n)}var $ce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cJ=$ce&&typeof module=="object"&&module&&!module.nodeType&&module,OPe=cJ&&cJ.exports===$ce,dJ=OPe?jd.Buffer:void 0,hJ=dJ?dJ.allocUnsafe:void 0;function PPe(n,e){if(e)return n.slice();var t=n.length,i=hJ?hJ(t):new n.constructor(t);return n.copy(i),i}function FPe(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var o=n[t];e(o,t,n)&&(s[r++]=o)}return s}function Vce(){return[]}var BPe=Object.prototype,$Pe=BPe.propertyIsEnumerable,fJ=Object.getOwnPropertySymbols,VPe=fJ?function(n){return n==null?[]:(n=Object(n),FPe(fJ(n),function(e){return $Pe.call(n,e)}))}:Vce,jz=VPe;function WPe(n,e){return wO(n,jz(n),e)}var HPe=Object.getOwnPropertySymbols,zPe=HPe?function(n){for(var e=[];n;)zz(e,jz(n)),n=Bce(n);return e}:Vce,Wce=zPe;function UPe(n,e){return wO(n,Wce(n),e)}function Hce(n,e,t){var i=e(n);return Hg(n)?i:zz(i,t(n))}function OB(n){return Hce(n,Wz,jz)}function jPe(n){return Hce(n,Hz,Wce)}var KPe=y1(jd,"DataView"),PB=KPe,GPe=y1(jd,"Promise"),FB=GPe,qPe=y1(jd,"Set"),PC=qPe,gJ="[object Map]",YPe="[object Object]",pJ="[object Promise]",mJ="[object Set]",vJ="[object WeakMap]",_J="[object DataView]",XPe=C1(PB),ZPe=C1(KL),QPe=C1(FB),JPe=C1(PC),e3e=C1(RB),i0=Aw;(PB&&i0(new PB(new ArrayBuffer(1)))!=_J||KL&&i0(new KL)!=gJ||FB&&i0(FB.resolve())!=pJ||PC&&i0(new PC)!=mJ||RB&&i0(new RB)!=vJ)&&(i0=function(n){var e=Aw(n),t=e==YPe?n.constructor:void 0,i=t?C1(t):"";if(i)switch(i){case XPe:return _J;case ZPe:return gJ;case QPe:return pJ;case JPe:return mJ;case e3e:return vJ}return e});var GL=i0,t3e=Object.prototype,n3e=t3e.hasOwnProperty;function i3e(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&n3e.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var r3e=jd.Uint8Array,EM=r3e;function Kz(n){var e=new n.constructor(n.byteLength);return new EM(e).set(new EM(n)),e}function s3e(n,e){var t=e?Kz(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var o3e=/\w*$/;function a3e(n){var e=new n.constructor(n.source,o3e.exec(n));return e.lastIndex=n.lastIndex,e}var bJ=Oc?Oc.prototype:void 0,CJ=bJ?bJ.valueOf:void 0;function l3e(n){return CJ?Object(CJ.call(n)):{}}function u3e(n,e){var t=e?Kz(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var c3e="[object Boolean]",d3e="[object Date]",h3e="[object Map]",f3e="[object Number]",g3e="[object RegExp]",p3e="[object Set]",m3e="[object String]",v3e="[object Symbol]",_3e="[object ArrayBuffer]",b3e="[object DataView]",C3e="[object Float32Array]",y3e="[object Float64Array]",w3e="[object Int8Array]",S3e="[object Int16Array]",L3e="[object Int32Array]",k3e="[object Uint8Array]",E3e="[object Uint8ClampedArray]",D3e="[object Uint16Array]",I3e="[object Uint32Array]";function T3e(n,e,t){var i=n.constructor;switch(e){case _3e:return Kz(n);case c3e:case d3e:return new i(+n);case b3e:return s3e(n,t);case C3e:case y3e:case w3e:case S3e:case L3e:case k3e:case E3e:case D3e:case I3e:return u3e(n,t);case h3e:return new i;case f3e:case m3e:return new i(n);case g3e:return a3e(n);case p3e:return new i;case v3e:return l3e(n)}}function N3e(n){return typeof n.constructor=="function"&&!$z(n)?pOe(Bce(n)):{}}var x3e="[object Map]";function M3e(n){return Wg(n)&&GL(n)==x3e}var yJ=Ly&&Ly.isMap,A3e=yJ?Vz(yJ):M3e,R3e=A3e,O3e="[object Set]";function P3e(n){return Wg(n)&&GL(n)==O3e}var wJ=Ly&&Ly.isSet,F3e=wJ?Vz(wJ):P3e,B3e=F3e,$3e=1,V3e=2,W3e=4,zce="[object Arguments]",H3e="[object Array]",z3e="[object Boolean]",U3e="[object Date]",j3e="[object Error]",Uce="[object Function]",K3e="[object GeneratorFunction]",G3e="[object Map]",q3e="[object Number]",jce="[object Object]",Y3e="[object RegExp]",X3e="[object Set]",Z3e="[object String]",Q3e="[object Symbol]",J3e="[object WeakMap]",e5e="[object ArrayBuffer]",t5e="[object DataView]",n5e="[object Float32Array]",i5e="[object Float64Array]",r5e="[object Int8Array]",s5e="[object Int16Array]",o5e="[object Int32Array]",a5e="[object Uint8Array]",l5e="[object Uint8ClampedArray]",u5e="[object Uint16Array]",c5e="[object Uint32Array]",Br={};Br[zce]=Br[H3e]=Br[e5e]=Br[t5e]=Br[z3e]=Br[U3e]=Br[n5e]=Br[i5e]=Br[r5e]=Br[s5e]=Br[o5e]=Br[G3e]=Br[q3e]=Br[jce]=Br[Y3e]=Br[X3e]=Br[Z3e]=Br[Q3e]=Br[a5e]=Br[l5e]=Br[u5e]=Br[c5e]=!0;Br[j3e]=Br[Uce]=Br[J3e]=!1;function RN(n,e,t,i,r,s){var o,a=e&$3e,l=e&V3e,u=e&W3e;if(t&&(o=r?t(n,i,r,s):t(n)),o!==void 0)return o;if(!zg(n))return n;var c=Hg(n);if(c){if(o=i3e(n),!a)return _Oe(n,o)}else{var d=GL(n),h=d==Uce||d==K3e;if(kM(n))return PPe(n,a);if(d==jce||d==zce||h&&!r){if(o=l||h?{}:N3e(n),!a)return l?UPe(n,RPe(o,n)):WPe(n,APe(o,n))}else{if(!Br[d])return r?n:{};o=T3e(n,d,a)}}s||(s=new Sg);var f=s.get(n);if(f)return f;s.set(n,o),B3e(n)?n.forEach(function(m){o.add(RN(m,e,t,m,n,s))}):R3e(n)&&n.forEach(function(m,b){o.set(b,RN(m,e,t,b,n,s))});var g=u?l?jPe:OB:l?Hz:Wz,p=c?void 0:g(n);return TOe(p||n,function(m,b){p&&(b=m,m=n[b]),Tce(o,b,RN(m,e,t,b,n,s))}),o}var d5e=1,h5e=4;function f5e(n){return RN(n,d5e|h5e)}var g5e="__lodash_hash_undefined__";function p5e(n){return this.__data__.set(n,g5e),this}function m5e(n){return this.__data__.has(n)}function qL(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new ip;++e<t;)this.add(n[e])}qL.prototype.add=qL.prototype.push=p5e;qL.prototype.has=m5e;function v5e(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function Kce(n,e){return n.has(e)}var _5e=1,b5e=2;function Gce(n,e,t,i,r,s){var o=t&_5e,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(n),c=s.get(e);if(u&&c)return u==e&&c==n;var d=-1,h=!0,f=t&b5e?new qL:void 0;for(s.set(n,e),s.set(e,n);++d<a;){var g=n[d],p=e[d];if(i)var m=o?i(p,g,d,e,n,s):i(g,p,d,n,e,s);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!v5e(e,function(b,_){if(!Kce(f,_)&&(g===b||r(g,b,t,i,s)))return f.push(_)})){h=!1;break}}else if(!(g===p||r(g,p,t,i,s))){h=!1;break}}return s.delete(n),s.delete(e),h}function C5e(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}function Gz(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var y5e=1,w5e=2,S5e="[object Boolean]",L5e="[object Date]",k5e="[object Error]",E5e="[object Map]",D5e="[object Number]",I5e="[object RegExp]",T5e="[object Set]",N5e="[object String]",x5e="[object Symbol]",M5e="[object ArrayBuffer]",A5e="[object DataView]",SJ=Oc?Oc.prototype:void 0,K5=SJ?SJ.valueOf:void 0;function R5e(n,e,t,i,r,s,o){switch(t){case A5e:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case M5e:return!(n.byteLength!=e.byteLength||!s(new EM(n),new EM(e)));case S5e:case L5e:case D5e:return Fz(+n,+e);case k5e:return n.name==e.name&&n.message==e.message;case I5e:case N5e:return n==e+"";case E5e:var a=C5e;case T5e:var l=i&y5e;if(a||(a=Gz),n.size!=e.size&&!l)return!1;var u=o.get(n);if(u)return u==e;i|=w5e,o.set(n,e);var c=Gce(a(n),a(e),i,r,s,o);return o.delete(n),c;case x5e:if(K5)return K5.call(n)==K5.call(e)}return!1}var O5e=1,P5e=Object.prototype,F5e=P5e.hasOwnProperty;function B5e(n,e,t,i,r,s){var o=t&O5e,a=OB(n),l=a.length,u=OB(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:F5e.call(e,h)))return!1}var f=s.get(n),g=s.get(e);if(f&&g)return f==e&&g==n;var p=!0;s.set(n,e),s.set(e,n);for(var m=o;++d<l;){h=a[d];var b=n[h],_=e[h];if(i)var C=o?i(_,b,h,e,n,s):i(b,_,h,n,e,s);if(!(C===void 0?b===_||r(b,_,t,i,s):C)){p=!1;break}m||(m=h=="constructor")}if(p&&!m){var w=n.constructor,S=e.constructor;w!=S&&"constructor"in n&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(n),s.delete(e),p}var $5e=1,LJ="[object Arguments]",kJ="[object Array]",YI="[object Object]",V5e=Object.prototype,EJ=V5e.hasOwnProperty;function W5e(n,e,t,i,r,s){var o=Hg(n),a=Hg(e),l=o?kJ:GL(n),u=a?kJ:GL(e);l=l==LJ?YI:l,u=u==LJ?YI:u;var c=l==YI,d=u==YI,h=l==u;if(h&&kM(n)){if(!kM(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new Sg),o||Oce(n)?Gce(n,e,t,i,r,s):R5e(n,e,l,t,i,r,s);if(!(t&$5e)){var f=c&&EJ.call(n,"__wrapped__"),g=d&&EJ.call(e,"__wrapped__");if(f||g){var p=f?n.value():n,m=g?e.value():e;return s||(s=new Sg),r(p,m,t,i,s)}}return h?(s||(s=new Sg),B5e(n,e,t,i,r,s)):!1}function qce(n,e,t,i,r){return n===e?!0:n==null||e==null||!Wg(n)&&!Wg(e)?n!==n&&e!==e:W5e(n,e,t,i,qce,r)}var H5e=function(){return jd.Date.now()},G5=H5e,z5e="Expected a function",U5e=Math.max,j5e=Math.min;function Hl(n,e,t){var i,r,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(z5e);e=tJ(e)||0,zg(t)&&(c=!!t.leading,d="maxWait"in t,s=d?U5e(tJ(t.maxWait)||0,e):s,h="trailing"in t?!!t.trailing:h);function f(D){var E=i,I=r;return i=r=void 0,u=D,o=n.apply(I,E),o}function g(D){return u=D,a=setTimeout(b,e),c?f(D):o}function p(D){var E=D-l,I=D-u,T=e-E;return d?j5e(T,s-I):T}function m(D){var E=D-l,I=D-u;return l===void 0||E>=e||E<0||d&&I>=s}function b(){var D=G5();if(m(D))return _(D);a=setTimeout(b,p(D))}function _(D){return a=void 0,h&&i?f(D):(i=r=void 0,o)}function C(){a!==void 0&&clearTimeout(a),u=0,i=l=r=a=void 0}function w(){return a===void 0?o:_(G5())}function S(){var D=G5(),E=m(D);if(i=arguments,r=this,l=D,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(b,e),f(l)}return a===void 0&&(a=setTimeout(b,e)),o}return S.cancel=C,S.flush=w,S}function K5e(n){return Wg(n)&&Bz(n)}function G5e(n,e,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(e,n[i]))return!0;return!1}var q5e=1/0;function Y5e(n){var e=n==null?0:n.length;return e?Uz(n,q5e):[]}function Yce(n){for(var e=-1,t=n==null?0:n.length,i={};++e<t;){var r=n[e];i[r[0]]=r[1]}return i}function wd(n,e){return qce(n,e)}var X5e="Expected a function";function J0(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(X5e);return zg(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),Hl(n,e,{leading:i,maxWait:e,trailing:r})}var Z5e=1/0,Q5e=PC&&1/Gz(new PC([,-0]))[1]==Z5e?function(n){return new PC(n)}:vOe,J5e=Q5e,eFe=200;function tFe(n,e,t){var i=-1,r=ROe,s=n.length,o=!0,a=[],l=a;if(t)o=!1,r=G5e;else if(s>=eFe){var u=e?null:J5e(n);if(u)return Gz(u);o=!1,r=Kce,l=new qL}else l=e?[]:a;e:for(;++i<s;){var c=n[i],d=e?e(c):c;if(c=t||c!==0?c:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else r(l,d,t)||(l!==a&&l.push(d),a.push(c))}return a}var nFe=WOe(function(n){return tFe(Uz(n,1,K5e,!0))}),q5=nFe;const iFe='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',rFe=n=>getComputedStyle(n).position==="fixed"?!1:n.offsetParent!==null,DJ=n=>Array.from(n.querySelectorAll(iFe)).filter(e=>sFe(e)&&rFe(e)),sFe=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.disabled)return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},ON=function(n,e,...t){let i;e.includes("mouse")||e.includes("click")?i="MouseEvents":e.includes("key")?i="KeyboardEvent":i="HTMLEvents";const r=document.createEvent(i);return r.initEvent(e,...t),n.dispatchEvent(r),n},Xce=n=>!n.getAttribute("aria-owns"),Zce=(n,e,t)=>{const{parentNode:i}=n;if(!i)return null;const r=i.querySelectorAll(t),s=Array.prototype.indexOf.call(r,n);return r[s+e]||null},PN=n=>{!n||(n.focus(),!Xce(n)&&n.click())},Vi=(n,e,t,i=!1)=>{n&&e&&t&&(n==null||n.addEventListener(e,t,i))},Lr=(n,e,t,i=!1)=>{n&&e&&t&&(n==null||n.removeEventListener(e,t,i))},oFe=(n,e,t)=>{const i=function(...r){t&&t.apply(this,r),Lr(n,e,i)};Vi(n,e,i)},eo=(n,e,{checkForDefaultPrevented:t=!0}={})=>r=>{const s=n==null?void 0:n(r);if(t===!1||!s)return e==null?void 0:e(r)},IJ=n=>e=>e.pointerType==="mouse"?n(e):void 0;function EO(n){return ple()?(GH(n),!0):!1}const Kn=typeof window!="undefined",Ol=n=>typeof n=="boolean",ei=n=>typeof n=="number",aFe=n=>typeof n=="string",Y5=()=>{};function lFe(n,e){function t(...i){n(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})}return t}function uFe(n,e=!0,t=!0){let i=0,r,s=!t;const o=()=>{r&&(clearTimeout(r),r=void 0)};return l=>{const u=Ue(n),c=Date.now()-i;if(o(),u<=0)return i=Date.now(),l();c>u&&(i=Date.now(),s?s=!1:l()),e&&(r=setTimeout(()=>{i=Date.now(),t||(s=!0),o(),l()},u)),!t&&!r&&(r=setTimeout(()=>s=!0,u))}}var cFe=Object.defineProperty,dFe=Object.defineProperties,hFe=Object.getOwnPropertyDescriptors,TJ=Object.getOwnPropertySymbols,fFe=Object.prototype.hasOwnProperty,gFe=Object.prototype.propertyIsEnumerable,NJ=(n,e,t)=>e in n?cFe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pFe=(n,e)=>{for(var t in e||(e={}))fFe.call(e,t)&&NJ(n,t,e[t]);if(TJ)for(var t of TJ(e))gFe.call(e,t)&&NJ(n,t,e[t]);return n},mFe=(n,e)=>dFe(n,hFe(e));function xJ(n,e){var t;const i=ra();return yd(()=>{i.value=n()},mFe(pFe({},e),{flush:(t=e==null?void 0:e.flush)!=null?t:"sync"})),xw(i)}function Qce(n,e=200,t=!0,i=!0){return lFe(uFe(e,t,i),n)}function ky(n,e,t={}){const{immediate:i=!0}=t,r=J(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){r.value=!1,o()}function l(...u){o(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,n(...u)},Ue(e))}return i&&(r.value=!0,Kn&&l()),EO(a),{isPending:r,start:l,stop:a}}function A2(n){var e;const t=Ue(n);return(e=t==null?void 0:t.$el)!=null?e:t}const YE=Kn?window:void 0,vFe=Kn?window.document:void 0;function no(...n){let e,t,i,r;if(aFe(n[0])?([t,i,r]=n,e=YE):[e,t,i,r]=n,!e)return Y5;let s=Y5;const o=Ze(()=>Ue(e),l=>{s(),!!l&&(l.addEventListener(t,i,r),s=()=>{l.removeEventListener(t,i,r),s=Y5})},{immediate:!0,flush:"post"}),a=()=>{o(),s()};return EO(a),a}function BB(n,e,t={}){const{window:i=YE,ignore:r}=t;if(!i)return;const s=J(!0),a=[no(i,"click",u=>{const c=A2(n),d=u.composedPath();!c||c===u.target||d.includes(c)||!s.value||r&&r.length>0&&r.some(h=>{const f=A2(h);return f&&(u.target===f||d.includes(f))})||e(u)},{passive:!0,capture:!0}),no(i,"pointerdown",u=>{const c=A2(n);s.value=!!c&&!u.composedPath().includes(c)},{passive:!0})];return()=>a.forEach(u=>u())}const $B=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},VB="__vueuse_ssr_handlers__";$B[VB]=$B[VB]||{};$B[VB];function _Fe(n,e,{window:t=YE}={}){const i=J(""),r=z(()=>{var s;return A2(e)||((s=t==null?void 0:t.document)==null?void 0:s.documentElement)});return Ze([r,()=>Ue(n)],([s,o])=>{s&&t&&(i.value=t.getComputedStyle(s).getPropertyValue(o))},{immediate:!0}),Ze(i,s=>{var o;((o=r.value)==null?void 0:o.style)&&r.value.style.setProperty(Ue(n),s)}),i}function bFe({document:n=vFe}={}){if(!n)return J("visible");const e=J(n.visibilityState);return no(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var MJ=Object.getOwnPropertySymbols,CFe=Object.prototype.hasOwnProperty,yFe=Object.prototype.propertyIsEnumerable,wFe=(n,e)=>{var t={};for(var i in n)CFe.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&MJ)for(var i of MJ(n))e.indexOf(i)<0&&yFe.call(n,i)&&(t[i]=n[i]);return t};function YL(n,e,t={}){const i=t,{window:r=YE}=i,s=wFe(i,["window"]);let o;const a=r&&"ResizeObserver"in r,l=()=>{o&&(o.disconnect(),o=void 0)},u=Ze(()=>A2(n),d=>{l(),a&&r&&d&&(o=new r.ResizeObserver(e),o.observe(d,s))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return EO(c),{isSupported:a,stop:c}}var AJ,RJ;Kn&&(window==null?void 0:window.navigator)&&((AJ=window==null?void 0:window.navigator)==null?void 0:AJ.platform)&&/iP(ad|hone|od)/.test((RJ=window==null?void 0:window.navigator)==null?void 0:RJ.platform);var SFe=Object.defineProperty,OJ=Object.getOwnPropertySymbols,LFe=Object.prototype.hasOwnProperty,kFe=Object.prototype.propertyIsEnumerable,PJ=(n,e,t)=>e in n?SFe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,EFe=(n,e)=>{for(var t in e||(e={}))LFe.call(e,t)&&PJ(n,t,e[t]);if(OJ)for(var t of OJ(e))kFe.call(e,t)&&PJ(n,t,e[t]);return n};const DFe={top:0,left:0,bottom:0,right:0,height:0,width:0};EFe({text:""},DFe);function IFe({window:n=YE}={}){if(!n)return J(!1);const e=J(n.document.hasFocus());return no(n,"blur",()=>{e.value=!1}),no(n,"focus",()=>{e.value=!0}),e}const TFe=(n,e)=>{if(!Kn||!n||!e)return!1;const t=n.getBoundingClientRect();let i;return e instanceof Element?i=e.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},t.top<i.bottom&&t.bottom>i.top&&t.right>i.left&&t.left<i.right},FJ=n=>{let e=0,t=n;for(;t;)e+=t.offsetTop,t=t.offsetParent;return e},NFe=(n,e)=>Math.abs(FJ(n)-FJ(e)),qz=n=>{let e,t;return n.type==="touchend"?(t=n.changedTouches[0].clientY,e=n.changedTouches[0].clientX):n.type.startsWith("touch")?(t=n.touches[0].clientY,e=n.touches[0].clientX):(t=n.clientY,e=n.clientX),{clientX:e,clientY:t}},xFe=function(n){for(const e of n){const t=e.target.__resizeListeners__||[];t.length&&t.forEach(i=>{i()})}},_v=function(n,e){!Kn||!n||(n.__resizeListeners__||(n.__resizeListeners__=[],n.__ro__=new ResizeObserver(xFe),n.__ro__.observe(n)),n.__resizeListeners__.push(e))},bv=function(n,e){var t;!n||!n.__resizeListeners__||(n.__resizeListeners__.splice(n.__resizeListeners__.indexOf(e),1),n.__resizeListeners__.length||(t=n.__ro__)==null||t.disconnect())},ur=()=>{},MFe=Object.prototype.hasOwnProperty,uo=(n,e)=>MFe.call(n,e),Iu=Array.isArray,xl=n=>typeof n=="function",Or=n=>typeof n=="string",so=n=>n!==null&&typeof n=="object",DM=n=>so(n)&&xl(n.then)&&xl(n.catch),AFe=Object.prototype.toString,Jce=n=>AFe.call(n),X5=n=>Jce(n).slice(8,-1),Yz=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},RFe=/-(\w)/g,OFe=Yz(n=>n.replace(RFe,(e,t)=>t?t.toUpperCase():"")),PFe=/\B([A-Z])/g,FFe=Yz(n=>n.replace(PFe,"-$1").toLowerCase()),ug=Yz(n=>n.charAt(0).toUpperCase()+n.slice(1)),XL=n=>n===void 0,ZL=n=>!n&&n!==0||Iu(n)&&n.length===0||so(n)&&!Object.keys(n).length,BFe=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");class $Fe extends Error{constructor(e){super(e);this.name="ElementPlusError"}}function ca(n,e){throw new $Fe(`[${n}] ${e}`)}const VFe="UtilV2/objects",WB=n=>Object.keys(n);function FN(n,e,t){let i=n,r,s;if(n&&uo(n,e))r=e,s=i==null?void 0:i[e];else{e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");const o=e.split(".");let a=0;for(a;a<o.length-1&&!(!i&&!t);a++){const l=o[a];if(l in i)i=i[l];else{t&&ca(VFe,"Please transfer a valid prop path to form item!");break}}r=o[a],s=i==null?void 0:i[o[a]]}return{o:i,k:r,v:s}}const ede=(n="")=>n.split(" ").filter(e=>!!e.trim()),Sd=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},Rh=(n,e)=>{!n||!e.trim()||n.classList.add(...ede(e))},Pl=(n,e)=>{!n||!e.trim()||n.classList.remove(...ede(e))},kh=(n,e)=>{var t;if(!Kn||!n||!e)return"";OFe(e);try{const i=n.style[e];if(i)return i;const r=(t=document.defaultView)==null?void 0:t.getComputedStyle(n,"");return r?r[e]:""}catch{return n.style[e]}},WFe=(n,e)=>{if(!Kn)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],i=kh(n,t);return["scroll","auto","overlay"].some(r=>i.includes(r))},Xz=(n,e)=>{if(!Kn)return;let t=n;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(WFe(t,e))return t;t=t.parentNode}return t};let XI;const tde=()=>{var n;if(!Kn)return 0;if(XI!==void 0)return XI;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",e.appendChild(i);const r=i.offsetWidth;return(n=e.parentNode)==null||n.removeChild(e),XI=t-r,XI};function nde(n,e){if(!Kn)return;if(!e){n.scrollTop=0;return}const t=[];let i=e.offsetParent;for(;i!==null&&n!==i&&n.contains(i);)t.push(i),i=i.offsetParent;const r=e.offsetTop+t.reduce((l,u)=>l+u.offsetTop,0),s=r+e.offsetHeight,o=n.scrollTop,a=o+n.clientHeight;r<o?n.scrollTop=r:s>a&&(n.scrollTop=s-n.clientHeight)}Kn&&document.body;var mi=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t};const HFe=Me({name:"ArrowDown"}),zFe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},UFe=oe("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672 192.128 340.864a30.592 30.592 0 00-42.752 0 29.12 29.12 0 000 41.6L489.664 714.24a32 32 0 0044.672 0l340.288-331.712a29.12 29.12 0 000-41.728 30.592 30.592 0 00-42.752 0z"},null,-1),jFe=[UFe];function KFe(n,e,t,i,r,s){return B(),te("svg",zFe,jFe)}var w1=mi(HFe,[["render",KFe]]);const GFe=Me({name:"ArrowLeft"}),qFe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YFe=oe("path",{fill:"currentColor",d:"M609.408 149.376L277.76 489.6a32 32 0 000 44.672l331.648 340.352a29.12 29.12 0 0041.728 0 30.592 30.592 0 000-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 000-42.688 29.12 29.12 0 00-41.728 0z"},null,-1),XFe=[YFe];function ZFe(n,e,t,i,r,s){return B(),te("svg",qFe,XFe)}var S1=mi(GFe,[["render",ZFe]]);const QFe=Me({name:"ArrowRight"}),JFe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e8e=oe("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 000 42.752L652.736 512 340.864 831.872a30.592 30.592 0 000 42.752 29.12 29.12 0 0041.728 0L714.24 534.336a32 32 0 000-44.672L382.592 149.376a29.12 29.12 0 00-41.728 0z"},null,-1),t8e=[e8e];function n8e(n,e,t,i,r,s){return B(),te("svg",JFe,t8e)}var Hc=mi(QFe,[["render",n8e]]);const i8e=Me({name:"ArrowUp"}),r8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},s8e=oe("path",{fill:"currentColor",d:"M488.832 344.32l-339.84 356.672a32 32 0 000 44.16l.384.384a29.44 29.44 0 0042.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0042.688 0l.384-.384a32 32 0 000-44.16L535.168 344.32a32 32 0 00-46.336 0z"},null,-1),o8e=[s8e];function a8e(n,e,t,i,r,s){return B(),te("svg",r8e,o8e)}var XE=mi(i8e,[["render",a8e]]);const l8e=Me({name:"Back"}),u8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},c8e=oe("path",{fill:"currentColor",d:"M224 480h640a32 32 0 110 64H224a32 32 0 010-64z"},null,-1),d8e=oe("path",{fill:"currentColor",d:"M237.248 512l265.408 265.344a32 32 0 01-45.312 45.312l-288-288a32 32 0 010-45.312l288-288a32 32 0 1145.312 45.312L237.248 512z"},null,-1),h8e=[c8e,d8e];function f8e(n,e,t,i,r,s){return B(),te("svg",u8e,h8e)}var g8e=mi(l8e,[["render",f8e]]);const p8e=Me({name:"Calendar"}),m8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},v8e=oe("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 11-64 0v-32H320v32a32 32 0 01-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1164 0v32h160a32 32 0 0132 32v768a32 32 0 01-32 32H96a32 32 0 01-32-32V160a32 32 0 0132-32h160V96a32 32 0 0164 0v32zm-32 384h64a32 32 0 010 64h-64a32 32 0 010-64zm0 192h64a32 32 0 110 64h-64a32 32 0 110-64zm192-192h64a32 32 0 010 64h-64a32 32 0 010-64zm0 192h64a32 32 0 110 64h-64a32 32 0 110-64zm192-192h64a32 32 0 110 64h-64a32 32 0 110-64zm0 192h64a32 32 0 110 64h-64a32 32 0 110-64z"},null,-1),_8e=[v8e];function b8e(n,e,t,i,r,s){return B(),te("svg",m8e,_8e)}var C8e=mi(p8e,[["render",b8e]]);const y8e=Me({name:"CaretRight"}),w8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},S8e=oe("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),L8e=[S8e];function k8e(n,e,t,i,r,s){return B(),te("svg",w8e,L8e)}var ide=mi(y8e,[["render",k8e]]);const E8e=Me({name:"CaretTop"}),D8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I8e=oe("path",{fill:"currentColor",d:"M512 320L192 704h639.936z"},null,-1),T8e=[I8e];function N8e(n,e,t,i,r,s){return B(),te("svg",D8e,T8e)}var x8e=mi(E8e,[["render",N8e]]);const M8e=Me({name:"Check"}),A8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},R8e=oe("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z"},null,-1),O8e=[R8e];function P8e(n,e,t,i,r,s){return B(),te("svg",A8e,O8e)}var Ey=mi(M8e,[["render",P8e]]);const F8e=Me({name:"CircleCheckFilled"}),B8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$8e=oe("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm-55.808 536.384l-99.52-99.584a38.4 38.4 0 10-54.336 54.336l126.72 126.72a38.272 38.272 0 0054.336 0l262.4-262.464a38.4 38.4 0 10-54.272-54.336L456.192 600.384z"},null,-1),V8e=[$8e];function W8e(n,e,t,i,r,s){return B(),te("svg",B8e,V8e)}var H8e=mi(F8e,[["render",W8e]]);const z8e=Me({name:"CircleCheck"}),U8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},j8e=oe("path",{fill:"currentColor",d:"M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"},null,-1),K8e=oe("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0145.312 45.312l-288 288a32 32 0 01-45.312 0l-160-160a32 32 0 1145.312-45.312L480 626.752l265.344-265.408z"},null,-1),G8e=[j8e,K8e];function q8e(n,e,t,i,r,s){return B(),te("svg",U8e,G8e)}var IM=mi(z8e,[["render",q8e]]);const Y8e=Me({name:"CircleCloseFilled"}),X8e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Z8e=oe("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm0 393.664L407.936 353.6a38.4 38.4 0 10-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1054.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1054.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 10-54.336-54.336L512 457.664z"},null,-1),Q8e=[Z8e];function J8e(n,e,t,i,r,s){return B(),te("svg",X8e,Q8e)}var Zz=mi(Y8e,[["render",J8e]]);const e6e=Me({name:"CircleClose"}),t6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},n6e=oe("path",{fill:"currentColor",d:"M466.752 512l-90.496-90.496a32 32 0 0145.248-45.248L512 466.752l90.496-90.496a32 32 0 1145.248 45.248L557.248 512l90.496 90.496a32 32 0 11-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 01-45.248-45.248L466.752 512z"},null,-1),i6e=oe("path",{fill:"currentColor",d:"M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"},null,-1),r6e=[n6e,i6e];function s6e(n,e,t,i,r,s){return B(),te("svg",t6e,r6e)}var Ug=mi(e6e,[["render",s6e]]);const o6e=Me({name:"Clock"}),a6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l6e=oe("path",{fill:"currentColor",d:"M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"},null,-1),u6e=oe("path",{fill:"currentColor",d:"M480 256a32 32 0 0132 32v256a32 32 0 01-64 0V288a32 32 0 0132-32z"},null,-1),c6e=oe("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),d6e=[l6e,u6e,c6e];function h6e(n,e,t,i,r,s){return B(),te("svg",a6e,d6e)}var rde=mi(o6e,[["render",h6e]]);const f6e=Me({name:"Close"}),g6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},p6e=oe("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88 259.712 214.592a31.936 31.936 0 00-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1045.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0045.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 10-45.12-45.184z"},null,-1),m6e=[p6e];function v6e(n,e,t,i,r,s){return B(),te("svg",g6e,m6e)}var Td=mi(f6e,[["render",v6e]]);const _6e=Me({name:"DArrowLeft"}),b6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C6e=oe("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0141.728 0 30.592 30.592 0 010 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 01-.512 43.264 29.12 29.12 0 01-41.216-.512L197.76 534.272a32 32 0 010-44.672l331.648-340.224zm256 0a29.12 29.12 0 0141.728 0 30.592 30.592 0 010 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 01-.512 43.264 29.12 29.12 0 01-41.216-.512L453.76 534.272a32 32 0 010-44.672l331.648-340.224z"},null,-1),y6e=[C6e];function w6e(n,e,t,i,r,s){return B(),te("svg",b6e,y6e)}var DO=mi(_6e,[["render",w6e]]);const S6e=Me({name:"DArrowRight"}),L6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},k6e=oe("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0141.728.064L826.24 489.664a32 32 0 010 44.672L494.592 874.624a29.12 29.12 0 01-41.728 0 30.592 30.592 0 010-42.752L764.736 512 452.864 192a30.592 30.592 0 010-42.688zm-256 0a29.12 29.12 0 0141.728.064L570.24 489.664a32 32 0 010 44.672L238.592 874.624a29.12 29.12 0 01-41.728 0 30.592 30.592 0 010-42.752L508.736 512 196.864 192a30.592 30.592 0 010-42.688z"},null,-1),E6e=[k6e];function D6e(n,e,t,i,r,s){return B(),te("svg",L6e,E6e)}var IO=mi(S6e,[["render",D6e]]);const I6e=Me({name:"Delete"}),T6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},N6e=oe("path",{fill:"currentColor",d:"M160 256H96a32 32 0 010-64h256V95.936a32 32 0 0132-32h256a32 32 0 0132 32V192h256a32 32 0 110 64h-64v672a32 32 0 01-32 32H192a32 32 0 01-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32zm192 0a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32z"},null,-1),x6e=[N6e];function M6e(n,e,t,i,r,s){return B(),te("svg",T6e,x6e)}var A6e=mi(I6e,[["render",M6e]]);const R6e=Me({name:"Document"}),O6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},P6e=oe("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 01-32 32H160a32 32 0 01-32-32V96a32 32 0 0132-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),F6e=[P6e];function B6e(n,e,t,i,r,s){return B(),te("svg",O6e,F6e)}var $6e=mi(R6e,[["render",B6e]]);const V6e=Me({name:"FullScreen"}),W6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},H6e=oe("path",{fill:"currentColor",d:"M160 96.064l192 .192a32 32 0 010 64l-192-.192V352a32 32 0 01-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1164 0v191.936l192-.192a32 32 0 110 64l-192 .192zM864 96.064V96h64v256a32 32 0 11-64 0V160.064l-192 .192a32 32 0 110-64l192-.192zm0 831.872l-192-.192a32 32 0 010-64l192 .192V672a32 32 0 1164 0v256h-64v-.064z"},null,-1),z6e=[H6e];function U6e(n,e,t,i,r,s){return B(),te("svg",W6e,z6e)}var j6e=mi(V6e,[["render",U6e]]);const K6e=Me({name:"InfoFilled"}),G6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},q6e=oe("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896.064A448 448 0 01512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 01-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 017.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),Y6e=[q6e];function X6e(n,e,t,i,r,s){return B(),te("svg",G6e,Y6e)}var Qz=mi(K6e,[["render",X6e]]);const Z6e=Me({name:"Loading"}),Q6e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},J6e=oe("path",{fill:"currentColor",d:"M512 64a32 32 0 0132 32v192a32 32 0 01-64 0V96a32 32 0 0132-32zm0 640a32 32 0 0132 32v192a32 32 0 11-64 0V736a32 32 0 0132-32zm448-192a32 32 0 01-32 32H736a32 32 0 110-64h192a32 32 0 0132 32zm-640 0a32 32 0 01-32 32H96a32 32 0 010-64h192a32 32 0 0132 32zM195.2 195.2a32 32 0 0145.248 0L376.32 331.008a32 32 0 01-45.248 45.248L195.2 240.448a32 32 0 010-45.248zm452.544 452.544a32 32 0 0145.248 0L828.8 783.552a32 32 0 01-45.248 45.248L647.744 692.992a32 32 0 010-45.248zM828.8 195.264a32 32 0 010 45.184L692.992 376.32a32 32 0 01-45.248-45.248l135.808-135.808a32 32 0 0145.248 0zm-452.544 452.48a32 32 0 010 45.248L240.448 828.8a32 32 0 01-45.248-45.248l135.808-135.808a32 32 0 0145.248 0z"},null,-1),eBe=[J6e];function tBe(n,e,t,i,r,s){return B(),te("svg",Q6e,eBe)}var Cv=mi(Z6e,[["render",tBe]]);const nBe=Me({name:"Minus"}),iBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rBe=oe("path",{fill:"currentColor",d:"M128 544h768a32 32 0 100-64H128a32 32 0 000 64z"},null,-1),sBe=[rBe];function oBe(n,e,t,i,r,s){return B(),te("svg",iBe,sBe)}var aBe=mi(nBe,[["render",oBe]]);const lBe=Me({name:"MoreFilled"}),uBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cBe=oe("path",{fill:"currentColor",d:"M176 416a112 112 0 110 224 112 112 0 010-224zm336 0a112 112 0 110 224 112 112 0 010-224zm336 0a112 112 0 110 224 112 112 0 010-224z"},null,-1),dBe=[cBe];function hBe(n,e,t,i,r,s){return B(),te("svg",uBe,dBe)}var fBe=mi(lBe,[["render",hBe]]);const gBe=Me({name:"More"}),pBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mBe=oe("path",{fill:"currentColor",d:"M176 416a112 112 0 100 224 112 112 0 000-224m0 64a48 48 0 110 96 48 48 0 010-96zm336-64a112 112 0 110 224 112 112 0 010-224zm0 64a48 48 0 100 96 48 48 0 000-96zm336-64a112 112 0 110 224 112 112 0 010-224zm0 64a48 48 0 100 96 48 48 0 000-96z"},null,-1),vBe=[mBe];function _Be(n,e,t,i,r,s){return B(),te("svg",pBe,vBe)}var bBe=mi(gBe,[["render",_Be]]);const CBe=Me({name:"Plus"}),yBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wBe=oe("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0164 0v352h352a32 32 0 110 64H544v352a32 32 0 11-64 0V544H128a32 32 0 010-64h352z"},null,-1),SBe=[wBe];function LBe(n,e,t,i,r,s){return B(),te("svg",yBe,SBe)}var sde=mi(CBe,[["render",LBe]]);const kBe=Me({name:"QuestionFilled"}),EBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DBe=oe("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 00-38.72 14.784 49.408 49.408 0 00-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 00523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0016.192-38.72 51.968 51.968 0 00-15.488-38.016 55.936 55.936 0 00-39.424-14.784z"},null,-1),IBe=[DBe];function TBe(n,e,t,i,r,s){return B(),te("svg",EBe,IBe)}var NBe=mi(kBe,[["render",TBe]]);const xBe=Me({name:"RefreshLeft"}),MBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ABe=oe("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 010 64H232.96a32 32 0 01-32-32V179.712a32 32 0 0164 0v50.56a384 384 0 01643.84 282.88 384 384 0 01-383.936 384 384 384 0 01-384-384h64a320 320 0 10640 0 320 320 0 00-555.712-216.448z"},null,-1),RBe=[ABe];function OBe(n,e,t,i,r,s){return B(),te("svg",MBe,RBe)}var PBe=mi(xBe,[["render",OBe]]);const FBe=Me({name:"RefreshRight"}),BBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$Be=oe("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1164 0v149.056a32 32 0 01-32 32H667.52a32 32 0 110-64h92.992A320 320 0 10524.8 833.152a320 320 0 00320-320h64a384 384 0 01-384 384 384 384 0 01-384-384 384 384 0 01643.712-282.88z"},null,-1),VBe=[$Be];function WBe(n,e,t,i,r,s){return B(),te("svg",BBe,VBe)}var HBe=mi(FBe,[["render",WBe]]);const zBe=Me({name:"ScaleToOriginal"}),UBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jBe=oe("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0160.236 60.235v481.883a60.235 60.235 0 01-60.236 60.235H210.824a60.235 60.235 0 01-60.236-60.235V240.94a60.235 60.235 0 0160.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0090.353 240.94v481.883a120.47 120.47 0 00120.47 120.47h602.353a120.47 120.47 0 00120.471-120.47V240.94a120.47 120.47 0 00-120.47-120.47zm-120.47 180.705a30.118 30.118 0 00-30.118 30.118v301.177a30.118 30.118 0 0060.236 0V331.294a30.118 30.118 0 00-30.118-30.118zm-361.412 0a30.118 30.118 0 00-30.118 30.118v301.177a30.118 30.118 0 1060.236 0V331.294a30.118 30.118 0 00-30.118-30.118zM512 361.412a30.118 30.118 0 00-30.118 30.117v30.118a30.118 30.118 0 0060.236 0V391.53A30.118 30.118 0 00512 361.412zM512 512a30.118 30.118 0 00-30.118 30.118v30.117a30.118 30.118 0 0060.236 0v-30.117A30.118 30.118 0 00512 512z"},null,-1),KBe=[jBe];function GBe(n,e,t,i,r,s){return B(),te("svg",UBe,KBe)}var qBe=mi(zBe,[["render",GBe]]);const YBe=Me({name:"Search"}),XBe={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZBe=oe("path",{fill:"currentColor",d:"M795.904 750.72l124.992 124.928a32 32 0 01-45.248 45.248L750.656 795.904a416 416 0 1145.248-45.248zM480 832a352 352 0 100-704 352 352 0 000 704z"},null,-1),QBe=[ZBe];function JBe(n,e,t,i,r,s){return B(),te("svg",XBe,QBe)}var e9e=mi(YBe,[["render",JBe]]);const t9e=Me({name:"StarFilled"}),n9e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},i9e=oe("path",{fill:"currentColor",d:"M283.84 867.84L512 747.776l228.16 119.936a6.4 6.4 0 009.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 00-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 00-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 00-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 009.28 6.72z"},null,-1),r9e=[i9e];function s9e(n,e,t,i,r,s){return B(),te("svg",n9e,r9e)}var r2=mi(t9e,[["render",s9e]]);const o9e=Me({name:"Star"}),a9e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l9e=oe("path",{fill:"currentColor",d:"M512 747.84l228.16 119.936a6.4 6.4 0 009.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 00-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 00-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 00-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 009.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 01-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 01128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 01126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0139.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 01-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),u9e=[l9e];function c9e(n,e,t,i,r,s){return B(),te("svg",a9e,u9e)}var ode=mi(o9e,[["render",c9e]]);const d9e=Me({name:"SuccessFilled"}),h9e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},f9e=oe("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm-55.808 536.384l-99.52-99.584a38.4 38.4 0 10-54.336 54.336l126.72 126.72a38.272 38.272 0 0054.336 0l262.4-262.464a38.4 38.4 0 10-54.272-54.336L456.192 600.384z"},null,-1),g9e=[f9e];function p9e(n,e,t,i,r,s){return B(),te("svg",h9e,g9e)}var ade=mi(d9e,[["render",p9e]]);const m9e=Me({name:"View"}),v9e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_9e=oe("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 110 448 224 224 0 010-448zm0 64a160.192 160.192 0 00-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),b9e=[_9e];function C9e(n,e,t,i,r,s){return B(),te("svg",v9e,b9e)}var y9e=mi(m9e,[["render",C9e]]);const w9e=Me({name:"WarningFilled"}),S9e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},L9e=oe("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm0 192a58.432 58.432 0 00-58.24 63.744l23.36 256.384a35.072 35.072 0 0069.76 0l23.296-256.384A58.432 58.432 0 00512 256zm0 512a51.2 51.2 0 100-102.4 51.2 51.2 0 000 102.4z"},null,-1),k9e=[L9e];function E9e(n,e,t,i,r,s){return B(),te("svg",S9e,k9e)}var QL=mi(w9e,[["render",E9e]]);const D9e=Me({name:"ZoomIn"}),I9e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},T9e=oe("path",{fill:"currentColor",d:"M795.904 750.72l124.992 124.928a32 32 0 01-45.248 45.248L750.656 795.904a416 416 0 1145.248-45.248zM480 832a352 352 0 100-704 352 352 0 000 704zm-32-384v-96a32 32 0 0164 0v96h96a32 32 0 010 64h-96v96a32 32 0 01-64 0v-96h-96a32 32 0 010-64h96z"},null,-1),N9e=[T9e];function x9e(n,e,t,i,r,s){return B(),te("svg",I9e,N9e)}var lde=mi(D9e,[["render",x9e]]);const M9e=Me({name:"ZoomOut"}),A9e={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},R9e=oe("path",{fill:"currentColor",d:"M795.904 750.72l124.992 124.928a32 32 0 01-45.248 45.248L750.656 795.904a416 416 0 1145.248-45.248zM480 832a352 352 0 100-704 352 352 0 000 704zM352 448h256a32 32 0 010 64H352a32 32 0 010-64z"},null,-1),O9e=[R9e];function P9e(n,e,t,i,r,s){return B(),te("svg",A9e,O9e)}var F9e=mi(M9e,[["render",P9e]]);const HB=Symbol(),BJ="__elPropsReservedKey";function Nd(n,e){if(!so(n)||!!n[BJ])return n;const{values:t,required:i,default:r,type:s,validator:o}=n,a=t||o?u=>{let c=!1,d=[];if(t&&(d=Array.from(t),uo(n,"default")&&d.push(r),c||(c=d.includes(u))),o&&(c||(c=o(u))),!c&&d.length>0){const h=[...new Set(d)].map(f=>JSON.stringify(f)).join(", ");tz(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(u)}.`)}return c}:void 0,l={type:so(s)&&Object.getOwnPropertySymbols(s).includes(HB)?s[HB]:s,required:!!i,validator:a,[BJ]:!0};return uo(n,"default")&&(l.default=r),l}const Wt=n=>Yce(Object.entries(n).map(([e,t])=>[e,Nd(t,e)])),It=n=>({[HB]:n}),Ma=It([String,Object,Function]),B9e={Close:Td},TO={Close:Td,SuccessFilled:ade,InfoFilled:Qz,WarningFilled:QL,CircleCloseFilled:Zz},jg={success:ade,warning:QL,error:Zz,info:Qz},ude={validating:Cv,success:IM,error:Ug},wn=(n,e)=>{if(n.install=t=>{for(const i of[n,...Object.values(e!=null?e:{})])t.component(i.name,i)},e)for(const[t,i]of Object.entries(e))n[t]=i;return n},cde=(n,e)=>(n.install=t=>{t.config.globalProperties[e]=n},n),Ur=n=>(n.install=ur,n),dde=(...n)=>e=>{n.forEach(t=>{t.value=e})};function xd(n,e="px"){if(!n)return"";if(Or(n))return n;if(ei(n))return`${n}${e}`}const Ct={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},$9e=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],pn="update:modelValue",xo="change",Hm="input",NO=["default","small","large"],zl=n=>["",...NO].includes(n),hde=n=>[...$9e].includes(n);var mc=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(mc||{});function fde(n){return Rr(n)&&n.type===kt}function V9e(n){return Rr(n)&&n.type===ua}function W9e(n){return Rr(n)&&!fde(n)&&!V9e(n)}const H9e=n=>{if(!Rr(n))return{};const e=n.props||{},t=(Rr(n.type)?n.type.props:void 0)||{},i={};return Object.keys(t).forEach(r=>{uo(t[r],"default")&&(i[r]=t[r].default)}),Object.keys(e).forEach(r=>{i[la(r)]=e[r]}),i},$J=n=>Math.pow(n,3),z9e=n=>n<.5?$J(n*2)/2:1-$J((1-n)*2)/2,VJ=n=>[...new Set(n)],e_=n=>!n&&n!==0?[]:Array.isArray(n)?n:[n],gde=()=>Kn&&/firefox/i.test(window.navigator.userAgent),xO=n=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(n),Jz=n=>Kn?window.requestAnimationFrame(n):setTimeout(n,16),eU=n=>Kn?window.cancelAnimationFrame(n):clearTimeout(n),JL=()=>Math.floor(Math.random()*1e4),zs=n=>n,U9e=["class","style"],j9e=/^on[A-Z]/,tU=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t=[]}=n,i=t.concat(U9e),r=en();return z(r?()=>{var s;return Yce(Object.entries((s=r.proxy)==null?void 0:s.$attrs).filter(([o])=>!i.includes(o)&&!(e&&j9e.test(o))))}:()=>({}))},Zl=Symbol("elForm"),Kd=Symbol("elFormItem"),pde=Symbol("buttonGroupContextKey"),mde=Symbol("elBreadcrumbKey"),vde=Symbol("elPaginationKey"),_de=Symbol(),bde=Symbol("radioGroupKey"),MO=Symbol("tabsRootContextKey"),Cde=Symbol("scrollbarContextKey"),yde=n=>{const e=en();return z(()=>{var t,i;return(i=(t=e.proxy)==null?void 0:t.$props[n])!=null?i:void 0})},TM=J();function Rw(n,e=void 0){const t=en()?mt(_de,TM):TM;return n?z(()=>{var i,r;return(r=(i=t.value)==null?void 0:i[n])!=null?r:e}):t}const wde=(n,e,t=!1)=>{var i;const r=!!en(),s=r?Rw():void 0,o=(i=e==null?void 0:e.provide)!=null?i:r?vn:void 0;if(!o)return;const a=z(()=>{const l=Ue(n);return(s==null?void 0:s.value)?K9e(s.value,l):l});return o(_de,a),(t||!TM.value)&&(TM.value=a.value),a},K9e=(n,e)=>{var t;const i=[...new Set([...WB(n),...WB(e)])],r={};for(const s of i)r[s]=(t=e[s])!=null?t:n[s];return r},AO=Nd({type:String,values:NO,required:!1}),As=(n,e={})=>{const t=J(void 0),i=e.prop?t:yde("size"),r=e.global?t:Rw("size"),s=e.form?{size:void 0}:mt(Zl,void 0),o=e.formItem?{size:void 0}:mt(Kd,void 0);return z(()=>i.value||Ue(n)||(o==null?void 0:o.size)||(s==null?void 0:s.size)||r.value||"default")},ZE=n=>{const e=yde("disabled"),t=mt(Zl,void 0);return z(()=>e.value||Ue(n)||(t==null?void 0:t.disabled)||!1)},Sde=({from:n,replacement:e,scope:t,version:i,ref:r},s)=>{Ze(()=>Ue(s),o=>{},{immediate:!0})},Lde=(n,e,t)=>{let i={offsetX:0,offsetY:0};const r=a=>{const l=a.clientX,u=a.clientY,{offsetX:c,offsetY:d}=i,h=n.value.getBoundingClientRect(),f=h.left,g=h.top,p=h.width,m=h.height,b=document.documentElement.clientWidth,_=document.documentElement.clientHeight,C=-f+c,w=-g+d,S=b-f-p+c,D=_-g-m+d,E=T=>{const M=Math.min(Math.max(c+T.clientX-l,C),S),A=Math.min(Math.max(d+T.clientY-u,w),D);i={offsetX:M,offsetY:A},n.value.style.transform=`translate(${xd(M)}, ${xd(A)})`},I=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",I)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",I)},s=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",r)},o=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",r)};rn(()=>{yd(()=>{t.value?s():o()})}),Er(()=>{o()})},G9e=n=>({focus:()=>{var e,t;(t=(e=n.value)==null?void 0:e.focus)==null||t.call(e)}}),Ow=()=>{const n=mt(Zl,void 0),e=mt(Kd,void 0);return{form:n,formItem:e}};var q9e={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Y9e=n=>(e,t)=>X9e(e,t,Ue(n)),X9e=(n,e,t)=>Vs(t,n,n).replace(/\{(\w+)\}/g,(i,r)=>{var s;return`${(s=e==null?void 0:e[r])!=null?s:`{${r}}`}`}),Z9e=n=>{const e=z(()=>Ue(n).name),t=es(n)?n:J(n);return{lang:e,locale:t,t:Y9e(n)}},Oi=()=>{const n=Rw("locale");return Z9e(z(()=>n.value||q9e))},kde=n=>{if(es(n)||ca("[useLockscreen]","You need to pass a ref param to this function"),!Kn||Sd(document.body,"el-popup-parent--hidden"))return;let e=0,t=!1,i="0",r=0;const s=()=>{Pl(document.body,"el-popup-parent--hidden"),t&&(document.body.style.paddingRight=i)};Ze(n,o=>{if(!o){s();return}t=!Sd(document.body,"el-popup-parent--hidden"),t&&(i=document.body.style.paddingRight,r=parseInt(kh(document.body,"paddingRight"),10)),e=tde();const a=document.documentElement.clientHeight<document.body.scrollHeight,l=kh(document.body,"overflowY");e>0&&(a||l==="scroll")&&t&&(document.body.style.paddingRight=`${r+e}px`),Rh(document.body,"el-popup-parent--hidden")}),GH(()=>s())},FC=[],Q9e=n=>{FC.length!==0&&n.code===Ct.esc&&(n.stopPropagation(),FC[FC.length-1].handleClose())},Ede=(n,e)=>{Ze(e,t=>{t?FC.push(n):FC.splice(FC.findIndex(i=>i===n),1)})};Kn&&no(document,"keydown",Q9e);const Dde=n=>{const e={[n]:Nd({type:It(Boolean),default:null}),[`onUpdate:${n}`]:Nd({type:It(Function)})},t=[`update:${n}`];return{useModelToggle:({indicator:r,shouldHideWhenRouteChanges:s,shouldProceed:o,onShow:a,onHide:l})=>{const u=en(),c=u.props,{emit:d}=u,h=`update:${n}`,f=z(()=>xl(c[`onUpdate:${n}`])),g=z(()=>c[n]===null),p=()=>{r.value!==!0&&(r.value=!0,xl(a)&&a())},m=()=>{r.value!==!1&&(r.value=!1,xl(l)&&l())},b=()=>{if(c.disabled===!0||xl(o)&&!o())return;const S=f.value&&Kn;S&&d(h,!0),(g.value||!S)&&p()},_=()=>{if(c.disabled===!0||!Kn)return;const S=f.value&&Kn;S&&d(h,!1),(g.value||!S)&&m()},C=S=>{!Ol(S)||(c.disabled&&S?f.value&&d(h,!1):r.value!==S&&(S?p():m()))},w=()=>{r.value?_():b()};return Ze(()=>c[n],C),s&&u.appContext.config.globalProperties.$route!==void 0&&Ze(()=>Dt({},u.proxy.$route),()=>{s.value&&r.value&&_()}),rn(()=>{C(c[n])}),{hide:_,show:b,toggle:w}},useModelToggleProps:e,useModelToggleEmits:t}};Dde("modelValue");const J9e=(n,e,t)=>{const i=s=>{t(s)&&s.stopImmediatePropagation()};let r;Ze(()=>n.value,s=>{s?r=no(document,e,i,!0):r==null||r()},{immediate:!0})},Ide=(n,e)=>{let t;Ze(()=>n.value,i=>{var r,s;i?(t=document.activeElement,es(e)&&((s=(r=e.value).focus)==null||s.call(r))):t.focus()})},nU=n=>{if(!n)return{onClick:ur,onMousedown:ur,onMouseup:ur};let e=!1,t=!1;return{onClick:o=>{e&&t&&n(o),e=t=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},e7e=(n,e=0)=>{if(e===0)return n;const t=J(!1);let i=0;const r=()=>{i&&clearTimeout(i),i=window.setTimeout(()=>{t.value=n.value},e)};return rn(r),Ze(()=>n.value,s=>{s?r():t.value=s}),t};function t7e(){let n;const e=(i,r)=>{t(),n=window.setTimeout(i,r)},t=()=>window.clearTimeout(n);return EO(()=>t()),{registerTimeout:e,cancelTimeout:t}}const n7e={prefix:Math.floor(Math.random()*1e4),current:0},i7e=Symbol("elIdInjection"),Tde=n=>{const e=mt(i7e,n7e);return z(()=>Ue(n)||`el-id-${e.prefix}-${e.current++}`)},r7e=n=>{const e=t=>{const i=t;i.key===Ct.esc&&(n==null||n(i))};rn(()=>{Vi(document,"keydown",e)}),Er(()=>{Lr(document,"keydown",e)})};let WJ;const Nde=`el-popper-container-${JL()}`,s7e=`#${Nde}`,o7e=()=>{Mw(()=>{if(!!Kn&&!WJ){const n=document.createElement("div");n.id=Nde,document.body.appendChild(n),WJ=n}})},a7e=Wt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),l7e=({showAfter:n,hideAfter:e,open:t,close:i})=>{const{registerTimeout:r}=t7e();return{onOpen:()=>{r(()=>{t()},Ue(n))},onClose:()=>{r(()=>{i()},Ue(e))}}},xde=Symbol("elForwardRef"),u7e=n=>{vn(xde,{setForwardRef:t=>{n.value=t}})},c7e=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),d7e="el",h7e="is-",Uv=(n,e,t,i,r)=>{let s=`${n}-${e}`;return t&&(s+=`-${t}`),i&&(s+=`__${i}`),r&&(s+=`--${r}`),s},dt=n=>{const e=Rw("namespace"),t=z(()=>e.value||d7e);return{namespace:t,b:(d="")=>Uv(Ue(t),n,d,"",""),e:d=>d?Uv(Ue(t),n,"",d,""):"",m:d=>d?Uv(Ue(t),n,"","",d):"",be:(d,h)=>d&&h?Uv(Ue(t),n,d,h,""):"",em:(d,h)=>d&&h?Uv(Ue(t),n,"",d,h):"",bm:(d,h)=>d&&h?Uv(Ue(t),n,d,"",h):"",bem:(d,h,f)=>d&&h&&f?Uv(Ue(t),n,d,h,f):"",is:(d,...h)=>{const f=h.length>=1?h[0]:!0;return d&&f?`${h7e}${d}`:""}}},HJ=J(0),yv=()=>{const n=Rw("zIndex",2e3),e=z(()=>n.value+HJ.value);return{initialZIndex:n,currentZIndex:e,nextZIndex:()=>(HJ.value++,e.value)}},f7e="2.0.2",zJ=Symbol("INSTALLED_KEY"),g7e=(n=[])=>({version:f7e,install:(t,i={})=>{t[zJ]||(t[zJ]=!0,n.forEach(r=>t.use(r)),wde(i,t,!0))}}),p7e=Wt({zIndex:{type:It([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),m7e={scroll:({scrollTop:n,fixed:e})=>typeof n=="number"&&typeof e=="boolean",change:n=>typeof n=="boolean"};var at=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t};const v7e=Me({name:"ElAffix",props:p7e,emits:m7e,setup(n,{emit:e}){const t=dt("affix"),i=ra(),r=ra(),s=ra(),o=xi({fixed:!1,height:0,width:0,scrollTop:0,clientHeight:0,transform:0}),a=z(()=>({height:o.fixed?`${o.height}px`:"",width:o.fixed?`${o.width}px`:""})),l=z(()=>{if(!o.fixed)return;const d=n.offset?`${n.offset}px`:0,h=o.transform?`translateY(${o.transform}px)`:"";return{height:`${o.height}px`,width:`${o.width}px`,top:n.position==="top"?d:"",bottom:n.position==="bottom"?d:"",transform:h,zIndex:n.zIndex}}),u=()=>{if(!r.value||!i.value||!s.value)return;const d=r.value.getBoundingClientRect(),h=i.value.getBoundingClientRect();if(o.height=d.height,o.width=d.width,o.scrollTop=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0,o.clientHeight=document.documentElement.clientHeight,n.position==="top")if(n.target){const f=h.bottom-n.offset-o.height;o.fixed=n.offset>d.top&&h.bottom>0,o.transform=f<0?f:0}else o.fixed=n.offset>d.top;else if(n.target){const f=o.clientHeight-h.top-n.offset-o.height;o.fixed=o.clientHeight-n.offset<d.bottom&&o.clientHeight>h.top,o.transform=f<0?-f:0}else o.fixed=o.clientHeight-n.offset<d.bottom},c=()=>{u(),e("scroll",{scrollTop:o.scrollTop,fixed:o.fixed})};return Ze(()=>o.fixed,()=>{e("change",o.fixed)}),rn(()=>{var d;if(n.target){if(i.value=(d=document.querySelector(n.target))!=null?d:void 0,!i.value)throw new Error(`Target is not existed: ${n.target}`)}else i.value=document.documentElement;s.value=Xz(r.value,!0)}),no(s,"scroll",c),YL(r,()=>u()),YL(i,()=>u()),{ns:t,root:r,state:o,rootStyle:a,affixStyle:l,update:u}}});function _7e(n,e,t,i,r,s){return B(),te("div",{ref:"root",class:Z(n.ns.b()),style:wt(n.rootStyle)},[oe("div",{class:Z({[n.ns.m("fixed")]:n.state.fixed}),style:wt(n.affixStyle)},[Xe(n.$slots,"default")],6)],6)}var b7e=at(v7e,[["render",_7e]]);const C7e=wn(b7e),y7e=Wt({size:{type:It([Number,String])},color:{type:String}}),w7e={name:"ElIcon",inheritAttrs:!1},S7e=Me(gn(Dt({},w7e),{props:y7e,setup(n){const e=n,t=dt("icon"),i=z(()=>!e.size&&!e.color?{}:{fontSize:XL(e.size)?void 0:xd(e.size),"--color":e.color});return(r,s)=>(B(),te("i",lo({class:Ue(t).b(),style:Ue(i)},r.$attrs),[Xe(r.$slots,"default")],16))}})),cn=wn(S7e),L7e=["light","dark"],k7e=Wt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:WB(jg),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:L7e,default:"light"}}),E7e={close:n=>n instanceof MouseEvent},D7e=Me({name:"ElAlert",components:Dt({ElIcon:cn},TO),props:k7e,emits:E7e,setup(n,{emit:e,slots:t}){const i=dt("alert"),r=J(!0),s=z(()=>jg[n.type]||jg.info),o=z(()=>n.description||t.default?i.is("big"):""),a=z(()=>n.description||t.default?i.is("bold"):"");return{ns:i,visible:r,iconComponent:s,isBigIcon:o,isBoldTitle:a,close:u=>{r.value=!1,e("close",u)}}}});function I7e(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("close");return B(),Oe(Cs,{name:n.ns.b("fade")},{default:De(()=>[Ht(oe("div",{class:Z([n.ns.b(),n.ns.m(n.type),n.ns.is("center",n.center),n.ns.is(n.effect)]),role:"alert"},[n.showIcon&&n.iconComponent?(B(),Oe(o,{key:0,class:Z([n.ns.e("icon"),n.isBigIcon])},{default:De(()=>[(B(),Oe(Bn(n.iconComponent)))]),_:1},8,["class"])):Fe("v-if",!0),oe("div",{class:Z(n.ns.e("content"))},[n.title||n.$slots.title?(B(),te("span",{key:0,class:Z([n.ns.e("title"),n.isBoldTitle])},[Xe(n.$slots,"title",{},()=>[xn(Je(n.title),1)])],2)):Fe("v-if",!0),n.$slots.default||n.description?(B(),te("p",{key:1,class:Z(n.ns.e("description"))},[Xe(n.$slots,"default",{},()=>[xn(Je(n.description),1)])],2)):Fe("v-if",!0),n.closable?(B(),te(kt,{key:2},[n.closeText?(B(),te("div",{key:0,class:Z([n.ns.e("close-btn"),n.ns.is("customed")]),onClick:e[0]||(e[0]=(...l)=>n.close&&n.close(...l))},Je(n.closeText),3)):(B(),Oe(o,{key:1,class:Z(n.ns.e("close-btn")),onClick:n.close},{default:De(()=>[be(a)]),_:1},8,["class","onClick"]))],2112)):Fe("v-if",!0)],2)],2),[[zn,n.visible]])]),_:3},8,["name"])}var T7e=at(D7e,[["render",I7e]]);const N7e=wn(T7e),Fp=new Map;let UJ;Kn&&(Vi(document,"mousedown",n=>UJ=n),Vi(document,"mouseup",n=>{for(const e of Fp.values())for(const{documentHandler:t}of e)t(n,UJ)}));function jJ(n,e){let t=[];return Array.isArray(e.arg)?t=e.arg:e.arg instanceof HTMLElement&&t.push(e.arg),function(i,r){const s=e.instance.popperRef,o=i.target,a=r==null?void 0:r.target,l=!e||!e.instance,u=!o||!a,c=n.contains(o)||n.contains(a),d=n===o,h=t.length&&t.some(g=>g==null?void 0:g.contains(o))||t.length&&t.includes(a),f=s&&(s.contains(o)||s.contains(a));l||u||c||d||h||f||e.value(i,r)}}const wv={beforeMount(n,e){Fp.has(n)||Fp.set(n,[]),Fp.get(n).push({documentHandler:jJ(n,e),bindingFn:e.value})},updated(n,e){Fp.has(n)||Fp.set(n,[]);const t=Fp.get(n),i=t.findIndex(s=>s.bindingFn===e.oldValue),r={documentHandler:jJ(n,e),bindingFn:e.value};i>=0?t.splice(i,1,r):t.push(r)},unmounted(n){Fp.delete(n)}};var Mde={beforeMount(n,e){let t=null,i;const r=()=>e.value&&e.value(),s=()=>{Date.now()-i<100&&r(),clearInterval(t),t=null};Vi(n,"mousedown",o=>{o.button===0&&(i=Date.now(),oFe(document,"mouseup",s),clearInterval(t),t=setInterval(r,100))})}};const zB="_trap-focus-children",A0=[],KJ=n=>{if(A0.length===0)return;const e=A0[A0.length-1][zB];if(e.length>0&&n.code===Ct.tab){if(e.length===1){n.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const t=n.shiftKey,i=n.target===e[0],r=n.target===e[e.length-1];i&&t&&(n.preventDefault(),e[e.length-1].focus()),r&&!t&&(n.preventDefault(),e[0].focus())}},iU={beforeMount(n){n[zB]=DJ(n),A0.push(n),A0.length<=1&&Vi(document,"keydown",KJ)},updated(n){Nt(()=>{n[zB]=DJ(n)})},unmounted(){A0.shift(),A0.length===0&&Lr(document,"keydown",KJ)}};var GJ=!1,g0,UB,jB,BN,$N,Ade,VN,KB,GB,qB,Rde,YB,XB,Ode,Pde;function pl(){if(!GJ){GJ=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(YB=/\b(iPhone|iP[ao]d)/.exec(n),XB=/\b(iP[ao]d)/.exec(n),qB=/Android/i.exec(n),Ode=/FBAN\/\w+;/i.exec(n),Pde=/Mobile/i.exec(n),Rde=!!/Win64/.exec(n),e){g0=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,g0&&document&&document.documentMode&&(g0=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(n);Ade=i?parseFloat(i[1])+4:g0,UB=e[2]?parseFloat(e[2]):NaN,jB=e[3]?parseFloat(e[3]):NaN,BN=e[4]?parseFloat(e[4]):NaN,BN?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),$N=e&&e[1]?parseFloat(e[1]):NaN):$N=NaN}else g0=UB=jB=$N=BN=NaN;if(t){if(t[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);VN=r?parseFloat(r[1].replace("_",".")):!0}else VN=!1;KB=!!t[2],GB=!!t[3]}else VN=KB=GB=!1}}var ZB={ie:function(){return pl()||g0},ieCompatibilityMode:function(){return pl()||Ade>g0},ie64:function(){return ZB.ie()&&Rde},firefox:function(){return pl()||UB},opera:function(){return pl()||jB},webkit:function(){return pl()||BN},safari:function(){return ZB.webkit()},chrome:function(){return pl()||$N},windows:function(){return pl()||KB},osx:function(){return pl()||VN},linux:function(){return pl()||GB},iphone:function(){return pl()||YB},mobile:function(){return pl()||YB||XB||qB||Pde},nativeApp:function(){return pl()||Ode},android:function(){return pl()||qB},ipad:function(){return pl()||XB}},x7e=ZB,ZI=!!(typeof window!="undefined"&&window.document&&window.document.createElement),M7e={canUseDOM:ZI,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:ZI&&!!(window.addEventListener||window.attachEvent),canUseViewport:ZI&&!!window.screen,isInWorker:!ZI},Fde=M7e,Bde;Fde.canUseDOM&&(Bde=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function A7e(n,e){if(!Fde.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,i=t in document;if(!i){var r=document.createElement("div");r.setAttribute(t,"return;"),i=typeof r[t]=="function"}return!i&&Bde&&n==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var R7e=A7e,qJ=10,YJ=40,XJ=800;function $de(n){var e=0,t=0,i=0,r=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=t,t=0),i=e*qJ,r=t*qJ,"deltaY"in n&&(r=n.deltaY),"deltaX"in n&&(i=n.deltaX),(i||r)&&n.deltaMode&&(n.deltaMode==1?(i*=YJ,r*=YJ):(i*=XJ,r*=XJ)),i&&!e&&(e=i<1?-1:1),r&&!t&&(t=r<1?-1:1),{spinX:e,spinY:t,pixelX:i,pixelY:r}}$de.getEventType=function(){return x7e.firefox()?"DOMMouseScroll":R7e("wheel")?"wheel":"mousewheel"};var O7e=$de;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const P7e=function(n,e){if(n&&n.addEventListener){const t=function(i){const r=O7e(i);e&&e.apply(this,[i,r])};gde()?n.addEventListener("DOMMouseScroll",t):n.onmousewheel=t}},F7e={beforeMount(n,e){P7e(n,e.value)}},B7e={beforeMount(n,e){n._handleResize=()=>{var t;n&&((t=e.value)==null||t.call(e,n))},_v(n,n._handleResize)},beforeUnmount(n){bv(n,n._handleResize)}};let Jc;const $7e=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,V7e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function W7e(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),i=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:V7e.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:i,borderSize:r,boxSizing:t}}function ZJ(n,e=1,t){var i;Jc||(Jc=document.createElement("textarea"),document.body.appendChild(Jc));const{paddingSize:r,borderSize:s,boxSizing:o,contextStyle:a}=W7e(n);Jc.setAttribute("style",`${a};${$7e}`),Jc.value=n.value||n.placeholder||"";let l=Jc.scrollHeight;const u={};o==="border-box"?l=l+s:o==="content-box"&&(l=l-r),Jc.value="";const c=Jc.scrollHeight-r;if(ei(e)){let d=c*e;o==="border-box"&&(d=d+r+s),l=Math.max(d,l),u.minHeight=`${d}px`}if(ei(t)){let d=c*t;o==="border-box"&&(d=d+r+s),l=Math.min(d,l)}return u.height=`${l}px`,(i=Jc.parentNode)==null||i.removeChild(Jc),Jc=void 0,u}const H7e=Wt({size:AO,disabled:Boolean,modelValue:{type:It(void 0),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:It([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ma,default:""},prefixIcon:{type:Ma,default:""},label:{type:String},tabindex:{type:[Number,String]},validateEvent:{type:Boolean,default:!0},inputStyle:{type:It([Object,Array,String]),default:()=>zs({})}}),z7e={[pn]:n=>Or(n),input:n=>Or(n),change:n=>Or(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof KeyboardEvent,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},U7e={suffix:"append",prefix:"prepend"},j7e=Me({name:"ElInput",components:{ElIcon:cn,CircleClose:Ug,IconView:y9e},inheritAttrs:!1,props:H7e,emits:z7e,setup(n,{slots:e,emit:t,attrs:i}){const r=en(),s=tU(),{form:o,formItem:a}=Ow(),l=As(),u=ZE(),c=dt("input"),d=dt("textarea"),h=J(),f=J(),g=J(!1),p=J(!1),m=J(!1),b=J(!1),_=ra(n.inputStyle),C=z(()=>h.value||f.value),w=z(()=>{var le;return(le=o==null?void 0:o.statusIcon)!=null?le:!1}),S=z(()=>(a==null?void 0:a.validateState)||""),D=z(()=>ude[S.value]),E=z(()=>i.style),I=z(()=>[n.inputStyle,_.value,{resize:n.resize}]),T=z(()=>n.modelValue===null||n.modelValue===void 0?"":String(n.modelValue)),M=z(()=>n.clearable&&!u.value&&!n.readonly&&!!T.value&&(g.value||p.value)),A=z(()=>n.showPassword&&!u.value&&!n.readonly&&(!!T.value||g.value)),O=z(()=>n.showWordLimit&&!!s.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!u.value&&!n.readonly&&!n.showPassword),F=z(()=>Array.from(T.value).length),U=z(()=>!!O.value&&F.value>Number(s.value.maxlength)),V=()=>{const{type:le,autosize:de}=n;if(!(!Kn||le!=="textarea"))if(de){const ye=so(de)?de.minRows:void 0,q=so(de)?de.maxRows:void 0;_.value=Dt({},ZJ(f.value,ye,q))}else _.value={minHeight:ZJ(f.value).minHeight}},G=()=>{const le=C.value;!le||le.value===T.value||(le.value=T.value)},j=le=>{const{el:de}=r.vnode;if(!de)return;const q=Array.from(de.querySelectorAll(`.${c.e(le)}`)).find(x=>x.parentNode===de);if(!q)return;const P=U7e[le];e[P]?q.style.transform=`translateX(${le==="suffix"?"-":""}${de.querySelector(`.${c.be("group",P)}`).offsetWidth}px)`:q.removeAttribute("style")},X=()=>{j("prefix"),j("suffix")},ie=le=>{const{value:de}=le.target;m.value||de!==T.value&&(t(pn,de),t("input",de),Nt(G))},Ce=le=>{t("change",le.target.value)},Be=()=>{Nt(()=>{var le;(le=C.value)==null||le.focus()})},we=()=>{var le;(le=C.value)==null||le.blur()},ke=le=>{g.value=!0,t("focus",le)},Se=le=>{var de;g.value=!1,t("blur",le),n.validateEvent&&((de=a==null?void 0:a.validate)==null||de.call(a,"blur"))},fe=()=>{var le;(le=C.value)==null||le.select()},pe=le=>{t("compositionstart",le),m.value=!0},me=le=>{var de;t("compositionupdate",le);const ye=(de=le.target)==null?void 0:de.value,q=ye[ye.length-1]||"";m.value=!xO(q)},Ne=le=>{t("compositionend",le),m.value&&(m.value=!1,ie(le))},je=()=>{t(pn,""),t("change",""),t("clear"),t("input","")},rt=()=>{b.value=!b.value,Be()},xe=z(()=>!!e.suffix||!!n.suffixIcon||M.value||n.showPassword||O.value||!!S.value&&w.value);return Ze(()=>n.modelValue,()=>{var le;Nt(V),n.validateEvent&&((le=a==null?void 0:a.validate)==null||le.call(a,"change"))}),Ze(T,()=>G()),Ze(()=>n.type,()=>{Nt(()=>{G(),V(),X()})}),rn(()=>{G(),X(),Nt(V)}),Xl(()=>{Nt(X)}),{input:h,textarea:f,attrs:s,inputSize:l,validateState:S,validateIcon:D,containerStyle:E,computedTextareaStyle:I,inputDisabled:u,showClear:M,showPwdVisible:A,isWordLimitVisible:O,textLength:F,hovering:p,inputExceed:U,passwordVisible:b,inputOrTextarea:C,suffixVisible:xe,needStatusIcon:w,resizeTextarea:V,handleInput:ie,handleChange:Ce,handleFocus:ke,handleBlur:Se,handleCompositionStart:pe,handleCompositionUpdate:me,handleCompositionEnd:Ne,handlePasswordVisible:rt,clear:je,select:fe,focus:Be,blur:we,onMouseLeave:le=>{p.value=!1,t("mouseleave",le)},onMouseEnter:le=>{p.value=!0,t("mouseenter",le)},handleKeydown:le=>{t("keydown",le)},nsInput:c,nsTextarea:d}}}),K7e=["type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder"],G7e=["tabindex","disabled","readonly","autocomplete","aria-label","placeholder"];function q7e(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("circle-close"),l=Te("icon-view");return Ht((B(),te("div",{class:Z([n.type==="textarea"?n.nsTextarea.b():n.nsInput.b(),n.nsInput.m(n.inputSize),n.nsInput.is("disabled",n.inputDisabled),n.nsInput.is("exceed",n.inputExceed),{[n.nsInput.b("group")]:n.$slots.prepend||n.$slots.append,[n.nsInput.bm("group","append")]:n.$slots.append,[n.nsInput.bm("group","prepend")]:n.$slots.prepend,[n.nsInput.m("prefix")]:n.$slots.prefix||n.prefixIcon,[n.nsInput.m("suffix")]:n.$slots.suffix||n.suffixIcon||n.clearable||n.showPassword,[n.nsInput.m("suffix--password-clear")]:n.clearable&&n.showPassword},n.$attrs.class]),style:wt(n.containerStyle),onMouseenter:e[17]||(e[17]=(...u)=>n.onMouseEnter&&n.onMouseEnter(...u)),onMouseleave:e[18]||(e[18]=(...u)=>n.onMouseLeave&&n.onMouseLeave(...u))},[Fe(" input "),n.type!=="textarea"?(B(),te(kt,{key:0},[Fe(" prepend slot "),n.$slots.prepend?(B(),te("div",{key:0,class:Z(n.nsInput.be("group","prepend"))},[Xe(n.$slots,"prepend")],2)):Fe("v-if",!0),oe("input",lo({ref:"input",class:n.nsInput.e("inner")},n.attrs,{type:n.showPassword?n.passwordVisible?"text":"password":n.type,disabled:n.inputDisabled,readonly:n.readonly,autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-label":n.label,placeholder:n.placeholder,style:n.inputStyle,onCompositionstart:e[0]||(e[0]=(...u)=>n.handleCompositionStart&&n.handleCompositionStart(...u)),onCompositionupdate:e[1]||(e[1]=(...u)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...u)),onCompositionend:e[2]||(e[2]=(...u)=>n.handleCompositionEnd&&n.handleCompositionEnd(...u)),onInput:e[3]||(e[3]=(...u)=>n.handleInput&&n.handleInput(...u)),onFocus:e[4]||(e[4]=(...u)=>n.handleFocus&&n.handleFocus(...u)),onBlur:e[5]||(e[5]=(...u)=>n.handleBlur&&n.handleBlur(...u)),onChange:e[6]||(e[6]=(...u)=>n.handleChange&&n.handleChange(...u)),onKeydown:e[7]||(e[7]=(...u)=>n.handleKeydown&&n.handleKeydown(...u))}),null,16,K7e),Fe(" prefix slot "),n.$slots.prefix||n.prefixIcon?(B(),te("span",{key:1,class:Z(n.nsInput.e("prefix"))},[oe("span",{class:Z(n.nsInput.e("prefix-inner"))},[Xe(n.$slots,"prefix"),n.prefixIcon?(B(),Oe(o,{key:0,class:Z(n.nsInput.e("icon"))},{default:De(()=>[(B(),Oe(Bn(n.prefixIcon)))]),_:1},8,["class"])):Fe("v-if",!0)],2)],2)):Fe("v-if",!0),Fe(" suffix slot "),n.suffixVisible?(B(),te("span",{key:2,class:Z(n.nsInput.e("suffix"))},[oe("span",{class:Z(n.nsInput.e("suffix-inner"))},[!n.showClear||!n.showPwdVisible||!n.isWordLimitVisible?(B(),te(kt,{key:0},[Xe(n.$slots,"suffix"),n.suffixIcon?(B(),Oe(o,{key:0,class:Z(n.nsInput.e("icon"))},{default:De(()=>[(B(),Oe(Bn(n.suffixIcon)))]),_:1},8,["class"])):Fe("v-if",!0)],64)):Fe("v-if",!0),n.showClear?(B(),Oe(o,{key:1,class:Z([n.nsInput.e("icon"),n.nsInput.e("clear")]),onMousedown:e[8]||(e[8]=Ft(()=>{},["prevent"])),onClick:n.clear},{default:De(()=>[be(a)]),_:1},8,["class","onClick"])):Fe("v-if",!0),n.showPwdVisible?(B(),Oe(o,{key:2,class:Z([n.nsInput.e("icon"),n.nsInput.e("clear")]),onClick:n.handlePasswordVisible},{default:De(()=>[be(l)]),_:1},8,["class","onClick"])):Fe("v-if",!0),n.isWordLimitVisible?(B(),te("span",{key:3,class:Z(n.nsInput.e("count"))},[oe("span",{class:Z(n.nsInput.e("count-inner"))},Je(n.textLength)+" / "+Je(n.attrs.maxlength),3)],2)):Fe("v-if",!0)],2),n.validateState&&n.validateIcon&&n.needStatusIcon?(B(),Oe(o,{key:0,class:Z([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:De(()=>[(B(),Oe(Bn(n.validateIcon)))]),_:1},8,["class"])):Fe("v-if",!0)],2)):Fe("v-if",!0),Fe(" append slot "),n.$slots.append?(B(),te("div",{key:3,class:Z(n.nsInput.be("group","append"))},[Xe(n.$slots,"append")],2)):Fe("v-if",!0)],64)):(B(),te(kt,{key:1},[Fe(" textarea "),oe("textarea",lo({ref:"textarea",class:n.nsTextarea.e("inner")},n.attrs,{tabindex:n.tabindex,disabled:n.inputDisabled,readonly:n.readonly,autocomplete:n.autocomplete,style:n.computedTextareaStyle,"aria-label":n.label,placeholder:n.placeholder,onCompositionstart:e[9]||(e[9]=(...u)=>n.handleCompositionStart&&n.handleCompositionStart(...u)),onCompositionupdate:e[10]||(e[10]=(...u)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...u)),onCompositionend:e[11]||(e[11]=(...u)=>n.handleCompositionEnd&&n.handleCompositionEnd(...u)),onInput:e[12]||(e[12]=(...u)=>n.handleInput&&n.handleInput(...u)),onFocus:e[13]||(e[13]=(...u)=>n.handleFocus&&n.handleFocus(...u)),onBlur:e[14]||(e[14]=(...u)=>n.handleBlur&&n.handleBlur(...u)),onChange:e[15]||(e[15]=(...u)=>n.handleChange&&n.handleChange(...u)),onKeydown:e[16]||(e[16]=(...u)=>n.handleKeydown&&n.handleKeydown(...u))}),null,16,G7e),n.isWordLimitVisible?(B(),te("span",{key:0,class:Z(n.nsInput.e("count"))},Je(n.textLength)+" / "+Je(n.attrs.maxlength),3)):Fe("v-if",!0)],64))],38)),[[zn,n.type!=="hidden"]])}var Y7e=at(j7e,[["render",q7e]]);const zc=wn(Y7e),Vde={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},X7e=({move:n,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${n}%)`}),Z7e=Wt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),QJ="Thumb",Q7e=Me({name:QJ,props:Z7e,setup(n){const e=mt(Cde),t=dt("scrollbar");e||ca(QJ,"can not inject scrollbar context");const i=J(),r=J(),s=J({}),o=J(!1);let a=!1,l=!1,u=Kn?document.onselectstart:null;const c=z(()=>Vde[n.vertical?"vertical":"horizontal"]),d=z(()=>X7e({size:n.size,move:n.move,bar:c.value})),h=z(()=>i.value[c.value.offset]**2/e.wrapElement[c.value.scrollSize]/n.ratio/r.value[c.value.offset]),f=S=>{var D;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(D=window.getSelection())==null||D.removeAllRanges(),p(S);const E=S.currentTarget;!E||(s.value[c.value.axis]=E[c.value.offset]-(S[c.value.client]-E.getBoundingClientRect()[c.value.direction]))},g=S=>{if(!r.value||!i.value||!e.wrapElement)return;const D=Math.abs(S.target.getBoundingClientRect()[c.value.direction]-S[c.value.client]),E=r.value[c.value.offset]/2,I=(D-E)*100*h.value/i.value[c.value.offset];e.wrapElement[c.value.scroll]=I*e.wrapElement[c.value.scrollSize]/100},p=S=>{S.stopImmediatePropagation(),a=!0,document.addEventListener("mousemove",m),document.addEventListener("mouseup",b),u=document.onselectstart,document.onselectstart=()=>!1},m=S=>{if(!i.value||!r.value||a===!1)return;const D=s.value[c.value.axis];if(!D)return;const E=(i.value.getBoundingClientRect()[c.value.direction]-S[c.value.client])*-1,I=r.value[c.value.offset]-D,T=(E-I)*100*h.value/i.value[c.value.offset];e.wrapElement[c.value.scroll]=T*e.wrapElement[c.value.scrollSize]/100},b=()=>{a=!1,s.value[c.value.axis]=0,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",b),w(),l&&(o.value=!1)},_=()=>{l=!1,o.value=!!n.size},C=()=>{l=!0,o.value=a};Er(()=>{w(),document.removeEventListener("mouseup",b)});const w=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return no(Uo(e,"scrollbarElement"),"mousemove",_),no(Uo(e,"scrollbarElement"),"mouseleave",C),{ns:t,instance:i,thumb:r,bar:c,thumbStyle:d,visible:o,clickTrackHandler:g,clickThumbHandler:f}}});function J7e(n,e,t,i,r,s){return B(),Oe(Cs,{name:n.ns.b("fade")},{default:De(()=>[Ht(oe("div",{ref:"instance",class:Z([n.ns.e("bar"),n.ns.is(n.bar.key)]),onMousedown:e[1]||(e[1]=(...o)=>n.clickTrackHandler&&n.clickTrackHandler(...o))},[oe("div",{ref:"thumb",class:Z(n.ns.e("thumb")),style:wt(n.thumbStyle),onMousedown:e[0]||(e[0]=(...o)=>n.clickThumbHandler&&n.clickThumbHandler(...o))},null,38)],34),[[zn,n.always||n.visible]])]),_:1},8,["name"])}var e$e=at(Q7e,[["render",J7e]]);const t$e=Wt({always:{type:Boolean,default:!0},width:{type:String,default:""},height:{type:String,default:""},ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),n$e=Me({components:{Thumb:e$e},props:t$e,setup(n){const e=J(0),t=J(0),i=4;return{handleScroll:s=>{if(s){const o=s.offsetHeight-i,a=s.offsetWidth-i;t.value=s.scrollTop*100/o*n.ratioY,e.value=s.scrollLeft*100/a*n.ratioX}},moveX:e,moveY:t}}});function i$e(n,e,t,i,r,s){const o=Te("thumb");return B(),te(kt,null,[be(o,{move:n.moveX,ratio:n.ratioX,size:n.width,always:n.always},null,8,["move","ratio","size","always"]),be(o,{move:n.moveY,ratio:n.ratioY,size:n.height,vertical:"",always:n.always},null,8,["move","ratio","size","always"])],64)}var r$e=at(n$e,[["render",i$e]]);const s$e=Wt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:It([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}}),o$e={scroll:({scrollTop:n,scrollLeft:e})=>ei(n)&&ei(e)},a$e=Me({name:"ElScrollbar",components:{Bar:r$e},props:s$e,emits:o$e,setup(n,{emit:e}){const t=dt("scrollbar");let i,r;const s=J(),o=J(),a=J(),l=J("0"),u=J("0"),c=J(),d=J(0),h=J(0),f=J(1),g=J(1),p=4,m=z(()=>{const S={};return n.height&&(S.height=xd(n.height)),n.maxHeight&&(S.maxHeight=xd(n.maxHeight)),[n.wrapStyle,S]}),b=()=>{var S;o.value&&((S=c.value)==null||S.handleScroll(o.value),e("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))},_=S=>{!ei(S)||(o.value.scrollTop=S)},C=S=>{!ei(S)||(o.value.scrollLeft=S)},w=()=>{if(!o.value)return;const S=o.value.offsetHeight-p,D=o.value.offsetWidth-p,E=S**2/o.value.scrollHeight,I=D**2/o.value.scrollWidth,T=Math.max(E,n.minSize),M=Math.max(I,n.minSize);f.value=E/(S-E)/(T/(S-T)),g.value=I/(D-I)/(M/(D-M)),u.value=T+p<S?`${T}px`:"",l.value=M+p<D?`${M}px`:""};return Ze(()=>n.noresize,S=>{S?(i==null||i(),r==null||r()):({stop:i}=YL(a,w),r=no("resize",w))},{immediate:!0}),Ze(()=>[n.maxHeight,n.height],()=>{n.native||Nt(()=>{var S;w(),o.value&&((S=c.value)==null||S.handleScroll(o.value))})}),vn(Cde,xi({scrollbarElement:s,wrapElement:o})),rn(()=>{n.native||Nt(()=>w())}),{ns:t,scrollbar$:s,wrap$:o,resize$:a,barRef:c,moveX:d,moveY:h,ratioX:g,ratioY:f,sizeWidth:l,sizeHeight:u,style:m,update:w,handleScroll:b,setScrollTop:_,setScrollLeft:C}}});function l$e(n,e,t,i,r,s){const o=Te("bar");return B(),te("div",{ref:"scrollbar$",class:Z(n.ns.b())},[oe("div",{ref:"wrap$",class:Z([n.wrapClass,n.ns.e("wrap"),{[n.ns.em("wrap","hidden-default")]:!n.native}]),style:wt(n.style),onScroll:e[0]||(e[0]=(...a)=>n.handleScroll&&n.handleScroll(...a))},[(B(),Oe(Bn(n.tag),{ref:"resize$",class:Z([n.ns.e("view"),n.viewClass]),style:wt(n.viewStyle)},{default:De(()=>[Xe(n.$slots,"default")]),_:3},8,["class","style"]))],38),n.native?Fe("v-if",!0):(B(),Oe(o,{key:0,ref:"barRef",height:n.sizeHeight,width:n.sizeWidth,always:n.always,"ratio-x":n.ratioX,"ratio-y":n.ratioY},null,8,["height","width","always","ratio-x","ratio-y"]))],2)}var u$e=at(a$e,[["render",l$e]]);const rp=wn(u$e),rU=Symbol("elPopper"),Wde=Symbol("elPopperContent"),c$e=Me({name:"ElPopperProvider",inheritAttrs:!1,setup(){const n={triggerRef:J(null),popperInstanceRef:J(null),contentRef:J(null)};return vn(rU,n),n}});function d$e(n,e,t,i,r,s){return Xe(n.$slots,"default")}var h$e=at(c$e,[["render",d$e]]),Fl="top",Pc="bottom",Fc="right",Bl="left",sU="auto",QE=[Fl,Pc,Fc,Bl],Dy="start",ek="end",f$e="clippingParents",Hde="viewport",ES="popper",g$e="reference",JJ=QE.reduce(function(n,e){return n.concat([e+"-"+Dy,e+"-"+ek])},[]),oU=[].concat(QE,[sU]).reduce(function(n,e){return n.concat([e,e+"-"+Dy,e+"-"+ek])},[]),p$e="beforeRead",m$e="read",v$e="afterRead",_$e="beforeMain",b$e="main",C$e="afterMain",y$e="beforeWrite",w$e="write",S$e="afterWrite",L$e=[p$e,m$e,v$e,_$e,b$e,C$e,y$e,w$e,S$e];function Zh(n){return n?(n.nodeName||"").toLowerCase():null}function Gd(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Iy(n){var e=Gd(n).Element;return n instanceof e||n instanceof Element}function Ic(n){var e=Gd(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function zde(n){if(typeof ShadowRoot=="undefined")return!1;var e=Gd(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function k$e(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!Ic(s)||!Zh(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function E$e(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,u){return l[u]="",l},{});!Ic(r)||!Zh(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var D$e={name:"applyStyles",enabled:!0,phase:"write",fn:k$e,effect:E$e,requires:["computeStyles"]};function zh(n){return n.split("-")[0]}var t_=Math.max,NM=Math.min,Ty=Math.round;function Ny(n,e){e===void 0&&(e=!1);var t=n.getBoundingClientRect(),i=1,r=1;if(Ic(n)&&e){var s=n.offsetHeight,o=n.offsetWidth;o>0&&(i=Ty(t.width)/o||1),s>0&&(r=Ty(t.height)/s||1)}return{width:t.width/i,height:t.height/r,top:t.top/r,right:t.right/i,bottom:t.bottom/r,left:t.left/i,x:t.left/i,y:t.top/r}}function aU(n){var e=Ny(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Ude(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&zde(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Kg(n){return Gd(n).getComputedStyle(n)}function I$e(n){return["table","td","th"].indexOf(Zh(n))>=0}function Sv(n){return((Iy(n)?n.ownerDocument:n.document)||window.document).documentElement}function RO(n){return Zh(n)==="html"?n:n.assignedSlot||n.parentNode||(zde(n)?n.host:null)||Sv(n)}function eee(n){return!Ic(n)||Kg(n).position==="fixed"?null:n.offsetParent}function T$e(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Ic(n)){var i=Kg(n);if(i.position==="fixed")return null}for(var r=RO(n);Ic(r)&&["html","body"].indexOf(Zh(r))<0;){var s=Kg(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function JE(n){for(var e=Gd(n),t=eee(n);t&&I$e(t)&&Kg(t).position==="static";)t=eee(t);return t&&(Zh(t)==="html"||Zh(t)==="body"&&Kg(t).position==="static")?e:t||T$e(n)||e}function lU(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function R2(n,e,t){return t_(n,NM(e,t))}function N$e(n,e,t){var i=R2(n,e,t);return i>t?t:i}function jde(){return{top:0,right:0,bottom:0,left:0}}function Kde(n){return Object.assign({},jde(),n)}function Gde(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var x$e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Kde(typeof e!="number"?e:Gde(e,QE))};function M$e(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=zh(t.placement),l=lU(a),u=[Bl,Fc].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=x$e(r.padding,t),h=aU(s),f=l==="y"?Fl:Bl,g=l==="y"?Pc:Fc,p=t.rects.reference[c]+t.rects.reference[l]-o[l]-t.rects.popper[c],m=o[l]-t.rects.reference[l],b=JE(s),_=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,C=p/2-m/2,w=d[f],S=_-h[c]-d[g],D=_/2-h[c]/2+C,E=R2(w,D,S),I=l;t.modifiersData[i]=(e={},e[I]=E,e.centerOffset=E-D,e)}}function A$e(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!Ude(e.elements.popper,r)||(e.elements.arrow=r))}var R$e={name:"arrow",enabled:!0,phase:"main",fn:M$e,effect:A$e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xy(n){return n.split("-")[1]}var O$e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function P$e(n){var e=n.x,t=n.y,i=window,r=i.devicePixelRatio||1;return{x:Ty(e*r)/r||0,y:Ty(t*r)/r||0}}function tee(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,c=n.roundOffsets,d=n.isFixed,h=o.x,f=h===void 0?0:h,g=o.y,p=g===void 0?0:g,m=typeof c=="function"?c({x:f,y:p}):{x:f,y:p};f=m.x,p=m.y;var b=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),C=Bl,w=Fl,S=window;if(u){var D=JE(t),E="clientHeight",I="clientWidth";if(D===Gd(t)&&(D=Sv(t),Kg(D).position!=="static"&&a==="absolute"&&(E="scrollHeight",I="scrollWidth")),D=D,r===Fl||(r===Bl||r===Fc)&&s===ek){w=Pc;var T=d&&S.visualViewport?S.visualViewport.height:D[E];p-=T-i.height,p*=l?1:-1}if(r===Bl||(r===Fl||r===Pc)&&s===ek){C=Fc;var M=d&&S.visualViewport?S.visualViewport.width:D[I];f-=M-i.width,f*=l?1:-1}}var A=Object.assign({position:a},u&&O$e),O=c===!0?P$e({x:f,y:p}):{x:f,y:p};if(f=O.x,p=O.y,l){var F;return Object.assign({},A,(F={},F[w]=_?"0":"",F[C]=b?"0":"",F.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",F))}return Object.assign({},A,(e={},e[w]=_?p+"px":"",e[C]=b?f+"px":"",e.transform="",e))}function F$e(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:zh(e.placement),variation:xy(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,tee(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,tee(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var B$e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:F$e,data:{}},QI={passive:!0};function $$e(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Gd(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",t.update,QI)}),a&&l.addEventListener("resize",t.update,QI),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",t.update,QI)}),a&&l.removeEventListener("resize",t.update,QI)}}var V$e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$$e,data:{}},W$e={left:"right",right:"left",bottom:"top",top:"bottom"};function WN(n){return n.replace(/left|right|bottom|top/g,function(e){return W$e[e]})}var H$e={start:"end",end:"start"};function nee(n){return n.replace(/start|end/g,function(e){return H$e[e]})}function uU(n){var e=Gd(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function cU(n){return Ny(Sv(n)).left+uU(n).scrollLeft}function z$e(n){var e=Gd(n),t=Sv(n),i=e.visualViewport,r=t.clientWidth,s=t.clientHeight,o=0,a=0;return i&&(r=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:r,height:s,x:o+cU(n),y:a}}function U$e(n){var e,t=Sv(n),i=uU(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=t_(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=t_(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+cU(n),l=-i.scrollTop;return Kg(r||t).direction==="rtl"&&(a+=t_(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function dU(n){var e=Kg(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function qde(n){return["html","body","#document"].indexOf(Zh(n))>=0?n.ownerDocument.body:Ic(n)&&dU(n)?n:qde(RO(n))}function O2(n,e){var t;e===void 0&&(e=[]);var i=qde(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=Gd(i),o=r?[s].concat(s.visualViewport||[],dU(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(O2(RO(o)))}function QB(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function j$e(n){var e=Ny(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function iee(n,e){return e===Hde?QB(z$e(n)):Iy(e)?j$e(e):QB(U$e(Sv(n)))}function K$e(n){var e=O2(RO(n)),t=["absolute","fixed"].indexOf(Kg(n).position)>=0,i=t&&Ic(n)?JE(n):n;return Iy(i)?e.filter(function(r){return Iy(r)&&Ude(r,i)&&Zh(r)!=="body"}):[]}function G$e(n,e,t){var i=e==="clippingParents"?K$e(n):[].concat(e),r=[].concat(i,[t]),s=r[0],o=r.reduce(function(a,l){var u=iee(n,l);return a.top=t_(u.top,a.top),a.right=NM(u.right,a.right),a.bottom=NM(u.bottom,a.bottom),a.left=t_(u.left,a.left),a},iee(n,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Yde(n){var e=n.reference,t=n.element,i=n.placement,r=i?zh(i):null,s=i?xy(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case Fl:l={x:o,y:e.y-t.height};break;case Pc:l={x:o,y:e.y+e.height};break;case Fc:l={x:e.x+e.width,y:a};break;case Bl:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?lU(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Dy:l[u]=l[u]-(e[c]/2-t[c]/2);break;case ek:l[u]=l[u]+(e[c]/2-t[c]/2);break}}return l}function tk(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.boundary,o=s===void 0?f$e:s,a=t.rootBoundary,l=a===void 0?Hde:a,u=t.elementContext,c=u===void 0?ES:u,d=t.altBoundary,h=d===void 0?!1:d,f=t.padding,g=f===void 0?0:f,p=Kde(typeof g!="number"?g:Gde(g,QE)),m=c===ES?g$e:ES,b=n.rects.popper,_=n.elements[h?m:c],C=G$e(Iy(_)?_:_.contextElement||Sv(n.elements.popper),o,l),w=Ny(n.elements.reference),S=Yde({reference:w,element:b,strategy:"absolute",placement:r}),D=QB(Object.assign({},b,S)),E=c===ES?D:w,I={top:C.top-E.top+p.top,bottom:E.bottom-C.bottom+p.bottom,left:C.left-E.left+p.left,right:E.right-C.right+p.right},T=n.modifiersData.offset;if(c===ES&&T){var M=T[r];Object.keys(I).forEach(function(A){var O=[Fc,Pc].indexOf(A)>=0?1:-1,F=[Fl,Pc].indexOf(A)>=0?"y":"x";I[A]+=M[F]*O})}return I}function q$e(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?oU:l,c=xy(i),d=c?a?JJ:JJ.filter(function(g){return xy(g)===c}):QE,h=d.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=d);var f=h.reduce(function(g,p){return g[p]=tk(n,{placement:p,boundary:r,rootBoundary:s,padding:o})[zh(p)],g},{});return Object.keys(f).sort(function(g,p){return f[g]-f[p]})}function Y$e(n){if(zh(n)===sU)return[];var e=WN(n);return[nee(n),e,nee(e)]}function X$e(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,u=t.padding,c=t.boundary,d=t.rootBoundary,h=t.altBoundary,f=t.flipVariations,g=f===void 0?!0:f,p=t.allowedAutoPlacements,m=e.options.placement,b=zh(m),_=b===m,C=l||(_||!g?[WN(m)]:Y$e(m)),w=[m].concat(C).reduce(function(Se,fe){return Se.concat(zh(fe)===sU?q$e(e,{placement:fe,boundary:c,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:p}):fe)},[]),S=e.rects.reference,D=e.rects.popper,E=new Map,I=!0,T=w[0],M=0;M<w.length;M++){var A=w[M],O=zh(A),F=xy(A)===Dy,U=[Fl,Pc].indexOf(O)>=0,V=U?"width":"height",G=tk(e,{placement:A,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),j=U?F?Fc:Bl:F?Pc:Fl;S[V]>D[V]&&(j=WN(j));var X=WN(j),ie=[];if(s&&ie.push(G[O]<=0),a&&ie.push(G[j]<=0,G[X]<=0),ie.every(function(Se){return Se})){T=A,I=!1;break}E.set(A,ie)}if(I)for(var Ce=g?3:1,Be=function(fe){var pe=w.find(function(me){var Ne=E.get(me);if(Ne)return Ne.slice(0,fe).every(function(je){return je})});if(pe)return T=pe,"break"},we=Ce;we>0;we--){var ke=Be(we);if(ke==="break")break}e.placement!==T&&(e.modifiersData[i]._skip=!0,e.placement=T,e.reset=!0)}}var Z$e={name:"flip",enabled:!0,phase:"main",fn:X$e,requiresIfExists:["offset"],data:{_skip:!1}};function ree(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function see(n){return[Fl,Fc,Pc,Bl].some(function(e){return n[e]>=0})}function Q$e(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=tk(e,{elementContext:"reference"}),a=tk(e,{altBoundary:!0}),l=ree(o,i),u=ree(a,r,s),c=see(l),d=see(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var J$e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Q$e};function eVe(n,e,t){var i=zh(n),r=[Bl,Fl].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Bl,Fc].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function tVe(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,o=oU.reduce(function(c,d){return c[d]=eVe(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=o}var nVe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tVe};function iVe(n){var e=n.state,t=n.name;e.modifiersData[t]=Yde({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var rVe={name:"popperOffsets",enabled:!0,phase:"read",fn:iVe,data:{}};function sVe(n){return n==="x"?"y":"x"}function oVe(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,d=t.padding,h=t.tether,f=h===void 0?!0:h,g=t.tetherOffset,p=g===void 0?0:g,m=tk(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),b=zh(e.placement),_=xy(e.placement),C=!_,w=lU(b),S=sVe(w),D=e.modifiersData.popperOffsets,E=e.rects.reference,I=e.rects.popper,T=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,M=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(!!D){if(s){var F,U=w==="y"?Fl:Bl,V=w==="y"?Pc:Fc,G=w==="y"?"height":"width",j=D[w],X=j+m[U],ie=j-m[V],Ce=f?-I[G]/2:0,Be=_===Dy?E[G]:I[G],we=_===Dy?-I[G]:-E[G],ke=e.elements.arrow,Se=f&&ke?aU(ke):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jde(),pe=fe[U],me=fe[V],Ne=R2(0,E[G],Se[G]),je=C?E[G]/2-Ce-Ne-pe-M.mainAxis:Be-Ne-pe-M.mainAxis,rt=C?-E[G]/2+Ce+Ne+me+M.mainAxis:we+Ne+me+M.mainAxis,xe=e.elements.arrow&&JE(e.elements.arrow),Ve=xe?w==="y"?xe.clientTop||0:xe.clientLeft||0:0,ee=(F=A==null?void 0:A[w])!=null?F:0,ne=j+je-ee-Ve,le=j+rt-ee,de=R2(f?NM(X,ne):X,j,f?t_(ie,le):ie);D[w]=de,O[w]=de-j}if(a){var ye,q=w==="x"?Fl:Bl,P=w==="x"?Pc:Fc,x=D[S],R=S==="y"?"height":"width",H=x+m[q],W=x-m[P],K=[Fl,Bl].indexOf(b)!==-1,re=(ye=A==null?void 0:A[S])!=null?ye:0,se=K?H:x-E[R]-I[R]-re+M.altAxis,ve=K?x+E[R]+I[R]-re-M.altAxis:W,Re=f&&K?N$e(se,x,ve):R2(f?se:H,x,f?ve:W);D[S]=Re,O[S]=Re-x}e.modifiersData[i]=O}}var aVe={name:"preventOverflow",enabled:!0,phase:"main",fn:oVe,requiresIfExists:["offset"]};function lVe(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function uVe(n){return n===Gd(n)||!Ic(n)?uU(n):lVe(n)}function cVe(n){var e=n.getBoundingClientRect(),t=Ty(e.width)/n.offsetWidth||1,i=Ty(e.height)/n.offsetHeight||1;return t!==1||i!==1}function dVe(n,e,t){t===void 0&&(t=!1);var i=Ic(e),r=Ic(e)&&cVe(e),s=Sv(e),o=Ny(n,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Zh(e)!=="body"||dU(s))&&(a=uVe(e)),Ic(e)?(l=Ny(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=cU(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function hVe(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function fVe(n){var e=hVe(n);return L$e.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function gVe(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function pVe(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var oee={placement:"bottom",modifiers:[],strategy:"absolute"};function aee(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function mVe(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?oee:r;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},oee,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(b){var _=typeof b=="function"?b(c.options):b;p(),c.options=Object.assign({},s,c.options,_),c.scrollParents={reference:Iy(a)?O2(a):a.contextElement?O2(a.contextElement):[],popper:O2(l)};var C=fVe(pVe([].concat(i,c.options.modifiers)));return c.orderedModifiers=C.filter(function(w){return w.enabled}),g(),f.update()},forceUpdate:function(){if(!h){var b=c.elements,_=b.reference,C=b.popper;if(!!aee(_,C)){c.rects={reference:dVe(_,JE(C),c.options.strategy==="fixed"),popper:aU(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(M){return c.modifiersData[M.name]=Object.assign({},M.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var S=c.orderedModifiers[w],D=S.fn,E=S.options,I=E===void 0?{}:E,T=S.name;typeof D=="function"&&(c=D({state:c,options:I,name:T,instance:f})||c)}}}},update:gVe(function(){return new Promise(function(m){f.forceUpdate(),m(c)})}),destroy:function(){p(),h=!0}};if(!aee(a,l))return f;f.setOptions(u).then(function(m){!h&&u.onFirstUpdate&&u.onFirstUpdate(m)});function g(){c.orderedModifiers.forEach(function(m){var b=m.name,_=m.options,C=_===void 0?{}:_,w=m.effect;if(typeof w=="function"){var S=w({state:c,name:b,instance:f,options:C}),D=function(){};d.push(S||D)}})}function p(){d.forEach(function(m){return m()}),d=[]}return f}}var vVe=[V$e,rVe,B$e,D$e,nVe,Z$e,aVe,R$e,J$e],Xde=mVe({defaultModifiers:vVe});const _Ve={LIGHT:"light",DARK:"dark"},Zde=Wt({arrowOffset:{type:Number,default:5}}),bVe=Wt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:It(Array),default:()=>[]},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:oU,default:"bottom"},popperOptions:{type:It(Object),default:()=>({})},strategy:{type:String,values:["fixed","absolute"],default:"absolute"}});Wt({autoClose:{type:Number,default:0},cutoff:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}});const Qde=Wt(gn(Dt({},bVe),{style:{type:It([String,Array,Object])},className:{type:It([String,Array,Object])},effect:{type:String,default:"dark"},enterable:{type:Boolean,default:!0},pure:{type:Boolean},popperClass:{type:It([String,Array,Object])},popperStyle:{type:It([String,Array,Object])},referenceEl:{type:It(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},zIndex:Number})),Jde=Wt({virtualRef:{type:It(Object)},virtualTriggering:{type:Boolean}}),CVe=Me({name:"ElPopperArrow",props:Zde,setup(n){const e=dt("popper"),t=J(null),i=mt(Wde,void 0);return Ze(()=>n.arrowOffset,r=>{i.arrowOffset.value=r}),rn(()=>{i.arrowRef.value=Ue(t)}),Er(()=>{i.arrowRef.value=null}),{ns:e,arrowRef:t}}});function yVe(n,e,t,i,r,s){return B(),te("span",{ref:"arrowRef",class:Z(n.ns.e("arrow")),"data-popper-arrow":""},null,2)}var wVe=at(CVe,[["render",yVe]]);const SVe="ElOnlyChild",LVe=Me({name:SVe,setup(n,{slots:e,attrs:t}){var i;const r=mt(xde,void 0),s=c7e((i=r.setForwardRef)!=null?i:ur);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,t);if(!a||a.length>1)return null;const l=ehe(a);return l?Ht($g(l,t),[[s]]):null}}});function ehe(n){if(!n)return null;const e=n;for(let t=0;t<e.length;t++){const i=e[t];if(so(i))switch(i.type){case ua:continue;case Fm:return lee(i);case kt:return ehe(i.children);default:return i}return lee(i)}return null}function lee(n){return st("span",{class:"el-only-child__content"},[n])}const uee=(n,e)=>{const{placement:t,strategy:i,popperOptions:r}=n,s=gn(Dt({placement:t,strategy:i},r),{modifiers:kVe(n)});return EVe(s,e),DVe(s,r==null?void 0:r.modifiers),s},the=n=>{let e=null;return n?("getBoundingClientRect"in n||n instanceof HTMLElement?e=n:e=n.$el,e):null};function kVe(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:i}=n;return[{name:"offset",options:{offset:[0,e!=null?e:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i!=null?i:[]}},{name:"computeStyles",options:{gpuAcceleration:t,adaptive:t}}]}function EVe(n,{arrowEl:e,arrowOffset:t}){n.modifiers.push({name:"arrow",options:{element:e,padding:t!=null?t:5}})}function DVe(n,e){e&&(n.modifiers=[...n.modifiers,...e!=null?e:[]])}const IVe=Me({name:"ElPopperTrigger",components:{ElOnlyChild:LVe},inheritAttrs:!1,props:gn(Dt({},Jde),{onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean}),setup(n){const{triggerRef:e}=mt(rU,void 0);return u7e(e),Ze(()=>n.virtualRef,t=>{t&&(e.value=the(t))},{immediate:!0}),Ze(()=>e.value,(t,i)=>{t&&t instanceof HTMLElement&&["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(r=>{const s=n[r];s&&(t.addEventListener(r.slice(2).toLowerCase(),s),i==null||i.removeEventListener(r.slice(2).toLowerCase(),s))})},{immediate:!0}),{triggerRef:e}}});function TVe(n,e,t,i,r,s){const o=Te("el-only-child");return n.virtualTriggering?Fe("v-if",!0):(B(),Oe(o,lo({key:0},n.$attrs,{"aria-describedby":n.open?n.id:void 0}),{default:De(()=>[Xe(n.$slots,"default")]),_:3},16,["aria-describedby"]))}var NVe=at(IVe,[["render",TVe]]);const xVe=Me({name:"ElPopperContent",props:Qde,emits:["mouseenter","mouseleave"],setup(n){const{triggerRef:e,popperInstanceRef:t,contentRef:i}=mt(rU,void 0),{nextZIndex:r}=yv(),s=dt("popper"),o=J(null),a=J(null),l=J();vn(Wde,{arrowRef:a,arrowOffset:l});const u=J(n.zIndex||r()),c=z(()=>[{zIndex:Ue(u)},n.popperStyle]),d=z(()=>[s.b(),s.is("pure",n.pure),s.is(n.effect),n.popperClass]),h=({referenceEl:g,popperContentEl:p,arrowEl:m})=>{const b=uee(n,{arrowEl:m,arrowOffset:Ue(l)});return Xde(g,p,b)},f=()=>{var g;(g=Ue(t))==null||g.update(),u.value=n.zIndex||r()};return rn(()=>{let g;Ze(()=>the(n.referenceEl)||Ue(e),p=>{var m;if(g==null||g(),p){(m=t.value)==null||m.destroy();const b=Ue(o);i.value=b;const _=Ue(a),C=h({referenceEl:p,popperContentEl:Ue(o),arrowEl:_});t.value=C,g=Ze(()=>p.getBoundingClientRect(),()=>{f()},{immediate:!0})}else t.value=null},{immediate:!0}),Ze(()=>uee(n,{arrowEl:Ue(a),arrowOffset:Ue(l)}),p=>{var m;return(m=t.value)==null?void 0:m.setOptions(p)})}),{ns:s,popperContentRef:o,popperInstanceRef:t,contentStyle:c,contentClass:d,updatePopper:f}}});function MVe(n,e,t,i,r,s){return B(),te("div",{ref:"popperContentRef",style:wt(n.contentStyle),class:Z(n.contentClass),role:"tooltip",onMouseenter:e[0]||(e[0]=o=>n.$emit("mouseenter",o)),onMouseleave:e[1]||(e[1]=o=>n.$emit("mouseleave",o))},[Xe(n.$slots,"default")],38)}var AVe=at(xVe,[["render",MVe]]);function Pw(n,e){const t=en(),i=z(()=>Ol(t.props[e])?t.props[e]:t.props.teleported);return Sde({scope:n,from:e,replacement:"teleported",version:"2.1.0",ref:"https://element-plus.org/en-US/component/tooltip.html#attributes"},z(()=>Ol(t.props[e]))),{compatTeleported:i}}const nhe=wn(h$e),RVe=Me({name:"ElVisuallyHidden",props:{style:{type:[String,Object,Array]}},setup(n){return{computedStyle:z(()=>[n.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}])}}});function OVe(n,e,t,i,r,s){return B(),te("span",lo(n.$attrs,{style:n.computedStyle}),null,16)}var PVe=at(RVe,[["render",OVe]]);const wa=Wt(gn(Dt(Dt({},a7e),Qde),{appendTo:{type:It([String,Object]),default:s7e},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:It(Boolean),default:null},transition:{type:String,default:"el-fade-in-linear"},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}})),nk=Wt(gn(Dt({},Jde),{disabled:Boolean,trigger:{type:It([String,Array]),default:"hover"}})),FVe=Wt({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),OO=Symbol("elTooltip"),BVe=Me({name:"ElTooltipContent",components:{ElPopperContent:AVe,ElVisuallyHidden:PVe},inheritAttrs:!1,props:wa,setup(n){const e=J(null),t=J(!1),i=J(!1),r=J(!1),{controlled:s,id:o,open:a,trigger:l,onClose:u,onOpen:c,onShow:d,onHide:h}=mt(OO,void 0),f=z(()=>n.persistent),g=z(()=>Ue(f)?!0:Ue(a)),p=z(()=>n.disabled?!1:Ue(a)),m=z(()=>{var T;return(T=n.style)!=null?T:{}}),b=z(()=>!Ue(a));r7e(u);const _=()=>{h()},C=()=>{if(Ue(s))return!0},w=eo(C,()=>{n.enterable&&Ue(l)==="hover"&&c()}),S=eo(C,()=>{Ue(l)==="hover"&&u()}),D=()=>{var T,M;(M=(T=e.value)==null?void 0:T.updatePopper)==null||M.call(T)},E=()=>{d()};let I;return Ze(()=>Ue(a),T=>{T?I=BB(z(()=>{var M;return(M=e.value)==null?void 0:M.popperContentRef}),()=>{if(Ue(s))return;Ue(l)!=="hover"&&u()}):I==null||I()},{flush:"post"}),{ariaHidden:b,entering:i,leaving:r,id:o,intermediateOpen:t,contentStyle:m,contentRef:e,shouldRender:g,shouldShow:p,open:a,onAfterShow:E,onBeforeEnter:D,onContentEnter:w,onContentLeave:S,onTransitionLeave:_}}});function $Ve(n,e,t,i,r,s){const o=Te("el-visually-hidden"),a=Te("el-popper-content");return B(),Oe(zE,{disabled:!n.teleported,to:n.appendTo},[be(Cs,{name:n.transition,onAfterLeave:n.onTransitionLeave,onBeforeEnter:n.onBeforeEnter,onAfterEnter:n.onAfterShow},{default:De(()=>[n.shouldRender?Ht((B(),Oe(a,lo({key:0,ref:"contentRef"},n.$attrs,{"aria-hidden":n.ariaHidden,"boundaries-padding":n.boundariesPadding,"fallback-placements":n.fallbackPlacements,"gpu-acceleration":n.gpuAcceleration,offset:n.offset,placement:n.placement,"popper-options":n.popperOptions,strategy:n.strategy,effect:n.effect,enterable:n.enterable,pure:n.pure,"popper-class":n.popperClass,"popper-style":[n.popperStyle,n.contentStyle],"reference-el":n.referenceEl,"z-index":n.zIndex,onMouseenter:n.onContentEnter,onMouseleave:n.onContentLeave}),{default:De(()=>[Xe(n.$slots,"default"),be(o,{id:n.id,role:"tooltip"},{default:De(()=>[xn(Je(n.ariaLabel),1)]),_:1},8,["id"])]),_:3},16,["aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","z-index","onMouseenter","onMouseleave"])),[[zn,n.shouldShow]]):Fe("v-if",!0)]),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter"])],8,["disabled","to"])}var VVe=at(BVe,[["render",$Ve]]);const WVe=(n,e)=>Iu(n)?n.includes(e):n===e,pb=(n,e,t)=>i=>{WVe(Ue(n),e)&&t(i)},HVe=Me({name:"ElTooltipTrigger",components:{ElPopperTrigger:NVe},props:nk,setup(n){const e=dt("tooltip"),{controlled:t,id:i,open:r,onOpen:s,onClose:o,onToggle:a}=mt(OO,void 0),l=J(null),u=()=>{if(Ue(t)||n.disabled)return!0},c=Uo(n,"trigger"),d=eo(u,pb(c,"hover",s)),h=eo(u,pb(c,"hover",o)),f=eo(u,pb(c,"click",_=>{_.button===0&&a(_)})),g=eo(u,pb(c,"focus",s)),p=eo(u,pb(c,"focus",o)),m=eo(u,pb(c,"contextmenu",_=>{_.preventDefault(),a(_)})),b=eo(u,_=>{const{code:C}=_;(C===Ct.enter||C===Ct.space)&&a(_)});return{onBlur:p,onContextMenu:m,onFocus:g,onMouseenter:d,onMouseleave:h,onClick:f,onKeydown:b,open:r,id:i,triggerRef:l,ns:e}}});function zVe(n,e,t,i,r,s){const o=Te("el-popper-trigger");return B(),Oe(o,{id:n.id,"virtual-ref":n.virtualRef,open:n.open,"virtual-triggering":n.virtualTriggering,class:Z(n.ns.e("trigger")),onBlur:n.onBlur,onClick:n.onClick,onContextmenu:n.onContextMenu,onFocus:n.onFocus,onMouseenter:n.onMouseenter,onMouseleave:n.onMouseleave,onKeydown:n.onKeydown},{default:De(()=>[Xe(n.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var UVe=at(HVe,[["render",zVe]]);const{useModelToggleProps:jVe,useModelToggle:KVe,useModelToggleEmits:GVe}=Dde("visible"),qVe=Me({name:"ElTooltip",components:{ElPopper:nhe,ElPopperArrow:wVe,ElTooltipContent:VVe,ElTooltipTrigger:UVe},props:Dt(Dt(Dt(Dt(Dt({},jVe),wa),nk),Zde),FVe),emits:[...GVe,"show","hide"],setup(n,{emit:e}){o7e();const t=z(()=>(!XL(n.openDelay),n.openDelay||n.showAfter)),i=z(()=>(!XL(n.visibleArrow),Ol(n.visibleArrow)?n.visibleArrow:n.showArrow)),r=Tde(),s=J(null),o=()=>{var f;const g=Ue(s);g&&((f=g.popperInstanceRef)==null||f.update())},a=J(!1),{show:l,hide:u}=KVe({indicator:a}),{onOpen:c,onClose:d}=l7e({showAfter:t,hideAfter:Uo(n,"hideAfter"),open:l,close:u}),h=z(()=>Ol(n.visible));return vn(OO,{controlled:h,id:r,open:xw(a),trigger:Uo(n,"trigger"),onOpen:c,onClose:d,onToggle:()=>{Ue(a)?d():c()},onShow:()=>{e("show")},onHide:()=>{e("hide")},updatePopper:o}),{compatShowAfter:t,compatShowArrow:i,popperRef:s,open:a,hide:u,updatePopper:o,onOpen:c,onClose:d}}}),YVe=["innerHTML"],XVe={key:1};function ZVe(n,e,t,i,r,s){const o=Te("el-tooltip-trigger"),a=Te("el-popper-arrow"),l=Te("el-tooltip-content"),u=Te("el-popper");return B(),Oe(u,{ref:"popperRef"},{default:De(()=>[be(o,{disabled:n.disabled,trigger:n.trigger,"virtual-ref":n.virtualRef,"virtual-triggering":n.virtualTriggering},{default:De(()=>[n.$slots.default?Xe(n.$slots,"default",{key:0}):Fe("v-if",!0)]),_:3},8,["disabled","trigger","virtual-ref","virtual-triggering"]),be(l,{"aria-label":n.ariaLabel,"boundaries-padding":n.boundariesPadding,content:n.content,disabled:n.disabled,effect:n.effect,enterable:n.enterable,"fallback-placements":n.fallbackPlacements,"hide-after":n.hideAfter,"gpu-acceleration":n.gpuAcceleration,offset:n.offset,persistent:n.persistent,"popper-class":n.popperClass,"popper-style":n.popperStyle,placement:n.placement,"popper-options":n.popperOptions,pure:n.pure,"raw-content":n.rawContent,"reference-el":n.referenceEl,"show-after":n.compatShowAfter,strategy:n.strategy,teleported:n.teleported,transition:n.transition,"z-index":n.zIndex},{default:De(()=>[Xe(n.$slots,"content",{},()=>[n.rawContent?(B(),te("span",{key:0,innerHTML:n.content},null,8,YVe)):(B(),te("span",XVe,Je(n.content),1))]),n.compatShowArrow?(B(),Oe(a,{key:0,"arrow-offset":n.arrowOffset},null,8,["arrow-offset"])):Fe("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","show-after","strategy","teleported","transition","z-index"])]),_:3},512)}var QVe=at(qVe,[["render",ZVe]]);const Ql=wn(QVe),cee="ElAutocomplete",JVe=Me({name:cee,components:{ElTooltip:Ql,ElInput:zc,ElScrollbar:rp,ElIcon:cn,Loading:Cv},directives:{clickoutside:wv},inheritAttrs:!1,props:{valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:String,validator:n=>["top","top-start","top-end","bottom","bottom-start","bottom-end"].includes(n),default:"bottom-start"},fetchSuggestions:{type:Function,default:ur},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},popperAppendToBody:{type:Boolean,default:void 0},teleported:wa.teleported,highlightFirstItem:{type:Boolean,default:!1}},emits:[pn,"input","change","focus","blur","clear","select"],setup(n,e){const t=dt("autocomplete"),{compatTeleported:i}=Pw(cee,"popperAppendToBody"),r=tU(),s=J([]),o=J(-1),a=J(""),l=J(!1),u=J(!1),c=J(!1),d=J(null),h=J(null),f=J(null),g=z(()=>t.b(String(JL()))),p=z(()=>(Iu(s.value)&&s.value.length>0||c.value)&&l.value),m=z(()=>!n.hideLoading&&c.value),b=()=>{Nt(()=>{p.value&&(a.value=`${d.value.$el.offsetWidth}px`)})};rn(()=>{d.value.inputOrTextarea.setAttribute("role","textbox"),d.value.inputOrTextarea.setAttribute("aria-autocomplete","list"),d.value.inputOrTextarea.setAttribute("aria-controls","id"),d.value.inputOrTextarea.setAttribute("aria-activedescendant",`${g.value}-item-${o.value}`)});const _=U=>{u.value||(c.value=!0,n.fetchSuggestions(U,V=>{c.value=!1,!u.value&&(Iu(V)?(s.value=V,o.value=n.highlightFirstItem?0:-1):ca("ElAutocomplete","autocomplete suggestions must be an array"))}))},C=Hl(_,n.debounce),w=U=>{if(e.emit("input",U),e.emit(pn,U),u.value=!1,!n.triggerOnFocus&&!U){u.value=!0,s.value=[];return}C(U)},S=U=>{e.emit("change",U)},D=U=>{l.value=!0,e.emit("focus",U),n.triggerOnFocus&&C(String(n.modelValue))},E=U=>{e.emit("blur",U)},I=()=>{l.value=!1,e.emit(pn,""),e.emit("clear")},T=()=>{p.value&&o.value>=0&&o.value<s.value.length?O(s.value[o.value]):n.selectWhenUnmatched&&(e.emit("select",{value:n.modelValue}),Nt(()=>{s.value=[],o.value=-1}))},M=()=>{l.value=!1},A=()=>{var U;(U=d.value)==null||U.focus()},O=U=>{e.emit("input",U[n.valueKey]),e.emit(pn,U[n.valueKey]),e.emit("select",U),Nt(()=>{s.value=[],o.value=-1})};return{attrs:r,suggestions:s,highlightedIndex:o,dropdownWidth:a,activated:l,suggestionDisabled:u,loading:c,inputRef:d,regionRef:h,popper:f,id:g,suggestionVisible:p,suggestionLoading:m,compatTeleported:i,getData:_,handleInput:w,handleChange:S,handleFocus:D,handleBlur:E,handleClear:I,handleKeyEnter:T,close:M,focus:A,select:O,highlight:U=>{if(!p.value||c.value)return;if(U<0){o.value=-1;return}U>=s.value.length&&(U=s.value.length-1);const V=h.value.querySelector(`.${t.be("suggestion","wrap")}`),j=V.querySelectorAll(`.${t.be("suggestion","list")} li`)[U],X=V.scrollTop,{offsetTop:ie,scrollHeight:Ce}=j;ie+Ce>X+V.clientHeight&&(V.scrollTop+=Ce),ie<X&&(V.scrollTop-=Ce),o.value=U,d.value.inputOrTextarea.setAttribute("aria-activedescendant",`${g.value}-item-${o.value}`)},onSuggestionShow:b,ns:t}}}),eWe=["aria-expanded","aria-owns"],tWe={key:0},nWe=["id","aria-selected","onClick"];function iWe(n,e,t,i,r,s){const o=Te("el-input"),a=Te("loading"),l=Te("el-icon"),u=Te("el-scrollbar"),c=Te("el-tooltip"),d=xa("clickoutside");return B(),Oe(c,{ref:"popper",visible:n.suggestionVisible,"onUpdate:visible":e[2]||(e[2]=h=>n.suggestionVisible=h),placement:n.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":`${n.ns.e("popper")} ${n.popperClass}`,teleported:n.compatTeleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${n.ns.namespace.value}-zoom-in-top`,persistent:"",onShow:n.onSuggestionShow},{content:De(()=>[oe("div",{ref:"regionRef",class:Z([n.ns.b("suggestion"),n.ns.is("loading",n.suggestionLoading)]),style:wt({minWidth:n.dropdownWidth,outline:"none"}),role:"region"},[be(u,{id:n.id,tag:"ul","wrap-class":n.ns.be("suggestion","wrap"),"view-class":n.ns.be("suggestion","list"),role:"listbox"},{default:De(()=>[n.suggestionLoading?(B(),te("li",tWe,[be(l,{class:"is-loading"},{default:De(()=>[be(a)]),_:1})])):(B(!0),te(kt,{key:1},$n(n.suggestions,(h,f)=>(B(),te("li",{id:`${n.id}-item-${f}`,key:f,class:Z({highlighted:n.highlightedIndex===f}),role:"option","aria-selected":n.highlightedIndex===f,onClick:g=>n.select(h)},[Xe(n.$slots,"default",{item:h},()=>[xn(Je(h[n.valueKey]),1)])],10,nWe))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:De(()=>[Ht((B(),te("div",{class:Z([n.ns.b(),n.$attrs.class]),style:wt(n.$attrs.style),role:"combobox","aria-haspopup":"listbox","aria-expanded":n.suggestionVisible,"aria-owns":n.id},[be(o,lo({ref:"inputRef"},n.attrs,{"model-value":n.modelValue,onInput:n.handleInput,onChange:n.handleChange,onFocus:n.handleFocus,onBlur:n.handleBlur,onClear:n.handleClear,onKeydown:[e[0]||(e[0]=Cn(Ft(h=>n.highlight(n.highlightedIndex-1),["prevent"]),["up"])),e[1]||(e[1]=Cn(Ft(h=>n.highlight(n.highlightedIndex+1),["prevent"]),["down"])),Cn(n.handleKeyEnter,["enter"]),Cn(n.close,["tab"])]}),_y({_:2},[n.$slots.prepend?{name:"prepend",fn:De(()=>[Xe(n.$slots,"prepend")])}:void 0,n.$slots.append?{name:"append",fn:De(()=>[Xe(n.$slots,"append")])}:void 0,n.$slots.prefix?{name:"prefix",fn:De(()=>[Xe(n.$slots,"prefix")])}:void 0,n.$slots.suffix?{name:"suffix",fn:De(()=>[Xe(n.$slots,"suffix")])}:void 0]),1040,["model-value","onInput","onChange","onFocus","onBlur","onClear","onKeydown"])],14,eWe)),[[d,n.close]])]),_:3},8,["visible","placement","popper-class","teleported","transition","onShow"])}var HN=at(JVe,[["render",iWe]]);HN.install=n=>{n.component(HN.name,HN)};const rWe=HN,sWe=rWe,oWe=Wt({size:{type:[Number,String],values:["large","default","small"],default:"default",validator:n=>typeof n=="number"},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Ma},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:It(String),default:"cover"}}),aWe={error:n=>n instanceof Event},lWe=Me({name:"ElAvatar",components:{ElIcon:cn},props:oWe,emits:aWe,setup(n,{emit:e}){const t=dt("avatar"),i=J(!1),r=z(()=>{const{size:l,icon:u,shape:c}=n,d=[t.b()];return Or(l)&&d.push(t.m(l)),u&&d.push(t.m("icon")),c&&d.push(t.m(c)),d}),s=z(()=>{const{size:l}=n;return ei(l)?{"--el-avatar-size":xd(l)}:void 0}),o=z(()=>({objectFit:n.fit}));Ze(()=>n.src,()=>i.value=!1);function a(l){i.value=!0,e("error",l)}return{hasLoadError:i,avatarClass:r,sizeStyle:s,fitStyle:o,handleError:a}}}),uWe=["src","alt","srcset"];function cWe(n,e,t,i,r,s){const o=Te("el-icon");return B(),te("span",{class:Z(n.avatarClass),style:wt(n.sizeStyle)},[(n.src||n.srcSet)&&!n.hasLoadError?(B(),te("img",{key:0,src:n.src,alt:n.alt,srcset:n.srcSet,style:wt(n.fitStyle),onError:e[0]||(e[0]=(...a)=>n.handleError&&n.handleError(...a))},null,44,uWe)):n.icon?(B(),Oe(o,{key:1},{default:De(()=>[(B(),Oe(Bn(n.icon)))]),_:1})):Xe(n.$slots,"default",{key:2})],6)}var dWe=at(lWe,[["render",cWe]]);const hWe=wn(dWe),fWe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},gWe={click:n=>n instanceof MouseEvent},dee="ElBacktop",pWe=Me({name:dee,components:{ElIcon:cn,CaretTop:x8e},props:fWe,emits:gWe,setup(n,{emit:e}){const t=dt("backtop"),i=ra(document.documentElement),r=ra(document),s=J(!1),o=z(()=>`${n.bottom}px`),a=z(()=>`${n.right}px`),l=()=>{if(!i.value)return;const h=Date.now(),f=i.value.scrollTop,g=()=>{if(!i.value)return;const p=(Date.now()-h)/500;p<1?(i.value.scrollTop=f*(1-z9e(p)),requestAnimationFrame(g)):i.value.scrollTop=0};requestAnimationFrame(g)},u=()=>{i.value&&(s.value=i.value.scrollTop>=n.visibilityHeight)},c=h=>{l(),e("click",h)},d=Qce(u,300);return rn(()=>{var h;n.target&&(i.value=(h=document.querySelector(n.target))!=null?h:void 0,i.value||ca(dee,`target is not existed: ${n.target}`),r.value=i.value),no(r,"scroll",d)}),{visible:s,styleBottom:o,styleRight:a,handleClick:c,ns:t}}});function mWe(n,e,t,i,r,s){const o=Te("caret-top"),a=Te("el-icon");return B(),Oe(Cs,{name:`${n.ns.namespace.value}-fade-in`},{default:De(()=>[n.visible?(B(),te("div",{key:0,style:wt({right:n.styleRight,bottom:n.styleBottom}),class:Z(n.ns.b()),onClick:e[0]||(e[0]=Ft((...l)=>n.handleClick&&n.handleClick(...l),["stop"]))},[Xe(n.$slots,"default",{},()=>[be(a,{class:Z(n.ns.e("icon"))},{default:De(()=>[be(o)]),_:1},8,["class"])])],6)):Fe("v-if",!0)]),_:3},8,["name"])}var vWe=at(pWe,[["render",mWe]]);const _We=wn(vWe),bWe=Wt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),CWe=Me({name:"ElBadge",props:bWe,setup(n){const e=dt("badge"),t=z(()=>n.isDot?"":typeof n.value=="number"&&typeof n.max=="number"?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return{ns:e,content:t}}}),yWe=["textContent"];function wWe(n,e,t,i,r,s){return B(),te("div",{class:Z(n.ns.b())},[Xe(n.$slots,"default"),be(Cs,{name:`${n.ns.namespace.value}-zoom-in-center`},{default:De(()=>[Ht(oe("sup",{class:Z([n.ns.e("content"),n.ns.em("content",n.type),n.ns.is("fixed",!!n.$slots.default),n.ns.is("dot",n.isDot)]),textContent:Je(n.content)},null,10,yWe),[[zn,!n.hidden&&(n.content||n.content==="0"||n.isDot)]])]),_:1},8,["name"])],2)}var SWe=at(CWe,[["render",wWe]]);const ihe=wn(SWe),LWe=Wt({separator:{type:String,default:"/"},separatorIcon:{type:Ma,default:""}}),kWe=Me({name:"ElBreadcrumb",props:LWe,setup(n){const e=dt("breadcrumb"),t=J();return vn(mde,n),rn(()=>{const i=t.value.querySelectorAll(`.${e.e("item")}`);i.length&&i[i.length-1].setAttribute("aria-current","page")}),{ns:e,breadcrumb:t}}});function EWe(n,e,t,i,r,s){return B(),te("div",{ref:"breadcrumb",class:Z(n.ns.b()),"aria-label":"Breadcrumb",role:"navigation"},[Xe(n.$slots,"default")],2)}var DWe=at(kWe,[["render",EWe]]);const IWe=Wt({to:{type:It([String,Object]),default:""},replace:{type:Boolean,default:!1}}),TWe="ElBreadcrumbItem",NWe=Me({name:TWe,components:{ElIcon:cn},props:IWe,setup(n){const t=en().appContext.config.globalProperties.$router,i=mt(mde,void 0),r=dt("breadcrumb"),s=J();return rn(()=>{s.value.setAttribute("role","link"),s.value.addEventListener("click",()=>{!n.to||!t||(n.replace?t.replace(n.to):t.push(n.to))})}),{ns:r,link:s,separator:i==null?void 0:i.separator,separatorIcon:i==null?void 0:i.separatorIcon}}});function xWe(n,e,t,i,r,s){const o=Te("el-icon");return B(),te("span",{class:Z(n.ns.e("item"))},[oe("span",{ref:"link",class:Z([n.ns.e("inner"),n.ns.is("link",!!n.to)]),role:"link"},[Xe(n.$slots,"default")],2),n.separatorIcon?(B(),Oe(o,{key:0,class:Z(n.ns.e("separator"))},{default:De(()=>[(B(),Oe(Bn(n.separatorIcon)))]),_:1},8,["class"])):(B(),te("span",{key:1,class:Z(n.ns.e("separator")),role:"presentation"},Je(n.separator),3))],2)}var rhe=at(NWe,[["render",xWe]]);const MWe=wn(DWe,{BreadcrumbItem:rhe}),AWe=Ur(rhe);function sa(n,e){RWe(n)&&(n="100%");var t=OWe(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function JI(n){return Math.min(1,Math.max(0,n))}function RWe(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function OWe(n){return typeof n=="string"&&n.indexOf("%")!==-1}function she(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function eT(n){return n<=1?Number(n)*100+"%":n}function R0(n){return n.length===1?"0"+n:String(n)}function PWe(n,e,t){return{r:sa(n,255)*255,g:sa(e,255)*255,b:sa(t,255)*255}}function hee(n,e,t){n=sa(n,255),e=sa(e,255),t=sa(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s=0,o=0,a=(i+r)/2;if(i===r)o=0,s=0;else{var l=i-r;switch(o=a>.5?l/(2-i-r):l/(i+r),i){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function Z5(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function FWe(n,e,t){var i,r,s;if(n=sa(n,360),e=sa(e,100),t=sa(t,100),e===0)r=t,s=t,i=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;i=Z5(a,o,n+1/3),r=Z5(a,o,n),s=Z5(a,o,n-1/3)}return{r:i*255,g:r*255,b:s*255}}function fee(n,e,t){n=sa(n,255),e=sa(e,255),t=sa(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s=0,o=i,a=i-r,l=i===0?0:a/i;if(i===r)s=0;else{switch(i){case n:s=(e-t)/a+(e<t?6:0);break;case e:s=(t-n)/a+2;break;case t:s=(n-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function BWe(n,e,t){n=sa(n,360)*6,e=sa(e,100),t=sa(t,100);var i=Math.floor(n),r=n-i,s=t*(1-e),o=t*(1-r*e),a=t*(1-(1-r)*e),l=i%6,u=[t,o,s,s,a,t][l],c=[a,t,t,o,s,s][l],d=[s,s,a,t,t,o][l];return{r:u*255,g:c*255,b:d*255}}function gee(n,e,t,i){var r=[R0(Math.round(n).toString(16)),R0(Math.round(e).toString(16)),R0(Math.round(t).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function $We(n,e,t,i,r){var s=[R0(Math.round(n).toString(16)),R0(Math.round(e).toString(16)),R0(Math.round(t).toString(16)),R0(VWe(i))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function VWe(n){return Math.round(parseFloat(n)*255).toString(16)}function pee(n){return au(n)/255}function au(n){return parseInt(n,16)}function WWe(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var JB={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function HWe(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=jWe(n)),typeof n=="object"&&(Ff(n.r)&&Ff(n.g)&&Ff(n.b)?(e=PWe(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Ff(n.h)&&Ff(n.s)&&Ff(n.v)?(i=eT(n.s),r=eT(n.v),e=BWe(n.h,i,r),o=!0,a="hsv"):Ff(n.h)&&Ff(n.s)&&Ff(n.l)&&(i=eT(n.s),s=eT(n.l),e=FWe(n.h,i,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=she(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var zWe="[-\\+]?\\d+%?",UWe="[-\\+]?\\d*\\.\\d+%?",Jp="(?:"+UWe+")|(?:"+zWe+")",Q5="[\\s|\\(]+("+Jp+")[,|\\s]+("+Jp+")[,|\\s]+("+Jp+")\\s*\\)?",J5="[\\s|\\(]+("+Jp+")[,|\\s]+("+Jp+")[,|\\s]+("+Jp+")[,|\\s]+("+Jp+")\\s*\\)?",nd={CSS_UNIT:new RegExp(Jp),rgb:new RegExp("rgb"+Q5),rgba:new RegExp("rgba"+J5),hsl:new RegExp("hsl"+Q5),hsla:new RegExp("hsla"+J5),hsv:new RegExp("hsv"+Q5),hsva:new RegExp("hsva"+J5),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function jWe(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(JB[n])n=JB[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=nd.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=nd.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=nd.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=nd.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=nd.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=nd.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=nd.hex8.exec(n),t?{r:au(t[1]),g:au(t[2]),b:au(t[3]),a:pee(t[4]),format:e?"name":"hex8"}:(t=nd.hex6.exec(n),t?{r:au(t[1]),g:au(t[2]),b:au(t[3]),format:e?"name":"hex"}:(t=nd.hex4.exec(n),t?{r:au(t[1]+t[1]),g:au(t[2]+t[2]),b:au(t[3]+t[3]),a:pee(t[4]+t[4]),format:e?"name":"hex8"}:(t=nd.hex3.exec(n),t?{r:au(t[1]+t[1]),g:au(t[2]+t[2]),b:au(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Ff(n){return Boolean(nd.CSS_UNIT.exec(String(n)))}var ohe=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=WWe(e)),this.originalInput=e;var r=HWe(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,r,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?t=s/12.92:t=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*i+.0722*r},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=she(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.toHsv=function(){var e=fee(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=fee(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv("+t+", "+i+"%, "+r+"%)":"hsva("+t+", "+i+"%, "+r+"%, "+this.roundA+")"},n.prototype.toHsl=function(){var e=hee(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=hee(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this.roundA+")"},n.prototype.toHex=function(e){return e===void 0&&(e=!1),gee(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),$We(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb("+e+", "+t+", "+i+")":"rgba("+e+", "+t+", "+i+", "+this.roundA+")"},n.prototype.toPercentageRgb=function(){var e=function(t){return Math.round(sa(t,255)*100)+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(sa(t,255)*100)};return this.a===1?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+gee(this.r,this.g,this.b,!1),t=0,i=Object.entries(JB);t<i.length;t++){var r=i[t],s=r[0],o=r[1];if(e===o)return s}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=e!=null?e:this.format;var i=!1,r=this.a<1&&this.a>=0,s=!t&&r&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=JI(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=JI(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=JI(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=JI(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),r=new n(e).toRgb(),s=t/100,o={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),r=360/t,s=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(new n(i));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,r=t.s,s=t.v,o=[],a=1/e;e--;)o.push(new n({h:i,s:r,v:s})),s=(s+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb();return new n({r:i.r+(t.r-i.r)*t.a,g:i.g+(t.g-i.g)*t.a,b:i.b+(t.b-i.b)*t.a})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,r=[this],s=360/e,o=1;o<e;o++)r.push(new n({h:(i+o*s)%360,s:t.s,l:t.l}));return r},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();const e9=["default","primary","success","warning","info","danger","text",""],KWe=["button","submit","reset"],t9=Wt({size:AO,disabled:Boolean,type:{type:String,values:e9,default:""},icon:{type:Ma,default:""},nativeType:{type:String,values:KWe,default:"button"},loading:Boolean,loadingIcon:{type:Ma,default:()=>Cv},plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,autoInsertSpace:{type:Boolean,default:void 0}}),GWe={click:n=>n instanceof MouseEvent},qWe=["disabled","autofocus","type"],YWe={name:"ElButton"},XWe=Me(gn(Dt({},YWe),{props:t9,emits:GWe,setup(n,{expose:e,emit:t}){const i=n,r=_ue(),s=mt(pde,void 0),o=Rw("button"),a=dt("button"),{form:l}=Ow(),u=As(z(()=>s==null?void 0:s.size)),c=ZE(),d=J(),h=z(()=>i.type||(s==null?void 0:s.type)||""),f=z(()=>{var _,C,w;return(w=(C=i.autoInsertSpace)!=null?C:(_=o.value)==null?void 0:_.autoInsertSpace)!=null?w:!1}),g=z(()=>{var _;const C=(_=r.default)==null?void 0:_.call(r);if(f.value&&(C==null?void 0:C.length)===1){const w=C[0];if((w==null?void 0:w.type)===Fm){const S=w.children;return/^\p{Unified_Ideograph}{2}$/u.test(S)}}return!1}),p=z(()=>_Fe(`--el-color-${i.type}`).value),m=z(()=>{let _={};const C=i.color||p.value;if(C){const w=new ohe(C),S=w.shade(10).toString();if(i.plain)_={"--el-button-bg-color":w.tint(90).toString(),"--el-button-text-color":C,"--el-button-hover-text-color":"var(--el-color-white)","--el-button-hover-bg-color":C,"--el-button-hover-border-color":C,"--el-button-active-bg-color":S,"--el-button-active-text-color":"var(--el-color-white)","--el-button-active-border-color":S};else{const D=w.tint(20).toString();_={"--el-button-bg-color":C,"--el-button-border-color":C,"--el-button-hover-bg-color":D,"--el-button-hover-border-color":D,"--el-button-active-bg-color":S,"--el-button-active-border-color":S}}if(c.value){const D=w.tint(50).toString();_["--el-button-disabled-bg-color"]=D,_["--el-button-disabled-border-color"]=D}}return _}),b=_=>{i.nativeType==="reset"&&(l==null||l.resetFields()),t("click",_)};return e({ref:d,size:u,type:h,disabled:c,shouldAddSpace:g}),(_,C)=>(B(),te("button",{ref_key:"_ref",ref:d,class:Z([Ue(a).b(),Ue(a).m(Ue(h)),Ue(a).m(Ue(u)),Ue(a).is("disabled",Ue(c)),Ue(a).is("loading",_.loading),Ue(a).is("plain",_.plain),Ue(a).is("round",_.round),Ue(a).is("circle",_.circle)]),disabled:Ue(c)||_.loading,autofocus:_.autofocus,type:_.nativeType,style:wt(Ue(m)),onClick:b},[_.loading?(B(),te(kt,{key:0},[_.$slots.loading?Xe(_.$slots,"loading",{key:0}):(B(),Oe(Ue(cn),{key:1,class:Z(Ue(a).is("loading"))},{default:De(()=>[(B(),Oe(Bn(_.loadingIcon)))]),_:1},8,["class"]))],2112)):_.icon?(B(),Oe(Ue(cn),{key:1},{default:De(()=>[(B(),Oe(Bn(_.icon)))]),_:1})):Fe("v-if",!0),_.$slots.default?(B(),te("span",{key:2,class:Z({[Ue(a).em("text","expand")]:Ue(g)})},[Xe(_.$slots,"default")],2)):Fe("v-if",!0)],14,qWe))}})),ZWe={size:t9.size,type:t9.type},QWe=Me({name:"ElButtonGroup",props:ZWe,setup(n){return vn(pde,xi({size:Uo(n,"size"),type:Uo(n,"type")})),{ns:dt("button")}}});function JWe(n,e,t,i,r,s){return B(),te("div",{class:Z(`${n.ns.b("group")}`)},[Xe(n.$slots,"default")],2)}var ahe=at(QWe,[["render",JWe]]);const hf=wn(XWe,{ButtonGroup:ahe}),lhe=Ur(ahe);var zo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},uhe={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){var t=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",h="quarter",f="year",g="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},C=function(F,U,V){var G=String(F);return!G||G.length>=U?F:""+Array(U+1-G.length).join(V)+F},w={s:C,z:function(F){var U=-F.utcOffset(),V=Math.abs(U),G=Math.floor(V/60),j=V%60;return(U<=0?"+":"-")+C(G,2,"0")+":"+C(j,2,"0")},m:function F(U,V){if(U.date()<V.date())return-F(V,U);var G=12*(V.year()-U.year())+(V.month()-U.month()),j=U.clone().add(G,d),X=V-j<0,ie=U.clone().add(G+(X?-1:1),d);return+(-(G+(V-j)/(X?j-ie:ie-j))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:f,w:c,d:u,D:g,h:l,m:a,s:o,ms:s,Q:h}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},S="en",D={};D[S]=_;var E=function(F){return F instanceof A},I=function(F,U,V){var G;if(!F)return S;if(typeof F=="string")D[F]&&(G=F),U&&(D[F]=U,G=F);else{var j=F.name;D[j]=F,G=j}return!V&&G&&(S=G),G||!V&&S},T=function(F,U){if(E(F))return F.clone();var V=typeof U=="object"?U:{};return V.date=F,V.args=arguments,new A(V)},M=w;M.l=I,M.i=E,M.w=function(F,U){return T(F,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var A=function(){function F(V){this.$L=I(V.locale,null,!0),this.parse(V)}var U=F.prototype;return U.parse=function(V){this.$d=function(G){var j=G.date,X=G.utc;if(j===null)return new Date(NaN);if(M.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var ie=j.match(m);if(ie){var Ce=ie[2]-1||0,Be=(ie[7]||"0").substring(0,3);return X?new Date(Date.UTC(ie[1],Ce,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,Be)):new Date(ie[1],Ce,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,Be)}}return new Date(j)}(V),this.$x=V.x||{},this.init()},U.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},U.$utils=function(){return M},U.isValid=function(){return this.$d.toString()!==p},U.isSame=function(V,G){var j=T(V);return this.startOf(G)<=j&&j<=this.endOf(G)},U.isAfter=function(V,G){return T(V)<this.startOf(G)},U.isBefore=function(V,G){return this.endOf(G)<T(V)},U.$g=function(V,G,j){return M.u(V)?this[G]:this.set(j,V)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(V,G){var j=this,X=!!M.u(G)||G,ie=M.p(V),Ce=function(Ne,je){var rt=M.w(j.$u?Date.UTC(j.$y,je,Ne):new Date(j.$y,je,Ne),j);return X?rt:rt.endOf(u)},Be=function(Ne,je){return M.w(j.toDate()[Ne].apply(j.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(je)),j)},we=this.$W,ke=this.$M,Se=this.$D,fe="set"+(this.$u?"UTC":"");switch(ie){case f:return X?Ce(1,0):Ce(31,11);case d:return X?Ce(1,ke):Ce(0,ke+1);case c:var pe=this.$locale().weekStart||0,me=(we<pe?we+7:we)-pe;return Ce(X?Se-me:Se+(6-me),ke);case u:case g:return Be(fe+"Hours",0);case l:return Be(fe+"Minutes",1);case a:return Be(fe+"Seconds",2);case o:return Be(fe+"Milliseconds",3);default:return this.clone()}},U.endOf=function(V){return this.startOf(V,!1)},U.$set=function(V,G){var j,X=M.p(V),ie="set"+(this.$u?"UTC":""),Ce=(j={},j[u]=ie+"Date",j[g]=ie+"Date",j[d]=ie+"Month",j[f]=ie+"FullYear",j[l]=ie+"Hours",j[a]=ie+"Minutes",j[o]=ie+"Seconds",j[s]=ie+"Milliseconds",j)[X],Be=X===u?this.$D+(G-this.$W):G;if(X===d||X===f){var we=this.clone().set(g,1);we.$d[Ce](Be),we.init(),this.$d=we.set(g,Math.min(this.$D,we.daysInMonth())).$d}else Ce&&this.$d[Ce](Be);return this.init(),this},U.set=function(V,G){return this.clone().$set(V,G)},U.get=function(V){return this[M.p(V)]()},U.add=function(V,G){var j,X=this;V=Number(V);var ie=M.p(G),Ce=function(ke){var Se=T(X);return M.w(Se.date(Se.date()+Math.round(ke*V)),X)};if(ie===d)return this.set(d,this.$M+V);if(ie===f)return this.set(f,this.$y+V);if(ie===u)return Ce(1);if(ie===c)return Ce(7);var Be=(j={},j[a]=i,j[l]=r,j[o]=t,j)[ie]||1,we=this.$d.getTime()+V*Be;return M.w(we,this)},U.subtract=function(V,G){return this.add(-1*V,G)},U.format=function(V){var G=this,j=this.$locale();if(!this.isValid())return j.invalidDate||p;var X=V||"YYYY-MM-DDTHH:mm:ssZ",ie=M.z(this),Ce=this.$H,Be=this.$m,we=this.$M,ke=j.weekdays,Se=j.months,fe=function(je,rt,xe,Ve){return je&&(je[rt]||je(G,X))||xe[rt].substr(0,Ve)},pe=function(je){return M.s(Ce%12||12,je,"0")},me=j.meridiem||function(je,rt,xe){var Ve=je<12?"AM":"PM";return xe?Ve.toLowerCase():Ve},Ne={YY:String(this.$y).slice(-2),YYYY:this.$y,M:we+1,MM:M.s(we+1,2,"0"),MMM:fe(j.monthsShort,we,Se,3),MMMM:fe(Se,we),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:fe(j.weekdaysMin,this.$W,ke,2),ddd:fe(j.weekdaysShort,this.$W,ke,3),dddd:ke[this.$W],H:String(Ce),HH:M.s(Ce,2,"0"),h:pe(1),hh:pe(2),a:me(Ce,Be,!0),A:me(Ce,Be,!1),m:String(Be),mm:M.s(Be,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:ie};return X.replace(b,function(je,rt){return rt||Ne[je]||ie.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(V,G,j){var X,ie=M.p(G),Ce=T(V),Be=(Ce.utcOffset()-this.utcOffset())*i,we=this-Ce,ke=M.m(this,Ce);return ke=(X={},X[f]=ke/12,X[d]=ke,X[h]=ke/3,X[c]=(we-Be)/6048e5,X[u]=(we-Be)/864e5,X[l]=we/r,X[a]=we/i,X[o]=we/t,X)[ie]||we,j?ke:M.a(ke)},U.daysInMonth=function(){return this.endOf(d).$D},U.$locale=function(){return D[this.$L]},U.locale=function(V,G){if(!V)return this.$L;var j=this.clone(),X=I(V,G,!0);return X&&(j.$L=X),j},U.clone=function(){return M.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},F}(),O=A.prototype;return T.prototype=O,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",f],["$D",g]].forEach(function(F){O[F[1]]=function(U){return this.$g(U,F[0],F[1])}}),T.extend=function(F,U){return F.$i||(F(U,A,T),F.$i=!0),T},T.locale=I,T.isDayjs=E,T.unix=function(F){return T(1e3*F)},T.en=D[S],T.Ls=D,T.p={},T})})(uhe);var jt=uhe.exports,che={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){return function(t,i,r){var s=i.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,h,f,g,p){var m=d.name?d:d.$locale(),b=o(m[h]),_=o(m[f]),C=b||_.map(function(S){return S.substr(0,g)});if(!p)return C;var w=m.weekStart;return C.map(function(S,D){return C[(D+(w||0))%7]})},l=function(){return r.Ls[r.locale()]},u=function(d,h){return d.formats[h]||function(f){return f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,p,m){return p||m.slice(1)})}(d.formats[h.toUpperCase()])},c=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):a(d,"months")},monthsShort:function(h){return h?h.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return c.bind(this)()},r.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},r.months=function(){return a(l(),"months")},r.monthsShort=function(){return a(l(),"monthsShort","months",3)},r.weekdays=function(d){return a(l(),"weekdays",null,null,d)},r.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},r.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(che);var dhe=che.exports,hhe={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,s=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,a={},l=function(p){return(p=+p)+(p>68?1900:2e3)},u=function(p){return function(m){this[p]=+m}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var b=m.match(/([+-]|\d\d)/g),_=60*b[1]+(+b[2]||0);return _===0?0:b[0]==="+"?-_:_}(p)}],d=function(p){var m=a[p];return m&&(m.indexOf?m:m.s.concat(m.f))},h=function(p,m){var b,_=a.meridiem;if(_){for(var C=1;C<=24;C+=1)if(p.indexOf(_(C,0,m))>-1){b=C>12;break}}else b=p===(m?"pm":"PM");return b},f={A:[o,function(p){this.afternoon=h(p,!1)}],a:[o,function(p){this.afternoon=h(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[r,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[r,u("day")],Do:[o,function(p){var m=a.ordinal,b=p.match(/\d+/);if(this.day=b[0],m)for(var _=1;_<=31;_+=1)m(_).replace(/\[|\]/g,"")===p&&(this.day=_)}],M:[s,u("month")],MM:[r,u("month")],MMM:[o,function(p){var m=d("months"),b=(d("monthsShort")||m.map(function(_){return _.substr(0,3)})).indexOf(p)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[o,function(p){var m=d("months").indexOf(p)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(p){this.year=l(p)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function g(p){var m,b;m=p,b=a&&a.formats;for(var _=(p=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(T,M,A){var O=A&&A.toUpperCase();return M||b[A]||t[A]||b[O].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(F,U,V){return U||V.slice(1)})})).match(i),C=_.length,w=0;w<C;w+=1){var S=_[w],D=f[S],E=D&&D[0],I=D&&D[1];_[w]=I?{regex:E,parser:I}:S.replace(/^\[|\]$/g,"")}return function(T){for(var M={},A=0,O=0;A<C;A+=1){var F=_[A];if(typeof F=="string")O+=F.length;else{var U=F.regex,V=F.parser,G=T.substr(O),j=U.exec(G)[0];V.call(M,j),T=T.replace(j,"")}}return function(X){var ie=X.afternoon;if(ie!==void 0){var Ce=X.hours;ie?Ce<12&&(X.hours+=12):Ce===12&&(X.hours=0),delete X.afternoon}}(M),M}}return function(p,m,b){b.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(l=p.parseTwoDigitYear);var _=m.prototype,C=_.parse;_.parse=function(w){var S=w.date,D=w.utc,E=w.args;this.$u=D;var I=E[1];if(typeof I=="string"){var T=E[2]===!0,M=E[3]===!0,A=T||M,O=E[2];M&&(O=E[2]),a=this.$locale(),!T&&O&&(a=b.Ls[O]),this.$d=function(G,j,X){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*G);var ie=g(j)(G),Ce=ie.year,Be=ie.month,we=ie.day,ke=ie.hours,Se=ie.minutes,fe=ie.seconds,pe=ie.milliseconds,me=ie.zone,Ne=new Date,je=we||(Ce||Be?1:Ne.getDate()),rt=Ce||Ne.getFullYear(),xe=0;Ce&&!Be||(xe=Be>0?Be-1:Ne.getMonth());var Ve=ke||0,ee=Se||0,ne=fe||0,le=pe||0;return me?new Date(Date.UTC(rt,xe,je,Ve,ee,ne,le+60*me.offset*1e3)):X?new Date(Date.UTC(rt,xe,je,Ve,ee,ne,le)):new Date(rt,xe,je,Ve,ee,ne,le)}catch{return new Date("")}}(S,I,D),this.init(),O&&O!==!0&&(this.$L=this.locale(O).$L),A&&S!=this.format(I)&&(this.$d=new Date("")),a={}}else if(I instanceof Array)for(var F=I.length,U=1;U<=F;U+=1){E[1]=I[U-1];var V=b.apply(this,E);if(V.isValid()){this.$d=V.$d,this.$L=V.$L,this.init();break}U===F&&(this.$d=new Date(""))}else C.call(this,w)}}})})(hhe);var hU=hhe.exports;const n9="HH:mm:ss",s2="YYYY-MM-DD",eHe={date:s2,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${s2} ${n9}`,monthrange:"YYYY-MM",daterange:s2,datetimerange:`${s2} ${n9}`},fU={id:{type:[Array,String]},name:{type:[Array,String],default:""},popperClass:{type:String,default:""},format:{type:String},valueFormat:{type:String},type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:Ug},editable:{type:Boolean,default:!0},prefixIcon:{type:[String,Object],default:""},size:{type:String,validator:zl},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String,Number],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:{type:Boolean,default:!1},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean},mee=function(n,e){const t=n instanceof Date,i=e instanceof Date;return t&&i?n.getTime()===e.getTime():!t&&!i?n===e:!1},vee=function(n,e){const t=n instanceof Array,i=e instanceof Array;return t&&i?n.length!==e.length?!1:n.every((r,s)=>mee(r,e[s])):!t&&!i?mee(n,e):!1},_ee=function(n,e,t){const i=ZL(e)||e==="x"?jt(n).locale(t):jt(n,e).locale(t);return i.isValid()?i:void 0},bee=function(n,e,t){return ZL(e)?n:e==="x"?+n:jt(n).locale(t).format(e)},tHe=Me({name:"Picker",components:{ElInput:zc,ElTooltip:Ql,ElIcon:cn},props:fU,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change"],setup(n,e){const{lang:t}=Oi(),i=mt(Zl,{}),r=mt(Kd,{}),s=mt("ElPopperOptions",{}),o=J(),a=J(),l=J(!1),u=J(!1),c=J(null);Ze(l,x=>{var R;x?c.value=n.modelValue:(Se.value=null,Nt(()=>{d(n.modelValue)}),e.emit("blur"),pe(),n.validateEvent&&((R=r.validate)==null||R.call(r,"blur")))});const d=(x,R)=>{var H;(R||!vee(x,c.value))&&(e.emit("change",x),n.validateEvent&&((H=r.validate)==null||H.call(r,"change")))},h=x=>{if(!vee(n.modelValue,x)){let R;Array.isArray(x)?R=x.map(H=>bee(H,n.valueFormat,t.value)):x&&(R=bee(x,n.valueFormat,t.value)),e.emit("update:modelValue",x&&R,t.value)}},f=z(()=>{if(a.value){const x=ie.value?a.value:a.value.$el;return Array.from(x.querySelectorAll("input"))}return[]}),g=z(()=>f==null?void 0:f.value[0]),p=z(()=>f==null?void 0:f.value[1]),m=(x,R,H)=>{const W=f.value;!W.length||(!H||H==="min"?(W[0].setSelectionRange(x,R),W[0].focus()):H==="max"&&(W[1].setSelectionRange(x,R),W[1].focus()))},b=(x="",R=!1)=>{l.value=R;let H;Array.isArray(x)?H=x.map(W=>W.toDate()):H=x&&x.toDate(),Se.value=null,h(H)},_=()=>{u.value=!0,e.emit("visible-change",!0)},C=()=>{u.value=!1,e.emit("visible-change",!1)},w=(x=!0)=>{let R=g.value;!x&&ie.value&&(R=p.value),R&&R.focus()},S=x=>{n.readonly||E.value||l.value||(l.value=!0,e.emit("focus",x))},D=()=>{var x;(x=o.value)==null||x.onClose(),pe()},E=z(()=>n.disabled||i.disabled),I=z(()=>{let x;if(G.value?de.value.getDefaultValue&&(x=de.value.getDefaultValue()):Array.isArray(n.modelValue)?x=n.modelValue.map(R=>_ee(R,n.valueFormat,t.value)):x=_ee(n.modelValue,n.valueFormat,t.value),de.value.getRangeAvailableTime){const R=de.value.getRangeAvailableTime(x);wd(R,x)||(x=R,h(Array.isArray(x)?x.map(H=>H.toDate()):x.toDate()))}return Array.isArray(x)&&x.some(R=>!R)&&(x=[]),x}),T=z(()=>{if(!de.value.panelReady)return;const x=Ne(I.value);if(Array.isArray(Se.value))return[Se.value[0]||x&&x[0]||"",Se.value[1]||x&&x[1]||""];if(Se.value!==null)return Se.value;if(!(!A.value&&G.value)&&!(!l.value&&G.value))return x?O.value?x.join(", "):x:""}),M=z(()=>n.type.includes("time")),A=z(()=>n.type.startsWith("time")),O=z(()=>n.type==="dates"),F=z(()=>n.prefixIcon||(M.value?rde:C8e)),U=J(!1),V=x=>{n.readonly||E.value||U.value&&(x.stopPropagation(),h(null),d(null,!0),U.value=!1,l.value=!1,de.value.handleClear&&de.value.handleClear())},G=z(()=>!n.modelValue||Array.isArray(n.modelValue)&&!n.modelValue.length),j=()=>{n.readonly||E.value||!G.value&&n.clearable&&(U.value=!0)},X=()=>{U.value=!1},ie=z(()=>n.type.indexOf("range")>-1),Ce=As(),Be=z(()=>{var x,R;return(R=(x=o.value)==null?void 0:x.popperRef)==null?void 0:R.contentRef}),we=z(()=>{var x,R;return(R=(x=Ue(o))==null?void 0:x.popperRef)==null?void 0:R.contentRef}),ke=z(()=>{var x;return Ue(ie)?Ue(a):(x=Ue(a))==null?void 0:x.$el});BB(ke,x=>{const R=Ue(we),H=Ue(ke);R&&(x.target===R||x.composedPath().includes(R))||x.target===H||x.composedPath().includes(H)||(l.value=!1)});const Se=J(null),fe=()=>{if(Se.value){const x=me(T.value);x&&je(x)&&(h(Array.isArray(x)?x.map(R=>R.toDate()):x.toDate()),Se.value=null)}Se.value===""&&(h(null),d(null),Se.value=null)},pe=()=>{f.value.forEach(x=>x.blur())},me=x=>x?de.value.parseUserInput(x):null,Ne=x=>x?de.value.formatToString(x):null,je=x=>de.value.isValidValue(x),rt=x=>{const R=x.code;if(R===Ct.esc){l.value=!1,x.stopPropagation();return}if(R===Ct.tab){ie.value?setTimeout(()=>{f.value.indexOf(document.activeElement)===-1&&(l.value=!1,pe())},0):(fe(),l.value=!1,x.stopPropagation());return}if(R===Ct.enter||R===Ct.numpadEnter){(Se.value===null||Se.value===""||je(me(T.value)))&&(fe(),l.value=!1),x.stopPropagation();return}if(Se.value){x.stopPropagation();return}de.value.handleKeydown&&de.value.handleKeydown(x)},xe=x=>{Se.value=x},Ve=x=>{Se.value?Se.value=[x.target.value,Se.value[1]]:Se.value=[x.target.value,null]},ee=x=>{Se.value?Se.value=[Se.value[0],x.target.value]:Se.value=[null,x.target.value]},ne=()=>{const x=me(Se.value&&Se.value[0]);if(x&&x.isValid()){Se.value=[Ne(x),T.value[1]];const R=[x,I.value&&I.value[1]];je(R)&&(h(R),Se.value=null)}},le=()=>{const x=me(Se.value&&Se.value[1]);if(x&&x.isValid()){Se.value=[T.value[0],Ne(x)];const R=[I.value&&I.value[0],x];je(R)&&(h(R),Se.value=null)}},de=J({}),ye=x=>{de.value[x[0]]=x[1],de.value.panelReady=!0},q=x=>{e.emit("calendar-change",x)},P=(x,R,H)=>{e.emit("panel-change",x,R,H)};return vn("EP_PICKER_BASE",{props:n}),{elPopperOptions:s,isDatesPicker:O,handleEndChange:le,handleStartChange:ne,handleStartInput:Ve,handleEndInput:ee,onUserInput:xe,handleChange:fe,handleKeydown:rt,popperPaneRef:Be,onClickOutside:BB,pickerSize:Ce,isRangeInput:ie,onMouseLeave:X,onMouseEnter:j,onClearIconClick:V,showClose:U,triggerIcon:F,onPick:b,handleFocus:S,handleBlur:D,pickerVisible:l,pickerActualVisible:u,displayValue:T,parsedValue:I,setSelectionRange:m,refPopper:o,inputRef:a,pickerDisabled:E,onSetPickerOption:ye,onCalendarChange:q,onPanelChange:P,focus:w,onShow:_,onHide:C}}}),nHe=["id","name","placeholder","value","disabled","readonly"],iHe={class:"el-range-separator"},rHe=["id","name","placeholder","value","disabled","readonly"];function sHe(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("el-input"),l=Te("el-tooltip");return B(),Oe(l,lo({ref:"refPopper",visible:n.pickerVisible,"onUpdate:visible":e[17]||(e[17]=u=>n.pickerVisible=u),effect:"light",pure:"",trigger:"click"},n.$attrs,{"append-to-body":"",transition:"el-zoom-in-top","popper-class":`el-picker__popper ${n.popperClass}`,"popper-options":n.elPopperOptions,"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onShow:n.onShow,onHide:n.onHide}),{default:De(()=>[n.isRangeInput?(B(),te("div",{key:1,ref:"inputRef",class:Z(["el-date-editor el-range-editor el-input__inner",["el-date-editor--"+n.type,n.pickerSize?`el-range-editor--${n.pickerSize}`:"",n.pickerDisabled?"is-disabled":"",n.pickerVisible?"is-active":"",n.$attrs.class||void 0]]),style:wt(n.$attrs.style||void 0),onClick:e[7]||(e[7]=(...u)=>n.handleFocus&&n.handleFocus(...u)),onMouseenter:e[8]||(e[8]=(...u)=>n.onMouseEnter&&n.onMouseEnter(...u)),onMouseleave:e[9]||(e[9]=(...u)=>n.onMouseLeave&&n.onMouseLeave(...u)),onKeydown:e[10]||(e[10]=(...u)=>n.handleKeydown&&n.handleKeydown(...u))},[n.triggerIcon?(B(),Oe(o,{key:0,class:"el-input__icon el-range__icon",onClick:n.handleFocus},{default:De(()=>[(B(),Oe(Bn(n.triggerIcon)))]),_:1},8,["onClick"])):Fe("v-if",!0),oe("input",{id:n.id&&n.id[0],autocomplete:"off",name:n.name&&n.name[0],placeholder:n.startPlaceholder,value:n.displayValue&&n.displayValue[0],disabled:n.pickerDisabled,readonly:!n.editable||n.readonly,class:"el-range-input",onInput:e[1]||(e[1]=(...u)=>n.handleStartInput&&n.handleStartInput(...u)),onChange:e[2]||(e[2]=(...u)=>n.handleStartChange&&n.handleStartChange(...u)),onFocus:e[3]||(e[3]=(...u)=>n.handleFocus&&n.handleFocus(...u))},null,40,nHe),Xe(n.$slots,"range-separator",{},()=>[oe("span",iHe,Je(n.rangeSeparator),1)]),oe("input",{id:n.id&&n.id[1],autocomplete:"off",name:n.name&&n.name[1],placeholder:n.endPlaceholder,value:n.displayValue&&n.displayValue[1],disabled:n.pickerDisabled,readonly:!n.editable||n.readonly,class:"el-range-input",onFocus:e[4]||(e[4]=(...u)=>n.handleFocus&&n.handleFocus(...u)),onInput:e[5]||(e[5]=(...u)=>n.handleEndInput&&n.handleEndInput(...u)),onChange:e[6]||(e[6]=(...u)=>n.handleEndChange&&n.handleEndChange(...u))},null,40,rHe),n.clearIcon?(B(),Oe(o,{key:1,class:Z(["el-input__icon el-range__close-icon",{"el-range__close-icon--hidden":!n.showClose}]),onClick:n.onClearIconClick},{default:De(()=>[(B(),Oe(Bn(n.clearIcon)))]),_:1},8,["class","onClick"])):Fe("v-if",!0)],38)):(B(),Oe(a,{key:0,id:n.id,ref:"inputRef","model-value":n.displayValue,name:n.name,size:n.pickerSize,disabled:n.pickerDisabled,placeholder:n.placeholder,class:Z(["el-date-editor",["el-date-editor--"+n.type,n.$attrs.class||void 0]]),style:wt(n.$attrs.style||void 0),readonly:!n.editable||n.readonly||n.isDatesPicker||n.type==="week",onInput:n.onUserInput,onFocus:n.handleFocus,onKeydown:n.handleKeydown,onChange:n.handleChange,onMouseenter:n.onMouseEnter,onMouseleave:n.onMouseLeave,onClick:e[0]||(e[0]=Ft(()=>{},["stop"]))},{prefix:De(()=>[n.triggerIcon?(B(),Oe(o,{key:0,class:"el-input__icon",onClick:n.handleFocus},{default:De(()=>[(B(),Oe(Bn(n.triggerIcon)))]),_:1},8,["onClick"])):Fe("v-if",!0)]),suffix:De(()=>[n.showClose&&n.clearIcon?(B(),Oe(o,{key:0,class:"el-input__icon clear-icon",onClick:n.onClearIconClick},{default:De(()=>[(B(),Oe(Bn(n.clearIcon)))]),_:1},8,["onClick"])):Fe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","onInput","onFocus","onKeydown","onChange","onMouseenter","onMouseleave"]))]),content:De(()=>[Xe(n.$slots,"default",{visible:n.pickerVisible,actualVisible:n.pickerActualVisible,parsedValue:n.parsedValue,format:n.format,unlinkPanels:n.unlinkPanels,type:n.type,defaultValue:n.defaultValue,onPick:e[11]||(e[11]=(...u)=>n.onPick&&n.onPick(...u)),onSelectRange:e[12]||(e[12]=(...u)=>n.setSelectionRange&&n.setSelectionRange(...u)),onSetPickerOption:e[13]||(e[13]=(...u)=>n.onSetPickerOption&&n.onSetPickerOption(...u)),onCalendarChange:e[14]||(e[14]=(...u)=>n.onCalendarChange&&n.onCalendarChange(...u)),onPanelChange:e[15]||(e[15]=(...u)=>n.onPanelChange&&n.onPanelChange(...u)),onMousedown:e[16]||(e[16]=Ft(()=>{},["stop"]))})]),_:3},16,["visible","popper-class","popper-options","onShow","onHide"])}var fhe=at(tHe,[["render",sHe]]);const eF=(n,e,t)=>{const i=[],r=e&&t();for(let s=0;s<n;s++)i[s]=r?r.includes(s):!1;return i},tF=n=>n.map((e,t)=>e||t).filter(e=>e!==!0),ghe=(n,e,t)=>({getHoursList:(o,a)=>eF(24,n,()=>n(o,a)),getMinutesList:(o,a,l)=>eF(60,e,()=>e(o,a,l)),getSecondsList:(o,a,l,u)=>eF(60,t,()=>t(o,a,l,u))}),phe=(n,e,t)=>{const{getHoursList:i,getMinutesList:r,getSecondsList:s}=ghe(n,e,t);return{getAvailableHours:(u,c)=>tF(i(u,c)),getAvailableMinutes:(u,c,d)=>tF(r(u,c,d)),getAvailableSeconds:(u,c,d,h)=>tF(s(u,c,d,h))}},mhe=n=>{const e=J(n.parsedValue);return Ze(()=>n.visible,t=>{t||(e.value=n.parsedValue)}),e},oHe=Me({directives:{repeatClick:Mde},components:{ElScrollbar:rp,ElIcon:cn,ArrowUp:XE,ArrowDown:w1},props:{role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}},emits:["change","select-range","set-option"],setup(n,e){let t=!1;const i=Hl(Se=>{t=!1,I(Se)},200),r=J(null),s=J(null),o=J(null),a=J(null),l={hours:s,minutes:o,seconds:a},u=z(()=>{const Se=["hours","minutes","seconds"];return n.showSeconds?Se:Se.slice(0,2)}),c=z(()=>n.spinnerDate.hour()),d=z(()=>n.spinnerDate.minute()),h=z(()=>n.spinnerDate.second()),f=z(()=>({hours:c,minutes:d,seconds:h})),g=z(()=>Be(n.role)),p=z(()=>we(c.value,n.role)),m=z(()=>ke(c.value,d.value,n.role)),b=z(()=>({hours:g,minutes:p,seconds:m})),_=z(()=>{const Se=c.value;return[Se>0?Se-1:void 0,Se,Se<23?Se+1:void 0]}),C=z(()=>{const Se=d.value;return[Se>0?Se-1:void 0,Se,Se<59?Se+1:void 0]}),w=z(()=>{const Se=h.value;return[Se>0?Se-1:void 0,Se,Se<59?Se+1:void 0]}),S=z(()=>({hours:_,minutes:C,seconds:w})),D=Se=>{if(!!!n.amPmMode)return"";const pe=n.amPmMode==="A";let me=Se<12?" am":" pm";return pe&&(me=me.toUpperCase()),me},E=Se=>{Se==="hours"?e.emit("select-range",0,2):Se==="minutes"?e.emit("select-range",3,5):Se==="seconds"&&e.emit("select-range",6,8),r.value=Se},I=Se=>{M(Se,f.value[Se].value)},T=()=>{I("hours"),I("minutes"),I("seconds")},M=(Se,fe)=>{if(n.arrowControl)return;const pe=l[Se];pe&&pe.$el&&(pe.$el.querySelector(".el-scrollbar__wrap").scrollTop=Math.max(0,fe*A(Se)))},A=Se=>l[Se].$el.querySelector("li").offsetHeight,O=()=>{U(1)},F=()=>{U(-1)},U=Se=>{r.value||E("hours");const fe=r.value;let pe=f.value[fe].value;const me=r.value==="hours"?24:60;pe=(pe+Se+me)%me,V(fe,pe),M(fe,pe),Nt(()=>E(r.value))},V=(Se,fe)=>{if(!b.value[Se].value[fe])switch(Se){case"hours":e.emit("change",n.spinnerDate.hour(fe).minute(d.value).second(h.value));break;case"minutes":e.emit("change",n.spinnerDate.hour(c.value).minute(fe).second(h.value));break;case"seconds":e.emit("change",n.spinnerDate.hour(c.value).minute(d.value).second(fe));break}},G=(Se,{value:fe,disabled:pe})=>{pe||(V(Se,fe),E(Se),M(Se,fe))},j=Se=>{t=!0,i(Se);const fe=Math.min(Math.round((l[Se].$el.querySelector(".el-scrollbar__wrap").scrollTop-(X(Se)*.5-10)/A(Se)+3)/A(Se)),Se==="hours"?23:59);V(Se,fe)},X=Se=>l[Se].$el.offsetHeight,ie=()=>{const Se=fe=>{l[fe]&&l[fe].$el&&(l[fe].$el.querySelector(".el-scrollbar__wrap").onscroll=()=>{j(fe)})};Se("hours"),Se("minutes"),Se("seconds")};rn(()=>{Nt(()=>{!n.arrowControl&&ie(),T(),n.role==="start"&&E("hours")})});const Ce=(Se,fe)=>{l[fe]=Se};e.emit("set-option",[`${n.role}_scrollDown`,U]),e.emit("set-option",[`${n.role}_emitSelectRange`,E]);const{getHoursList:Be,getMinutesList:we,getSecondsList:ke}=ghe(n.disabledHours,n.disabledMinutes,n.disabledSeconds);return Ze(()=>n.spinnerDate,()=>{t||T()}),{setRef:Ce,spinnerItems:u,currentScrollbar:r,hours:c,minutes:d,seconds:h,hoursList:g,minutesList:p,arrowHourList:_,arrowMinuteList:C,arrowSecondList:w,getAmPmFlag:D,emitSelectRange:E,adjustCurrentSpinner:I,typeItemHeight:A,listHoursRef:s,listMinutesRef:o,listSecondsRef:a,onIncreaseClick:O,onDecreaseClick:F,handleClick:G,secondsList:m,timePartsMap:f,arrowListMap:S,listMap:b}}}),aHe=["onClick"],lHe=["onMouseenter"],uHe={class:"el-time-spinner__list"};function cHe(n,e,t,i,r,s){const o=Te("el-scrollbar"),a=Te("arrow-up"),l=Te("el-icon"),u=Te("arrow-down"),c=xa("repeat-click");return B(),te("div",{class:Z(["el-time-spinner",{"has-seconds":n.showSeconds}])},[n.arrowControl?Fe("v-if",!0):(B(!0),te(kt,{key:0},$n(n.spinnerItems,d=>(B(),Oe(o,{key:d,ref_for:!0,ref:h=>n.setRef(h,d),class:"el-time-spinner__wrapper","wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul",onMouseenter:h=>n.emitSelectRange(d),onMousemove:h=>n.adjustCurrentSpinner(d)},{default:De(()=>[(B(!0),te(kt,null,$n(n.listMap[d].value,(h,f)=>(B(),te("li",{key:f,class:Z(["el-time-spinner__item",{active:f===n.timePartsMap[d].value,disabled:h}]),onClick:g=>n.handleClick(d,{value:f,disabled:h})},[d==="hours"?(B(),te(kt,{key:0},[xn(Je(("0"+(n.amPmMode?f%12||12:f)).slice(-2))+Je(n.getAmPmFlag(f)),1)],2112)):(B(),te(kt,{key:1},[xn(Je(("0"+f).slice(-2)),1)],2112))],10,aHe))),128))]),_:2},1032,["onMouseenter","onMousemove"]))),128)),n.arrowControl?(B(!0),te(kt,{key:1},$n(n.spinnerItems,d=>(B(),te("div",{key:d,class:"el-time-spinner__wrapper is-arrow",onMouseenter:h=>n.emitSelectRange(d)},[Ht((B(),Oe(l,{class:"el-time-spinner__arrow arrow-up"},{default:De(()=>[be(a)]),_:1})),[[c,n.onDecreaseClick]]),Ht((B(),Oe(l,{class:"el-time-spinner__arrow arrow-down"},{default:De(()=>[be(u)]),_:1})),[[c,n.onIncreaseClick]]),oe("ul",uHe,[(B(!0),te(kt,null,$n(n.arrowListMap[d].value,(h,f)=>(B(),te("li",{key:f,class:Z(["el-time-spinner__item",{active:h===n.timePartsMap[d].value,disabled:n.listMap[d].value[h]}])},[typeof h=="number"?(B(),te(kt,{key:0},[d==="hours"?(B(),te(kt,{key:0},[xn(Je(("0"+(n.amPmMode?h%12||12:h)).slice(-2))+Je(n.getAmPmFlag(h)),1)],2112)):(B(),te(kt,{key:1},[xn(Je(("0"+h).slice(-2)),1)],2112))],2112)):Fe("v-if",!0)],2))),128))])],40,lHe))),128)):Fe("v-if",!0)],2)}var vhe=at(oHe,[["render",cHe]]);const dHe=Me({components:{TimeSpinner:vhe},props:{visible:Boolean,actualVisible:{type:Boolean,default:void 0},datetimeRole:{type:String},parsedValue:{type:[Object,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(n,e){const{t,lang:i}=Oi(),r=J([0,2]),s=mhe(n),o=z(()=>n.actualVisible===void 0?"el-zoom-in-top":""),a=z(()=>n.format.includes("ss")),l=z(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),u=V=>{const G=jt(V).locale(i.value),j=m(G);return G.isSame(j)},c=()=>{e.emit("pick",s.value,!1)},d=(V=!1,G=!1)=>{G||e.emit("pick",n.parsedValue,V)},h=V=>{if(!n.visible)return;const G=m(V).millisecond(0);e.emit("pick",G,!0)},f=(V,G)=>{e.emit("select-range",V,G),r.value=[V,G]},g=V=>{const G=[0,3].concat(a.value?[6]:[]),j=["hours","minutes"].concat(a.value?["seconds"]:[]),ie=(G.indexOf(r.value[0])+V+G.length)%G.length;w.start_emitSelectRange(j[ie])},p=V=>{const G=V.code;if(G===Ct.left||G===Ct.right){const j=G===Ct.left?-1:1;g(j),V.preventDefault();return}if(G===Ct.up||G===Ct.down){const j=G===Ct.up?-1:1;w.start_scrollDown(j),V.preventDefault();return}},m=V=>{const G={hour:O,minute:F,second:U};let j=V;return["hour","minute","second"].forEach(X=>{if(G[X]){let ie;const Ce=G[X];X==="minute"?ie=Ce(j.hour(),n.datetimeRole):X==="second"?ie=Ce(j.hour(),j.minute(),n.datetimeRole):ie=Ce(n.datetimeRole),ie&&ie.length&&!ie.includes(j[X]())&&(j=j[X](ie[0]))}}),j},b=V=>V?jt(V,n.format).locale(i.value):null,_=V=>V?V.format(n.format):null,C=()=>jt(A).locale(i.value);e.emit("set-picker-option",["isValidValue",u]),e.emit("set-picker-option",["formatToString",_]),e.emit("set-picker-option",["parseUserInput",b]),e.emit("set-picker-option",["handleKeydown",p]),e.emit("set-picker-option",["getRangeAvailableTime",m]),e.emit("set-picker-option",["getDefaultValue",C]);const w={},S=V=>{w[V[0]]=V[1]},D=mt("EP_PICKER_BASE"),{arrowControl:E,disabledHours:I,disabledMinutes:T,disabledSeconds:M,defaultValue:A}=D.props,{getAvailableHours:O,getAvailableMinutes:F,getAvailableSeconds:U}=phe(I,T,M);return{transitionName:o,arrowControl:E,onSetOption:S,t,handleConfirm:d,handleChange:h,setSelectionRange:f,amPmMode:l,showSeconds:a,handleCancel:c,disabledHours:I,disabledMinutes:T,disabledSeconds:M}}}),hHe={key:0,class:"el-time-panel"},fHe={class:"el-time-panel__footer"};function gHe(n,e,t,i,r,s){const o=Te("time-spinner");return B(),Oe(Cs,{name:n.transitionName},{default:De(()=>[n.actualVisible||n.visible?(B(),te("div",hHe,[oe("div",{class:Z(["el-time-panel__content",{"has-seconds":n.showSeconds}])},[be(o,{ref:"spinner",role:n.datetimeRole||"start","arrow-control":n.arrowControl,"show-seconds":n.showSeconds,"am-pm-mode":n.amPmMode,"spinner-date":n.parsedValue,"disabled-hours":n.disabledHours,"disabled-minutes":n.disabledMinutes,"disabled-seconds":n.disabledSeconds,onChange:n.handleChange,onSetOption:n.onSetOption,onSelectRange:n.setSelectionRange},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2),oe("div",fHe,[oe("button",{type:"button",class:"el-time-panel__btn cancel",onClick:e[0]||(e[0]=(...a)=>n.handleCancel&&n.handleCancel(...a))},Je(n.t("el.datepicker.cancel")),1),oe("button",{type:"button",class:"el-time-panel__btn confirm",onClick:e[1]||(e[1]=a=>n.handleConfirm())},Je(n.t("el.datepicker.confirm")),1)])])):Fe("v-if",!0)]),_:1},8,["name"])}var gU=at(dHe,[["render",gHe]]);const mb=(n,e)=>{const t=[];for(let i=n;i<=e;i++)t.push(i);return t},pHe=Me({components:{TimeSpinner:vhe},props:{visible:Boolean,actualVisible:Boolean,parsedValue:{type:[Array]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(n,e){const{t,lang:i}=Oi(),r=z(()=>n.parsedValue[0]),s=z(()=>n.parsedValue[1]),o=mhe(n),a=()=>{e.emit("pick",o.value,null)},l=z(()=>n.format.includes("ss")),u=z(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),c=J([]),d=J([]),h=(me=!1)=>{e.emit("pick",[r.value,s.value],me)},f=me=>{m(me.millisecond(0),s.value)},g=me=>{m(r.value,me.millisecond(0))},p=me=>{const Ne=me.map(rt=>jt(rt).locale(i.value)),je=A(Ne);return Ne[0].isSame(je[0])&&Ne[1].isSame(je[1])},m=(me,Ne)=>{e.emit("pick",[me,Ne],!0)},b=z(()=>r.value>s.value),_=J([0,2]),C=(me,Ne)=>{e.emit("select-range",me,Ne,"min"),_.value=[me,Ne]},w=z(()=>l.value?11:8),S=(me,Ne)=>{e.emit("select-range",me,Ne,"max"),_.value=[me+w.value,Ne+w.value]},D=me=>{const Ne=l.value?[0,3,6,11,14,17]:[0,3,8,11],je=["hours","minutes"].concat(l.value?["seconds"]:[]),xe=(Ne.indexOf(_.value[0])+me+Ne.length)%Ne.length,Ve=Ne.length/2;xe<Ve?ie.start_emitSelectRange(je[xe]):ie.end_emitSelectRange(je[xe-Ve])},E=me=>{const Ne=me.code;if(Ne===Ct.left||Ne===Ct.right){const je=Ne===Ct.left?-1:1;D(je),me.preventDefault();return}if(Ne===Ct.up||Ne===Ct.down){const je=Ne===Ct.up?-1:1,rt=_.value[0]<w.value?"start":"end";ie[`${rt}_scrollDown`](je),me.preventDefault();return}},I=(me,Ne)=>{const je=ke?ke(me):[],rt=me==="start",Ve=(Ne||(rt?s.value:r.value)).hour(),ee=rt?mb(Ve+1,23):mb(0,Ve-1);return q5(je,ee)},T=(me,Ne,je)=>{const rt=Se?Se(me,Ne):[],xe=Ne==="start",Ve=je||(xe?s.value:r.value),ee=Ve.hour();if(me!==ee)return rt;const ne=Ve.minute(),le=xe?mb(ne+1,59):mb(0,ne-1);return q5(rt,le)},M=(me,Ne,je,rt)=>{const xe=fe?fe(me,Ne,je):[],Ve=je==="start",ee=rt||(Ve?s.value:r.value),ne=ee.hour(),le=ee.minute();if(me!==ne||Ne!==le)return xe;const de=ee.second(),ye=Ve?mb(de+1,59):mb(0,de-1);return q5(xe,ye)},A=me=>me.map((Ne,je)=>V(me[0],me[1],je===0?"start":"end")),{getAvailableHours:O,getAvailableMinutes:F,getAvailableSeconds:U}=phe(I,T,M),V=(me,Ne,je)=>{const rt={hour:O,minute:F,second:U},xe=je==="start";let Ve=xe?me:Ne;const ee=xe?Ne:me;return["hour","minute","second"].forEach(ne=>{if(rt[ne]){let le;const de=rt[ne];if(ne==="minute"?le=de(Ve.hour(),je,ee):ne==="second"?le=de(Ve.hour(),Ve.minute(),je,ee):le=de(je,ee),le&&le.length&&!le.includes(Ve[ne]())){const ye=xe?0:le.length-1;Ve=Ve[ne](le[ye])}}}),Ve},G=me=>me?Array.isArray(me)?me.map(Ne=>jt(Ne,n.format).locale(i.value)):jt(me,n.format).locale(i.value):null,j=me=>me?Array.isArray(me)?me.map(Ne=>Ne.format(n.format)):me.format(n.format):null,X=()=>{if(Array.isArray(pe))return pe.map(Ne=>jt(Ne).locale(i.value));const me=jt(pe).locale(i.value);return[me,me.add(60,"m")]};e.emit("set-picker-option",["formatToString",j]),e.emit("set-picker-option",["parseUserInput",G]),e.emit("set-picker-option",["isValidValue",p]),e.emit("set-picker-option",["handleKeydown",E]),e.emit("set-picker-option",["getDefaultValue",X]),e.emit("set-picker-option",["getRangeAvailableTime",A]);const ie={},Ce=me=>{ie[me[0]]=me[1]},Be=mt("EP_PICKER_BASE"),{arrowControl:we,disabledHours:ke,disabledMinutes:Se,disabledSeconds:fe,defaultValue:pe}=Be.props;return{arrowControl:we,onSetOption:Ce,setMaxSelectionRange:S,setMinSelectionRange:C,btnConfirmDisabled:b,handleCancel:a,handleConfirm:h,t,showSeconds:l,minDate:r,maxDate:s,amPmMode:u,handleMinChange:f,handleMaxChange:g,minSelectableRange:c,maxSelectableRange:d,disabledHours_:I,disabledMinutes_:T,disabledSeconds_:M}}}),mHe={key:0,class:"el-time-range-picker el-picker-panel"},vHe={class:"el-time-range-picker__content"},_He={class:"el-time-range-picker__cell"},bHe={class:"el-time-range-picker__header"},CHe={class:"el-time-range-picker__cell"},yHe={class:"el-time-range-picker__header"},wHe={class:"el-time-panel__footer"},SHe=["disabled"];function LHe(n,e,t,i,r,s){const o=Te("time-spinner");return n.actualVisible?(B(),te("div",mHe,[oe("div",vHe,[oe("div",_He,[oe("div",bHe,Je(n.t("el.datepicker.startTime")),1),oe("div",{class:Z([{"has-seconds":n.showSeconds,"is-arrow":n.arrowControl},"el-time-range-picker__body el-time-panel__content"])},[be(o,{ref:"minSpinner",role:"start","show-seconds":n.showSeconds,"am-pm-mode":n.amPmMode,"arrow-control":n.arrowControl,"spinner-date":n.minDate,"disabled-hours":n.disabledHours_,"disabled-minutes":n.disabledMinutes_,"disabled-seconds":n.disabledSeconds_,onChange:n.handleMinChange,onSetOption:n.onSetOption,onSelectRange:n.setMinSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)]),oe("div",CHe,[oe("div",yHe,Je(n.t("el.datepicker.endTime")),1),oe("div",{class:Z([{"has-seconds":n.showSeconds,"is-arrow":n.arrowControl},"el-time-range-picker__body el-time-panel__content"])},[be(o,{ref:"maxSpinner",role:"end","show-seconds":n.showSeconds,"am-pm-mode":n.amPmMode,"arrow-control":n.arrowControl,"spinner-date":n.maxDate,"disabled-hours":n.disabledHours_,"disabled-minutes":n.disabledMinutes_,"disabled-seconds":n.disabledSeconds_,onChange:n.handleMaxChange,onSetOption:n.onSetOption,onSelectRange:n.setMaxSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)])]),oe("div",wHe,[oe("button",{type:"button",class:"el-time-panel__btn cancel",onClick:e[0]||(e[0]=a=>n.handleCancel())},Je(n.t("el.datepicker.cancel")),1),oe("button",{type:"button",class:"el-time-panel__btn confirm",disabled:n.btnConfirmDisabled,onClick:e[1]||(e[1]=a=>n.handleConfirm())},Je(n.t("el.datepicker.confirm")),9,SHe)])])):Fe("v-if",!0)}var kHe=at(pHe,[["render",LHe]]);jt.extend(hU);var EHe=Me({name:"ElTimePicker",install:null,props:gn(Dt({},fU),{isRange:{type:Boolean,default:!1}}),emits:["update:modelValue"],setup(n,e){const t=J(null),i=n.isRange?"timerange":"time",r=n.isRange?kHe:gU,s=gn(Dt({},n),{focus:()=>{var o;(o=t.value)==null||o.handleFocus()},blur:()=>{var o;(o=t.value)==null||o.handleBlur()}});return vn("ElPopperOptions",n.popperOptions),e.expose(s),()=>{var o;const a=(o=n.format)!=null?o:n9;return st(fhe,gn(Dt({},n),{format:a,type:i,ref:t,"onUpdate:modelValue":l=>e.emit("update:modelValue",l)}),{default:l=>st(r,l)})}}});const mm=n=>Array.from(Array(n).keys()),_he=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),bhe=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),zN=EHe;zN.install=n=>{n.component(zN.name,zN)};const DHe=zN,IHe=Wt({selectedDay:{type:It(Object)},range:{type:It(Array)},date:{type:It(Object),required:!0},hideHeader:{type:Boolean}}),THe={pick:n=>so(n)};jt.extend(dhe);const nF=["sun","mon","tue","wed","thu","fri","sat"],NHe=(n,e)=>{const t=n.subtract(1,"month").endOf("month").date();return mm(e).map((i,r)=>t-(e-r-1))},xHe=n=>{const e=n.daysInMonth();return mm(e).map((t,i)=>i+1)},MHe=n=>mm(n.length/7).map(e=>{const t=e*7;return n.slice(t,t+7)}),AHe=Me({props:IHe,emits:THe,setup(n,{emit:e}){const{t,lang:i}=Oi(),r=dt("calendar-table"),s=dt("calendar-day"),o=jt().locale(i.value),a=o.$locale().weekStart||0,l=z(()=>!!n.range&&!!n.range.length),u=z(()=>{let p=[];if(l.value){const[m,b]=n.range,_=mm(b.date()-m.date()+1).map(S=>({text:m.date()+S,type:"current"}));let C=_.length%7;C=C===0?0:7-C;const w=mm(C).map((S,D)=>({text:D+1,type:"next"}));p=_.concat(w)}else{const m=n.date.startOf("month").day()||7,b=NHe(n.date,m-a).map(w=>({text:w,type:"prev"})),_=xHe(n.date).map(w=>({text:w,type:"current"}));p=[...b,..._];const C=mm(42-p.length).map((w,S)=>({text:S+1,type:"next"}));p=p.concat(C)}return MHe(p)}),c=z(()=>{const p=a;return p===0?nF.map(m=>t(`el.datepicker.weeks.${m}`)):nF.slice(p).concat(nF.slice(0,p)).map(m=>t(`el.datepicker.weeks.${m}`))}),d=(p,m)=>{switch(m){case"prev":return n.date.startOf("month").subtract(1,"month").date(p);case"next":return n.date.startOf("month").add(1,"month").date(p);case"current":return n.date.date(p)}};return{isInRange:l,weekDays:c,rows:u,getCellClass:({text:p,type:m})=>{const b=[m];if(m==="current"){const _=d(p,m);_.isSame(n.selectedDay,"day")&&b.push("is-selected"),_.isSame(o,"day")&&b.push("is-today")}return b},handlePickDay:({text:p,type:m})=>{const b=d(p,m);e("pick",b)},getSlotData:({text:p,type:m})=>{const b=d(p,m);return{isSelected:b.isSame(n.selectedDay),type:`${m}-month`,day:b.format("YYYY-MM-DD"),date:b.toDate()}},nsTable:r,nsDay:s}}}),RHe={key:0},OHe=["onClick"];function PHe(n,e,t,i,r,s){return B(),te("table",{class:Z([n.nsTable.b(),n.nsTable.is("range",n.isInRange)]),cellspacing:"0",cellpadding:"0"},[n.hideHeader?Fe("v-if",!0):(B(),te("thead",RHe,[(B(!0),te(kt,null,$n(n.weekDays,o=>(B(),te("th",{key:o},Je(o),1))),128))])),oe("tbody",null,[(B(!0),te(kt,null,$n(n.rows,(o,a)=>(B(),te("tr",{key:a,class:Z({[n.nsTable.e("row")]:!0,[n.nsTable.em("row","hide-border")]:a===0&&n.hideHeader})},[(B(!0),te(kt,null,$n(o,(l,u)=>(B(),te("td",{key:u,class:Z(n.getCellClass(l)),onClick:c=>n.handlePickDay(l)},[oe("div",{class:Z(n.nsDay.b())},[Xe(n.$slots,"dateCell",{data:n.getSlotData(l)},()=>[oe("span",null,Je(l.text),1)])],2)],10,OHe))),128))],2))),128))])],2)}var FHe=at(AHe,[["render",PHe]]);const BHe=Wt({modelValue:{type:Date},range:{type:It(Array),validator:n=>Array.isArray(n)&&n.length===2&&n.every(e=>e instanceof Date)}}),$He={[pn]:n=>n instanceof Date,input:n=>n instanceof Date},VHe=Me({name:"ElCalendar",components:{DateTable:FHe,ElButton:hf,ElButtonGroup:lhe},props:BHe,emits:$He,setup(n,{emit:e}){const t=dt("calendar"),{t:i,lang:r}=Oi(),s=J(),o=jt().locale(r.value),a=z(()=>g.value.subtract(1,"month").date(1)),l=z(()=>jt(g.value).locale(r.value).format("YYYY-MM")),u=z(()=>g.value.add(1,"month").date(1)),c=z(()=>g.value.subtract(1,"year").date(1)),d=z(()=>g.value.add(1,"year").date(1)),h=z(()=>{const C=`el.datepicker.month${g.value.format("M")}`;return`${g.value.year()} ${i("el.datepicker.year")} ${i(C)}`}),f=z({get(){return n.modelValue?g.value:s.value},set(C){if(!C)return;s.value=C;const w=C.toDate();e("input",w),e("update:modelValue",w)}}),g=z(()=>n.modelValue?jt(n.modelValue).locale(r.value):f.value?f.value:m.value.length?m.value[0][0]:o),p=(C,w)=>{const S=C.startOf("week"),D=w.endOf("week"),E=S.get("month"),I=D.get("month");if(E===I)return[[S,D]];if(E+1===I){const T=S.endOf("month"),M=D.startOf("month"),O=T.isSame(M,"week")?M.add(1,"week"):M;return[[S,T],[O.startOf("week"),D]]}else if(E+2===I){const T=S.endOf("month"),M=S.add(1,"month").startOf("month"),A=T.isSame(M,"week")?M.add(1,"week"):M,O=A.endOf("month"),F=D.startOf("month"),U=O.isSame(F,"week")?F.add(1,"week"):F;return[[S,T],[A.startOf("week"),O],[U.startOf("week"),D]]}else return[]},m=z(()=>{if(!n.range)return[];const C=n.range.map(D=>jt(D).locale(r.value)),[w,S]=C;return w.isAfter(S)?[]:w.isSame(S,"month")?p(w,S):w.add(1,"month").month()!==S.month()?[]:p(w,S)}),b=C=>{f.value=C};return{selectedDay:s,curMonthDatePrefix:l,i18nDate:h,realSelectedDay:f,date:g,validatedRange:m,pickDay:b,selectDate:C=>{let w;C==="prev-month"?w=a.value:C==="next-month"?w=u.value:C==="prev-year"?w=c.value:C==="next-year"?w=d.value:w=o,!w.isSame(g.value,"day")&&b(w)},t:i,ns:t}}});function WHe(n,e,t,i,r,s){const o=Te("el-button"),a=Te("el-button-group"),l=Te("date-table");return B(),te("div",{class:Z(n.ns.b())},[oe("div",{class:Z(n.ns.e("header"))},[Xe(n.$slots,"header",{date:n.i18nDate},()=>[oe("div",{class:Z(n.ns.e("title"))},Je(n.i18nDate),3),n.validatedRange.length===0?(B(),te("div",{key:0,class:Z(n.ns.e("button-group"))},[be(a,null,{default:De(()=>[be(o,{size:"small",onClick:e[0]||(e[0]=u=>n.selectDate("prev-month"))},{default:De(()=>[xn(Je(n.t("el.datepicker.prevMonth")),1)]),_:1}),be(o,{size:"small",onClick:e[1]||(e[1]=u=>n.selectDate("today"))},{default:De(()=>[xn(Je(n.t("el.datepicker.today")),1)]),_:1}),be(o,{size:"small",onClick:e[2]||(e[2]=u=>n.selectDate("next-month"))},{default:De(()=>[xn(Je(n.t("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):Fe("v-if",!0)])],2),n.validatedRange.length===0?(B(),te("div",{key:0,class:Z(n.ns.e("body"))},[be(l,{date:n.date,"selected-day":n.realSelectedDay,onPick:n.pickDay},_y({_:2},[n.$slots.dateCell?{name:"dateCell",fn:De(u=>[Xe(n.$slots,"dateCell",Am(Bm(u)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(B(),te("div",{key:1,class:Z(n.ns.e("body"))},[(B(!0),te(kt,null,$n(n.validatedRange,(u,c)=>(B(),Oe(l,{key:c,date:u[0],"selected-day":n.realSelectedDay,range:u,"hide-header":c!==0,onPick:n.pickDay},_y({_:2},[n.$slots.dateCell?{name:"dateCell",fn:De(d=>[Xe(n.$slots,"dateCell",Am(Bm(d)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2)}var HHe=at(VHe,[["render",WHe]]);const zHe=wn(HHe),UHe=Wt({header:{type:String,default:""},bodyStyle:{type:It([String,Object,Array]),default:""},shadow:{type:String,default:"always"}}),jHe=Me({name:"ElCard",props:UHe,setup(){return{ns:dt("card")}}});function KHe(n,e,t,i,r,s){return B(),te("div",{class:Z([n.ns.b(),n.ns.is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(B(),te("div",{key:0,class:Z(n.ns.e("header"))},[Xe(n.$slots,"header",{},()=>[xn(Je(n.header),1)])],2)):Fe("v-if",!0),oe("div",{class:Z(n.ns.e("body")),style:wt(n.bodyStyle)},[Xe(n.$slots,"default")],6)],2)}var GHe=at(jHe,[["render",KHe]]);const qHe=wn(GHe),YHe=Me({name:"ElCarousel",components:{ElIcon:cn,ArrowLeft:S1,ArrowRight:Hc},props:{initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:{type:String,default:""},loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator(n){return["horizontal","vertical"].includes(n)}},pauseOnHover:{type:Boolean,default:!0}},emits:["change"],setup(n,{emit:e}){const t=dt("carousel"),i=xi({activeIndex:-1,containerWidth:0,timer:null,hover:!1}),r=J(null),s=J([]),o=z(()=>n.arrow!=="never"&&n.direction!=="vertical"),a=z(()=>s.value.some(O=>O.label.toString().length>0)),l=z(()=>{const O=[t.b(),t.m(n.direction)];return n.type==="card"&&O.push(t.m("card")),O}),u=z(()=>{const O=[t.e("indicators"),t.em("indicators",n.direction)];return a.value&&O.push(t.em("indicators","labels")),(n.indicatorPosition==="outside"||n.type==="card")&&O.push(t.em("indicators","outside")),O}),c=J0(O=>{p(O)},300,{trailing:!0}),d=J0(O=>{T(O)},300);function h(){i.timer&&(clearInterval(i.timer),i.timer=null)}function f(){n.interval<=0||!n.autoplay||i.timer||(i.timer=setInterval(()=>g(),n.interval))}const g=()=>{i.activeIndex<s.value.length-1?i.activeIndex=i.activeIndex+1:n.loop&&(i.activeIndex=0)};function p(O){if(typeof O=="string"){const V=s.value.filter(G=>G.name===O);V.length>0&&(O=s.value.indexOf(V[0]))}if(O=Number(O),isNaN(O)||O!==Math.floor(O))return;const F=s.value.length,U=i.activeIndex;O<0?i.activeIndex=n.loop?F-1:0:O>=F?i.activeIndex=n.loop?0:F-1:i.activeIndex=O,U===i.activeIndex&&m(U)}function m(O){s.value.forEach((F,U)=>{F.translateItem(U,i.activeIndex,O)})}function b(O){s.value.push(O)}function _(O){const F=s.value.findIndex(U=>U.uid===O);F!==-1&&(s.value.splice(F,1),i.activeIndex===F&&A())}function C(O,F){const U=s.value.length;return F===U-1&&O.inStage&&s.value[0].active||O.inStage&&s.value[F+1]&&s.value[F+1].active?"left":F===0&&O.inStage&&s.value[U-1].active||O.inStage&&s.value[F-1]&&s.value[F-1].active?"right":!1}function w(){i.hover=!0,n.pauseOnHover&&h()}function S(){i.hover=!1,f()}function D(O){n.direction!=="vertical"&&s.value.forEach((F,U)=>{O===C(F,U)&&(F.hover=!0)})}function E(){n.direction!=="vertical"&&s.value.forEach(O=>{O.hover=!1})}function I(O){i.activeIndex=O}function T(O){n.trigger==="hover"&&O!==i.activeIndex&&(i.activeIndex=O)}function M(){p(i.activeIndex-1)}function A(){p(i.activeIndex+1)}return Ze(()=>i.activeIndex,(O,F)=>{m(F),F>-1&&e("change",O,F)}),Ze(()=>n.autoplay,O=>{O?f():h()}),Ze(()=>n.loop,()=>{p(i.activeIndex)}),rn(()=>{Nt(()=>{_v(r.value,m),n.initialIndex<s.value.length&&n.initialIndex>=0&&(i.activeIndex=n.initialIndex),f()})}),Er(()=>{r.value&&bv(r.value,m),h()}),vn("injectCarouselScope",{root:r,direction:n.direction,type:n.type,items:s,loop:n.loop,addItem:b,removeItem:_,setActiveItem:p}),{data:i,props:n,items:s,arrowDisplay:o,carouselClasses:l,indicatorsClasses:u,hasLabel:a,handleMouseEnter:w,handleMouseLeave:S,handleIndicatorClick:I,throttledArrowClick:c,throttledIndicatorHover:d,handleButtonEnter:D,handleButtonLeave:E,prev:M,next:A,setActiveItem:p,root:r,ns:t}}}),XHe=["onMouseenter","onClick"],ZHe={key:0};function QHe(n,e,t,i,r,s){const o=Te("arrow-left"),a=Te("el-icon"),l=Te("arrow-right");return B(),te("div",{ref:"root",class:Z(n.carouselClasses),onMouseenter:e[6]||(e[6]=Ft((...u)=>n.handleMouseEnter&&n.handleMouseEnter(...u),["stop"])),onMouseleave:e[7]||(e[7]=Ft((...u)=>n.handleMouseLeave&&n.handleMouseLeave(...u),["stop"]))},[oe("div",{class:Z(n.ns.e("container")),style:wt({height:n.height})},[n.arrowDisplay?(B(),Oe(Cs,{key:0,name:"carousel-arrow-left"},{default:De(()=>[Ht(oe("button",{type:"button",class:Z([n.ns.e("arrow"),n.ns.em("arrow","left")]),onMouseenter:e[0]||(e[0]=u=>n.handleButtonEnter("left")),onMouseleave:e[1]||(e[1]=(...u)=>n.handleButtonLeave&&n.handleButtonLeave(...u)),onClick:e[2]||(e[2]=Ft(u=>n.throttledArrowClick(n.data.activeIndex-1),["stop"]))},[be(a,null,{default:De(()=>[be(o)]),_:1})],34),[[zn,(n.arrow==="always"||n.data.hover)&&(n.props.loop||n.data.activeIndex>0)]])]),_:1})):Fe("v-if",!0),n.arrowDisplay?(B(),Oe(Cs,{key:1,name:"carousel-arrow-right"},{default:De(()=>[Ht(oe("button",{type:"button",class:Z([n.ns.e("arrow"),n.ns.em("arrow","right")]),onMouseenter:e[3]||(e[3]=u=>n.handleButtonEnter("right")),onMouseleave:e[4]||(e[4]=(...u)=>n.handleButtonLeave&&n.handleButtonLeave(...u)),onClick:e[5]||(e[5]=Ft(u=>n.throttledArrowClick(n.data.activeIndex+1),["stop"]))},[be(a,null,{default:De(()=>[be(l)]),_:1})],34),[[zn,(n.arrow==="always"||n.data.hover)&&(n.props.loop||n.data.activeIndex<n.items.length-1)]])]),_:1})):Fe("v-if",!0),Xe(n.$slots,"default")],6),n.indicatorPosition!=="none"?(B(),te("ul",{key:0,class:Z(n.indicatorsClasses)},[(B(!0),te(kt,null,$n(n.items,(u,c)=>(B(),te("li",{key:c,class:Z([n.ns.e("indicator"),n.ns.em("indicator",n.direction),n.ns.is("active",c===n.data.activeIndex)]),onMouseenter:d=>n.throttledIndicatorHover(c),onClick:Ft(d=>n.handleIndicatorClick(c),["stop"])},[oe("button",{class:Z(n.ns.e("button"))},[n.hasLabel?(B(),te("span",ZHe,Je(u.label),1)):Fe("v-if",!0)],2)],42,XHe))),128))],2)):Fe("v-if",!0)],34)}var JHe=at(YHe,[["render",QHe]]);const tT=.83,eze=Me({name:"ElCarouselItem",props:{name:{type:String,default:""},label:{type:[String,Number],default:""}},setup(n){const e=dt("carousel"),t=en(),i=xi({hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}),r=mt("injectCarouselScope"),s=z(()=>r.direction),o=z(()=>({transform:`${s.value==="vertical"?"translateY":"translateX"}(${i.translate}px) scale(${i.scale})`}));function a(h,f,g){return f===0&&h===g-1?-1:f===g-1&&h===0?g:h<f-1&&f-h>=g/2?g+1:h>f+1&&h-f>=g/2?-2:h}function l(h,f){var g;const p=((g=r.root.value)==null?void 0:g.offsetWidth)||0;return i.inStage?p*((2-tT)*(h-f)+1)/4:h<f?-(1+tT)*p/4:(3+tT)*p/4}function u(h,f,g){var p,m;return((g?(p=r.root.value)==null?void 0:p.offsetHeight:(m=r.root.value)==null?void 0:m.offsetWidth)||0)*(h-f)}const c=(h,f,g)=>{const p=r.type,m=r.items.value.length;if(p!=="card"&&g!==void 0&&(i.animating=h===f||h===g),h!==f&&m>2&&r.loop&&(h=a(h,f,m)),p==="card")s.value==="vertical",i.inStage=Math.round(Math.abs(h-f))<=1,i.active=h===f,i.translate=l(h,f),i.scale=i.active?1:tT;else{i.active=h===f;const b=s.value==="vertical";i.translate=u(h,f,b)}i.ready=!0};function d(){if(r&&r.type==="card"){const h=r.items.value.map(f=>f.uid).indexOf(t.uid);r.setActiveItem(h)}}return rn(()=>{r.addItem&&r.addItem(gn(Dt(Dt({uid:t.uid},n),Ko(i)),{translateItem:c}))}),b1(()=>{r.removeItem&&r.removeItem(t.uid)}),{data:i,itemStyle:o,translateItem:c,type:r.type,handleItemClick:d,ns:e}}});function tze(n,e,t,i,r,s){return Ht((B(),te("div",{class:Z([n.ns.e("item"),n.ns.is("active",n.data.active),n.ns.is("in-stage",n.data.inStage),n.ns.is("hover",n.data.hover),n.ns.is("animating",n.data.animating),{[n.ns.em("item","card")]:n.type==="card"}]),style:wt(n.itemStyle),onClick:e[0]||(e[0]=(...o)=>n.handleItemClick&&n.handleItemClick(...o))},[n.type==="card"?Ht((B(),te("div",{key:0,class:Z(n.ns.e("mask"))},null,2)),[[zn,!n.data.active]]):Fe("v-if",!0),Xe(n.$slots,"default")],6)),[[zn,n.data.ready]])}var Che=at(eze,[["render",tze]]);const nze=wn(JHe,{CarouselItem:Che}),ize=Ur(Che),rze={modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},tabindex:[String,Number],size:String},Fw=()=>{const n=mt(Zl,{}),e=mt(Kd,{}),t=mt("CheckboxGroup",{}),i=z(()=>t&&(t==null?void 0:t.name)==="ElCheckboxGroup"),r=z(()=>e.size);return{isGroup:i,checkboxGroup:t,elForm:n,elFormItemSize:r,elFormItem:e}},sze=n=>{const e=J(!1),{emit:t}=en(),{isGroup:i,checkboxGroup:r}=Fw(),s=J(!1);return{model:z({get(){var a,l;return i.value?(a=r.modelValue)==null?void 0:a.value:(l=n.modelValue)!=null?l:e.value},set(a){var l;i.value&&Array.isArray(a)?(s.value=r.max!==void 0&&a.length>r.max.value,s.value===!1&&((l=r==null?void 0:r.changeEvent)==null||l.call(r,a))):(t(pn,a),e.value=a)}}),isLimitExceeded:s}},oze=(n,{model:e})=>{const{isGroup:t,checkboxGroup:i}=Fw(),r=J(!1),s=As(i==null?void 0:i.checkboxGroupSize,{prop:!0}),o=z(()=>{const l=e.value;return Jce(l)==="[object Boolean]"?l:Array.isArray(l)?l.includes(n.label):l!=null?l===n.trueLabel:!!l}),a=As(z(()=>{var l;return t.value?(l=i==null?void 0:i.checkboxGroupSize)==null?void 0:l.value:void 0}));return{isChecked:o,focus:r,size:s,checkboxSize:a}},aze=(n,{model:e,isChecked:t})=>{const{elForm:i,isGroup:r,checkboxGroup:s}=Fw(),o=z(()=>{var l,u;const c=(l=s.max)==null?void 0:l.value,d=(u=s.min)==null?void 0:u.value;return!!(c||d)&&e.value.length>=c&&!t.value||e.value.length<=d&&t.value});return{isDisabled:z(()=>{var l,u;const c=n.disabled||i.disabled;return(u=r.value?((l=s.disabled)==null?void 0:l.value)||c||o.value:n.disabled||i.disabled)!=null?u:!1}),isLimitDisabled:o}},lze=(n,{model:e})=>{function t(){Array.isArray(e.value)&&!e.value.includes(n.label)?e.value.push(n.label):e.value=n.trueLabel||!0}n.checked&&t()},uze=(n,{isLimitExceeded:e})=>{const{elFormItem:t}=Fw(),{emit:i}=en();function r(s){var o,a;if(e.value)return;const u=s.target.checked?(o=n.trueLabel)!=null?o:!0:(a=n.falseLabel)!=null?a:!1;i("change",u,s)}return Ze(()=>n.modelValue,()=>{var s;(s=t.validate)==null||s.call(t,"change")}),{handleChange:r}},yhe=n=>{const{model:e,isLimitExceeded:t}=sze(n),{focus:i,size:r,isChecked:s,checkboxSize:o}=oze(n,{model:e}),{isDisabled:a}=aze(n,{model:e,isChecked:s}),{handleChange:l}=uze(n,{isLimitExceeded:t});return lze(n,{model:e}),{isChecked:s,isDisabled:a,checkboxSize:o,model:e,handleChange:l,focus:i,size:r}},cze=Me({name:"ElCheckbox",props:{modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:{type:String,validator:zl},tabindex:[String,Number]},emits:[pn,"change"],setup(n){const e=dt("checkbox");return Dt({ns:e},yhe(n))}}),dze=["id","aria-controls"],hze=["tabindex","role","aria-checked"],fze=["aria-hidden","name","tabindex","disabled","true-value","false-value"],gze=["aria-hidden","disabled","value","name","tabindex"];function pze(n,e,t,i,r,s){return B(),te("label",{id:n.id,class:Z([n.ns.b(),n.ns.m(n.checkboxSize),n.ns.is("disabled",n.isDisabled),n.ns.is("bordered",n.border),n.ns.is("checked",n.isChecked)]),"aria-controls":n.indeterminate?n.controls:null},[oe("span",{class:Z([n.ns.e("input"),n.ns.is("disabled",n.isDisabled),n.ns.is("checked",n.isChecked),n.ns.is("indeterminate",n.indeterminate),n.ns.is("focus",n.focus)]),tabindex:n.indeterminate?0:void 0,role:n.indeterminate?"checkbox":void 0,"aria-checked":n.indeterminate?"mixed":!1},[oe("span",{class:Z(n.ns.e("inner"))},null,2),n.trueLabel||n.falseLabel?Ht((B(),te("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=o=>n.model=o),class:Z(n.ns.e("original")),type:"checkbox","aria-hidden":n.indeterminate?"true":"false",name:n.name,tabindex:n.tabindex,disabled:n.isDisabled,"true-value":n.trueLabel,"false-value":n.falseLabel,onChange:e[1]||(e[1]=(...o)=>n.handleChange&&n.handleChange(...o)),onFocus:e[2]||(e[2]=o=>n.focus=!0),onBlur:e[3]||(e[3]=o=>n.focus=!1)},null,42,fze)),[[E_,n.model]]):Ht((B(),te("input",{key:1,"onUpdate:modelValue":e[4]||(e[4]=o=>n.model=o),class:Z(n.ns.e("original")),type:"checkbox","aria-hidden":n.indeterminate?"true":"false",disabled:n.isDisabled,value:n.label,name:n.name,tabindex:n.tabindex,onChange:e[5]||(e[5]=(...o)=>n.handleChange&&n.handleChange(...o)),onFocus:e[6]||(e[6]=o=>n.focus=!0),onBlur:e[7]||(e[7]=o=>n.focus=!1)},null,42,gze)),[[E_,n.model]])],10,hze),n.$slots.default||n.label?(B(),te("span",{key:0,class:Z(n.ns.e("label"))},[Xe(n.$slots,"default"),n.$slots.default?Fe("v-if",!0):(B(),te(kt,{key:0},[xn(Je(n.label),1)],2112))],2)):Fe("v-if",!0)],10,dze)}var mze=at(cze,[["render",pze]]);const vze=Me({name:"ElCheckboxButton",props:rze,emits:[pn,"change"],setup(n){const{focus:e,isChecked:t,isDisabled:i,size:r,model:s,handleChange:o}=yhe(n),{checkboxGroup:a}=Fw(),l=dt("checkbox"),u=z(()=>{var c,d,h,f;const g=(d=(c=a==null?void 0:a.fill)==null?void 0:c.value)!=null?d:"";return{backgroundColor:g,borderColor:g,color:(f=(h=a==null?void 0:a.textColor)==null?void 0:h.value)!=null?f:"",boxShadow:g?`-1px 0 0 0 ${g}`:null}});return{focus:e,isChecked:t,isDisabled:i,model:s,handleChange:o,activeStyle:u,size:r,ns:l}}}),_ze=["aria-checked","aria-disabled"],bze=["name","tabindex","disabled","true-value","false-value"],Cze=["name","tabindex","disabled","value"];function yze(n,e,t,i,r,s){return B(),te("label",{class:Z([n.ns.b("button"),n.ns.bm("button",n.size),n.ns.is("disabled",n.isDisabled),n.ns.is("checked",n.isChecked),n.ns.is("focus",n.focus)]),role:"checkbox","aria-checked":n.isChecked,"aria-disabled":n.isDisabled},[n.trueLabel||n.falseLabel?Ht((B(),te("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=o=>n.model=o),class:Z(n.ns.be("button","original")),type:"checkbox",name:n.name,tabindex:n.tabindex,disabled:n.isDisabled,"true-value":n.trueLabel,"false-value":n.falseLabel,onChange:e[1]||(e[1]=(...o)=>n.handleChange&&n.handleChange(...o)),onFocus:e[2]||(e[2]=o=>n.focus=!0),onBlur:e[3]||(e[3]=o=>n.focus=!1)},null,42,bze)),[[E_,n.model]]):Ht((B(),te("input",{key:1,"onUpdate:modelValue":e[4]||(e[4]=o=>n.model=o),class:Z(n.ns.be("button","original")),type:"checkbox",name:n.name,tabindex:n.tabindex,disabled:n.isDisabled,value:n.label,onChange:e[5]||(e[5]=(...o)=>n.handleChange&&n.handleChange(...o)),onFocus:e[6]||(e[6]=o=>n.focus=!0),onBlur:e[7]||(e[7]=o=>n.focus=!1)},null,42,Cze)),[[E_,n.model]]),n.$slots.default||n.label?(B(),te("span",{key:2,class:Z(n.ns.be("button","inner")),style:wt(n.isChecked?n.activeStyle:null)},[Xe(n.$slots,"default",{},()=>[xn(Je(n.label),1)])],6)):Fe("v-if",!0)],10,_ze)}var whe=at(vze,[["render",yze]]);const She=Me({name:"ElCheckboxGroup",props:{modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:{type:String,validator:zl},fill:{type:String,default:void 0},textColor:{type:String,default:void 0},tag:{type:String,default:"div"}},emits:[pn,"change"],setup(n,{emit:e,slots:t}){const{elFormItem:i}=Fw(),r=As(),s=dt("checkbox"),o=l=>{e(pn,l),Nt(()=>{e("change",l)})},a=z({get(){return n.modelValue},set(l){o(l)}});return vn("CheckboxGroup",gn(Dt({name:"ElCheckboxGroup",modelValue:a},Ko(n)),{checkboxGroupSize:r,changeEvent:o})),Ze(()=>n.modelValue,()=>{var l;(l=i.validate)==null||l.call(i,"change")}),()=>st(n.tag,{class:s.b("group"),role:"group","aria-label":"checkbox-group"},[Xe(t,"default")])}}),Md=wn(mze,{CheckboxButton:whe,CheckboxGroup:She}),wze=Ur(whe),Lhe=Ur(She),khe=Wt({size:AO,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Sze=Wt(gn(Dt({},khe),{modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean})),Ehe={[pn]:n=>Or(n)||ei(n)||Ol(n),change:n=>Or(n)||ei(n)||Ol(n)},Dhe=(n,e)=>{const t=J(),i=mt(bde,void 0),r=z(()=>!!i),s=z({get(){return r.value?i.modelValue:n.modelValue},set(c){r.value?i.changeEvent(c):e(pn,c),t.value.checked=n.modelValue===n.label}}),o=As(z(()=>i==null?void 0:i.size)),a=ZE(z(()=>i==null?void 0:i.disabled)),l=J(!1),u=z(()=>a.value||r.value&&s.value!==n.label?-1:0);return{radioRef:t,isGroup:r,radioGroup:i,focus:l,size:o,disabled:a,tabIndex:u,modelValue:s}},Lze=Me({name:"ElRadio",props:Sze,emits:Ehe,setup(n,{emit:e}){const t=dt("radio"),{radioRef:i,isGroup:r,focus:s,size:o,disabled:a,tabIndex:l,modelValue:u}=Dhe(n,e);function c(){Nt(()=>e("change",u.value))}return{ns:t,focus:s,isGroup:r,modelValue:u,tabIndex:l,size:o,disabled:a,radioRef:i,handleChange:c}}}),kze=["aria-checked","aria-disabled","tabindex"],Eze=["value","name","disabled"];function Dze(n,e,t,i,r,s){return B(),te("label",{class:Z([n.ns.b(),n.ns.is("disabled",n.disabled),n.ns.is("focus",n.focus),n.ns.is("bordered",n.border),n.ns.is("checked",n.modelValue===n.label),n.ns.m(n.size)]),role:"radio","aria-checked":n.modelValue===n.label,"aria-disabled":n.disabled,tabindex:n.tabIndex,onKeydown:e[5]||(e[5]=Cn(Ft(o=>n.modelValue=n.disabled?n.modelValue:n.label,["stop","prevent"]),["space"]))},[oe("span",{class:Z([n.ns.e("input"),n.ns.is("disabled",n.disabled),n.ns.is("checked",n.modelValue===n.label)])},[oe("span",{class:Z(n.ns.e("inner"))},null,2),Ht(oe("input",{ref:"radioRef","onUpdate:modelValue":e[0]||(e[0]=o=>n.modelValue=o),class:Z(n.ns.e("original")),value:n.label,type:"radio","aria-hidden":"true",name:n.name,disabled:n.disabled,tabindex:"-1",onFocus:e[1]||(e[1]=o=>n.focus=!0),onBlur:e[2]||(e[2]=o=>n.focus=!1),onChange:e[3]||(e[3]=(...o)=>n.handleChange&&n.handleChange(...o))},null,42,Eze),[[UE,n.modelValue]])],2),oe("span",{class:Z(n.ns.e("label")),onKeydown:e[4]||(e[4]=Ft(()=>{},["stop"]))},[Xe(n.$slots,"default",{},()=>[xn(Je(n.label),1)])],34)],42,kze)}var Ize=at(Lze,[["render",Dze]]);const Tze=Wt(gn(Dt({},khe),{name:{type:String,default:""}})),Nze=Me({name:"ElRadioButton",props:Tze,setup(n,{emit:e}){const t=dt("radio"),{radioRef:i,isGroup:r,focus:s,size:o,disabled:a,tabIndex:l,modelValue:u,radioGroup:c}=Dhe(n,e),d=z(()=>({backgroundColor:(c==null?void 0:c.fill)||"",borderColor:(c==null?void 0:c.fill)||"",boxShadow:(c==null?void 0:c.fill)?`-1px 0 0 0 ${c.fill}`:"",color:(c==null?void 0:c.textColor)||""}));return{ns:t,isGroup:r,size:o,disabled:a,tabIndex:l,modelValue:u,focus:s,activeStyle:d,radioRef:i}}}),xze=["aria-checked","aria-disabled","tabindex"],Mze=["value","name","disabled"];function Aze(n,e,t,i,r,s){return B(),te("label",{class:Z([n.ns.b("button"),n.ns.is("active",n.modelValue===n.label),n.ns.is("disabled",n.disabled),n.ns.is("focus",n.focus),n.ns.bm("button",n.size)]),role:"radio","aria-checked":n.modelValue===n.label,"aria-disabled":n.disabled,tabindex:n.tabIndex,onKeydown:e[4]||(e[4]=Cn(Ft(o=>n.modelValue=n.disabled?n.modelValue:n.label,["stop","prevent"]),["space"]))},[Ht(oe("input",{ref:"radioRef","onUpdate:modelValue":e[0]||(e[0]=o=>n.modelValue=o),class:Z(n.ns.be("button","original-radio")),value:n.label,type:"radio",name:n.name,disabled:n.disabled,tabindex:"-1",onFocus:e[1]||(e[1]=o=>n.focus=!0),onBlur:e[2]||(e[2]=o=>n.focus=!1)},null,42,Mze),[[UE,n.modelValue]]),oe("span",{class:Z(n.ns.be("button","inner")),style:wt(n.modelValue===n.label?n.activeStyle:{}),onKeydown:e[3]||(e[3]=Ft(()=>{},["stop"]))},[Xe(n.$slots,"default",{},()=>[xn(Je(n.label),1)])],38)],42,xze)}var Ihe=at(Nze,[["render",Aze]]);const Rze=Wt({size:AO,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},textColor:{type:String,default:""}}),Oze=Ehe,Pze=Me({name:"ElRadioGroup",props:Rze,emits:Oze,setup(n,e){const t=dt("radio"),i=J(),{formItem:r}=Ow(),s=a=>{e.emit(pn,a),Nt(()=>e.emit("change",a))},o=a=>{if(!i.value)return;const l=a.target,u=l.nodeName==="INPUT"?"[type=radio]":"[role=radio]",c=i.value.querySelectorAll(u),d=c.length,h=Array.from(c).indexOf(l),f=i.value.querySelectorAll("[role=radio]");let g=null;switch(a.code){case Ct.left:case Ct.up:a.stopPropagation(),a.preventDefault(),g=h===0?d-1:h-1;break;case Ct.right:case Ct.down:a.stopPropagation(),a.preventDefault(),g=h===d-1?0:h+1;break}g!==null&&(f[g].click(),f[g].focus())};return rn(()=>{const a=i.value.querySelectorAll("[type=radio]"),l=a[0];!Array.from(a).some(u=>u.checked)&&l&&(l.tabIndex=0)}),vn(bde,xi(gn(Dt({},Ko(n)),{changeEvent:s}))),Ze(()=>n.modelValue,()=>r==null?void 0:r.validate("change")),{ns:t,radioGroupRef:i,handleKeydown:o}}});function Fze(n,e,t,i,r,s){return B(),te("div",{ref:"radioGroupRef",class:Z(n.ns.b("group")),role:"radiogroup",onKeydown:e[0]||(e[0]=(...o)=>n.handleKeydown&&n.handleKeydown(...o))},[Xe(n.$slots,"default")],34)}var The=at(Pze,[["render",Fze]]);const Nhe=wn(Ize,{RadioButton:Ihe,RadioGroup:The}),Bze=Ur(The),$ze=Ur(Ihe);var Vze=Me({name:"NodeContent",render(){const{node:n,panel:e}=this.$parent,{data:t,label:i}=n,{renderLabelFn:r}=e;return st("span",{class:"el-cascader-node__label"},r?r({node:n,data:t}):i)}});const pU=Symbol(),Wze=Me({name:"ElCascaderNode",components:{ElCheckbox:Md,ElRadio:Nhe,NodeContent:Vze,ElIcon:cn,Check:Ey,Loading:Cv,ArrowRight:Hc},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(n,{emit:e}){const t=mt(pU),i=z(()=>t.isHoverMenu),r=z(()=>t.config.multiple),s=z(()=>t.config.checkStrictly),o=z(()=>{var S;return(S=t.checkedNodes[0])==null?void 0:S.uid}),a=z(()=>n.node.isDisabled),l=z(()=>n.node.isLeaf),u=z(()=>s.value&&!l.value||!a.value),c=z(()=>h(t.expandingNode)),d=z(()=>s.value&&t.checkedNodes.some(h)),h=S=>{var D;const{level:E,uid:I}=n.node;return((D=S==null?void 0:S.pathNodes[E-1])==null?void 0:D.uid)===I},f=()=>{c.value||t.expandNode(n.node)},g=S=>{const{node:D}=n;S!==D.checked&&t.handleCheckChange(D,S)},p=()=>{t.lazyLoad(n.node,()=>{l.value||f()})},m=S=>{!i.value||(b(),!l.value&&e("expand",S))},b=()=>{const{node:S}=n;!u.value||S.loading||(S.loaded?f():p())},_=()=>{i.value&&!l.value||(l.value&&!a.value&&!s.value&&!r.value?w(!0):b())},C=S=>{s.value?(g(S),n.node.loaded&&f()):w(S)},w=S=>{n.node.loaded?(g(S),!s.value&&f()):p()};return{panel:t,isHoverMenu:i,multiple:r,checkStrictly:s,checkedNodeId:o,isDisabled:a,isLeaf:l,expandable:u,inExpandingPath:c,inCheckedPath:d,handleHoverExpand:m,handleExpand:b,handleClick:_,handleCheck:w,handleSelectCheck:C}}}),Hze=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],zze=oe("span",null,null,-1);function Uze(n,e,t,i,r,s){const o=Te("el-checkbox"),a=Te("el-radio"),l=Te("check"),u=Te("el-icon"),c=Te("node-content"),d=Te("loading"),h=Te("arrow-right");return B(),te("li",{id:`${n.menuId}-${n.node.uid}`,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-owns":n.isLeaf?null:n.menuId,"aria-expanded":n.inExpandingPath,tabindex:n.expandable?-1:void 0,class:Z(["el-cascader-node",n.checkStrictly&&"is-selectable",n.inExpandingPath&&"in-active-path",n.inCheckedPath&&"in-checked-path",n.node.checked&&"is-active",!n.expandable&&"is-disabled"]),onMouseenter:e[2]||(e[2]=(...f)=>n.handleHoverExpand&&n.handleHoverExpand(...f)),onFocus:e[3]||(e[3]=(...f)=>n.handleHoverExpand&&n.handleHoverExpand(...f)),onClick:e[4]||(e[4]=(...f)=>n.handleClick&&n.handleClick(...f))},[Fe(" prefix "),n.multiple?(B(),Oe(o,{key:0,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:n.isDisabled,onClick:e[0]||(e[0]=Ft(()=>{},["stop"])),"onUpdate:modelValue":n.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):n.checkStrictly?(B(),Oe(a,{key:1,"model-value":n.checkedNodeId,label:n.node.uid,disabled:n.isDisabled,"onUpdate:modelValue":n.handleSelectCheck,onClick:e[1]||(e[1]=Ft(()=>{},["stop"]))},{default:De(()=>[Fe(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),zze]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):n.isLeaf&&n.node.checked?(B(),Oe(u,{key:2,class:"el-cascader-node__prefix"},{default:De(()=>[be(l)]),_:1})):Fe("v-if",!0),Fe(" content "),be(c),Fe(" postfix "),n.isLeaf?Fe("v-if",!0):(B(),te(kt,{key:3},[n.node.loading?(B(),Oe(u,{key:0,class:"is-loading el-cascader-node__postfix"},{default:De(()=>[be(d)]),_:1})):(B(),Oe(u,{key:1,class:"arrow-right el-cascader-node__postfix"},{default:De(()=>[be(h)]),_:1}))],2112))],42,Hze)}var jze=at(Wze,[["render",Uze]]);const Kze=Me({name:"ElCascaderMenu",components:{Loading:Cv,ElIcon:cn,ElScrollbar:rp,ElCascaderNode:jze},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(n){const e=en(),{t}=Oi(),i=JL();let r=null,s=null;const o=mt(pU),a=J(null),l=z(()=>!n.nodes.length),u=z(()=>!o.initialLoaded),c=z(()=>`cascader-menu-${i}-${n.index}`),d=p=>{r=p.target},h=p=>{if(!(!o.isHoverMenu||!r||!a.value))if(r.contains(p.target)){f();const m=e.vnode.el,{left:b}=m.getBoundingClientRect(),{offsetWidth:_,offsetHeight:C}=m,w=p.clientX-b,S=r.offsetTop,D=S+r.offsetHeight;a.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${S} L${_} 0 V${S} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${D} L${_} ${C} V${D} Z" />
        `}else s||(s=window.setTimeout(g,o.config.hoverThreshold))},f=()=>{!s||(clearTimeout(s),s=null)},g=()=>{!a.value||(a.value.innerHTML="",f())};return{panel:o,hoverZone:a,isEmpty:l,isLoading:u,menuId:c,t,handleExpand:d,handleMouseMove:h,clearHoverZone:g}}}),Gze={key:0,class:"el-cascader-menu__empty-text"},qze={key:1,class:"el-cascader-menu__empty-text"},Yze={key:2,ref:"hoverZone",class:"el-cascader-menu__hover-zone"};function Xze(n,e,t,i,r,s){const o=Te("el-cascader-node"),a=Te("loading"),l=Te("el-icon"),u=Te("el-scrollbar");return B(),Oe(u,{key:n.menuId,tag:"ul",role:"menu",class:"el-cascader-menu","wrap-class":"el-cascader-menu__wrap","view-class":["el-cascader-menu__list",n.isEmpty&&"is-empty"],onMousemove:n.handleMouseMove,onMouseleave:n.clearHoverZone},{default:De(()=>{var c;return[(B(!0),te(kt,null,$n(n.nodes,d=>(B(),Oe(o,{key:d.uid,node:d,"menu-id":n.menuId,onExpand:n.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),n.isLoading?(B(),te("div",Gze,[be(l,{size:"14",class:"is-loading"},{default:De(()=>[be(a)]),_:1}),xn(" "+Je(n.t("el.cascader.loading")),1)])):n.isEmpty?(B(),te("div",qze,Je(n.t("el.cascader.noData")),1)):((c=n.panel)==null?void 0:c.isHoverMenu)?(B(),te("svg",Yze,null,512)):Fe("v-if",!0)]}),_:1},8,["view-class","onMousemove","onMouseleave"])}var Zze=at(Kze,[["render",Xze]]),mU=(n=>(n.CLICK="click",n.HOVER="hover",n))(mU||{});let Qze=0;const Jze=n=>{const e=[n];let{parent:t}=n;for(;t;)e.unshift(t),t=t.parent;return e};class My{constructor(e,t,i,r=!1){this.data=e,this.config=t,this.parent=i,this.root=r,this.uid=Qze++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:o,children:a}=t,l=e[a],u=Jze(this);this.level=r?0:i?i.level+1:1,this.value=e[s],this.label=e[o],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new My(c,t,this)),this.loaded=!t.lazy||this.isLeaf||!ZL(l)}get isDisabled(){const{data:e,parent:t,config:i}=this,{disabled:r,checkStrictly:s}=i;return(xl(r)?r(e,this):!!e[r])||!s&&(t==null?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:i,loaded:r}=this,{lazy:s,leaf:o}=t,a=xl(o)?o(e,this):e[o];return XL(a)?s&&!r?!1:!(Array.isArray(i)&&i.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:i}=this,r=new My(e,this.config,this);return Array.isArray(t)?t.push(e):this.childrenData=[e],i.push(r),r}calcText(e,t){const i=e?this.pathLabels.join(t):this.label;return this.text=i,i}broadcast(e,...t){const i=`onParent${ug(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...t),r[i]&&r[i](...t))})}emit(e,...t){const{parent:i}=this,r=`onChild${ug(e)}`;i&&(i[r]&&i[r](...t),i.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter(r=>!r.isDisabled),i=t.length?t.every(r=>r.checked):!1;this.setCheckState(i)}setCheckState(e){const t=this.children.length,i=this.children.reduce((r,s)=>{const o=s.checked?1:s.indeterminate?.5:0;return r+o},0);this.checked=this.loaded&&this.children.every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&i!==t&&i>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:i}=this.config;t||!i?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const i9=(n,e)=>n.reduce((t,i)=>(i.isLeaf?t.push(i):(!e&&t.push(i),t=t.concat(i9(i.children,e))),t),[]);class Cee{constructor(e,t){this.config=t;const i=(e||[]).map(r=>new My(r,this.config));this.nodes=i,this.allNodes=i9(i,!1),this.leafNodes=i9(i,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const i=t?t.appendChild(e):new My(e,this.config);t||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(e,t){e.forEach(i=>this.appendNode(i,t))}getNodeByValue(e,t=!1){return!e&&e!==0?null:this.getFlattedNodes(t).filter(r=>wd(r.value,e)||wd(r.pathValues,e))[0]||null}getSameNode(e){return e&&this.getFlattedNodes(!1).filter(({value:i,level:r})=>wd(e.value,i)&&e.level===r)[0]||null}}const xhe={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},eUe={expandTrigger:mU.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:ur,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},tUe=n=>z(()=>Dt(Dt({},eUe),n.props)),yee=n=>{if(!n)return 0;const e=n.id.split("-");return Number(e[e.length-2])},nUe=n=>{if(!n)return;const e=n.querySelector("input");e?e.click():Xce(n)&&n.click()},iUe=(n,e)=>{const t=e.slice(0),i=t.map(s=>s.uid),r=n.reduce((s,o)=>{const a=i.indexOf(o.uid);return a>-1&&(s.push(o),t.splice(a,1),i.splice(a,1)),s},[]);return r.push(...t),r},rUe=Me({name:"ElCascaderPanel",components:{ElCascaderMenu:Zze},props:gn(Dt({},xhe),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[pn,xo,"close","expand-change"],setup(n,{emit:e,slots:t}){let i=!1;const r=tUe(n);let s=null;const o=J(!0),a=J([]),l=J(null),u=J([]),c=J(null),d=J([]),h=z(()=>r.value.expandTrigger===mU.HOVER),f=z(()=>n.renderLabel||t.default),g=()=>{const{options:A}=n,O=r.value;i=!1,s=new Cee(A,O),u.value=[s.getNodes()],O.lazy&&ZL(n.options)?(o.value=!1,p(void 0,F=>{F&&(s=new Cee(F,O),u.value=[s.getNodes()]),o.value=!0,E(!1,!0)})):E(!1,!0)},p=(A,O)=>{const F=r.value;A=A||new My({},F,void 0,!0),A.loading=!0;const U=V=>{const G=A,j=G.root?null:G;V&&(s==null||s.appendNodes(V,j)),G.loading=!1,G.loaded=!0,G.childrenData=G.childrenData||[],O&&O(V)};F.lazyLoad(A,U)},m=(A,O)=>{var F;const{level:U}=A,V=u.value.slice(0,U);let G;A.isLeaf?G=A.pathNodes[U-2]:(G=A,V.push(A.children)),((F=c.value)==null?void 0:F.uid)!==(G==null?void 0:G.uid)&&(c.value=A,u.value=V,!O&&e("expand-change",(A==null?void 0:A.pathValues)||[]))},b=(A,O,F=!0)=>{const{checkStrictly:U,multiple:V}=r.value,G=d.value[0];i=!0,!V&&(G==null||G.doCheck(!1)),A.doCheck(O),D(),F&&!V&&!U&&e("close"),!F&&!V&&!U&&_(A)},_=A=>{!A||(A=A.parent,_(A),A&&m(A))},C=A=>s==null?void 0:s.getFlattedNodes(A),w=A=>{var O;return(O=C(A))==null?void 0:O.filter(F=>F.checked!==!1)},S=()=>{d.value.forEach(A=>A.doCheck(!1)),D()},D=()=>{var A;const{checkStrictly:O,multiple:F}=r.value,U=d.value,V=w(!O),G=iUe(U,V),j=G.map(X=>X.valueByOption);d.value=G,l.value=F?j:(A=j[0])!=null?A:null},E=(A=!1,O=!1)=>{const{modelValue:F}=n,{lazy:U,multiple:V,checkStrictly:G}=r.value,j=!G;if(!(!o.value||i||!O&&wd(F,l.value)))if(U&&!A){const ie=VJ(Y5e(e_(F))).map(Ce=>s==null?void 0:s.getNodeByValue(Ce)).filter(Ce=>!!Ce&&!Ce.loaded&&!Ce.loading);ie.length?ie.forEach(Ce=>{p(Ce,()=>E(!1,O))}):E(!0,O)}else{const X=V?e_(F):[F],ie=VJ(X.map(Ce=>s==null?void 0:s.getNodeByValue(Ce,j)));I(ie,!1),l.value=F}},I=(A,O=!0)=>{const{checkStrictly:F}=r.value,U=d.value,V=A.filter(X=>!!X&&(F||X.isLeaf)),G=s==null?void 0:s.getSameNode(c.value),j=O&&G||V[0];j?j.pathNodes.forEach(X=>m(X,!0)):c.value=null,U.forEach(X=>X.doCheck(!1)),V.forEach(X=>X.doCheck(!0)),d.value=V,Nt(T)},T=()=>{!Kn||a.value.forEach(A=>{const O=A==null?void 0:A.$el;if(O){const F=O.querySelector(".el-scrollbar__wrap"),U=O.querySelector(".el-cascader-node.is-active")||O.querySelector(".el-cascader-node.in-active-path");nde(F,U)}})},M=A=>{const O=A.target,{code:F}=A;switch(F){case Ct.up:case Ct.down:{A.preventDefault();const U=F===Ct.up?-1:1;PN(Zce(O,U,'.el-cascader-node[tabindex="-1"]'));break}case Ct.left:{A.preventDefault();const U=a.value[yee(O)-1],V=U==null?void 0:U.$el.querySelector('.el-cascader-node[aria-expanded="true"]');PN(V);break}case Ct.right:{A.preventDefault();const U=a.value[yee(O)+1],V=U==null?void 0:U.$el.querySelector('.el-cascader-node[tabindex="-1"]');PN(V);break}case Ct.enter:nUe(O);break;case Ct.esc:case Ct.tab:e("close");break}};return vn(pU,xi({config:r,expandingNode:c,checkedNodes:d,isHoverMenu:h,initialLoaded:o,renderLabelFn:f,lazyLoad:p,expandNode:m,handleCheckChange:b})),Ze([r,()=>n.options],g,{deep:!0,immediate:!0}),Ze(()=>n.modelValue,()=>{i=!1,E()}),Ze(l,A=>{wd(A,n.modelValue)||(e(pn,A),e(xo,A))}),dz(()=>a.value=[]),rn(()=>!ZL(n.modelValue)&&E()),{menuList:a,menus:u,checkedNodes:d,handleKeyDown:M,handleCheckChange:b,getFlattedNodes:C,getCheckedNodes:w,clearCheckedNodes:S,calculateCheckedValue:D,scrollToExpandingNode:T}}});function sUe(n,e,t,i,r,s){const o=Te("el-cascader-menu");return B(),te("div",{class:Z(["el-cascader-panel",n.border&&"is-bordered"]),onKeydown:e[0]||(e[0]=(...a)=>n.handleKeyDown&&n.handleKeyDown(...a))},[(B(!0),te(kt,null,$n(n.menus,(a,l)=>(B(),Oe(o,{key:l,ref_for:!0,ref:u=>n.menuList[l]=u,index:l,nodes:a},null,8,["index","nodes"]))),128))],34)}var UN=at(rUe,[["render",sUe]]);UN.install=n=>{n.component(UN.name,UN)};const Mhe=UN,oUe=Mhe,Ahe=Wt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:["large","default","small"]},effect:{type:String,values:["dark","light","plain"],default:"light"}}),aUe={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},lUe=Me({name:"ElTag",components:{ElIcon:cn,Close:Td},props:Ahe,emits:aUe,setup(n,{emit:e}){const t=As(),i=dt("tag"),r=z(()=>{const{type:a,hit:l,effect:u,closable:c}=n;return[i.b(),i.is("closable",c),i.m(a),i.m(t.value),i.m(u),i.is("hit",l)]});return{ns:i,classes:r,handleClose:a=>{a.stopPropagation(),e("close",a)},handleClick:a=>{e("click",a)}}}});function uUe(n,e,t,i,r,s){const o=Te("close"),a=Te("el-icon");return n.disableTransitions?(B(),Oe(Cs,{key:1,name:`${n.ns.namespace.value}-zoom-in-center`},{default:De(()=>[oe("span",{class:Z(n.classes),style:wt({backgroundColor:n.color}),onClick:e[1]||(e[1]=(...l)=>n.handleClick&&n.handleClick(...l))},[oe("span",{class:Z(n.ns.e("content"))},[Xe(n.$slots,"default")],2),n.closable?(B(),Oe(a,{key:0,class:Z(n.ns.e("close")),onClick:n.handleClose},{default:De(()=>[be(o)]),_:1},8,["class","onClick"])):Fe("v-if",!0)],6)]),_:3},8,["name"])):(B(),te("span",{key:0,class:Z(n.classes),style:wt({backgroundColor:n.color}),onClick:e[0]||(e[0]=(...l)=>n.handleClick&&n.handleClick(...l))},[oe("span",{class:Z(n.ns.e("content"))},[Xe(n.$slots,"default")],2),n.closable?(B(),Oe(a,{key:0,class:Z(n.ns.e("close")),onClick:n.handleClose},{default:De(()=>[be(o)]),_:1},8,["class","onClick"])):Fe("v-if",!0)],6))}var cUe=at(lUe,[["render",uUe]]);const PO=wn(cUe),dUe=40,hUe={large:36,default:32,small:28},fUe={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:n})=>{const{modifiersData:e,placement:t}=n;["right","left","bottom","top"].includes(t)||(e.arrow.x=35)},requires:["arrow"]}]},wee="ElCascader",gUe=Me({name:wee,components:{ElCascaderPanel:Mhe,ElInput:zc,ElTooltip:Ql,ElScrollbar:rp,ElTag:PO,ElIcon:cn,CircleClose:Ug,Check:Ey,ArrowDown:w1},directives:{Clickoutside:wv},props:gn(Dt({},xhe),{size:{type:String,validator:zl},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(n,e)=>n.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},popperAppendToBody:{type:Boolean,default:void 0},teleported:wa.teleported}),emits:[pn,xo,"focus","blur","visible-change","expand-change","remove-tag"],setup(n,{emit:e}){let t=0,i=0;const{compatTeleported:r}=Pw(wee,"popperAppendToBody"),{t:s}=Oi(),o=mt(Zl,{}),a=mt(Kd,{}),l=J(null),u=J(null),c=J(null),d=J(null),h=J(null),f=J(!1),g=J(!1),p=J(!1),m=J(""),b=J(""),_=J([]),C=J([]),w=J(!1),S=z(()=>n.disabled||o.disabled),D=z(()=>n.placeholder||s("el.cascader.placeholder")),E=As(),I=z(()=>["small"].includes(E.value)?"small":"default"),T=z(()=>!!n.props.multiple),M=z(()=>!n.filterable||T.value),A=z(()=>T.value?b.value:m.value),O=z(()=>{var de;return((de=d.value)==null?void 0:de.checkedNodes)||[]}),F=z(()=>!n.clearable||S.value||p.value||!g.value?!1:!!O.value.length),U=z(()=>{const{showAllLevels:de,separator:ye}=n,q=O.value;return q.length?T.value?" ":q[0].calcText(de,ye):""}),V=z({get(){return n.modelValue},set(de){var ye;e(pn,de),e(xo,de),(ye=a.validate)==null||ye.call(a,"change")}}),G=z(()=>{var de,ye;return(ye=(de=l.value)==null?void 0:de.popperRef)==null?void 0:ye.contentRef}),j=de=>{var ye,q,P;if(!S.value&&(de=de!=null?de:!f.value,de!==f.value)){if(f.value=de,(q=(ye=u.value)==null?void 0:ye.input)==null||q.setAttribute("aria-expanded",`${de}`),de)X(),Nt((P=d.value)==null?void 0:P.scrollToExpandingNode);else if(n.filterable){const{value:x}=U;m.value=x,b.value=x}e("visible-change",de)}},X=()=>{Nt(()=>{var de;(de=l.value)==null||de.updatePopper()})},ie=()=>{p.value=!1},Ce=de=>{const{showAllLevels:ye,separator:q}=n;return{node:de,key:de.uid,text:de.calcText(ye,q),hitState:!1,closable:!S.value&&!de.isDisabled}},Be=de=>{var ye;const q=de.node;q.doCheck(!1),(ye=d.value)==null||ye.calculateCheckedValue(),e("remove-tag",q.valueByOption)},we=()=>{if(!T.value)return;const de=O.value,ye=[];if(de.length){const[q,...P]=de,x=P.length;ye.push(Ce(q)),x&&(n.collapseTags?ye.push({key:-1,text:`+ ${x}`,closable:!1}):P.forEach(R=>ye.push(Ce(R))))}_.value=ye},ke=()=>{var de,ye;const{filterMethod:q,showAllLevels:P,separator:x}=n,R=(ye=(de=d.value)==null?void 0:de.getFlattedNodes(!n.props.checkStrictly))==null?void 0:ye.filter(H=>H.isDisabled?!1:(H.calcText(P,x),q(H,A.value)));T.value&&_.value.forEach(H=>{H.hitState=!1}),p.value=!0,C.value=R,X()},Se=()=>{var de;let ye;p.value&&h.value?ye=h.value.$el.querySelector(".el-cascader__suggestion-item"):ye=(de=d.value)==null?void 0:de.$el.querySelector('.el-cascader-node[tabindex="-1"]'),ye&&(ye.focus(),!p.value&&ye.click())},fe=()=>{var de,ye;const q=(de=u.value)==null?void 0:de.input,P=c.value,x=(ye=h.value)==null?void 0:ye.$el;if(!(!Kn||!q)){if(x){const R=x.querySelector(".el-cascader__suggestion-list");R.style.minWidth=`${q.offsetWidth}px`}if(P){const{offsetHeight:R}=P,H=_.value.length>0?`${Math.max(R+6,t)}px`:`${t}px`;q.style.height=H,X()}}},pe=de=>{var ye;return(ye=d.value)==null?void 0:ye.getCheckedNodes(de)},me=de=>{X(),e("expand-change",de)},Ne=de=>{var ye;const q=(ye=de.target)==null?void 0:ye.value;if(de.type==="compositionend")w.value=!1,Nt(()=>le(q));else{const P=q[q.length-1]||"";w.value=!xO(P)}},je=de=>{if(!w.value)switch(de.code){case Ct.enter:j();break;case Ct.down:j(!0),Nt(Se),de.preventDefault();break;case Ct.esc:case Ct.tab:j(!1);break}},rt=()=>{var de;(de=d.value)==null||de.clearCheckedNodes(),j(!1)},xe=de=>{var ye,q;const{checked:P}=de;T.value?(ye=d.value)==null||ye.handleCheckChange(de,!P,!1):(!P&&((q=d.value)==null||q.handleCheckChange(de,!0,!1)),j(!1))},Ve=de=>{const ye=de.target,{code:q}=de;switch(q){case Ct.up:case Ct.down:{const P=q===Ct.up?-1:1;PN(Zce(ye,P,'.el-cascader__suggestion-item[tabindex="-1"]'));break}case Ct.enter:ye.click();break;case Ct.esc:case Ct.tab:j(!1);break}},ee=()=>{const de=_.value,ye=de[de.length-1];i=b.value?0:i+1,!(!ye||!i)&&(ye.hitState?Be(ye):ye.hitState=!0)},ne=Hl(()=>{const{value:de}=A;if(!de)return;const ye=n.beforeFilter(de);DM(ye)?ye.then(ke).catch(()=>{}):ye!==!1?ke():ie()},n.debounce),le=(de,ye)=>{!f.value&&j(!0),!(ye==null?void 0:ye.isComposing)&&(de?ne():ie())};return Ze(p,X),Ze([O,S],we),Ze(_,()=>{Nt(()=>fe())}),Ze(U,de=>m.value=de,{immediate:!0}),rn(()=>{var de;const ye=(de=u.value)==null?void 0:de.$el;t=(ye==null?void 0:ye.offsetHeight)||hUe[E.value]||dUe,_v(ye,fe)}),Er(()=>{var de;bv((de=u.value)==null?void 0:de.$el,fe)}),{popperOptions:fUe,tooltipRef:l,popperPaneRef:G,input:u,tagWrapper:c,panel:d,suggestionPanel:h,popperVisible:f,inputHover:g,inputPlaceholder:D,filtering:p,presentText:U,checkedValue:V,inputValue:m,searchInputValue:b,presentTags:_,suggestions:C,isDisabled:S,isOnComposition:w,realSize:E,tagSize:I,multiple:T,readonly:M,clearBtnVisible:F,compatTeleported:r,t:s,togglePopperVisible:j,hideSuggestionPanel:ie,deleteTag:Be,focusFirstNode:Se,getCheckedNodes:pe,handleExpandChange:me,handleKeyDown:je,handleComposition:Ne,handleClear:rt,handleSuggestionClick:xe,handleSuggestionKeyDown:Ve,handleDelete:ee,handleInput:le}}}),pUe={key:0,ref:"tagWrapper",class:"el-cascader__tags"},mUe=["placeholder"],vUe=["onClick"],_Ue={class:"el-cascader__empty-text"};function bUe(n,e,t,i,r,s){const o=Te("circle-close"),a=Te("el-icon"),l=Te("arrow-down"),u=Te("el-input"),c=Te("el-tag"),d=Te("el-cascader-panel"),h=Te("check"),f=Te("el-scrollbar"),g=Te("el-tooltip"),p=xa("clickoutside");return B(),Oe(g,{ref:"tooltipRef",visible:n.popperVisible,"onUpdate:visible":e[17]||(e[17]=m=>n.popperVisible=m),teleported:n.compatTeleported,"popper-class":`el-cascader__dropdown ${n.popperClass}`,"popper-options":n.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:"el-zoom-in-top",effect:"light",pure:"",persistent:"",onHide:n.hideSuggestionPanel},{default:De(()=>[Ht((B(),te("div",{class:Z(["el-cascader",n.realSize&&`el-cascader--${n.realSize}`,{"is-disabled":n.isDisabled},n.$attrs.class]),style:wt(n.$attrs.style),onClick:e[11]||(e[11]=()=>n.togglePopperVisible(n.readonly?void 0:!0)),onKeydown:e[12]||(e[12]=(...m)=>n.handleKeyDown&&n.handleKeyDown(...m)),onMouseenter:e[13]||(e[13]=m=>n.inputHover=!0),onMouseleave:e[14]||(e[14]=m=>n.inputHover=!1)},[be(u,{ref:"input",modelValue:n.inputValue,"onUpdate:modelValue":e[1]||(e[1]=m=>n.inputValue=m),placeholder:n.inputPlaceholder,readonly:n.readonly,disabled:n.isDisabled,"validate-event":!1,size:n.realSize,class:Z({"is-focus":n.popperVisible}),onCompositionstart:n.handleComposition,onCompositionupdate:n.handleComposition,onCompositionend:n.handleComposition,onFocus:e[2]||(e[2]=m=>n.$emit("focus",m)),onBlur:e[3]||(e[3]=m=>n.$emit("blur",m)),onInput:n.handleInput},{suffix:De(()=>[n.clearBtnVisible?(B(),Oe(a,{key:"clear",class:"el-input__icon icon-circle-close",onClick:Ft(n.handleClear,["stop"])},{default:De(()=>[be(o)]),_:1},8,["onClick"])):(B(),Oe(a,{key:"arrow-down",class:Z(["el-input__icon","icon-arrow-down",n.popperVisible&&"is-reverse"]),onClick:e[0]||(e[0]=Ft(m=>n.togglePopperVisible(),["stop"]))},{default:De(()=>[be(l)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),n.multiple?(B(),te("div",pUe,[(B(!0),te(kt,null,$n(n.presentTags,m=>(B(),Oe(c,{key:m.key,type:"info",size:n.tagSize,hit:m.hitState,closable:m.closable,"disable-transitions":"",onClose:b=>n.deleteTag(m)},{default:De(()=>[oe("span",null,Je(m.text),1)]),_:2},1032,["size","hit","closable","onClose"]))),128)),n.filterable&&!n.isDisabled?Ht((B(),te("input",{key:0,"onUpdate:modelValue":e[4]||(e[4]=m=>n.searchInputValue=m),type:"text",class:"el-cascader__search-input",placeholder:n.presentText?"":n.inputPlaceholder,onInput:e[5]||(e[5]=m=>n.handleInput(n.searchInputValue,m)),onClick:e[6]||(e[6]=Ft(m=>n.togglePopperVisible(!0),["stop"])),onKeydown:e[7]||(e[7]=Cn((...m)=>n.handleDelete&&n.handleDelete(...m),["delete"])),onCompositionstart:e[8]||(e[8]=(...m)=>n.handleComposition&&n.handleComposition(...m)),onCompositionupdate:e[9]||(e[9]=(...m)=>n.handleComposition&&n.handleComposition(...m)),onCompositionend:e[10]||(e[10]=(...m)=>n.handleComposition&&n.handleComposition(...m))},null,40,mUe)),[[k_,n.searchInputValue]]):Fe("v-if",!0)],512)):Fe("v-if",!0)],38)),[[p,()=>n.togglePopperVisible(!1),n.popperPaneRef]])]),content:De(()=>[Ht(be(d,{ref:"panel",modelValue:n.checkedValue,"onUpdate:modelValue":e[15]||(e[15]=m=>n.checkedValue=m),options:n.options,props:n.props,border:!1,"render-label":n.$slots.default,onExpandChange:n.handleExpandChange,onClose:e[16]||(e[16]=m=>n.$nextTick(()=>n.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[zn,!n.filtering]]),n.filterable?Ht((B(),Oe(f,{key:0,ref:"suggestionPanel",tag:"ul",class:"el-cascader__suggestion-panel","view-class":"el-cascader__suggestion-list",onKeydown:n.handleSuggestionKeyDown},{default:De(()=>[n.suggestions.length?(B(!0),te(kt,{key:0},$n(n.suggestions,m=>(B(),te("li",{key:m.uid,class:Z(["el-cascader__suggestion-item",m.checked&&"is-checked"]),tabindex:-1,onClick:b=>n.handleSuggestionClick(m)},[oe("span",null,Je(m.text),1),m.checked?(B(),Oe(a,{key:0},{default:De(()=>[be(h)]),_:1})):Fe("v-if",!0)],10,vUe))),128)):Xe(n.$slots,"empty",{key:1},()=>[oe("li",_Ue,Je(n.t("el.cascader.noMatch")),1)])]),_:3},8,["onKeydown"])),[[zn,n.filtering]]):Fe("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","onHide"])}var jN=at(gUe,[["render",bUe]]);jN.install=n=>{n.component(jN.name,jN)};const CUe=jN,yUe=CUe,wUe=Wt({checked:{type:Boolean,default:!1}}),SUe={"update:checked":n=>Ol(n),change:n=>Ol(n)},LUe=Me({name:"ElCheckTag",props:wUe,emits:SUe,setup(n,{emit:e}){return{ns:dt("check-tag"),onChange:()=>{const r=!n.checked;e("change",r),e("update:checked",r)}}}});function kUe(n,e,t,i,r,s){return B(),te("span",{class:Z([n.ns.b(),n.ns.is("checked",n.checked)]),onClick:e[0]||(e[0]=(...o)=>n.onChange&&n.onChange(...o))},[Xe(n.$slots,"default")],2)}var EUe=at(LUe,[["render",kUe]]);const DUe=wn(EUe),IUe=Wt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:It([Number,Object]),default:()=>zs({})},sm:{type:It([Number,Object]),default:()=>zs({})},md:{type:It([Number,Object]),default:()=>zs({})},lg:{type:It([Number,Object]),default:()=>zs({})},xl:{type:It([Number,Object]),default:()=>zs({})}});var TUe=Me({name:"ElCol",props:IUe,setup(n,{slots:e}){const{gutter:t}=mt("ElRow",{gutter:{value:0}}),i=dt("col"),r=z(()=>t.value?{paddingLeft:`${t.value/2}px`,paddingRight:`${t.value/2}px`}:{}),s=z(()=>{const o=[];return["span","offset","pull","push"].forEach(u=>{const c=n[u];typeof c=="number"&&(u==="span"?o.push(i.b(`${n[u]}`)):c>0&&o.push(i.b(`${u}-${n[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{if(typeof n[u]=="number")o.push(i.b(`${u}-${n[u]}`));else if(typeof n[u]=="object"){const c=n[u];Object.keys(c).forEach(d=>{o.push(d!=="span"?i.b(`${u}-${d}-${c[d]}`):i.b(`${u}-${c[d]}`))})}}),t.value&&o.push("is-guttered"),o});return()=>st(n.tag,{class:[i.b(),s.value],style:r.value},[Xe(e,"default")])}});const NUe=wn(TUe),xUe=Me({name:"ElCollapse",props:{accordion:Boolean,modelValue:{type:[Array,String,Number],default:()=>[]}},emits:[pn,xo],setup(n,{emit:e}){const t=dt("collapse"),i=J([].concat(n.modelValue)),r=o=>{i.value=[].concat(o);const a=n.accordion?i.value[0]:i.value;e(pn,a),e(xo,a)},s=o=>{if(n.accordion)r((i.value[0]||i.value[0]===0)&&i.value[0]===o?"":o);else{const a=i.value.slice(0),l=a.indexOf(o);l>-1?a.splice(l,1):a.push(o),r(a)}};return Ze(()=>n.modelValue,()=>{i.value=[].concat(n.modelValue)},{deep:!0}),vn("collapse",{activeNames:i,handleItemClick:s}),{ns:t,activeNames:i,setActiveNames:r,handleItemClick:s}}});function MUe(n,e,t,i,r,s){return B(),te("div",{class:Z(n.ns.b()),role:"tablist","aria-multiselectable":"true"},[Xe(n.$slots,"default")],2)}var AUe=at(xUe,[["render",MUe]]);const RUe=Me({name:"ElCollapseTransition",setup(){return{ns:dt("collapse-transition"),on:{beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,e.scrollHeight!==0?(e.style.maxHeight=`${e.scrollHeight}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}}}});function OUe(n,e,t,i,r,s){return B(),Oe(Cs,lo({name:n.ns.b()},cue(n.on)),{default:De(()=>[Xe(n.$slots,"default")]),_:3},16,["name"])}var KN=at(RUe,[["render",OUe]]);KN.install=n=>{n.component(KN.name,KN)};const FO=KN,PUe=FO,FUe=Me({name:"ElCollapseItem",components:{ElCollapseTransition:FO,ElIcon:cn,ArrowRight:Hc},props:{title:{type:String,default:""},name:{type:[String,Number],default:()=>JL()},disabled:Boolean},setup(n){const e=mt("collapse"),t=dt("collapse"),i=J({height:"auto",display:"block"}),r=J(0),s=J(!1),o=J(!1),a=J(JL());return{isActive:z(()=>(e==null?void 0:e.activeNames.value.indexOf(n.name))>-1),contentWrapStyle:i,contentHeight:r,focusing:s,isClick:o,id:a,ns:t,handleFocus:()=>{setTimeout(()=>{o.value?o.value=!1:s.value=!0},50)},handleHeaderClick:()=>{n.disabled||(e==null||e.handleItemClick(n.name),s.value=!1,o.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(n.name)},collapse:e}}}),BUe=["aria-expanded","aria-controls","aria-describedby"],$Ue=["id","tabindex"],VUe=["id","aria-hidden","aria-labelledby"];function WUe(n,e,t,i,r,s){const o=Te("arrow-right"),a=Te("el-icon"),l=Te("el-collapse-transition");return B(),te("div",{class:Z([n.ns.b("item"),n.ns.is("active",n.isActive),n.ns.is("disabled",n.disabled)])},[oe("div",{role:"tab","aria-expanded":n.isActive,"aria-controls":n.ns.b(`content-${n.id}`),"aria-describedby":n.ns.b(`content-${n.id}`)},[oe("div",{id:n.ns.b(`head-${n.id}`),class:Z([n.ns.be("item","header"),n.ns.is("active",n.isActive),{focusing:n.focusing}]),role:"button",tabindex:n.disabled?-1:0,onClick:e[0]||(e[0]=(...u)=>n.handleHeaderClick&&n.handleHeaderClick(...u)),onKeyup:e[1]||(e[1]=Cn(Ft((...u)=>n.handleEnterClick&&n.handleEnterClick(...u),["stop"]),["space","enter"])),onFocus:e[2]||(e[2]=(...u)=>n.handleFocus&&n.handleFocus(...u)),onBlur:e[3]||(e[3]=u=>n.focusing=!1)},[Xe(n.$slots,"title",{},()=>[xn(Je(n.title),1)]),be(a,{class:Z([n.ns.be("item","arrow"),n.ns.is("active",n.isActive)])},{default:De(()=>[be(o)]),_:1},8,["class"])],42,$Ue)],8,BUe),be(l,null,{default:De(()=>[Ht(oe("div",{id:n.ns.b(`content-${n.id}`),class:Z(n.ns.be("item","wrap")),role:"tabpanel","aria-hidden":!n.isActive,"aria-labelledby":n.ns.b(`head-${n.id}`)},[oe("div",{class:Z(n.ns.be("item","content"))},[Xe(n.$slots,"default")],2)],10,VUe),[[zn,n.isActive]])]),_:3})],2)}var Rhe=at(FUe,[["render",WUe]]);const HUe=wn(AUe,{CollapseItem:Rhe}),zUe=Ur(Rhe);let iF=!1;function ik(n,e){if(!Kn)return;const t=function(s){var o;(o=e.drag)==null||o.call(e,s)},i=function(s){var o;Lr(document,"mousemove",t),Lr(document,"mouseup",i),Lr(document,"touchmove",t),Lr(document,"touchend",i),document.onselectstart=null,document.ondragstart=null,iF=!1,(o=e.end)==null||o.call(e,s)},r=function(s){var o;iF||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,Vi(document,"mousemove",t),Vi(document,"mouseup",i),Vi(document,"touchmove",t),Vi(document,"touchend",i),iF=!0,(o=e.start)==null||o.call(e,s))};Vi(n,"mousedown",r),Vi(n,"touchstart",r)}const UUe=Me({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(n){const e=en(),t=ra(null),i=ra(null),r=J(0),s=J(0),o=J(null);Ze(()=>n.color.get("alpha"),()=>{h()}),Ze(()=>n.color.value,()=>{h()});function a(){if(n.vertical)return 0;const f=e.vnode.el,g=n.color.get("alpha");return f?Math.round(g*(f.offsetWidth-t.value.offsetWidth/2)/100):0}function l(){const f=e.vnode.el;if(!n.vertical)return 0;const g=n.color.get("alpha");return f?Math.round(g*(f.offsetHeight-t.value.offsetHeight/2)/100):0}function u(){if(n.color&&n.color.value){const{r:f,g,b:p}=n.color.toRgb();return`linear-gradient(to right, rgba(${f}, ${g}, ${p}, 0) 0%, rgba(${f}, ${g}, ${p}, 1) 100%)`}return null}function c(f){f.target!==t.value&&d(f)}function d(f){const p=e.vnode.el.getBoundingClientRect(),{clientX:m,clientY:b}=qz(f);if(n.vertical){let _=b-p.top;_=Math.max(t.value.offsetHeight/2,_),_=Math.min(_,p.height-t.value.offsetHeight/2),n.color.set("alpha",Math.round((_-t.value.offsetHeight/2)/(p.height-t.value.offsetHeight)*100))}else{let _=m-p.left;_=Math.max(t.value.offsetWidth/2,_),_=Math.min(_,p.width-t.value.offsetWidth/2),n.color.set("alpha",Math.round((_-t.value.offsetWidth/2)/(p.width-t.value.offsetWidth)*100))}}function h(){r.value=a(),s.value=l(),o.value=u()}return rn(()=>{const f={drag:g=>{d(g)},end:g=>{d(g)}};ik(i.value,f),ik(t.value,f),h()}),{thumb:t,bar:i,thumbLeft:r,thumbTop:s,background:o,handleClick:c,update:h}}});function jUe(n,e,t,i,r,s){return B(),te("div",{class:Z(["el-color-alpha-slider",{"is-vertical":n.vertical}])},[oe("div",{ref:"bar",class:"el-color-alpha-slider__bar",style:wt({background:n.background}),onClick:e[0]||(e[0]=(...o)=>n.handleClick&&n.handleClick(...o))},null,4),oe("div",{ref:"thumb",class:"el-color-alpha-slider__thumb",style:wt({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,4)],2)}var KUe=at(UUe,[["render",jUe]]);const GUe=Me({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(n){const e=en(),t=J(null),i=J(null),r=J(0),s=J(0),o=z(()=>n.color.get("hue"));Ze(()=>o.value,()=>{d()});function a(h){h.target!==t.value&&l(h)}function l(h){const g=e.vnode.el.getBoundingClientRect(),{clientX:p,clientY:m}=qz(h);let b;if(n.vertical){let _=m-g.top;_=Math.min(_,g.height-t.value.offsetHeight/2),_=Math.max(t.value.offsetHeight/2,_),b=Math.round((_-t.value.offsetHeight/2)/(g.height-t.value.offsetHeight)*360)}else{let _=p-g.left;_=Math.min(_,g.width-t.value.offsetWidth/2),_=Math.max(t.value.offsetWidth/2,_),b=Math.round((_-t.value.offsetWidth/2)/(g.width-t.value.offsetWidth)*360)}n.color.set("hue",b)}function u(){const h=e.vnode.el;if(n.vertical)return 0;const f=n.color.get("hue");return h?Math.round(f*(h.offsetWidth-t.value.offsetWidth/2)/360):0}function c(){const h=e.vnode.el;if(!n.vertical)return 0;const f=n.color.get("hue");return h?Math.round(f*(h.offsetHeight-t.value.offsetHeight/2)/360):0}function d(){r.value=u(),s.value=c()}return rn(()=>{const h={drag:f=>{l(f)},end:f=>{l(f)}};ik(i.value,h),ik(t.value,h),d()}),{bar:i,thumb:t,thumbLeft:r,thumbTop:s,hueValue:o,handleClick:a,update:d}}});function qUe(n,e,t,i,r,s){return B(),te("div",{class:Z(["el-color-hue-slider",{"is-vertical":n.vertical}])},[oe("div",{ref:"bar",class:"el-color-hue-slider__bar",onClick:e[0]||(e[0]=(...o)=>n.handleClick&&n.handleClick(...o))},null,512),oe("div",{ref:"thumb",class:"el-color-hue-slider__thumb",style:wt({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,4)],2)}var YUe=at(GUe,[["render",qUe]]);const Ohe=Symbol(),XUe=()=>mt(Ohe),See=function(n,e,t){return[n,e*t/((n=(2-e)*t)<1?n:2-n)||0,n/2]},ZUe=function(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1},QUe=function(n){return typeof n=="string"&&n.indexOf("%")!==-1},BC=function(n,e){ZUe(n)&&(n="100%");const t=QUe(n);return n=Math.min(e,Math.max(0,parseFloat(`${n}`))),t&&(n=parseInt(`${n*e}`,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)},Lee={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},GN=function(n){n=Math.min(Math.round(n),255);const e=Math.floor(n/16),t=n%16;return`${Lee[e]||e}${Lee[t]||t}`},kee=function({r:n,g:e,b:t}){return isNaN(n)||isNaN(e)||isNaN(t)?"":`#${GN(n)}${GN(e)}${GN(t)}`},rF={A:10,B:11,C:12,D:13,E:14,F:15},jv=function(n){return n.length===2?(rF[n[0].toUpperCase()]||+n[0])*16+(rF[n[1].toUpperCase()]||+n[1]):rF[n[1].toUpperCase()]||+n[1]},JUe=function(n,e,t){e=e/100,t=t/100;let i=e;const r=Math.max(t,.01);t*=2,e*=t<=1?t:2-t,i*=r<=1?r:2-r;const s=(t+e)/2,o=t===0?2*i/(r+i):2*e/(t+e);return{h:n,s:o*100,v:s*100}},Eee=function(n,e,t){n=BC(n,255),e=BC(e,255),t=BC(t,255);const i=Math.max(n,e,t),r=Math.min(n,e,t);let s;const o=i,a=i-r,l=i===0?0:a/i;if(i===r)s=0;else{switch(i){case n:{s=(e-t)/a+(e<t?6:0);break}case e:{s=(t-n)/a+2;break}case t:{s=(n-e)/a+4;break}}s/=6}return{h:s*360,s:l*100,v:o*100}},DS=function(n,e,t){n=BC(n,360)*6,e=BC(e,100),t=BC(t,100);const i=Math.floor(n),r=n-i,s=t*(1-e),o=t*(1-r*e),a=t*(1-(1-r)*e),l=i%6,u=[t,o,s,s,a,t][l],c=[a,t,t,o,s,s][l],d=[s,s,a,t,t,o][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(d*255)}};class P2{constructor(e){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{};for(const t in e)uo(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(arguments.length===1&&typeof e=="object"){for(const i in e)uo(e,i)&&this.set(i,e[i]);return}this[`_${e}`]=t,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return DS(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const t=(i,r,s)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(e.indexOf("hsl")!==-1){const i=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?parseFloat(r):parseInt(r,10));if(i.length===4?this._alpha=parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s,v:o}=JUe(i[0],i[1],i[2]);t(r,s,o)}}else if(e.indexOf("hsv")!==-1){const i=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?parseFloat(r):parseInt(r,10));i.length===4?this._alpha=parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&t(i[0],i[1],i[2])}else if(e.indexOf("rgb")!==-1){const i=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,s)=>s>2?parseFloat(r):parseInt(r,10));if(i.length===4?this._alpha=parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s,v:o}=Eee(i[0],i[1],i[2]);t(r,s,o)}}else if(e.indexOf("#")!==-1){const i=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let r,s,o;i.length===3?(r=jv(i[0]+i[0]),s=jv(i[1]+i[1]),o=jv(i[2]+i[2])):(i.length===6||i.length===8)&&(r=jv(i.substring(0,2)),s=jv(i.substring(2,4)),o=jv(i.substring(4,6))),i.length===8?this._alpha=jv(i.substring(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h:a,s:l,v:u}=Eee(r,s,o);t(a,l,u)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:i,_alpha:r,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const o=See(e,t/100,i/100);this.value=`hsla(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${kee(DS(e,t,i))}${GN(r*255/100)}`;break}default:{const{r:o,g:a,b:l}=DS(e,t,i);this.value=`rgba(${o}, ${a}, ${l}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const o=See(e,t/100,i/100);this.value=`hsl(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:o,g:a,b:l}=DS(e,t,i);this.value=`rgb(${o}, ${a}, ${l})`;break}default:this.value=kee(DS(e,t,i))}}}const eje=Me({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(n){const{currentColor:e}=XUe(),t=J(r(n.colors,n.color));Ze(()=>e.value,s=>{const o=new P2;o.fromString(s),t.value.forEach(a=>{a.selected=o.compare(a)})}),yd(()=>{t.value=r(n.colors,n.color)});function i(s){n.color.fromString(n.colors[s])}function r(s,o){return s.map(a=>{const l=new P2;return l.enableAlpha=!0,l.format="rgba",l.fromString(a),l.selected=l.value===o.value,l})}return{rgbaColors:t,handleSelect:i}}}),tje={class:"el-color-predefine"},nje={class:"el-color-predefine__colors"},ije=["onClick"];function rje(n,e,t,i,r,s){return B(),te("div",tje,[oe("div",nje,[(B(!0),te(kt,null,$n(n.rgbaColors,(o,a)=>(B(),te("div",{key:n.colors[a],class:Z(["el-color-predefine__color-selector",{selected:o.selected,"is-alpha":o._alpha<100}]),onClick:l=>n.handleSelect(a)},[oe("div",{style:wt({backgroundColor:o.value})},null,4)],10,ije))),128))])])}var sje=at(eje,[["render",rje]]);const oje=Me({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(n){const e=en(),t=J(0),i=J(0),r=J("hsl(0, 100%, 50%)"),s=z(()=>{const l=n.color.get("hue"),u=n.color.get("value");return{hue:l,value:u}});function o(){const l=n.color.get("saturation"),u=n.color.get("value"),c=e.vnode.el,{clientWidth:d,clientHeight:h}=c;i.value=l*d/100,t.value=(100-u)*h/100,r.value=`hsl(${n.color.get("hue")}, 100%, 50%)`}function a(l){const c=e.vnode.el.getBoundingClientRect(),{clientX:d,clientY:h}=qz(l);let f=d-c.left,g=h-c.top;f=Math.max(0,f),f=Math.min(f,c.width),g=Math.max(0,g),g=Math.min(g,c.height),i.value=f,t.value=g,n.color.set({saturation:f/c.width*100,value:100-g/c.height*100})}return Ze(()=>s.value,()=>{o()}),rn(()=>{ik(e.vnode.el,{drag:l=>{a(l)},end:l=>{a(l)}}),o()}),{cursorTop:t,cursorLeft:i,background:r,colorValue:s,handleDrag:a,update:o}}}),aje=oe("div",{class:"el-color-svpanel__white"},null,-1),lje=oe("div",{class:"el-color-svpanel__black"},null,-1),uje=oe("div",null,null,-1),cje=[uje];function dje(n,e,t,i,r,s){return B(),te("div",{class:"el-color-svpanel",style:wt({backgroundColor:n.background})},[aje,lje,oe("div",{class:"el-color-svpanel__cursor",style:wt({top:n.cursorTop+"px",left:n.cursorLeft+"px"})},cje,4)],4)}var hje=at(oje,[["render",dje]]);const fje=Me({name:"ElColorPicker",components:{ElButton:hf,ElTooltip:Ql,ElInput:zc,ElIcon:cn,Close:Td,ArrowDown:w1,SvPanel:hje,HueSlider:YUe,AlphaSlider:KUe,Predefine:sje},directives:{ClickOutside:wv},props:{modelValue:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:zl},popperClass:String,predefine:Array},emits:["change","active-change",pn],setup(n,{emit:e}){const{t}=Oi(),i=dt("color"),r=mt(Zl,{}),s=mt(Kd,{}),o=J(null),a=J(null),l=J(null),u=J(null),c=xi(new P2({enableAlpha:n.showAlpha,format:n.colorFormat,value:n.modelValue})),d=J(!1),h=J(!1),f=J(""),g=z(()=>!n.modelValue&&!h.value?"transparent":_(c,n.showAlpha)),p=As(),m=z(()=>!!(n.disabled||r.disabled)),b=z(()=>!n.modelValue&&!h.value?"":c.value);Ze(()=>n.modelValue,A=>{A?A&&A!==c.value&&c.fromString(A):h.value=!1}),Ze(()=>b.value,A=>{f.value=A,e("active-change",A)}),Ze(()=>c.value,()=>{!n.modelValue&&!h.value&&(h.value=!0)});function _(A,O){if(!(A instanceof P2))throw Error("color should be instance of _color Class");const{r:F,g:U,b:V}=A.toRgb();return O?`rgba(${F}, ${U}, ${V}, ${A.get("alpha")/100})`:`rgb(${F}, ${U}, ${V})`}function C(A){d.value=A}const w=Hl(C,100);function S(){w(!1),D()}function D(){Nt(()=>{n.modelValue?c.fromString(n.modelValue):h.value=!1})}function E(){m.value||w(!d.value)}function I(){c.fromString(f.value)}function T(){var A;const O=c.value;e(pn,O),e("change",O),(A=s.validate)==null||A.call(s,"change"),w(!1),Nt(()=>{const F=new P2({enableAlpha:n.showAlpha,format:n.colorFormat,value:n.modelValue});c.compare(F)||D()})}function M(){var A;w(!1),e(pn,null),e("change",null),n.modelValue!==null&&((A=s.validate)==null||A.call(s,"change")),D()}return rn(()=>{n.modelValue&&(f.value=b.value)}),Ze(()=>d.value,()=>{Nt(()=>{var A,O,F;(A=o.value)==null||A.update(),(O=a.value)==null||O.update(),(F=l.value)==null||F.update()})}),vn(Ohe,{currentColor:b}),{color:c,colorDisabled:m,colorSize:p,displayedColor:g,showPanelColor:h,showPicker:d,customInput:f,handleConfirm:I,hide:S,handleTrigger:E,clear:M,confirmValue:T,t,ns:i,hue:o,svPanel:a,alpha:l,popper:u}}});function gje(n,e,t,i,r,s){const o=Te("hue-slider"),a=Te("sv-panel"),l=Te("alpha-slider"),u=Te("predefine"),c=Te("el-input"),d=Te("el-button"),h=Te("arrow-down"),f=Te("el-icon"),g=Te("close"),p=Te("el-tooltip"),m=xa("click-outside");return B(),Oe(p,{ref:"popper",visible:n.showPicker,"onUpdate:visible":e[2]||(e[2]=b=>n.showPicker=b),"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[n.ns.be("picker","panel"),n.ns.b("dropdown"),n.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:"el-zoom-in-top",persistent:""},{content:De(()=>[Ht((B(),te("div",null,[oe("div",{class:Z(n.ns.be("dropdown","main-wrapper"))},[be(o,{ref:"hue",class:"hue-slider",color:n.color,vertical:""},null,8,["color"]),be(a,{ref:"svPanel",color:n.color},null,8,["color"])],2),n.showAlpha?(B(),Oe(l,{key:0,ref:"alpha",color:n.color},null,8,["color"])):Fe("v-if",!0),n.predefine?(B(),Oe(u,{key:1,ref:"predefine",color:n.color,colors:n.predefine},null,8,["color","colors"])):Fe("v-if",!0),oe("div",{class:Z(n.ns.be("dropdown","btns"))},[oe("span",{class:Z(n.ns.be("dropdown","value"))},[be(c,{modelValue:n.customInput,"onUpdate:modelValue":e[0]||(e[0]=b=>n.customInput=b),"validate-event":!1,size:"small",onKeyup:Cn(n.handleConfirm,["enter"]),onBlur:n.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])],2),be(d,{size:"small",type:"text",class:Z(n.ns.be("dropdown","link-btn")),onClick:n.clear},{default:De(()=>[xn(Je(n.t("el.colorpicker.clear")),1)]),_:1},8,["class","onClick"]),be(d,{plain:"",size:"small",class:Z(n.ns.be("dropdown","btn")),onClick:n.confirmValue},{default:De(()=>[xn(Je(n.t("el.colorpicker.confirm")),1)]),_:1},8,["class","onClick"])],2)])),[[m,n.hide]])]),default:De(()=>[oe("div",{class:Z([n.ns.b("picker"),n.ns.is("disabled",n.colorDisabled),n.ns.bm("picker",n.colorSize)])},[n.colorDisabled?(B(),te("div",{key:0,class:Z(n.ns.be("picker","mask"))},null,2)):Fe("v-if",!0),oe("div",{class:Z(n.ns.be("picker","trigger")),onClick:e[1]||(e[1]=(...b)=>n.handleTrigger&&n.handleTrigger(...b))},[oe("span",{class:Z([n.ns.be("picker","color"),n.ns.is("alpha",n.showAlpha)])},[oe("span",{class:Z(n.ns.be("picker","color-inner")),style:wt({backgroundColor:n.displayedColor})},[Ht(be(f,{class:Z([n.ns.be("picker","icon"),n.ns.is("icon-arrow-down")])},{default:De(()=>[be(h)]),_:1},8,["class"]),[[zn,n.modelValue||n.showPanelColor]]),!n.modelValue&&!n.showPanelColor?(B(),Oe(f,{key:0,class:Z([n.ns.be("picker","empty"),n.ns.is("icon-close")])},{default:De(()=>[be(g)]),_:1},8,["class"])):Fe("v-if",!0)],6)],2)],2)],2)]),_:1},8,["visible","popper-class"])}var qN=at(fje,[["render",gje]]);qN.install=n=>{n.component(qN.name,qN)};const pje=qN,mje=pje,r9={},vje=Wt({locale:{type:It(Object)},size:{type:String,values:["large","default","small"]},button:{type:It(Object)},message:{type:It(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});var _je=Me({name:"ElConfigProvider",props:vje,setup(n,{slots:e}){Ze(()=>n.message,i=>{Object.assign(r9,i!=null?i:{})},{immediate:!0,deep:!0});const t=wde(n);return()=>Xe(e,"default",{config:t==null?void 0:t.value})}});const bje=wn(_je),Cje=Me({name:"ElContainer",props:{direction:{type:String,default:""}},setup(n,{slots:e}){const t=dt("container");return{isVertical:z(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:e&&e.default?e.default().some(s=>{const o=s.type.name;return o==="ElHeader"||o==="ElFooter"}):!1),ns:t}}});function yje(n,e,t,i,r,s){return B(),te("section",{class:Z([n.ns.b(),n.ns.is("vertical",n.isVertical)])},[Xe(n.$slots,"default")],2)}var wje=at(Cje,[["render",yje]]);const Sje=Me({name:"ElAside",props:{width:{type:String,default:null}},setup(n){const e=dt("aside");return{style:z(()=>n.width?{"--el-aside-width":n.width}:{}),ns:e}}});function Lje(n,e,t,i,r,s){return B(),te("aside",{class:Z(n.ns.b()),style:wt(n.style)},[Xe(n.$slots,"default")],6)}var Phe=at(Sje,[["render",Lje]]);const kje=Me({name:"ElFooter",props:{height:{type:String,default:null}},setup(n){const e=dt("footer");return{style:z(()=>n.height?{"--el-footer-height":n.height}:{}),ns:e}}});function Eje(n,e,t,i,r,s){return B(),te("footer",{class:Z(n.ns.b()),style:wt(n.style)},[Xe(n.$slots,"default")],6)}var Fhe=at(kje,[["render",Eje]]);const Dje=Me({name:"ElHeader",props:{height:{type:String,default:null}},setup(n){const e=dt("header");return{style:z(()=>n.height?{"--el-header-height":n.height}:{}),ns:e}}});function Ije(n,e,t,i,r,s){return B(),te("header",{class:Z(n.ns.b()),style:wt(n.style)},[Xe(n.$slots,"default")],6)}var Bhe=at(Dje,[["render",Ije]]);const Tje=Me({name:"ElMain",setup(){return{ns:dt("main")}}});function Nje(n,e,t,i,r,s){return B(),te("main",{class:Z(n.ns.b())},[Xe(n.$slots,"default")],2)}var $he=at(Tje,[["render",Nje]]);const xje=wn(wje,{Aside:Phe,Footer:Fhe,Header:Bhe,Main:$he}),Mje=Ur(Phe),Aje=Ur(Fhe),Rje=Ur(Bhe),Oje=Ur($he);var Vhe={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){return function(t,i,r){var s=i.prototype,o=s.format;r.en.ordinal=function(a){var l=["th","st","nd","rd"],u=a%100;return"["+a+(l[(u-20)%10]||l[u]||l[0])+"]"},s.format=function(a){var l=this,u=this.$locale();if(!this.isValid())return o.bind(this)(a);var c=this.$utils(),d=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(h){switch(h){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return u.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return u.ordinal(l.week(),"W");case"w":case"ww":return c.s(l.week(),h==="w"?1:2,"0");case"W":case"WW":return c.s(l.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return c.s(String(l.$H===0?24:l.$H),h==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return h}});return o.bind(this)(d)}}})})(Vhe);var Pje=Vhe.exports,Whe={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){var t="week",i="year";return function(r,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(i).add(1,i).date(u),d=o(this).endOf(t);if(c.isBefore(d))return 1}var h=o(this).startOf(i).date(u).startOf(t).subtract(1,"millisecond"),f=this.diff(h,t,!0);return f<0?o(this).startOf("week").week():Math.ceil(f)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(Whe);var Fje=Whe.exports,Hhe={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){return function(t,i){i.prototype.weekYear=function(){var r=this.month(),s=this.week(),o=this.year();return s===1&&r===11?o+1:r===0&&s>=52?o-1:o}}})})(Hhe);var Bje=Hhe.exports,zhe={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){return function(t,i,r){i.prototype.dayOfYear=function(s){var o=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return s==null?o:this.add(s-o,"day")}}})})(zhe);var $je=zhe.exports,Uhe={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){return function(t,i){i.prototype.isSameOrAfter=function(r,s){return this.isSame(r,s)||this.isAfter(r,s)}}})})(Uhe);var Vje=Uhe.exports,jhe={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(zo,function(){return function(t,i){i.prototype.isSameOrBefore=function(r,s){return this.isSame(r,s)||this.isBefore(r,s)}}})})(jhe);var Wje=jhe.exports;const Khe=Symbol();var Hje=Me({name:"ElDatePickerCell",props:Wt({cell:{type:It(Object)}}),setup(n){const e=mt(Khe);return()=>{const t=n.cell;if(e==null?void 0:e.ctx.slots.default){const i=e.ctx.slots.default(t).filter(r=>r.patchFlag!==-2&&r.type.toString()!=="Symbol(Comment)");if(i.length)return i}return st("div",{class:"el-date-table-cell"},[st("span",{class:"el-date-table-cell__text"},[t==null?void 0:t.text])])}}});const zje=Me({components:{ElDatePickerCell:Hje},props:{date:{type:Object},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},selectionMode:{type:String,default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{type:Function},cellClassName:{type:Function},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(n,e){const{t,lang:i}=Oi(),r=J(null),s=J(null),o=J([[],[],[],[],[],[]]),a=n.date.$locale().weekStart||7,l=n.date.locale("en").localeData().weekdaysShort().map(w=>w.toLowerCase()),u=z(()=>a>3?7-a:-a),c=z(()=>{const w=n.date.startOf("month");return w.subtract(w.day()||7,"day")}),d=z(()=>l.concat(l).slice(a,a+7)),h=z(()=>{var w;const S=n.date.startOf("month"),D=S.day()||7,E=S.daysInMonth(),I=S.subtract(1,"month").daysInMonth(),T=u.value,M=o.value;let A=1;const O=n.selectionMode==="dates"?e_(n.parsedValue):[],F=jt().locale(i.value).startOf("day");for(let U=0;U<6;U++){const V=M[U];n.showWeekNumber&&(V[0]||(V[0]={type:"week",text:c.value.add(U*7+1,"day").week()}));for(let G=0;G<7;G++){let j=V[n.showWeekNumber?G+1:G];j||(j={row:U,column:G,type:"normal",inRange:!1,start:!1,end:!1});const X=U*7+G,ie=c.value.add(X-T,"day");j.dayjs=ie,j.date=ie.toDate(),j.timestamp=ie.valueOf(),j.type="normal";const Ce=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate;if(j.inRange=n.minDate&&ie.isSameOrAfter(n.minDate,"day")&&Ce&&ie.isSameOrBefore(Ce,"day")||n.minDate&&ie.isSameOrBefore(n.minDate,"day")&&Ce&&ie.isSameOrAfter(Ce,"day"),((w=n.minDate)==null?void 0:w.isSameOrAfter(Ce))?(j.start=Ce&&ie.isSame(Ce,"day"),j.end=n.minDate&&ie.isSame(n.minDate,"day")):(j.start=n.minDate&&ie.isSame(n.minDate,"day"),j.end=Ce&&ie.isSame(Ce,"day")),ie.isSame(F,"day")&&(j.type="today"),U>=0&&U<=1){const ke=D+T<0?7+D+T:D+T;G+U*7>=ke?j.text=A++:(j.text=I-(ke-G%7)+1+U*7,j.type="prev-month")}else A<=E?j.text=A++:(j.text=A++-E,j.type="next-month");const we=ie.toDate();j.selected=O.find(ke=>ke.valueOf()===ie.valueOf()),j.isSelected=!!j.selected,j.isCurrent=f(j),j.disabled=n.disabledDate&&n.disabledDate(we),j.customClass=n.cellClassName&&n.cellClassName(we),V[n.showWeekNumber?G+1:G]=j}if(n.selectionMode==="week"){const G=n.showWeekNumber?1:0,j=n.showWeekNumber?7:6,X=C(V[G+1]);V[G].inRange=X,V[G].start=X,V[j].inRange=X,V[j].end=X}}return M}),f=w=>n.selectionMode==="day"&&(w.type==="normal"||w.type==="today")&&g(w,n.parsedValue),g=(w,S)=>S?jt(S).locale(i.value).isSame(n.date.date(Number(w.text)),"day"):!1,p=w=>{const S=[];return(w.type==="normal"||w.type==="today")&&!w.disabled?(S.push("available"),w.type==="today"&&S.push("today")):S.push(w.type),f(w)&&S.push("current"),w.inRange&&(w.type==="normal"||w.type==="today"||n.selectionMode==="week")&&(S.push("in-range"),w.start&&S.push("start-date"),w.end&&S.push("end-date")),w.disabled&&S.push("disabled"),w.selected&&S.push("selected"),w.customClass&&S.push(w.customClass),S.join(" ")},m=(w,S)=>{const D=w*7+(S-(n.showWeekNumber?1:0))-u.value;return c.value.add(D,"day")},b=w=>{if(!n.rangeState.selecting)return;let S=w.target;if(S.tagName==="SPAN"&&(S=S.parentNode.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const D=S.parentNode.rowIndex-1,E=S.cellIndex;h.value[D][E].disabled||(D!==r.value||E!==s.value)&&(r.value=D,s.value=E,e.emit("changerange",{selecting:!0,endDate:m(D,E)}))},_=w=>{let S=w.target;for(;S&&S.tagName!=="TD";)S=S.parentNode;if(!S||S.tagName!=="TD")return;const D=S.parentNode.rowIndex-1,E=S.cellIndex,I=h.value[D][E];if(I.disabled||I.type==="week")return;const T=m(D,E);if(n.selectionMode==="range")n.rangeState.selecting?(T>=n.minDate?e.emit("pick",{minDate:n.minDate,maxDate:T}):e.emit("pick",{minDate:T,maxDate:n.minDate}),e.emit("select",!1)):(e.emit("pick",{minDate:T,maxDate:null}),e.emit("select",!0));else if(n.selectionMode==="day")e.emit("pick",T);else if(n.selectionMode==="week"){const M=T.week(),A=`${T.year()}w${M}`;e.emit("pick",{year:T.year(),week:M,value:A,date:T.startOf("week")})}else if(n.selectionMode==="dates"){const M=I.selected?e_(n.parsedValue).filter(A=>A.valueOf()!==T.valueOf()):e_(n.parsedValue).concat([T]);e.emit("pick",M)}},C=w=>{if(n.selectionMode!=="week")return!1;let S=n.date.startOf("day");if(w.type==="prev-month"&&(S=S.subtract(1,"month")),w.type==="next-month"&&(S=S.add(1,"month")),S=S.date(parseInt(w.text,10)),n.parsedValue&&!Array.isArray(n.parsedValue)){const D=(n.parsedValue.day()-a+7)%7-1;return n.parsedValue.subtract(D,"day").isSame(S,"day")}return!1};return{handleMouseMove:b,t,rows:h,isWeekActive:C,getCellClasses:p,WEEKS:d,handleClick:_}}}),Uje={key:0};function jje(n,e,t,i,r,s){const o=Te("el-date-picker-cell");return B(),te("table",{cellspacing:"0",cellpadding:"0",class:Z(["el-date-table",{"is-week-mode":n.selectionMode==="week"}]),onClick:e[0]||(e[0]=(...a)=>n.handleClick&&n.handleClick(...a)),onMousemove:e[1]||(e[1]=(...a)=>n.handleMouseMove&&n.handleMouseMove(...a))},[oe("tbody",null,[oe("tr",null,[n.showWeekNumber?(B(),te("th",Uje,Je(n.t("el.datepicker.week")),1)):Fe("v-if",!0),(B(!0),te(kt,null,$n(n.WEEKS,(a,l)=>(B(),te("th",{key:l},Je(n.t("el.datepicker.weeks."+a)),1))),128))]),(B(!0),te(kt,null,$n(n.rows,(a,l)=>(B(),te("tr",{key:l,class:Z(["el-date-table__row",{current:n.isWeekActive(a[1])}])},[(B(!0),te(kt,null,$n(a,(u,c)=>(B(),te("td",{key:c,class:Z(n.getCellClasses(u))},[be(o,{cell:u},null,8,["cell"])],2))),128))],2))),128))])],34)}var Ghe=at(zje,[["render",jje]]);const Kje=(n,e,t)=>{const i=jt().locale(t).startOf("month").month(e).year(n),r=i.daysInMonth();return mm(r).map(s=>i.add(s,"day").toDate())},Gje=Me({props:{disabledDate:{type:Function},selectionMode:{type:String,default:"month"},minDate:{type:Object},maxDate:{type:Object},date:{type:Object},parsedValue:{type:Object},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(n,e){const{t,lang:i}=Oi(),r=J(n.date.locale("en").localeData().monthsShort().map(h=>h.toLowerCase())),s=J([[],[],[]]),o=J(null),a=J(null),l=z(()=>{var h;const f=s.value,g=jt().locale(i.value).startOf("month");for(let p=0;p<3;p++){const m=f[p];for(let b=0;b<4;b++){let _=m[b];_||(_={row:p,column:b,type:"normal",inRange:!1,start:!1,end:!1}),_.type="normal";const C=p*4+b,w=n.date.startOf("year").month(C),S=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate;_.inRange=n.minDate&&w.isSameOrAfter(n.minDate,"month")&&S&&w.isSameOrBefore(S,"month")||n.minDate&&w.isSameOrBefore(n.minDate,"month")&&S&&w.isSameOrAfter(S,"month"),((h=n.minDate)==null?void 0:h.isSameOrAfter(S))?(_.start=S&&w.isSame(S,"month"),_.end=n.minDate&&w.isSame(n.minDate,"month")):(_.start=n.minDate&&w.isSame(n.minDate,"month"),_.end=S&&w.isSame(S,"month")),g.isSame(w)&&(_.type="today"),_.text=C;const E=w.toDate();_.disabled=n.disabledDate&&n.disabledDate(E),m[b]=_}}return f});return{handleMouseMove:h=>{if(!n.rangeState.selecting)return;let f=h.target;if(f.tagName==="A"&&(f=f.parentNode.parentNode),f.tagName==="DIV"&&(f=f.parentNode),f.tagName!=="TD")return;const g=f.parentNode.rowIndex,p=f.cellIndex;l.value[g][p].disabled||(g!==o.value||p!==a.value)&&(o.value=g,a.value=p,e.emit("changerange",{selecting:!0,endDate:n.date.startOf("year").month(g*4+p)}))},handleMonthTableClick:h=>{let f=h.target;if(f.tagName==="A"&&(f=f.parentNode.parentNode),f.tagName==="DIV"&&(f=f.parentNode),f.tagName!=="TD"||Sd(f,"disabled"))return;const g=f.cellIndex,m=f.parentNode.rowIndex*4+g,b=n.date.startOf("year").month(m);n.selectionMode==="range"?n.rangeState.selecting?(b>=n.minDate?e.emit("pick",{minDate:n.minDate,maxDate:b}):e.emit("pick",{minDate:b,maxDate:n.minDate}),e.emit("select",!1)):(e.emit("pick",{minDate:b,maxDate:null}),e.emit("select",!0)):e.emit("pick",m)},rows:l,getCellStyle:h=>{const f={},g=n.date.year(),p=new Date,m=h.text;return f.disabled=n.disabledDate?Kje(g,m,i.value).every(n.disabledDate):!1,f.current=e_(n.parsedValue).findIndex(b=>b.year()===g&&b.month()===m)>=0,f.today=p.getFullYear()===g&&p.getMonth()===m,h.inRange&&(f["in-range"]=!0,h.start&&(f["start-date"]=!0),h.end&&(f["end-date"]=!0)),f},t,months:r}}}),qje={class:"cell"};function Yje(n,e,t,i,r,s){return B(),te("table",{class:"el-month-table",onClick:e[0]||(e[0]=(...o)=>n.handleMonthTableClick&&n.handleMonthTableClick(...o)),onMousemove:e[1]||(e[1]=(...o)=>n.handleMouseMove&&n.handleMouseMove(...o))},[oe("tbody",null,[(B(!0),te(kt,null,$n(n.rows,(o,a)=>(B(),te("tr",{key:a},[(B(!0),te(kt,null,$n(o,(l,u)=>(B(),te("td",{key:u,class:Z(n.getCellStyle(l))},[oe("div",null,[oe("a",qje,Je(n.t("el.datepicker.months."+n.months[l.text])),1)])],2))),128))]))),128))])],32)}var qhe=at(Gje,[["render",Yje]]);const Xje=(n,e)=>{const t=jt(String(n)).locale(e).startOf("year"),r=t.endOf("year").dayOfYear();return mm(r).map(s=>t.add(s,"day").toDate())},Zje=Me({props:{disabledDate:{type:Function},parsedValue:{type:Object},date:{type:Object}},emits:["pick"],setup(n,e){const{lang:t}=Oi();return{startYear:z(()=>Math.floor(n.date.year()/10)*10),getCellStyle:o=>{const a={},l=jt().locale(t.value);return a.disabled=n.disabledDate?Xje(o,t.value).every(n.disabledDate):!1,a.current=e_(n.parsedValue).findIndex(u=>u.year()===o)>=0,a.today=l.year()===o,a},handleYearTableClick:o=>{const a=o.target;if(a.tagName==="A"){if(Sd(a.parentNode,"disabled"))return;const l=a.textContent||a.innerText;e.emit("pick",Number(l))}}}}}),Qje={class:"cell"},Jje={class:"cell"},eKe={class:"cell"},tKe={class:"cell"},nKe={class:"cell"},iKe={class:"cell"},rKe={class:"cell"},sKe={class:"cell"},oKe={class:"cell"},aKe={class:"cell"},lKe=oe("td",null,null,-1),uKe=oe("td",null,null,-1);function cKe(n,e,t,i,r,s){return B(),te("table",{class:"el-year-table",onClick:e[0]||(e[0]=(...o)=>n.handleYearTableClick&&n.handleYearTableClick(...o))},[oe("tbody",null,[oe("tr",null,[oe("td",{class:Z(["available",n.getCellStyle(n.startYear+0)])},[oe("a",Qje,Je(n.startYear),1)],2),oe("td",{class:Z(["available",n.getCellStyle(n.startYear+1)])},[oe("a",Jje,Je(n.startYear+1),1)],2),oe("td",{class:Z(["available",n.getCellStyle(n.startYear+2)])},[oe("a",eKe,Je(n.startYear+2),1)],2),oe("td",{class:Z(["available",n.getCellStyle(n.startYear+3)])},[oe("a",tKe,Je(n.startYear+3),1)],2)]),oe("tr",null,[oe("td",{class:Z(["available",n.getCellStyle(n.startYear+4)])},[oe("a",nKe,Je(n.startYear+4),1)],2),oe("td",{class:Z(["available",n.getCellStyle(n.startYear+5)])},[oe("a",iKe,Je(n.startYear+5),1)],2),oe("td",{class:Z(["available",n.getCellStyle(n.startYear+6)])},[oe("a",rKe,Je(n.startYear+6),1)],2),oe("td",{class:Z(["available",n.getCellStyle(n.startYear+7)])},[oe("a",sKe,Je(n.startYear+7),1)],2)]),oe("tr",null,[oe("td",{class:Z(["available",n.getCellStyle(n.startYear+8)])},[oe("a",oKe,Je(n.startYear+8),1)],2),oe("td",{class:Z(["available",n.getCellStyle(n.startYear+9)])},[oe("a",aKe,Je(n.startYear+9),1)],2),lKe,uKe])])])}var dKe=at(Zje,[["render",cKe]]);const hKe=(n,e,t)=>!0,fKe=Me({components:{DateTable:Ghe,ElInput:zc,ElButton:hf,ElIcon:cn,TimePickPanel:gU,MonthTable:qhe,YearTable:dKe,DArrowLeft:DO,ArrowLeft:S1,DArrowRight:IO,ArrowRight:Hc},directives:{clickoutside:wv},props:{visible:{type:Boolean,default:!1},parsedValue:{type:[Object,Array]},format:{type:String,default:""},type:{type:String,required:!0,validator:hde}},emits:["pick","set-picker-option","panel-change"],setup(n,e){const{t,lang:i}=Oi(),r=mt("EP_PICKER_BASE"),s=mt(OO),{shortcuts:o,disabledDate:a,cellClassName:l,defaultTime:u,arrowControl:c}=r.props,d=Uo(r.props,"defaultValue"),h=J(jt().locale(i.value)),f=z(()=>jt(u).locale(i.value)),g=z(()=>h.value.month()),p=z(()=>h.value.year()),m=J([]),b=J(null),_=J(null),C=R=>m.value.length>0?hKe(R,m.value,n.format||"HH:mm:ss"):!0,w=R=>u&&!pe.value?f.value.year(R.year()).month(R.month()).date(R.date()):Ce.value?R.millisecond(0):R.startOf("day"),S=(R,...H)=>{if(!R)e.emit("pick",R,...H);else if(Array.isArray(R)){const W=R.map(w);e.emit("pick",W,...H)}else e.emit("pick",w(R),...H);b.value=null,_.value=null},D=R=>{if(U.value==="day"){let H=n.parsedValue?n.parsedValue.year(R.year()).month(R.month()).date(R.date()):R;C(H)||(H=m.value[0][0].year(R.year()).month(R.month()).date(R.date())),h.value=H,S(H,Ce.value)}else U.value==="week"?S(R.date):U.value==="dates"&&S(R,!0)},E=()=>{h.value=h.value.subtract(1,"month"),x("month")},I=()=>{h.value=h.value.add(1,"month"),x("month")},T=()=>{A.value==="year"?h.value=h.value.subtract(10,"year"):h.value=h.value.subtract(1,"year"),x("year")},M=()=>{A.value==="year"?h.value=h.value.add(10,"year"):h.value=h.value.add(1,"year"),x("year")},A=J("date"),O=z(()=>{const R=t("el.datepicker.year");if(A.value==="year"){const H=Math.floor(p.value/10)*10;return R?`${H} ${R} - ${H+9} ${R}`:`${H} - ${H+9}`}return`${p.value} ${R}`}),F=R=>{const H=typeof R.value=="function"?R.value():R.value;if(H){S(jt(H).locale(i.value));return}R.onClick&&R.onClick(e)},U=z(()=>["week","month","year","dates"].includes(n.type)?n.type:"day");Ze(()=>U.value,R=>{if(["month","year"].includes(R)){A.value=R;return}A.value="date"},{immediate:!0}),Ze(()=>A.value,()=>{s==null||s.updatePopper()});const V=z(()=>!!o.length),G=R=>{h.value=h.value.startOf("month").month(R),U.value==="month"?S(h.value):A.value="date",x("month")},j=R=>{U.value==="year"?(h.value=h.value.startOf("year").year(R),S(h.value)):(h.value=h.value.year(R),A.value="month"),x("year")},X=()=>{A.value="month"},ie=()=>{A.value="year"},Ce=z(()=>n.type==="datetime"||n.type==="datetimerange"),Be=z(()=>Ce.value||U.value==="dates"),we=()=>{if(U.value==="dates")S(n.parsedValue);else{let R=n.parsedValue;if(!R){const H=jt(u).locale(i.value),W=ye();R=H.year(W.year()).month(W.month()).date(W.date())}h.value=R,S(R)}},ke=()=>{const H=jt().locale(i.value).toDate();(!a||!a(H))&&C(H)&&(h.value=jt().locale(i.value),S(h.value))},Se=z(()=>bhe(n.format)),fe=z(()=>_he(n.format)),pe=z(()=>{if(_.value)return _.value;if(!(!n.parsedValue&&!d.value))return(n.parsedValue||h.value).format(Se.value)}),me=z(()=>{if(b.value)return b.value;if(!(!n.parsedValue&&!d.value))return(n.parsedValue||h.value).format(fe.value)}),Ne=J(!1),je=()=>{Ne.value=!0},rt=()=>{Ne.value=!1},xe=(R,H,W)=>{const K=n.parsedValue?n.parsedValue.hour(R.hour()).minute(R.minute()).second(R.second()):R;h.value=K,S(h.value,!0),W||(Ne.value=H)},Ve=R=>{const H=jt(R,Se.value).locale(i.value);H.isValid()&&C(H)&&(h.value=H.year(h.value.year()).month(h.value.month()).date(h.value.date()),_.value=null,Ne.value=!1,S(h.value,!0))},ee=R=>{const H=jt(R,fe.value).locale(i.value);if(H.isValid()){if(a&&a(H.toDate()))return;h.value=H.hour(h.value.hour()).minute(h.value.minute()).second(h.value.second()),b.value=null,S(h.value,!0)}},ne=R=>jt.isDayjs(R)&&R.isValid()&&(a?!a(R.toDate()):!0),le=R=>U.value==="dates"?R.map(H=>H.format(n.format)):R.format(n.format),de=R=>jt(R,n.format).locale(i.value),ye=()=>{const R=jt(d.value).locale(i.value);if(!d.value){const H=f.value;return jt().hour(H.hour()).minute(H.minute()).second(H.second()).locale(i.value)}return R},q=R=>{const{code:H,keyCode:W}=R,K=[Ct.up,Ct.down,Ct.left,Ct.right];n.visible&&!Ne.value&&(K.includes(H)&&(P(W),R.stopPropagation(),R.preventDefault()),H===Ct.enter&&b.value===null&&_.value===null&&S(h,!1))},P=R=>{const H={year:{38:-4,40:4,37:-1,39:1,offset:(K,re)=>K.setFullYear(K.getFullYear()+re)},month:{38:-4,40:4,37:-1,39:1,offset:(K,re)=>K.setMonth(K.getMonth()+re)},week:{38:-1,40:1,37:-1,39:1,offset:(K,re)=>K.setDate(K.getDate()+re*7)},day:{38:-7,40:7,37:-1,39:1,offset:(K,re)=>K.setDate(K.getDate()+re)}},W=h.value.toDate();for(;Math.abs(h.value.diff(W,"year",!0))<1;){const K=H[U.value];if(K.offset(W,K[R]),a&&a(W))continue;const re=jt(W).locale(i.value);h.value=re,e.emit("pick",re,!0);break}},x=R=>{e.emit("panel-change",h.value.toDate(),R,A.value)};return e.emit("set-picker-option",["isValidValue",ne]),e.emit("set-picker-option",["formatToString",le]),e.emit("set-picker-option",["parseUserInput",de]),e.emit("set-picker-option",["handleKeydown",q]),Ze(()=>d.value,R=>{R&&(h.value=ye())},{immediate:!0}),Ze(()=>n.parsedValue,R=>{if(R){if(U.value==="dates"||Array.isArray(R))return;h.value=R}else h.value=ye()},{immediate:!0}),{handleTimePick:xe,handleTimePickClose:rt,onTimePickerInputFocus:je,timePickerVisible:Ne,visibleTime:pe,visibleDate:me,showTime:Ce,changeToNow:ke,onConfirm:we,footerVisible:Be,handleYearPick:j,showMonthPicker:X,showYearPicker:ie,handleMonthPick:G,hasShortcuts:V,shortcuts:o,arrowControl:c,disabledDate:a,cellClassName:l,selectionMode:U,handleShortcutClick:F,prevYear_:T,nextYear_:M,prevMonth_:E,nextMonth_:I,innerDate:h,t,yearLabel:O,currentView:A,month:g,handleDatePick:D,handleVisibleTimeChange:Ve,handleVisibleDateChange:ee,timeFormat:Se,userInputTime:_,userInputDate:b}}}),gKe={class:"el-picker-panel__body-wrapper"},pKe={key:0,class:"el-picker-panel__sidebar"},mKe=["onClick"],vKe={class:"el-picker-panel__body"},_Ke={key:0,class:"el-date-picker__time-header"},bKe={class:"el-date-picker__editor-wrap"},CKe={class:"el-date-picker__editor-wrap"},yKe=["aria-label"],wKe=["aria-label"],SKe=["aria-label"],LKe=["aria-label"],kKe={class:"el-picker-panel__content"},EKe={class:"el-picker-panel__footer"};function DKe(n,e,t,i,r,s){const o=Te("el-input"),a=Te("time-pick-panel"),l=Te("d-arrow-left"),u=Te("el-icon"),c=Te("arrow-left"),d=Te("d-arrow-right"),h=Te("arrow-right"),f=Te("date-table"),g=Te("year-table"),p=Te("month-table"),m=Te("el-button"),b=xa("clickoutside");return B(),te("div",{class:Z(["el-picker-panel el-date-picker",[{"has-sidebar":n.$slots.sidebar||n.hasShortcuts,"has-time":n.showTime}]])},[oe("div",gKe,[Xe(n.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),n.hasShortcuts?(B(),te("div",pKe,[(B(!0),te(kt,null,$n(n.shortcuts,(_,C)=>(B(),te("button",{key:C,type:"button",class:"el-picker-panel__shortcut",onClick:w=>n.handleShortcutClick(_)},Je(_.text),9,mKe))),128))])):Fe("v-if",!0),oe("div",vKe,[n.showTime?(B(),te("div",_Ke,[oe("span",bKe,[be(o,{placeholder:n.t("el.datepicker.selectDate"),"model-value":n.visibleDate,size:"small",onInput:e[0]||(e[0]=_=>n.userInputDate=_),onChange:n.handleVisibleDateChange},null,8,["placeholder","model-value","onChange"])]),Ht((B(),te("span",CKe,[be(o,{placeholder:n.t("el.datepicker.selectTime"),"model-value":n.visibleTime,size:"small",onFocus:n.onTimePickerInputFocus,onInput:e[1]||(e[1]=_=>n.userInputTime=_),onChange:n.handleVisibleTimeChange},null,8,["placeholder","model-value","onFocus","onChange"]),be(a,{visible:n.timePickerVisible,format:n.timeFormat,"time-arrow-control":n.arrowControl,"parsed-value":n.innerDate,onPick:n.handleTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[b,n.handleTimePickClose]])])):Fe("v-if",!0),Ht(oe("div",{class:Z(["el-date-picker__header",{"el-date-picker__header--bordered":n.currentView==="year"||n.currentView==="month"}])},[oe("button",{type:"button","aria-label":n.t("el.datepicker.prevYear"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn d-arrow-left",onClick:e[2]||(e[2]=(..._)=>n.prevYear_&&n.prevYear_(..._))},[be(u,null,{default:De(()=>[be(l)]),_:1})],8,yKe),Ht(oe("button",{type:"button","aria-label":n.t("el.datepicker.prevMonth"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn arrow-left",onClick:e[3]||(e[3]=(..._)=>n.prevMonth_&&n.prevMonth_(..._))},[be(u,null,{default:De(()=>[be(c)]),_:1})],8,wKe),[[zn,n.currentView==="date"]]),oe("span",{role:"button",class:"el-date-picker__header-label",onClick:e[4]||(e[4]=(..._)=>n.showYearPicker&&n.showYearPicker(..._))},Je(n.yearLabel),1),Ht(oe("span",{role:"button",class:Z(["el-date-picker__header-label",{active:n.currentView==="month"}]),onClick:e[5]||(e[5]=(..._)=>n.showMonthPicker&&n.showMonthPicker(..._))},Je(n.t(`el.datepicker.month${n.month+1}`)),3),[[zn,n.currentView==="date"]]),oe("button",{type:"button","aria-label":n.t("el.datepicker.nextYear"),class:"el-picker-panel__icon-btn el-date-picker__next-btn d-arrow-right",onClick:e[6]||(e[6]=(..._)=>n.nextYear_&&n.nextYear_(..._))},[be(u,null,{default:De(()=>[be(d)]),_:1})],8,SKe),Ht(oe("button",{type:"button","aria-label":n.t("el.datepicker.nextMonth"),class:"el-picker-panel__icon-btn el-date-picker__next-btn arrow-right",onClick:e[7]||(e[7]=(..._)=>n.nextMonth_&&n.nextMonth_(..._))},[be(u,null,{default:De(()=>[be(h)]),_:1})],8,LKe),[[zn,n.currentView==="date"]])],2),[[zn,n.currentView!=="time"]]),oe("div",kKe,[n.currentView==="date"?(B(),Oe(f,{key:0,"selection-mode":n.selectionMode,date:n.innerDate,"parsed-value":n.parsedValue,"disabled-date":n.disabledDate,onPick:n.handleDatePick},null,8,["selection-mode","date","parsed-value","disabled-date","onPick"])):Fe("v-if",!0),n.currentView==="year"?(B(),Oe(g,{key:1,date:n.innerDate,"disabled-date":n.disabledDate,"parsed-value":n.parsedValue,onPick:n.handleYearPick},null,8,["date","disabled-date","parsed-value","onPick"])):Fe("v-if",!0),n.currentView==="month"?(B(),Oe(p,{key:2,date:n.innerDate,"parsed-value":n.parsedValue,"disabled-date":n.disabledDate,onPick:n.handleMonthPick},null,8,["date","parsed-value","disabled-date","onPick"])):Fe("v-if",!0)])])]),Ht(oe("div",EKe,[Ht(be(m,{size:"small",type:"text",class:"el-picker-panel__link-btn",onClick:n.changeToNow},{default:De(()=>[xn(Je(n.t("el.datepicker.now")),1)]),_:1},8,["onClick"]),[[zn,n.selectionMode!=="dates"]]),be(m,{plain:"",size:"small",class:"el-picker-panel__link-btn",onClick:n.onConfirm},{default:De(()=>[xn(Je(n.t("el.datepicker.confirm")),1)]),_:1},8,["onClick"])],512),[[zn,n.footerVisible&&n.currentView==="date"]])],2)}var IKe=at(fKe,[["render",DKe]]);const TKe=Me({directives:{clickoutside:wv},components:{TimePickPanel:gU,DateTable:Ghe,ElInput:zc,ElButton:hf,ElIcon:cn,DArrowLeft:DO,ArrowLeft:S1,DArrowRight:IO,ArrowRight:Hc},props:{unlinkPanels:Boolean,parsedValue:{type:Array},type:{type:String,required:!0,validator:hde}},emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,e){const{t,lang:i}=Oi(),r=J(jt().locale(i.value)),s=J(jt().locale(i.value).add(1,"month")),o=J(null),a=J(null),l=J({min:null,max:null}),u=J({min:null,max:null}),c=z(()=>`${r.value.year()} ${t("el.datepicker.year")} ${t(`el.datepicker.month${r.value.month()+1}`)}`),d=z(()=>`${s.value.year()} ${t("el.datepicker.year")} ${t(`el.datepicker.month${s.value.month()+1}`)}`),h=z(()=>r.value.year()),f=z(()=>r.value.month()),g=z(()=>s.value.year()),p=z(()=>s.value.month()),m=z(()=>!!W.length),b=z(()=>l.value.min!==null?l.value.min:o.value?o.value.format(D.value):""),_=z(()=>l.value.max!==null?l.value.max:a.value||o.value?(a.value||o.value).format(D.value):""),C=z(()=>u.value.min!==null?u.value.min:o.value?o.value.format(S.value):""),w=z(()=>u.value.max!==null?u.value.max:a.value||o.value?(a.value||o.value).format(S.value):""),S=z(()=>bhe(se)),D=z(()=>_he(se)),E=()=>{r.value=r.value.subtract(1,"year"),n.unlinkPanels||(s.value=r.value.add(1,"month")),V("year")},I=()=>{r.value=r.value.subtract(1,"month"),n.unlinkPanels||(s.value=r.value.add(1,"month")),V("month")},T=()=>{n.unlinkPanels?s.value=s.value.add(1,"year"):(r.value=r.value.add(1,"year"),s.value=r.value.add(1,"month")),V("year")},M=()=>{n.unlinkPanels?s.value=s.value.add(1,"month"):(r.value=r.value.add(1,"month"),s.value=r.value.add(1,"month")),V("month")},A=()=>{r.value=r.value.add(1,"year"),V("year")},O=()=>{r.value=r.value.add(1,"month"),V("month")},F=()=>{s.value=s.value.subtract(1,"year"),V("year")},U=()=>{s.value=s.value.subtract(1,"month"),V("month")},V=Pe=>{e.emit("panel-change",[r.value.toDate(),s.value.toDate()],Pe)},G=z(()=>{const Pe=(f.value+1)%12,Ge=f.value+1>=12?1:0;return n.unlinkPanels&&new Date(h.value+Ge,Pe)<new Date(g.value,p.value)}),j=z(()=>n.unlinkPanels&&g.value*12+p.value-(h.value*12+f.value+1)>=12),X=Pe=>Array.isArray(Pe)&&Pe[0]&&Pe[1]&&Pe[0].valueOf()<=Pe[1].valueOf(),ie=J({endDate:null,selecting:!1}),Ce=z(()=>!(o.value&&a.value&&!ie.value.selecting&&X([o.value,a.value]))),Be=Pe=>{ie.value=Pe},we=Pe=>{ie.value.selecting=Pe,Pe||(ie.value.endDate=null)},ke=z(()=>n.type==="datetime"||n.type==="datetimerange"),Se=(Pe=!1)=>{X([o.value,a.value])&&e.emit("pick",[o.value,a.value],Pe)},fe=(Pe,Ge)=>{if(!!Pe)return ve?jt(ve[Ge]||ve).locale(i.value).year(Pe.year()).month(Pe.month()).date(Pe.date()):Pe},pe=(Pe,Ge=!0)=>{const bt=Pe.minDate,Mt=Pe.maxDate,pt=fe(bt,0),Jt=fe(Mt,1);a.value===Jt&&o.value===pt||(e.emit("calendar-change",[bt.toDate(),Mt&&Mt.toDate()]),a.value=Jt,o.value=pt,!(!Ge||ke.value)&&Se())},me=Pe=>{const Ge=typeof Pe.value=="function"?Pe.value():Pe.value;if(Ge){e.emit("pick",[jt(Ge[0]).locale(i.value),jt(Ge[1]).locale(i.value)]);return}Pe.onClick&&Pe.onClick(e)},Ne=J(!1),je=J(!1),rt=()=>{Ne.value=!1},xe=()=>{je.value=!1},Ve=(Pe,Ge)=>{l.value[Ge]=Pe;const bt=jt(Pe,D.value).locale(i.value);if(bt.isValid()){if(K&&K(bt.toDate()))return;Ge==="min"?(r.value=bt,o.value=(o.value||r.value).year(bt.year()).month(bt.month()).date(bt.date()),n.unlinkPanels||(s.value=bt.add(1,"month"),a.value=o.value.add(1,"month"))):(s.value=bt,a.value=(a.value||s.value).year(bt.year()).month(bt.month()).date(bt.date()),n.unlinkPanels||(r.value=bt.subtract(1,"month"),o.value=a.value.subtract(1,"month")))}},ee=(Pe,Ge)=>{l.value[Ge]=null},ne=(Pe,Ge)=>{u.value[Ge]=Pe;const bt=jt(Pe,S.value).locale(i.value);bt.isValid()&&(Ge==="min"?(Ne.value=!0,o.value=(o.value||r.value).hour(bt.hour()).minute(bt.minute()).second(bt.second()),(!a.value||a.value.isBefore(o.value))&&(a.value=o.value)):(je.value=!0,a.value=(a.value||s.value).hour(bt.hour()).minute(bt.minute()).second(bt.second()),s.value=a.value,a.value&&a.value.isBefore(o.value)&&(o.value=a.value)))},le=(Pe,Ge)=>{u.value[Ge]=null,Ge==="min"?(r.value=o.value,Ne.value=!1):(s.value=a.value,je.value=!1)},de=(Pe,Ge,bt)=>{u.value.min||(Pe&&(r.value=Pe,o.value=(o.value||r.value).hour(Pe.hour()).minute(Pe.minute()).second(Pe.second())),bt||(Ne.value=Ge),(!a.value||a.value.isBefore(o.value))&&(a.value=o.value,s.value=Pe))},ye=(Pe,Ge,bt)=>{u.value.max||(Pe&&(s.value=Pe,a.value=(a.value||s.value).hour(Pe.hour()).minute(Pe.minute()).second(Pe.second())),bt||(je.value=Ge),a.value&&a.value.isBefore(o.value)&&(o.value=a.value))},q=()=>{r.value=R()[0],s.value=r.value.add(1,"month"),e.emit("pick",null)},P=Pe=>Array.isArray(Pe)?Pe.map(Ge=>Ge.format(se)):Pe.format(se),x=Pe=>Array.isArray(Pe)?Pe.map(Ge=>jt(Ge,se).locale(i.value)):jt(Pe,se).locale(i.value),R=()=>{let Pe;if(Array.isArray(Ie.value)){const Ge=jt(Ie.value[0]);let bt=jt(Ie.value[1]);return n.unlinkPanels||(bt=Ge.add(1,"month")),[Ge,bt]}else Ie.value?Pe=jt(Ie.value):Pe=jt();return Pe=Pe.locale(i.value),[Pe,Pe.add(1,"month")]};e.emit("set-picker-option",["isValidValue",X]),e.emit("set-picker-option",["parseUserInput",x]),e.emit("set-picker-option",["formatToString",P]),e.emit("set-picker-option",["handleClear",q]);const H=mt("EP_PICKER_BASE"),{shortcuts:W,disabledDate:K,cellClassName:re,format:se,defaultTime:ve,arrowControl:Re,clearable:ge}=H.props,Ie=Uo(H.props,"defaultValue");return Ze(()=>Ie.value,Pe=>{if(Pe){const Ge=R();o.value=null,a.value=null,r.value=Ge[0],s.value=Ge[1]}},{immediate:!0}),Ze(()=>n.parsedValue,Pe=>{if(Pe&&Pe.length===2)if(o.value=Pe[0],a.value=Pe[1],r.value=o.value,n.unlinkPanels&&a.value){const Ge=o.value.year(),bt=o.value.month(),Mt=a.value.year(),pt=a.value.month();s.value=Ge===Mt&&bt===pt?a.value.add(1,"month"):a.value}else s.value=r.value.add(1,"month"),a.value&&(s.value=s.value.hour(a.value.hour()).minute(a.value.minute()).second(a.value.second()));else{const Ge=R();o.value=null,a.value=null,r.value=Ge[0],s.value=Ge[1]}},{immediate:!0}),{shortcuts:W,disabledDate:K,cellClassName:re,minTimePickerVisible:Ne,maxTimePickerVisible:je,handleMinTimeClose:rt,handleMaxTimeClose:xe,handleShortcutClick:me,rangeState:ie,minDate:o,maxDate:a,handleRangePick:pe,onSelect:we,handleChangeRange:Be,btnDisabled:Ce,enableYearArrow:j,enableMonthArrow:G,rightPrevMonth:U,rightPrevYear:F,rightNextMonth:M,rightNextYear:T,leftPrevMonth:I,leftPrevYear:E,leftNextMonth:O,leftNextYear:A,hasShortcuts:m,leftLabel:c,rightLabel:d,leftDate:r,rightDate:s,showTime:ke,t,minVisibleDate:b,maxVisibleDate:_,minVisibleTime:C,maxVisibleTime:w,arrowControl:Re,handleDateInput:Ve,handleDateChange:ee,handleTimeInput:ne,handleTimeChange:le,handleMinTimePick:de,handleMaxTimePick:ye,handleClear:q,handleConfirm:Se,timeFormat:S,clearable:ge}}}),NKe={class:"el-picker-panel__body-wrapper"},xKe={key:0,class:"el-picker-panel__sidebar"},MKe=["onClick"],AKe={class:"el-picker-panel__body"},RKe={key:0,class:"el-date-range-picker__time-header"},OKe={class:"el-date-range-picker__editors-wrap"},PKe={class:"el-date-range-picker__time-picker-wrap"},FKe={class:"el-date-range-picker__time-picker-wrap"},BKe={class:"el-date-range-picker__editors-wrap is-right"},$Ke={class:"el-date-range-picker__time-picker-wrap"},VKe={class:"el-date-range-picker__time-picker-wrap"},WKe={class:"el-picker-panel__content el-date-range-picker__content is-left"},HKe={class:"el-date-range-picker__header"},zKe=["disabled"],UKe=["disabled"],jKe={class:"el-picker-panel__content el-date-range-picker__content is-right"},KKe={class:"el-date-range-picker__header"},GKe=["disabled"],qKe=["disabled"],YKe={key:0,class:"el-picker-panel__footer"};function XKe(n,e,t,i,r,s){const o=Te("el-input"),a=Te("time-pick-panel"),l=Te("arrow-right"),u=Te("el-icon"),c=Te("d-arrow-left"),d=Te("arrow-left"),h=Te("d-arrow-right"),f=Te("date-table"),g=Te("el-button"),p=xa("clickoutside");return B(),te("div",{class:Z(["el-picker-panel el-date-range-picker",[{"has-sidebar":n.$slots.sidebar||n.hasShortcuts,"has-time":n.showTime}]])},[oe("div",NKe,[Xe(n.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),n.hasShortcuts?(B(),te("div",xKe,[(B(!0),te(kt,null,$n(n.shortcuts,(m,b)=>(B(),te("button",{key:b,type:"button",class:"el-picker-panel__shortcut",onClick:_=>n.handleShortcutClick(m)},Je(m.text),9,MKe))),128))])):Fe("v-if",!0),oe("div",AKe,[n.showTime?(B(),te("div",RKe,[oe("span",OKe,[oe("span",PKe,[be(o,{size:"small",disabled:n.rangeState.selecting,placeholder:n.t("el.datepicker.startDate"),class:"el-date-range-picker__editor","model-value":n.minVisibleDate,onInput:e[0]||(e[0]=m=>n.handleDateInput(m,"min")),onChange:e[1]||(e[1]=m=>n.handleDateChange(m,"min"))},null,8,["disabled","placeholder","model-value"])]),Ht((B(),te("span",FKe,[be(o,{size:"small",class:"el-date-range-picker__editor",disabled:n.rangeState.selecting,placeholder:n.t("el.datepicker.startTime"),"model-value":n.minVisibleTime,onFocus:e[2]||(e[2]=m=>n.minTimePickerVisible=!0),onInput:e[3]||(e[3]=m=>n.handleTimeInput(m,"min")),onChange:e[4]||(e[4]=m=>n.handleTimeChange(m,"min"))},null,8,["disabled","placeholder","model-value"]),be(a,{visible:n.minTimePickerVisible,format:n.timeFormat,"datetime-role":"start","time-arrow-control":n.arrowControl,"parsed-value":n.leftDate,onPick:n.handleMinTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[p,n.handleMinTimeClose]])]),oe("span",null,[be(u,null,{default:De(()=>[be(l)]),_:1})]),oe("span",BKe,[oe("span",$Ke,[be(o,{size:"small",class:"el-date-range-picker__editor",disabled:n.rangeState.selecting,placeholder:n.t("el.datepicker.endDate"),"model-value":n.maxVisibleDate,readonly:!n.minDate,onInput:e[5]||(e[5]=m=>n.handleDateInput(m,"max")),onChange:e[6]||(e[6]=m=>n.handleDateChange(m,"max"))},null,8,["disabled","placeholder","model-value","readonly"])]),Ht((B(),te("span",VKe,[be(o,{size:"small",class:"el-date-range-picker__editor",disabled:n.rangeState.selecting,placeholder:n.t("el.datepicker.endTime"),"model-value":n.maxVisibleTime,readonly:!n.minDate,onFocus:e[7]||(e[7]=m=>n.minDate&&(n.maxTimePickerVisible=!0)),onInput:e[8]||(e[8]=m=>n.handleTimeInput(m,"max")),onChange:e[9]||(e[9]=m=>n.handleTimeChange(m,"max"))},null,8,["disabled","placeholder","model-value","readonly"]),be(a,{"datetime-role":"end",visible:n.maxTimePickerVisible,format:n.timeFormat,"time-arrow-control":n.arrowControl,"parsed-value":n.rightDate,onPick:n.handleMaxTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[p,n.handleMaxTimeClose]])])])):Fe("v-if",!0),oe("div",WKe,[oe("div",HKe,[oe("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:e[10]||(e[10]=(...m)=>n.leftPrevYear&&n.leftPrevYear(...m))},[be(u,null,{default:De(()=>[be(c)]),_:1})]),oe("button",{type:"button",class:"el-picker-panel__icon-btn arrow-left",onClick:e[11]||(e[11]=(...m)=>n.leftPrevMonth&&n.leftPrevMonth(...m))},[be(u,null,{default:De(()=>[be(d)]),_:1})]),n.unlinkPanels?(B(),te("button",{key:0,type:"button",disabled:!n.enableYearArrow,class:Z([{"is-disabled":!n.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:e[12]||(e[12]=(...m)=>n.leftNextYear&&n.leftNextYear(...m))},[be(u,null,{default:De(()=>[be(h)]),_:1})],10,zKe)):Fe("v-if",!0),n.unlinkPanels?(B(),te("button",{key:1,type:"button",disabled:!n.enableMonthArrow,class:Z([{"is-disabled":!n.enableMonthArrow},"el-picker-panel__icon-btn arrow-right"]),onClick:e[13]||(e[13]=(...m)=>n.leftNextMonth&&n.leftNextMonth(...m))},[be(u,null,{default:De(()=>[be(l)]),_:1})],10,UKe)):Fe("v-if",!0),oe("div",null,Je(n.leftLabel),1)]),be(f,{"selection-mode":"range",date:n.leftDate,"min-date":n.minDate,"max-date":n.maxDate,"range-state":n.rangeState,"disabled-date":n.disabledDate,"cell-class-name":n.cellClassName,onChangerange:n.handleChangeRange,onPick:n.handleRangePick,onSelect:n.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])]),oe("div",jKe,[oe("div",KKe,[n.unlinkPanels?(B(),te("button",{key:0,type:"button",disabled:!n.enableYearArrow,class:Z([{"is-disabled":!n.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:e[14]||(e[14]=(...m)=>n.rightPrevYear&&n.rightPrevYear(...m))},[be(u,null,{default:De(()=>[be(c)]),_:1})],10,GKe)):Fe("v-if",!0),n.unlinkPanels?(B(),te("button",{key:1,type:"button",disabled:!n.enableMonthArrow,class:Z([{"is-disabled":!n.enableMonthArrow},"el-picker-panel__icon-btn arrow-left"]),onClick:e[15]||(e[15]=(...m)=>n.rightPrevMonth&&n.rightPrevMonth(...m))},[be(u,null,{default:De(()=>[be(d)]),_:1})],10,qKe)):Fe("v-if",!0),oe("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:e[16]||(e[16]=(...m)=>n.rightNextYear&&n.rightNextYear(...m))},[be(u,null,{default:De(()=>[be(h)]),_:1})]),oe("button",{type:"button",class:"el-picker-panel__icon-btn arrow-right",onClick:e[17]||(e[17]=(...m)=>n.rightNextMonth&&n.rightNextMonth(...m))},[be(u,null,{default:De(()=>[be(l)]),_:1})]),oe("div",null,Je(n.rightLabel),1)]),be(f,{"selection-mode":"range",date:n.rightDate,"min-date":n.minDate,"max-date":n.maxDate,"range-state":n.rangeState,"disabled-date":n.disabledDate,"cell-class-name":n.cellClassName,onChangerange:n.handleChangeRange,onPick:n.handleRangePick,onSelect:n.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])])])]),n.showTime?(B(),te("div",YKe,[n.clearable?(B(),Oe(g,{key:0,size:"small",type:"text",class:"el-picker-panel__link-btn",onClick:n.handleClear},{default:De(()=>[xn(Je(n.t("el.datepicker.clear")),1)]),_:1},8,["onClick"])):Fe("v-if",!0),be(g,{plain:"",size:"small",class:"el-picker-panel__link-btn",disabled:n.btnDisabled,onClick:e[18]||(e[18]=m=>n.handleConfirm(!1))},{default:De(()=>[xn(Je(n.t("el.datepicker.confirm")),1)]),_:1},8,["disabled"])])):Fe("v-if",!0)],2)}var ZKe=at(TKe,[["render",XKe]]);const QKe=Me({components:{MonthTable:qhe,ElIcon:cn,DArrowLeft:DO,DArrowRight:IO},props:{unlinkPanels:Boolean,parsedValue:{type:Array}},emits:["pick","set-picker-option"],setup(n,e){const{t,lang:i}=Oi(),r=J(jt().locale(i.value)),s=J(jt().locale(i.value).add(1,"year")),o=z(()=>!!O.length),a=G=>{const j=typeof G.value=="function"?G.value():G.value;if(j){e.emit("pick",[jt(j[0]).locale(i.value),jt(j[1]).locale(i.value)]);return}G.onClick&&G.onClick(e)},l=()=>{r.value=r.value.subtract(1,"year"),n.unlinkPanels||(s.value=s.value.subtract(1,"year"))},u=()=>{n.unlinkPanels||(r.value=r.value.add(1,"year")),s.value=s.value.add(1,"year")},c=()=>{r.value=r.value.add(1,"year")},d=()=>{s.value=s.value.subtract(1,"year")},h=z(()=>`${r.value.year()} ${t("el.datepicker.year")}`),f=z(()=>`${s.value.year()} ${t("el.datepicker.year")}`),g=z(()=>r.value.year()),p=z(()=>s.value.year()===r.value.year()?r.value.year()+1:s.value.year()),m=z(()=>n.unlinkPanels&&p.value>g.value+1),b=J(null),_=J(null),C=J({endDate:null,selecting:!1}),w=G=>{C.value=G},S=(G,j=!0)=>{const X=G.minDate,ie=G.maxDate;_.value===ie&&b.value===X||(_.value=ie,b.value=X,!!j&&E())},D=G=>Array.isArray(G)&&G&&G[0]&&G[1]&&G[0].valueOf()<=G[1].valueOf(),E=(G=!1)=>{D([b.value,_.value])&&e.emit("pick",[b.value,_.value],G)},I=G=>{C.value.selecting=G,G||(C.value.endDate=null)},T=G=>G.map(j=>j.format(U)),M=()=>{let G;if(Array.isArray(V.value)){const j=jt(V.value[0]);let X=jt(V.value[1]);return n.unlinkPanels||(X=j.add(1,"year")),[j,X]}else V.value?G=jt(V.value):G=jt();return G=G.locale(i.value),[G,G.add(1,"year")]};e.emit("set-picker-option",["formatToString",T]);const A=mt("EP_PICKER_BASE"),{shortcuts:O,disabledDate:F,format:U}=A.props,V=Uo(A.props,"defaultValue");return Ze(()=>V.value,G=>{if(G){const j=M();r.value=j[0],s.value=j[1]}},{immediate:!0}),Ze(()=>n.parsedValue,G=>{if(G&&G.length===2)if(b.value=G[0],_.value=G[1],r.value=b.value,n.unlinkPanels&&_.value){const j=b.value.year(),X=_.value.year();s.value=j===X?_.value.add(1,"year"):_.value}else s.value=r.value.add(1,"year");else{const j=M();b.value=null,_.value=null,r.value=j[0],s.value=j[1]}},{immediate:!0}),{shortcuts:O,disabledDate:F,onSelect:I,handleRangePick:S,rangeState:C,handleChangeRange:w,minDate:b,maxDate:_,enableYearArrow:m,leftLabel:h,rightLabel:f,leftNextYear:c,leftPrevYear:l,rightNextYear:u,rightPrevYear:d,t,leftDate:r,rightDate:s,hasShortcuts:o,handleShortcutClick:a}}}),JKe={class:"el-picker-panel__body-wrapper"},eGe={key:0,class:"el-picker-panel__sidebar"},tGe=["onClick"],nGe={class:"el-picker-panel__body"},iGe={class:"el-picker-panel__content el-date-range-picker__content is-left"},rGe={class:"el-date-range-picker__header"},sGe=["disabled"],oGe={class:"el-picker-panel__content el-date-range-picker__content is-right"},aGe={class:"el-date-range-picker__header"},lGe=["disabled"];function uGe(n,e,t,i,r,s){const o=Te("d-arrow-left"),a=Te("el-icon"),l=Te("d-arrow-right"),u=Te("month-table");return B(),te("div",{class:Z(["el-picker-panel el-date-range-picker",[{"has-sidebar":n.$slots.sidebar||n.hasShortcuts}]])},[oe("div",JKe,[Xe(n.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),n.hasShortcuts?(B(),te("div",eGe,[(B(!0),te(kt,null,$n(n.shortcuts,(c,d)=>(B(),te("button",{key:d,type:"button",class:"el-picker-panel__shortcut",onClick:h=>n.handleShortcutClick(c)},Je(c.text),9,tGe))),128))])):Fe("v-if",!0),oe("div",nGe,[oe("div",iGe,[oe("div",rGe,[oe("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:e[0]||(e[0]=(...c)=>n.leftPrevYear&&n.leftPrevYear(...c))},[be(a,null,{default:De(()=>[be(o)]),_:1})]),n.unlinkPanels?(B(),te("button",{key:0,type:"button",disabled:!n.enableYearArrow,class:Z([{"is-disabled":!n.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:e[1]||(e[1]=(...c)=>n.leftNextYear&&n.leftNextYear(...c))},[be(a,null,{default:De(()=>[be(l)]),_:1})],10,sGe)):Fe("v-if",!0),oe("div",null,Je(n.leftLabel),1)]),be(u,{"selection-mode":"range",date:n.leftDate,"min-date":n.minDate,"max-date":n.maxDate,"range-state":n.rangeState,"disabled-date":n.disabledDate,onChangerange:n.handleChangeRange,onPick:n.handleRangePick,onSelect:n.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])]),oe("div",oGe,[oe("div",aGe,[n.unlinkPanels?(B(),te("button",{key:0,type:"button",disabled:!n.enableYearArrow,class:Z([{"is-disabled":!n.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:e[2]||(e[2]=(...c)=>n.rightPrevYear&&n.rightPrevYear(...c))},[be(a,null,{default:De(()=>[be(o)]),_:1})],10,lGe)):Fe("v-if",!0),oe("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:e[3]||(e[3]=(...c)=>n.rightNextYear&&n.rightNextYear(...c))},[be(a,null,{default:De(()=>[be(l)]),_:1})]),oe("div",null,Je(n.rightLabel),1)]),be(u,{"selection-mode":"range",date:n.rightDate,"min-date":n.minDate,"max-date":n.maxDate,"range-state":n.rangeState,"disabled-date":n.disabledDate,onChangerange:n.handleChangeRange,onPick:n.handleRangePick,onSelect:n.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])])])])],2)}var cGe=at(QKe,[["render",uGe]]);jt.extend(dhe);jt.extend(Pje);jt.extend(hU);jt.extend(Fje);jt.extend(Bje);jt.extend($je);jt.extend(Vje);jt.extend(Wje);const dGe=function(n){return n==="daterange"||n==="datetimerange"?ZKe:n==="monthrange"?cGe:IKe};var hGe=Me({name:"ElDatePicker",install:null,props:gn(Dt({},fU),{type:{type:String,default:"date"}}),emits:["update:modelValue"],setup(n,e){vn("ElPopperOptions",n.popperOptions),vn(Khe,{ctx:e});const t=J(null),i=gn(Dt({},n),{focus:(r=!0)=>{var s;(s=t.value)==null||s.focus(r)}});return e.expose(i),()=>{var r;const s=(r=n.format)!=null?r:eHe[n.type]||s2;return st(fhe,gn(Dt({},n),{format:s,type:n.type,ref:t,"onUpdate:modelValue":o=>e.emit("update:modelValue",o)}),{default:o=>st(dGe(n.type),o),"range-separator":()=>Xe(e.slots,"range-separator")})}}});const YN=hGe;YN.install=n=>{n.component(YN.name,YN)};const fGe=YN,vU="elDescriptions";var Dee=Me({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:mt(vU,{})}},render(){var n,e,t,i,r,s;const o=H9e(this.cell),{border:a,direction:l}=this.descriptions,u=l==="vertical",c=((t=(e=(n=this.cell)==null?void 0:n.children)==null?void 0:e.label)==null?void 0:t.call(e))||o.label,d=(s=(r=(i=this.cell)==null?void 0:i.children)==null?void 0:r.default)==null?void 0:s.call(r),h=o.span,f=o.align?`is-${o.align}`:"",g=o.labelAlign?`is-${o.labelAlign}`:f,p=o.className,m=o.labelClassName,b={width:xd(o.width),minWidth:xd(o.minWidth)},_=dt("descriptions");switch(this.type){case"label":return st(this.tag,{style:b,class:[_.e("cell"),_.e("label"),_.is("bordered-label",a),_.is("vertical-label",u),g,m],colSpan:u?h:1},c);case"content":return st(this.tag,{style:b,class:[_.e("cell"),_.e("content"),_.is("bordered-content",a),_.is("vertical-content",u),f,p],colSpan:u?h:h*2-1},d);default:return st("td",{style:b,class:[_.e("cell"),f],colSpan:h},[st("span",{class:[_.e("label"),m]},c),st("span",{class:[_.e("content"),p]},d)])}}});const gGe=Me({name:"ElDescriptionsRow",components:{[Dee.name]:Dee},props:{row:{type:Array}},setup(){return{descriptions:mt(vU,{})}}}),pGe={key:1};function mGe(n,e,t,i,r,s){const o=Te("el-descriptions-cell");return n.descriptions.direction==="vertical"?(B(),te(kt,{key:0},[oe("tr",null,[(B(!0),te(kt,null,$n(n.row,(a,l)=>(B(),Oe(o,{key:`tr1-${l}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),oe("tr",null,[(B(!0),te(kt,null,$n(n.row,(a,l)=>(B(),Oe(o,{key:`tr2-${l}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(B(),te("tr",pGe,[(B(!0),te(kt,null,$n(n.row,(a,l)=>(B(),te(kt,{key:`tr3-${l}`},[n.descriptions.border?(B(),te(kt,{key:0},[be(o,{cell:a,tag:"td",type:"label"},null,8,["cell"]),be(o,{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(B(),Oe(o,{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}var Iee=at(gGe,[["render",mGe]]);const vGe=Me({name:"ElDescriptions",components:{[Iee.name]:Iee},props:{border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,default:"horizontal"},size:{type:String,validator:zl},title:{type:String,default:""},extra:{type:String,default:""}},setup(n,{slots:e}){vn(vU,n);const t=As(),i=dt("descriptions"),r=z(()=>[i.b(),i.is(i.m(t.value),!!t.value)]),s=l=>{const u=Array.isArray(l)?l:[l],c=[];return u.forEach(d=>{Array.isArray(d.children)?c.push(...s(d.children)):c.push(d)}),c},o=(l,u,c,d=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),d&&(l.props.span=u),l);return{descriptionKls:r,getRows:()=>{var l;const u=s((l=e.default)==null?void 0:l.call(e)).filter(g=>{var p;return((p=g==null?void 0:g.type)==null?void 0:p.name)==="ElDescriptionsItem"}),c=[];let d=[],h=n.column,f=0;return u.forEach((g,p)=>{var m;const b=((m=g.props)==null?void 0:m.span)||1;if(p<u.length-1&&(f+=b>h?h:b),p===u.length-1){const _=n.column-f%n.column;d.push(o(g,_,h,!0)),c.push(d);return}b<h?(h-=b,d.push(g)):(d.push(o(g,b,h)),c.push(d),h=n.column,d=[])}),c},ns:i}}});function _Ge(n,e,t,i,r,s){const o=Te("el-descriptions-row");return B(),te("div",{class:Z(n.descriptionKls)},[n.title||n.extra||n.$slots.title||n.$slots.extra?(B(),te("div",{key:0,class:Z(n.ns.e("header"))},[oe("div",{class:Z(n.ns.e("title"))},[Xe(n.$slots,"title",{},()=>[xn(Je(n.title),1)])],2),oe("div",{class:Z(n.ns.e("extra"))},[Xe(n.$slots,"extra",{},()=>[xn(Je(n.extra),1)])],2)],2)):Fe("v-if",!0),oe("div",{class:Z(n.ns.e("body"))},[oe("table",{class:Z([n.ns.e("table"),n.ns.is("bordered",n.border)])},[oe("tbody",null,[(B(!0),te(kt,null,$n(n.getRows(),(a,l)=>(B(),Oe(o,{key:l,row:a},null,8,["row"]))),128))])],2)],2)],2)}var bGe=at(vGe,[["render",_Ge]]),Yhe=Me({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const CGe=wn(bGe,{DescriptionsItem:Yhe}),yGe=Ur(Yhe),wGe=Wt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:It([String,Array,Object])},zIndex:{type:It([String,Number])}}),SGe={click:n=>n instanceof MouseEvent};var LGe=Me({name:"ElOverlay",props:wGe,emits:SGe,setup(n,{slots:e,emit:t}){const i=dt("overlay"),r=l=>{t("click",l)},{onClick:s,onMousedown:o,onMouseup:a}=nU(n.customMaskEvent?void 0:r);return()=>n.mask?be("div",{class:[i.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:s,onMousedown:o,onMouseup:a},[Xe(e,"default")],mc.STYLE|mc.CLASS|mc.PROPS,["onClick","onMouseup","onMousedown"]):st("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Xe(e,"default")])}});const _U=LGe,Xhe=Wt({appendToBody:{type:Boolean,default:!1},beforeClose:{type:It(Function)},destroyOnClose:{type:Boolean,default:!1},center:{type:Boolean,default:!1},customClass:{type:String,default:""},closeIcon:{type:Ma,default:""},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number}}),Zhe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[pn]:n=>typeof n=="boolean"},Qhe=(n,{emit:e},t)=>{let i="";const r=J(!1),s=J(!1),o=J(!1),{nextZIndex:a}=yv(),l=J(n.zIndex||a());let u,c;const d=z(()=>ei(n.width)?`${n.width}px`:n.width),h=z(()=>{const E={},I="--el-dialog";return n.fullscreen||(n.top&&(E[`${I}-margin-top`]=n.top),n.width&&(E[`${I}-width`]=d.value)),E});function f(){e("opened")}function g(){e("closed"),e(pn,!1),n.destroyOnClose&&(o.value=!1)}function p(){e("close")}function m(){c==null||c(),u==null||u(),n.openDelay&&n.openDelay>0?{stop:u}=ky(()=>S(),n.openDelay):S()}function b(){u==null||u(),c==null||c(),n.closeDelay&&n.closeDelay>0?{stop:c}=ky(()=>D(),n.closeDelay):D()}function _(E){E||(s.value=!0,r.value=!1)}function C(){n.beforeClose?n.beforeClose(_):b()}function w(){n.closeOnClickModal&&C()}function S(){!Kn||(r.value=!0)}function D(){r.value=!1}return n.lockScroll&&kde(r),n.closeOnPressEscape&&Ede({handleClose:C},r),Ide(r),Ze(()=>n.modelValue,E=>{E?(s.value=!1,m(),o.value=!0,e("open"),l.value=n.zIndex?l.value++:a(),Nt(()=>{t.value&&(t.value.scrollTop=0)})):r.value&&b()}),Ze(()=>n.fullscreen,E=>{!t.value||(E?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),rn(()=>{n.modelValue&&(r.value=!0,o.value=!0,m())}),{afterEnter:f,afterLeave:g,beforeLeave:p,handleClose:C,onModalClick:w,close:b,doClose:D,closed:s,style:h,rendered:o,visible:r,zIndex:l}},kGe=Me({name:"ElDialog",components:Dt({ElOverlay:_U,ElIcon:cn},B9e),directives:{TrapFocus:iU},props:Xhe,emits:Zhe,setup(n,e){const t=dt("dialog"),i=J(),r=J(),s=Qhe(n,e,i),o=nU(s.onModalClick),a=z(()=>n.draggable&&!n.fullscreen);return Lde(i,r,a),Dt({ns:t,dialogRef:i,headerRef:r,overlayEvent:o},s)}}),EGe=["aria-label"];function DGe(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("el-overlay"),l=xa("trap-focus");return B(),Oe(zE,{to:"body",disabled:!n.appendToBody},[be(Cs,{name:"dialog-fade",onAfterEnter:n.afterEnter,onAfterLeave:n.afterLeave,onBeforeLeave:n.beforeLeave},{default:De(()=>[Ht(be(a,{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":n.zIndex},{default:De(()=>[oe("div",{class:Z(`${n.ns.namespace.value}-overlay-dialog`),onClick:e[2]||(e[2]=(...u)=>n.overlayEvent.onClick&&n.overlayEvent.onClick(...u)),onMousedown:e[3]||(e[3]=(...u)=>n.overlayEvent.onMousedown&&n.overlayEvent.onMousedown(...u)),onMouseup:e[4]||(e[4]=(...u)=>n.overlayEvent.onMouseup&&n.overlayEvent.onMouseup(...u))},[Ht((B(),te("div",{ref:"dialogRef",class:Z([n.ns.b(),n.ns.is("fullscreen",n.fullscreen),n.ns.is("draggable",n.draggable),{[n.ns.m("center")]:n.center},n.customClass]),"aria-modal":"true",role:"dialog","aria-label":n.title||"dialog",style:wt(n.style),onClick:e[1]||(e[1]=Ft(()=>{},["stop"]))},[oe("div",{ref:"headerRef",class:Z(n.ns.e("header"))},[Xe(n.$slots,"title",{},()=>[oe("span",{class:Z(n.ns.e("title"))},Je(n.title),3)]),n.showClose?(B(),te("button",{key:0,"aria-label":"close",class:Z(n.ns.e("headerbtn")),type:"button",onClick:e[0]||(e[0]=(...u)=>n.handleClose&&n.handleClose(...u))},[be(o,{class:Z(n.ns.e("close"))},{default:De(()=>[(B(),Oe(Bn(n.closeIcon||"close")))]),_:1},8,["class"])],2)):Fe("v-if",!0)],2),n.rendered?(B(),te("div",{key:0,class:Z(n.ns.e("body"))},[Xe(n.$slots,"default")],2)):Fe("v-if",!0),n.$slots.footer?(B(),te("div",{key:1,class:Z(n.ns.e("footer"))},[Xe(n.$slots,"footer")],2)):Fe("v-if",!0)],14,EGe)),[[l]])],34)]),_:3},8,["mask","overlay-class","z-index"]),[[zn,n.visible]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var IGe=at(kGe,[["render",DGe]]);const TGe=wn(IGe),NGe=Wt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:It(String),default:"solid"}}),xGe=Me({name:"ElDivider",props:NGe,setup(n){const e=dt("divider"),t=z(()=>({"--el-border-style":n.borderStyle}));return{ns:e,dividerStyle:t}}});function MGe(n,e,t,i,r,s){return B(),te("div",{class:Z([n.ns.b(),n.ns.m(n.direction)]),style:wt(n.dividerStyle)},[n.$slots.default&&n.direction!=="vertical"?(B(),te("div",{key:0,class:Z([n.ns.e("text"),n.ns.is(n.contentPosition)])},[Xe(n.$slots,"default")],2)):Fe("v-if",!0)],6)}var AGe=at(xGe,[["render",MGe]]);const RGe=wn(AGe),OGe=Wt(gn(Dt({},Xhe),{direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}})),PGe=Zhe,FGe=Me({name:"ElDrawer",components:{ElOverlay:_U,ElIcon:cn,Close:Td},directives:{TrapFocus:iU},props:OGe,emits:PGe,setup(n,e){const t=J(),i=dt("drawer"),r=z(()=>n.direction==="rtl"||n.direction==="ltr"),s=z(()=>typeof n.size=="number"?`${n.size}px`:n.size);return gn(Dt({},Qhe(n,e,t)),{drawerRef:t,isHorizontal:r,drawerSize:s,ns:i})}}),BGe=["aria-labelledby","aria-label"],$Ge=["id"],VGe=["title"],WGe=["aria-label"];function HGe(n,e,t,i,r,s){const o=Te("close"),a=Te("el-icon"),l=Te("el-overlay"),u=xa("trap-focus");return B(),Oe(zE,{to:"body",disabled:!n.appendToBody},[be(Cs,{name:n.ns.b("fade"),onAfterEnter:n.afterEnter,onAfterLeave:n.afterLeave,onBeforeLeave:n.beforeLeave},{default:De(()=>[Ht(be(l,{mask:n.modal,"overlay-class":n.modalClass,"z-index":n.zIndex,onClick:n.onModalClick},{default:De(()=>[Ht((B(),te("div",{ref:"drawerRef","aria-modal":"true","aria-labelledby":n.ns.e("title"),"aria-label":n.title,class:Z([n.ns.b(),n.direction,n.visible&&"open",n.customClass]),style:wt(n.isHorizontal?"width: "+n.drawerSize:"height: "+n.drawerSize),role:"dialog",onClick:e[1]||(e[1]=Ft(()=>{},["stop"]))},[n.withHeader?(B(),te("header",{key:0,id:n.ns.e("title"),class:Z(n.ns.e("header"))},[Xe(n.$slots,"title",{},()=>[oe("span",{role:"heading",title:n.title},Je(n.title),9,VGe)]),n.showClose?(B(),te("button",{key:0,"aria-label":"close "+(n.title||"drawer"),class:Z(n.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...c)=>n.handleClose&&n.handleClose(...c))},[be(a,{class:Z(n.ns.e("close"))},{default:De(()=>[be(o)]),_:1},8,["class"])],10,WGe)):Fe("v-if",!0)],10,$Ge)):Fe("v-if",!0),n.rendered?(B(),te("section",{key:1,class:Z(n.ns.e("body"))},[Xe(n.$slots,"default")],2)):Fe("v-if",!0),n.$slots.footer?(B(),te("div",{key:2,class:Z(n.ns.e("footer"))},[Xe(n.$slots,"footer")],2)):Fe("v-if",!0)],14,BGe)),[[u]])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[zn,n.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var zGe=at(FGe,[["render",HGe]]);const UGe=wn(zGe),Jhe=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},Tee=(n,e)=>{for(const t of n)if(!jGe(t,e))return t},jGe=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},KGe=n=>{const e=Jhe(n),t=Tee(e,n),i=Tee(e.reverse(),n);return[t,i]},GGe=n=>n instanceof HTMLInputElement&&"select"in n,r0=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&GGe(n)&&e&&n.select()}};function Nee(n,e){const t=[...n],i=n.indexOf(e);return i!==-1&&t.splice(i,1),t}const qGe=()=>{let n=[];return{push:i=>{const r=n[0];r&&i!==r&&r.pause(),n=Nee(n,i),n.unshift(i)},remove:i=>{var r,s;n=Nee(n,i),(s=(r=n[0])==null?void 0:r.resume)==null||s.call(r)}}},YGe=(n,e=!1)=>{const t=document.activeElement;for(const i of n)if(r0(i,e),document.activeElement!==t)return},xee=qGe(),sF="focus-trap.focus-on-mount",oF="focus-trap.focus-on-unmount",Mee={cancelable:!0,bubbles:!1},Aee="mountOnFocus",Ree="unmountOnFocus",efe=Symbol("elFocusTrap"),XGe=Me({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean},emits:[Aee,Ree],setup(n,{emit:e}){const t=J(),i=J(null);let r,s;const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=h=>{if(!n.loop&&!n.trapped||o.paused)return;const{key:f,altKey:g,ctrlKey:p,metaKey:m,currentTarget:b,shiftKey:_}=h,{loop:C}=n,w=f===Ct.tab&&!g&&!p&&!m,S=document.activeElement;if(w&&S){const D=b,[E,I]=KGe(D);E&&I?!_&&S===I?(h.preventDefault(),C&&r0(E,!0)):_&&S===E&&(h.preventDefault(),C&&r0(I,!0)):S===D&&h.preventDefault()}};vn(efe,{focusTrapRef:i,onKeydown:a});const l=h=>{e(Aee,h)},u=h=>e(Ree,h),c=h=>{const f=Ue(i);if(o.paused||!f)return;const g=h.target;g&&f.contains(g)?s=g:r0(s,!0)},d=h=>{const f=Ue(i);o.paused||!f||f.contains(h.relatedTarget)||r0(s,!0)};return rn(()=>{const h=Ue(i);if(h){xee.push(o);const f=document.activeElement;if(r=f,!h.contains(f)){const p=new Event(sF,Mee);Vi(h,sF,l),h.dispatchEvent(p),p.defaultPrevented||(YGe(Jhe(h),!0),document.activeElement===f&&r0(h))}}Ze(()=>n.trapped,f=>{f?(Vi(document,"focusin",c),Vi(document,"focusout",d)):(Lr(document,"focusin",c),Lr(document,"focusout",d))},{immediate:!0})}),Er(()=>{const h=Ue(i);if(h){Lr(h,sF,l);const f=new Event(oF,Mee);Vi(h,oF,u),h.dispatchEvent(f),f.defaultPrevented||r0(r!=null?r:document.body,!0),Lr(h,oF,u),xee.remove(o)}}),{focusTrapRef:t,forwardRef:i,onKeydown:a}}});function ZGe(n,e,t,i,r,s){return Xe(n.$slots,"default")}var QGe=at(XGe,[["render",ZGe]]);const JGe=Me({inheritAttrs:!1});function eqe(n,e,t,i,r,s){return Xe(n.$slots,"default")}var tqe=at(JGe,[["render",eqe]]);const nqe=Me({name:"ElCollectionItem",inheritAttrs:!1});function iqe(n,e,t,i,r,s){return Xe(n.$slots,"default")}var rqe=at(nqe,[["render",iqe]]);const tfe="data-el-collection-item",nfe=n=>{const e=`El${n}Collection`,t=`${e}Item`,i=Symbol(e),r=Symbol(t),s=gn(Dt({},tqe),{name:e,setup(){const a=J(null),l=new Map;vn(i,{itemMap:l,getItems:()=>{const c=Ue(a);if(!c)return[];const d=Array.from(c.querySelectorAll(`[${tfe}]`));return[...l.values()].sort((g,p)=>d.indexOf(g.ref)-d.indexOf(p.ref))},collectionRef:a})}}),o=gn(Dt({},rqe),{name:t,setup(a,{attrs:l}){const u=J(null),c=mt(i,void 0);vn(r,{collectionItemRef:u}),rn(()=>{const d=Ue(u);d&&c.itemMap.set(d,Dt({ref:d},l))}),Er(()=>{const d=Ue(u);c.itemMap.delete(d)})}});return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:s,ElCollectionItem:o}},sqe=Wt({style:{type:It([String,Array,Object])},currentTabId:{type:It(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:It(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:oqe,ElCollectionItem:aqe,COLLECTION_INJECTION_KEY:bU,COLLECTION_ITEM_INJECTION_KEY:lqe}=nfe("RovingFocusGroup"),CU=Symbol("elRovingFocusGroup"),ife=Symbol("elRovingFocusGroupItem"),uqe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},cqe=(n,e)=>{if(e!=="rtl")return n;switch(n){case Ct.right:return Ct.left;case Ct.left:return Ct.right;default:return n}},dqe=(n,e,t)=>{const i=cqe(n.key,t);if(!(e==="vertical"&&[Ct.left,Ct.right].includes(i))&&!(e==="horizontal"&&[Ct.up,Ct.down].includes(i)))return uqe[i]},hqe=(n,e)=>n.map((t,i)=>n[(i+e)%n.length]),yU=n=>{const{activeElement:e}=document;for(const t of n)if(t===e||(t.focus(),e!==document.activeElement))return},Oee="currentTabIdChange",aF="rovingFocusGroup.entryFocus",fqe={bubbles:!1,cancelable:!0},gqe=Me({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:sqe,emits:[Oee,"entryFocus"],setup(n,{emit:e}){var t;const i=J((t=n.currentTabId||n.defaultCurrentTabId)!=null?t:null),r=J(!1),s=J(!1),o=J(null),{getItems:a}=mt(bU,void 0),l=z(()=>[{outline:"none"},n.style]),u=p=>{e(Oee,p)},c=()=>{r.value=!0},d=eo(p=>{var m;(m=n.onMousedown)==null||m.call(n,p)},()=>{s.value=!0}),h=eo(p=>{var m;(m=n.onFocus)==null||m.call(n,p)},p=>{const m=!Ue(s),{target:b,currentTarget:_}=p;if(b===_&&m&&!Ue(r)){const C=new Event(aF,fqe);if(_==null||_.dispatchEvent(C),!C.defaultPrevented){const w=a().filter(T=>T.focusable),S=w.find(T=>T.active),D=w.find(T=>T.id===Ue(i)),I=[S,D,...w].filter(Boolean).map(T=>T.ref);yU(I)}}s.value=!1}),f=eo(p=>{var m;(m=n.onBlur)==null||m.call(n,p)},()=>{r.value=!1}),g=(...p)=>{e("entryFocus",...p)};vn(CU,{currentTabbedId:xw(i),loop:Uo(n,"loop"),tabIndex:z(()=>Ue(r)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,orientation:Uo(n,"orientation"),dir:Uo(n,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:f,onFocus:h,onMousedown:d}),Ze(()=>n.currentTabId,p=>{i.value=p!=null?p:null}),rn(()=>{const p=Ue(o);Vi(p,aF,g)}),Er(()=>{const p=Ue(o);Lr(p,aF,g)})}});function pqe(n,e,t,i,r,s){return Xe(n.$slots,"default")}var mqe=at(gqe,[["render",pqe]]);const vqe=Me({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:oqe,ElRovingFocusGroupImpl:mqe}});function _qe(n,e,t,i,r,s){const o=Te("el-roving-focus-group-impl"),a=Te("el-focus-group-collection");return B(),Oe(a,null,{default:De(()=>[be(o,Am(Bm(n.$attrs)),{default:De(()=>[Xe(n.$slots,"default")]),_:3},16)]),_:3})}var bqe=at(vqe,[["render",_qe]]);const Cqe=Me({components:{ElRovingFocusCollectionItem:aqe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:t,loop:i,onItemFocus:r,onItemShiftTab:s}=mt(CU,void 0),{getItems:o}=mt(bU,void 0),a=Tde(),l=J(null),u=eo(f=>{e("mousedown",f)},f=>{n.focusable?r(Ue(a)):f.preventDefault()}),c=eo(f=>{e("focus",f)},()=>{r(Ue(a))}),d=eo(f=>{e("keydown",f)},f=>{const{key:g,shiftKey:p,target:m,currentTarget:b}=f;if(g===Ct.tab&&p){s();return}if(m!==b)return;const _=dqe(f);if(_){f.preventDefault();let w=o().filter(S=>S.focusable).map(S=>S.ref);switch(_){case"last":{w.reverse();break}case"prev":case"next":{_==="prev"&&w.reverse();const S=w.indexOf(b);w=i.value?hqe(w,S+1):w.slice(S+1);break}}Nt(()=>{yU(w)})}}),h=z(()=>t.value===Ue(a));return vn(ife,{rovingFocusGroupItemRef:l,tabIndex:z(()=>Ue(h)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:d}),{id:a,handleKeydown:d,handleFocus:c,handleMousedown:u}}});function yqe(n,e,t,i,r,s){const o=Te("el-roving-focus-collection-item");return B(),Oe(o,{id:n.id,focusable:n.focusable,active:n.active},{default:De(()=>[Xe(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var wqe=at(Cqe,[["render",yqe]]);const XN=Wt({trigger:nk.trigger,effect:gn(Dt({},wa.effect),{default:"light"}),type:{type:It(String)},placement:{type:It(String),default:"bottom"},popperOptions:{type:It(Object),default:()=>({})},size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:It([Number,String]),default:0},maxHeight:{type:It([Number,String]),default:""},popperClass:{type:String,default:""}}),rfe=Wt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ma}}),Sqe=Wt({onKeydown:{type:It(Function)}}),Lqe=[Ct.down,Ct.pageDown,Ct.home],sfe=[Ct.up,Ct.pageUp,Ct.end],kqe=[...Lqe,...sfe],{ElCollection:Eqe,ElCollectionItem:Dqe,COLLECTION_INJECTION_KEY:Iqe,COLLECTION_ITEM_INJECTION_KEY:Tqe}=nfe("Dropdown"),wU=Symbol("elDropdown"),{ButtonGroup:Nqe}=hf,xqe=Me({name:"ElDropdown",components:{ElButton:hf,ElFocusTrap:QGe,ElButtonGroup:Nqe,ElScrollbar:rp,ElDropdownCollection:Eqe,ElTooltip:Ql,ElRovingFocusGroup:bqe,ElIcon:cn,ArrowDown:w1},props:XN,emits:["visible-change","click","command"],setup(n,{emit:e}){const t=en(),i=dt("dropdown"),r=J(),s=J(),o=J(null),a=J(null),l=J(null),u=J(null),c=J(!1),d=z(()=>({maxHeight:xd(n.maxHeight)})),h=z(()=>[i.m(m.value)]);function f(){g()}function g(){var I;(I=o.value)==null||I.onClose()}function p(){var I;(I=o.value)==null||I.onOpen()}const m=As();function b(...I){e("command",...I)}function _(){}function C(){const I=Ue(a);I==null||I.focus(),u.value=null}function w(I){u.value=I}function S(I){c.value||(I.preventDefault(),I.stopImmediatePropagation())}return vn(wU,{contentRef:a,isUsingKeyboard:c,onItemEnter:_,onItemLeave:C}),vn("elDropdown",{instance:t,dropdownSize:m,handleClick:f,commandHandler:b,trigger:Uo(n,"trigger"),hideOnClick:Uo(n,"hideOnClick")}),{ns:i,scrollbar:l,wrapStyle:d,dropdownTriggerKls:h,dropdownSize:m,currentTabId:u,handleCurrentTabIdChange:w,handlerMainButtonClick:I=>{e("click",I)},handleEntryFocus:S,handleClose:g,handleOpen:p,onMountOnFocus:I=>{var T,M;I.preventDefault(),(M=(T=a.value)==null?void 0:T.focus)==null||M.call(T,{preventScroll:!0})},popperRef:o,triggeringElementRef:r,referenceElementRef:s}}});function Mqe(n,e,t,i,r,s){var o;const a=Te("el-dropdown-collection"),l=Te("el-roving-focus-group"),u=Te("el-focus-trap"),c=Te("el-scrollbar"),d=Te("el-tooltip"),h=Te("el-button"),f=Te("arrow-down"),g=Te("el-icon"),p=Te("el-button-group");return B(),te("div",{class:Z(n.ns.b())},[be(d,{ref:"popperRef",effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.hideTimeout,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":(o=n.referenceElementRef)==null?void 0:o.$el,trigger:n.trigger,"show-after":n.showTimeout,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,"append-to-body":"",pure:"",transition:`${n.ns.namespace.value}-zoom-in-top`,persistent:"",onShow:e[0]||(e[0]=m=>n.$emit("visible-change",!0)),onHide:e[1]||(e[1]=m=>n.$emit("visible-change",!1))},_y({content:De(()=>[be(c,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"ul","view-class":n.ns.e("list")},{default:De(()=>[be(u,{trapped:"",onMountOnFocus:n.onMountOnFocus},{default:De(()=>[be(l,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:De(()=>[be(a,null,{default:De(()=>[Xe(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["onMountOnFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:De(()=>[oe("div",{class:Z(n.dropdownTriggerKls)},[Xe(n.$slots,"default")],2)])}]),1032,["effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","show-after","virtual-ref","virtual-triggering","transition"]),n.splitButton?(B(),Oe(p,{key:0},{default:De(()=>[be(h,{ref:"referenceElementRef",size:n.dropdownSize,type:n.type,onClick:n.handlerMainButtonClick},{default:De(()=>[Xe(n.$slots,"default")]),_:3},8,["size","type","onClick"]),be(h,{ref:"triggeringElementRef",size:n.dropdownSize,type:n.type,class:Z(n.ns.e("caret-button"))},{default:De(()=>[be(g,{class:Z(n.ns.e("icon"))},{default:De(()=>[be(f)]),_:1},8,["class"])]),_:1},8,["size","type","class"])]),_:3})):Fe("v-if",!0)],2)}var Aqe=at(xqe,[["render",Mqe]]);const Rqe=Me({name:"DropdownItemImpl",components:{ElIcon:cn},props:rfe,emits:["pointermove","pointerleave","click"],setup(n,{emit:e}){const t=dt("dropdown"),{collectionItemRef:i}=mt(Tqe,void 0),{collectionItemRef:r}=mt(lqe,void 0),{rovingFocusGroupItemRef:s,tabIndex:o,handleFocus:a,handleKeydown:l,handleMousedown:u}=mt(ife,void 0),c=dde(i,r,s),d=eo(h=>{const{code:f}=h;if(f===Ct.enter||f===Ct.space)return h.preventDefault(),h.stopImmediatePropagation(),e("click",h),!0},l);return{ns:t,itemRef:c,dataset:{[tfe]:""},tabIndex:o,handleFocus:a,handleKeydown:d,handleMousedown:u}}}),Oqe=["aria-disabled","tabindex"];function Pqe(n,e,t,i,r,s){const o=Te("el-icon");return B(),te(kt,null,[n.divided?(B(),te("div",lo({key:0,class:n.ns.bem("menu","item","divided")},n.$attrs),null,16)):Fe("v-if",!0),oe("div",lo({ref:n.itemRef},Dt(Dt({},n.dataset),n.$attrs),{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:"menuitem",onClick:e[0]||(e[0]=a=>n.$emit("click",a)),onFocus:e[1]||(e[1]=(...a)=>n.handleFocus&&n.handleFocus(...a)),onKeydown:e[2]||(e[2]=(...a)=>n.handleKeydown&&n.handleKeydown(...a)),onMousedown:e[3]||(e[3]=(...a)=>n.handleMousedown&&n.handleMousedown(...a)),onPointermove:e[4]||(e[4]=a=>n.$emit("pointermove",a)),onPointerleave:e[5]||(e[5]=a=>n.$emit("pointerleave",a))}),[n.icon?(B(),Oe(o,{key:0},{default:De(()=>[(B(),Oe(Bn(n.icon)))]),_:1})):Fe("v-if",!0),Xe(n.$slots,"default")],16,Oqe)],64)}var Fqe=at(Rqe,[["render",Pqe]]);const ofe=()=>{const n=mt("elDropdown",{}),e=z(()=>n==null?void 0:n.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},Bqe=Me({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Dqe,ElRovingFocusItem:wqe,ElDropdownItemImpl:Fqe},inheritAttrs:!1,props:rfe,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:t}){const{elDropdown:i}=ofe(),r=en(),s=J(null),o=z(()=>{var f,g;return(g=(f=Ue(s))==null?void 0:f.textContent)!=null?g:""}),{onItemEnter:a,onItemLeave:l}=mt(wU,void 0),u=eo(f=>(e("pointermove",f),f.defaultPrevented),IJ(f=>{var g;n.disabled?l(f):(a(f),f.defaultPrevented||(g=f.currentTarget)==null||g.focus())})),c=eo(f=>(e("pointerleave",f),f.defaultPrevented),IJ(f=>{l(f)})),d=eo(f=>(e("click",f),f.defaultPrevented),f=>{var g,p,m;if(n.disabled){f.stopImmediatePropagation();return}((g=i==null?void 0:i.hideOnClick)==null?void 0:g.value)&&((p=i.handleClick)==null||p.call(i)),(m=i.commandHandler)==null||m.call(i,n.command,r,f)}),h=z(()=>Dt(Dt({},n),t));return{handleClick:d,handlePointerMove:u,handlePointerLeave:c,textContent:o,propsAndAttrs:h}}});function $qe(n,e,t,i,r,s){var o;const a=Te("el-dropdown-item-impl"),l=Te("el-roving-focus-item"),u=Te("el-dropdown-collection-item");return B(),Oe(u,{disabled:n.disabled,"text-value":(o=n.textValue)!=null?o:n.textContent},{default:De(()=>[be(l,{focusable:!n.disabled},{default:De(()=>[be(a,lo(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClick:n.handleClick}),{default:De(()=>[Xe(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClick"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var afe=at(Bqe,[["render",$qe]]);const Vqe=Me({name:"ElDropdownMenu",props:Sqe,setup(n){const e=dt("dropdown"),{_elDropdownSize:t}=ofe(),i=t.value,{focusTrapRef:r,onKeydown:s}=mt(efe,void 0),{contentRef:o}=mt(wU,void 0),{collectionRef:a,getItems:l}=mt(Iqe,void 0),{rovingFocusGroupRef:u,rovingFocusGroupRootStyle:c,tabIndex:d,onBlur:h,onFocus:f,onMousedown:g}=mt(CU,void 0),{collectionRef:p}=mt(bU,void 0),m=z(()=>[e.b("menu"),e.bm("menu",i==null?void 0:i.value)]),b=dde(o,a,r,u,p),_=eo(w=>{var S;(S=n.onKeydown)==null||S.call(n,w)},w=>{const{currentTarget:S,code:D,target:E}=w;if(S.contains(E),Ct.tab===D&&w.stopImmediatePropagation(),w.preventDefault(),E!==Ue(o)||!kqe.includes(D))return;const T=l().filter(M=>!M.disabled).map(M=>M.ref);sfe.includes(D)&&T.reverse(),yU(T)});return{size:i,rovingFocusGroupRootStyle:c,tabIndex:d,dropdownKls:m,dropdownListWrapperRef:b,handleKeydown:w=>{_(w),s(w)},onBlur:h,onFocus:f,onMousedown:g}}});function Wqe(n,e,t,i,r,s){return B(),te("ul",{ref:n.dropdownListWrapperRef,class:Z(n.dropdownKls),style:wt(n.rovingFocusGroupRootStyle),tabindex:-1,role:"menu",onBlur:e[0]||(e[0]=(...o)=>n.onBlur&&n.onBlur(...o)),onFocus:e[1]||(e[1]=(...o)=>n.onFocus&&n.onFocus(...o)),onKeydown:e[2]||(e[2]=(...o)=>n.handleKeydown&&n.handleKeydown(...o)),onMousedown:e[3]||(e[3]=(...o)=>n.onMousedown&&n.onMousedown(...o))},[Xe(n.$slots,"default")],38)}var lfe=at(Vqe,[["render",Wqe]]);const Hqe=wn(Aqe,{DropdownItem:afe,DropdownMenu:lfe}),zqe=Ur(afe),Uqe=Ur(lfe);let jqe=0;const Kqe=Me({name:"ImgEmpty",setup(){return{id:++jqe}}}),Gqe={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},qqe=["id"],Yqe=oe("stop",{"stop-color":"var(--el-empty-fill-color-1)",offset:"0%"},null,-1),Xqe=oe("stop",{"stop-color":"var(--el-empty-fill-color-4)",offset:"100%"},null,-1),Zqe=[Yqe,Xqe],Qqe=["id"],Jqe=oe("stop",{"stop-color":"var(--el-empty-fill-color-1)",offset:"0%"},null,-1),eYe=oe("stop",{"stop-color":"var(--el-empty-fill-color-6)",offset:"100%"},null,-1),tYe=[Jqe,eYe],nYe=["id"],iYe={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},rYe={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},sYe={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},oYe=oe("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"var(--el-empty-fill-color-3)"},null,-1),aYe=oe("polygon",{id:"Rectangle-Copy-14",fill:"var(--el-empty-fill-color-7)",transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,-1),lYe={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},uYe=oe("polygon",{id:"Rectangle-Copy-10",fill:"var(--el-empty-fill-color-7)",transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,-1),cYe=oe("polygon",{id:"Rectangle-Copy-11",fill:"var(--el-empty-fill-color-5)",points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,-1),dYe=["fill"],hYe=oe("polygon",{id:"Rectangle-Copy-13",fill:"var(--el-empty-fill-color-2)",transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,-1),fYe=["fill"],gYe={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},pYe=["id"],mYe=["xlink:href"],vYe=["xlink:href"],_Ye=["mask"],bYe=oe("polygon",{id:"Rectangle-Copy-18",fill:"var(--el-empty-fill-color-2)",transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,-1);function CYe(n,e,t,i,r,s){return B(),te("svg",Gqe,[oe("defs",null,[oe("linearGradient",{id:`linearGradient-1-${n.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},Zqe,8,qqe),oe("linearGradient",{id:`linearGradient-2-${n.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},tYe,8,Qqe),oe("rect",{id:`path-3-${n.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,nYe)]),oe("g",iYe,[oe("g",rYe,[oe("g",sYe,[oYe,aYe,oe("g",lYe,[uYe,cYe,oe("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${n.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,dYe),hYe]),oe("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${n.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,fYe),oe("g",gYe,[oe("mask",{id:`mask-4-${n.id}`,fill:"var(--el-empty-fill-color-0)"},[oe("use",{"xlink:href":`#path-3-${n.id}`},null,8,mYe)],8,pYe),oe("use",{id:"Mask",fill:"var(--el-empty-fill-color-8)",transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${n.id}`},null,8,vYe),oe("polygon",{id:"Rectangle-Copy",fill:"var(--el-empty-fill-color-9)",mask:`url(#mask-4-${n.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 -1.70530257e-13 16"},null,8,_Ye)]),bYe])])])])}var yYe=at(Kqe,[["render",CYe]]);const wYe={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},SYe=Me({name:"ElEmpty",components:{ImgEmpty:yYe},props:wYe,setup(n){const{t:e}=Oi(),t=dt("empty"),i=z(()=>n.description||e("el.table.emptyText")),r=z(()=>({width:n.imageSize?`${n.imageSize}px`:""}));return{ns:t,emptyDescription:i,imageStyle:r}}}),LYe=["src"],kYe={key:1};function EYe(n,e,t,i,r,s){const o=Te("img-empty");return B(),te("div",{class:Z(n.ns.b())},[oe("div",{class:Z(n.ns.e("image")),style:wt(n.imageStyle)},[n.image?(B(),te("img",{key:0,src:n.image,ondragstart:"return false"},null,8,LYe)):Xe(n.$slots,"image",{key:1},()=>[be(o)])],6),oe("div",{class:Z(n.ns.e("description"))},[n.$slots.description?Xe(n.$slots,"description",{key:0}):(B(),te("p",kYe,Je(n.emptyDescription),1))],2),n.$slots.default?(B(),te("div",{key:0,class:Z(n.ns.e("bottom"))},[Xe(n.$slots,"default")],2)):Fe("v-if",!0)],2)}var DYe=at(SYe,[["render",EYe]]);const IYe=wn(DYe);function TYe(){const n=J([]),e=z(()=>{if(!n.value.length)return"0";const s=Math.max(...n.value);return s?`${s}px`:""});function t(s){return n.value.indexOf(s)}function i(s,o){if(s&&o){const a=t(o);n.value.splice(a,1,s)}else s&&n.value.push(s)}function r(s){const o=t(s);o>-1&&n.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:i,deregisterLabelWidth:r}}const NYe=Me({name:"ElForm",props:{model:Object,rules:Object,labelPosition:String,labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean},emits:["validate"],setup(n,{emit:e}){const t=[];Ze(()=>n.rules,()=>{t.forEach(g=>{g.evaluateValidationEnabled()}),n.validateOnRuleChange&&c(()=>({}))});const i=As(),r="el-form",s=z(()=>{const{labelPosition:g,inline:p}=n;return[r,`${r}--${i.value}`,g?`${r}--label-${g}`:"",p?`${r}--inline`:""]}),o=g=>{g&&t.push(g)},a=g=>{g.prop&&t.splice(t.indexOf(g),1)},l=()=>{!n.model||t.forEach(g=>{g.resetField()})},u=(g=[])=>{(g.length?typeof g=="string"?t.filter(m=>g===m.prop):t.filter(m=>g.indexOf(m.prop)>-1):t).forEach(m=>{m.clearValidate()})},c=g=>{if(!n.model)return;let p;typeof g!="function"&&(p=new Promise((w,S)=>{g=function(D,E){D?w(!0):S(E)}})),t.length===0&&g(!0);let m=!0,b=0,_={},C;for(const w of t)w.validate("",(S,D)=>{S&&(m=!1,C||(C=D)),_=Dt(Dt({},_),D),++b===t.length&&g(m,_)});return!m&&n.scrollToError&&h(Object.keys(C)[0]),p},d=(g,p)=>{g=[].concat(g);const m=t.filter(b=>g.indexOf(b.prop)!==-1);!t.length||m.forEach(b=>{b.validate("",p)})},h=g=>{t.forEach(p=>{var m,b;p.prop===g&&((b=(m=p.$el).scrollIntoView)==null||b.call(m))})},f=xi(Dt(gn(Dt({},Ko(n)),{resetFields:l,clearValidate:u,validateField:d,emit:e,addField:o,removeField:a}),TYe()));return vn(Zl,f),{formKls:s,validate:c,resetFields:l,clearValidate:u,validateField:d,scrollToField:h}}});function xYe(n,e,t,i,r,s){return B(),te("form",{class:Z(n.formKls)},[Xe(n.$slots,"default")],2)}var MYe=at(NYe,[["render",xYe]]);function O0(){return O0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},O0.apply(this,arguments)}function AYe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,rk(n,e)}function s9(n){return s9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s9(n)}function rk(n,e){return rk=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},rk(n,e)}function RYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ZN(n,e,t){return RYe()?ZN=Reflect.construct:ZN=function(r,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(r,a),u=new l;return o&&rk(u,o.prototype),u},ZN.apply(null,arguments)}function OYe(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function o9(n){var e=typeof Map=="function"?new Map:void 0;return o9=function(i){if(i===null||!OYe(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return ZN(i,arguments,s9(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),rk(r,i)},o9(n)}var PYe=/%[sdj%]/g,FYe=function(){};typeof process!="undefined"&&process.env;function a9(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)}),e}function wu(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=0,s=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var o=n.replace(PYe,function(a){if(a==="%%")return"%";if(r>=s)return a;switch(a){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return a}});return o}return n}function BYe(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Mo(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||BYe(e)&&typeof n=="string"&&!n)}function $Ye(n,e,t){var i=[],r=0,s=n.length;function o(a){i.push.apply(i,a||[]),r++,r===s&&t(i)}n.forEach(function(a){e(a,o)})}function Pee(n,e,t){var i=0,r=n.length;function s(o){if(o&&o.length){t(o);return}var a=i;i=i+1,a<r?e(n[a],s):t([])}s([])}function VYe(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var Fee=function(n){AYe(e,n);function e(t,i){var r;return r=n.call(this,"Async Validation Error")||this,r.errors=t,r.fields=i,r}return e}(o9(Error));function WYe(n,e,t,i,r){if(e.first){var s=new Promise(function(h,f){var g=function(b){return i(b),b.length?f(new Fee(b,a9(b))):h(r)},p=VYe(n);Pee(p,t,g)});return s.catch(function(h){return h}),s}var o=e.firstFields===!0?Object.keys(n):e.firstFields||[],a=Object.keys(n),l=a.length,u=0,c=[],d=new Promise(function(h,f){var g=function(m){if(c.push.apply(c,m),u++,u===l)return i(c),c.length?f(new Fee(c,a9(c))):h(r)};a.length||(i(c),h(r)),a.forEach(function(p){var m=n[p];o.indexOf(p)!==-1?Pee(m,t,g):$Ye(m,t,g)})});return d.catch(function(h){return h}),d}function HYe(n){return!!(n&&n.message!==void 0)}function zYe(n,e){for(var t=n,i=0;i<e.length;i++){if(t==null)return t;t=t[e[i]]}return t}function Bee(n,e){return function(t){var i;return n.fullFields?i=zYe(e,n.fullFields):i=e[t.field||n.fullField],HYe(t)?(t.field=t.field||n.fullField,t.fieldValue=i,t):{message:typeof t=="function"?t():t,fieldValue:i,field:t.field||n.fullField}}}function $ee(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];typeof i=="object"&&typeof n[t]=="object"?n[t]=O0({},n[t],i):n[t]=i}}return n}var ufe=function(e,t,i,r,s,o){e.required&&(!i.hasOwnProperty(e.field)||Mo(t,o||e.type))&&r.push(wu(s.messages.required,e.fullField))},UYe=function(e,t,i,r,s){(/^\s+$/.test(t)||t==="")&&r.push(wu(s.messages.whitespace,e.fullField))},lF={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},o2={integer:function(e){return o2.number(e)&&parseInt(e,10)===e},float:function(e){return o2.number(e)&&!o2.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!o2.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(lF.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(lF.url)},hex:function(e){return typeof e=="string"&&!!e.match(lF.hex)}},jYe=function(e,t,i,r,s){if(e.required&&t===void 0){ufe(e,t,i,r,s);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?o2[a](t)||r.push(wu(s.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(wu(s.messages.types[a],e.fullField,e.type))},KYe=function(e,t,i,r,s){var o=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,d=null,h=typeof t=="number",f=typeof t=="string",g=Array.isArray(t);if(h?d="number":f?d="string":g&&(d="array"),!d)return!1;g&&(c=t.length),f&&(c=t.replace(u,"_").length),o?c!==e.len&&r.push(wu(s.messages[d].len,e.fullField,e.len)):a&&!l&&c<e.min?r.push(wu(s.messages[d].min,e.fullField,e.min)):l&&!a&&c>e.max?r.push(wu(s.messages[d].max,e.fullField,e.max)):a&&l&&(c<e.min||c>e.max)&&r.push(wu(s.messages[d].range,e.fullField,e.min,e.max))},vb="enum",GYe=function(e,t,i,r,s){e[vb]=Array.isArray(e[vb])?e[vb]:[],e[vb].indexOf(t)===-1&&r.push(wu(s.messages[vb],e.fullField,e[vb].join(", ")))},qYe=function(e,t,i,r,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(wu(s.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||r.push(wu(s.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Di={required:ufe,whitespace:UYe,type:jYe,range:KYe,enum:GYe,pattern:qYe},YYe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t,"string")&&!e.required)return i();Di.required(e,t,r,o,s,"string"),Mo(t,"string")||(Di.type(e,t,r,o,s),Di.range(e,t,r,o,s),Di.pattern(e,t,r,o,s),e.whitespace===!0&&Di.whitespace(e,t,r,o,s))}i(o)},XYe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s),t!==void 0&&Di.type(e,t,r,o,s)}i(o)},ZYe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(t===""&&(t=void 0),Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s),t!==void 0&&(Di.type(e,t,r,o,s),Di.range(e,t,r,o,s))}i(o)},QYe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s),t!==void 0&&Di.type(e,t,r,o,s)}i(o)},JYe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s),Mo(t)||Di.type(e,t,r,o,s)}i(o)},eXe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s),t!==void 0&&(Di.type(e,t,r,o,s),Di.range(e,t,r,o,s))}i(o)},tXe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s),t!==void 0&&(Di.type(e,t,r,o,s),Di.range(e,t,r,o,s))}i(o)},nXe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(t==null&&!e.required)return i();Di.required(e,t,r,o,s,"array"),t!=null&&(Di.type(e,t,r,o,s),Di.range(e,t,r,o,s))}i(o)},iXe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s),t!==void 0&&Di.type(e,t,r,o,s)}i(o)},rXe="enum",sXe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s),t!==void 0&&Di[rXe](e,t,r,o,s)}i(o)},oXe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t,"string")&&!e.required)return i();Di.required(e,t,r,o,s),Mo(t,"string")||Di.pattern(e,t,r,o,s)}i(o)},aXe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t,"date")&&!e.required)return i();if(Di.required(e,t,r,o,s),!Mo(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),Di.type(e,l,r,o,s),l&&Di.range(e,l.getTime(),r,o,s)}}i(o)},lXe=function(e,t,i,r,s){var o=[],a=Array.isArray(t)?"array":typeof t;Di.required(e,t,r,o,s,a),i(o)},uF=function(e,t,i,r,s){var o=e.type,a=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(Mo(t,o)&&!e.required)return i();Di.required(e,t,r,a,s,o),Mo(t,o)||Di.type(e,t,r,a,s)}i(a)},uXe=function(e,t,i,r,s){var o=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(Mo(t)&&!e.required)return i();Di.required(e,t,r,o,s)}i(o)},F2={string:YYe,method:XYe,number:ZYe,boolean:QYe,regexp:JYe,integer:eXe,float:tXe,array:nXe,object:iXe,enum:sXe,pattern:oXe,date:aXe,url:uF,hex:uF,email:uF,required:lXe,any:uXe};function l9(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var u9=l9(),eD=function(){function n(t){this.rules=null,this._messages=u9,this.define(t)}var e=n.prototype;return e.define=function(i){var r=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(s){var o=i[s];r.rules[s]=Array.isArray(o)?o:[o]})},e.messages=function(i){return i&&(this._messages=$ee(l9(),i)),this._messages},e.validate=function(i,r,s){var o=this;r===void 0&&(r={}),s===void 0&&(s=function(){});var a=i,l=r,u=s;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function c(p){var m=[],b={};function _(w){if(Array.isArray(w)){var S;m=(S=m).concat.apply(S,w)}else m.push(w)}for(var C=0;C<p.length;C++)_(p[C]);m.length?(b=a9(m),u(m,b)):u(null,a)}if(l.messages){var d=this.messages();d===u9&&(d=l9()),$ee(d,l.messages),l.messages=d}else l.messages=this.messages();var h={},f=l.keys||Object.keys(this.rules);f.forEach(function(p){var m=o.rules[p],b=a[p];m.forEach(function(_){var C=_;typeof C.transform=="function"&&(a===i&&(a=O0({},a)),b=a[p]=C.transform(b)),typeof C=="function"?C={validator:C}:C=O0({},C),C.validator=o.getValidationMethod(C),!!C.validator&&(C.field=p,C.fullField=C.fullField||p,C.type=o.getType(C),h[p]=h[p]||[],h[p].push({rule:C,value:b,source:a,field:p}))})});var g={};return WYe(h,l,function(p,m){var b=p.rule,_=(b.type==="object"||b.type==="array")&&(typeof b.fields=="object"||typeof b.defaultField=="object");_=_&&(b.required||!b.required&&p.value),b.field=p.field;function C(D,E){return O0({},E,{fullField:b.fullField+"."+D,fullFields:b.fullFields?[].concat(b.fullFields,[D]):[D]})}function w(D){D===void 0&&(D=[]);var E=Array.isArray(D)?D:[D];!l.suppressWarning&&E.length&&n.warning("async-validator:",E),E.length&&b.message!==void 0&&(E=[].concat(b.message));var I=E.map(Bee(b,a));if(l.first&&I.length)return g[b.field]=1,m(I);if(!_)m(I);else{if(b.required&&!p.value)return b.message!==void 0?I=[].concat(b.message).map(Bee(b,a)):l.error&&(I=[l.error(b,wu(l.messages.required,b.field))]),m(I);var T={};b.defaultField&&Object.keys(p.value).map(function(O){T[O]=b.defaultField}),T=O0({},T,p.rule.fields);var M={};Object.keys(T).forEach(function(O){var F=T[O],U=Array.isArray(F)?F:[F];M[O]=U.map(C.bind(null,O))});var A=new n(M);A.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),A.validate(p.value,p.rule.options||l,function(O){var F=[];I&&I.length&&F.push.apply(F,I),O&&O.length&&F.push.apply(F,O),m(F.length?F:null)})}}var S;b.asyncValidator?S=b.asyncValidator(b,p.value,w,p.source,l):b.validator&&(S=b.validator(b,p.value,w,p.source,l),S===!0?w():S===!1?w(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||(b.fullField||b.field)+" fails"):S instanceof Array?w(S):S instanceof Error&&w(S.message)),S&&S.then&&S.then(function(){return w()},function(D){return w(D)})},function(p){c(p)},a)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!F2.hasOwnProperty(i.type))throw new Error(wu("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var r=Object.keys(i),s=r.indexOf("message");return s!==-1&&r.splice(s,1),r.length===1&&r[0]==="required"?F2.required:F2[this.getType(i)]||void 0},n}();eD.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");F2[e]=t};eD.warning=FYe;eD.messages=u9;eD.validators=F2;var cXe=Me({name:"ElLabelWrap",props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=J(null),i=mt(Zl),r=mt(Kd),s=J(0);Ze(s,(c,d)=>{n.updateAll&&(i.registerLabelWidth(c,d),r.updateComputedLabelWidth(c))});const o=()=>{var c;if((c=t.value)==null?void 0:c.firstElementChild){const d=window.getComputedStyle(t.value.firstElementChild).width;return Math.ceil(parseFloat(d))}else return 0},a=(c="update")=>{Nt(()=>{e.default&&n.isAutoWidth&&(c==="update"?s.value=o():c==="remove"&&i.deregisterLabelWidth(s.value))})},l=()=>a("update");rn(()=>{_v(t.value.firstElementChild,l),l()}),Xl(l),Er(()=>{var c;a("remove"),bv((c=t.value)==null?void 0:c.firstElementChild,l)});function u(){var c,d;if(!e)return null;if(n.isAutoWidth){const h=i.autoLabelWidth,f={};if(h&&h!=="auto"){const g=Math.max(0,parseInt(h,10)-s.value),p=i.labelPosition==="left"?"marginRight":"marginLeft";g&&(f[p]=`${g}px`)}return st("div",{ref:t,class:["el-form-item__label-wrap"],style:f},(c=e.default)==null?void 0:c.call(e))}else return st(kt,{ref:t},(d=e.default)==null?void 0:d.call(e))}return u}});const dXe=Me({name:"ElFormItem",componentName:"ElFormItem",components:{LabelWrap:cXe},props:{label:String,labelWidth:{type:[String,Number],default:""},prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,validator:zl}},setup(n,{slots:e}){const t=mt(Zl,{}),i=J(""),r=J(""),s=J(!1),o=J(""),a=J(),l=en(),u=z(()=>{let O=l.parent;for(;O&&O.type.name!=="ElForm";){if(O.type.name==="ElFormItem")return!0;O=O.parent}return!1});let c;Ze(()=>n.error,O=>{r.value=O,i.value=O?"error":""},{immediate:!0}),Ze(()=>n.validateStatus,O=>{i.value=O});const d=z(()=>n.for||n.prop),h=z(()=>{const O={};if(t.labelPosition==="top")return O;const F=xd(n.labelWidth||t.labelWidth);return F&&(O.width=F),O}),f=z(()=>{const O={};if(t.labelPosition==="top"||t.inline||!n.label&&!n.labelWidth&&u.value)return O;const F=xd(n.labelWidth||t.labelWidth);return!n.label&&!e.label&&(O.marginLeft=F),O}),g=z(()=>{const O=t.model;if(!O||!n.prop)return;let F=n.prop;return F.indexOf(":")!==-1&&(F=F.replace(/:/,".")),FN(O,F,!0).v}),p=z(()=>{const O=w();let F=!1;return O&&O.length&&O.every(U=>U.required?(F=!0,!1):!0),F}),m=As(void 0,{formItem:!1}),b=(O,F=ur)=>{if(!s.value){F();return}const U=S(O);if((!U||U.length===0)&&n.required===void 0){F();return}i.value="validating";const V={};U&&U.length>0&&U.forEach(X=>{delete X.trigger}),V[n.prop]=U;const G=new eD(V),j={};j[n.prop]=g.value,G.validate(j,{firstFields:!0},(X,ie)=>{var Ce;i.value=X?"error":"success",r.value=X?X[0].message||`${n.prop} is required`:"",F(r.value,X?ie:{}),(Ce=t.emit)==null||Ce.call(t,"validate",n.prop,!X,r.value||null)})},_=()=>{i.value="",r.value=""},C=()=>{const O=t.model,F=g.value;let U=n.prop;U.indexOf(":")!==-1&&(U=U.replace(/:/,"."));const V=FN(O,U,!0);Array.isArray(F)?V.o[V.k]=[].concat(c):V.o[V.k]=c,Nt(()=>{_()})},w=()=>{const O=t.rules,F=n.rules,U=n.required!==void 0?{required:!!n.required}:[],V=FN(O,n.prop||"",!1),G=O?V.o[n.prop||""]||V.v:[];return[].concat(F||G||[]).concat(U)},S=O=>w().filter(U=>!U.trigger||O===""?!0:Array.isArray(U.trigger)?U.trigger.indexOf(O)>-1:U.trigger===O).map(U=>Dt({},U)),D=()=>{var O;s.value=!!((O=w())==null?void 0:O.length)},E=O=>{o.value=O?`${O}px`:""},I=xi(gn(Dt({},Ko(n)),{size:m,validateState:i,$el:a,evaluateValidationEnabled:D,resetField:C,clearValidate:_,validate:b,updateComputedLabelWidth:E}));rn(()=>{if(n.prop){t==null||t.addField(I);const O=g.value;c=Array.isArray(O)?[...O]:O,D()}}),Er(()=>{t==null||t.removeField(I)}),vn(Kd,I);const T=z(()=>[{"el-form-item--feedback":t.statusIcon,"is-error":i.value==="error","is-validating":i.value==="validating","is-success":i.value==="success","is-required":p.value||n.required,"is-no-asterisk":t.hideRequiredAsterisk},m.value?`el-form-item--${m.value}`:""]),M=z(()=>i.value==="error"&&n.showMessage&&t.showMessage),A=z(()=>(n.label||"")+(t.labelSuffix||""));return{formItemRef:a,formItemClass:T,shouldShowError:M,elForm:t,labelStyle:h,contentStyle:f,validateMessage:r,labelFor:d,resetField:C,clearValidate:_,currentLabel:A}}}),hXe=["for"];function fXe(n,e,t,i,r,s){const o=Te("LabelWrap");return B(),te("div",{ref:"formItemRef",class:Z(["el-form-item",n.formItemClass])},[be(o,{"is-auto-width":n.labelStyle.width==="auto","update-all":n.elForm.labelWidth==="auto"},{default:De(()=>[n.label||n.$slots.label?(B(),te("label",{key:0,for:n.labelFor,class:"el-form-item__label",style:wt(n.labelStyle)},[Xe(n.$slots,"label",{label:n.currentLabel},()=>[xn(Je(n.currentLabel),1)])],12,hXe)):Fe("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),oe("div",{class:"el-form-item__content",style:wt(n.contentStyle)},[Xe(n.$slots,"default"),be(Cs,{name:"el-zoom-in-top"},{default:De(()=>[n.shouldShowError?Xe(n.$slots,"error",{key:0,error:n.validateMessage},()=>[oe("div",{class:Z(["el-form-item__error",{"el-form-item__error--inline":typeof n.inlineMessage=="boolean"?n.inlineMessage:n.elForm.inlineMessage||!1}])},Je(n.validateMessage),3)]):Fe("v-if",!0)]),_:3})],4)],2)}var cfe=at(dXe,[["render",fXe]]);const gXe=wn(MYe,{FormItem:cfe}),pXe=Ur(cfe),mXe=Wt({urlList:{type:It(Array),default:()=>zs([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1}}),vXe={close:()=>!0,switch:n=>typeof n=="number"},IS={CONTAIN:{name:"contain",icon:py(j6e)},ORIGINAL:{name:"original",icon:py(qBe)}},_Xe=gde()?"DOMMouseScroll":"mousewheel",bXe=Me({name:"ElImageViewer",components:{ElIcon:cn,Close:Td,ArrowLeft:S1,ArrowRight:Hc,ZoomOut:F9e,ZoomIn:lde,RefreshLeft:PBe,RefreshRight:HBe},props:mXe,emits:vXe,setup(n,{emit:e}){const{t}=Oi(),i=dt("image-viewer"),{nextZIndex:r}=yv(),s=J(),o=J([]),a=fle(),l=J(!0),u=J(n.initialIndex),c=J(IS.CONTAIN),d=J({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),h=z(()=>{const{urlList:F}=n;return F.length<=1}),f=z(()=>u.value===0),g=z(()=>u.value===n.urlList.length-1),p=z(()=>n.urlList[u.value]),m=z(()=>{const{scale:F,deg:U,offsetX:V,offsetY:G,enableTransition:j}=d.value;let X=V/F,ie=G/F;switch(U%360){case 90:case-270:[X,ie]=[ie,-X];break;case 180:case-180:[X,ie]=[-X,-ie];break;case 270:case-90:[X,ie]=[-ie,X];break}const Ce={transform:`scale(${F}) rotate(${U}deg) translate(${X}px, ${ie}px)`,transition:j?"transform .3s":""};return c.value.name===IS.CONTAIN.name&&(Ce.maxWidth=Ce.maxHeight="100%"),Ce}),b=z(()=>ei(n.zIndex)?n.zIndex:r());function _(){w(),e("close")}function C(){const F=J0(V=>{switch(V.code){case Ct.esc:_();break;case Ct.space:T();break;case Ct.left:M();break;case Ct.up:O("zoomIn");break;case Ct.right:A();break;case Ct.down:O("zoomOut");break}}),U=J0(V=>{(V.wheelDelta?V.wheelDelta:-V.detail)>0?O("zoomIn",{zoomRate:1.2,enableTransition:!1}):O("zoomOut",{zoomRate:1.2,enableTransition:!1})});a.run(()=>{no(document,"keydown",F),no(document,_Xe,U)})}function w(){a.stop()}function S(){l.value=!1}function D(F){l.value=!1,F.target.alt=t("el.image.error")}function E(F){if(l.value||F.button!==0||!s.value)return;d.value.enableTransition=!1;const{offsetX:U,offsetY:V}=d.value,G=F.pageX,j=F.pageY,X=J0(Ce=>{d.value=gn(Dt({},d.value),{offsetX:U+Ce.pageX-G,offsetY:V+Ce.pageY-j})}),ie=no(document,"mousemove",X);no(document,"mouseup",()=>{ie()}),F.preventDefault()}function I(){d.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function T(){if(l.value)return;const F=Object.keys(IS),U=Object.values(IS),V=c.value.name,j=(U.findIndex(X=>X.name===V)+1)%F.length;c.value=IS[F[j]],I()}function M(){if(f.value&&!n.infinite)return;const F=n.urlList.length;u.value=(u.value-1+F)%F}function A(){if(g.value&&!n.infinite)return;const F=n.urlList.length;u.value=(u.value+1)%F}function O(F,U={}){if(l.value)return;const{zoomRate:V,rotateDeg:G,enableTransition:j}=Dt({zoomRate:1.4,rotateDeg:90,enableTransition:!0},U);switch(F){case"zoomOut":d.value.scale>.2&&(d.value.scale=parseFloat((d.value.scale/V).toFixed(3)));break;case"zoomIn":d.value.scale<7&&(d.value.scale=parseFloat((d.value.scale*V).toFixed(3)));break;case"clockwise":d.value.deg+=G;break;case"anticlockwise":d.value.deg-=G;break}d.value.enableTransition=j}return Ze(p,()=>{Nt(()=>{const F=o.value[0];(F==null?void 0:F.complete)||(l.value=!0)})}),Ze(u,F=>{I(),e("switch",F)}),rn(()=>{var F,U;C(),(U=(F=s.value)==null?void 0:F.focus)==null||U.call(F)}),{index:u,wrapper:s,imgRefs:o,isSingle:h,isFirst:f,isLast:g,currentImg:p,imgStyle:m,mode:c,computedZIndex:b,handleActions:O,prev:M,next:A,hide:_,toggleMode:T,handleImgLoad:S,handleImgError:D,handleMouseDown:E,ns:i}}}),CXe=["src"];function yXe(n,e,t,i,r,s){const o=Te("close"),a=Te("el-icon"),l=Te("arrow-left"),u=Te("arrow-right"),c=Te("zoom-out"),d=Te("zoom-in"),h=Te("refresh-left"),f=Te("refresh-right");return B(),Oe(zE,{to:"body",disabled:!n.teleported},[be(Cs,{name:"viewer-fade",appear:""},{default:De(()=>[oe("div",{ref:"wrapper",tabindex:-1,class:Z(n.ns.e("wrapper")),style:wt({zIndex:n.computedZIndex})},[oe("div",{class:Z(n.ns.e("mask")),onClick:e[0]||(e[0]=Ft(g=>n.hideOnClickModal&&n.hide(),["self"]))},null,2),Fe(" CLOSE "),oe("span",{class:Z([n.ns.e("btn"),n.ns.e("close")]),onClick:e[1]||(e[1]=(...g)=>n.hide&&n.hide(...g))},[be(a,null,{default:De(()=>[be(o)]),_:1})],2),Fe(" ARROW "),n.isSingle?Fe("v-if",!0):(B(),te(kt,{key:0},[oe("span",{class:Z([n.ns.e("btn"),n.ns.e("prev"),n.ns.is("disabled",!n.infinite&&n.isFirst)]),onClick:e[2]||(e[2]=(...g)=>n.prev&&n.prev(...g))},[be(a,null,{default:De(()=>[be(l)]),_:1})],2),oe("span",{class:Z([n.ns.e("btn"),n.ns.e("next"),n.ns.is("disabled",!n.infinite&&n.isLast)]),onClick:e[3]||(e[3]=(...g)=>n.next&&n.next(...g))},[be(a,null,{default:De(()=>[be(u)]),_:1})],2)],64)),Fe(" ACTIONS "),oe("div",{class:Z([n.ns.e("btn"),n.ns.e("actions")])},[oe("div",{class:Z(n.ns.e("actions__inner"))},[be(a,{onClick:e[4]||(e[4]=g=>n.handleActions("zoomOut"))},{default:De(()=>[be(c)]),_:1}),be(a,{onClick:e[5]||(e[5]=g=>n.handleActions("zoomIn"))},{default:De(()=>[be(d)]),_:1}),oe("i",{class:Z(n.ns.e("actions__divider"))},null,2),be(a,{onClick:n.toggleMode},{default:De(()=>[(B(),Oe(Bn(n.mode.icon)))]),_:1},8,["onClick"]),oe("i",{class:Z(n.ns.e("actions__divider"))},null,2),be(a,{onClick:e[6]||(e[6]=g=>n.handleActions("anticlockwise"))},{default:De(()=>[be(h)]),_:1}),be(a,{onClick:e[7]||(e[7]=g=>n.handleActions("clockwise"))},{default:De(()=>[be(f)]),_:1})],2)],2),Fe(" CANVAS "),oe("div",{class:Z(n.ns.e("canvas"))},[(B(!0),te(kt,null,$n(n.urlList,(g,p)=>Ht((B(),te("img",{ref_for:!0,ref:m=>n.imgRefs[p]=m,key:g,src:g,style:wt(n.imgStyle),class:Z(n.ns.e("img")),onLoad:e[8]||(e[8]=(...m)=>n.handleImgLoad&&n.handleImgLoad(...m)),onError:e[9]||(e[9]=(...m)=>n.handleImgError&&n.handleImgError(...m)),onMousedown:e[10]||(e[10]=(...m)=>n.handleMouseDown&&n.handleMouseDown(...m))},null,46,CXe)),[[zn,p===n.index]])),128))],2),Xe(n.$slots,"default")],6)]),_:3})],8,["disabled"])}var wXe=at(bXe,[["render",yXe]]);const dfe=wn(wXe),SXe=Wt({appendToBody:{type:Boolean,default:void 0},hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},lazy:{type:Boolean,default:!1},scrollContainer:{type:It([String,Object])},previewSrcList:{type:It(Array),default:()=>zs([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0}}),LXe={error:n=>n instanceof Event,switch:n=>ei(n),close:()=>!0},kXe=n=>n&&n.nodeType===Node.ELEMENT_NODE;let Vee="";const EXe=Me({name:"ElImage",components:{ImageViewer:dfe},inheritAttrs:!1,props:SXe,emits:LXe,setup(n,{emit:e,attrs:t}){Sde({scope:"el-image",from:"append-to-body",replacement:"preview-teleported",version:"2.2.0",ref:"https://element-plus.org/en-US/component/image.html#image-attributess"},z(()=>Ol(n.appendToBody)));const{t:i}=Oi(),r=dt("image"),s=tU(),o=J(!1),a=J(!0),l=J(0),u=J(0),c=J(!1),d=J(),h=J();let f,g;const p=z(()=>t.style),m=z(()=>{const{fit:V}=n;return Kn&&V?{objectFit:V}:{}}),b=z(()=>{const{previewSrcList:V}=n;return Array.isArray(V)&&V.length>0}),_=z(()=>n.appendToBody||n.previewTeleported),C=z(()=>{const{previewSrcList:V,initialIndex:G}=n;let j=G;return G>V.length-1&&(j=0),j}),w=()=>{if(!Kn)return;a.value=!0,o.value=!1;const V=new Image,G=n.src;V.addEventListener("load",j=>{G===n.src&&S(j,V)}),V.addEventListener("error",j=>{G===n.src&&D(j)}),Object.entries(s.value).forEach(([j,X])=>{j.toLowerCase()!=="onload"&&V.setAttribute(j,X)}),V.src=G};function S(V,G){l.value=G.width,u.value=G.height,a.value=!1,o.value=!1}function D(V){a.value=!1,o.value=!0,e("error",V)}function E(){TFe(d.value,h.value)&&(w(),M())}const I=Qce(E,200);async function T(){var V;if(!Kn)return;await Nt();const{scrollContainer:G}=n;kXe(G)?h.value=G:Or(G)&&G!==""?h.value=(V=document.querySelector(G))!=null?V:void 0:d.value&&(h.value=Xz(d.value)),h.value&&(f=no(h,"scroll",I),setTimeout(()=>E(),100))}function M(){!Kn||!h.value||!I||(f(),h.value=void 0)}function A(V){if(!!V.ctrlKey){if(V.deltaY<0)return V.preventDefault(),!1;if(V.deltaY>0)return V.preventDefault(),!1}}function O(){!b.value||(g=no("wheel",A,{passive:!1}),Vee=document.body.style.overflow,document.body.style.overflow="hidden",c.value=!0)}function F(){g==null||g(),document.body.style.overflow=Vee,c.value=!1,e("close")}function U(V){e("switch",V)}return Ze(()=>n.src,()=>{n.lazy?(a.value=!0,o.value=!1,M(),T()):w()}),rn(()=>{n.lazy?T():w()}),{attrs:s,loading:a,hasLoadError:o,showViewer:c,containerStyle:p,imageStyle:m,preview:b,imageIndex:C,container:d,ns:r,teleported:_,clickHandler:O,closeViewer:F,switchViewer:U,t:i}}}),DXe=["src"],IXe={key:0};function TXe(n,e,t,i,r,s){const o=Te("image-viewer");return B(),te("div",{ref:"container",class:Z([n.ns.b(),n.$attrs.class]),style:wt(n.containerStyle)},[n.loading?Xe(n.$slots,"placeholder",{key:0},()=>[oe("div",{class:Z(n.ns.e("placeholder"))},null,2)]):n.hasLoadError?Xe(n.$slots,"error",{key:1},()=>[oe("div",{class:Z(n.ns.e("error"))},Je(n.t("el.image.error")),3)]):(B(),te("img",lo({key:2},n.attrs,{src:n.src,style:n.imageStyle,class:[n.ns.e("inner"),n.preview?n.ns.e("preview"):""],onClick:e[0]||(e[0]=(...a)=>n.clickHandler&&n.clickHandler(...a))}),null,16,DXe)),n.preview?(B(),te(kt,{key:3},[n.showViewer?(B(),Oe(o,{key:0,"z-index":n.zIndex,"initial-index":n.imageIndex,"url-list":n.previewSrcList,"hide-on-click-modal":n.hideOnClickModal,teleported:n.teleported,onClose:n.closeViewer,onSwitch:n.switchViewer},{default:De(()=>[n.$slots.viewer?(B(),te("div",IXe,[Xe(n.$slots,"viewer")])):Fe("v-if",!0)]),_:3},8,["z-index","initial-index","url-list","hide-on-click-modal","teleported","onClose","onSwitch"])):Fe("v-if",!0)],2112)):Fe("v-if",!0)],6)}var NXe=at(EXe,[["render",TXe]]);const xXe=wn(NXe),MXe=Wt({step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},modelValue:{type:Number},disabled:{type:Boolean,default:!1},size:{type:String,values:NO},controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===parseInt(`${n}`,10)}}),AXe={change:(n,e)=>n!==e,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,input:n=>ei(n),"update:modelValue":n=>ei(n)||n===void 0},RXe=Me({name:"ElInputNumber",components:{ElInput:zc,ElIcon:cn,ArrowUp:XE,ArrowDown:w1,Plus:sde,Minus:aBe},directives:{RepeatClick:Mde},props:MXe,emits:AXe,setup(n,{emit:e}){const t=J(),i=xi({currentValue:n.modelValue,userInput:null}),{formItem:r}=Ow(),s=dt("input-number"),o=z(()=>m(n.modelValue)<n.min),a=z(()=>p(n.modelValue)>n.max),l=z(()=>{const M=g(n.step);return n.precision!==void 0?(M>n.precision,n.precision):Math.max(g(n.modelValue),M)}),u=z(()=>n.controls&&n.controlsPosition==="right"),c=As(),d=ZE(),h=z(()=>{if(i.userInput!==null)return i.userInput;let M=i.currentValue;if(ei(M)){if(Number.isNaN(M))return"";n.precision!==void 0&&(M=M.toFixed(n.precision))}return M}),f=(M,A)=>(A===void 0&&(A=l.value),parseFloat(`${Math.round(M*Math.pow(10,A))/Math.pow(10,A)}`)),g=M=>{if(M===void 0)return 0;const A=M.toString(),O=A.indexOf(".");let F=0;return O!==-1&&(F=A.length-O-1),F},p=M=>{if(!ei(M))return i.currentValue;const A=Math.pow(10,l.value);return M=ei(M)?M:NaN,f((A*M+A*n.step)/A)},m=M=>{if(!ei(M))return i.currentValue;const A=Math.pow(10,l.value);return M=ei(M)?M:NaN,f((A*M-A*n.step)/A)},b=()=>{if(d.value||a.value)return;const M=n.modelValue||0,A=p(M);C(A)},_=()=>{if(d.value||o.value)return;const M=n.modelValue||0,A=m(M);C(A)},C=M=>{var A;const O=i.currentValue;typeof M=="number"&&n.precision!==void 0&&(M=f(M,n.precision)),M!==void 0&&M>=n.max&&(M=n.max),M!==void 0&&M<=n.min&&(M=n.min),O!==M&&(ei(M)||(M=void 0),i.userInput=null,e("update:modelValue",M),e("input",M),e("change",M,O),(A=r==null?void 0:r.validate)==null||A.call(r,"change"),i.currentValue=M)},w=M=>i.userInput=M,S=M=>{const A=M!==""?Number(M):"";(ei(A)&&!Number.isNaN(A)||M==="")&&C(A),i.userInput=null},D=()=>{var M,A;(A=(M=t.value)==null?void 0:M.focus)==null||A.call(M)},E=()=>{var M,A;(A=(M=t.value)==null?void 0:M.blur)==null||A.call(M)},I=M=>{e("focus",M)},T=M=>{var A;e("blur",M),(A=r==null?void 0:r.validate)==null||A.call(r,"blur")};return Ze(()=>n.modelValue,M=>{let A=Number(M);if(M===null&&(A=Number.NaN),!isNaN(A)){if(n.stepStrictly){const O=g(n.step),F=Math.pow(10,O);A=Math.round(A/n.step)*F*n.step/F}n.precision!==void 0&&(A=f(A,n.precision)),A>n.max&&(A=n.max,e("update:modelValue",A)),A<n.min&&(A=n.min,e("update:modelValue",A))}i.currentValue=A,i.userInput=null},{immediate:!0}),rn(()=>{var M;const A=(M=t.value)==null?void 0:M.input;if(A.setAttribute("role","spinbutton"),A.setAttribute("aria-valuemax",String(n.max)),A.setAttribute("aria-valuemin",String(n.min)),A.setAttribute("aria-valuenow",String(i.currentValue)),A.setAttribute("aria-disabled",String(d.value)),!ei(n.modelValue)){let O=Number(n.modelValue);isNaN(O)&&(O=void 0),e("update:modelValue",O)}}),Xl(()=>{var M;const A=(M=t.value)==null?void 0:M.input;A==null||A.setAttribute("aria-valuenow",i.currentValue)}),{input:t,displayValue:h,handleInput:w,handleInputChange:S,controlsAtRight:u,decrease:_,increase:b,inputNumberSize:c,inputNumberDisabled:d,maxDisabled:a,minDisabled:o,focus:D,blur:E,handleFocus:I,handleBlur:T,ns:s}}});function OXe(n,e,t,i,r,s){const o=Te("arrow-down"),a=Te("minus"),l=Te("el-icon"),u=Te("arrow-up"),c=Te("plus"),d=Te("el-input"),h=xa("repeat-click");return B(),te("div",{class:Z([n.ns.b(),n.ns.m(n.inputNumberSize),n.ns.is("disabled",n.inputNumberDisabled),n.ns.is("without-controls",!n.controls),n.ns.is("controls-right",n.controlsAtRight)]),onDragstart:e[2]||(e[2]=Ft(()=>{},["prevent"]))},[n.controls?Ht((B(),te("span",{key:0,role:"button",class:Z([n.ns.e("decrease"),n.ns.is("disabled",n.minDisabled)]),onKeydown:e[0]||(e[0]=Cn((...f)=>n.decrease&&n.decrease(...f),["enter"]))},[be(l,null,{default:De(()=>[n.controlsAtRight?(B(),Oe(o,{key:0})):(B(),Oe(a,{key:1}))]),_:1})],34)),[[h,n.decrease]]):Fe("v-if",!0),n.controls?Ht((B(),te("span",{key:1,role:"button",class:Z([n.ns.e("increase"),n.ns.is("disabled",n.maxDisabled)]),onKeydown:e[1]||(e[1]=Cn((...f)=>n.increase&&n.increase(...f),["enter"]))},[be(l,null,{default:De(()=>[n.controlsAtRight?(B(),Oe(u,{key:0})):(B(),Oe(c,{key:1}))]),_:1})],34)),[[h,n.increase]]):Fe("v-if",!0),be(d,{ref:"input",type:"number",step:n.step,"model-value":n.displayValue,placeholder:n.placeholder,disabled:n.inputNumberDisabled,size:n.inputNumberSize,max:n.max,min:n.min,name:n.name,label:n.label,"validate-event":!1,onKeydown:[Cn(Ft(n.increase,["prevent"]),["up"]),Cn(Ft(n.decrease,["prevent"]),["down"])],onBlur:n.handleBlur,onFocus:n.handleFocus,onInput:n.handleInput,onChange:n.handleInputChange},null,8,["step","model-value","placeholder","disabled","size","max","min","name","label","onKeydown","onBlur","onFocus","onInput","onChange"])],34)}var PXe=at(RXe,[["render",OXe]]);const hfe=wn(PXe),FXe=Wt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:Ma,default:""}}),BXe={click:n=>n instanceof MouseEvent},$Xe=Me({name:"ElLink",components:{ElIcon:cn},props:FXe,emits:BXe,setup(n,{emit:e}){const t=dt("link");function i(r){n.disabled||e("click",r)}return{ns:t,handleClick:i}}}),VXe=["href"];function WXe(n,e,t,i,r,s){const o=Te("el-icon");return B(),te("a",{class:Z([n.ns.b(),n.type?n.ns.m(n.type):"",n.ns.is("disabled",n.disabled),n.ns.is("underline",n.underline&&!n.disabled)]),href:n.disabled||!n.href?void 0:n.href,onClick:e[0]||(e[0]=(...a)=>n.handleClick&&n.handleClick(...a))},[n.icon?(B(),Oe(o,{key:0},{default:De(()=>[(B(),Oe(Bn(n.icon)))]),_:1})):Fe("v-if",!0),n.$slots.default?(B(),te("span",{key:1,class:Z(n.ns.m("inner"))},[Xe(n.$slots,"default")],2)):Fe("v-if",!0),n.$slots.icon?Xe(n.$slots,"icon",{key:2}):Fe("v-if",!0)],10,VXe)}var HXe=at($Xe,[["render",WXe]]);const zXe=wn(HXe);class UXe{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",i=>{let r=!1;switch(i.code){case Ct.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case Ct.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case Ct.tab:{ON(e,"mouseleave");break}case Ct.enter:case Ct.space:{r=!0,i.currentTarget.click();break}}return r&&(i.preventDefault(),i.stopPropagation()),!1})})}}class jXe{constructor(e){this.domNode=e,this.submenu=null,this.submenu=null,this.init()}init(){this.domNode.setAttribute("tabindex","0");const e=this.domNode.querySelector(".el-menu");e&&(this.submenu=new UXe(this,e)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case Ct.down:{ON(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case Ct.up:{ON(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case Ct.tab:{ON(e.currentTarget,"mouseleave");break}case Ct.enter:case Ct.space:{t=!0,e.currentTarget.click();break}}t&&e.preventDefault()})}}class KXe{constructor(e){this.domNode=e,this.init()}init(){const e=this.domNode.childNodes;Array.from(e,t=>{t.nodeType===1&&new jXe(t)})}}const GXe=Me({name:"ElMenuCollapseTransition",setup(){return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(e,t){Rh(e,"el-opacity-transition"),e.style.opacity="1",t()},onAfterEnter(e){Pl(e,"el-opacity-transition"),e.style.opacity=""},onBeforeLeave(e){e.dataset||(e.dataset={}),Sd(e,"el-menu--collapse")?(Pl(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),Rh(e,"el-menu--collapse")):(Rh(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),Pl(e,"el-menu--collapse")),e.style.width=`${e.scrollWidth}px`,e.style.overflow="hidden"},onLeave(e){Rh(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}});function qXe(n,e,t,i,r,s){return B(),Oe(Cs,lo({mode:"out-in"},n.listeners),{default:De(()=>[Xe(n.$slots,"default")]),_:3},16)}var YXe=at(GXe,[["render",qXe]]);function ffe(n,e){const t=mt("rootMenu");t||ca("useMenu","can not inject root menu");const i=z(()=>{let o=n.parent;const a=[e.value];for(;o.type.name!=="ElMenu";)o.props.index&&a.unshift(o.props.index),o=o.parent;return a}),r=z(()=>{let o=n.parent;for(;o&&!["ElMenu","ElSubMenu"].includes(o.type.name);)o=o.parent;return o}),s=z(()=>{let o=n.parent;if(t.props.mode!=="vertical")return{};let a=20;if(t.props.collapse)a=20;else for(;o&&o.type.name!=="ElMenu";)o.type.name==="ElSubMenu"&&(a+=20),o=o.parent;return{paddingLeft:`${a}px`}});return{parentMenu:r,paddingStyle:s,indexPath:i}}function XXe(n){return z(()=>{const t=n.backgroundColor;return t?new ohe(t).shade(20).toString():""})}const gfe=n=>z(()=>({"--el-menu-text-color":n.textColor||"","--el-menu-hover-text-color":n.textColor||"","--el-menu-bg-color":n.backgroundColor||"","--el-menu-hover-bg-color":XXe(n).value||"","--el-menu-active-color":n.activeTextColor||""})),ZXe=Wt({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}}),cF="ElSubMenu";var SU=Me({name:cF,props:ZXe,setup(n,{slots:e,expose:t}){const i=en(),{paddingStyle:r,indexPath:s,parentMenu:o}=ffe(i,z(()=>n.index)),a=mt("rootMenu");a||ca(cF,"can not inject root menu");const l=mt(`subMenu:${o.value.uid}`);l||ca(cF,"can not inject sub menu");const u=J({}),c=J({});let d;const h=J(!1),f=J(),g=J(null),p=z(()=>M.value==="horizontal"&&b.value?"bottom-start":"right-start"),m=z(()=>M.value==="horizontal"&&b.value||M.value==="vertical"&&!a.props.collapse?w1:Hc),b=z(()=>{let X=!0,ie=i.parent;for(;ie&&ie.type.name!=="ElMenu";)if(["ElSubMenu","ElMenuItemGroup"].includes(ie.type.name)){X=!1;break}else ie=ie.parent;return X}),_=z(()=>n.popperAppendToBody===void 0?b.value:Boolean(n.popperAppendToBody)),C=z(()=>a.props.collapse?"el-zoom-in-left":"el-zoom-in-top"),w=z(()=>M.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),S=z(()=>a.openedMenus.includes(n.index)),D=z(()=>{let X=!1;return Object.values(u.value).forEach(ie=>{ie.active&&(X=!0)}),Object.values(c.value).forEach(ie=>{ie.active&&(X=!0)}),X}),E=z(()=>a.props.backgroundColor||""),I=z(()=>a.props.activeTextColor||""),T=z(()=>a.props.textColor||""),M=z(()=>a.props.mode),A=xi({index:n.index,indexPath:s,active:D}),O=z(()=>M.value!=="horizontal"?{color:T.value}:{borderBottomColor:D.value?a.props.activeTextColor?I.value:"":"transparent",color:D.value?I.value:T.value}),F=()=>{var X,ie,Ce;return(Ce=(ie=(X=g.value)==null?void 0:X.popperRef)==null?void 0:ie.popperInstanceRef)==null?void 0:Ce.destroy()},U=X=>{X||F()},V=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||n.disabled||a.handleSubMenuClick({index:n.index,indexPath:s.value,active:D.value})},G=(X,ie=n.showTimeout)=>{var Ce;X.type==="focus"&&!X.relatedTarget||a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||n.disabled||(l.mouseInChild.value=!0,d==null||d(),{stop:d}=ky(()=>{a.openMenu(n.index,s.value)},ie),_.value&&((Ce=o.value.vnode.el)==null||Ce.dispatchEvent(new MouseEvent("mouseenter"))))},j=(X=!1)=>{var ie,Ce;a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||(d==null||d(),l.mouseInChild.value=!1,{stop:d}=ky(()=>!h.value&&a.closeMenu(n.index,s.value),n.hideTimeout),_.value&&X&&((ie=i.parent)==null?void 0:ie.type.name)==="ElSubMenu"&&((Ce=l.handleMouseleave)==null||Ce.call(l,!0)))};Ze(()=>a.props.collapse,X=>U(Boolean(X)));{const X=Ce=>{c.value[Ce.index]=Ce},ie=Ce=>{delete c.value[Ce.index]};vn(`subMenu:${i.uid}`,{addSubMenu:X,removeSubMenu:ie,handleMouseleave:j,mouseInChild:h})}return t({opened:S}),rn(()=>{a.addSubMenu(A),l.addSubMenu(A)}),Er(()=>{l.removeSubMenu(A),a.removeSubMenu(A)}),()=>{var X;const ie=[(X=e.title)==null?void 0:X.call(e),st(cn,{class:["el-sub-menu__icon-arrow"]},{default:()=>st(m.value)})],Ce=gfe(a.props),Be=a.isMenuPopup?st(Ql,{ref:g,visible:S.value,effect:"light",pure:!0,offset:6,showArrow:!1,persistent:!0,popperClass:n.popperClass,placement:p.value,teleported:_.value,fallbackPlacements:w.value,transition:C.value,gpuAcceleration:!1},{content:()=>{var we;return st("div",{class:[`el-menu--${M.value}`,n.popperClass],onMouseenter:ke=>G(ke,100),onMouseleave:()=>j(!0),onFocus:ke=>G(ke,100)},[st("ul",{class:["el-menu el-menu--popup",`el-menu--popup-${p.value}`],style:Ce.value},[(we=e.default)==null?void 0:we.call(e)])])},default:()=>st("div",{class:"el-sub-menu__title",style:[r.value,O.value,{backgroundColor:E.value}],onClick:V},ie)}):st(kt,{},[st("div",{class:"el-sub-menu__title",style:[r.value,O.value,{backgroundColor:E.value}],ref:f,onClick:V},ie),st(FO,{},{default:()=>{var we;return Ht(st("ul",{role:"menu",class:"el-menu el-menu--inline",style:Ce.value},[(we=e.default)==null?void 0:we.call(e)]),[[zn,S.value]])}})]);return st("li",{class:["el-sub-menu",{"is-active":D.value,"is-opened":S.value,"is-disabled":n.disabled}],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:G,onMouseleave:()=>j(!0),onFocus:G},[Be])}}});const QXe=Wt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:It(Array),default:()=>zs([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),dF=n=>Array.isArray(n)&&n.every(e=>Or(e)),JXe={close:(n,e)=>Or(n)&&dF(e),open:(n,e)=>Or(n)&&dF(e),select:(n,e,t,i)=>Or(n)&&dF(e)&&so(t)&&(i===void 0||i instanceof Promise)};var eZe=Me({name:"ElMenu",props:QXe,emits:JXe,setup(n,{emit:e,slots:t,expose:i}){const r=en(),s=r.appContext.config.globalProperties.$router,o=J(),a=J(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),l=J(n.defaultActive),u=J({}),c=J({}),d=z(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse),h=()=>{const S=l.value&&u.value[l.value];if(!S||n.mode==="horizontal"||n.collapse)return;S.indexPath.forEach(E=>{const I=c.value[E];I&&f(E,I.indexPath)})},f=(S,D)=>{a.value.includes(S)||(n.uniqueOpened&&(a.value=a.value.filter(E=>D.includes(E))),a.value.push(S),e("open",S,D))},g=(S,D)=>{const E=a.value.indexOf(S);E!==-1&&a.value.splice(E,1),e("close",S,D)},p=({index:S,indexPath:D})=>{a.value.includes(S)?g(S,D):f(S,D)},m=S=>{(n.mode==="horizontal"||n.collapse)&&(a.value=[]);const{index:D,indexPath:E}=S;if(!(D===void 0||E===void 0))if(n.router&&s){const I=S.route||D,T=s.push(I).then(M=>(M||(l.value=D),M));e("select",D,E,{index:D,indexPath:E,route:I},T)}else l.value=D,e("select",D,E,{index:D,indexPath:E})},b=S=>{const D=u.value,E=D[S]||l.value&&D[l.value]||D[n.defaultActive];E?(l.value=E.index,h()):l.value=S},_=()=>{Nt(()=>r.proxy.$forceUpdate())};Ze(()=>n.defaultActive,S=>{u.value[S]||(l.value=""),b(S)}),Ze(u.value,()=>h()),Ze(()=>n.collapse,S=>{S&&(a.value=[])});{const S=T=>{c.value[T.index]=T},D=T=>{delete c.value[T.index]};vn("rootMenu",xi({props:n,openedMenus:a,items:u,subMenus:c,activeIndex:l,isMenuPopup:d,addMenuItem:T=>{u.value[T.index]=T},removeMenuItem:T=>{delete u.value[T.index]},addSubMenu:S,removeSubMenu:D,openMenu:f,closeMenu:g,handleMenuItemClick:m,handleSubMenuClick:p})),vn(`subMenu:${r.uid}`,{addSubMenu:S,removeSubMenu:D,mouseInChild:J(!1)})}rn(()=>{h(),n.mode==="horizontal"&&new KXe(r.vnode.el)}),i({open:D=>{const{indexPath:E}=c.value[D];E.forEach(I=>f(I,E))},close:g,handleResize:_});const C=S=>{const D=Array.isArray(S)?S:[S],E=[];return D.forEach(I=>{Array.isArray(I.children)?E.push(...C(I.children)):E.push(I)}),E},w=S=>n.mode==="horizontal"?Ht(S,[[B7e,_]]):S;return()=>{var S,D,E,I;let T=(D=(S=t.default)==null?void 0:S.call(t))!=null?D:[];const M=[];if(n.mode==="horizontal"&&o.value){const U=Array.from((I=(E=o.value)==null?void 0:E.childNodes)!=null?I:[]).filter(Se=>Se.nodeName!=="#text"||Se.nodeValue),V=C(T),G=64,j=parseInt(getComputedStyle(o.value).paddingLeft,10),X=parseInt(getComputedStyle(o.value).paddingRight,10),ie=o.value.clientWidth-j-X;let Ce=0,Be=0;U.forEach((Se,fe)=>{Ce+=Se.offsetWidth||0,Ce<=ie-G&&(Be=fe+1)});const we=V.slice(0,Be),ke=V.slice(Be);(ke==null?void 0:ke.length)&&n.ellipsis&&(T=we,M.push(st(SU,{index:"sub-menu-more",class:"el-sub-menu__hide-arrow"},{title:()=>st(cn,{class:["el-sub-menu__icon-more"]},{default:()=>st(bBe)}),default:()=>ke})))}const A=gfe(n),O=U=>n.ellipsis?w(U):U,F=O(st("ul",{key:String(n.collapse),role:"menubar",ref:o,style:A.value,class:{"el-menu":!0,"el-menu--horizontal":n.mode==="horizontal","el-menu--collapse":n.collapse}},[...T.map(U=>O(U)),...M]));return n.collapseTransition&&n.mode==="vertical"?st(YXe,()=>F):F}}});const tZe=Wt({index:{type:It([String,null]),default:null},route:{type:It([String,Object])},disabled:Boolean}),nZe={click:n=>Or(n.index)&&Array.isArray(n.indexPath)},hF="ElMenuItem",iZe=Me({name:hF,components:{ElTooltip:Ql},props:tZe,emits:nZe,setup(n,{emit:e}){const t=en(),i=mt("rootMenu");i||ca(hF,"can not inject root menu");const{parentMenu:r,paddingStyle:s,indexPath:o}=ffe(t,Uo(n,"index")),a=mt(`subMenu:${r.value.uid}`);a||ca(hF,"can not inject sub menu");const l=z(()=>n.index===i.activeIndex),u=xi({index:n.index,indexPath:o,active:l}),c=()=>{n.disabled||(i.handleMenuItemClick({index:n.index,indexPath:o.value,route:n.route}),e("click",u))};return rn(()=>{a.addSubMenu(u),i.addMenuItem(u)}),Er(()=>{a.removeSubMenu(u),i.removeMenuItem(u)}),{Effect:_Ve,parentMenu:r,rootMenu:i,paddingStyle:s,active:l,handleClick:c}}}),rZe={style:{position:"absolute",left:0,top:0,height:"100%",width:"100%",display:"inline-block",boxSizing:"border-box",padding:"0 20px"}};function sZe(n,e,t,i,r,s){const o=Te("el-tooltip");return B(),te("li",{class:Z(["el-menu-item",{"is-active":n.active,"is-disabled":n.disabled}]),role:"menuitem",tabindex:"-1",style:wt(n.paddingStyle),onClick:e[0]||(e[0]=(...a)=>n.handleClick&&n.handleClick(...a))},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?(B(),Oe(o,{key:0,effect:n.Effect.DARK,placement:"right",persistent:""},{content:De(()=>[Xe(n.$slots,"title")]),default:De(()=>[oe("div",rZe,[Xe(n.$slots,"default")])]),_:3},8,["effect"])):(B(),te(kt,{key:1},[Xe(n.$slots,"default"),Xe(n.$slots,"title")],64))],6)}var pfe=at(iZe,[["render",sZe]]);const oZe={title:String},Wee="ElMenuItemGroup",aZe=Me({name:Wee,props:oZe,setup(){const n=en(),e=mt("rootMenu");return e||ca(Wee,"can not inject root menu"),{levelPadding:z(()=>{if(e.props.collapse)return 20;let i=20,r=n.parent;for(;r&&r.type.name!=="ElMenu";)r.type.name==="ElSubMenu"&&(i+=20),r=r.parent;return i})}}}),lZe={class:"el-menu-item-group"};function uZe(n,e,t,i,r,s){return B(),te("li",lZe,[oe("div",{class:"el-menu-item-group__title",style:wt({paddingLeft:`${n.levelPadding}px`})},[n.$slots.title?Xe(n.$slots,"title",{key:1}):(B(),te(kt,{key:0},[xn(Je(n.title),1)],2112))],4),oe("ul",null,[Xe(n.$slots,"default")])])}var mfe=at(aZe,[["render",uZe]]);const cZe=wn(eZe,{MenuItem:pfe,MenuItemGroup:mfe,SubMenu:SU}),dZe=Ur(pfe),hZe=Ur(mfe);Ur(SU);const fZe={icon:{type:[String,Object],default:g8e},title:String,content:{type:String,default:""}},gZe={back:()=>!0},pZe=Me({name:"ElPageHeader",components:{ElIcon:cn},props:fZe,emits:gZe,setup(n,{emit:e}){const{t}=Oi(),i=dt("page-header");function r(){e("back")}return{handleClick:r,t,ns:i}}});function mZe(n,e,t,i,r,s){const o=Te("el-icon");return B(),te("div",{class:Z(n.ns.b())},[oe("div",{class:Z(n.ns.e("left")),onClick:e[0]||(e[0]=(...a)=>n.handleClick&&n.handleClick(...a))},[n.icon||n.$slots.icon?(B(),te("div",{key:0,class:Z(n.ns.e("icon"))},[Xe(n.$slots,"icon",{},()=>[n.icon?(B(),Oe(o,{key:0},{default:De(()=>[(B(),Oe(Bn(n.icon)))]),_:1})):Fe("v-if",!0)])],2)):Fe("v-if",!0),oe("div",{class:Z(n.ns.e("title"))},[Xe(n.$slots,"title",{},()=>[xn(Je(n.title||n.t("el.pageHeader.title")),1)])],2)],2),oe("div",{class:Z(n.ns.e("content"))},[Xe(n.$slots,"content",{},()=>[xn(Je(n.content),1)])],2)],2)}var vZe=at(pZe,[["render",mZe]]);const _Ze=wn(vZe),bZe={disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String,default:""}},CZe=Me({name:"ElPaginationPrev",components:{ElIcon:cn,ArrowLeft:S1},props:bZe,emits:["click"],setup(n){return{internalDisabled:z(()=>n.disabled||n.currentPage<=1)}}}),yZe=["disabled","aria-disabled"],wZe={key:0};function SZe(n,e,t,i,r,s){const o=Te("arrow-left"),a=Te("el-icon");return B(),te("button",{type:"button",class:"btn-prev",disabled:n.internalDisabled,"aria-disabled":n.internalDisabled,onClick:e[0]||(e[0]=l=>n.$emit("click",l))},[n.prevText?(B(),te("span",wZe,Je(n.prevText),1)):(B(),Oe(a,{key:1},{default:De(()=>[be(o)]),_:1}))],8,yZe)}var LZe=at(CZe,[["render",SZe]]);const kZe={disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String,default:""}},EZe=Me({name:"ElPaginationNext",components:{ElIcon:cn,ArrowRight:Hc},props:kZe,emits:["click"],setup(n){return{internalDisabled:z(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0)}}}),DZe=["disabled","aria-disabled"],IZe={key:0};function TZe(n,e,t,i,r,s){const o=Te("arrow-right"),a=Te("el-icon");return B(),te("button",{type:"button",class:"btn-next",disabled:n.internalDisabled,"aria-disabled":n.internalDisabled,onClick:e[0]||(e[0]=l=>n.$emit("click",l))},[n.nextText?(B(),te("span",IZe,Je(n.nextText),1)):(B(),Oe(a,{key:1},{default:De(()=>[be(o)]),_:1}))],8,DZe)}var NZe=at(EZe,[["render",TZe]]);const vfe="ElSelectGroup",BO="ElSelect";function xZe(n,e){const t=mt(BO),i=mt(vfe,{disabled:!1}),r=z(()=>Object.prototype.toString.call(n.value).toLowerCase()==="[object object]"),s=z(()=>t.props.multiple?d(t.props.modelValue,n.value):h(n.value,t.props.modelValue)),o=z(()=>{if(t.props.multiple){const p=t.props.modelValue||[];return!s.value&&p.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),a=z(()=>n.label||(r.value?"":n.value)),l=z(()=>n.value||n.label||""),u=z(()=>n.disabled||e.groupDisabled||o.value),c=en(),d=(p=[],m)=>{if(r.value){const b=t.props.valueKey;return p&&p.some(_=>Vs(_,b)===Vs(m,b))}else return p&&p.indexOf(m)>-1},h=(p,m)=>{if(r.value){const{valueKey:b}=t.props;return Vs(p,b)===Vs(m,b)}else return p===m},f=()=>{!n.disabled&&!i.disabled&&(t.hoverIndex=t.optionsArray.indexOf(c.proxy))};Ze(()=>a.value,()=>{!n.created&&!t.props.remote&&t.setSelected()}),Ze(()=>n.value,(p,m)=>{const{remote:b,valueKey:_}=t.props;if(!n.created&&!b){if(_&&typeof p=="object"&&typeof m=="object"&&p[_]===m[_])return;t.setSelected()}}),Ze(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0});const{queryChange:g}=wi(t);return Ze(g,p=>{const{query:m}=Ue(p),b=new RegExp(BFe(m),"i");e.visible=b.test(a.value)||n.created,e.visible||t.filteredOptionsCount--}),{select:t,currentLabel:a,currentValue:l,itemSelected:s,isDisabled:u,hoverItem:f}}const MZe=Me({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(n){const e=dt("select"),t=xi({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:i,itemSelected:r,isDisabled:s,select:o,hoverItem:a}=xZe(n,t),{visible:l,hover:u}=Ko(t),c=en().proxy,d=c.value;o.onOptionCreate(c),Er(()=>{const{selected:f}=o,g=o.props.multiple?f:[f],p=o.cachedOptions.has(d),m=g.some(b=>b.value===c.value);p&&!m&&o.cachedOptions.delete(d),o.onOptionDestroy(d)});function h(){n.disabled!==!0&&t.groupDisabled!==!0&&o.handleOptionSelect(c,!0)}return{ns:e,currentLabel:i,itemSelected:r,isDisabled:s,select:o,hoverItem:a,visible:l,hover:u,selectOptionClick:h,states:t}}});function AZe(n,e,t,i,r,s){return Ht((B(),te("li",{class:Z([n.ns.be("dropdown","item"),n.ns.is("disabled",n.isDisabled),{selected:n.itemSelected,hover:n.hover}]),onMouseenter:e[0]||(e[0]=(...o)=>n.hoverItem&&n.hoverItem(...o)),onClick:e[1]||(e[1]=Ft((...o)=>n.selectOptionClick&&n.selectOptionClick(...o),["stop"]))},[Xe(n.$slots,"default",{},()=>[oe("span",null,Je(n.currentLabel),1)])],34)),[[zn,n.visible]])}var LU=at(MZe,[["render",AZe]]);const RZe=Me({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=mt(BO),e=dt("select"),t=z(()=>n.props.popperClass),i=z(()=>n.props.multiple),r=z(()=>n.props.fitInputWidth),s=J("");function o(){var a;s.value=`${(a=n.selectWrapper)==null?void 0:a.getBoundingClientRect().width}px`}return rn(()=>{o(),_v(n.selectWrapper,o)}),Er(()=>{bv(n.selectWrapper,o)}),{ns:e,minWidth:s,popperClass:t,isMultiple:i,isFitInputWidth:r}}});function OZe(n,e,t,i,r,s){return B(),te("div",{class:Z([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:wt({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[Xe(n.$slots,"default")],6)}var PZe=at(RZe,[["render",OZe]]);function FZe(n){const{t:e}=Oi();return xi({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:n.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const BZe=(n,e,t)=>{const{t:i}=Oi(),r=dt("select"),s=J(null),o=J(null),a=J(null),l=J(null),u=J(null),c=J(null),d=J(-1),h=ra({query:""}),f=ra(""),g=mt(Zl,{}),p=mt(Kd,{}),m=z(()=>!n.filterable||n.multiple||!e.visible),b=z(()=>n.disabled||g.disabled),_=z(()=>{const ge=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!=="";return n.clearable&&!b.value&&e.inputHovering&&ge}),C=z(()=>n.remote&&n.filterable?"":n.suffixIcon),w=z(()=>r.is("reverse",C.value&&e.visible)),S=z(()=>n.remote?300:0),D=z(()=>n.loading?n.loadingText||i("el.select.loading"):n.remote&&e.query===""&&e.options.size===0?!1:n.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?n.noMatchText||i("el.select.noMatch"):e.options.size===0?n.noDataText||i("el.select.noData"):null),E=z(()=>Array.from(e.options.values())),I=z(()=>Array.from(e.cachedOptions.values())),T=z(()=>{const ge=E.value.filter(Ie=>!Ie.created).some(Ie=>Ie.currentLabel===e.query);return n.filterable&&n.allowCreate&&e.query!==""&&!ge}),M=As(),A=z(()=>["small"].indexOf(M.value)>-1?"small":"default"),O=z({get(){return e.visible&&D.value!==!1},set(ge){e.visible=ge}});Ze(()=>b.value,()=>{Nt(()=>{F()})}),Ze(()=>n.placeholder,ge=>{e.cachedPlaceHolder=e.currentPlaceholder=ge}),Ze(()=>n.modelValue,(ge,Ie)=>{var Pe;n.multiple&&(F(),ge&&ge.length>0||o.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,n.filterable&&!n.reserveKeyword&&(e.query="",U(e.query))),j(),n.filterable&&!n.multiple&&(e.inputLength=20),wd(ge,Ie)||(Pe=p.validate)==null||Pe.call(p,"change")},{flush:"post",deep:!0}),Ze(()=>e.visible,ge=>{var Ie,Pe,Ge;ge?((Pe=(Ie=a.value)==null?void 0:Ie.updatePopper)==null||Pe.call(Ie),n.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=n.remote?"":e.selectedLabel,n.multiple?(Ge=o.value)==null||Ge.focus():e.selectedLabel&&(e.currentPlaceholder=e.selectedLabel,e.selectedLabel=""),U(e.query),!n.multiple&&!n.remote&&(h.value.query="",jb(h),jb(f)))):(o.value&&o.value.blur(),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,ie(),Nt(()=>{o.value&&o.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),n.multiple||(e.selected&&(n.filterable&&n.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,n.filterable&&(e.query=e.selectedLabel)),n.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),t.emit("visible-change",ge)}),Ze(()=>e.options.entries(),()=>{var ge,Ie,Pe;if(!Kn)return;(Ie=(ge=a.value)==null?void 0:ge.updatePopper)==null||Ie.call(ge),n.multiple&&F();const Ge=((Pe=u.value)==null?void 0:Pe.querySelectorAll("input"))||[];Array.from(Ge).indexOf(document.activeElement)===-1&&j(),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&G()},{flush:"post"}),Ze(()=>e.hoverIndex,ge=>{typeof ge=="number"&&ge>-1&&(d.value=E.value[ge]||{}),E.value.forEach(Ie=>{Ie.hover=d.value===Ie})});const F=()=>{n.collapseTags&&!n.filterable||Nt(()=>{var ge,Ie;if(!s.value)return;const Pe=s.value.$el.childNodes,Ge=Array.from(Pe).filter(pt=>pt.tagName==="INPUT")[0],bt=l.value,Mt=e.initialInputHeight||40;Ge.style.height=e.selected.length===0?`${Mt}px`:`${Math.max(bt?bt.clientHeight+(bt.clientHeight>Mt?6:0):0,Mt)}px`,e.tagInMultiLine=parseFloat(Ge.style.height)>=Mt,e.visible&&D.value!==!1&&((Ie=(ge=a.value)==null?void 0:ge.updatePopper)==null||Ie.call(ge))})},U=ge=>{if(!(e.previousQuery===ge||e.isOnComposition)){if(e.previousQuery===null&&(typeof n.filterMethod=="function"||typeof n.remoteMethod=="function")){e.previousQuery=ge;return}e.previousQuery=ge,Nt(()=>{var Ie,Pe;e.visible&&((Pe=(Ie=a.value)==null?void 0:Ie.updatePopper)==null||Pe.call(Ie))}),e.hoverIndex=-1,n.multiple&&n.filterable&&Nt(()=>{const Ie=o.value.value.length*15+20;e.inputLength=n.collapseTags?Math.min(50,Ie):Ie,V(),F()}),n.remote&&typeof n.remoteMethod=="function"?(e.hoverIndex=-1,n.remoteMethod(ge)):typeof n.filterMethod=="function"?(n.filterMethod(ge),jb(f)):(e.filteredOptionsCount=e.optionsCount,h.value.query=ge,jb(h),jb(f)),n.defaultFirstOption&&(n.filterable||n.remote)&&e.filteredOptionsCount&&G()}},V=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=o.value.value?"":e.cachedPlaceHolder)},G=()=>{const ge=E.value.filter(Ge=>Ge.visible&&!Ge.disabled&&!Ge.states.groupDisabled),Ie=ge.filter(Ge=>Ge.created)[0],Pe=ge[0];e.hoverIndex=rt(E.value,Ie||Pe)},j=()=>{var ge;if(!n.multiple){const Pe=X(n.modelValue);((ge=Pe.props)==null?void 0:ge.created)?(e.createdLabel=Pe.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=Pe.currentLabel,e.selected=Pe,n.filterable&&(e.query=e.selectedLabel);return}const Ie=[];Array.isArray(n.modelValue)&&n.modelValue.forEach(Pe=>{Ie.push(X(Pe))}),e.selected=Ie,Nt(()=>{F()})},X=ge=>{let Ie;const Pe=X5(ge).toLowerCase()==="object",Ge=X5(ge).toLowerCase()==="null",bt=X5(ge).toLowerCase()==="undefined";for(let Jt=e.cachedOptions.size-1;Jt>=0;Jt--){const sn=I.value[Jt];if(Pe?Vs(sn.value,n.valueKey)===Vs(ge,n.valueKey):sn.value===ge){Ie={value:ge,currentLabel:sn.currentLabel,isDisabled:sn.isDisabled};break}}if(Ie)return Ie;const Mt=Pe?ge.label:!Ge&&!bt?ge:"",pt={value:ge,currentLabel:Mt};return n.multiple&&(pt.hitState=!1),pt},ie=()=>{setTimeout(()=>{const ge=n.valueKey;n.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(Ie=>E.value.findIndex(Pe=>Vs(Pe,ge)===Vs(Ie,ge)))):e.hoverIndex=-1:e.hoverIndex=E.value.findIndex(Ie=>se(Ie)===se(e.selected))},300)},Ce=()=>{var ge,Ie;Be(),(Ie=(ge=a.value)==null?void 0:ge.updatePopper)==null||Ie.call(ge),n.multiple&&!n.filterable&&F()},Be=()=>{var ge;e.inputWidth=(ge=s.value)==null?void 0:ge.$el.getBoundingClientRect().width},we=()=>{n.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,U(e.query))},ke=Hl(()=>{we()},S.value),Se=Hl(ge=>{U(ge.target.value)},S.value),fe=ge=>{wd(n.modelValue,ge)||t.emit(xo,ge)},pe=ge=>{if(ge.target.value.length<=0&&!de()){const Ie=n.modelValue.slice();Ie.pop(),t.emit(pn,Ie),fe(Ie)}ge.target.value.length===1&&n.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)},me=(ge,Ie)=>{const Pe=e.selected.indexOf(Ie);if(Pe>-1&&!b.value){const Ge=n.modelValue.slice();Ge.splice(Pe,1),t.emit(pn,Ge),fe(Ge),t.emit("remove-tag",Ie.value)}ge.stopPropagation()},Ne=ge=>{ge.stopPropagation();const Ie=n.multiple?[]:"";if(typeof Ie!="string")for(const Pe of e.selected)Pe.isDisabled&&Ie.push(Pe.value);t.emit(pn,Ie),fe(Ie),e.visible=!1,t.emit("clear")},je=(ge,Ie)=>{var Pe;if(n.multiple){const Ge=(n.modelValue||[]).slice(),bt=rt(Ge,ge.value);bt>-1?Ge.splice(bt,1):(n.multipleLimit<=0||Ge.length<n.multipleLimit)&&Ge.push(ge.value),t.emit(pn,Ge),fe(Ge),ge.created&&(e.query="",U(""),e.inputLength=20),n.filterable&&((Pe=o.value)==null||Pe.focus())}else t.emit(pn,ge.value),fe(ge.value),e.visible=!1;e.isSilentBlur=Ie,xe(),!e.visible&&Nt(()=>{Ve(ge)})},rt=(ge=[],Ie)=>{if(!so(Ie))return ge.indexOf(Ie);const Pe=n.valueKey;let Ge=-1;return ge.some((bt,Mt)=>Vs(bt,Pe)===Vs(Ie,Pe)?(Ge=Mt,!0):!1),Ge},xe=()=>{e.softFocus=!0;const ge=o.value||s.value;ge&&(ge==null||ge.focus())},Ve=ge=>{var Ie,Pe,Ge,bt,Mt;const pt=Array.isArray(ge)?ge[0]:ge;let Jt=null;if(pt==null?void 0:pt.value){const sn=E.value.filter(vr=>vr.value===pt.value);sn.length>0&&(Jt=sn[0].$el)}if(a.value&&Jt){const sn=(bt=(Ge=(Pe=(Ie=a.value)==null?void 0:Ie.popperRef)==null?void 0:Pe.contentRef)==null?void 0:Ge.querySelector)==null?void 0:bt.call(Ge,".el-select-dropdown__wrap");sn&&nde(sn,Jt)}(Mt=c.value)==null||Mt.handleScroll()},ee=ge=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(ge.value,ge),e.cachedOptions.set(ge.value,ge)},ne=ge=>{e.optionsCount--,e.filteredOptionsCount--,e.options.delete(ge)},le=ge=>{ge.code!==Ct.backspace&&de(!1),e.inputLength=o.value.value.length*15+20,F()},de=ge=>{if(!Array.isArray(e.selected))return;const Ie=e.selected[e.selected.length-1];if(!!Ie)return ge===!0||ge===!1?(Ie.hitState=ge,ge):(Ie.hitState=!Ie.hitState,Ie.hitState)},ye=ge=>{const Ie=ge.target.value;if(ge.type==="compositionend")e.isOnComposition=!1,Nt(()=>U(Ie));else{const Pe=Ie[Ie.length-1]||"";e.isOnComposition=!xO(Pe)}},q=()=>{Nt(()=>Ve(e.selected))},P=ge=>{e.softFocus?e.softFocus=!1:((n.automaticDropdown||n.filterable)&&(e.visible=!0,n.filterable&&(e.menuVisibleOnFocus=!0)),t.emit("focus",ge))},x=()=>{var ge;e.visible=!1,(ge=s.value)==null||ge.blur()},R=ge=>{Nt(()=>{e.isSilentBlur?e.isSilentBlur=!1:t.emit("blur",ge)}),e.softFocus=!1},H=ge=>{Ne(ge)},W=()=>{e.visible=!1},K=()=>{var ge;n.automaticDropdown||b.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:e.visible=!e.visible,e.visible&&((ge=o.value||s.value)==null||ge.focus()))},re=()=>{e.visible?E.value[e.hoverIndex]&&je(E.value[e.hoverIndex],void 0):K()},se=ge=>so(ge.value)?Vs(ge.value,n.valueKey):ge.value,ve=z(()=>E.value.filter(ge=>ge.visible).every(ge=>ge.disabled)),Re=ge=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!ve.value){ge==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):ge==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const Ie=E.value[e.hoverIndex];(Ie.disabled===!0||Ie.states.groupDisabled===!0||!Ie.visible)&&Re(ge),Nt(()=>Ve(d.value))}};return{optionsArray:E,selectSize:M,handleResize:Ce,debouncedOnInputChange:ke,debouncedQueryChange:Se,deletePrevTag:pe,deleteTag:me,deleteSelected:Ne,handleOptionSelect:je,scrollToOption:Ve,readonly:m,resetInputHeight:F,showClose:_,iconComponent:C,iconReverse:w,showNewOption:T,collapseTagSize:A,setSelected:j,managePlaceholder:V,selectDisabled:b,emptyText:D,toggleLastOptionHitState:de,resetInputState:le,handleComposition:ye,onOptionCreate:ee,onOptionDestroy:ne,handleMenuEnter:q,handleFocus:P,blur:x,handleBlur:R,handleClearClick:H,handleClose:W,toggleMenu:K,selectOption:re,getValueKey:se,navigateOptions:Re,dropMenuVisible:O,queryChange:h,groupQueryChange:f,reference:s,input:o,tooltipRef:a,tags:l,selectWrapper:u,scrollbar:c}},fF="ElSelect",$Ze=Me({name:fF,componentName:fF,components:{ElInput:zc,ElSelectMenu:PZe,ElOption:LU,ElTag:PO,ElScrollbar:rp,ElTooltip:Ql,ElIcon:cn},directives:{ClickOutside:wv},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:zl},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:wa.teleported,clearIcon:{type:[String,Object],default:Ug},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:[String,Object],default:XE},tagType:gn(Dt({},Ahe.type),{default:"info"})},emits:[pn,xo,"remove-tag","clear","visible-change","focus","blur"],setup(n,e){const t=dt("select"),i=dt("input"),{t:r}=Oi(),s=FZe(n),{optionsArray:o,selectSize:a,readonly:l,handleResize:u,collapseTagSize:c,debouncedOnInputChange:d,debouncedQueryChange:h,deletePrevTag:f,deleteTag:g,deleteSelected:p,handleOptionSelect:m,scrollToOption:b,setSelected:_,resetInputHeight:C,managePlaceholder:w,showClose:S,selectDisabled:D,iconComponent:E,iconReverse:I,showNewOption:T,emptyText:M,toggleLastOptionHitState:A,resetInputState:O,handleComposition:F,onOptionCreate:U,onOptionDestroy:V,handleMenuEnter:G,handleFocus:j,blur:X,handleBlur:ie,handleClearClick:Ce,handleClose:Be,toggleMenu:we,selectOption:ke,getValueKey:Se,navigateOptions:fe,dropMenuVisible:pe,reference:me,input:Ne,tooltipRef:je,tags:rt,selectWrapper:xe,scrollbar:Ve,queryChange:ee,groupQueryChange:ne}=BZe(n,s,e),{focus:le}=G9e(me),{inputWidth:de,selected:ye,inputLength:q,filteredOptionsCount:P,visible:x,softFocus:R,selectedLabel:H,hoverIndex:W,query:K,inputHovering:re,currentPlaceholder:se,menuVisibleOnFocus:ve,isOnComposition:Re,isSilentBlur:ge,options:Ie,cachedOptions:Pe,optionsCount:Ge,prefixWidth:bt,tagInMultiLine:Mt}=Ko(s),pt=z(()=>{const An=[t.b()],vi=Ue(a);return vi&&An.push(t.m(vi)),n.disabled&&An.push(t.m("disabled")),An}),Jt=z(()=>({maxWidth:`${Ue(de)-32}px`,width:"100%"}));vn(BO,xi({props:n,options:Ie,optionsArray:o,cachedOptions:Pe,optionsCount:Ge,filteredOptionsCount:P,hoverIndex:W,handleOptionSelect:m,onOptionCreate:U,onOptionDestroy:V,selectWrapper:xe,selected:ye,setSelected:_,queryChange:ee,groupQueryChange:ne})),rn(()=>{if(s.cachedPlaceHolder=se.value=n.placeholder||r("el.select.placeholder"),n.multiple&&Array.isArray(n.modelValue)&&n.modelValue.length>0&&(se.value=""),_v(xe.value,u),me.value&&me.value.$el){const An={large:36,default:32,small:28},vi=me.value.input;s.initialInputHeight=vi.getBoundingClientRect().height||An[a.value]}n.remote&&n.multiple&&C(),Nt(()=>{if(!!me.value&&(me.value.$el&&(de.value=me.value.$el.getBoundingClientRect().width),e.slots.prefix)){const An=me.value.$el.childNodes,vi=Array.from(An).filter(hs=>hs.tagName==="INPUT")[0],pa=me.value.$el.querySelector(`.${i.e("prefix")}`);bt.value=Math.max(pa.getBoundingClientRect().width+5,30),s.prefixWidth&&(vi.style.paddingLeft=`${Math.max(s.prefixWidth,30)}px`)}}),_()}),Er(()=>{bv(xe.value,u)}),n.multiple&&!Array.isArray(n.modelValue)&&e.emit(pn,[]),!n.multiple&&Array.isArray(n.modelValue)&&e.emit(pn,"");const sn=z(()=>{var An,vi;return(vi=(An=je.value)==null?void 0:An.popperRef)==null?void 0:vi.contentRef}),{compatTeleported:vr}=Pw(fF,"popperAppendToBody");return{tagInMultiLine:Mt,prefixWidth:bt,selectSize:a,readonly:l,handleResize:u,collapseTagSize:c,debouncedOnInputChange:d,debouncedQueryChange:h,deletePrevTag:f,deleteTag:g,deleteSelected:p,handleOptionSelect:m,scrollToOption:b,inputWidth:de,selected:ye,inputLength:q,filteredOptionsCount:P,visible:x,softFocus:R,selectedLabel:H,hoverIndex:W,query:K,inputHovering:re,currentPlaceholder:se,menuVisibleOnFocus:ve,isOnComposition:Re,isSilentBlur:ge,options:Ie,resetInputHeight:C,managePlaceholder:w,showClose:S,selectDisabled:D,iconComponent:E,iconReverse:I,showNewOption:T,emptyText:M,toggleLastOptionHitState:A,resetInputState:O,handleComposition:F,handleMenuEnter:G,handleFocus:j,blur:X,handleBlur:ie,handleClearClick:Ce,handleClose:Be,toggleMenu:we,selectOption:ke,getValueKey:Se,navigateOptions:fe,dropMenuVisible:pe,focus:le,reference:me,input:Ne,tooltipRef:je,popperPaneRef:sn,tags:rt,selectWrapper:xe,scrollbar:Ve,wrapperKls:pt,selectTagsStyle:Jt,compatTeleported:vr,nsSelect:t}}}),VZe={class:"select-trigger"},WZe={key:0},HZe=["disabled","autocomplete"],zZe={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function UZe(n,e,t,i,r,s){const o=Te("el-tag"),a=Te("el-icon"),l=Te("el-input"),u=Te("el-option"),c=Te("el-scrollbar"),d=Te("el-select-menu"),h=Te("el-tooltip"),f=xa("click-outside");return Ht((B(),te("div",{ref:"selectWrapper",class:Z(n.wrapperKls),onClick:e[24]||(e[24]=Ft((...g)=>n.toggleMenu&&n.toggleMenu(...g),["stop"]))},[be(h,{ref:"tooltipRef",visible:n.dropMenuVisible,"onUpdate:visible":e[23]||(e[23]=g=>n.dropMenuVisible=g),placement:"bottom-start",teleported:n.compatTeleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:"",onShow:n.handleMenuEnter},{default:De(()=>[oe("div",VZe,[n.multiple?(B(),te("div",{key:0,ref:"tags",class:Z(n.nsSelect.e("tags")),style:wt(n.selectTagsStyle)},[n.collapseTags&&n.selected.length?(B(),te("span",WZe,[be(o,{closable:!n.selectDisabled&&!n.selected[0].isDisabled,size:n.collapseTagSize,hit:n.selected[0].hitState,type:n.tagType,"disable-transitions":"",onClose:e[0]||(e[0]=g=>n.deleteTag(g,n.selected[0]))},{default:De(()=>[oe("span",{class:Z(n.nsSelect.e("tags-text")),style:wt({maxWidth:n.inputWidth-123+"px"})},Je(n.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),n.selected.length>1?(B(),Oe(o,{key:0,closable:!1,size:n.collapseTagSize,type:n.tagType,"disable-transitions":""},{default:De(()=>[oe("span",{class:Z(n.nsSelect.e("tags-text"))},"+ "+Je(n.selected.length-1),3)]),_:1},8,["size","type"])):Fe("v-if",!0)])):Fe("v-if",!0),Fe(" <div> "),n.collapseTags?Fe("v-if",!0):(B(),Oe(Cs,{key:1,onAfterLeave:n.resetInputHeight},{default:De(()=>[oe("span",{style:wt({marginLeft:n.prefixWidth&&n.selected.length?`${n.prefixWidth}px`:""})},[(B(!0),te(kt,null,$n(n.selected,g=>(B(),Oe(o,{key:n.getValueKey(g),closable:!n.selectDisabled&&!g.isDisabled,size:n.collapseTagSize,hit:g.hitState,type:n.tagType,"disable-transitions":"",onClose:p=>n.deleteTag(p,g)},{default:De(()=>[oe("span",{class:Z(n.nsSelect.e("tags-text")),style:wt({maxWidth:n.inputWidth-75+"px"})},Je(g.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],4)]),_:1},8,["onAfterLeave"])),Fe(" </div> "),n.filterable?Ht((B(),te("input",{key:2,ref:"input","onUpdate:modelValue":e[1]||(e[1]=g=>n.query=g),type:"text",class:Z([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:wt({marginLeft:n.prefixWidth&&!n.selected.length||n.tagInMultiLine?`${n.prefixWidth}px`:"",flexGrow:1,width:`${n.inputLength/(n.inputWidth-32)}%`,maxWidth:`${n.inputWidth-42}px`}),onFocus:e[2]||(e[2]=(...g)=>n.handleFocus&&n.handleFocus(...g)),onBlur:e[3]||(e[3]=(...g)=>n.handleBlur&&n.handleBlur(...g)),onKeyup:e[4]||(e[4]=(...g)=>n.managePlaceholder&&n.managePlaceholder(...g)),onKeydown:[e[5]||(e[5]=(...g)=>n.resetInputState&&n.resetInputState(...g)),e[6]||(e[6]=Cn(Ft(g=>n.navigateOptions("next"),["prevent"]),["down"])),e[7]||(e[7]=Cn(Ft(g=>n.navigateOptions("prev"),["prevent"]),["up"])),e[8]||(e[8]=Cn(Ft(g=>n.visible=!1,["stop","prevent"]),["esc"])),e[9]||(e[9]=Cn(Ft((...g)=>n.selectOption&&n.selectOption(...g),["stop","prevent"]),["enter"])),e[10]||(e[10]=Cn((...g)=>n.deletePrevTag&&n.deletePrevTag(...g),["delete"])),e[11]||(e[11]=Cn(g=>n.visible=!1,["tab"]))],onCompositionstart:e[12]||(e[12]=(...g)=>n.handleComposition&&n.handleComposition(...g)),onCompositionupdate:e[13]||(e[13]=(...g)=>n.handleComposition&&n.handleComposition(...g)),onCompositionend:e[14]||(e[14]=(...g)=>n.handleComposition&&n.handleComposition(...g)),onInput:e[15]||(e[15]=(...g)=>n.debouncedQueryChange&&n.debouncedQueryChange(...g))},null,46,HZe)),[[k_,n.query]]):Fe("v-if",!0)],6)):Fe("v-if",!0),be(l,{id:n.id,ref:"reference",modelValue:n.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=g=>n.selectedLabel=g),type:"text",placeholder:n.currentPlaceholder,name:n.name,autocomplete:n.autocomplete,size:n.selectSize,disabled:n.selectDisabled,readonly:n.readonly,"validate-event":!1,class:Z([n.nsSelect.is("focus",n.visible)]),tabindex:n.multiple&&n.filterable?-1:void 0,onFocus:n.handleFocus,onBlur:n.handleBlur,onInput:n.debouncedOnInputChange,onPaste:n.debouncedOnInputChange,onCompositionstart:n.handleComposition,onCompositionupdate:n.handleComposition,onCompositionend:n.handleComposition,onKeydown:[e[17]||(e[17]=Cn(Ft(g=>n.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=Cn(Ft(g=>n.navigateOptions("prev"),["stop","prevent"]),["up"])),Cn(Ft(n.selectOption,["stop","prevent"]),["enter"]),e[19]||(e[19]=Cn(Ft(g=>n.visible=!1,["stop","prevent"]),["esc"])),e[20]||(e[20]=Cn(g=>n.visible=!1,["tab"]))],onMouseenter:e[21]||(e[21]=g=>n.inputHovering=!0),onMouseleave:e[22]||(e[22]=g=>n.inputHovering=!1)},_y({suffix:De(()=>[n.iconComponent?Ht((B(),Oe(a,{key:0,class:Z([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:De(()=>[(B(),Oe(Bn(n.iconComponent)))]),_:1},8,["class"])),[[zn,!n.showClose]]):Fe("v-if",!0),n.showClose&&n.clearIcon?(B(),Oe(a,{key:1,class:Z([n.nsSelect.e("caret"),n.nsSelect.e("icon")]),onClick:n.handleClearClick},{default:De(()=>[(B(),Oe(Bn(n.clearIcon)))]),_:1},8,["class","onClick"])):Fe("v-if",!0)]),_:2},[n.$slots.prefix?{name:"prefix",fn:De(()=>[oe("div",zZe,[Xe(n.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])])]),content:De(()=>[be(d,null,{default:De(()=>[Ht(be(c,{ref:"scrollbar",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:Z([n.nsSelect.is("empty",!n.allowCreate&&n.query&&n.filteredOptionsCount===0)])},{default:De(()=>[n.showNewOption?(B(),Oe(u,{key:0,value:n.query,created:!0},null,8,["value"])):Fe("v-if",!0),Xe(n.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[zn,n.options.size>0&&!n.loading]]),n.emptyText&&(!n.allowCreate||n.loading||n.allowCreate&&n.options.size===0)?(B(),te(kt,{key:0},[n.$slots.empty?Xe(n.$slots,"empty",{key:0}):(B(),te("p",{key:1,class:Z(n.nsSelect.be("dropdown","empty"))},Je(n.emptyText),3))],2112)):Fe("v-if",!0)]),_:3})]),_:3},8,["visible","teleported","popper-class","effect","transition","onShow"])],2)),[[f,n.handleClose,n.popperPaneRef]])}var jZe=at($Ze,[["render",UZe]]);const KZe=Me({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(n){const e=dt("select"),t=J(!0),i=en(),r=J([]);vn(vfe,xi(Dt({},Ko(n))));const s=mt(BO);rn(()=>{r.value=o(i.subTree)});const o=l=>{const u=[];return Array.isArray(l.children)&&l.children.forEach(c=>{var d;c.type&&c.type.name==="ElOption"&&c.component&&c.component.proxy?u.push(c.component.proxy):((d=c.children)==null?void 0:d.length)&&u.push(...o(c))}),u},{groupQueryChange:a}=wi(s);return Ze(a,()=>{t.value=r.value.some(l=>l.visible===!0)}),{visible:t,ns:e}}});function GZe(n,e,t,i,r,s){return Ht((B(),te("ul",{class:Z(n.ns.be("group","wrap"))},[oe("li",{class:Z(n.ns.be("group","title"))},Je(n.label),3),oe("li",null,[oe("ul",{class:Z(n.ns.b("group"))},[Xe(n.$slots,"default")],2)])],2)),[[zn,n.visible]])}var _fe=at(KZe,[["render",GZe]]);const $O=wn(jZe,{Option:LU,OptionGroup:_fe}),bfe=Ur(LU),qZe=Ur(_fe),kU=()=>mt(vde,{}),YZe=Wt({pageSize:{type:Number,required:!0},pageSizes:{type:It(Array),default:()=>zs([10,20,30,40,50,100])},popperClass:{type:String,default:""},disabled:Boolean,size:{type:String,default:"default"}}),XZe=Me({name:"ElPaginationSizes",components:{ElSelect:$O,ElOption:bfe},props:YZe,emits:["page-size-change"],setup(n,{emit:e}){const{t}=Oi(),i=dt("pagination"),r=kU(),s=J(n.pageSize);Ze(()=>n.pageSizes,(l,u)=>{if(!wd(l,u)&&Array.isArray(l)){const c=l.indexOf(n.pageSize)>-1?n.pageSize:n.pageSizes[0];e("page-size-change",c)}}),Ze(()=>n.pageSize,l=>{s.value=l});const o=z(()=>n.pageSizes);function a(l){var u;l!==s.value&&(s.value=l,(u=r.handleSizeChange)==null||u.call(r,Number(l)))}return{ns:i,innerPagesizes:o,innerPageSize:s,t,handleChange:a}}});function ZZe(n,e,t,i,r,s){const o=Te("el-option"),a=Te("el-select");return B(),te("span",{class:Z(n.ns.e("sizes"))},[be(a,{"model-value":n.innerPageSize,disabled:n.disabled,"popper-class":n.popperClass,size:n.size,onChange:n.handleChange},{default:De(()=>[(B(!0),te(kt,null,$n(n.innerPagesizes,l=>(B(),Oe(o,{key:l,value:l,label:l+n.t("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","onChange"])],2)}var QZe=at(XZe,[["render",ZZe]]);const JZe=Me({name:"ElPaginationJumper",components:{ElInput:zc},setup(){const{t:n}=Oi(),e=dt("pagination"),{pageCount:t,disabled:i,currentPage:r,changeEvent:s}=kU(),o=J(),a=z(()=>{var c;return(c=o.value)!=null?c:r==null?void 0:r.value});function l(c){o.value=+c}function u(c){c=Math.trunc(+c),s==null||s(+c),o.value=void 0}return{ns:e,pageCount:t,disabled:i,innerValue:a,t:n,handleInput:l,handleChange:u}}}),eQe=["disabled"];function tQe(n,e,t,i,r,s){const o=Te("el-input");return B(),te("span",{class:Z(n.ns.e("jump")),disabled:n.disabled},[xn(Je(n.t("el.pagination.goto"))+" ",1),be(o,{size:"small",class:Z([n.ns.e("editor"),n.ns.is("in-pagination")]),min:1,max:n.pageCount,disabled:n.disabled,"model-value":n.innerValue,type:"number","onUpdate:modelValue":n.handleInput,onChange:n.handleChange},null,8,["class","max","disabled","model-value","onUpdate:modelValue","onChange"]),xn(" "+Je(n.t("el.pagination.pageClassifier")),1)],10,eQe)}var nQe=at(JZe,[["render",tQe]]);const iQe={total:{type:Number,default:1e3}},rQe=Me({name:"ElPaginationTotal",props:iQe,setup(){const{t:n}=Oi(),e=dt("pagination"),{disabled:t}=kU();return{t:n,ns:e,disabled:t}}}),sQe=["disabled"];function oQe(n,e,t,i,r,s){return B(),te("span",{class:Z(n.ns.e("total")),disabled:n.disabled},Je(n.t("el.pagination.total",{total:n.total})),11,sQe)}var aQe=at(rQe,[["render",oQe]]);const lQe={currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean},uQe=Me({name:"ElPaginationPager",components:{DArrowLeft:DO,DArrowRight:IO,MoreFilled:fBe},props:lQe,emits:["change"],setup(n,{emit:e}){const t=dt("pager"),i=dt("icon"),r=J(!1),s=J(!1),o=J(!1),a=J(!1),l=z(()=>{const h=n.pagerCount,f=(h-1)/2,g=Number(n.currentPage),p=Number(n.pageCount);let m=!1,b=!1;p>h&&(g>h-f&&(m=!0),g<p-f&&(b=!0));const _=[];if(m&&!b){const C=p-(h-2);for(let w=C;w<p;w++)_.push(w)}else if(!m&&b)for(let C=2;C<h;C++)_.push(C);else if(m&&b){const C=Math.floor(h/2)-1;for(let w=g-C;w<=g+C;w++)_.push(w)}else for(let C=2;C<p;C++)_.push(C);return _});yd(()=>{const h=(n.pagerCount-1)/2;r.value=!1,s.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-h&&(r.value=!0),n.currentPage<n.pageCount-h&&(s.value=!0))});function u(h){n.disabled||(h==="left"?o.value=!0:a.value=!0)}function c(h){const f=h.target;if(f.tagName.toLowerCase()==="li"&&Array.from(f.classList).includes("number")){const g=Number(f.textContent);g!==n.currentPage&&e("change",g)}}function d(h){const f=h.target;if(f.tagName.toLowerCase()==="ul"||n.disabled)return;let g=Number(f.textContent);const p=n.pageCount,m=n.currentPage,b=n.pagerCount-2;f.className.includes("more")&&(f.className.includes("quickprev")?g=m-b:f.className.includes("quicknext")&&(g=m+b)),isNaN(g)||(g<1&&(g=1),g>p&&(g=p)),g!==m&&e("change",g)}return{showPrevMore:r,showNextMore:s,quickPrevHover:o,quickNextHover:a,pagers:l,nsPager:t,nsIcon:i,onMouseenter:u,onPagerClick:d,onEnter:c}}}),cQe=["aria-current"],dQe=["aria-current"],hQe=["aria-current"];function fQe(n,e,t,i,r,s){const o=Te("d-arrow-left"),a=Te("more-filled"),l=Te("d-arrow-right");return B(),te("ul",{class:Z(n.nsPager.b()),onClick:e[4]||(e[4]=(...u)=>n.onPagerClick&&n.onPagerClick(...u)),onKeyup:e[5]||(e[5]=Cn((...u)=>n.onEnter&&n.onEnter(...u),["enter"]))},[n.pageCount>0?(B(),te("li",{key:0,class:Z([{active:n.currentPage===1,disabled:n.disabled},"number"]),"aria-current":n.currentPage===1,tabindex:"0"}," 1 ",10,cQe)):Fe("v-if",!0),n.showPrevMore?(B(),te("li",{key:1,class:Z(["more","btn-quickprev",n.nsIcon.b(),{disabled:n.disabled}]),onMouseenter:e[0]||(e[0]=u=>n.onMouseenter("left")),onMouseleave:e[1]||(e[1]=u=>n.quickPrevHover=!1)},[n.quickPrevHover?(B(),Oe(o,{key:0})):(B(),Oe(a,{key:1}))],34)):Fe("v-if",!0),(B(!0),te(kt,null,$n(n.pagers,u=>(B(),te("li",{key:u,class:Z([{active:n.currentPage===u,disabled:n.disabled},"number"]),"aria-current":n.currentPage===u,tabindex:"0"},Je(u),11,dQe))),128)),n.showNextMore?(B(),te("li",{key:2,class:Z(["more","btn-quicknext",n.nsIcon.b(),{disabled:n.disabled}]),onMouseenter:e[2]||(e[2]=u=>n.onMouseenter("right")),onMouseleave:e[3]||(e[3]=u=>n.quickNextHover=!1)},[n.quickNextHover?(B(),Oe(l,{key:0})):(B(),Oe(a,{key:1}))],34)):Fe("v-if",!0),n.pageCount>1?(B(),te("li",{key:3,class:Z([{active:n.currentPage===n.pageCount,disabled:n.disabled},"number"]),"aria-current":n.currentPage===n.pageCount,tabindex:"0"},Je(n.pageCount),11,hQe)):Fe("v-if",!0)],34)}var gQe=at(uQe,[["render",fQe]]);const Ha=n=>typeof n!="number",pQe=Wt({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:n=>typeof n=="number"&&(n|0)===n&&n>4&&n<22&&n%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:It(Array),default:()=>zs([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},nextText:{type:String,default:""},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),mQe={"update:current-page":n=>typeof n=="number","update:page-size":n=>typeof n=="number","size-change":n=>typeof n=="number","current-change":n=>typeof n=="number","prev-click":n=>typeof n=="number","next-click":n=>typeof n=="number"},Hee="ElPagination";var vQe=Me({name:Hee,props:pQe,emits:mQe,setup(n,{emit:e,slots:t}){const{t:i}=Oi(),r=dt("pagination"),s=en().vnode.props||{},o="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,a="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,l=z(()=>{if(Ha(n.total)&&Ha(n.pageCount)||!Ha(n.currentPage)&&!o)return!1;if(n.layout.includes("sizes")){if(Ha(n.pageCount)){if(!Ha(n.total)&&!Ha(n.pageSize)&&!a)return!1}else if(!a)return!1}return!0}),u=J(Ha(n.defaultPageSize)?10:n.defaultPageSize),c=J(Ha(n.defaultCurrentPage)?1:n.defaultCurrentPage),d=z({get(){return Ha(n.pageSize)?u.value:n.pageSize},set(C){Ha(n.pageSize)&&(u.value=C),a&&(e("update:page-size",C),e("size-change",C))}}),h=z(()=>{let C=0;return Ha(n.pageCount)?Ha(n.total)||(C=Math.max(1,Math.ceil(n.total/d.value))):C=n.pageCount,C}),f=z({get(){return Ha(n.currentPage)?c.value:n.currentPage},set(C){let w=C;C<1?w=1:C>h.value&&(w=h.value),Ha(n.currentPage)&&(c.value=w),o&&(e("update:current-page",w),e("current-change",w))}});Ze(h,C=>{f.value>C&&(f.value=C)});function g(C){f.value=C}function p(C){d.value=C;const w=h.value;f.value>w&&(f.value=w)}function m(){n.disabled||(f.value-=1,e("prev-click",f.value))}function b(){n.disabled||(f.value+=1,e("next-click",f.value))}function _(C,w){C&&(C.props||(C.props={}),C.props.class=[C.props.class,w].join(" "))}return vn(vde,{pageCount:h,disabled:z(()=>n.disabled),currentPage:f,changeEvent:g,handleSizeChange:p}),()=>{var C,w;if(!l.value)return i("el.pagination.deprecationWarning"),null;if(!n.layout||n.hideOnSinglePage&&h.value<=1)return null;const S=[],D=[],E=st("div",{class:r.e("rightwrapper")},D),I={prev:st(LZe,{disabled:n.disabled,currentPage:f.value,prevText:n.prevText,onClick:m}),jumper:st(nQe),pager:st(gQe,{currentPage:f.value,pageCount:h.value,pagerCount:n.pagerCount,onChange:g,disabled:n.disabled}),next:st(NZe,{disabled:n.disabled,currentPage:f.value,pageCount:h.value,nextText:n.nextText,onClick:b}),sizes:st(QZe,{pageSize:d.value,pageSizes:n.pageSizes,popperClass:n.popperClass,disabled:n.disabled,size:n.small?"small":"default"}),slot:(w=(C=t==null?void 0:t.default)==null?void 0:C.call(t))!=null?w:null,total:st(aQe,{total:Ha(n.total)?0:n.total})},T=n.layout.split(",").map(A=>A.trim());let M=!1;return T.forEach(A=>{if(A==="->"){M=!0;return}M?D.push(I[A]):S.push(I[A])}),_(S[0],r.is("first")),_(S[S.length-1],r.is("last")),M&&D.length>0&&(_(D[0],r.is("first")),_(D[D.length-1],r.is("last")),S.push(E)),st("div",{role:"pagination","aria-label":"pagination",class:[r.b(),r.is("background",n.background),{[r.m("small")]:n.small}]},S)}}});const _Qe=wn(vQe),bQe=Wt({title:{type:String},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonType:{type:String,values:e9,default:"primary"},cancelButtonType:{type:String,values:e9,default:"text"},icon:{type:Ma,default:NBe},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:It(Function)},onCancel:{type:It(Function)},teleported:wa.teleported}),zee="ElPopconfirm",CQe=Me({name:zee,components:{ElButton:hf,ElTooltip:Ql,ElIcon:cn},props:bQe,setup(n){const{compatTeleported:e}=Pw(zee,"appendToBody"),{t}=Oi(),i=dt("popconfirm"),r=J(),s=()=>{var d,h;(h=(d=Ue(r))==null?void 0:d.onClose)==null||h.call(d)},o=()=>{s()},a=d=>{var h;(h=n.onConfirm)==null||h.call(n,d),o()},l=d=>{var h;(h=n.onCancel)==null||h.call(n,d),o()},u=z(()=>n.confirmButtonText||t("el.popconfirm.confirmButtonText")),c=z(()=>n.cancelButtonText||t("el.popconfirm.cancelButtonText"));return{finalConfirmButtonText:u,finalCancelButtonText:c,tooltipRef:r,ns:i,compatTeleported:e,confirm:a,cancel:l}}});function yQe(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("el-button"),l=Te("el-tooltip");return B(),Oe(l,lo({ref:"tooltipRef"},n.$attrs,{trigger:"click",effect:"light","popper-class":`${n.ns.namespace.value}-popover`,teleported:n.compatTeleported,"fallback-placements":["bottom","top","right","left"],"hide-after":n.hideAfter,persistent:""}),{content:De(()=>[oe("div",{class:Z(n.ns.b())},[oe("div",{class:Z(n.ns.e("main"))},[!n.hideIcon&&n.icon?(B(),Oe(o,{key:0,class:Z(n.ns.e("icon")),style:wt({color:n.iconColor})},{default:De(()=>[(B(),Oe(Bn(n.icon)))]),_:1},8,["class","style"])):Fe("v-if",!0),xn(" "+Je(n.title),1)],2),oe("div",{class:Z(n.ns.e("action"))},[be(a,{size:"small",type:n.cancelButtonType,onClick:n.cancel},{default:De(()=>[xn(Je(n.finalCancelButtonText),1)]),_:1},8,["type","onClick"]),be(a,{size:"small",type:n.confirmButtonType,onClick:n.confirm},{default:De(()=>[xn(Je(n.finalConfirmButtonText),1)]),_:1},8,["type","onClick"])],2)],2)]),default:De(()=>[n.$slots.reference?Xe(n.$slots,"reference",{key:0}):Fe("v-if",!0)]),_:3},16,["popper-class","teleported","hide-after"])}var wQe=at(CQe,[["render",yQe]]);const SQe=wn(wQe),LQe=Wt({trigger:nk.trigger,placement:XN.placement,disabled:nk.disabled,visible:wa.visible,transition:wa.transition,popperOptions:XN.popperOptions,tabindex:XN.tabindex,appendToBody:{type:Boolean,default:void 0},content:wa.content,popperStyle:wa.popperStyle,popperClass:wa.popperClass,enterable:gn(Dt({},wa.enterable),{default:!0}),effect:gn(Dt({},wa.effect),{default:"light"}),teleported:wa.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0}}),kQe=["update:visible","after-enter","after-leave"],Uee="ElPopover",EQe=Me({name:Uee,components:{ElTooltip:Ql},props:LQe,emits:kQe,setup(n,{emit:e}){const t=dt("popover"),i=J(null),r=z(()=>{var h;return(h=Ue(i))==null?void 0:h.popperRef}),s=z(()=>Or(n.width)?n.width:`${n.width}px`),o=z(()=>[{width:s.value},n.popperStyle]),a=z(()=>[t.b(),n.popperClass,{[t.m("plain")]:!!n.content}]),{compatTeleported:l}=Pw(Uee,"appendToBody");return{compatTeleported:l,ns:t,kls:a,style:o,tooltipRef:i,popperRef:r,hide:()=>{var h;(h=i.value)==null||h.hide()},afterEnter:()=>{e("after-enter")},afterLeave:()=>{e("after-leave")}}}});function DQe(n,e,t,i,r,s){const o=Te("el-tooltip");return B(),Oe(o,lo({ref:"tooltipRef"},n.$attrs,{trigger:n.trigger,placement:n.placement,disabled:n.disabled,visible:n.visible,transition:n.transition,"popper-options":n.popperOptions,tabindex:n.tabindex,"append-to-body":n.appendToBody,content:n.content,offset:n.offset,"show-after":n.showAfter,"hide-after":n.hideAfter,"auto-close":n.autoClose,"show-arrow":n.showArrow,"aria-label":n.title,effect:n.effect,enterable:n.enterable,"popper-class":n.kls,"popper-style":n.style,teleported:n.compatTeleported,persistent:"",onShow:n.afterEnter,onHide:n.afterLeave}),{content:De(()=>[n.title?(B(),te("div",{key:0,class:Z(n.ns.e("title")),role:"title"},Je(n.title),3)):Fe("v-if",!0),Xe(n.$slots,"default",{},()=>[xn(Je(n.content),1)])]),default:De(()=>[n.$slots.reference?Xe(n.$slots,"reference",{key:0}):Fe("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","append-to-body","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","onShow","onHide"])}var B2=at(EQe,[["render",DQe]]);const jee=(n,e)=>{const t=e.arg||e.value,i=t==null?void 0:t.popperRef;i&&(i.triggerRef=n)};var c9={mounted(n,e){jee(n,e)},updated(n,e){jee(n,e)}};const IQe="popover";B2.install=n=>{n.component(B2.name,B2)};c9.install=n=>{n.directive(IQe,c9)};const Cfe=c9;B2.directive=Cfe;const TQe=B2,NQe=TQe,xQe=Cfe,MQe=Wt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:It(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:It([String,Array,Function]),default:""},format:{type:It(Function),default:n=>`${n}%`}}),AQe=Me({name:"ElProgress",components:{ElIcon:cn,CircleCheck:IM,CircleClose:Ug,Check:Ey,Close:Td,WarningFilled:QL},props:MQe,setup(n){const e=dt("progress"),t=z(()=>({width:`${n.percentage}%`,animationDuration:`${n.duration}s`,backgroundColor:p(n.percentage)})),i=z(()=>(n.strokeWidth/n.width*100).toFixed(1)),r=z(()=>n.type==="circle"||n.type==="dashboard"?parseInt(`${50-parseFloat(i.value)/2}`,10):0),s=z(()=>{const b=r.value,_=n.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${_?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${_?"":"-"}${b*2}
          `}),o=z(()=>2*Math.PI*r.value),a=z(()=>n.type==="dashboard"?.75:1),l=z(()=>`${-1*o.value*(1-a.value)/2}px`),u=z(()=>({strokeDasharray:`${o.value*a.value}px, ${o.value}px`,strokeDashoffset:l.value})),c=z(()=>({strokeDasharray:`${o.value*a.value*(n.percentage/100)}px, ${o.value}px`,strokeDashoffset:l.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"})),d=z(()=>{let b;if(n.color)b=p(n.percentage);else switch(n.status){case"success":b="#13ce66";break;case"exception":b="#ff4949";break;case"warning":b="#e6a23c";break;default:b="#20a0ff"}return b}),h=z(()=>n.status==="warning"?QL:n.type==="line"?n.status==="success"?IM:Ug:n.status==="success"?Ey:Td),f=z(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),g=z(()=>n.format(n.percentage)),p=b=>{var _;const{color:C}=n;if(typeof C=="function")return C(b);if(typeof C=="string")return C;{const w=100/C.length,D=C.map((E,I)=>typeof E=="string"?{color:E,percentage:(I+1)*w}:E).sort((E,I)=>E.percentage-I.percentage);for(const E of D)if(E.percentage>b)return E.color;return(_=D[D.length-1])==null?void 0:_.color}},m=z(()=>({percentage:n.percentage}));return{ns:e,barStyle:t,relativeStrokeWidth:i,radius:r,trackPath:s,perimeter:o,rate:a,strokeDashoffset:l,trailPathStyle:u,circlePathStyle:c,stroke:d,statusIcon:h,progressTextSize:f,content:g,slotData:m}}}),RQe=["aria-valuenow"],OQe={viewBox:"0 0 100 100"},PQe=["d","stroke-width"],FQe=["d","stroke","stroke-linecap","stroke-width"],BQe={key:0};function $Qe(n,e,t,i,r,s){const o=Te("el-icon");return B(),te("div",{class:Z([n.ns.b(),n.ns.m(n.type),n.ns.is(n.status),{[n.ns.m("without-text")]:!n.showText,[n.ns.m("text-inside")]:n.textInside}]),role:"progressbar","aria-valuenow":n.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[n.type==="line"?(B(),te("div",{key:0,class:Z(n.ns.b("bar"))},[oe("div",{class:Z(n.ns.be("bar","outer")),style:wt({height:`${n.strokeWidth}px`})},[oe("div",{class:Z([n.ns.be("bar","inner"),{[n.ns.bem("bar","inner","indeterminate")]:n.indeterminate}]),style:wt(n.barStyle)},[(n.showText||n.$slots.default)&&n.textInside?(B(),te("div",{key:0,class:Z(n.ns.be("bar","innerText"))},[Xe(n.$slots,"default",Am(Bm(n.slotData)),()=>[oe("span",null,Je(n.content),1)])],2)):Fe("v-if",!0)],6)],6)],2)):(B(),te("div",{key:1,class:Z(n.ns.b("circle")),style:wt({height:`${n.width}px`,width:`${n.width}px`})},[(B(),te("svg",OQe,[oe("path",{class:Z(n.ns.be("circle","track")),d:n.trackPath,stroke:"#e5e9f2","stroke-width":n.relativeStrokeWidth,fill:"none",style:wt(n.trailPathStyle)},null,14,PQe),oe("path",{class:Z(n.ns.be("circle","path")),d:n.trackPath,stroke:n.stroke,fill:"none","stroke-linecap":n.strokeLinecap,"stroke-width":n.percentage?n.relativeStrokeWidth:0,style:wt(n.circlePathStyle)},null,14,FQe)]))],6)),(n.showText||n.$slots.default)&&!n.textInside?(B(),te("div",{key:2,class:Z(n.ns.e("text")),style:wt({fontSize:`${n.progressTextSize}px`})},[Xe(n.$slots,"default",Am(Bm(n.slotData)),()=>[n.status?(B(),Oe(o,{key:1},{default:De(()=>[(B(),Oe(Bn(n.statusIcon)))]),_:1})):(B(),te("span",BQe,Je(n.content),1))])],6)):Fe("v-if",!0)],10,RQe)}var VQe=at(AQe,[["render",$Qe]]);const yfe=wn(VQe),WQe=Wt({modelValue:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:It([Array,Object]),default:()=>zs(["var(--el-rate-star-color)","var(--el-rate-star-color)","var(--el-rate-star-color)"])},voidColor:{type:String,default:"var(--el-rate-void-color)"},disabledVoidColor:{type:String,default:"var(--el-rate-disable-void-color)"},icons:{type:It([Array,Object]),default:()=>[r2,r2,r2]},voidIcon:{type:Ma,default:()=>ode},disabledvoidIcon:{type:Ma,default:()=>r2},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"var(--el-rate-text-color)"},texts:{type:It(Array),default:()=>zs(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:zl}}),HQe={change:n=>typeof n=="number",[pn]:n=>typeof n=="number"};function gF(n,e){const t=s=>so(s),i=Object.keys(e).map(s=>+s).filter(s=>{const o=e[s];return(t(o)?o.excluded:!1)?n<s:n<=s}).sort((s,o)=>s-o),r=e[i[0]];return t(r)&&r.value||r}const zQe=Me({name:"ElRate",components:{ElIcon:cn,StarFilled:r2,Star:ode},props:WQe,emits:HQe,setup(n,{emit:e}){const t=mt(Zl,{}),i=As(),r=dt("rate"),s=J(n.modelValue),o=J(-1),a=J(!0),l=z(()=>[r.b(),r.m(i.value)]),u=z(()=>n.disabled||t.disabled),c=z(()=>{let M="";return n.showScore?M=n.scoreTemplate.replace(/\{\s*value\s*\}/,u.value?`${n.modelValue}`:`${s.value}`):n.showText&&(M=n.texts[Math.ceil(s.value)-1]),M}),d=z(()=>n.modelValue*100-Math.floor(n.modelValue)*100),h=z(()=>Iu(n.colors)?{[n.lowThreshold]:n.colors[0],[n.highThreshold]:{value:n.colors[1],excluded:!0},[n.max]:n.colors[2]}:n.colors),f=z(()=>gF(s.value,h.value)),g=z(()=>{let M="";return u.value?M=`${d.value}%`:n.allowHalf&&(M="50%"),{color:f.value,width:M}}),p=z(()=>Iu(n.icons)?{[n.lowThreshold]:n.icons[0],[n.highThreshold]:{value:n.icons[1],excluded:!0},[n.max]:n.icons[2]}:n.icons),m=z(()=>gF(n.modelValue,p.value)),b=z(()=>u.value?n.disabledvoidIcon:n.voidIcon),_=z(()=>gF(s.value,p.value)),C=z(()=>{const M=Array(n.max),A=s.value;return M.fill(_.value,0,A),M.fill(b.value,A,n.max),M});function w(M){const A=u.value&&d.value>0&&M-1<n.modelValue&&M>n.modelValue,O=n.allowHalf&&a.value&&M-.5<=s.value&&M>s.value;return A||O}function S(M){const A=u.value?n.disabledVoidColor:n.voidColor;return{color:M<=s.value?f.value:A}}function D(M){u.value||(n.allowHalf&&a.value?(e(pn,s.value),n.modelValue!==s.value&&e("change",s.value)):(e(pn,M),n.modelValue!==M&&e("change",M)))}function E(M){if(u.value)return;let A=s.value;const O=M.code;return O===Ct.up||O===Ct.right?(n.allowHalf?A+=.5:A+=1,M.stopPropagation(),M.preventDefault()):(O===Ct.left||O===Ct.down)&&(n.allowHalf?A-=.5:A-=1,M.stopPropagation(),M.preventDefault()),A=A<0?0:A,A=A>n.max?n.max:A,e(pn,A),e("change",A),A}function I(M,A){if(!u.value){if(n.allowHalf){let O=A.target;Sd(O,r.e("item"))&&(O=O.querySelector(`.${r.e("icon")}`)),(O.clientWidth===0||Sd(O,r.e("decimal")))&&(O=O.parentNode),a.value=A.offsetX*2<=O.clientWidth,s.value=a.value?M-.5:M}else s.value=M;o.value=M}}function T(){u.value||(n.allowHalf&&(a.value=n.modelValue!==Math.floor(n.modelValue)),s.value=n.modelValue,o.value=-1)}return Ze(()=>n.modelValue,M=>{s.value=M,a.value=n.modelValue!==Math.floor(n.modelValue)}),n.modelValue||e(pn,0),{ns:r,hoverIndex:o,currentValue:s,rateDisabled:u,text:c,decimalStyle:g,decimalIconComponent:m,iconComponents:C,rateKls:l,showDecimalIcon:w,getIconStyle:S,selectValue:D,handleKey:E,setCurrentValue:I,resetCurrentValue:T}}}),UQe=["aria-valuenow","aria-valuetext","aria-valuemax"],jQe=["onMousemove","onClick"];function KQe(n,e,t,i,r,s){const o=Te("el-icon");return B(),te("div",{class:Z(n.rateKls),role:"slider","aria-valuenow":n.currentValue,"aria-valuetext":n.text,"aria-valuemin":"0","aria-valuemax":n.max,tabindex:"0",onKeydown:e[1]||(e[1]=(...a)=>n.handleKey&&n.handleKey(...a))},[(B(!0),te(kt,null,$n(n.max,(a,l)=>(B(),te("span",{key:l,class:Z(n.ns.e("item")),style:wt({cursor:n.rateDisabled?"auto":"pointer"}),onMousemove:u=>n.setCurrentValue(a,u),onMouseleave:e[0]||(e[0]=(...u)=>n.resetCurrentValue&&n.resetCurrentValue(...u)),onClick:u=>n.selectValue(a)},[be(o,{class:Z([n.ns.e("icon"),{hover:n.hoverIndex===a}]),style:wt(n.getIconStyle(a))},{default:De(()=>[(B(),Oe(Bn(n.iconComponents[a-1]))),n.showDecimalIcon(a)?(B(),Oe(o,{key:0,style:wt(n.decimalStyle),class:Z([n.ns.e("icon"),n.ns.e("decimal")])},{default:De(()=>[(B(),Oe(Bn(n.decimalIconComponent)))]),_:1},8,["style","class"])):Fe("v-if",!0)]),_:2},1032,["class","style"])],46,jQe))),128)),n.showText||n.showScore?(B(),te("span",{key:0,class:Z(n.ns.e("text")),style:wt({color:n.textColor})},Je(n.text),7)):Fe("v-if",!0)],42,UQe)}var GQe=at(zQe,[["render",KQe]]);const qQe=wn(GQe),oC={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},Kee={[oC.success]:H8e,[oC.warning]:QL,[oC.error]:Zz,[oC.info]:Qz},YQe=Wt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{values:["success","warning","info","error"],default:"info"}}),XQe=Me({name:"ElResult",props:YQe,setup(n){const e=dt("result"),t=z(()=>{const i=n.icon,r=i&&oC[i]?oC[i]:"icon-info",s=Kee[r]||Kee["icon-info"];return{class:r,component:s}});return{ns:e,resultIcon:t}}});function ZQe(n,e,t,i,r,s){return B(),te("div",{class:Z(n.ns.b())},[oe("div",{class:Z(n.ns.e("icon"))},[Xe(n.$slots,"icon",{},()=>[n.resultIcon.component?(B(),Oe(Bn(n.resultIcon.component),{key:0,class:Z(n.resultIcon.class)},null,8,["class"])):Fe("v-if",!0)])],2),n.title||n.$slots.title?(B(),te("div",{key:0,class:Z(n.ns.e("title"))},[Xe(n.$slots,"title",{},()=>[oe("p",null,Je(n.title),1)])],2)):Fe("v-if",!0),n.subTitle||n.$slots.subTitle?(B(),te("div",{key:1,class:Z(n.ns.e("subtitle"))},[Xe(n.$slots,"subTitle",{},()=>[oe("p",null,Je(n.subTitle),1)])],2)):Fe("v-if",!0),n.$slots.extra?(B(),te("div",{key:2,class:Z(n.ns.e("extra"))},[Xe(n.$slots,"extra")],2)):Fe("v-if",!0)],2)}var QQe=at(XQe,[["render",ZQe]]);const JQe=wn(QQe),eJe=Wt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between"],default:"start"},align:{type:String,values:["top","middle","bottom"],default:"top"}}),tJe=Me({name:"ElRow",props:eJe,setup(n,{slots:e}){const t=dt("row"),i=z(()=>n.gutter);vn("ElRow",{gutter:i});const r=z(()=>{const s={marginLeft:"",marginRight:""};return n.gutter&&(s.marginLeft=`-${n.gutter/2}px`,s.marginRight=s.marginLeft),s});return()=>{var s;return st(n.tag,{class:[t.b(),t.is(`justify-${n.justify}`,n.justify!=="start"),t.is(`align-${n.align}`,n.align!=="top")],style:r.value},(s=e.default)==null?void 0:s.call(e))}}}),nJe=wn(tJe);var Gee=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function iJe(n,e){return!!(n===e||Gee(n)&&Gee(e))}function rJe(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!iJe(n[t],e[t]))return!1;return!0}function sJe(n,e){e===void 0&&(e=rJe);var t=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(t&&t.lastThis===this&&e(r,t.lastArgs))return t.lastResult;var o=n.apply(this,r);return t={lastResult:o,lastArgs:r,lastThis:this},o}return i.clear=function(){t=null},i}const wfe=()=>{const e=en().proxy.$props;return z(()=>{const t=(i,r,s)=>({});return e.perfMode?kO(t):sJe(t)})},d9=50,xM="item-rendered",MM="scroll",aC="forward",AM="backward",Lc="auto",VO="smart",sk="start",Oh="center",ok="end",Ay="horizontal",EU="vertical",oJe="ltr",$C="rtl",RM="negative",Sfe="positive-ascending",DU="positive-descending",aJe={[Ay]:"left",[EU]:"top"},lJe=20,P0=(n,e)=>n<e?aC:AM,ak=n=>n===oJe||n===$C||n===Ay,qee=n=>n===$C;let _b=null;function OM(n=!1){if(_b===null||n){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?_b=DU:(e.scrollLeft=1,e.scrollLeft===0?_b=RM:_b=Sfe),document.body.removeChild(e),_b}return _b}function uJe({move:n,size:e,bar:t},i){const r={},s=`translate${t.axis}(${n}px)`;return r[t.size]=e,r.transform=s,r.msTransform=s,r.webkitTransform=s,i==="horizontal"?r.height="100%":r.width="100%",r}const Lfe=typeof navigator!="undefined"&&so(navigator)&&/Firefox/i.test(navigator.userAgent),cJe={[Ay]:"deltaX",[EU]:"deltaY"},dJe=({atEndEdge:n,atStartEdge:e,layout:t},i)=>{let r,s=0;const o=l=>l<0&&e.value||l>0&&n.value;return{hasReachedEdge:o,onWheel:l=>{eU(r);const u=l[cJe[t.value]];o(s)&&o(s+u)||(s+=u,Lfe||l.preventDefault(),r=Jz(()=>{i(s),s=0}))}}},h9=Nd({type:It([Number,Function]),required:!0}),f9=Nd({type:Number}),g9=Nd({type:Number,default:2}),hJe=Nd({type:String,values:["ltr","rtl"],default:"ltr"}),p9=Nd({type:Number,default:0}),PM=Nd({type:Number,required:!0}),kfe=Nd({type:String,values:["horizontal","vertical"],default:EU}),Efe=Wt({className:{type:String,default:""},containerElement:{type:It([String,Object]),default:"div"},data:{type:It(Array),default:()=>zs([])},direction:hJe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:It([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),fJe=Wt(Dt({cache:g9,estimatedItemSize:f9,layout:kfe,initScrollOffset:p9,total:PM,itemSize:h9},Efe)),gJe=Wt(Dt({columnCache:g9,columnWidth:h9,estimatedColumnWidth:f9,estimatedRowHeight:f9,initScrollLeft:p9,initScrollTop:p9,rowCache:g9,rowHeight:h9,totalColumn:PM,totalRow:PM},Efe)),pJe=Wt({layout:kfe,total:PM,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},visible:Boolean}),m9=Me({name:"ElVirtualScrollBar",props:pJe,emits:["scroll","start-move","stop-move"],setup(n,{emit:e}){const i=J(),r=J();let s=null,o=null;const a=xi({isDragging:!1,traveled:0}),l=z(()=>Vde[n.layout]),u=z(()=>n.clientSize-4),c=z(()=>({position:"absolute",width:Ay===n.layout?`${u.value}px`:"6px",height:Ay===n.layout?"6px":`${u.value}px`,[aJe[n.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),d=z(()=>{const S=n.ratio,D=n.clientSize;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*D/100;const E=D/3;return Math.floor(Math.min(Math.max(S*D,lJe),E))}),h=z(()=>{if(!Number.isFinite(d.value))return{display:"none"};const S=`${d.value}px`;return uJe({bar:l.value,size:S,move:a.traveled},n.layout)}),f=z(()=>Math.floor(n.clientSize-d.value-4)),g=()=>{Vi(window,"mousemove",_),Vi(window,"mouseup",b);const S=Ue(r);!S||(o=document.onselectstart,document.onselectstart=()=>!1,Vi(S,"touchmove",_),Vi(S,"touchend",b))},p=()=>{Lr(window,"mousemove",_),Lr(window,"mouseup",b),document.onselectstart=o,o=null;const S=Ue(r);!S||(Lr(S,"touchmove",_),Lr(S,"touchend",b))},m=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(a.isDragging=!0,a[l.value.axis]=S.currentTarget[l.value.offset]-(S[l.value.client]-S.currentTarget.getBoundingClientRect()[l.value.direction]),e("start-move"),g())},b=()=>{a.isDragging=!1,a[l.value.axis]=0,e("stop-move"),p()},_=S=>{const{isDragging:D}=a;if(!D||!r.value||!i.value)return;const E=a[l.value.axis];if(!E)return;eU(s);const I=(i.value.getBoundingClientRect()[l.value.direction]-S[l.value.client])*-1,T=r.value[l.value.offset]-E,M=I-T;s=Jz(()=>{a.traveled=Math.max(0,Math.min(M,f.value)),e("scroll",M,f.value)})},C=S=>{const D=Math.abs(S.target.getBoundingClientRect()[l.value.direction]-S[l.value.client]),E=r.value[l.value.offset]/2,I=D-E;a.traveled=Math.max(0,Math.min(I,f.value)),e("scroll",I,f.value)},w=S=>S.preventDefault();return Ze(()=>n.scrollFrom,S=>{a.isDragging||(a.traveled=Math.ceil(S*f.value))}),rn(()=>{!Kn||(Vi(i.value,"touchstart",w),Vi(r.value,"touchstart",m))}),Er(()=>{Lr(i.value,"touchstart",w),p()}),()=>st("div",{role:"presentation",ref:i,class:"el-virtual-scrollbar",style:c.value,onMousedown:Ft(C,["stop","prevent"])},st("div",{ref:r,class:"el-scrollbar__thumb",style:h.value,onMousedown:m},[]))}}),Dfe=({name:n,getOffset:e,getItemSize:t,getItemOffset:i,getEstimatedTotalSize:r,getStartIndexForOffset:s,getStopIndexForStartIndex:o,initCache:a,clearCache:l,validateProps:u})=>Me({name:n!=null?n:"ElVirtualList",props:fJe,emits:[xM,MM],setup(c,{emit:d,expose:h}){u(c);const f=en(),g=J(a(c,f)),p=wfe(),m=J(),b=J(),_=J(),C=J({isScrolling:!1,scrollDir:"forward",scrollOffset:ei(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),w=z(()=>{const{total:we,cache:ke}=c,{isScrolling:Se,scrollDir:fe,scrollOffset:pe}=Ue(C);if(we===0)return[0,0,0,0];const me=s(c,pe,Ue(g)),Ne=o(c,me,pe,Ue(g)),je=!Se||fe===AM?Math.max(1,ke):1,rt=!Se||fe===aC?Math.max(1,ke):1;return[Math.max(0,me-je),Math.max(0,Math.min(we-1,Ne+rt)),me,Ne]}),S=z(()=>r(c,Ue(g))),D=z(()=>ak(c.layout)),E=z(()=>[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:ei(c.height)?`${c.height}px`:c.height,width:ei(c.width)?`${c.width}px`:c.width},c.style]),I=z(()=>{const we=Ue(S),ke=Ue(D);return{height:ke?"100%":`${we}px`,pointerEvents:Ue(C).isScrolling?"none":void 0,width:ke?`${we}px`:"100%"}}),T=z(()=>D.value?c.width:c.height),{onWheel:M}=dJe({atStartEdge:z(()=>C.value.scrollOffset<=0),atEndEdge:z(()=>C.value.scrollOffset>=S.value),layout:z(()=>c.layout)},we=>{var ke,Se;(Se=(ke=_.value).onMouseUp)==null||Se.call(ke),G(Math.min(C.value.scrollOffset+we,S.value-T.value))}),A=()=>{const{total:we}=c;if(we>0){const[pe,me,Ne,je]=Ue(w);d(xM,pe,me,Ne,je)}const{scrollDir:ke,scrollOffset:Se,updateRequested:fe}=Ue(C);d(MM,ke,Se,fe)},O=we=>{const{clientHeight:ke,scrollHeight:Se,scrollTop:fe}=we.currentTarget,pe=Ue(C);if(pe.scrollOffset===fe)return;const me=Math.max(0,Math.min(fe,Se-ke));C.value=gn(Dt({},pe),{isScrolling:!0,scrollDir:P0(pe.scrollOffset,me),scrollOffset:me,updateRequested:!1}),Nt(ie)},F=we=>{const{clientWidth:ke,scrollLeft:Se,scrollWidth:fe}=we.currentTarget,pe=Ue(C);if(pe.scrollOffset===Se)return;const{direction:me}=c;let Ne=Se;if(me===$C)switch(OM()){case RM:{Ne=-Se;break}case DU:{Ne=fe-ke-Se;break}}Ne=Math.max(0,Math.min(Ne,fe-ke)),C.value=gn(Dt({},pe),{isScrolling:!0,scrollDir:P0(pe.scrollOffset,Ne),scrollOffset:Ne,updateRequested:!1}),Nt(ie)},U=we=>{Ue(D)?F(we):O(we),A()},V=(we,ke)=>{const Se=(S.value-T.value)/ke*we;G(Math.min(S.value-T.value,Se))},G=we=>{we=Math.max(we,0),we!==Ue(C).scrollOffset&&(C.value=gn(Dt({},Ue(C)),{scrollOffset:we,scrollDir:P0(Ue(C).scrollOffset,we),updateRequested:!0}),Nt(ie))},j=(we,ke=Lc)=>{const{scrollOffset:Se}=Ue(C);we=Math.max(0,Math.min(we,c.total-1)),G(e(c,we,ke,Se,Ue(g)))},X=we=>{const{direction:ke,itemSize:Se,layout:fe}=c,pe=p.value(l&&Se,l&&fe,l&&ke);let me;if(uo(pe,String(we)))me=pe[we];else{const Ne=i(c,we,Ue(g)),je=t(c,we,Ue(g)),rt=Ue(D),xe=ke===$C,Ve=rt?Ne:0;pe[we]=me={position:"absolute",left:xe?void 0:`${Ve}px`,right:xe?`${Ve}px`:void 0,top:rt?0:`${Ne}px`,height:rt?"100%":`${je}px`,width:rt?`${je}px`:"100%"}}return me},ie=()=>{C.value.isScrolling=!1,Nt(()=>{p.value(-1,null,null)})},Ce=()=>{const we=m.value;we&&(we.scrollTop=0)};rn(()=>{if(!Kn)return;const{initScrollOffset:we}=c,ke=Ue(m);ei(we)&&ke&&(Ue(D)?ke.scrollLeft=we:ke.scrollTop=we),A()}),Xl(()=>{const{direction:we,layout:ke}=c,{scrollOffset:Se,updateRequested:fe}=Ue(C),pe=Ue(m);if(fe&&pe)if(ke===Ay)if(we===$C)switch(OM()){case"negative":{pe.scrollLeft=-Se;break}case"positive-ascending":{pe.scrollLeft=Se;break}default:{const{clientWidth:me,scrollWidth:Ne}=pe;pe.scrollLeft=Ne-me-Se;break}}else pe.scrollLeft=Se;else pe.scrollTop=Se});const Be={clientSize:T,estimatedTotalSize:S,windowStyle:E,windowRef:m,innerRef:b,innerStyle:I,itemsToRender:w,scrollbarRef:_,states:C,getItemStyle:X,onScroll:U,onScrollbarScroll:V,onWheel:M,scrollTo:G,scrollToItem:j,resetScrollTop:Ce};return h({windowRef:m,innerRef:b,getItemStyleCache:p,scrollTo:G,scrollToItem:j,resetScrollTop:Ce,states:C}),Be},render(c){var d;const{$slots:h,className:f,clientSize:g,containerElement:p,data:m,getItemStyle:b,innerElement:_,itemsToRender:C,innerStyle:w,layout:S,total:D,onScroll:E,onScrollbarScroll:I,onWheel:T,states:M,useIsScrolling:A,windowStyle:O}=c,[F,U]=C,V=Bn(p),G=Bn(_),j=[];if(D>0)for(let Be=F;Be<=U;Be++)j.push((d=h.default)==null?void 0:d.call(h,{data:m,key:Be,index:Be,isScrolling:A?M.isScrolling:void 0,style:b(Be)}));const X=[st(G,{style:w,ref:"innerRef"},Or(G)?j:{default:()=>j})],ie=st(m9,{ref:"scrollbarRef",clientSize:g,layout:S,onScroll:I,ratio:g*100/this.estimatedTotalSize,scrollFrom:M.scrollOffset/(this.estimatedTotalSize-g),total:D}),Ce=st(V,{class:f,style:O,onScroll:E,onWheel:T,ref:"windowRef",key:0},Or(V)?[X]:{default:()=>[X]});return st("div",{key:0,class:["el-vl__wrapper",M.scrollbarAlwaysOn?"always-on":""]},[Ce,ie])}}),Ife=Dfe({name:"ElFixedSizeList",getItemOffset:({itemSize:n},e)=>e*n,getItemSize:({itemSize:n})=>n,getEstimatedTotalSize:({total:n,itemSize:e})=>e*n,getOffset:({height:n,total:e,itemSize:t,layout:i,width:r},s,o,a)=>{const l=ak(i)?r:n,u=Math.max(0,e*t-l),c=Math.min(u,s*t),d=Math.max(0,(s+1)*t-l);switch(o===VO&&(a>=d-l&&a<=c+l?o=Lc:o=Oh),o){case sk:return c;case ok:return d;case Oh:{const h=Math.round(d+(c-d)/2);return h<Math.ceil(l/2)?0:h>u+Math.floor(l/2)?u:h}case Lc:default:return a>=d&&a<=c?a:a<d?d:c}},getStartIndexForOffset:({total:n,itemSize:e},t)=>Math.max(0,Math.min(n-1,Math.floor(t/e))),getStopIndexForStartIndex:({height:n,total:e,itemSize:t,layout:i,width:r},s,o)=>{const a=s*t,l=ak(i)?r:n,u=Math.ceil((l+o-a)/t);return Math.max(0,Math.min(e-1,s+u-1))},initCache(){},clearCache:!0,validateProps(){}}),lC=(n,e,t)=>{const{itemSize:i}=n,{items:r,lastVisitedIndex:s}=t;if(e>s){let o=0;if(s>=0){const a=r[s];o=a.offset+a.size}for(let a=s+1;a<=e;a++){const l=i(a);r[a]={offset:o,size:l},o+=l}t.lastVisitedIndex=e}return r[e]},mJe=(n,e,t)=>{const{items:i,lastVisitedIndex:r}=e;return(r>0?i[r].offset:0)>=t?Tfe(n,e,0,r,t):vJe(n,e,Math.max(0,r),t)},Tfe=(n,e,t,i,r)=>{for(;t<=i;){const s=t+Math.floor((i-t)/2),o=lC(n,s,e).offset;if(o===r)return s;o<r?t=s+1:o>r&&(i=s-1)}return Math.max(0,t-1)},vJe=(n,e,t,i)=>{const{total:r}=n;let s=1;for(;t<r&&lC(n,t,e).offset<i;)t+=s,s*=2;return Tfe(n,e,Math.floor(t/2),Math.min(t,r-1),i)},Yee=({total:n},{items:e,estimatedItemSize:t,lastVisitedIndex:i})=>{let r=0;if(i>=n&&(i=n-1),i>=0){const a=e[i];r=a.offset+a.size}const o=(n-i-1)*t;return r+o},_Je=Dfe({name:"ElDynamicSizeList",getItemOffset:(n,e,t)=>lC(n,e,t).offset,getItemSize:(n,e,{items:t})=>t[e].size,getEstimatedTotalSize:Yee,getOffset:(n,e,t,i,r)=>{const{height:s,layout:o,width:a}=n,l=ak(o)?a:s,u=lC(n,e,r),c=Yee(n,r),d=Math.max(0,Math.min(c-l,u.offset)),h=Math.max(0,u.offset-l+u.size);switch(t===VO&&(i>=h-l&&i<=d+l?t=Lc:t=Oh),t){case sk:return d;case ok:return h;case Oh:return Math.round(h+(d-h)/2);case Lc:default:return i>=h&&i<=d?i:i<h?h:d}},getStartIndexForOffset:(n,e,t)=>mJe(n,t,e),getStopIndexForStartIndex:(n,e,t,i)=>{const{height:r,total:s,layout:o,width:a}=n,l=ak(o)?a:r,u=lC(n,e,i),c=t+l;let d=u.offset+u.size,h=e;for(;h<s-1&&d<c;)h++,d+=lC(n,h,i).size;return h},initCache({estimatedItemSize:n=d9},e){const t={items:{},estimatedItemSize:n,lastVisitedIndex:-1};return t.clearCacheAfterIndex=(i,r=!0)=>{var s,o;t.lastVisitedIndex=Math.min(t.lastVisitedIndex,i-1),(s=e.exposed)==null||s.getItemStyleCache(-1),r&&((o=e.proxy)==null||o.$forceUpdate())},t},clearCache:!1,validateProps:({itemSize:n})=>{}}),bJe=({atXEndEdge:n,atXStartEdge:e,atYEndEdge:t,atYStartEdge:i},r)=>{let s=null,o=0,a=0;const l=(c,d)=>{const h=c<0&&e.value||c>0&&n.value,f=d<0&&i.value||d>0&&t.value;return h&&f};return{hasReachedEdge:l,onWheel:c=>{eU(s);const d=c.deltaX,h=c.deltaY;l(o,a)&&l(o+d,a+h)||(o+=d,a+=h,Lfe||c.preventDefault(),s=Jz(()=>{r(o,a),o=0,a=0}))}}},Nfe=({name:n,clearCache:e,getColumnPosition:t,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:s,getEstimatedTotalWidth:o,getColumnOffset:a,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:d,initCache:h,validateProps:f})=>Me({name:n!=null?n:"ElVirtualList",props:gJe,emits:[xM,MM],setup(g,{emit:p,expose:m,slots:b}){f(g);const _=en(),C=J(h(g,_)),w=J(),S=J(),D=J(),E=J(null),I=J({isScrolling:!1,scrollLeft:ei(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:ei(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:aC,yAxisScrollDir:aC}),T=wfe(),M=z(()=>parseInt(`${g.height}`,10)),A=z(()=>parseInt(`${g.width}`,10)),O=z(()=>{const{totalColumn:xe,totalRow:Ve,columnCache:ee}=g,{isScrolling:ne,xAxisScrollDir:le,scrollLeft:de}=Ue(I);if(xe===0||Ve===0)return[0,0,0,0];const ye=i(g,de,Ue(C)),q=r(g,ye,de,Ue(C)),P=!ne||le===AM?Math.max(1,ee):1,x=!ne||le===aC?Math.max(1,ee):1;return[Math.max(0,ye-P),Math.max(0,Math.min(xe-1,q+x)),ye,q]}),F=z(()=>{const{totalColumn:xe,totalRow:Ve,rowCache:ee}=g,{isScrolling:ne,yAxisScrollDir:le,scrollTop:de}=Ue(I);if(xe===0||Ve===0)return[0,0,0,0];const ye=c(g,de,Ue(C)),q=d(g,ye,de,Ue(C)),P=!ne||le===AM?Math.max(1,ee):1,x=!ne||le===aC?Math.max(1,ee):1;return[Math.max(0,ye-P),Math.max(0,Math.min(Ve-1,q+x)),ye,q]}),U=z(()=>s(g,Ue(C))),V=z(()=>o(g,Ue(C))),G=z(()=>{var xe;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:ei(g.height)?`${g.height}px`:g.height,width:ei(g.width)?`${g.width}px`:g.width},(xe=g.style)!=null?xe:{}]}),j=z(()=>{const xe=`${Ue(V)}px`;return{height:`${Ue(U)}px`,pointerEvents:Ue(I).isScrolling?"none":void 0,width:xe}}),X=()=>{const{totalColumn:xe,totalRow:Ve}=g;if(xe>0&&Ve>0){const[q,P,x,R]=Ue(O),[H,W,K,re]=Ue(F);p(xM,q,P,H,W,x,R,K,re)}const{scrollLeft:ee,scrollTop:ne,updateRequested:le,xAxisScrollDir:de,yAxisScrollDir:ye}=Ue(I);p(MM,de,ee,ye,ne,le)},ie=xe=>{const{clientHeight:Ve,clientWidth:ee,scrollHeight:ne,scrollLeft:le,scrollTop:de,scrollWidth:ye}=xe.currentTarget,q=Ue(I);if(q.scrollTop===de&&q.scrollLeft===le)return;let P=le;if(qee(g.direction))switch(OM()){case RM:P=-le;break;case DU:P=ye-ee-le;break}I.value=gn(Dt({},q),{isScrolling:!0,scrollLeft:P,scrollTop:Math.max(0,Math.min(de,ne-Ve)),updateRequested:!1,xAxisScrollDir:P0(q.scrollLeft,P),yAxisScrollDir:P0(q.scrollTop,de)}),Nt(pe),X()},Ce=(xe,Ve)=>{const ee=Ue(M),ne=(U.value-ee)/Ve*xe;ke({scrollTop:Math.min(U.value-ee,ne)})},Be=(xe,Ve)=>{const ee=Ue(A),ne=(V.value-ee)/Ve*xe;ke({scrollLeft:Math.min(V.value-ee,ne)})},{onWheel:we}=bJe({atXStartEdge:z(()=>I.value.scrollLeft<=0),atXEndEdge:z(()=>I.value.scrollLeft>=V.value),atYStartEdge:z(()=>I.value.scrollTop<=0),atYEndEdge:z(()=>I.value.scrollTop>=U.value)},(xe,Ve)=>{var ee,ne,le,de;(ne=(ee=S.value)==null?void 0:ee.onMouseUp)==null||ne.call(ee),(de=(le=S.value)==null?void 0:le.onMouseUp)==null||de.call(le);const ye=Ue(A),q=Ue(M);ke({scrollLeft:Math.min(I.value.scrollLeft+xe,V.value-ye),scrollTop:Math.min(I.value.scrollTop+Ve,U.value-q)})}),ke=({scrollLeft:xe=I.value.scrollLeft,scrollTop:Ve=I.value.scrollTop})=>{xe=Math.max(xe,0),Ve=Math.max(Ve,0);const ee=Ue(I);Ve===ee.scrollTop&&xe===ee.scrollLeft||(I.value=gn(Dt({},ee),{xAxisScrollDir:P0(ee.scrollLeft,xe),yAxisScrollDir:P0(ee.scrollTop,Ve),scrollLeft:xe,scrollTop:Ve,updateRequested:!0}),Nt(pe))},Se=(xe=0,Ve=0,ee=Lc)=>{const ne=Ue(I);Ve=Math.max(0,Math.min(Ve,g.totalColumn-1)),xe=Math.max(0,Math.min(xe,g.totalRow-1));const le=tde(),de=Ue(C),ye=s(g,de),q=o(g,de);ke({scrollLeft:a(g,Ve,ee,ne.scrollLeft,de,q>g.width?le:0),scrollTop:l(g,xe,ee,ne.scrollTop,de,ye>g.height?le:0)})},fe=(xe,Ve)=>{const{columnWidth:ee,direction:ne,rowHeight:le}=g,de=T.value(e&&ee,e&&le,e&&ne),ye=`${xe},${Ve}`;if(uo(de,ye))return de[ye];{const[,q]=t(g,Ve,Ue(C)),P=Ue(C),x=qee(ne),[R,H]=u(g,xe,P),[W]=t(g,Ve,P);return de[ye]={position:"absolute",left:x?void 0:`${q}px`,right:x?`${q}px`:void 0,top:`${H}px`,height:`${R}px`,width:`${W}px`},de[ye]}},pe=()=>{I.value.isScrolling=!1,Nt(()=>{T.value(-1,null,null)})};rn(()=>{if(!Kn)return;const{initScrollLeft:xe,initScrollTop:Ve}=g,ee=Ue(w);ee&&(ei(xe)&&(ee.scrollLeft=xe),ei(Ve)&&(ee.scrollTop=Ve)),X()}),Xl(()=>{const{direction:xe}=g,{scrollLeft:Ve,scrollTop:ee,updateRequested:ne}=Ue(I),le=Ue(w);if(ne&&le){if(xe===$C)switch(OM()){case RM:{le.scrollLeft=-Ve;break}case Sfe:{le.scrollLeft=Ve;break}default:{const{clientWidth:de,scrollWidth:ye}=le;le.scrollLeft=ye-de-Ve;break}}else le.scrollLeft=Math.max(0,Ve);le.scrollTop=Math.max(0,ee)}}),m({windowRef:w,innerRef:E,getItemStyleCache:T,scrollTo:ke,scrollToItem:Se,states:I});const me=()=>{const{totalColumn:xe,totalRow:Ve}=g,ee=Ue(A),ne=Ue(M),le=Ue(V),de=Ue(U),{scrollLeft:ye,scrollTop:q}=Ue(I),P=st(m9,{ref:S,clientSize:ee,layout:"horizontal",onScroll:Be,ratio:ee*100/le,scrollFrom:ye/(le-ee),total:Ve,visible:!0}),x=st(m9,{ref:D,clientSize:ne,layout:"vertical",onScroll:Ce,ratio:ne*100/de,scrollFrom:q/(de-ne),total:xe,visible:!0});return{horizontalScrollbar:P,verticalScrollbar:x}},Ne=()=>{var xe;const[Ve,ee]=Ue(O),[ne,le]=Ue(F),{data:de,totalColumn:ye,totalRow:q,useIsScrolling:P}=g,x=[];if(q>0&&ye>0)for(let R=ne;R<=le;R++)for(let H=Ve;H<=ee;H++)x.push((xe=b.default)==null?void 0:xe.call(b,{columnIndex:H,data:de,key:H,isScrolling:P?Ue(I).isScrolling:void 0,style:fe(R,H),rowIndex:R}));return x},je=()=>{const xe=Bn(g.innerElement),Ve=Ne();return[st(xe,{style:Ue(j),ref:E},Or(xe)?Ve:{default:()=>Ve})]};return()=>{const xe=Bn(g.containerElement),{horizontalScrollbar:Ve,verticalScrollbar:ee}=me(),ne=je();return st("div",{key:0,class:"el-vg__wrapper"},[st(xe,{class:g.className,style:Ue(G),onScroll:ie,onWheel:we,ref:w},Or(xe)?ne:{default:()=>ne}),Ve,ee])}}});Nfe({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:n},e)=>[n,e*n],getRowPosition:({rowHeight:n},e)=>[n,e*n],getEstimatedTotalHeight:({totalRow:n,rowHeight:e})=>e*n,getEstimatedTotalWidth:({totalColumn:n,columnWidth:e})=>e*n,getColumnOffset:({totalColumn:n,columnWidth:e,width:t},i,r,s,o,a)=>{t=Number(t);const l=Math.max(0,n*e-t),u=Math.min(l,i*e),c=Math.max(0,i*e-t+a+e);switch(r==="smart"&&(s>=c-t&&s<=u+t?r=Lc:r=Oh),r){case sk:return u;case ok:return c;case Oh:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(t/2)?0:d>l+Math.floor(t/2)?l:d}case Lc:default:return s>=c&&s<=u?s:c>u||s<c?c:u}},getRowOffset:({rowHeight:n,height:e,totalRow:t},i,r,s,o,a)=>{e=Number(e);const l=Math.max(0,t*n-e),u=Math.min(l,i*n),c=Math.max(0,i*n-e+a+n);switch(r===VO&&(s>=c-e&&s<=u+e?r=Lc:r=Oh),r){case sk:return u;case ok:return c;case Oh:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case Lc:default:return s>=c&&s<=u?s:c>u||s<c?c:u}},getColumnStartIndexForOffset:({columnWidth:n,totalColumn:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getColumnStopIndexForStartIndex:({columnWidth:n,totalColumn:e,width:t},i,r)=>{const s=i*n,o=Math.ceil((t+r-s)/n);return Math.max(0,Math.min(e-1,i+o-1))},getRowStartIndexForOffset:({rowHeight:n,totalRow:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getRowStopIndexForStartIndex:({rowHeight:n,totalRow:e,height:t},i,r)=>{const s=i*n,o=Math.ceil((t+r-s)/n);return Math.max(0,Math.min(e-1,i+o-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:n,rowHeight:e})=>{}});const{max:FM,min:xfe,floor:Mfe}=Math,CJe={column:"columnWidth",row:"rowHeight"},v9={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},eg=(n,e,t,i)=>{const[r,s,o]=[t[i],n[CJe[i]],t[v9[i]]];if(e>o){let a=0;if(o>=0){const l=r[o];a=l.offset+l.size}for(let l=o+1;l<=e;l++){const u=s(l);r[l]={offset:a,size:u},a+=u}t[v9[i]]=e}return r[e]},Afe=(n,e,t,i,r,s)=>{for(;t<=i;){const o=t+Mfe((i-t)/2),a=eg(n,o,e,s).offset;if(a===r)return o;a<r?t=o+1:i=o-1}return FM(0,t-1)},yJe=(n,e,t,i,r)=>{const s=r==="column"?n.totalColumn:n.totalRow;let o=1;for(;t<s&&eg(n,t,e,r).offset<i;)t+=o,o*=2;return Afe(n,e,Mfe(t/2),xfe(t,s-1),i,r)},Xee=(n,e,t,i)=>{const[r,s]=[e[i],e[v9[i]]];return(s>0?r[s].offset:0)>=t?Afe(n,e,0,s,t,i):yJe(n,e,FM(0,s),t,i)},Rfe=({totalRow:n},{estimatedRowHeight:e,lastVisitedRowIndex:t,row:i})=>{let r=0;if(t>=n&&(t=n-1),t>=0){const a=i[t];r=a.offset+a.size}const o=(n-t-1)*e;return r+o},Ofe=({totalColumn:n},{column:e,estimatedColumnWidth:t,lastVisitedColumnIndex:i})=>{let r=0;if(i>n&&(i=n-1),i>=0){const a=e[i];r=a.offset+a.size}const o=(n-i-1)*t;return r+o},wJe={column:Ofe,row:Rfe},Zee=(n,e,t,i,r,s,o)=>{const[a,l]=[s==="row"?n.height:n.width,wJe[s]],u=eg(n,e,r,s),c=l(n,r),d=FM(0,xfe(c-a,u.offset)),h=FM(0,u.offset-a+o+u.size);switch(t===VO&&(i>=h-a&&i<=d+a?t=Lc:t=Oh),t){case sk:return d;case ok:return h;case Oh:return Math.round(h+(d-h)/2);case Lc:default:return i>=h&&i<=d?i:h>d||i<h?h:d}};Nfe({name:"ElDynamicSizeGrid",getColumnPosition:(n,e,t)=>{const i=eg(n,e,t,"column");return[i.size,i.offset]},getRowPosition:(n,e,t)=>{const i=eg(n,e,t,"row");return[i.size,i.offset]},getColumnOffset:(n,e,t,i,r,s)=>Zee(n,e,t,i,r,"column",s),getRowOffset:(n,e,t,i,r,s)=>Zee(n,e,t,i,r,"row",s),getColumnStartIndexForOffset:(n,e,t)=>Xee(n,t,e,"column"),getColumnStopIndexForStartIndex:(n,e,t,i)=>{const r=eg(n,e,i,"column"),s=t+n.width;let o=r.offset+r.size,a=e;for(;a<n.totalColumn-1&&o<s;)a++,o+=eg(n,e,i,"column").size;return a},getEstimatedTotalHeight:Rfe,getEstimatedTotalWidth:Ofe,getRowStartIndexForOffset:(n,e,t)=>Xee(n,t,e,"row"),getRowStopIndexForStartIndex:(n,e,t,i)=>{const{totalRow:r,height:s}=n,o=eg(n,e,i,"row"),a=t+s;let l=o.size+o.offset,u=e;for(;u<r-1&&l<a;)u++,l+=eg(n,u,i,"row").size;return u},initCache:({estimatedColumnWidth:n=d9,estimatedRowHeight:e=d9})=>({column:{},estimatedColumnWidth:n,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!0,validateProps:({columnWidth:n,rowHeight:e})=>{}});const SJe=Me({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:dt("select")}}});function LJe(n,e,t,i,r,s){return n.item.isTitle?(B(),te("div",{key:0,class:Z(n.ns.be("group","title")),style:wt([n.style,{lineHeight:`${n.height}px`}])},Je(n.item.label),7)):(B(),te("div",{key:1,class:Z(n.ns.be("group","split")),style:wt(n.style)},[oe("span",{class:Z(n.ns.be("group","split-dash")),style:wt({top:`${n.height/2}px`})},null,6)],6))}var kJe=at(SJe,[["render",LJe]]);function EJe(n,{emit:e}){return{hoverItem:()=>{n.disabled||e("hover",n.index)},selectOptionClick:()=>{n.disabled||e("select",n.item,n.index)}}}const DJe={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Ug},effect:{type:String,default:"light"},collapseTags:Boolean,defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},popperAppendToBody:{type:Boolean,default:void 0},teleported:wa.teleported,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:zl},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1}},IJe={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},TJe=Me({props:IJe,emits:["select","hover"],setup(n,{emit:e}){const t=dt("select"),{hoverItem:i,selectOptionClick:r}=EJe(n,{emit:e});return{ns:t,hoverItem:i,selectOptionClick:r}}}),NJe=["aria-selected"];function xJe(n,e,t,i,r,s){return B(),te("li",{"aria-selected":n.selected,style:wt(n.style),class:Z([n.ns.be("dropdown","option-item"),n.ns.is("selected",n.selected),n.ns.is("disabled",n.disabled),n.ns.is("created",n.created),{hover:n.hovering}]),onMouseenter:e[0]||(e[0]=(...o)=>n.hoverItem&&n.hoverItem(...o)),onClick:e[1]||(e[1]=Ft((...o)=>n.selectOptionClick&&n.selectOptionClick(...o),["stop"]))},[Xe(n.$slots,"default",{item:n.item,index:n.index,disabled:n.disabled},()=>[oe("span",null,Je(n.item.label),1)])],46,NJe)}var MJe=at(TJe,[["render",xJe]]);const Pfe="ElSelectV2Injection",AJe=Me({name:"ElSelectDropdown",props:{data:Array,hoveringIndex:Number,width:Number},setup(n){const e=mt(Pfe),t=dt("select"),i=J([]),r=J(null),s=z(()=>XL(e.props.estimatedOptionHeight)),o=z(()=>s.value?{itemSize:e.props.itemHeight}:{estimatedSize:e.props.estimatedOptionHeight,itemSize:g=>i.value[g]}),a=(g=[],p)=>{const{props:{valueKey:m}}=e;return so(p)?g&&g.some(b=>Vs(b,m)===Vs(p,m)):g.includes(p)},l=(g,p)=>{if(so(p)){const{valueKey:m}=e.props;return Vs(g,m)===Vs(p,m)}else return g===p};return{ns:t,select:e,listProps:o,listRef:r,isSized:s,isItemDisabled:(g,p)=>{const{disabled:m,multiple:b,multipleLimit:_}=e.props;return m||!p&&(b?_>0&&g.length>=_:!1)},isItemHovering:g=>n.hoveringIndex===g,isItemSelected:(g,p)=>e.props.multiple?a(g,p.value):l(g,p.value),scrollToItem:g=>{const p=r.value;p&&p.scrollToItem(g)},resetScrollTop:()=>{const g=r.value;g&&g.resetScrollTop()}}},render(n,e){var t;const{$slots:i,data:r,listProps:s,select:o,isSized:a,width:l,ns:u,isItemDisabled:c,isItemHovering:d,isItemSelected:h}=n,f=a?Ife:_Je,{props:g,onSelect:p,onHover:m,onKeyboardNavigate:b,onKeyboardSelect:_}=o,{height:C,modelValue:w,multiple:S}=g;if(r.length===0)return st("div",{class:u.b("dropdown"),style:{width:`${l}px`}},(t=i.empty)==null?void 0:t.call(i));const D=De(I=>{const{index:T,data:M}=I,A=M[T];if(M[T].type==="Group")return st(kJe,{item:A,style:I.style,height:a?s.itemSize:s.estimatedSize});const O=h(w,A),F=c(w,O);return st(MJe,gn(Dt({},I),{selected:O,disabled:A.disabled||F,created:!!A.created,hovering:d(T),item:A,onSelect:p,onHover:m}),{default:De(U=>Xe(i,"default",U,()=>[st("span",A.label)]))})}),E=st(f,Dt({ref:"listRef",className:u.be("dropdown","list"),data:r,height:C,width:l,total:r.length,scrollbarAlwaysOn:g.scrollbarAlwaysOn,onKeydown:[e[1]||(e[1]=Cn(Ft(()=>b("forward"),["stop","prevent"]),["down"])),e[2]||(e[2]=Cn(Ft(()=>b("backward"),["stop","prevent"]),["up"])),e[3]||(e[3]=Cn(Ft(_,["stop","prevent"]),["enter"])),e[4]||(e[4]=Cn(Ft(()=>o.expanded=!1,["stop","prevent"]),["esc"])),e[5]||(e[5]=Cn(()=>o.expanded=!1,["tab"]))]},s),{default:D});return st("div",{class:[u.b("dropdown"),u.is("multiple",S)]},[E])}});function RJe(n,e){const t=J(0),i=J(null),r=z(()=>n.allowCreate&&n.filterable);function s(c){const d=h=>h.value===c;return n.options&&n.options.some(d)||e.createdOptions.some(d)}function o(c){!r.value||(n.multiple&&c.created?t.value++:i.value=c)}function a(c){if(r.value)if(c&&c.length>0&&!s(c)){const d={value:c,label:c,created:!0,disabled:!1};e.createdOptions.length>=t.value?e.createdOptions[t.value]=d:e.createdOptions.push(d)}else if(n.multiple)e.createdOptions.length=t.value;else{const d=i.value;e.createdOptions.length=0,d&&d.created&&e.createdOptions.push(d)}}function l(c){if(!r.value||!c||!c.created||c.created&&n.reserveKeyword&&e.inputValue===c.label)return;const d=e.createdOptions.findIndex(h=>h.value===c.value);~d&&(e.createdOptions.splice(d,1),t.value--)}function u(){r.value&&(e.createdOptions.length=0,t.value=0)}return{createNewOption:a,removeNewOption:l,selectNewOption:o,clearAllNewOption:u}}const OJe=n=>{const e=[];return n.map(t=>{Iu(t.options)?(e.push({label:t.label,isTitle:!0,type:"Group"}),t.options.forEach(i=>{e.push(i)}),e.push({type:"Group"})):e.push(t)}),e};function PJe(n){const e=J(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:s=>{const o=s.target.value,a=o[o.length-1]||"";e.value=!xO(a)},handleCompositionEnd:s=>{e.value&&(e.value=!1,xl(n)&&n(s))}}}const Qee="",Jee=11,FJe={larget:51,default:42,small:33},BJe="ElSelectV2",$Je=(n,e)=>{const{t}=Oi(),i=dt("select-v2"),r=dt("input"),{form:s,formItem:o}=Ow(),{compatTeleported:a}=Pw(BJe,"popperAppendToBody"),l=xi({inputValue:Qee,displayInputValue:Qee,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:"",query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),u=J(-1),c=J(-1),d=J(null),h=J(null),f=J(null),g=J(null),p=J(null),m=J(null),b=J(null),_=J(!1),C=z(()=>n.disabled||(s==null?void 0:s.disabled)),w=z(()=>{const Qe=F.value.length*34;return Qe>n.height?n.height:Qe}),S=z(()=>n.modelValue!==void 0&&n.modelValue!==null&&n.modelValue!==""),D=z(()=>{const Qe=n.multiple?Array.isArray(n.modelValue)&&n.modelValue.length>0:S.value;return n.clearable&&!C.value&&l.comboBoxHovering&&Qe}),E=z(()=>n.remote&&n.filterable?"":XE),I=z(()=>E.value&&i.is("reverse",_.value)),T=z(()=>(o==null?void 0:o.validateState)||""),M=z(()=>ude[T.value]),A=z(()=>n.remote?300:0),O=z(()=>{const Qe=F.value;return n.loading?n.loadingText||t("el.select.loading"):n.remote&&l.inputValue===""&&Qe.length===0?!1:n.filterable&&l.inputValue&&Qe.length>0?n.noMatchText||t("el.select.noMatch"):Qe.length===0?n.noDataText||t("el.select.noData"):null}),F=z(()=>{const Qe=At=>{const fn=l.inputValue;return fn?At.label.includes(fn):!0};return n.loading?[]:OJe(n.options.concat(l.createdOptions).map(At=>{if(Iu(At.options)){const fn=At.options.filter(Qe);if(fn.length>0)return gn(Dt({},At),{options:fn})}else if(n.remote||Qe(At))return At;return null}).filter(At=>At!==null))}),U=z(()=>F.value.every(Qe=>Qe.disabled)),V=As(),G=z(()=>V.value==="small"?"small":"default"),j=z(()=>{const Qe=m.value,At=G.value||"default",fn=Qe?parseInt(getComputedStyle(Qe).paddingLeft):0,Gi=Qe?parseInt(getComputedStyle(Qe).paddingRight):0;return l.selectWidth-Gi-fn-FJe[At]}),X=()=>{var Qe,At,fn;c.value=((fn=(At=(Qe=p.value)==null?void 0:Qe.getBoundingClientRect)==null?void 0:At.call(Qe))==null?void 0:fn.width)||200},ie=z(()=>({width:`${l.calculatedWidth===0?Jee:Math.ceil(l.calculatedWidth)+Jee}px`})),Ce=z(()=>Iu(n.modelValue)?n.modelValue.length===0&&!l.displayInputValue:n.filterable?l.displayInputValue.length===0:!0),Be=z(()=>{const Qe=n.placeholder||t("el.select.placeholder");return n.multiple?Qe:l.selectedLabel||Qe}),we=z(()=>{var Qe,At;return(At=(Qe=g.value)==null?void 0:Qe.popperRef)==null?void 0:At.contentRef}),ke=z(()=>{if(n.multiple){const Qe=n.modelValue.length;if(n.modelValue.length>0)return F.value.findIndex(At=>At.value===n.modelValue[Qe-1])}else if(n.modelValue)return F.value.findIndex(Qe=>Qe.value===n.modelValue);return-1}),Se=z(()=>_.value&&O.value!==!1),{createNewOption:fe,removeNewOption:pe,selectNewOption:me,clearAllNewOption:Ne}=RJe(n,l),{handleCompositionStart:je,handleCompositionUpdate:rt,handleCompositionEnd:xe}=PJe(Qe=>vr(Qe)),Ve=()=>{var Qe,At,fn;(At=(Qe=h.value).focus)==null||At.call(Qe),(fn=g.value)==null||fn.updatePopper()},ee=()=>{if(!n.automaticDropdown&&!C.value)return l.isComposing&&(l.softFocus=!0),Nt(()=>{var Qe,At;_.value=!_.value,(At=(Qe=h.value)==null?void 0:Qe.focus)==null||At.call(Qe)})},ne=()=>(n.filterable&&l.inputValue!==l.selectedLabel&&(l.query=l.selectedLabel),de(l.inputValue),Nt(()=>{fe(l.inputValue)})),le=Hl(ne,A.value),de=Qe=>{l.previousQuery!==Qe&&(l.previousQuery=Qe,n.filterable&&xl(n.filterMethod)?n.filterMethod(Qe):n.filterable&&n.remote&&xl(n.remoteMethod)&&n.remoteMethod(Qe))},ye=Qe=>{wd(n.modelValue,Qe)||e(xo,Qe)},q=Qe=>{e(pn,Qe),ye(Qe),l.previousValue=Qe.toString()},P=(Qe=[],At)=>{if(!so(At))return Qe.indexOf(At);const fn=n.valueKey;let Gi=-1;return Qe.some((po,ss)=>Vs(po,fn)===Vs(At,fn)?(Gi=ss,!0):!1),Gi},x=Qe=>so(Qe)?Vs(Qe,n.valueKey):Qe,R=Qe=>so(Qe)?Qe.label:Qe,H=()=>{if(!(n.collapseTags&&!n.filterable))return Nt(()=>{var Qe,At;if(!h.value)return;const fn=m.value;p.value.height=fn.offsetHeight,_.value&&O.value!==!1&&((At=(Qe=g.value)==null?void 0:Qe.updatePopper)==null||At.call(Qe))})},W=()=>{var Qe,At;if(K(),X(),(At=(Qe=g.value)==null?void 0:Qe.updatePopper)==null||At.call(Qe),n.multiple)return H()},K=()=>{const Qe=m.value;Qe&&(l.selectWidth=Qe.getBoundingClientRect().width)},re=(Qe,At,fn=!0)=>{var Gi,po;if(n.multiple){let ss=n.modelValue.slice();const Xu=P(ss,x(Qe));Xu>-1?(ss=[...ss.slice(0,Xu),...ss.slice(Xu+1)],l.cachedOptions.splice(Xu,1),pe(Qe)):(n.multipleLimit<=0||ss.length<n.multipleLimit)&&(ss=[...ss,x(Qe)],l.cachedOptions.push(Qe),me(Qe),pt(At)),q(ss),Qe.created&&(l.query="",de(""),l.inputLength=20),n.filterable&&!n.reserveKeyword&&((po=(Gi=h.value).focus)==null||po.call(Gi),Ge("")),n.filterable&&(l.calculatedWidth=b.value.getBoundingClientRect().width),H(),sn()}else u.value=At,l.selectedLabel=Qe.label,q(x(Qe)),_.value=!1,l.isComposing=!1,l.isSilentBlur=fn,me(Qe),Qe.created||Ne(),pt(At)},se=(Qe,At)=>{const fn=n.modelValue.indexOf(At.value);if(fn>-1&&!C.value){const Gi=[...n.modelValue.slice(0,fn),...n.modelValue.slice(fn+1)];return l.cachedOptions.splice(fn,1),q(Gi),e("remove-tag",At.value),l.softFocus=!0,pe(At),Nt(Ve)}Qe.stopPropagation()},ve=Qe=>{const At=l.isComposing;l.isComposing=!0,l.softFocus?l.softFocus=!1:At||e("focus",Qe)},Re=()=>(l.softFocus=!1,Nt(()=>{var Qe,At;(At=(Qe=h.value)==null?void 0:Qe.blur)==null||At.call(Qe),b.value&&(l.calculatedWidth=b.value.getBoundingClientRect().width),l.isSilentBlur?l.isSilentBlur=!1:l.isComposing&&e("blur"),l.isComposing=!1})),ge=()=>{l.displayInputValue.length>0?Ge(""):_.value=!1},Ie=Qe=>{if(l.displayInputValue.length===0){Qe.preventDefault();const At=n.modelValue.slice();At.pop(),pe(l.cachedOptions.pop()),q(At)}},Pe=()=>{let Qe;return Iu(n.modelValue)?Qe=[]:Qe="",l.softFocus=!0,n.multiple?l.cachedOptions=[]:l.selectedLabel="",_.value=!1,q(Qe),e("clear"),Ne(),Nt(Ve)},Ge=Qe=>{l.displayInputValue=Qe,l.inputValue=Qe},bt=(Qe,At=void 0)=>{const fn=F.value;if(!["forward","backward"].includes(Qe)||C.value||fn.length<=0||U.value)return;if(!_.value)return ee();At===void 0&&(At=l.hoveringIndex);let Gi=-1;Qe==="forward"?(Gi=At+1,Gi>=fn.length&&(Gi=0)):Qe==="backward"&&(Gi=At-1,Gi<0&&(Gi=fn.length-1));const po=fn[Gi];if(po.disabled||po.type==="Group")return bt(Qe,Gi);pt(Gi),pa(Gi)},Mt=()=>{if(_.value)~l.hoveringIndex&&F.value[l.hoveringIndex]&&re(F.value[l.hoveringIndex],l.hoveringIndex,!1);else return ee()},pt=Qe=>{l.hoveringIndex=Qe},Jt=()=>{l.hoveringIndex=-1},sn=()=>{var Qe;const At=h.value;At&&((Qe=At.focus)==null||Qe.call(At))},vr=Qe=>{const At=Qe.target.value;if(Ge(At),l.displayInputValue.length>0&&!_.value&&(_.value=!0),l.calculatedWidth=b.value.getBoundingClientRect().width,n.multiple&&H(),n.remote)le();else return ne()},An=()=>(_.value=!1,Re()),vi=()=>(l.inputValue=l.displayInputValue,Nt(()=>{~ke.value&&(pt(ke.value),pa(l.hoveringIndex))})),pa=Qe=>{f.value.scrollToItem(Qe)},hs=()=>{if(Jt(),n.multiple)if(n.modelValue.length>0){let Qe=!1;l.cachedOptions.length=0,l.previousValue=n.modelValue.toString(),n.modelValue.map(At=>{const fn=F.value.findIndex(Gi=>x(Gi)===At);~fn&&(l.cachedOptions.push(F.value[fn]),Qe||pt(fn),Qe=!0)})}else l.cachedOptions=[],l.previousValue="";else if(S.value){l.previousValue=n.modelValue;const Qe=F.value,At=Qe.findIndex(fn=>x(fn)===n.modelValue);~At?(l.selectedLabel=Qe[At].label,pt(At)):l.selectedLabel=`${n.modelValue}`}else l.selectedLabel="",l.previousValue="";X()};return Ze(_,Qe=>{var At,fn;e("visible-change",Qe),Qe?(fn=(At=g.value).update)==null||fn.call(At):(l.displayInputValue="",fe(""))}),Ze(()=>n.modelValue,(Qe,At)=>{var fn;(!Qe||Qe.toString()!==l.previousValue)&&hs(),wd(Qe,At)||(fn=o==null?void 0:o.validate)==null||fn.call(o,"change")},{deep:!0}),Ze(()=>n.options,()=>{const Qe=h.value;(!Qe||Qe&&document.activeElement!==Qe)&&hs()},{deep:!0}),Ze(F,()=>Nt(f.value.resetScrollTop)),rn(()=>{hs(),_v(p.value,W)}),Mw(()=>{bv(p.value,W)}),{collapseTagSize:G,currentPlaceholder:Be,expanded:_,emptyText:O,popupHeight:w,debounce:A,filteredOptions:F,iconComponent:E,iconReverse:I,inputWrapperStyle:ie,popperSize:c,dropdownMenuVisible:Se,hasModelValue:S,shouldShowPlaceholder:Ce,selectDisabled:C,selectSize:V,showClearBtn:D,states:l,tagMaxWidth:j,nsSelectV2:i,nsInput:r,calculatorRef:b,controlRef:d,inputRef:h,menuRef:f,popper:g,selectRef:p,selectionRef:m,popperRef:we,validateState:T,validateIcon:M,compatTeleported:a,debouncedOnInputChange:le,deleteTag:se,getLabel:R,getValueKey:x,handleBlur:Re,handleClear:Pe,handleClickOutside:An,handleDel:Ie,handleEsc:ge,handleFocus:ve,handleMenuEnter:vi,handleResize:W,toggleMenu:ee,scrollTo:pa,onInput:vr,onKeyboardNavigate:bt,onKeyboardSelect:Mt,onSelect:re,onHover:pt,onUpdateInputValue:Ge,handleCompositionStart:je,handleCompositionEnd:xe,handleCompositionUpdate:rt}},VJe=Me({name:"ElSelectV2",components:{ElSelectMenu:AJe,ElTag:PO,ElTooltip:Ql,ElIcon:cn},directives:{ClickOutside:wv,ModelText:k_},props:DJe,emits:[pn,xo,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const t=$Je(n,e);return vn(Pfe,{props:xi(gn(Dt({},Ko(n)),{height:t.popupHeight})),onSelect:t.onSelect,onHover:t.onHover,onKeyboardNavigate:t.onKeyboardNavigate,onKeyboardSelect:t.onKeyboardSelect}),t}}),WJe={key:0},HJe=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],zJe=["textContent"],UJe=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],jJe=["textContent"];function KJe(n,e,t,i,r,s){const o=Te("el-tag"),a=Te("el-icon"),l=Te("el-select-menu"),u=Te("el-tooltip"),c=xa("model-text"),d=xa("click-outside");return Ht((B(),te("div",{ref:"selectRef",class:Z([n.nsSelectV2.b(),n.nsSelectV2.m(n.selectSize)]),onClick:e[24]||(e[24]=Ft((...h)=>n.toggleMenu&&n.toggleMenu(...h),["stop"])),onMouseenter:e[25]||(e[25]=h=>n.states.comboBoxHovering=!0),onMouseleave:e[26]||(e[26]=h=>n.states.comboBoxHovering=!1)},[be(u,{ref:"popper",visible:n.dropdownMenuVisible,"onUpdate:visible":e[22]||(e[22]=h=>n.dropdownMenuVisible=h),teleported:n.compatTeleported,"popper-class":[n.nsSelectV2.e("popper"),n.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":n.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:n.effect,placement:"bottom-start",pure:"",transition:`${n.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:"",onShow:n.handleMenuEnter,onHide:e[23]||(e[23]=h=>n.states.inputValue=n.states.displayInputValue)},{default:De(()=>{var h;return[oe("div",{ref:"selectionRef",class:Z([n.nsSelectV2.e("wrapper"),n.nsSelectV2.is("focused",n.states.isComposing),n.nsSelectV2.is("hovering",n.states.comboBoxHovering),n.nsSelectV2.is("filterable",n.filterable),n.nsSelectV2.is("disabled",n.disabled)])},[n.$slots.prefix?(B(),te("div",WJe,[Xe(n.$slots,"prefix")])):Fe("v-if",!0),n.multiple?(B(),te("div",{key:1,class:Z(n.nsSelectV2.e("selection"))},[n.collapseTags&&n.modelValue.length>0?(B(),te("div",{key:0,class:Z(n.nsSelectV2.e("selected-item"))},[be(o,{closable:!n.selectDisabled&&!((h=n.states.cachedOptions[0])==null?void 0:h.disable),size:n.collapseTagSize,type:"info","disable-transitions":"",onClose:e[0]||(e[0]=f=>n.deleteTag(f,n.states.cachedOptions[0]))},{default:De(()=>{var f;return[oe("span",{class:Z(n.nsSelectV2.e("tags-text")),style:wt({maxWidth:`${n.tagMaxWidth}px`})},Je((f=n.states.cachedOptions[0])==null?void 0:f.label),7)]}),_:1},8,["closable","size"]),n.modelValue.length>1?(B(),Oe(o,{key:0,closable:!1,size:n.collapseTagSize,type:"info","disable-transitions":""},{default:De(()=>[oe("span",{class:Z(n.nsSelectV2.e("tags-text")),style:wt({maxWidth:`${n.tagMaxWidth}px`})},"+ "+Je(n.modelValue.length-1),7)]),_:1},8,["size"])):Fe("v-if",!0)],2)):(B(!0),te(kt,{key:1},$n(n.states.cachedOptions,(f,g)=>(B(),te("div",{key:g,class:Z(n.nsSelectV2.e("selected-item"))},[(B(),Oe(o,{key:n.getValueKey(f),closable:!n.selectDisabled&&!f.disabled,size:n.collapseTagSize,type:"info","disable-transitions":"",onClose:p=>n.deleteTag(p,f)},{default:De(()=>[oe("span",{class:Z(n.nsSelectV2.e("tags-text")),style:wt({maxWidth:`${n.tagMaxWidth}px`})},Je(n.getLabel(f)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),oe("div",{class:Z([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-wrapper")]),style:wt(n.inputWrapperStyle)},[Ht(oe("input",{id:n.id,ref:"inputRef",autocomplete:n.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":n.expanded,"aria-labelledby":n.label,class:Z([n.nsSelectV2.is(n.selectSize),n.nsSelectV2.e("combobox-input")]),disabled:n.disabled,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",name:n.name,unselectable:n.expanded?"on":void 0,"onUpdate:modelValue":e[1]||(e[1]=(...f)=>n.onUpdateInputValue&&n.onUpdateInputValue(...f)),onFocus:e[2]||(e[2]=(...f)=>n.handleFocus&&n.handleFocus(...f)),onInput:e[3]||(e[3]=(...f)=>n.onInput&&n.onInput(...f)),onCompositionstart:e[4]||(e[4]=(...f)=>n.handleCompositionStart&&n.handleCompositionStart(...f)),onCompositionupdate:e[5]||(e[5]=(...f)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...f)),onCompositionend:e[6]||(e[6]=(...f)=>n.handleCompositionEnd&&n.handleCompositionEnd(...f)),onKeydown:[e[7]||(e[7]=Cn(Ft(f=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=Cn(Ft(f=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=Cn(Ft((...f)=>n.onKeyboardSelect&&n.onKeyboardSelect(...f),["stop","prevent"]),["enter"])),e[10]||(e[10]=Cn(Ft((...f)=>n.handleEsc&&n.handleEsc(...f),["stop","prevent"]),["esc"])),e[11]||(e[11]=Cn(Ft((...f)=>n.handleDel&&n.handleDel(...f),["stop"]),["delete"]))]},null,42,HJe),[[c,n.states.displayInputValue]]),n.filterable?(B(),te("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z(n.nsSelectV2.e("input-calculator")),textContent:Je(n.states.displayInputValue)},null,10,zJe)):Fe("v-if",!0)],6)],2)):(B(),te(kt,{key:2},[oe("div",{class:Z([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-wrapper")])},[Ht(oe("input",{id:n.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":n.label,"aria-expanded":n.expanded,autocapitalize:"off",autocomplete:n.autocomplete,class:Z(n.nsSelectV2.e("combobox-input")),disabled:n.disabled,name:n.name,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",unselectable:n.expanded?"on":void 0,onCompositionstart:e[12]||(e[12]=(...f)=>n.handleCompositionStart&&n.handleCompositionStart(...f)),onCompositionupdate:e[13]||(e[13]=(...f)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...f)),onCompositionend:e[14]||(e[14]=(...f)=>n.handleCompositionEnd&&n.handleCompositionEnd(...f)),onFocus:e[15]||(e[15]=(...f)=>n.handleFocus&&n.handleFocus(...f)),onInput:e[16]||(e[16]=(...f)=>n.onInput&&n.onInput(...f)),onKeydown:[e[17]||(e[17]=Cn(Ft(f=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[18]||(e[18]=Cn(Ft(f=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[19]||(e[19]=Cn(Ft((...f)=>n.onKeyboardSelect&&n.onKeyboardSelect(...f),["stop","prevent"]),["enter"])),e[20]||(e[20]=Cn(Ft((...f)=>n.handleEsc&&n.handleEsc(...f),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[21]||(e[21]=(...f)=>n.onUpdateInputValue&&n.onUpdateInputValue(...f))},null,42,UJe),[[c,n.states.displayInputValue]])],2),n.filterable?(B(),te("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z([n.nsSelectV2.e("selected-item"),n.nsSelectV2.e("input-calculator")]),textContent:Je(n.states.displayInputValue)},null,10,jJe)):Fe("v-if",!0)],64)),n.shouldShowPlaceholder?(B(),te("span",{key:3,class:Z([n.nsSelectV2.e("placeholder"),n.nsSelectV2.is("transparent",n.states.isComposing||(n.placeholder&&n.multiple?n.modelValue.length===0:!n.hasModelValue))])},Je(n.currentPlaceholder),3)):Fe("v-if",!0),oe("span",{class:Z(n.nsSelectV2.e("suffix"))},[n.iconComponent?Ht((B(),Oe(a,{key:0,class:Z([n.nsSelectV2.e("caret"),n.nsInput.e("icon"),n.iconReverse])},{default:De(()=>[(B(),Oe(Bn(n.iconComponent)))]),_:1},8,["class"])),[[zn,!n.showClearBtn]]):Fe("v-if",!0),n.showClearBtn&&n.clearIcon?(B(),Oe(a,{key:1,class:Z([n.nsSelectV2.e("caret"),n.nsInput.e("icon")]),onClick:Ft(n.handleClear,["prevent","stop"])},{default:De(()=>[(B(),Oe(Bn(n.clearIcon)))]),_:1},8,["class","onClick"])):Fe("v-if",!0),n.validateState&&n.validateIcon?(B(),Oe(a,{key:2,class:Z([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:De(()=>[(B(),Oe(Bn(n.validateIcon)))]),_:1},8,["class"])):Fe("v-if",!0)],2)],2)]}),content:De(()=>[be(l,{ref:"menuRef",data:n.filteredOptions,width:n.popperSize,"hovering-index":n.states.hoveringIndex,"scrollbar-always-on":n.scrollbarAlwaysOn},{default:De(h=>[Xe(n.$slots,"default",Am(Bm(h)))]),empty:De(()=>[Xe(n.$slots,"empty",{},()=>[oe("p",{class:Z(n.nsSelectV2.e("empty"))},Je(n.emptyText?n.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","transition","onShow"])],34)),[[d,n.handleClickOutside,n.popperRef]])}var QN=at(VJe,[["render",KJe]]);QN.install=n=>{n.component(QN.name,QN)};const GJe=QN,qJe=GJe,YJe=Me({name:"ImgPlaceholder"}),XJe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZJe=oe("path",{d:"M64 896V128h896v768H64z m64-128l192-192 116.352 116.352L640 448l256 307.2V192H128v576z m224-480a96 96 0 1 1-0.064 192.064A96 96 0 0 1 352 288z"},null,-1),QJe=[ZJe];function JJe(n,e,t,i,r,s){return B(),te("svg",XJe,QJe)}var eet=at(YJe,[["render",JJe]]);const tet=Wt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),net=Me({name:"ElSkeletonItem",components:{ImgPlaceholder:eet},props:tet,setup(){return{ns:dt("skeleton")}}});function iet(n,e,t,i,r,s){const o=Te("img-placeholder");return B(),te("div",{class:Z([n.ns.e("item"),n.ns.e(n.variant)])},[n.variant==="image"?(B(),Oe(o,{key:0})):Fe("v-if",!0)],2)}var BM=at(net,[["render",iet]]);const ret=Wt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),set=Me({name:"ElSkeleton",components:{[BM.name]:BM},props:ret,setup(n){const e=dt("skeleton"),t=z(()=>n.loading),i=e7e(t,n.throttle);return{ns:e,uiLoading:i}}});function oet(n,e,t,i,r,s){const o=Te("el-skeleton-item");return n.uiLoading?(B(),te("div",lo({key:0,class:[n.ns.b(),n.ns.is("animated",n.animated)]},n.$attrs),[(B(!0),te(kt,null,$n(n.count,a=>(B(),te(kt,{key:a},[n.loading?Xe(n.$slots,"template",{key:a},()=>[be(o,{class:Z(n.ns.is("first")),variant:"p"},null,8,["class"]),(B(!0),te(kt,null,$n(n.rows,l=>(B(),Oe(o,{key:l,class:Z([n.ns.e("paragraph"),n.ns.is("last",l===n.rows&&n.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Fe("v-if",!0)],64))),128))],16)):Xe(n.$slots,"default",Am(lo({key:1},n.$attrs)))}var aet=at(set,[["render",oet]]);const uet=wn(aet,{SkeletonItem:BM}),cet=Ur(BM),det=(n,e,t)=>{const i=J(null),r=J(!1),s=z(()=>e.value instanceof Function),o=z(()=>s.value&&e.value(n.modelValue)||n.modelValue),a=Hl(()=>{t.value&&(r.value=!0)},50),l=Hl(()=>{t.value&&(r.value=!1)},50);return{tooltip:i,tooltipVisible:r,formatValue:o,displayTooltip:a,hideTooltip:l}},het=(n,e,t)=>{const{disabled:i,min:r,max:s,step:o,showTooltip:a,precision:l,sliderSize:u,formatTooltip:c,emitChange:d,resetSize:h,updateDragging:f}=mt("SliderProvider"),{tooltip:g,tooltipVisible:p,formatValue:m,displayTooltip:b,hideTooltip:_}=det(n,c,a),C=z(()=>`${(n.modelValue-r.value)/(s.value-r.value)*100}%`),w=z(()=>n.vertical?{bottom:C.value}:{left:C.value}),S=()=>{e.hovering=!0,b()},D=()=>{e.hovering=!1,e.dragging||_()},E=V=>{i.value||(V.preventDefault(),A(V),Vi(window,"mousemove",O),Vi(window,"touchmove",O),Vi(window,"mouseup",F),Vi(window,"touchend",F),Vi(window,"contextmenu",F))},I=()=>{i.value||(e.newPosition=parseFloat(C.value)-o.value/(s.value-r.value)*100,U(e.newPosition),d())},T=()=>{i.value||(e.newPosition=parseFloat(C.value)+o.value/(s.value-r.value)*100,U(e.newPosition),d())},M=V=>{let G,j;return V.type.startsWith("touch")?(j=V.touches[0].clientY,G=V.touches[0].clientX):(j=V.clientY,G=V.clientX),{clientX:G,clientY:j}},A=V=>{e.dragging=!0,e.isClick=!0;const{clientX:G,clientY:j}=M(V);n.vertical?e.startY=j:e.startX=G,e.startPosition=parseFloat(C.value),e.newPosition=e.startPosition},O=V=>{if(e.dragging){e.isClick=!1,b(),h();let G;const{clientX:j,clientY:X}=M(V);n.vertical?(e.currentY=X,G=(e.startY-e.currentY)/u.value*100):(e.currentX=j,G=(e.currentX-e.startX)/u.value*100),e.newPosition=e.startPosition+G,U(e.newPosition)}},F=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||_(),e.isClick||(U(e.newPosition),d())},0),Lr(window,"mousemove",O),Lr(window,"touchmove",O),Lr(window,"mouseup",F),Lr(window,"touchend",F),Lr(window,"contextmenu",F))},U=async V=>{if(V===null||isNaN(V))return;V<0?V=0:V>100&&(V=100);const G=100/((s.value-r.value)/o.value);let X=Math.round(V/G)*G*(s.value-r.value)*.01+r.value;X=parseFloat(X.toFixed(l.value)),t(pn,X),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await Nt(),e.dragging&&b(),g.value.updatePopper()};return Ze(()=>e.dragging,V=>{f(V)}),{tooltip:g,tooltipVisible:p,showTooltip:a,wrapperStyle:w,formatValue:m,handleMouseEnter:S,handleMouseLeave:D,onButtonDown:E,onLeftKeyDown:I,onRightKeyDown:T,setPosition:U}},fet=Me({name:"ElSliderButton",components:{ElTooltip:Ql},props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:{type:String,default:""}},emits:[pn],setup(n,{emit:e}){const t=dt("slider"),i=xi({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),{tooltip:r,showTooltip:s,tooltipVisible:o,wrapperStyle:a,formatValue:l,handleMouseEnter:u,handleMouseLeave:c,onButtonDown:d,onLeftKeyDown:h,onRightKeyDown:f,setPosition:g}=het(n,i,e),{hovering:p,dragging:m}=Ko(i);return{ns:t,tooltip:r,tooltipVisible:o,showTooltip:s,wrapperStyle:a,formatValue:l,handleMouseEnter:u,handleMouseLeave:c,onButtonDown:d,onLeftKeyDown:h,onRightKeyDown:f,setPosition:g,hovering:p,dragging:m}}});function get(n,e,t,i,r,s){const o=Te("el-tooltip");return B(),te("div",{ref:"button",class:Z([n.ns.e("button-wrapper"),{hover:n.hovering,dragging:n.dragging}]),style:wt(n.wrapperStyle),tabindex:"0",onMouseenter:e[1]||(e[1]=(...a)=>n.handleMouseEnter&&n.handleMouseEnter(...a)),onMouseleave:e[2]||(e[2]=(...a)=>n.handleMouseLeave&&n.handleMouseLeave(...a)),onMousedown:e[3]||(e[3]=(...a)=>n.onButtonDown&&n.onButtonDown(...a)),onTouchstart:e[4]||(e[4]=(...a)=>n.onButtonDown&&n.onButtonDown(...a)),onFocus:e[5]||(e[5]=(...a)=>n.handleMouseEnter&&n.handleMouseEnter(...a)),onBlur:e[6]||(e[6]=(...a)=>n.handleMouseLeave&&n.handleMouseLeave(...a)),onKeydown:[e[7]||(e[7]=Cn((...a)=>n.onLeftKeyDown&&n.onLeftKeyDown(...a),["left"])),e[8]||(e[8]=Cn((...a)=>n.onRightKeyDown&&n.onRightKeyDown(...a),["right"])),e[9]||(e[9]=Cn(Ft((...a)=>n.onLeftKeyDown&&n.onLeftKeyDown(...a),["prevent"]),["down"])),e[10]||(e[10]=Cn(Ft((...a)=>n.onRightKeyDown&&n.onRightKeyDown(...a),["prevent"]),["up"]))]},[be(o,{ref:"tooltip",visible:n.tooltipVisible,"onUpdate:visible":e[0]||(e[0]=a=>n.tooltipVisible=a),placement:"top","stop-popper-mouse-event":!1,"popper-class":n.tooltipClass,disabled:!n.showTooltip,persistent:""},{content:De(()=>[oe("span",null,Je(n.formatValue),1)]),default:De(()=>[oe("div",{class:Z([n.ns.e("button"),{hover:n.hovering,dragging:n.dragging}])},null,2)]),_:1},8,["visible","popper-class","disabled"])],38)}var pet=at(fet,[["render",get]]);const met=Me({name:"ElMarker",props:{mark:{type:[String,Object],default:()=>{}}},setup(n){const e=dt("slider"),t=z(()=>typeof n.mark=="string"?n.mark:n.mark.label);return{ns:e,label:t}},render(){var n;return st("div",{class:this.ns.e("marks-text"),style:(n=this.mark)==null?void 0:n.style},this.label)}}),vet=n=>z(()=>n.marks?Object.keys(n.marks).map(parseFloat).sort((t,i)=>t-i).filter(t=>t<=n.max&&t>=n.min).map(t=>({point:t,position:(t-n.min)*100/(n.max-n.min),mark:n.marks[t]})):[]),_et=(n,e,t)=>{const i=mt(Zl,{}),r=mt(Kd,{}),s=ra(null),o=J(null),a=J(null),l={firstButton:o,secondButton:a},u=z(()=>n.disabled||i.disabled||!1),c=z(()=>Math.min(e.firstValue,e.secondValue)),d=z(()=>Math.max(e.firstValue,e.secondValue)),h=z(()=>n.range?`${100*(d.value-c.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),f=z(()=>n.range?`${100*(c.value-n.min)/(n.max-n.min)}%`:"0%"),g=z(()=>n.vertical?{height:n.height}:{}),p=z(()=>n.vertical?{height:h.value,bottom:f.value}:{width:h.value,left:f.value}),m=()=>{s.value&&(e.sliderSize=s.value[`client${n.vertical?"Height":"Width"}`])},b=E=>{const I=n.min+E*(n.max-n.min)/100;if(!n.range){o.value.setPosition(E);return}let T;Math.abs(c.value-I)<Math.abs(d.value-I)?T=e.firstValue<e.secondValue?"firstButton":"secondButton":T=e.firstValue>e.secondValue?"firstButton":"secondButton",l[T].value.setPosition(E)},_=E=>{e.firstValue=E,w(n.range?[c.value,d.value]:E)},C=E=>{e.secondValue=E,n.range&&w([c.value,d.value])},w=E=>{t(pn,E),t(Hm,E)},S=async()=>{await Nt(),t(xo,n.range?[c.value,d.value]:n.modelValue)};return{elFormItem:r,slider:s,firstButton:o,secondButton:a,sliderDisabled:u,minValue:c,maxValue:d,runwayStyle:g,barStyle:p,resetSize:m,setPosition:b,emitChange:S,onSliderClick:E=>{if(!(u.value||e.dragging)){if(m(),n.vertical){const I=s.value.getBoundingClientRect().bottom;b((I-E.clientY)/e.sliderSize*100)}else{const I=s.value.getBoundingClientRect().left;b((E.clientX-I)/e.sliderSize*100)}S()}},setFirstValue:_,setSecondValue:C}},bet=(n,e,t,i)=>({stops:z(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const o=(n.max-n.min)/n.step,a=100*n.step/(n.max-n.min),l=Array.from({length:o-1}).map((u,c)=>(c+1)*a);return n.range?l.filter(u=>u<100*(t.value-n.min)/(n.max-n.min)||u>100*(i.value-n.min)/(n.max-n.min)):l.filter(u=>u>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:o=>n.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),Cet=Me({name:"ElSlider",components:{ElInputNumber:hfe,SliderButton:pet,SliderMarker:met},props:{modelValue:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},size:{type:String,validator:zl},inputSize:{type:String,validator:zl},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String,default:""},debounce:{type:Number,default:300},label:{type:String,default:void 0},tooltipClass:{type:String,default:void 0},marks:Object},emits:[pn,xo,Hm],setup(n,{emit:e}){const t=dt("slider"),i=xi({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:r,slider:s,firstButton:o,secondButton:a,sliderDisabled:l,minValue:u,maxValue:c,runwayStyle:d,barStyle:h,resetSize:f,emitChange:g,onSliderClick:p,setFirstValue:m,setSecondValue:b}=_et(n,i,e),{stops:_,getStopStyle:C}=bet(n,i,u,c),w=As(),S=z(()=>n.inputSize||w.value),D=z(()=>[t.b(),t.m(w.value),t.is("vertical",n.vertical),{[t.m("with-input")]:n.showInput}]),E=vet(n);yet(n,i,u,c,e,r);const I=z(()=>{const G=[n.min,n.max,n.step].map(j=>{const X=`${j}`.split(".")[1];return X?X.length:0});return Math.max.apply(null,G)}),{sliderWrapper:T}=wet(n,i,f),{firstValue:M,secondValue:A,oldValue:O,dragging:F,sliderSize:U}=Ko(i),V=G=>{i.dragging=G};return vn("SliderProvider",gn(Dt({},Ko(n)),{sliderSize:U,disabled:l,precision:I,emitChange:g,resetSize:f,updateDragging:V})),{ns:t,firstValue:M,secondValue:A,oldValue:O,dragging:F,sliderSize:U,slider:s,firstButton:o,secondButton:a,sliderDisabled:l,runwayStyle:d,barStyle:h,emitChange:g,onSliderClick:p,getStopStyle:C,setFirstValue:m,setSecondValue:b,stops:_,markList:E,sliderWrapper:T,sliderWrapperSize:w,sliderInputSize:S,sliderKls:D}}}),yet=(n,e,t,i,r,s)=>{const o=u=>{r(pn,u),r(Hm,u)},a=()=>n.range?![t.value,i.value].every((u,c)=>u===e.oldValue[c]):n.modelValue!==e.oldValue,l=()=>{var u,c;if(n.min>n.max){ca("Slider","min should not be greater than max.");return}const d=n.modelValue;n.range&&Array.isArray(d)?d[1]<n.min?o([n.min,n.min]):d[0]>n.max?o([n.max,n.max]):d[0]<n.min?o([n.min,d[1]]):d[1]>n.max?o([d[0],n.max]):(e.firstValue=d[0],e.secondValue=d[1],a()&&((u=s.validate)==null||u.call(s,"change"),e.oldValue=d.slice())):!n.range&&typeof d=="number"&&!isNaN(d)&&(d<n.min?o(n.min):d>n.max?o(n.max):(e.firstValue=d,a()&&((c=s.validate)==null||c.call(s,"change"),e.oldValue=d)))};l(),Ze(()=>e.dragging,u=>{u||l()}),Ze(()=>n.modelValue,(u,c)=>{e.dragging||Array.isArray(u)&&Array.isArray(c)&&u.every((d,h)=>d===c[h])&&e.firstValue===u[0]&&e.secondValue===u[1]||l()},{deep:!0}),Ze(()=>[n.min,n.max],()=>{l()})},wet=(n,e,t)=>{const i=J(null);return rn(async()=>{let r;n.range?(Array.isArray(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue],r=`${e.firstValue}-${e.secondValue}`):(typeof n.modelValue!="number"||isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue,r=e.firstValue),i.value.setAttribute("aria-valuetext",r),i.value.setAttribute("aria-label",n.label?n.label:`slider between ${n.min} and ${n.max}`),Vi(window,"resize",t),await Nt(),t()}),Er(()=>{Lr(window,"resize",t)}),{sliderWrapper:i}},Let=["aria-valuemin","aria-valuemax","aria-orientation","aria-disabled"],ket={key:1};function Eet(n,e,t,i,r,s){const o=Te("slider-button"),a=Te("slider-marker"),l=Te("el-input-number");return B(),te("div",{ref:"sliderWrapper",class:Z(n.sliderKls),role:"slider","aria-valuemin":n.min,"aria-valuemax":n.max,"aria-orientation":n.vertical?"vertical":"horizontal","aria-disabled":n.sliderDisabled},[oe("div",{ref:"slider",class:Z([n.ns.e("runway"),{"show-input":n.showInput&&!n.range,disabled:n.sliderDisabled}]),style:wt(n.runwayStyle),onClick:e[0]||(e[0]=(...u)=>n.onSliderClick&&n.onSliderClick(...u))},[oe("div",{class:Z(n.ns.e("bar")),style:wt(n.barStyle)},null,6),be(o,{ref:"firstButton","model-value":n.firstValue,vertical:n.vertical,"tooltip-class":n.tooltipClass,"onUpdate:modelValue":n.setFirstValue},null,8,["model-value","vertical","tooltip-class","onUpdate:modelValue"]),n.range?(B(),Oe(o,{key:0,ref:"secondButton","model-value":n.secondValue,vertical:n.vertical,"tooltip-class":n.tooltipClass,"onUpdate:modelValue":n.setSecondValue},null,8,["model-value","vertical","tooltip-class","onUpdate:modelValue"])):Fe("v-if",!0),n.showStops?(B(),te("div",ket,[(B(!0),te(kt,null,$n(n.stops,(u,c)=>(B(),te("div",{key:c,class:Z(n.ns.e("stop")),style:wt(n.getStopStyle(u))},null,6))),128))])):Fe("v-if",!0),n.markList.length>0?(B(),te(kt,{key:2},[oe("div",null,[(B(!0),te(kt,null,$n(n.markList,(u,c)=>(B(),te("div",{key:c,style:wt(n.getStopStyle(u.position)),class:Z([n.ns.e("stop"),n.ns.e("marks-stop")])},null,6))),128))]),oe("div",{class:Z(n.ns.e("marks"))},[(B(!0),te(kt,null,$n(n.markList,(u,c)=>(B(),Oe(a,{key:c,mark:u.mark,style:wt(n.getStopStyle(u.position))},null,8,["mark","style"]))),128))],2)],64)):Fe("v-if",!0)],6),n.showInput&&!n.range?(B(),Oe(l,{key:0,ref:"input","model-value":n.firstValue,class:Z(n.ns.e("input")),step:n.step,disabled:n.sliderDisabled,controls:n.showInputControls,min:n.min,max:n.max,debounce:n.debounce,size:n.sliderInputSize,"onUpdate:modelValue":n.setFirstValue,onChange:n.emitChange},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Fe("v-if",!0)],10,Let)}var JN=at(Cet,[["render",Eet]]);JN.install=n=>{n.component(JN.name,JN)};const Det=JN,Iet=Det,Tet=Wt({prefixCls:{type:String,default:""}}),Net=Me({props:Tet,setup(n){const e=dt("space");return{classes:z(()=>`${n.prefixCls||e.b()}__item`)}}});function xet(n,e,t,i,r,s){return B(),te("div",{class:Z(n.classes)},[Xe(n.$slots,"default")],2)}var ete=at(Net,[["render",xet]]);const tte={small:8,default:12,large:16};function Met(n){const e=dt("space"),t=z(()=>[e.b(),e.m(n.direction),n.class]),i=J(0),r=J(0),s=z(()=>{const a=n.wrap||n.fill?{flexWrap:"wrap",marginBottom:`-${r.value}px`}:{},l={alignItems:n.alignment};return[a,l,n.style]}),o=z(()=>{const a={paddingBottom:`${r.value}px`,marginRight:`${i.value}px`},l=n.fill?{flexGrow:1,minWidth:`${n.fillRatio}%`}:{};return[a,l]});return yd(()=>{const{size:a="small",wrap:l,direction:u,fill:c}=n;if(Array.isArray(a)){const[d=0,h=0]=a;i.value=d,r.value=h}else{let d;ei(a)?d=a:d=tte[a]||tte.small,(l||c)&&u==="horizontal"?i.value=r.value=d:u==="horizontal"?(i.value=d,r.value=0):(r.value=d,i.value=0)}}),{classes:t,containerStyle:s,itemStyle:o}}const Aet=Wt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:It([String,Object,Array]),default:""},style:{type:It([String,Array,Object]),default:""},alignment:{type:It(String),default:"center"},prefixCls:{type:String},spacer:{type:It([Object,String,Number,Array]),default:null,validator:n=>Rr(n)||ei(n)||Or(n)},wrap:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:NO,validator:n=>ei(n)||Iu(n)&&n.length===2&&n.every(e=>ei(e))}});var Ret=Me({name:"ElSpace",props:Aet,setup(n,{slots:e}){const{classes:t,containerStyle:i,itemStyle:r}=Met(n);return()=>{var s;const{spacer:o,prefixCls:a,direction:l}=n,u=Xe(e,"default",{key:0},()=>[]);if(((s=u.children)!=null?s:[]).length===0)return null;if(Iu(u.children)){let c=[];if(u.children.forEach((d,h)=>{fde(d)?Iu(d.children)&&d.children.forEach((f,g)=>{c.push(be(ete,{style:r.value,prefixCls:a,key:`nested-${g}`},{default:()=>[f]},mc.PROPS|mc.STYLE,["style","prefixCls"]))}):W9e(d)&&c.push(be(ete,{style:r.value,prefixCls:a,key:`LoopKey${h}`},{default:()=>[d]},mc.PROPS|mc.STYLE,["style","prefixCls"]))}),o){const d=c.length-1;c=c.reduce((h,f,g)=>{const p=[...h,f];return g!==d&&p.push(be("span",{style:[r.value,l==="vertical"?"width: 100%":null],key:g},[Rr(o)?o:xn(o,mc.TEXT)],mc.STYLE)),p},[])}return be("div",{class:t.value,style:i.value},c,mc.STYLE|mc.CLASS)}return u.children}}});const Oet=wn(Ret),Pet=Me({name:"ElSteps",props:{space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:n=>["horizontal","vertical"].includes(n)},alignCenter:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},finishStatus:{type:String,default:"finish",validator:n=>["wait","process","finish","error","success"].includes(n)},processStatus:{type:String,default:"process",validator:n=>["wait","process","finish","error","success"].includes(n)}},emits:[xo],setup(n,{emit:e}){const t=dt("steps"),i=J([]);return Ze(i,()=>{i.value.forEach((r,s)=>{r.setIndex(s)})}),vn("ElSteps",{props:n,steps:i}),Ze(()=>n.active,(r,s)=>{e(xo,r,s)}),{steps:i,ns:t}}});function Fet(n,e,t,i,r,s){return B(),te("div",{class:Z([n.ns.b(),n.ns.m(n.simple?"simple":n.direction)])},[Xe(n.$slots,"default")],2)}var Bet=at(Pet,[["render",Fet]]);const $et=Me({name:"ElStep",components:{ElIcon:cn,Close:Td,Check:Ey},props:{title:{type:String,default:""},icon:{type:[String,Object],default:""},description:{type:String,default:""},status:{type:String,default:"",validator:n=>["","wait","process","finish","error","success"].includes(n)}},setup(n){const e=dt("step"),t=J(-1),i=J({}),r=J(""),s=mt("ElSteps"),o=en();rn(()=>{Ze([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([w])=>{_(w)},{immediate:!0})}),Er(()=>{s.steps.value=s.steps.value.filter(w=>w.uid!==o.uid)});const a=z(()=>n.status||r.value),l=z(()=>{const w=s.steps.value[t.value-1];return w?w.currentStatus:"wait"}),u=z(()=>s.props.alignCenter),c=z(()=>s.props.direction==="vertical"),d=z(()=>s.props.simple),h=z(()=>s.steps.value.length),f=z(()=>{var w;return((w=s.steps.value[h.value-1])==null?void 0:w.uid)===o.uid}),g=z(()=>d.value?"":s.props.space),p=z(()=>{const w={flexBasis:typeof g.value=="number"?`${g.value}px`:g.value?g.value:`${100/(h.value-(u.value?0:1))}%`};return c.value||f.value&&(w.maxWidth=`${100/h.value}%`),w}),m=w=>{t.value=w},b=w=>{let S=100;const D={};D.transitionDelay=`${150*t.value}ms`,w===s.props.processStatus?S=0:w==="wait"&&(S=0,D.transitionDelay=`${-150*t.value}ms`),D.borderWidth=S&&!d.value?"1px":0,D[s.props.direction==="vertical"?"height":"width"]=`${S}%`,i.value=D},_=w=>{w>t.value?r.value=s.props.finishStatus:w===t.value&&l.value!=="error"?r.value=s.props.processStatus:r.value="wait";const S=s.steps.value[h.value-1];S&&S.calcProgress(r.value)},C=xi({uid:z(()=>o.uid),currentStatus:a,setIndex:m,calcProgress:b});return s.steps.value=[...s.steps.value,C],{ns:e,index:t,lineStyle:i,currentStatus:a,isCenter:u,isVertical:c,isSimple:d,isLast:f,space:g,style:p,parent:s,setIndex:m,calcProgress:b,updateStatus:_}}});function Vet(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("check"),l=Te("close");return B(),te("div",{style:wt(n.style),class:Z([n.ns.b(),n.ns.is(n.isSimple?"simple":n.parent.props.direction),n.ns.is("flex",n.isLast&&!n.space&&!n.isCenter),n.ns.is("center",n.isCenter&&!n.isVertical&&!n.isSimple)])},[Fe(" icon & line "),oe("div",{class:Z([n.ns.e("head"),n.ns.is(n.currentStatus)])},[n.isSimple?Fe("v-if",!0):(B(),te("div",{key:0,class:Z(n.ns.e("line"))},[oe("i",{class:Z(n.ns.e("line-inner")),style:wt(n.lineStyle)},null,6)],2)),oe("div",{class:Z([n.ns.e("icon"),n.ns.is(n.icon?"icon":"text")])},[n.currentStatus!=="success"&&n.currentStatus!=="error"?Xe(n.$slots,"icon",{key:0},()=>[n.icon?(B(),Oe(o,{key:0,class:Z(n.ns.e("icon-inner"))},{default:De(()=>[(B(),Oe(Bn(n.icon)))]),_:1},8,["class"])):Fe("v-if",!0),!n.icon&&!n.isSimple?(B(),te("div",{key:1,class:Z(n.ns.e("icon-inner"))},Je(n.index+1),3)):Fe("v-if",!0)]):(B(),Oe(o,{key:1,class:Z([n.ns.e("icon-inner"),n.ns.is("status")])},{default:De(()=>[n.currentStatus==="success"?(B(),Oe(a,{key:0})):(B(),Oe(l,{key:1}))]),_:1},8,["class"]))],2)],2),Fe(" title & description "),oe("div",{class:Z(n.ns.e("main"))},[oe("div",{class:Z([n.ns.e("title"),n.ns.is(n.currentStatus)])},[Xe(n.$slots,"title",{},()=>[xn(Je(n.title),1)])],2),n.isSimple?(B(),te("div",{key:0,class:Z(n.ns.e("arrow"))},null,2)):(B(),te("div",{key:1,class:Z([n.ns.e("description"),n.ns.is(n.currentStatus)])},[Xe(n.$slots,"description",{},()=>[xn(Je(n.description),1)])],2))],2)],6)}var Ffe=at($et,[["render",Vet]]);const Wet=wn(Bet,{Step:Ffe}),Het=Ur(Ffe),zet=Wt({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Ma,default:""},inactiveIcon:{type:Ma,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:It(Function)},size:{type:String,validator:zl}}),Uet={[pn]:n=>Ol(n)||Or(n)||ei(n),[xo]:n=>Ol(n)||Or(n)||ei(n),[Hm]:n=>Ol(n)||Or(n)||ei(n)},nte="ElSwitch",jet=Me({name:nte,components:{ElIcon:cn,Loading:Cv},props:zet,emits:Uet,setup(n,{emit:e}){const{formItem:t}=Ow(),i=ZE(z(()=>n.loading)),r=dt("switch"),s=As(),o=J(n.modelValue!==!1),a=J(),l=J(),u=z(()=>[r.b(),r.m(s.value),r.is("disabled",i.value),r.is("checked",d.value)]);Ze(()=>n.modelValue,()=>{o.value=!0}),Ze(()=>n.value,()=>{o.value=!1});const c=z(()=>o.value?n.modelValue:n.value),d=z(()=>c.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(c.value)||(e(pn,n.inactiveValue),e(xo,n.inactiveValue),e(Hm,n.inactiveValue)),Ze(d,()=>{var m;a.value.checked=d.value,(n.activeColor||n.inactiveColor)&&g(),n.validateEvent&&((m=t==null?void 0:t.validate)==null||m.call(t,"change"))});const h=()=>{const m=d.value?n.inactiveValue:n.activeValue;e(pn,m),e(xo,m),e(Hm,m),Nt(()=>{a.value.checked=d.value})},f=()=>{if(i.value)return;const{beforeChange:m}=n;if(!m){h();return}const b=m();[DM(b),Ol(b)].some(C=>C)||ca(nte,"beforeChange must return type `Promise<boolean>` or `boolean`"),DM(b)?b.then(C=>{C&&h()}).catch(C=>{}):b&&h()},g=()=>{const m=d.value?n.activeColor:n.inactiveColor,b=l.value;n.borderColor?b.style.borderColor=n.borderColor:n.borderColor||(b.style.borderColor=m),b.style.backgroundColor=m,b.children[0].style.color=m},p=()=>{var m,b;(b=(m=a.value)==null?void 0:m.focus)==null||b.call(m)};return rn(()=>{(n.activeColor||n.inactiveColor||n.borderColor)&&g(),a.value.checked=d.value}),{ns:r,input:a,core:l,switchDisabled:i,checked:d,switchKls:u,handleChange:h,switchValue:f,focus:p}}}),Ket=["aria-checked","aria-disabled"],Get=["id","name","true-value","false-value","disabled"],qet=["aria-hidden"],Yet=["aria-hidden"],Xet=["aria-hidden"],Zet=["aria-hidden"];function Qet(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("loading");return B(),te("div",{class:Z(n.switchKls),role:"switch","aria-checked":n.checked,"aria-disabled":n.switchDisabled,onClick:e[2]||(e[2]=Ft((...l)=>n.switchValue&&n.switchValue(...l),["prevent"]))},[oe("input",{id:n.id,ref:"input",class:Z(n.ns.e("input")),type:"checkbox",name:n.name,"true-value":n.activeValue,"false-value":n.inactiveValue,disabled:n.switchDisabled,onChange:e[0]||(e[0]=(...l)=>n.handleChange&&n.handleChange(...l)),onKeydown:e[1]||(e[1]=Cn((...l)=>n.switchValue&&n.switchValue(...l),["enter"]))},null,42,Get),!n.inlinePrompt&&(n.inactiveIcon||n.inactiveText)?(B(),te("span",{key:0,class:Z([n.ns.e("label"),n.ns.em("label","left"),n.ns.is("active",!n.checked)])},[n.inactiveIcon?(B(),Oe(o,{key:0},{default:De(()=>[(B(),Oe(Bn(n.inactiveIcon)))]),_:1})):Fe("v-if",!0),!n.inactiveIcon&&n.inactiveText?(B(),te("span",{key:1,"aria-hidden":n.checked},Je(n.inactiveText),9,qet)):Fe("v-if",!0)],2)):Fe("v-if",!0),oe("span",{ref:"core",class:Z(n.ns.e("core")),style:wt({width:(n.width||40)+"px"})},[n.inlinePrompt?(B(),te("div",{key:0,class:Z(n.ns.e("inner"))},[n.activeIcon||n.inactiveIcon?(B(),te(kt,{key:0},[n.activeIcon?(B(),Oe(o,{key:0,class:Z([n.ns.is("icon"),n.checked?n.ns.is("show"):n.ns.is("hide")])},{default:De(()=>[(B(),Oe(Bn(n.activeIcon)))]),_:1},8,["class"])):Fe("v-if",!0),n.inactiveIcon?(B(),Oe(o,{key:1,class:Z([n.ns.is("icon"),n.checked?n.ns.is("hide"):n.ns.is("show")])},{default:De(()=>[(B(),Oe(Bn(n.inactiveIcon)))]),_:1},8,["class"])):Fe("v-if",!0)],64)):n.activeText||n.inactiveIcon?(B(),te(kt,{key:1},[n.activeText?(B(),te("span",{key:0,class:Z([n.ns.is("text"),n.checked?n.ns.is("show"):n.ns.is("hide")]),"aria-hidden":!n.checked},Je(n.activeText.substr(0,1)),11,Yet)):Fe("v-if",!0),n.inactiveText?(B(),te("span",{key:1,class:Z([n.ns.is("text"),n.checked?n.ns.is("hide"):n.ns.is("show")]),"aria-hidden":n.checked},Je(n.inactiveText.substr(0,1)),11,Xet)):Fe("v-if",!0)],64)):Fe("v-if",!0)],2)):Fe("v-if",!0),oe("div",{class:Z(n.ns.e("action"))},[n.loading?(B(),Oe(o,{key:0,class:Z(n.ns.is("loading"))},{default:De(()=>[be(a)]),_:1},8,["class"])):Fe("v-if",!0)],2)],6),!n.inlinePrompt&&(n.activeIcon||n.activeText)?(B(),te("span",{key:1,class:Z([n.ns.e("label"),n.ns.em("label","right"),n.ns.is("active",n.checked)])},[n.activeIcon?(B(),Oe(o,{key:0},{default:De(()=>[(B(),Oe(Bn(n.activeIcon)))]),_:1})):Fe("v-if",!0),!n.activeIcon&&n.activeText?(B(),te("span",{key:1,"aria-hidden":!n.checked},Je(n.activeText),9,Zet)):Fe("v-if",!0)],2)):Fe("v-if",!0)],10,Ket)}var Jet=at(jet,[["render",Qet]]);const ett=wn(Jet),pF=function(n){let e=n.target;for(;e&&e.tagName.toUpperCase()!=="HTML";){if(e.tagName.toUpperCase()==="TD")return e;e=e.parentNode}return null},ite=function(n){return n!==null&&typeof n=="object"},ttt=function(n,e,t,i,r){if(!e&&!i&&(!r||Array.isArray(r)&&!r.length))return n;typeof t=="string"?t=t==="descending"?-1:1:t=t&&t<0?-1:1;const s=i?null:function(a,l){return r?(Array.isArray(r)||(r=[r]),r.map(function(u){return typeof u=="string"?Vs(a,u):u(a,l,n)})):(e!=="$key"&&ite(a)&&"$value"in a&&(a=a.$value),[ite(a)?Vs(a,e):a])},o=function(a,l){if(i)return i(a.value,l.value);for(let u=0,c=a.key.length;u<c;u++){if(a.key[u]<l.key[u])return-1;if(a.key[u]>l.key[u])return 1}return 0};return n.map(function(a,l){return{value:a,index:l,key:s?s(a,l):null}}).sort(function(a,l){let u=o(a,l);return u||(u=a.index-l.index),u*+t}).map(a=>a.value)},Bfe=function(n,e){let t=null;return n.columns.forEach(function(i){i.id===e&&(t=i)}),t},ntt=function(n,e){let t=null;for(let i=0;i<n.columns.length;i++){const r=n.columns[i];if(r.columnKey===e){t=r;break}}return t},rte=function(n,e,t){const i=(e.className||"").match(new RegExp(`${t}-table_[^\\s]+`,"gm"));return i?Bfe(n,i[0]):null},ta=(n,e)=>{if(!n)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(e.indexOf(".")<0)return`${n[e]}`;const t=e.split(".");let i=n;for(let r=0;r<t.length;r++)i=i[t[r]];return`${i}`}else if(typeof e=="function")return e.call(null,n)},F0=function(n,e){const t={};return(n||[]).forEach((i,r)=>{t[ta(i,e)]={row:i,index:r}}),t};function itt(n,e){const t={};let i;for(i in n)t[i]=n[i];for(i in e)if(uo(e,i)){const r=e[i];typeof r!="undefined"&&(t[i]=r)}return t}function IU(n){return n===""||n!==void 0&&(n=parseInt(n,10),Number.isNaN(n)&&(n="")),n}function $fe(n){return n===""||n!==void 0&&(n=IU(n),Number.isNaN(n)&&(n=80)),n}function _9(n){return typeof n=="number"?n:typeof n=="string"?/^\d+(?:px)?$/.test(n)?parseInt(n,10):n:null}function rtt(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function ex(n,e,t){let i=!1;const r=n.indexOf(e),s=r!==-1,o=()=>{n.push(e),i=!0},a=()=>{n.splice(r,1),i=!0};return typeof t=="boolean"?t&&!s?o():!t&&s&&a():s?a():o(),i}function stt(n,e,t="children",i="hasChildren"){const r=o=>!(Array.isArray(o)&&o.length);function s(o,a,l){e(o,a,l),a.forEach(u=>{if(u[i]){e(u,null,l+1);return}const c=u[t];r(c)||s(u,c,l+1)})}n.forEach(o=>{if(o[i]){e(o,null,0);return}const a=o[t];r(a)||s(o,a,0)})}let $M;function ott(n,e,t,i){const{nextZIndex:r}=yv();function s(){const d=i==="light",h=document.createElement("div");return h.className=`el-popper ${d?"is-light":"is-dark"}`,h.innerHTML=e,h.style.zIndex=String(r()),document.body.appendChild(h),h}function o(){const d=document.createElement("div");return d.className="el-popper__arrow",d}function a(){l&&l.update()}$M=function d(){try{l&&l.destroy(),u&&document.body.removeChild(u),Lr(n,"mouseenter",a),Lr(n,"mouseleave",d)}catch{}};let l=null;const u=s(),c=o();return u.appendChild(c),l=Xde(n,u,Dt({modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:c,padding:10}}]},t)),Vi(n,"mouseenter",a),Vi(n,"mouseleave",$M),l}const Vfe=(n,e,t,i)=>{let r=0,s=n;if(i){if(i[n].colSpan>1)return{};for(let l=0;l<n;l++)r+=i[l].colSpan;s=r+i[n].colSpan-1}else r=n;let o;const a=t.states.columns;switch(e){case"left":s<t.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":r>=a.value.length-t.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:s<t.states.fixedLeafColumnsLength.value?o="left":r>=a.value.length-t.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:r,after:s}:{}},TU=(n,e,t,i,r)=>{const s=[],{direction:o,start:a}=Vfe(e,t,i,r);if(o){const l=o==="left";s.push(`${n}-fixed-column--${o}`),l&&a===i.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):!l&&a===i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value&&s.push("is-first-column")}return s};function ste(n,e){return n+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const NU=(n,e,t,i)=>{const{direction:r,start:s=0}=Vfe(n,e,t,i);if(!r)return;const o={},a=r==="left",l=t.states.columns.value;return a?o.left=l.slice(0,n).reduce(ste,0):o.right=l.slice(s+1).reverse().reduce(ste,0),o},Ry=(n,e)=>{!n||Number.isNaN(n[e])||(n[e]=`${n[e]}px`)};function att(n){const e=en(),t=J(!1),i=J([]);return{updateExpandRows:()=>{const l=n.data.value||[],u=n.rowKey.value;if(t.value)i.value=l.slice();else if(u){const c=F0(i.value,u);i.value=l.reduce((d,h)=>{const f=ta(h,u);return c[f]&&d.push(h),d},[])}else i.value=[]},toggleRowExpansion:(l,u)=>{ex(i.value,l,u)&&(e.emit("expand-change",l,i.value.slice()),e.store.scheduleLayout())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=n.data.value||[],c=n.rowKey.value,d=F0(u,c);i.value=l.reduce((h,f)=>{const g=d[f];return g&&h.push(g.row),h},[])},isRowExpanded:l=>{const u=n.rowKey.value;return u?!!F0(i.value,u)[ta(l,u)]:i.value.indexOf(l)!==-1},states:{expandRows:i,defaultExpandAll:t}}}function ltt(n){const e=en(),t=J(null),i=J(null),r=u=>{e.store.assertRowKey(),t.value=u,o(u)},s=()=>{t.value=null},o=u=>{const{data:c,rowKey:d}=n;let h=null;d.value&&(h=(Ue(c)||[]).find(f=>ta(f,d.value)===u)),i.value=h};return{setCurrentRowKey:r,restoreCurrentRowKey:s,setCurrentRowByKey:o,updateCurrentRow:u=>{const c=i.value;if(u&&u!==c){i.value=u,e.emit("current-change",i.value,c);return}!u&&c&&(i.value=null,e.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=n.rowKey.value,c=n.data.value||[],d=i.value;if(c.indexOf(d)===-1&&d){if(u){const h=ta(d,u);o(h)}else i.value=null;i.value===null&&e.emit("current-change",null,d)}else t.value&&(o(t.value),s())},states:{_currentRowKey:t,currentRow:i}}}function utt(n){const e=J([]),t=J({}),i=J(16),r=J(!1),s=J({}),o=J("hasChildren"),a=J("children"),l=en(),u=z(()=>{if(!n.rowKey.value)return{};const b=n.data.value||[];return d(b)}),c=z(()=>{const b=n.rowKey.value,_=Object.keys(s.value),C={};return _.length&&_.forEach(w=>{if(s.value[w].length){const S={children:[]};s.value[w].forEach(D=>{const E=ta(D,b);S.children.push(E),D[o.value]&&!C[E]&&(C[E]={children:[]})}),C[w]=S}}),C}),d=b=>{const _=n.rowKey.value,C={};return stt(b,(w,S,D)=>{const E=ta(w,_);Array.isArray(S)?C[E]={children:S.map(I=>ta(I,_)),level:D}:r.value&&(C[E]={children:[],lazy:!0,level:D})},a.value,o.value),C},h=(b=!1,_=(C=>(C=l.store)==null?void 0:C.states.defaultExpandAll.value)())=>{var C;const w=u.value,S=c.value,D=Object.keys(w),E={};if(D.length){const I=Ue(t),T=[],M=(O,F)=>{if(b)return e.value?_||e.value.includes(F):!!(_||(O==null?void 0:O.expanded));{const U=_||e.value&&e.value.includes(F);return!!((O==null?void 0:O.expanded)||U)}};D.forEach(O=>{const F=I[O],U=Dt({},w[O]);if(U.expanded=M(F,O),U.lazy){const{loaded:V=!1,loading:G=!1}=F||{};U.loaded=!!V,U.loading=!!G,T.push(O)}E[O]=U});const A=Object.keys(S);r.value&&A.length&&T.length&&A.forEach(O=>{const F=I[O],U=S[O].children;if(T.indexOf(O)!==-1){if(E[O].children.length!==0)throw new Error("[ElTable]children must be an empty array.");E[O].children=U}else{const{loaded:V=!1,loading:G=!1}=F||{};E[O]={lazy:!0,loaded:!!V,loading:!!G,expanded:M(F,O),children:U,level:""}}})}t.value=E,(C=l.store)==null||C.updateTableScrollY()};Ze(()=>e.value,()=>{h(!0)}),Ze(()=>u.value,()=>{h()}),Ze(()=>c.value,()=>{h()});const f=b=>{e.value=b,h()},g=(b,_)=>{l.store.assertRowKey();const C=n.rowKey.value,w=ta(b,C),S=w&&t.value[w];if(w&&S&&"expanded"in S){const D=S.expanded;_=typeof _=="undefined"?!S.expanded:_,t.value[w].expanded=_,D!==_&&l.emit("expand-change",b,_),l.store.updateTableScrollY()}},p=b=>{l.store.assertRowKey();const _=n.rowKey.value,C=ta(b,_),w=t.value[C];r.value&&w&&"loaded"in w&&!w.loaded?m(b,C,w):g(b,void 0)},m=(b,_,C)=>{const{load:w}=l.props;w&&!t.value[_].loaded&&(t.value[_].loading=!0,w(b,C,S=>{if(!Array.isArray(S))throw new Error("[ElTable] data must be an array");t.value[_].loading=!1,t.value[_].loaded=!0,t.value[_].expanded=!0,S.length&&(s.value[_]=S),l.emit("expand-change",b,!0)}))};return{loadData:m,loadOrToggle:p,toggleTreeExpansion:g,updateTreeExpandKeys:f,updateTreeData:h,normalize:d,states:{expandRowKeys:e,treeData:t,indent:i,lazy:r,lazyTreeNodeMap:s,lazyColumnIdentifier:o,childrenColumnName:a}}}const ctt=(n,e)=>{const t=e.sortingColumn;return!t||typeof t.sortable=="string"?n:ttt(n,e.sortProp,e.sortOrder,t.sortMethod,t.sortBy)},tx=n=>{const e=[];return n.forEach(t=>{t.children?e.push.apply(e,tx(t.children)):e.push(t)}),e};function dtt(){var n;const e=en(),{size:t}=Ko((n=e.proxy)==null?void 0:n.$props),i=J(null),r=J([]),s=J([]),o=J(!1),a=J([]),l=J([]),u=J([]),c=J([]),d=J([]),h=J([]),f=J([]),g=J([]),p=J(0),m=J(0),b=J(0),_=J(!1),C=J([]),w=J(!1),S=J(!1),D=J(null),E=J({}),I=J(null),T=J(null),M=J(null),A=J(null),O=J(null);Ze(r,()=>e.state&&V(!1),{deep:!0});const F=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},U=()=>{c.value=a.value.filter(Pe=>Pe.fixed===!0||Pe.fixed==="left"),d.value=a.value.filter(Pe=>Pe.fixed==="right"),c.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,c.value.unshift(a.value[0]));const ve=a.value.filter(Pe=>!Pe.fixed);l.value=[].concat(c.value).concat(ve).concat(d.value);const Re=tx(ve),ge=tx(c.value),Ie=tx(d.value);p.value=Re.length,m.value=ge.length,b.value=Ie.length,u.value=[].concat(ge).concat(Re).concat(Ie),o.value=c.value.length>0||d.value.length>0},V=(ve,Re=!1)=>{ve&&U(),Re?e.state.doLayout():e.state.debouncedUpdateLayout()},G=ve=>C.value.indexOf(ve)>-1,j=()=>{_.value=!1,C.value.length&&(C.value=[],e.emit("selection-change",[]))},X=()=>{let ve;if(i.value){ve=[];const Re=F0(C.value,i.value),ge=F0(r.value,i.value);for(const Ie in Re)uo(Re,Ie)&&!ge[Ie]&&ve.push(Re[Ie].row)}else ve=C.value.filter(Re=>r.value.indexOf(Re)===-1);if(ve.length){const Re=C.value.filter(ge=>ve.indexOf(ge)===-1);C.value=Re,e.emit("selection-change",Re.slice())}},ie=(ve,Re=void 0,ge=!0)=>{if(ex(C.value,ve,Re)){const Pe=(C.value||[]).slice();ge&&e.emit("select",Pe,ve),e.emit("selection-change",Pe)}},Ce=()=>{var ve,Re;const ge=S.value?!_.value:!(_.value||C.value.length);_.value=ge;let Ie=!1,Pe=0;const Ge=(Re=(ve=e==null?void 0:e.store)==null?void 0:ve.states)==null?void 0:Re.rowKey.value;r.value.forEach((bt,Mt)=>{const pt=Mt+Pe;D.value?D.value.call(null,bt,pt)&&ex(C.value,bt,ge)&&(Ie=!0):ex(C.value,bt,ge)&&(Ie=!0),Pe+=ke(ta(bt,Ge))}),Ie&&e.emit("selection-change",C.value?C.value.slice():[]),e.emit("select-all",C.value)},Be=()=>{const ve=F0(C.value,i.value);r.value.forEach(Re=>{const ge=ta(Re,i.value),Ie=ve[ge];Ie&&(C.value[Ie.index]=Re)})},we=()=>{var ve,Re,ge;if(((ve=r.value)==null?void 0:ve.length)===0){_.value=!1;return}let Ie;i.value&&(Ie=F0(C.value,i.value));const Pe=function(pt){return Ie?!!Ie[ta(pt,i.value)]:C.value.indexOf(pt)!==-1};let Ge=!0,bt=0,Mt=0;for(let pt=0,Jt=(r.value||[]).length;pt<Jt;pt++){const sn=(ge=(Re=e==null?void 0:e.store)==null?void 0:Re.states)==null?void 0:ge.rowKey.value,vr=pt+Mt,An=r.value[pt],vi=D.value&&D.value.call(null,An,vr);if(Pe(An))bt++;else if(!D.value||vi){Ge=!1;break}Mt+=ke(ta(An,sn))}bt===0&&(Ge=!1),_.value=Ge},ke=ve=>{var Re;if(!e||!e.store)return 0;const{treeData:ge}=e.store.states;let Ie=0;const Pe=(Re=ge.value[ve])==null?void 0:Re.children;return Pe&&(Ie+=Pe.length,Pe.forEach(Ge=>{Ie+=ke(Ge)})),Ie},Se=(ve,Re)=>{Array.isArray(ve)||(ve=[ve]);const ge={};return ve.forEach(Ie=>{E.value[Ie.id]=Re,ge[Ie.columnKey||Ie.id]=Re}),ge},fe=(ve,Re,ge)=>{T.value&&T.value!==ve&&(T.value.order=null),T.value=ve,M.value=Re,A.value=ge},pe=()=>{let ve=Ue(s);Object.keys(E.value).forEach(Re=>{const ge=E.value[Re];if(!ge||ge.length===0)return;const Ie=Bfe({columns:u.value},Re);Ie&&Ie.filterMethod&&(ve=ve.filter(Pe=>ge.some(Ge=>Ie.filterMethod.call(null,Ge,Pe,Ie))))}),I.value=ve},me=()=>{r.value=ctt(I.value,{sortingColumn:T.value,sortProp:M.value,sortOrder:A.value})},Ne=(ve=void 0)=>{ve&&ve.filter||pe(),me()},je=ve=>{const{tableHeader:Re,fixedTableHeader:ge,rightFixedTableHeader:Ie}=e.refs;let Pe={};Re&&(Pe=Object.assign(Pe,Re.filterPanels)),ge&&(Pe=Object.assign(Pe,ge.filterPanels)),Ie&&(Pe=Object.assign(Pe,Ie.filterPanels));const Ge=Object.keys(Pe);if(!!Ge.length)if(typeof ve=="string"&&(ve=[ve]),Array.isArray(ve)){const bt=ve.map(Mt=>ntt({columns:u.value},Mt));Ge.forEach(Mt=>{const pt=bt.find(Jt=>Jt.id===Mt);pt&&(pt.filteredValue=[])}),e.store.commit("filterChange",{column:bt,values:[],silent:!0,multi:!0})}else Ge.forEach(bt=>{const Mt=u.value.find(pt=>pt.id===bt);Mt&&(Mt.filteredValue=[])}),E.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},rt=()=>{!T.value||(fe(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:xe,toggleRowExpansion:Ve,updateExpandRows:ee,states:ne,isRowExpanded:le}=att({data:r,rowKey:i}),{updateTreeExpandKeys:de,toggleTreeExpansion:ye,updateTreeData:q,loadOrToggle:P,states:x}=utt({data:r,rowKey:i}),{updateCurrentRowData:R,updateCurrentRow:H,setCurrentRowKey:W,states:K}=ltt({data:r,rowKey:i});return{assertRowKey:F,updateColumns:U,scheduleLayout:V,isSelected:G,clearSelection:j,cleanSelection:X,toggleRowSelection:ie,_toggleAllSelection:Ce,toggleAllSelection:null,updateSelectionByRowKey:Be,updateAllSelected:we,updateFilters:Se,updateCurrentRow:H,updateSort:fe,execFilter:pe,execSort:me,execQuery:Ne,clearFilter:je,clearSort:rt,toggleRowExpansion:Ve,setExpandRowKeysAdapter:ve=>{xe(ve),de(ve)},setCurrentRowKey:W,toggleRowExpansionAdapter:(ve,Re)=>{u.value.some(({type:Ie})=>Ie==="expand")?Ve(ve,Re):ye(ve,Re)},isRowExpanded:le,updateExpandRows:ee,updateCurrentRowData:R,loadOrToggle:P,updateTreeData:q,states:Dt(Dt(Dt({tableSize:t,rowKey:i,data:r,_data:s,isComplex:o,_columns:a,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:d,leafColumns:h,fixedLeafColumns:f,rightFixedLeafColumns:g,leafColumnsLength:p,fixedLeafColumnsLength:m,rightFixedLeafColumnsLength:b,isAllSelected:_,selection:C,reserveSelection:w,selectOnIndeterminate:S,selectable:D,filters:E,filteredData:I,sortingColumn:T,sortProp:M,sortOrder:A,hoverRow:O},ne),x),K)}}function b9(n,e){return n.map(t=>{var i;return t.id===e.id?e:(((i=t.children)==null?void 0:i.length)&&(t.children=b9(t.children,e)),t)})}function Wfe(n){n.forEach(e=>{var t,i;e.no=(t=e.getColumnIndex)==null?void 0:t.call(e),((i=e.children)==null?void 0:i.length)&&Wfe(e.children)}),n.sort((e,t)=>e.no-t.no)}function htt(){const n=en(),e=dtt(),t=dt("table"),i={setData(o,a){const l=Ue(o._data)!==a;o.data.value=a,o._data.value=a,n.store.execQuery(),n.store.updateCurrentRowData(),n.store.updateExpandRows(),n.store.updateTreeData(n.store.states.defaultExpandAll.value),Ue(o.reserveSelection)?(n.store.assertRowKey(),n.store.updateSelectionByRowKey()):l?n.store.clearSelection():n.store.cleanSelection(),n.store.updateAllSelected(),n.$ready&&n.store.scheduleLayout()},insertColumn(o,a,l){const u=Ue(o._columns);let c=[];l?(l&&!l.children&&(l.children=[]),l.children.push(a),c=b9(u,l)):(u.push(a),c=u),Wfe(c),o._columns.value=c,a.type==="selection"&&(o.selectable.value=a.selectable,o.reserveSelection.value=a.reserveSelection),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},removeColumn(o,a,l){const u=Ue(o._columns)||[];if(l)l.children.splice(l.children.findIndex(c=>c.id===a.id),1),l.children.length===0&&delete l.children,o._columns.value=b9(u,l);else{const c=u.indexOf(a);c>-1&&(u.splice(c,1),o._columns.value=u)}n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},sort(o,a){const{prop:l,order:u,init:c}=a;if(l){const d=Ue(o.columns).find(h=>h.property===l);d&&(d.order=u,n.store.updateSort(d,l,u),n.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(o,a){const{sortingColumn:l,sortProp:u,sortOrder:c}=o;Ue(c)===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const d={filter:!0};n.store.execQuery(d),(!a||!(a.silent||a.init))&&n.emit("sort-change",{column:Ue(l),prop:Ue(u),order:Ue(c)}),n.store.updateTableScrollY()},filterChange(o,a){const{column:l,values:u,silent:c}=a,d=n.store.updateFilters(l,u);n.store.execQuery(),c||n.emit("filter-change",d),n.store.updateTableScrollY()},toggleAllSelection(){n.store.toggleAllSelection()},rowSelectedChanged(o,a){n.store.toggleRowSelection(a),n.store.updateAllSelected()},setHoverRow(o,a){o.hoverRow.value=a},setCurrentRow(o,a){n.store.updateCurrentRow(a)}},r=function(o,...a){const l=n.store.mutations;if(l[o])l[o].apply(n,[n.store.states].concat(a));else throw new Error(`Action not found: ${o}`)},s=function(){Nt(()=>n.layout.updateScrollY.apply(n.layout))};return gn(Dt({ns:t},e),{mutations:i,commit:r,updateTableScrollY:s})}const $2={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function ftt(n,e){if(!n)throw new Error("Table is required.");const t=htt();return t.toggleAllSelection=Hl(t._toggleAllSelection,10),Object.keys($2).forEach(i=>{Hfe(zfe(e,i),i,t)}),gtt(t,e),t}function gtt(n,e){Object.keys($2).forEach(t=>{Ze(()=>zfe(e,t),i=>{Hfe(i,t,n)})})}function Hfe(n,e,t){let i=n,r=$2[e];typeof $2[e]=="object"&&(r=r.key,i=i||$2[e].default),t.states[r].value=i}function zfe(n,e){if(e.includes(".")){const t=e.split(".");let i=n;return t.forEach(r=>{i=i[r]}),i}else return n[e]}class ptt{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=J(null),this.scrollX=J(!1),this.scrollY=J(!1),this.bodyWidth=J(null),this.fixedWidth=J(null),this.rightFixedWidth=J(null),this.tableHeight=J(null),this.headerHeight=J(44),this.appendHeight=J(0),this.footerHeight=J(44),this.viewportHeight=J(null),this.bodyHeight=J(null),this.bodyScrollHeight=J(0),this.fixedBodyHeight=J(null),this.gutterWidth=0;for(const t in e)uo(e,t)&&(es(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const t=this.table.refs.bodyWrapper;if(this.table.vnode.el&&t){let i=!0;const r=this.scrollY.value;return this.bodyHeight.value===null?i=!1:i=t.scrollHeight>this.bodyHeight.value,this.scrollY.value=i,r!==i}return!1}setHeight(e,t="height"){if(!Kn)return;const i=this.table.vnode.el;if(e=_9(e),this.height.value=Number(e),!i&&(e||e===0))return Nt(()=>this.setHeight(e,t));typeof e=="number"?(i.style[t]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(i.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?e.push.apply(e,i.columns):e.push(i)}),e}updateElsHeight(){var e,t;if(!this.table.$ready)return Nt(()=>this.updateElsHeight());const{tableWrapper:i,headerWrapper:r,appendWrapper:s,footerWrapper:o,tableHeader:a,tableBody:l}=this.table.refs;if(i&&i.style.display==="none"||(this.appendHeight.value=s?s.offsetHeight:0,this.showHeader&&!r))return;const u=a||null,c=this.headerDisplayNone(u),d=this.headerHeight.value=this.showHeader?r.offsetHeight:0;if(this.showHeader&&!c&&r.offsetWidth>0&&(this.table.store.states.columns.value||[]).length>0&&d<2)return Nt(()=>this.updateElsHeight());const h=this.tableHeight.value=(t=(e=this.table)==null?void 0:e.vnode.el)==null?void 0:t.clientHeight,f=this.footerHeight.value=o?o.offsetHeight:0;this.height.value!==null&&(this.bodyHeight.value===null&&requestAnimationFrame(()=>this.updateElsHeight()),this.bodyHeight.value=h-d-f+(o?1:0),this.bodyScrollHeight.value=l==null?void 0:l.scrollHeight),this.fixedBodyHeight.value=this.scrollX.value?this.bodyHeight.value-this.gutterWidth:this.bodyHeight.value,this.viewportHeight.value=this.scrollX.value?h-this.gutterWidth:h,this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;t.tagName!=="DIV";){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!Kn)return;const e=this.fit,t=this.table.vnode.el.clientWidth,{tableBody:i}=this.table.refs,r=(i==null?void 0:i.scrollWidth)||0;let s=0;const o=this.getFlattenColumns(),a=o.filter(c=>typeof c.width!="number");if(o.forEach(c=>{typeof c.width=="number"&&c.realWidth&&(c.realWidth=null)}),a.length>0&&e){o.forEach(d=>{s+=Number(d.width||d.minWidth||80)});const c=0;if(s<=t-c&&r<=t){this.scrollX.value=!1;const d=t-c-s;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+d;else{const h=a.reduce((p,m)=>p+Number(m.minWidth||80),0),f=d/h;let g=0;a.forEach((p,m)=>{if(m===0)return;const b=Math.floor(Number(p.minWidth||80)*f);g+=b,p.realWidth=Number(p.minWidth||80)+b}),a[0].realWidth=Number(a[0].minWidth||80)+d-g}}else this.scrollX.value=!0,a.forEach(function(d){d.realWidth=Number(d.minWidth)});this.bodyWidth.value=Math.max(s,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach(c=>{!c.width&&!c.minWidth?c.realWidth=80:c.realWidth=Number(c.width||c.minWidth),s+=c.realWidth}),this.scrollX.value=s>t,this.bodyWidth.value=s;const l=this.store.states.fixedColumns.value;if(l.length>0){let c=0;l.forEach(function(d){c+=Number(d.realWidth||d.width)}),this.fixedWidth.value=c}const u=this.store.states.rightFixedColumns.value;if(u.length>0){let c=0;u.forEach(function(d){c+=Number(d.realWidth||d.width)}),this.rightFixedWidth.value=c}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t!==-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(i=>{var r,s;switch(e){case"columns":(r=i.state)==null||r.onColumnsChange(this);break;case"scrollable":(s=i.state)==null||s.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:mtt}=Md,vtt=Me({name:"ElTableFilterPanel",components:{ElCheckbox:Md,ElCheckboxGroup:mtt,ElScrollbar:rp,ElTooltip:Ql,ElIcon:cn,ArrowDown:w1,ArrowUp:XE},directives:{ClickOutside:wv},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(n){const e=en(),{t}=Oi(),i=dt("table-filter"),r=e==null?void 0:e.parent;r.filterPanels.value[n.column.id]||(r.filterPanels.value[n.column.id]=e);const s=J(!1),o=J(null),a=z(()=>n.column&&n.column.filters),l=z({get:()=>{var w;return(((w=n.column)==null?void 0:w.filteredValue)||[])[0]},set:w=>{u.value&&(typeof w!="undefined"&&w!==null?u.value.splice(0,1,w):u.value.splice(0,1))}}),u=z({get(){return n.column?n.column.filteredValue||[]:[]},set(w){n.column&&n.upDataColumn("filteredValue",w)}}),c=z(()=>n.column?n.column.filterMultiple:!0),d=w=>w.value===l.value,h=()=>{s.value=!1},f=w=>{w.stopPropagation(),s.value=!s.value},g=()=>{s.value=!1},p=()=>{_(u.value),h()},m=()=>{u.value=[],_(u.value),h()},b=w=>{l.value=w,_(typeof w!="undefined"&&w!==null?u.value:[]),h()},_=w=>{n.store.commit("filterChange",{column:n.column,values:w}),n.store.updateAllSelected()};Ze(s,w=>{n.column&&n.upDataColumn("filterOpened",w)},{immediate:!0});const C=z(()=>{var w,S;return(S=(w=o.value)==null?void 0:w.popperRef)==null?void 0:S.contentRef});return{tooltipVisible:s,multiple:c,filteredValue:u,filterValue:l,filters:a,handleConfirm:p,handleReset:m,handleSelect:b,isActive:d,t,ns:i,showFilterPanel:f,hideFilterPanel:g,popperPaneRef:C,tooltip:o}}}),_tt={key:0},btt=["disabled"],Ctt=["label","onClick"];function ytt(n,e,t,i,r,s){const o=Te("el-checkbox"),a=Te("el-checkbox-group"),l=Te("el-scrollbar"),u=Te("arrow-up"),c=Te("arrow-down"),d=Te("el-icon"),h=Te("el-tooltip"),f=xa("click-outside");return B(),Oe(h,{ref:"tooltip",visible:n.tooltipVisible,"onUpdate:visible":e[5]||(e[5]=g=>n.tooltipVisible=g),offset:0,placement:n.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,"append-to-body":"",effect:"light",pure:"","popper-class":n.ns.b(),persistent:""},{content:De(()=>[n.multiple?(B(),te("div",_tt,[oe("div",{class:Z(n.ns.e("content"))},[be(l,{"wrap-class":n.ns.e("wrap")},{default:De(()=>[be(a,{modelValue:n.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=g=>n.filteredValue=g),class:Z(n.ns.e("checkbox-group"))},{default:De(()=>[(B(!0),te(kt,null,$n(n.filters,g=>(B(),Oe(o,{key:g.value,label:g.value},{default:De(()=>[xn(Je(g.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),oe("div",{class:Z(n.ns.e("bottom"))},[oe("button",{class:Z({[n.ns.is("disabled")]:n.filteredValue.length===0}),disabled:n.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...g)=>n.handleConfirm&&n.handleConfirm(...g))},Je(n.t("el.table.confirmFilter")),11,btt),oe("button",{type:"button",onClick:e[2]||(e[2]=(...g)=>n.handleReset&&n.handleReset(...g))},Je(n.t("el.table.resetFilter")),1)],2)])):(B(),te("ul",{key:1,class:Z(n.ns.e("list"))},[oe("li",{class:Z([n.ns.e("list-item"),{[n.ns.is("active")]:n.filterValue===void 0||n.filterValue===null}]),onClick:e[3]||(e[3]=g=>n.handleSelect(null))},Je(n.t("el.table.clearFilter")),3),(B(!0),te(kt,null,$n(n.filters,g=>(B(),te("li",{key:g.value,class:Z([n.ns.e("list-item"),n.ns.is("active",n.isActive(g))]),label:g.value,onClick:p=>n.handleSelect(g.value)},Je(g.text),11,Ctt))),128))],2))]),default:De(()=>[Ht((B(),te("span",{class:Z([`${n.ns.namespace.value}-table__column-filter-trigger`,`${n.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...g)=>n.showFilterPanel&&n.showFilterPanel(...g))},[be(d,null,{default:De(()=>[n.column.filterOpened?(B(),Oe(u,{key:0})):(B(),Oe(c,{key:1}))]),_:1})],2)),[[f,n.hideFilterPanel,n.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var wtt=at(vtt,[["render",ytt]]);function Ufe(n){const e=en();Mw(()=>{t.value.addObserver(e)}),rn(()=>{i(t.value),r(t.value)}),Xl(()=>{i(t.value),r(t.value)}),b1(()=>{t.value.removeObserver(e)});const t=z(()=>{const s=n.layout;if(!s)throw new Error("Can not find table layout.");return s}),i=s=>{var o;const a=((o=n.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=s.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,d=a.length;c<d;c++){const h=a[c],f=h.getAttribute("name"),g=u[f];g&&h.setAttribute("width",g.realWidth||g.width)}},r=s=>{var o,a;const l=((o=n.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,d=l.length;c<d;c++)l[c].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const u=((a=n.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let c=0,d=u.length;c<d;c++){const h=u[c];h.style.width=s.scrollY.value?`${s.gutterWidth}px`:"0",h.style.display=s.scrollY.value?"":"none"}};return{tableLayout:t.value,onColumnsChange:i,onScrollableChange:r}}const ff=Symbol("ElTable");function Stt(n,e){const t=en(),i=mt(ff),r=p=>{p.stopPropagation()},s=(p,m)=>{!m.filters&&m.sortable?g(p,m,!1):m.filterable&&!m.sortable&&r(p),i==null||i.emit("header-click",m,p)},o=(p,m)=>{i==null||i.emit("header-contextmenu",m,p)},a=J(null),l=J(!1),u=J({}),c=(p,m)=>{if(!!Kn&&!(m.children&&m.children.length>0)&&a.value&&n.border){l.value=!0;const b=i;e("set-drag-visible",!0);const C=(b==null?void 0:b.vnode.el).getBoundingClientRect().left,w=t.vnode.el.querySelector(`th.${m.id}`),S=w.getBoundingClientRect(),D=S.left-C+30;Rh(w,"noclick"),u.value={startMouseLeft:p.clientX,startLeft:S.right-C,startColumnLeft:S.left-C,tableLeft:C};const E=b==null?void 0:b.refs.resizeProxy;E.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const I=M=>{const A=M.clientX-u.value.startMouseLeft,O=u.value.startLeft+A;E.style.left=`${Math.max(D,O)}px`},T=()=>{if(l.value){const{startColumnLeft:M,startLeft:A}=u.value,F=parseInt(E.style.left,10)-M;m.width=m.realWidth=F,b==null||b.emit("header-dragend",m.width,A-M,m,p),requestAnimationFrame(()=>{n.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",T),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){Pl(w,"noclick")},0)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",T)}},d=(p,m)=>{if(m.children&&m.children.length>0)return;let b=p.target;for(;b&&b.tagName!=="TH";)b=b.parentNode;if(!(!m||!m.resizable)&&!l.value&&n.border){const _=b.getBoundingClientRect(),C=document.body.style;_.width>12&&_.right-p.pageX<8?(C.cursor="col-resize",Sd(b,"is-sortable")&&(b.style.cursor="col-resize"),a.value=m):l.value||(C.cursor="",Sd(b,"is-sortable")&&(b.style.cursor="pointer"),a.value=null)}},h=()=>{!Kn||(document.body.style.cursor="")},f=({order:p,sortOrders:m})=>{if(p==="")return m[0];const b=m.indexOf(p||null);return m[b>m.length-2?0:b+1]},g=(p,m,b)=>{p.stopPropagation();const _=m.order===b?null:b||f(m);let C=p.target;for(;C&&C.tagName!=="TH";)C=C.parentNode;if(C&&C.tagName==="TH"&&Sd(C,"noclick")){Pl(C,"noclick");return}if(!m.sortable)return;const w=n.store.states;let S=w.sortProp.value,D;const E=w.sortingColumn.value;(E!==m||E===m&&E.order===null)&&(E&&(E.order=null),w.sortingColumn.value=m,S=m.property),_?D=m.order=_:D=m.order=null,w.sortProp.value=S,w.sortOrder.value=D,i==null||i.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:o,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:g,handleFilterClick:r}}function Ltt(n){const e=mt(ff),t=dt("table");return{getHeaderRowStyle:a=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],u=e==null?void 0:e.props.headerRowClassName;return typeof u=="string"?l.push(u):typeof u=="function"&&l.push(u.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,u,c)=>{var d;let h=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};typeof h=="function"&&(h=h.call(null,{rowIndex:a,columnIndex:l,row:u,column:c}));const f=c.isSubColumn?null:NU(l,c.fixed,n.store,u);return Ry(f,"left"),Ry(f,"right"),Object.assign({},h,f)},getHeaderCellClass:(a,l,u,c)=>{const d=c.isSubColumn?[]:TU(t.b(),l,c.fixed,n.store,u),h=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...d];c.children||h.push("is-leaf"),c.sortable&&h.push("is-sortable");const f=e==null?void 0:e.props.headerCellClassName;return typeof f=="string"?h.push(f):typeof f=="function"&&h.push(f.call(null,{rowIndex:a,columnIndex:l,row:u,column:c})),h.push(t.e("cell")),h.join(" ")}}}const jfe=n=>{const e=[];return n.forEach(t=>{t.children?(e.push(t),e.push.apply(e,jfe(t.children))):e.push(t)}),e},ktt=n=>{let e=1;const t=(s,o)=>{if(o&&(s.level=o.level+1,e<s.level&&(e=s.level)),s.children){let a=0;s.children.forEach(l=>{t(l,s),a+=l.colSpan}),s.colSpan=a}else s.colSpan=1};n.forEach(s=>{s.level=1,t(s,void 0)});const i=[];for(let s=0;s<e;s++)i.push([]);return jfe(n).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(o=>o.isSubColumn=!0)):s.rowSpan=e-s.level+1,i[s.level-1].push(s)}),i};function Ett(n){const e=mt(ff),t=z(()=>ktt(n.store.states.originColumns.value));return{isGroup:z(()=>{const s=t.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:t}}var Dtt=Me({name:"ElTableHeader",components:{ElCheckbox:Md},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n,{emit:e}){const t=en(),i=mt(ff),r=dt("table"),s=J({}),{onColumnsChange:o,onScrollableChange:a}=Ufe(i);rn(()=>{Nt(()=>{const{prop:D,order:E}=n.defaultSort,I=!0;i==null||i.store.commit("sort",{prop:D,order:E,init:I})})});const{handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:f,handleFilterClick:g}=Stt(n,e),{getHeaderRowStyle:p,getHeaderRowClass:m,getHeaderCellStyle:b,getHeaderCellClass:_}=Ltt(n),{isGroup:C,toggleAllSelection:w,columnRows:S}=Ett(n);return t.state={onColumnsChange:o,onScrollableChange:a},t.filterPanels=s,{ns:r,filterPanels:s,onColumnsChange:o,onScrollableChange:a,columnRows:S,getHeaderRowClass:m,getHeaderRowStyle:p,getHeaderCellClass:_,getHeaderCellStyle:b,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:f,handleFilterClick:g,isGroup:C,toggleAllSelection:w}},render(){const{ns:n,isGroup:e,columnRows:t,getHeaderCellStyle:i,getHeaderCellClass:r,getHeaderRowClass:s,getHeaderRowStyle:o,handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:d,handleMouseOut:h,store:f,$parent:g}=this;let p=1;return st("thead",{class:{[n.is("group")]:e}},t.map((m,b)=>st("tr",{class:s(b),key:b,style:o(b)},m.map((_,C)=>(_.rowSpan>p&&(p=_.rowSpan),st("th",{class:r(b,C,m,_),colspan:_.colSpan,key:`${_.id}-thead`,rowspan:_.rowSpan,style:i(b,C,m,_),onClick:w=>a(w,_),onContextmenu:w=>l(w,_),onMousedown:w=>u(w,_),onMousemove:w=>c(w,_),onMouseout:h},[st("div",{class:["cell",_.filteredValue&&_.filteredValue.length>0?"highlight":"",_.labelClassName]},[_.renderHeader?_.renderHeader({column:_,$index:C,store:f,_self:g}):_.label,_.sortable&&st("span",{onClick:w=>d(w,_),class:"caret-wrapper"},[st("i",{onClick:w=>d(w,_,"ascending"),class:"sort-caret ascending"}),st("i",{onClick:w=>d(w,_,"descending"),class:"sort-caret descending"})]),_.filterable&&st(wtt,{store:g.store,placement:_.filterPlacement||"bottom-start",column:_,upDataColumn:(w,S)=>{_[w]=S}})])]))))))}});function Itt(n){const e=mt(ff),t=J(""),i=J(st("div")),r=(h,f,g)=>{var p;const m=e,b=pF(h);let _;const C=(p=m==null?void 0:m.vnode.el)==null?void 0:p.dataset.prefix;b&&(_=rte({columns:n.store.states.columns.value},b,C),_&&(m==null||m.emit(`cell-${g}`,f,_,b,h))),m==null||m.emit(`row-${g}`,f,_,h)},s=(h,f)=>{r(h,f,"dblclick")},o=(h,f)=>{n.store.commit("setCurrentRow",f),r(h,f,"click")},a=(h,f)=>{r(h,f,"contextmenu")},l=Hl(function(h){n.store.commit("setHoverRow",h)},30),u=Hl(function(){n.store.commit("setHoverRow",null)},30);return{handleDoubleClick:s,handleClick:o,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(h,f)=>{var g;const p=e,m=pF(h),b=(g=p==null?void 0:p.vnode.el)==null?void 0:g.dataset.prefix;if(m){const D=rte({columns:n.store.states.columns.value},m,b),E=p.hoverState={cell:m,column:D,row:f};p==null||p.emit("cell-mouse-enter",E.row,E.column,E.cell,h)}const _=h.target.querySelector(".cell");if(!(Sd(_,`${b}-tooltip`)&&_.childNodes.length))return;const C=document.createRange();C.setStart(_,0),C.setEnd(_,_.childNodes.length);const w=C.getBoundingClientRect().width,S=(parseInt(kh(_,"paddingLeft"),10)||0)+(parseInt(kh(_,"paddingRight"),10)||0);(w+S>_.offsetWidth||_.scrollWidth>_.offsetWidth)&&ott(m,m.innerText||m.textContent,{placement:"top",strategy:"fixed"},f.tooltipEffect)},handleCellMouseLeave:h=>{if(!pF(h))return;const g=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",g==null?void 0:g.row,g==null?void 0:g.column,g==null?void 0:g.cell,h)},tooltipContent:t,tooltipTrigger:i}}function Ttt(n){const e=mt(ff),t=dt("table");return{getRowStyle:(u,c)=>{const d=e==null?void 0:e.props.rowStyle;return typeof d=="function"?d.call(null,{row:u,rowIndex:c}):d||null},getRowClass:(u,c)=>{const d=[t.e("row")];(e==null?void 0:e.props.highlightCurrentRow)&&u===n.store.states.currentRow.value&&d.push("current-row"),n.stripe&&c%2===1&&d.push(t.em("row","striped"));const h=e==null?void 0:e.props.rowClassName;return typeof h=="string"?d.push(h):typeof h=="function"&&d.push(h.call(null,{row:u,rowIndex:c})),n.store.states.expandRows.value.indexOf(u)>-1&&d.push("expanded"),d},getCellStyle:(u,c,d,h)=>{const f=e==null?void 0:e.props.cellStyle;let g=f!=null?f:{};typeof f=="function"&&(g=f.call(null,{rowIndex:u,columnIndex:c,row:d,column:h}));const p=h.isSubColumn?null:NU(c,n==null?void 0:n.fixed,n.store);return Ry(p,"left"),Ry(p,"right"),Object.assign({},g,p)},getCellClass:(u,c,d,h)=>{const f=h.isSubColumn?[]:TU(t.b(),c,n==null?void 0:n.fixed,n.store),g=[h.id,h.align,h.className,...f],p=e==null?void 0:e.props.cellClassName;return typeof p=="string"?g.push(p):typeof p=="function"&&g.push(p.call(null,{rowIndex:u,columnIndex:c,row:d,column:h})),g.push(t.e("cell")),g.join(" ")},getSpan:(u,c,d,h)=>{let f=1,g=1;const p=e==null?void 0:e.props.spanMethod;if(typeof p=="function"){const m=p({row:u,column:c,rowIndex:d,columnIndex:h});Array.isArray(m)?(f=m[0],g=m[1]):typeof m=="object"&&(f=m.rowspan,g=m.colspan)}return{rowspan:f,colspan:g}},getColspanRealWidth:(u,c,d)=>{if(c<1)return u[d].realWidth;const h=u.map(({realWidth:f,width:g})=>f||g).slice(d,d+c);return Number(h.reduce((f,g)=>Number(f)+Number(g),-1))}}}function Ntt(n){const e=mt(ff),{handleDoubleClick:t,handleClick:i,handleContextMenu:r,handleMouseEnter:s,handleMouseLeave:o,handleCellMouseEnter:a,handleCellMouseLeave:l,tooltipContent:u,tooltipTrigger:c}=Itt(n),{getRowStyle:d,getRowClass:h,getCellStyle:f,getCellClass:g,getSpan:p,getColspanRealWidth:m}=Ttt(n),b=z(()=>n.store.states.columns.value.findIndex(({type:D})=>D==="default")),_=(D,E)=>{const I=e.props.rowKey;return I?ta(D,I):E},C=(D,E,I)=>{const{tooltipEffect:T,store:M}=n,{indent:A,columns:O}=M.states,F=h(D,E);let U=!0;return I&&(F.push(`el-table__row--level-${I.level}`),U=I.display),st("tr",{style:[U?null:{display:"none"},d(D,E)],class:F,key:_(D,E),onDblclick:G=>t(G,D),onClick:G=>i(G,D),onContextmenu:G=>r(G,D),onMouseenter:()=>s(E),onMouseleave:o},O.value.map((G,j)=>{const{rowspan:X,colspan:ie}=p(D,G,E,j);if(!X||!ie)return null;const Ce=Dt({},G);Ce.realWidth=m(O.value,ie,j);const Be={store:n.store,_self:n.context||e,column:Ce,row:D,$index:E};j===b.value&&I&&(Be.treeNode={indent:I.level*A.value,level:I.level},typeof I.expanded=="boolean"&&(Be.treeNode.expanded=I.expanded,"loading"in I&&(Be.treeNode.loading=I.loading),"noLazyChildren"in I&&(Be.treeNode.noLazyChildren=I.noLazyChildren)));const we=`${E},${j}`,ke=Ce.columnKey||Ce.rawColumnKey||"",Se=w(j,G,Be);return st("td",{style:f(E,j,D,G),class:g(E,j,D,G),key:`${ke}${we}`,rowspan:X,colspan:ie,onMouseenter:fe=>a(fe,gn(Dt({},D),{tooltipEffect:T})),onMouseleave:l},[Se])}))},w=(D,E,I)=>E.renderCell(I);return{wrappedRowRender:(D,E)=>{const I=n.store,{isRowExpanded:T,assertRowKey:M}=I,{treeData:A,lazyTreeNodeMap:O,childrenColumnName:F,rowKey:U}=I.states;if(I.states.columns.value.some(({type:G})=>G==="expand")&&T(D)){const G=e.renderExpanded,j=C(D,E,void 0);return G?[[j,st("tr",{key:`expanded-row__${j.key}`},[st("td",{colspan:I.states.columns.value.length,class:"el-table__cell el-table__expanded-cell"},[G({row:D,$index:E,store:I})])])]]:(console.error("[Element Error]renderExpanded is required."),j)}else if(Object.keys(A.value).length){M();const G=ta(D,U.value);let j=A.value[G],X=null;j&&(X={expanded:j.expanded,level:j.level,display:!0},typeof j.lazy=="boolean"&&(typeof j.loaded=="boolean"&&j.loaded&&(X.noLazyChildren=!(j.children&&j.children.length)),X.loading=j.loading));const ie=[C(D,E,X)];if(j){let Ce=0;const Be=(ke,Se)=>{!(ke&&ke.length&&Se)||ke.forEach(fe=>{const pe={display:Se.display&&Se.expanded,level:Se.level+1,expanded:!1,noLazyChildren:!1,loading:!1},me=ta(fe,U.value);if(me==null)throw new Error("For nested data item, row-key is required.");if(j=Dt({},A.value[me]),j&&(pe.expanded=j.expanded,j.level=j.level||pe.level,j.display=!!(j.expanded&&pe.display),typeof j.lazy=="boolean"&&(typeof j.loaded=="boolean"&&j.loaded&&(pe.noLazyChildren=!(j.children&&j.children.length)),pe.loading=j.loading)),Ce++,ie.push(C(fe,E+Ce,pe)),j){const Ne=O.value[me]||fe[F.value];Be(Ne,j)}})};j.display=!0;const we=O.value[G]||D[F.value];Be(we,j)}return ie}else return C(D,E,void 0)},tooltipContent:u,tooltipTrigger:c}}const xtt={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Mtt=Me({name:"ElTableBody",props:xtt,setup(n){const e=en(),t=mt(ff),i=dt("table"),{wrappedRowRender:r,tooltipContent:s,tooltipTrigger:o}=Ntt(n),{onColumnsChange:a,onScrollableChange:l}=Ufe(t);return Ze(n.store.states.hoverRow,(u,c)=>{if(!n.store.states.isComplex.value||!Kn)return;let d=window.requestAnimationFrame;d||(d=h=>window.setTimeout(h,16)),d(()=>{var h;const f=(h=e==null?void 0:e.vnode.el)==null?void 0:h.querySelectorAll(`.${i.e("row")}`),g=f[c],p=f[u];g&&Pl(g,"hover-row"),p&&Rh(p,"hover-row")})}),b1(()=>{var u;(u=$M)==null||u()}),Xl(()=>{var u;(u=$M)==null||u()}),{ns:i,onColumnsChange:a,onScrollableChange:l,wrappedRowRender:r,tooltipContent:s,tooltipTrigger:o}},render(){const{wrappedRowRender:n,store:e}=this,t=e.states.data.value||[];return st("tbody",{},[t.reduce((i,r)=>i.concat(n(r,i.length)),[])])}});function xU(n){const e=n.tableLayout==="auto";let t=n.columns||[];e&&t.every(r=>r.width===void 0)&&(t=[]);const i=r=>{const s={key:`${n.tableLayout}_${r.id}`,style:{},name:void 0};return e?s.style={width:`${r.width}px`}:s.name=r.id,s};return st("colgroup",{},t.map(r=>st("col",i(r))))}xU.props=["columns","tableLayout"];function Att(){const n=mt(ff),e=n==null?void 0:n.store,t=z(()=>e.states.fixedLeafColumnsLength.value),i=z(()=>e.states.rightFixedColumns.value.length),r=z(()=>e.states.columns.value.length),s=z(()=>e.states.fixedColumns.value.length),o=z(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:t,rightFixedLeafCount:i,columnsCount:r,leftFixedCount:s,rightFixedCount:o,columns:e.states.columns}}function Rtt(n){const{columns:e}=Att(),t=dt("table");return{getCellClasses:(s,o)=>{const a=s[o],l=[t.e("cell"),a.id,a.align,a.labelClassName,...TU(t.b(),o,a.fixed,n.store)];return a.className&&l.push(a.className),a.children||l.push(t.is("leaf")),l},getCellStyles:(s,o)=>{const a=NU(o,s.fixed,n.store);return Ry(a,"left"),Ry(a,"right"),a},columns:e}}var Ott=Me({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n){const{getCellClasses:e,getCellStyles:t,columns:i}=Rtt(n);return{ns:dt("table"),getCellClasses:e,getCellStyles:t,columns:i}},render(){const{columns:n,getCellStyles:e,getCellClasses:t,summaryMethod:i,sumText:r,ns:s}=this,o=this.store.states.data.value;let a=[];return i?a=i({columns:n,data:o}):n.forEach((l,u)=>{if(u===0){a[u]=r;return}const c=o.map(g=>Number(g[l.property])),d=[];let h=!0;c.forEach(g=>{if(!isNaN(g)){h=!1;const p=`${g}`.split(".")[1];d.push(p?p.length:0)}});const f=Math.max.apply(null,d);h?a[u]="":a[u]=c.reduce((g,p)=>{const m=Number(p);return isNaN(m)?g:parseFloat((g+p).toFixed(Math.min(f,20)))},0)}),st("table",{class:s.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[xU(n),st("tbody",[st("tr",{},[...n.map((l,u)=>st("td",{key:u,colspan:l.colSpan,rowspan:l.rowSpan,class:t(n,u),style:e(l,u)},[st("div",{class:["cell",l.labelClassName]},[a[u]])]))])])])}});function Ptt(n){return{setCurrentRow:u=>{n.commit("setCurrentRow",u)},toggleRowSelection:(u,c)=>{n.toggleRowSelection(u,c,!1),n.updateAllSelected()},clearSelection:()=>{n.clearSelection()},clearFilter:u=>{n.clearFilter(u)},toggleAllSelection:()=>{n.commit("toggleAllSelection")},toggleRowExpansion:(u,c)=>{n.toggleRowExpansionAdapter(u,c)},clearSort:()=>{n.clearSort()},sort:(u,c)=>{n.commit("sort",{prop:u,order:c})}}}function Ftt(n,e,t,i){const r=J(!1),s=J(null),o=J(!1),a=V=>{o.value=V},l=J({width:null,height:null}),u=J(!1);yd(()=>{e.setHeight(n.height)}),yd(()=>{e.setMaxHeight(n.maxHeight)}),Ze(()=>[n.currentRowKey,t.states.rowKey],([V,G])=>{!Ue(G)||t.setCurrentRowKey(`${V}`)},{immediate:!0}),Ze(()=>n.data,V=>{i.store.commit("setData",V)},{immediate:!0,deep:!0}),yd(()=>{n.expandRowKeys&&t.setExpandRowKeysAdapter(n.expandRowKeys)});const c=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},d=(V,G)=>{const{pixelX:j,pixelY:X}=G;Math.abs(j)>=Math.abs(X)&&(i.refs.bodyWrapper.scrollLeft+=G.pixelX/5)},h=z(()=>n.height||n.maxHeight||t.states.fixedColumns.value.length>0||t.states.rightFixedColumns.value.length>0),f=z(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),g=()=>{h.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(b)};rn(async()=>{m("is-scrolling-left"),t.updateColumns(),await Nt(),_(),requestAnimationFrame(g),l.value={width:i.vnode.el.offsetWidth,height:i.vnode.el.offsetHeight},t.states.columns.value.forEach(V=>{V.filteredValue&&V.filteredValue.length&&i.store.commit("filterChange",{column:V,values:V.filteredValue,silent:!0})}),i.$ready=!0});const p=(V,G)=>{if(!V)return;const j=Array.from(V.classList).filter(X=>!X.startsWith("is-scrolling-"));j.push(e.scrollX.value?G:"is-scrolling-none"),V.className=j.join(" ")},m=V=>{const{tableWrapper:G}=i.refs;p(G,V)},b=function(){if(!i.refs.scrollWrapper)return;const V=i.refs.scrollWrapper.wrap$;if(!V)return;const{scrollLeft:G,offsetWidth:j,scrollWidth:X}=V,{headerWrapper:ie,footerWrapper:Ce}=i.refs;ie&&(ie.scrollLeft=G),Ce&&(Ce.scrollLeft=G);const Be=X-j-1;G>=Be?m("is-scrolling-right"):m(G===0?"is-scrolling-left":"is-scrolling-middle")},_=()=>{var V;!i.refs.scrollWrapper||((V=i.refs.scrollWrapper.wrap$)==null||V.addEventListener("scroll",b,{passive:!0}),n.fit?_v(i.vnode.el,w):Vi(window,"resize",g))};Er(()=>{C()});const C=()=>{var V;(V=i.refs.scrollWrapper.wrap$)==null||V.removeEventListener("scroll",b,!0),n.fit?bv(i.vnode.el,w):Lr(window,"resize",g)},w=()=>{if(!i.$ready)return;let V=!1;const G=i.vnode.el,{width:j,height:X}=l.value,ie=G.offsetWidth;j!==ie&&(V=!0);const Ce=G.offsetHeight;(n.height||h.value)&&X!==Ce&&(V=!0),V&&(l.value={width:ie,height:Ce},g())},S=As(),D=z(()=>{const{bodyWidth:V,scrollY:G,gutterWidth:j}=e;return V.value?`${V.value-(G.value?j:0)}px`:""}),E=z(()=>n.maxHeight?"fixed":n.tableLayout);function I(V,G,j){const X=_9(V),ie=n.showHeader?j:0;if(X!==null)return Or(X)?`calc(${X} - ${G}px - ${ie}px)`:X-G-ie}const T=z(()=>{const V=e.headerHeight.value||0,G=e.bodyHeight.value,j=e.footerHeight.value||0;if(n.height)return G||void 0;if(n.maxHeight)return I(n.maxHeight,j,V)}),M=z(()=>{const V=e.headerHeight.value||0,G=e.bodyHeight.value,j=e.footerHeight.value||0;if(n.height)return{height:G?`${G}px`:""};if(n.maxHeight){const X=I(n.maxHeight,j,V);if(X!==null)return{"max-height":`${X}${ei(X)?"px":""}`}}return{}}),A=z(()=>{if(n.data&&n.data.length)return null;let V="100%";return e.appendHeight.value&&(V=`calc(100% - ${e.appendHeight.value}px)`),{width:D.value,height:V}}),O=(V,G)=>{const j=i.refs.bodyWrapper;if(Math.abs(G.spinY)>0){const X=j.scrollTop;G.pixelY<0&&X!==0&&V.preventDefault(),G.pixelY>0&&j.scrollHeight-j.clientHeight>X&&V.preventDefault(),j.scrollTop+=Math.ceil(G.pixelY/5)}else j.scrollLeft+=Math.ceil(G.pixelX/5)},F=z(()=>n.maxHeight?n.showSummary?{bottom:0}:{bottom:e.scrollX.value&&n.data.length?`${e.gutterWidth}px`:""}:n.showSummary?{height:e.tableHeight.value?`${e.tableHeight.value}px`:""}:{height:e.viewportHeight.value?`${e.viewportHeight.value}px`:""}),U=z(()=>{if(n.height)return{height:e.fixedBodyHeight.value?`${e.fixedBodyHeight.value}px`:""};if(n.maxHeight){let V=_9(n.maxHeight);if(typeof V=="number")return V=e.scrollX.value?V-e.gutterWidth:V,n.showHeader&&(V-=e.headerHeight.value),V-=e.footerHeight.value,{"max-height":`${V}px`}}return{}});return{isHidden:r,renderExpanded:s,setDragVisible:a,isGroup:u,handleMouseLeave:c,handleHeaderFooterMousewheel:d,tableSize:S,bodyHeight:M,height:T,emptyBlockStyle:A,handleFixedMousewheel:O,fixedHeight:F,fixedBodyHeight:U,resizeProxyVisible:o,bodyWidth:D,resizeState:l,doLayout:g,tableBodyStyles:f,tableLayout:E}}var Btt={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"}};let $tt=1;const Vtt=Me({name:"ElTable",directives:{Mousewheel:F7e},components:{TableHeader:Dtt,TableBody:Mtt,TableFooter:Ott,ElScrollbar:rp,hColgroup:xU},props:Btt,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(n){const{t:e}=Oi(),t=dt("table"),i=en();vn(ff,i);const r=ftt(i,n);i.store=r;const s=new ptt({store:i.store,table:i,fit:n.fit,showHeader:n.showHeader});i.layout=s;const o=z(()=>(r.states.data.value||[]).length===0),{setCurrentRow:a,toggleRowSelection:l,clearSelection:u,clearFilter:c,toggleAllSelection:d,toggleRowExpansion:h,clearSort:f,sort:g}=Ptt(r),{isHidden:p,renderExpanded:m,setDragVisible:b,isGroup:_,handleMouseLeave:C,handleHeaderFooterMousewheel:w,tableSize:S,bodyHeight:D,height:E,emptyBlockStyle:I,handleFixedMousewheel:T,fixedHeight:M,fixedBodyHeight:A,resizeProxyVisible:O,bodyWidth:F,resizeState:U,doLayout:V,tableBodyStyles:G,tableLayout:j}=Ftt(n,s,r,i),X=Hl(V,50),ie=`el-table_${$tt++}`;i.tableId=ie,i.state={isGroup:_,resizeState:U,doLayout:V,debouncedUpdateLayout:X};const Ce=z(()=>n.sumText||e("el.table.sumText")),Be=z(()=>n.emptyText||e("el.table.emptyText"));return{ns:t,layout:s,store:r,handleHeaderFooterMousewheel:w,handleMouseLeave:C,tableId:ie,tableSize:S,isHidden:p,isEmpty:o,renderExpanded:m,resizeProxyVisible:O,resizeState:U,isGroup:_,bodyWidth:F,bodyHeight:D,height:E,tableBodyStyles:G,emptyBlockStyle:I,debouncedUpdateLayout:X,handleFixedMousewheel:T,fixedHeight:M,fixedBodyHeight:A,setCurrentRow:a,toggleRowSelection:l,clearSelection:u,clearFilter:c,toggleAllSelection:d,toggleRowExpansion:h,clearSort:f,doLayout:V,sort:g,t:e,setDragVisible:b,context:i,computedSumText:Ce,computedEmptyText:Be,tableLayout:j}}}),Wtt=["data-prefix"],Htt={ref:"hiddenColumns",class:"hidden-columns"};function ztt(n,e,t,i,r,s){const o=Te("hColgroup"),a=Te("table-header"),l=Te("table-body"),u=Te("el-scrollbar"),c=Te("table-footer"),d=xa("mousewheel");return B(),te("div",{ref:"tableWrapper",class:Z([{[n.ns.m("fit")]:n.fit,[n.ns.m("striped")]:n.stripe,[n.ns.m("border")]:n.border||n.isGroup,[n.ns.m("hidden")]:n.isHidden,[n.ns.m("group")]:n.isGroup,[n.ns.m("fluid-height")]:n.maxHeight,[n.ns.m("scrollable-x")]:n.layout.scrollX.value,[n.ns.m("scrollable-y")]:n.layout.scrollY.value,[n.ns.m("enable-row-hover")]:!n.store.states.isComplex.value,[n.ns.m("enable-row-transition")]:(n.store.states.data.value||[]).length!==0&&(n.store.states.data.value||[]).length<100,"has-footer":n.showSummary},n.ns.m(n.tableSize),n.className,n.ns.b(),n.ns.m(`layout-${n.tableLayout}`)]),style:wt(n.style),"data-prefix":n.ns.namespace.value,onMouseleave:e[0]||(e[0]=h=>n.handleMouseLeave())},[oe("div",{class:Z(n.ns.e("inner-wrapper"))},[oe("div",Htt,[Xe(n.$slots,"default")],512),n.showHeader&&n.tableLayout==="fixed"?Ht((B(),te("div",{key:0,ref:"headerWrapper",class:Z(n.ns.e("header-wrapper"))},[oe("table",{ref:"tableHeader",class:Z(n.ns.e("header")),style:wt(n.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[be(o,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),be(a,{border:n.border,"default-sort":n.defaultSort,store:n.store,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,n.handleHeaderFooterMousewheel]]):Fe("v-if",!0),oe("div",{ref:"bodyWrapper",style:wt(n.bodyHeight),class:Z(n.ns.e("body-wrapper"))},[be(u,{ref:"scrollWrapper",height:n.maxHeight?void 0:n.height,"max-height":n.maxHeight?n.height:void 0},{default:De(()=>[oe("table",{ref:"tableBody",class:Z(n.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:wt({width:n.bodyWidth,tableLayout:n.tableLayout})},[be(o,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),n.showHeader&&n.tableLayout==="auto"?(B(),Oe(a,{key:0,border:n.border,"default-sort":n.defaultSort,store:n.store,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):Fe("v-if",!0),be(l,{context:n.context,highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"row-style":n.rowStyle,store:n.store,stripe:n.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),n.isEmpty?(B(),te("div",{key:0,ref:"emptyBlock",style:wt(n.emptyBlockStyle),class:Z(n.ns.e("empty-block"))},[oe("span",{class:Z(n.ns.e("empty-text"))},[Xe(n.$slots,"empty",{},()=>[xn(Je(n.computedEmptyText),1)])],2)],6)):Fe("v-if",!0),n.$slots.append?(B(),te("div",{key:1,ref:"appendWrapper",class:Z(n.ns.e("append-wrapper"))},[Xe(n.$slots,"append")],2)):Fe("v-if",!0)]),_:3},8,["height","max-height"])],6),n.border||n.isGroup?(B(),te("div",{key:1,class:Z(n.ns.e("border-left-patch"))},null,2)):Fe("v-if",!0)],2),n.showSummary?Ht((B(),te("div",{key:0,ref:"footerWrapper",class:Z(n.ns.e("footer-wrapper"))},[be(c,{border:n.border,"default-sort":n.defaultSort,store:n.store,style:wt(n.tableBodyStyles),"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[zn,!n.isEmpty],[d,n.handleHeaderFooterMousewheel]]):Fe("v-if",!0),Ht(oe("div",{ref:"resizeProxy",class:Z(n.ns.e("column-resize-proxy"))},null,2),[[zn,n.resizeProxyVisible]])],46,Wtt)}var Utt=at(Vtt,[["render",ztt]]);const jtt={selection:"table-column--selection",expand:"table__expand-column"},Ktt={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Gtt=n=>jtt[n]||"",qtt={selection:{renderHeader({store:n}){function e(){return n.states.data.value&&n.states.data.value.length===0}return st(Md,{disabled:e(),size:n.states.tableSize.value,indeterminate:n.states.selection.value.length>0&&!n.states.isAllSelected.value,"onUpdate:modelValue":n.toggleAllSelection,modelValue:n.states.isAllSelected.value})},renderCell({row:n,column:e,store:t,$index:i}){return st(Md,{disabled:e.selectable?!e.selectable.call(null,n,i):!1,size:t.states.tableSize.value,onChange:()=>{t.commit("rowSelectedChanged",n)},onClick:r=>r.stopPropagation(),modelValue:t.isSelected(n)})},sortable:!1,resizable:!1},index:{renderHeader({column:n}){return n.label||"#"},renderCell({column:n,$index:e}){let t=e+1;const i=n.index;return typeof i=="number"?t=e+i:typeof i=="function"&&(t=i(e)),st("div",{},[t])},sortable:!1},expand:{renderHeader({column:n}){return n.label||""},renderCell({row:n,store:e}){const{ns:t}=e,i=[t.e("expand-icon")];return e.states.expandRows.value.indexOf(n)>-1&&i.push(t.em("expand-icon","expanded")),st("div",{class:i,onClick:function(s){s.stopPropagation(),e.toggleRowExpansion(n)}},{default:()=>[st(cn,null,{default:()=>[st(Hc)]})]})},sortable:!1,resizable:!1}};function Ytt({row:n,column:e,$index:t}){var i;const r=e.property,s=r&&FN(n,r,!1).v;return e&&e.formatter?e.formatter(n,e,s,t):((i=s==null?void 0:s.toString)==null?void 0:i.call(s))||""}function Xtt({row:n,treeNode:e,store:t}){if(!e)return null;const i=[],r=function(o){o.stopPropagation(),t.loadOrToggle(n)},{ns:s}=t;if(e.indent&&i.push(st("span",{class:s.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const o=[s.e("expand-icon"),e.expanded?s.em("expand-icon","expanded"):""];let a=Hc;e.loading&&(a=Cv),i.push(st("div",{class:o,onClick:r},{default:()=>[st(cn,{class:{[s.is("loading")]:e.loading}},{default:()=>[st(a)]})]}))}else i.push(st("span",{class:s.e("placeholder")}));return i}function Ztt(n,e){const t=en();return{registerComplexWatchers:()=>{const s=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},a=s.reduce((l,u)=>(l[u]=u,l),o);Object.keys(a).forEach(l=>{const u=o[l];uo(e,u)&&Ze(()=>e[u],c=>{let d=c;u==="width"&&l==="realWidth"&&(d=IU(c)),u==="minWidth"&&l==="realMinWidth"&&(d=$fe(c)),t.columnConfig.value[u]=d,t.columnConfig.value[l]=d;const h=u==="fixed";n.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=s.reduce((l,u)=>(l[u]=u,l),o);Object.keys(a).forEach(l=>{const u=o[l];uo(e,u)&&Ze(()=>e[u],c=>{t.columnConfig.value[l]=c})})}}}function Qtt(n,e,t){const i=en(),r=J(""),s=J(!1),o=J(),a=J(),l=dt("table");yd(()=>{o.value=n.align?`is-${n.align}`:null,o.value}),yd(()=>{a.value=n.headerAlign?`is-${n.headerAlign}`:o.value,a.value});const u=z(()=>{let _=i.vnode.vParent||i.parent;for(;_&&!_.tableId&&!_.columnId;)_=_.vnode.vParent||_.parent;return _}),c=J(IU(n.width)),d=J($fe(n.minWidth)),h=_=>(c.value&&(_.width=c.value),d.value&&(_.minWidth=d.value),_.minWidth||(_.minWidth=80),_.realWidth=Number(_.width===void 0?_.minWidth:_.width),_),f=_=>{const C=_.type,w=qtt[C]||{};Object.keys(w).forEach(D=>{const E=w[D];D!=="className"&&E!==void 0&&(_[D]=E)});const S=Gtt(C);if(S){const D=`${Ue(l.namespace)}-${S}`;_.className=_.className?`${_.className} ${D}`:D}return _},g=_=>{_ instanceof Array?_.forEach(w=>C(w)):C(_);function C(w){var S;((S=w==null?void 0:w.type)==null?void 0:S.name)==="ElTableColumn"&&(w.vParent=i)}};return{columnId:r,realAlign:o,isSubColumn:s,realHeaderAlign:a,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:f,setColumnRenders:_=>{n.renderHeader||_.type!=="selection"&&(_.renderHeader=w=>{i.columnConfig.value.label;const S=e.header;return S?S(w):_.label});let C=_.renderCell;return _.type==="expand"?(_.renderCell=w=>st("div",{class:"cell"},[C(w)]),t.value.renderExpanded=w=>e.default?e.default(w):e.default):(C=C||Ytt,_.renderCell=w=>{let S=null;e.default?S=e.default(w):S=C(w);const D=Xtt(w),E={class:"cell",style:{}};return _.showOverflowTooltip&&(E.class=`${E.class} ${Ue(l.namespace)}-tooltip`,E.style={width:`${(w.column.realWidth||Number(w.column.width))-1}px`}),g(S),st("div",E,[D,S])}),_},getPropsData:(..._)=>_.reduce((C,w)=>(Array.isArray(w)&&w.forEach(S=>{C[S]=n[S]}),C),{}),getColumnElIndex:(_,C)=>[].indexOf.call(_,C)}}var Jtt={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:n=>n.every(e=>["ascending","descending",null].indexOf(e)>-1)}};let ent=1;var Kfe=Me({name:"ElTableColumn",components:{ElCheckbox:Md},props:Jtt,setup(n,{slots:e}){const t=en(),i=J({}),r=z(()=>{let _=t.parent;for(;_&&!_.tableId;)_=_.parent;return _}),{registerNormalWatchers:s,registerComplexWatchers:o}=Ztt(r,n),{columnId:a,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:h,setColumnRenders:f,getPropsData:g,getColumnElIndex:p,realAlign:m}=Qtt(n,e,r),b=c.value;a.value=`${b.tableId||b.columnId}_column_${ent++}`,Mw(()=>{l.value=r.value!==b;const _=n.type||"default",C=n.sortable===""?!0:n.sortable,w=gn(Dt({},Ktt[_]),{id:a.value,type:_,property:n.prop||n.property,align:m,headerAlign:u,showOverflowTooltip:n.showOverflowTooltip||n.showTooltipWhenOverflow,filterable:n.filters||n.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:C,index:n.index,rawColumnKey:t.vnode.key});let T=g(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);T=itt(w,T),T=rtt(f,d,h)(T),i.value=T,s(),o()}),rn(()=>{var _;const C=c.value,w=l.value?C.vnode.el.children:(_=C.refs.hiddenColumns)==null?void 0:_.children,S=()=>p(w||[],t.vnode.el);i.value.getColumnIndex=S,S()>-1&&r.value.store.commit("insertColumn",i.value,l.value?C.columnConfig.value:null)}),Er(()=>{r.value.store.commit("removeColumn",i.value,l.value?b.columnConfig.value:null)}),t.columnId=a.value,t.columnConfig=i},render(){var n,e,t;let i=[];try{const r=(e=(n=this.$slots).default)==null?void 0:e.call(n,{row:{},column:{},$index:-1});if(r instanceof Array)for(const s of r)((t=s.type)==null?void 0:t.name)==="ElTableColumn"||s.shapeFlag&2?i.push(s):s.type===kt&&s.children instanceof Array&&i.push(...s.children)}catch{i=[]}return st("div",i)}});const tnt=wn(Utt,{TableColumn:Kfe}),nnt=Ur(Kfe),int=Wt({tabs:{type:It(Array),default:()=>zs([])}}),ote="ElTabBar",rnt=Me({name:ote,props:int,setup(n){const e=en(),t=mt(MO);t||ca(ote,"must use with ElTabs");const i=J(),r=J(),s=()=>{let a=0,l=0;const u=["top","bottom"].includes(t.props.tabPosition)?"width":"height",c=u==="width"?"x":"y";return n.tabs.every(d=>{var h,f,g,p;const m=(f=(h=e.parent)==null?void 0:h.refs)==null?void 0:f[`tab-${d.paneName}`];if(!m)return!1;if(!d.active)return!0;l=m[`client${ug(u)}`];const b=c==="x"?"left":"top";a=m.getBoundingClientRect()[b]-((p=(g=m.parentElement)==null?void 0:g.getBoundingClientRect()[b])!=null?p:0);const _=window.getComputedStyle(m);return u==="width"&&(n.tabs.length>1&&(l-=parseFloat(_.paddingLeft)+parseFloat(_.paddingRight)),a+=parseFloat(_.paddingLeft)),!1}),{[u]:`${l}px`,transform:`translate${ug(c)}(${a}px)`}},o=()=>r.value=s();return Ze(()=>n.tabs,async()=>{await Nt(),o()},{immediate:!0}),YL(i,()=>o()),{bar$:i,rootTabs:t,barStyle:r,update:o}}});function snt(n,e,t,i,r,s){return B(),te("div",{ref:"bar$",class:Z(["el-tabs__active-bar",`is-${n.rootTabs.props.tabPosition}`]),style:wt(n.barStyle)},null,6)}var ont=at(rnt,[["render",snt]]);const ant=Wt({panes:{type:It(Array),default:()=>zs([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:It(Function),default:ur},onTabRemove:{type:It(Function),default:ur},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ate="ElTabNav";var lnt=Me({name:ate,props:ant,setup(n,{expose:e}){const t=bFe(),i=IFe(),r=mt(MO);r||ca(ate,"ElTabNav must be nested inside ElTabs");const s=J(!1),o=J(0),a=J(!1),l=J(!0),u=J(),c=J(),d=J(),h=z(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),f=z(()=>({transform:`translate${h.value==="width"?"X":"Y"}(-${o.value}px)`})),g=()=>{if(!u.value)return;const S=u.value[`offset${ug(h.value)}`],D=o.value;if(!D)return;const E=D>S?D-S:0;o.value=E},p=()=>{if(!u.value||!c.value)return;const S=c.value[`offset${ug(h.value)}`],D=u.value[`offset${ug(h.value)}`],E=o.value;if(S-E<=D)return;const I=S-E>D*2?E+D:S-D;o.value=I},m=()=>{const S=c.value;if(!s.value||!d.value||!u.value||!S)return;const D=d.value.querySelector(".is-active");if(!D)return;const E=u.value,I=["top","bottom"].includes(r.props.tabPosition),T=D.getBoundingClientRect(),M=E.getBoundingClientRect(),A=I?S.offsetWidth-M.width:S.offsetHeight-M.height,O=o.value;let F=O;I?(T.left<M.left&&(F=O-(M.left-T.left)),T.right>M.right&&(F=O+T.right-M.right)):(T.top<M.top&&(F=O-(M.top-T.top)),T.bottom>M.bottom&&(F=O+(T.bottom-M.bottom))),F=Math.max(F,0),o.value=Math.min(F,A)},b=()=>{if(!c.value||!u.value)return;const S=c.value[`offset${ug(h.value)}`],D=u.value[`offset${ug(h.value)}`],E=o.value;if(D<S){const I=o.value;s.value=s.value||{},s.value.prev=I,s.value.next=I+D<S,S-I<D&&(o.value=S-D)}else s.value=!1,E>0&&(o.value=0)},_=S=>{const D=S.code,{up:E,down:I,left:T,right:M}=Ct;if(![E,I,T,M].includes(D))return;const A=Array.from(S.currentTarget.querySelectorAll("[role=tab]")),O=A.indexOf(S.target);let F;D===T||D===E?O===0?F=A.length-1:F=O-1:O<A.length-1?F=O+1:F=0,A[F].focus(),A[F].click(),C()},C=()=>{l.value&&(a.value=!0)},w=()=>a.value=!1;return Ze(t,S=>{S==="hidden"?l.value=!1:S==="visible"&&setTimeout(()=>l.value=!0,50)}),Ze(i,S=>{S?setTimeout(()=>l.value=!0,50):l.value=!1}),YL(d,b),rn(()=>setTimeout(()=>m(),0)),Xl(()=>b()),e({scrollToActiveTab:m,removeFocus:w}),()=>{const S=s.value?[st("span",{class:["el-tabs__nav-prev",s.value.prev?"":"is-disabled"],onClick:g},[st(cn,{},{default:()=>st(S1)})]),st("span",{class:["el-tabs__nav-next",s.value.next?"":"is-disabled"],onClick:p},[st(cn,{},{default:()=>st(Hc)})])]:null,D=n.panes.map((E,I)=>{var T,M;const A=E.props.name||E.index||`${I}`,O=E.isClosable||n.editable;E.index=`${I}`;const F=O?st(cn,{class:"is-icon-close",onClick:G=>n.onTabRemove(E,G)},{default:()=>st(Td)}):null,U=((M=(T=E.instance.slots).label)==null?void 0:M.call(T))||E.props.label,V=E.active?0:-1;return st("div",{class:{"el-tabs__item":!0,[`is-${r.props.tabPosition}`]:!0,"is-active":E.active,"is-disabled":E.props.disabled,"is-closable":O,"is-focus":a},id:`tab-${A}`,key:`tab-${A}`,"aria-controls":`pane-${A}`,role:"tab","aria-selected":E.active,ref:`tab-${A}`,tabindex:V,onFocus:()=>C(),onBlur:()=>w(),onClick:G=>{w(),n.onTabClick(E,A,G)},onKeydown:G=>{O&&(G.code===Ct.delete||G.code===Ct.backspace)&&n.onTabRemove(E,G)}},[U,F])});return st("div",{ref:d,class:["el-tabs__nav-wrap",s.value?"is-scrollable":"",`is-${r.props.tabPosition}`]},[S,st("div",{class:"el-tabs__nav-scroll",ref:u},[st("div",{class:["el-tabs__nav",`is-${r.props.tabPosition}`,n.stretch&&["top","bottom"].includes(r.props.tabPosition)?"is-stretch":""],ref:c,style:f.value,role:"tablist",onKeydown:_},[n.type?null:st(ont,{tabs:[...n.panes]}),D])])])}}});const unt=Wt({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:String,default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number],default:""},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:It(Function),default:()=>!0},stretch:Boolean}),cnt={[pn]:n=>typeof n=="string"||typeof n=="number",[Hm]:n=>typeof n=="string"||typeof n=="number","tab-click":(n,e)=>e instanceof Event,edit:(n,e)=>e==="remove"||e==="add","tab-remove":n=>typeof n=="string"||typeof n=="number","tab-add":()=>!0},Gfe=(n,e=[])=>{const t=n.children||[];return Array.from(t).forEach(i=>{let r=i.type;r=r.name||r,r==="ElTabPane"&&i.component?e.push(i.component):(r===kt||r==="template")&&Gfe(i,e)}),e};var dnt=Me({name:"ElTabs",props:unt,emits:cnt,setup(n,{emit:e,slots:t,expose:i}){const r=en(),s=J(),o=J([]),a=J(n.modelValue||n.activeName||"0"),l={},u=(p=!1)=>{if(t.default){const m=r.subTree.children,b=Array.from(m).find(({props:w})=>(w==null?void 0:w.class)==="el-tabs__content");if(!b)return;const _=Gfe(b).map(w=>l[w.uid]),C=!(_.length===o.value.length&&_.every((w,S)=>w.uid===o.value[S].uid));(p||C)&&(o.value=_)}else o.value.length!==0&&(o.value=[])},c=p=>{a.value=p,e(Hm,p),e(pn,p)},d=p=>{var m;if(a.value===p)return;const b=(m=n.beforeLeave)==null?void 0:m.call(n,p,a.value);DM(b)?b.then(()=>{var _,C;c(p),(C=(_=s.value)==null?void 0:_.removeFocus)==null||C.call(_)},ur):b!==!1&&c(p)},h=(p,m,b)=>{p.props.disabled||(d(m),e("tab-click",p,b))},f=(p,m)=>{p.props.disabled||(m.stopPropagation(),e("edit",p.props.name,"remove"),e("tab-remove",p.props.name))},g=()=>{e("edit",null,"add"),e("tab-add")};return Xl(()=>u()),rn(()=>u()),Ze(()=>n.activeName,p=>d(p)),Ze(()=>n.modelValue,p=>d(p)),Ze(a,async()=>{var p,m;u(!0),await Nt(),await((p=s.value)==null?void 0:p.$nextTick()),(m=s.value)==null||m.scrollToActiveTab()}),vn(MO,{props:n,currentName:a,updatePaneState:p=>l[p.uid]=p}),i({currentName:a}),()=>{const p=n.editable||n.addable?st("span",{class:"el-tabs__new-tab",tabindex:"0",onClick:g,onKeydown:_=>{_.code===Ct.enter&&g()}},[st(cn,{class:"is-icon-plus"},{default:()=>st(sde)})]):null,m=st("div",{class:["el-tabs__header",`is-${n.tabPosition}`]},[p,st(lnt,{currentName:a.value,editable:n.editable,type:n.type,panes:o.value,stretch:n.stretch,ref:s,onTabClick:h,onTabRemove:f})]),b=st("div",{class:"el-tabs__content"},[Xe(t,"default")]);return st("div",{class:{"el-tabs":!0,"el-tabs--card":n.type==="card",[`el-tabs--${n.tabPosition}`]:!0,"el-tabs--border-card":n.type==="border-card"}},n.tabPosition!=="bottom"?[m,b]:[b,m])}}});const hnt=Wt({label:{type:String,default:""},name:{type:[String,Number],default:""},closable:Boolean,disabled:Boolean,lazy:Boolean}),lte="ElTabPane",fnt=Me({name:lte,props:hnt,setup(n){const e=en(),t=mt(MO);t||ca(lte,"must use with ElTabs");const i=J(),r=J(!1),s=z(()=>n.closable||t.props.closable),o=xJ(()=>t.currentName.value===(n.name||i.value)),a=z(()=>n.name||i.value),l=xJ(()=>!n.lazy||r.value||o.value);return Ze(o,u=>{u&&(r.value=!0)}),t.updatePaneState(xi({uid:e.uid,instance:py(e),props:n,paneName:a,active:o,index:i,isClosable:s})),{active:o,paneName:a,shouldBeRender:l}}}),gnt=["id","aria-hidden","aria-labelledby"];function pnt(n,e,t,i,r,s){return n.shouldBeRender?Ht((B(),te("div",{key:0,id:`pane-${n.paneName}`,class:"el-tab-pane",role:"tabpanel","aria-hidden":!n.active,"aria-labelledby":`tab-${n.paneName}`},[Xe(n.$slots,"default")],8,gnt)),[[zn,n.active]]):Fe("v-if",!0)}var qfe=at(fnt,[["render",pnt]]);const mnt=wn(dnt,{TabPane:qfe}),vnt=Ur(qfe);jt.extend(hU);const{Option:_nt}=$O,cg=n=>{const e=(n||"").split(":");if(e.length>=2){let t=parseInt(e[0],10);const i=parseInt(e[1],10),r=n.toUpperCase();return r.includes("AM")&&t===12?t=0:r.includes("PM")&&t!==12&&(t+=12),{hours:t,minutes:i}}return null},mF=(n,e)=>{const t=cg(n),i=cg(e),r=t.minutes+t.hours*60,s=i.minutes+i.hours*60;return r===s?0:r>s?1:-1},ute=n=>`${n}`.padStart(2,"0"),Yb=n=>`${ute(n.hours)}:${ute(n.minutes)}`,bnt=(n,e)=>{const t=cg(n),i=cg(e),r={hours:t.hours,minutes:t.minutes};return r.minutes+=i.minutes,r.hours+=i.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,Yb(r)},Cnt=Me({name:"ElTimeSelect",components:{ElSelect:$O,ElOption:_nt,ElIcon:cn},model:{prop:"value",event:"change"},props:{format:{type:String,default:"HH:mm"},modelValue:String,disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:{type:String,default:"default",validator:n=>!n||["large","default","small"].indexOf(n)!==-1},placeholder:{type:String,default:""},start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:String,default:""},maxTime:{type:String,default:""},name:{type:String,default:""},prefixIcon:{type:[String,Object],default:rde},clearIcon:{type:[String,Object],default:Ug}},emits:["change","blur","focus","update:modelValue"],setup(n){const e=J(null),t=z(()=>n.modelValue),i=z(()=>{const d=cg(n.start);return Yb(d)}),r=z(()=>{const d=cg(n.end);return Yb(d)}),s=z(()=>{const d=cg(n.step);return Yb(d)}),o=z(()=>{const d=cg(n.minTime);return d?Yb(d):null}),a=z(()=>{const d=cg(n.maxTime);return d?Yb(d):null}),l=z(()=>{const d=[];if(n.start&&n.end&&n.step){let h=i.value,f;for(;mF(h,r.value)<=0;)f=jt(h,"HH:mm").format(n.format),d.push({value:f,disabled:mF(h,o.value||"-1:-1")<=0||mF(h,a.value||"100:100")>=0}),h=bnt(h,s.value)}return d});return{select:e,value:t,items:l,blur:()=>{var d,h;(h=(d=e.value)==null?void 0:d.blur)==null||h.call(d)},focus:()=>{var d,h;(h=(d=e.value)==null?void 0:d.focus)==null||h.call(d)}}}});function ynt(n,e,t,i,r,s){const o=Te("el-option"),a=Te("el-icon"),l=Te("el-select");return B(),Oe(l,{ref:"select","model-value":n.value,disabled:n.disabled,clearable:n.clearable,"clear-icon":n.clearIcon,size:n.size,effect:n.effect,placeholder:n.placeholder,"default-first-option":"",filterable:n.editable,"onUpdate:modelValue":e[0]||(e[0]=u=>n.$emit("update:modelValue",u)),onChange:e[1]||(e[1]=u=>n.$emit("change",u)),onBlur:e[2]||(e[2]=u=>n.$emit("blur",u)),onFocus:e[3]||(e[3]=u=>n.$emit("focus",u))},{prefix:De(()=>[n.prefixIcon?(B(),Oe(a,{key:0,class:"el-input__prefix-icon"},{default:De(()=>[(B(),Oe(Bn(n.prefixIcon)))]),_:1})):Fe("v-if",!0)]),default:De(()=>[(B(!0),te(kt,null,$n(n.items,u=>(B(),Oe(o,{key:u.value,label:u.value,value:u.value,disabled:u.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"])}var nx=at(Cnt,[["render",ynt]]);nx.install=n=>{n.component(nx.name,nx)};const wnt=nx,Snt=wnt,Lnt=Me({name:"ElTimeline",setup(n,{slots:e}){const t=dt("timeline");return vn("timeline",e),()=>st("ul",{class:[t.b()]},[Xe(e,"default")])}}),knt=Wt({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:{type:String,default:""},color:{type:String,default:""},size:{type:String,default:"normal"},icon:{type:Ma,default:""},hollow:{type:Boolean,default:!1}}),Ent=Me({name:"ElTimelineItem",components:{ElIcon:cn},props:knt,setup(){return{ns:dt("timeline-item")}}});function Dnt(n,e,t,i,r,s){const o=Te("el-icon");return B(),te("li",{class:Z([n.ns.b(),{[n.ns.e("center")]:n.center}])},[oe("div",{class:Z(n.ns.e("tail"))},null,2),n.$slots.dot?Fe("v-if",!0):(B(),te("div",{key:0,class:Z([n.ns.e("node"),n.ns.em("node",n.size||""),n.ns.em("node",n.type||""),n.ns.is("hollow",n.hollow)]),style:wt({backgroundColor:n.color})},[n.icon?(B(),Oe(o,{key:0,class:Z(n.ns.e("icon"))},{default:De(()=>[(B(),Oe(Bn(n.icon)))]),_:1},8,["class"])):Fe("v-if",!0)],6)),n.$slots.dot?(B(),te("div",{key:1,class:Z(n.ns.e("dot"))},[Xe(n.$slots,"dot")],2)):Fe("v-if",!0),oe("div",{class:Z(n.ns.e("wrapper"))},[!n.hideTimestamp&&n.placement==="top"?(B(),te("div",{key:0,class:Z([n.ns.e("timestamp"),n.ns.is("top")])},Je(n.timestamp),3)):Fe("v-if",!0),oe("div",{class:Z(n.ns.e("content"))},[Xe(n.$slots,"default")],2),!n.hideTimestamp&&n.placement==="bottom"?(B(),te("div",{key:1,class:Z([n.ns.e("timestamp"),n.ns.is("bottom")])},Je(n.timestamp),3)):Fe("v-if",!0)],2)],2)}var Yfe=at(Ent,[["render",Dnt]]);const Int=wn(Lnt,{TimelineItem:Yfe}),Tnt=Ur(Yfe),C9="checked-change",Nnt={data:{type:Array,default(){return[]}},optionRender:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},xnt=(n,e)=>{const{emit:t}=en(),i=z(()=>n.props.label||"label"),r=z(()=>n.props.key||"key"),s=z(()=>n.props.disabled||"disabled"),o=z(()=>n.data.filter(h=>typeof n.filterMethod=="function"?n.filterMethod(e.query,h):(h[i.value]||h[r.value].toString()).toLowerCase().includes(e.query.toLowerCase()))),a=z(()=>o.value.filter(h=>!h[s.value])),l=z(()=>{const h=e.checked.length,f=n.data.length,{noChecked:g,hasChecked:p}=n.format;return g&&p?h>0?p.replace(/\${checked}/g,h.toString()).replace(/\${total}/g,f.toString()):g.replace(/\${total}/g,f.toString()):`${h}/${f}`}),u=z(()=>{const h=e.checked.length;return h>0&&h<a.value.length}),c=()=>{const h=a.value.map(f=>f[r.value]);e.allChecked=h.length>0&&h.every(f=>e.checked.includes(f))},d=h=>{e.checked=h?a.value.map(f=>f[r.value]):[]};return Ze(()=>e.checked,(h,f)=>{if(c(),e.checkChangeByUser){const g=h.concat(f).filter(p=>!h.includes(p)||!f.includes(p));t(C9,h,g)}else t(C9,h),e.checkChangeByUser=!0}),Ze(a,()=>{c()}),Ze(()=>n.data,()=>{const h=[],f=o.value.map(g=>g[r.value]);e.checked.forEach(g=>{f.includes(g)&&h.push(g)}),e.checkChangeByUser=!1,e.checked=h}),Ze(()=>n.defaultChecked,(h,f)=>{if(f&&h.length===f.length&&h.every(m=>f.includes(m)))return;const g=[],p=a.value.map(m=>m[r.value]);h.forEach(m=>{p.includes(m)&&g.push(m)}),e.checkChangeByUser=!1,e.checked=g},{immediate:!0}),{labelProp:i,keyProp:r,disabledProp:s,filteredData:o,checkableData:a,checkedSummary:l,isIndeterminate:u,updateAllChecked:c,handleAllCheckedChange:d}},Mnt=Me({name:"ElTransferPanel",components:{ElCheckboxGroup:Lhe,ElCheckbox:Md,ElInput:zc,OptionContent:({option:n})=>n},props:Nnt,emits:[C9],setup(n,{slots:e}){const{t}=Oi(),i=dt("transfer"),r=xi({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),{labelProp:s,keyProp:o,disabledProp:a,filteredData:l,checkedSummary:u,isIndeterminate:c,handleAllCheckedChange:d}=xnt(n,r),h=z(()=>r.query.length>0&&l.value.length===0),f=z(()=>!!e.default()[0].children.length),{checked:g,allChecked:p,query:m,inputHover:b,checkChangeByUser:_}=Ko(r);return{ns:i,labelProp:s,keyProp:o,disabledProp:a,filteredData:l,checkedSummary:u,isIndeterminate:c,handleAllCheckedChange:d,checked:g,allChecked:p,query:m,inputHover:b,checkChangeByUser:_,hasNoMatch:h,SearchIcon:e9e,hasFooter:f,t}}});function Ant(n,e,t,i,r,s){const o=Te("el-checkbox"),a=Te("el-input"),l=Te("option-content"),u=Te("el-checkbox-group");return B(),te("div",{class:Z(n.ns.b("panel"))},[oe("p",{class:Z(n.ns.be("panel","header"))},[be(o,{modelValue:n.allChecked,"onUpdate:modelValue":e[0]||(e[0]=c=>n.allChecked=c),indeterminate:n.isIndeterminate,onChange:n.handleAllCheckedChange},{default:De(()=>[xn(Je(n.title)+" ",1),oe("span",null,Je(n.checkedSummary),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),oe("div",{class:Z([n.ns.be("panel","body"),n.ns.is("with-footer",n.hasFooter)])},[n.filterable?(B(),Oe(a,{key:0,modelValue:n.query,"onUpdate:modelValue":e[1]||(e[1]=c=>n.query=c),class:Z(n.ns.be("panel","filter")),size:"default",placeholder:n.placeholder,"prefix-icon":n.SearchIcon,clearable:"",onMouseenter:e[2]||(e[2]=c=>n.inputHover=!0),onMouseleave:e[3]||(e[3]=c=>n.inputHover=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):Fe("v-if",!0),Ht(be(u,{modelValue:n.checked,"onUpdate:modelValue":e[4]||(e[4]=c=>n.checked=c),class:Z([n.ns.is("filterable",n.filterable),n.ns.be("panel","list")])},{default:De(()=>[(B(!0),te(kt,null,$n(n.filteredData,c=>(B(),Oe(o,{key:c[n.keyProp],class:Z(n.ns.be("panel","item")),label:c[n.keyProp],disabled:c[n.disabledProp]},{default:De(()=>[be(l,{option:n.optionRender(c)},null,8,["option"])]),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[zn,!n.hasNoMatch&&n.data.length>0]]),Ht(oe("p",{class:Z(n.ns.be("panel","empty"))},Je(n.hasNoMatch?n.t("el.transfer.noMatch"):n.t("el.transfer.noData")),3),[[zn,n.hasNoMatch||n.data.length===0]])],2),n.hasFooter?(B(),te("p",{key:0,class:Z(n.ns.be("panel","footer"))},[Xe(n.$slots,"default")],2)):Fe("v-if",!0)],2)}var Rnt=at(Mnt,[["render",Ant]]);const Ont=n=>{const e=z(()=>n.props.key),t=z(()=>n.data.reduce((s,o)=>(s[o[e.value]]=o)&&s,{})),i=z(()=>n.data.filter(s=>!n.modelValue.includes(s[e.value]))),r=z(()=>n.targetOrder==="original"?n.data.filter(s=>n.modelValue.includes(s[e.value])):n.modelValue.reduce((s,o)=>{const a=t.value[o];return a&&s.push(a),s},[]));return{propsKey:e,sourceData:i,targetData:r}},Xfe="left-check-change",Zfe="right-check-change",Pnt=(n,e)=>({onSourceCheckedChange:(r,s)=>{n.leftChecked=r,s!==void 0&&e(Xfe,r,s)},onTargetCheckedChange:(r,s)=>{n.rightChecked=r,s!==void 0&&e(Zfe,r,s)}}),Fnt=(n,e,t,i)=>{const r=(a,l,u)=>{i(pn,a),i(xo,a,l,u)};return{addToLeft:()=>{const a=n.modelValue.slice();e.rightChecked.forEach(l=>{const u=a.indexOf(l);u>-1&&a.splice(u,1)}),r(a,"left",e.rightChecked)},addToRight:()=>{let a=n.modelValue.slice();const l=n.data.filter(u=>{const c=u[t.value];return e.leftChecked.includes(c)&&!n.modelValue.includes(c)}).map(u=>u[t.value]);a=n.targetOrder==="unshift"?l.concat(a):a.concat(l),n.targetOrder==="original"&&(a=n.data.filter(u=>a.includes(u[t.value])).map(u=>u[t.value])),r(a,"right",e.leftChecked)}}},Bnt=Me({name:"ElTransfer",components:{TransferPanel:Rnt,ElButton:hf,ElIcon:cn,ArrowLeft:S1,ArrowRight:Hc},props:{data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:Function,modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,default:"original",validator:n=>["original","push","unshift"].includes(n)}},emits:[pn,xo,Xfe,Zfe],setup(n,{emit:e,slots:t}){const{t:i}=Oi(),r=dt("transfer"),s=mt(Kd,{}),o=xi({leftChecked:[],rightChecked:[]}),{propsKey:a,sourceData:l,targetData:u}=Ont(n),{onSourceCheckedChange:c,onTargetCheckedChange:d}=Pnt(o,e),{addToLeft:h,addToRight:f}=Fnt(n,o,a,e),g=J(),p=J(),m=D=>{switch(D){case"left":g.value.query="";break;case"right":p.value.query="";break}},b=z(()=>n.buttonTexts.length===2),_=z(()=>n.titles[0]||i("el.transfer.titles.0")),C=z(()=>n.titles[1]||i("el.transfer.titles.1")),w=z(()=>n.filterPlaceholder||i("el.transfer.filterPlaceholder"));Ze(()=>n.modelValue,()=>{var D;(D=s.validate)==null||D.call(s,"change")});const S=z(()=>D=>n.renderContent?n.renderContent(st,D):t.default?t.default({option:D}):st("span",D[n.props.label]||D[n.props.key]));return gn(Dt({ns:r,sourceData:l,targetData:u,onSourceCheckedChange:c,onTargetCheckedChange:d,addToLeft:h,addToRight:f},Ko(o)),{hasButtonTexts:b,leftPanelTitle:_,rightPanelTitle:C,panelFilterPlaceholder:w,clearQuery:m,leftPanel:g,rightPanel:p,optionRender:S})}}),$nt={key:0},Vnt={key:0};function Wnt(n,e,t,i,r,s){const o=Te("transfer-panel"),a=Te("arrow-left"),l=Te("el-icon"),u=Te("el-button"),c=Te("arrow-right");return B(),te("div",{class:Z(n.ns.b())},[be(o,{ref:"leftPanel",data:n.sourceData,"option-render":n.optionRender,placeholder:n.panelFilterPlaceholder,title:n.leftPanelTitle,filterable:n.filterable,format:n.format,"filter-method":n.filterMethod,"default-checked":n.leftDefaultChecked,props:n.props,onCheckedChange:n.onSourceCheckedChange},{default:De(()=>[Xe(n.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),oe("div",{class:Z(n.ns.e("buttons"))},[be(u,{type:"primary",class:Z([n.ns.e("button"),n.ns.is("with-texts",n.hasButtonTexts)]),disabled:n.rightChecked.length===0,onClick:n.addToLeft},{default:De(()=>[be(l,null,{default:De(()=>[be(a)]),_:1}),n.buttonTexts[0]!==void 0?(B(),te("span",$nt,Je(n.buttonTexts[0]),1)):Fe("v-if",!0)]),_:1},8,["class","disabled","onClick"]),be(u,{type:"primary",class:Z([n.ns.e("button"),n.ns.is("with-texts",n.hasButtonTexts)]),disabled:n.leftChecked.length===0,onClick:n.addToRight},{default:De(()=>[n.buttonTexts[1]!==void 0?(B(),te("span",Vnt,Je(n.buttonTexts[1]),1)):Fe("v-if",!0),be(l,null,{default:De(()=>[be(c)]),_:1})]),_:1},8,["class","disabled","onClick"])],2),be(o,{ref:"rightPanel",data:n.targetData,"option-render":n.optionRender,placeholder:n.panelFilterPlaceholder,filterable:n.filterable,format:n.format,"filter-method":n.filterMethod,title:n.rightPanelTitle,"default-checked":n.rightDefaultChecked,props:n.props,onCheckedChange:n.onTargetCheckedChange},{default:De(()=>[Xe(n.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2)}var ix=at(Bnt,[["render",Wnt]]);ix.install=n=>{n.component(ix.name,ix)};const Hnt=ix,znt=Hnt,VC="$treeNodeId",cte=function(n,e){!e||e[VC]||Object.defineProperty(e,VC,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},MU=function(n,e){return n?e[n]:e[VC]},y9=n=>{let e=!0,t=!0,i=!0;for(let r=0,s=n.length;r<s;r++){const o=n[r];(o.checked!==!0||o.indeterminate)&&(e=!1,o.disabled||(i=!1)),(o.checked!==!1||o.indeterminate)&&(t=!1)}return{all:e,none:t,allWithoutDisable:i,half:!e&&!t}},rx=function(n){if(n.childNodes.length===0)return;const{all:e,none:t,half:i}=y9(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):i?(n.checked=!1,n.indeterminate=!0):t&&(n.checked=!1,n.indeterminate=!1);const r=n.parent;!r||r.level===0||n.store.checkStrictly||rx(r)},nT=function(n,e){const t=n.store.props,i=n.data||{},r=t[e];if(typeof r=="function")return r(i,n);if(typeof r=="string")return i[r];if(typeof r=="undefined"){const s=i[e];return s===void 0?"":s}};let Unt=0;class n_{constructor(e){this.id=Unt++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)uo(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&typeof t.isLeaf!="undefined"){const s=nT(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||cte(this,this.data),!this.data)return;const i=e.defaultExpandedKeys,r=e.key;r&&i&&i.indexOf(this.key)!==-1&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||cte(this,e),this.data=e,this.childNodes=[];let t;this.level===0&&this.data instanceof Array?t=this.data:t=nT(this,"children")||[];for(let i=0,r=t.length;i<r;i++)this.insertChild({data:t[i]})}get label(){return nT(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return nT(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(i=>i===e||t&&i.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,i){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof n_)){if(!i){const r=this.getChildren(!0);r.indexOf(e.data)===-1&&(typeof t=="undefined"||t<0?r.push(e.data):r.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=xi(new n_(e)),e instanceof n_&&e.initialize()}e.level=this.level+1,typeof t=="undefined"||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let i;t&&(i=this.childNodes.indexOf(t)),this.insertChild(e,i)}insertAfter(e,t){let i;t&&(i=this.childNodes.indexOf(t),i!==-1&&(i+=1)),this.insertChild(e,i)}removeChild(e){const t=this.getChildren()||[],i=t.indexOf(e.data);i>-1&&t.splice(i,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){t=this.childNodes[i];break}t&&this.removeChild(t)}expand(e,t){const i=()=>{if(t){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||rx(this),i())}):i()}doCreateChildren(e,t={}){e.forEach(i=>{this.insertChild(Object.assign({data:i},t),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser!="undefined"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,t,i,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:o,allWithoutDisable:a}=y9(this.childNodes);!this.isLeaf&&!o&&a&&(this.checked=!1,e=!1);const l=()=>{if(t){const u=this.childNodes;for(let h=0,f=u.length;h<f;h++){const g=u[h];r=r||e!==!1;const p=g.disabled?g.checked:r;g.setChecked(p,t,!0,r)}const{half:c,all:d}=y9(u);d||(this.checked=d,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),rx(this)},{checked:e!==!1});return}else l()}const s=this.parent;!s||s.level===0||i||rx(s)}getChildren(e=!1){if(this.level===0)return this.data;const t=this.data;if(!t)return null;const i=this.store.props;let r="children";return i&&(r=i.children||"children"),t[r]===void 0&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map(s=>s.data),i={},r=[];e.forEach((s,o)=>{const a=s[VC];!!a&&t.findIndex(u=>u[VC]===a)>=0?i[a]={index:o,data:s}:r.push({index:o,data:s})}),this.store.lazy||t.forEach(s=>{i[s[VC]]||this.removeChildByData(s)}),r.forEach(({index:s,data:o})=>{this.insertChild({data:o},s)}),this.updateLeafState()}loadData(e,t={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(t).length)){this.loading=!0;const i=r=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(r,t),this.updateLeafState(),e&&e.call(this,r)};this.store.load(this,i)}else e&&e.call(this)}}class jnt{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)uo(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){this.root=new n_({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load?this.load(this.root,t=>{this.root.doCreateChildren(t),this._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,i=this.lazy,r=function(s){const o=s.root?s.root.childNodes:s.childNodes;if(o.forEach(a=>{a.visible=t.call(a,e,a.data,a),r(a)}),!s.visible&&o.length){let a=!0;a=!o.some(l=>l.visible),s.root?s.root.visible=a===!1:s.visible=a===!1}!e||s.visible&&!s.isLeaf&&!i&&s.expand()};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof n_)return e;const t=typeof e!="object"?e:MU(this.key,e);return this.nodesMap[t]||null}insertBefore(e,t){const i=this.getNode(t);i.parent.insertBefore({data:e},i)}insertAfter(e,t){const i=this.getNode(t);i.parent.insertAfter({data:e},i)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const i=t?this.getNode(t):this.root;i&&i.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(i=>{const r=t[i];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).indexOf(e.key)!==-1&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;!e||!e.data||(t?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const i=[],r=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(a=>{(a.checked||t&&a.indeterminate)&&(!e||e&&a.isLeaf)&&i.push(a.data),r(a)})};return r(this),i}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(t=>(t||{})[this.key])}getHalfCheckedNodes(){const e=[],t=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),t(s)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],t=this.nodesMap;for(const i in t)uo(t,i)&&e.push(t[i]);return e}updateChildren(e,t){const i=this.nodesMap[e];if(!i)return;const r=i.childNodes;for(let s=r.length-1;s>=0;s--){const o=r[s];this.remove(o.data)}for(let s=0,o=t.length;s<o;s++){const a=t[s];this.append(a,i.data)}}_setCheckedKeys(e,t=!1,i){const r=this._getAllNodes().sort((a,l)=>l.level-a.level),s=Object.create(null),o=Object.keys(i);r.forEach(a=>a.setChecked(!1,!1));for(let a=0,l=r.length;a<l;a++){const u=r[a],c=u.data[e].toString();if(!(o.indexOf(c)>-1)){u.checked&&!s[c]&&u.setChecked(!1,!1);continue}let h=u.parent;for(;h&&h.level>0;)s[h.data[e]]=!0,h=h.parent;if(u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),t){u.setChecked(!1,!1);const f=function(g){g.childNodes.forEach(m=>{m.isLeaf||m.setChecked(!1,!1),f(m)})};f(u)}}}setCheckedNodes(e,t=!1){const i=this.key,r={};e.forEach(s=>{r[(s||{})[i]]=!0}),this._setCheckedKeys(i,t,r)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const i=this.key,r={};e.forEach(s=>{r[s]=!0}),this._setCheckedKeys(i,t,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(t=>{const i=this.getNode(t);i&&i.expand(null,this.autoExpandParent)})}setChecked(e,t,i){const r=this.getNode(e);r&&r.setChecked(!!t,i)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const i=e[this.key],r=this.nodesMap[i];this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(e);i&&(this.setCurrentNode(i),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Knt=Me({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=dt("tree"),t=mt("NodeInstance"),i=mt("RootTree");return()=>{const r=n.node,{data:s,store:o}=r;return n.renderContent?n.renderContent(st,{_self:t,node:r,data:s,store:o}):i.ctx.slots.default?i.ctx.slots.default({node:r,data:s}):st("span",{class:e.be("node","label")},[r.label])}}});function Qfe(n){const e=mt("TreeNodeMap",null),t={treeNodeExpand:i=>{n.node!==i&&n.node.collapse()},children:[]};return e&&e.children.push(t),vn("TreeNodeMap",t),{broadcastExpanded:i=>{if(!!n.accordion)for(const r of t.children)r.treeNodeExpand(i)}}}const Jfe=Symbol("dragEvents");function Gnt({props:n,ctx:e,el$:t,dropIndicator$:i,store:r}){const s=dt("tree"),o=J({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return vn(Jfe,{treeNodeDragStart:({event:c,treeNode:d})=>{if(typeof n.allowDrag=="function"&&!n.allowDrag(d.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=d,e.emit("node-drag-start",d.node,c)},treeNodeDragOver:({event:c,treeNode:d})=>{const h=d,f=o.value.dropNode;f&&f!==h&&Pl(f.$el,s.is("drop-inner"));const g=o.value.draggingNode;if(!g||!h)return;let p=!0,m=!0,b=!0,_=!0;typeof n.allowDrop=="function"&&(p=n.allowDrop(g.node,h.node,"prev"),_=m=n.allowDrop(g.node,h.node,"inner"),b=n.allowDrop(g.node,h.node,"next")),c.dataTransfer.dropEffect=m||p||b?"move":"none",(p||m||b)&&f!==h&&(f&&e.emit("node-drag-leave",g.node,f.node,c),e.emit("node-drag-enter",g.node,h.node,c)),(p||m||b)&&(o.value.dropNode=h),h.node.nextSibling===g.node&&(b=!1),h.node.previousSibling===g.node&&(p=!1),h.node.contains(g.node,!1)&&(m=!1),(g.node===h.node||g.node.contains(h.node))&&(p=!1,m=!1,b=!1);const C=h.$el.getBoundingClientRect(),w=t.value.getBoundingClientRect();let S;const D=p?m?.25:b?.45:1:-1,E=b?m?.75:p?.55:0:1;let I=-9999;const T=c.clientY-C.top;T<C.height*D?S="before":T>C.height*E?S="after":m?S="inner":S="none";const M=h.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),A=i.value;S==="before"?I=M.top-w.top:S==="after"&&(I=M.bottom-w.top),A.style.top=`${I}px`,A.style.left=`${M.right-w.left}px`,S==="inner"?Rh(h.$el,s.is("drop-inner")):Pl(h.$el,s.is("drop-inner")),o.value.showDropIndicator=S==="before"||S==="after",o.value.allowDrop=o.value.showDropIndicator||_,o.value.dropType=S,e.emit("node-drag-over",g.node,h.node,c)},treeNodeDragEnd:c=>{const{draggingNode:d,dropType:h,dropNode:f}=o.value;if(c.preventDefault(),c.dataTransfer.dropEffect="move",d&&f){const g={data:d.node.data};h!=="none"&&d.node.remove(),h==="before"?f.node.parent.insertBefore(g,f.node):h==="after"?f.node.parent.insertAfter(g,f.node):h==="inner"&&f.node.insertChild(g),h!=="none"&&r.value.registerNode(g),Pl(f.$el,s.is("drop-inner")),e.emit("node-drag-end",d.node,f.node,h,c),h!=="none"&&e.emit("node-drop",d.node,f.node,h,c)}d&&!f&&e.emit("node-drag-end",d.node,null,h,c),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}const qnt=Me({name:"ElTreeNode",components:{ElCollapseTransition:FO,ElCheckbox:Md,NodeContent:Knt,ElIcon:cn,Loading:Cv},props:{node:{type:n_,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,e){const t=dt("tree"),{broadcastExpanded:i}=Qfe(n),r=mt("RootTree"),s=J(!1),o=J(!1),a=J(null),l=J(null),u=J(null),c=mt(Jfe),d=en();vn("NodeInstance",d),n.node.expanded&&(s.value=!0,o.value=!0);const h=r.props.children||"children";Ze(()=>{const T=n.node.data[h];return T&&[...T]},()=>{n.node.updateChildren()}),Ze(()=>n.node.indeterminate,T=>{p(n.node.checked,T)}),Ze(()=>n.node.checked,T=>{p(T,n.node.indeterminate)}),Ze(()=>n.node.expanded,T=>{Nt(()=>s.value=T),T&&(o.value=!0)});const f=T=>MU(r.props.nodeKey,T.data),g=T=>{const M=n.props.class;if(!M)return{};let A;if(xl(M)){const{data:O}=T;A=M(O,T)}else A=M;return Or(A)?{[A]:!0}:A},p=(T,M)=>{(a.value!==T||l.value!==M)&&r.ctx.emit("check-change",n.node.data,T,M),a.value=T,l.value=M},m=T=>{const M=r.store.value;M.setCurrentNode(n.node),r.ctx.emit("current-change",M.currentNode?M.currentNode.data:null,M.currentNode),r.currentNode.value=n.node,r.props.expandOnClickNode&&_(),r.props.checkOnClickNode&&!n.node.disabled&&C(null,{target:{checked:!n.node.checked}}),r.ctx.emit("node-click",n.node.data,n.node,d,T)},b=T=>{r.instance.vnode.props.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),r.ctx.emit("node-contextmenu",T,n.node.data,n.node,d)},_=()=>{n.node.isLeaf||(s.value?(r.ctx.emit("node-collapse",n.node.data,n.node,d),n.node.collapse()):(n.node.expand(),e.emit("node-expand",n.node.data,n.node,d)))},C=(T,M)=>{n.node.setChecked(M.target.checked,!r.props.checkStrictly),Nt(()=>{const A=r.store.value;r.ctx.emit("check",n.node.data,{checkedNodes:A.getCheckedNodes(),checkedKeys:A.getCheckedKeys(),halfCheckedNodes:A.getHalfCheckedNodes(),halfCheckedKeys:A.getHalfCheckedKeys()})})};return{ns:t,node$:u,tree:r,expanded:s,childNodeRendered:o,oldChecked:a,oldIndeterminate:l,getNodeKey:f,getNodeClass:g,handleSelectChange:p,handleClick:m,handleContextMenu:b,handleExpandIconClick:_,handleCheckChange:C,handleChildNodeExpand:(T,M,A)=>{i(M),r.ctx.emit("node-expand",T,M,A)},handleDragStart:T=>{!r.props.draggable||c.treeNodeDragStart({event:T,treeNode:n})},handleDragOver:T=>{T.preventDefault(),!!r.props.draggable&&c.treeNodeDragOver({event:T,treeNode:{$el:u.value,node:n.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{!r.props.draggable||c.treeNodeDragEnd(T)},CaretRight:ide}}}),Ynt=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Xnt=["aria-expanded"];function Znt(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("el-checkbox"),l=Te("loading"),u=Te("node-content"),c=Te("el-tree-node"),d=Te("el-collapse-transition");return Ht((B(),te("div",{ref:"node$",class:Z([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:e[1]||(e[1]=Ft((...h)=>n.handleClick&&n.handleClick(...h),["stop"])),onContextmenu:e[2]||(e[2]=(...h)=>n.handleContextMenu&&n.handleContextMenu(...h)),onDragstart:e[3]||(e[3]=Ft((...h)=>n.handleDragStart&&n.handleDragStart(...h),["stop"])),onDragover:e[4]||(e[4]=Ft((...h)=>n.handleDragOver&&n.handleDragOver(...h),["stop"])),onDragend:e[5]||(e[5]=Ft((...h)=>n.handleDragEnd&&n.handleDragEnd(...h),["stop"])),onDrop:e[6]||(e[6]=Ft((...h)=>n.handleDrop&&n.handleDrop(...h),["stop"]))},[oe("div",{class:Z(n.ns.be("node","content")),style:wt({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(B(),Oe(o,{key:0,class:Z([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:Ft(n.handleExpandIconClick,["stop"])},{default:De(()=>[(B(),Oe(Bn(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):Fe("v-if",!0),n.showCheckbox?(B(),Oe(a,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:e[0]||(e[0]=Ft(()=>{},["stop"])),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Fe("v-if",!0),n.node.loading?(B(),Oe(o,{key:2,class:Z([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:De(()=>[be(l)]),_:1},8,["class"])):Fe("v-if",!0),be(u,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),be(d,null,{default:De(()=>[!n.renderAfterExpand||n.childNodeRendered?Ht((B(),te("div",{key:0,class:Z(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[(B(!0),te(kt,null,$n(n.node.childNodes,h=>(B(),Oe(c,{key:n.getNodeKey(h),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:h,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Xnt)),[[zn,n.expanded]]):Fe("v-if",!0)]),_:1})],42,Ynt)),[[zn,n.node.visible]])}var Qnt=at(qnt,[["render",Znt]]);function Jnt({el$:n},e){const t=dt("tree"),i=ra([]),r=ra([]);rn(()=>{o(),Vi(n.value,"keydown",s)}),Er(()=>{Lr(n.value,"keydown",s)}),Xl(()=>{i.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),Ze(r,a=>{a.forEach(l=>{l.setAttribute("tabindex","-1")})});const s=a=>{const l=a.target;if(l.className.indexOf(t.b("node"))===-1)return;const u=a.code;i.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`));const c=i.value.indexOf(l);let d;if([Ct.up,Ct.down].indexOf(u)>-1){if(a.preventDefault(),u===Ct.up){d=c===-1?0:c!==0?c-1:i.value.length-1;const f=d;for(;!e.value.getNode(i.value[d].dataset.key).canFocus;){if(d--,d===f){d=-1;break}d<0&&(d=i.value.length-1)}}else{d=c===-1?0:c<i.value.length-1?c+1:0;const f=d;for(;!e.value.getNode(i.value[d].dataset.key).canFocus;){if(d++,d===f){d=-1;break}d>=i.value.length&&(d=0)}}d!==-1&&i.value[d].focus()}[Ct.left,Ct.right].indexOf(u)>-1&&(a.preventDefault(),l.click());const h=l.querySelector('[type="checkbox"]');[Ct.enter,Ct.space].indexOf(u)>-1&&h&&(a.preventDefault(),h.click())},o=()=>{var a;i.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`)),r.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const l=n.value.querySelectorAll(`.${t.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(a=i.value[0])==null||a.setAttribute("tabindex","0")}}const eit=Me({name:"ElTree",components:{ElTreeNode:Qnt},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:[String,Object]},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t}=Oi(),i=dt("tree"),r=J(new jnt({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));r.value.initialize();const s=J(r.value.root),o=J(null),a=J(null),l=J(null),{broadcastExpanded:u}=Qfe(n),{dragState:c}=Gnt({props:n,ctx:e,el$:a,dropIndicator$:l,store:r});Jnt({el$:a},r);const d=z(()=>{const{childNodes:j}=s.value;return!j||j.length===0||j.every(({visible:X})=>!X)});Ze(()=>n.defaultCheckedKeys,j=>{r.value.setDefaultCheckedKey(j)}),Ze(()=>n.defaultExpandedKeys,j=>{r.value.setDefaultExpandedKeys(j)}),Ze(()=>n.data,j=>{r.value.setData(j)},{deep:!0}),Ze(()=>n.checkStrictly,j=>{r.value.checkStrictly=j});const h=j=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(j)},f=j=>MU(n.nodeKey,j.data),g=j=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const X=r.value.getNode(j);if(!X)return[];const ie=[X.data];let Ce=X.parent;for(;Ce&&Ce!==s.value;)ie.push(Ce.data),Ce=Ce.parent;return ie.reverse()},p=(j,X)=>r.value.getCheckedNodes(j,X),m=j=>r.value.getCheckedKeys(j),b=()=>{const j=r.value.getCurrentNode();return j?j.data:null},_=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const j=b();return j?j[n.nodeKey]:null},C=(j,X)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(j,X)},w=(j,X)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(j,X)},S=(j,X,ie)=>{r.value.setChecked(j,X,ie)},D=()=>r.value.getHalfCheckedNodes(),E=()=>r.value.getHalfCheckedKeys(),I=(j,X=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");r.value.setUserCurrentNode(j,X)},T=(j,X=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");r.value.setCurrentNodeKey(j,X)},M=j=>r.value.getNode(j),A=j=>{r.value.remove(j)},O=(j,X)=>{r.value.append(j,X)},F=(j,X)=>{r.value.insertBefore(j,X)},U=(j,X)=>{r.value.insertAfter(j,X)},V=(j,X,ie)=>{u(X),e.emit("node-expand",j,X,ie)},G=(j,X)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(j,X)};return vn("RootTree",{ctx:e,props:n,store:r,root:s,currentNode:o,instance:en()}),{ns:i,store:r,root:s,currentNode:o,dragState:c,el$:a,dropIndicator$:l,isEmpty:d,filter:h,getNodeKey:f,getNodePath:g,getCheckedNodes:p,getCheckedKeys:m,getCurrentNode:b,getCurrentKey:_,setCheckedNodes:C,setCheckedKeys:w,setChecked:S,getHalfCheckedNodes:D,getHalfCheckedKeys:E,setCurrentNode:I,setCurrentKey:T,t,getNode:M,remove:A,append:O,insertBefore:F,insertAfter:U,handleNodeExpand:V,updateKeyChildren:G}}});function tit(n,e,t,i,r,s){var o;const a=Te("el-tree-node");return B(),te("div",{ref:"el$",class:Z([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(B(!0),te(kt,null,$n(n.root.childNodes,l=>(B(),Oe(a,{key:n.getNodeKey(l),node:l,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(B(),te("div",{key:0,class:Z(n.ns.e("empty-block"))},[oe("span",{class:Z(n.ns.e("empty-text"))},Je((o=n.emptyText)!=null?o:n.t("el.tree.emptyText")),3)],2)):Fe("v-if",!0),Ht(oe("div",{ref:"dropIndicator$",class:Z(n.ns.e("drop-indicator"))},null,2),[[zn,n.dragState.showDropIndicator]])],2)}var sx=at(eit,[["render",tit]]);sx.install=n=>{n.component(sx.name,sx)};const nit=sx,iit=nit,AU=Symbol(),rit={key:-1,level:-1,data:{}};var a2=(n=>(n.KEY="id",n.LABEL="label",n.CHILDREN="children",n.DISABLED="disabled",n))(a2||{}),w9=(n=>(n.ADD="add",n.DELETE="delete",n))(w9||{});const sit=Wt({data:{type:It(Array),default:()=>zs([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:It(Object),default:()=>zs({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:It(Array),default:()=>zs([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:It(Array),default:()=>zs([])},indent:{type:Number,default:16},icon:{type:String},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:It([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:It(Function)},perfMode:{type:Boolean,default:!0}}),oit=Wt({node:{type:It(Object),default:()=>zs(rit)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),ait=Wt({node:{type:It(Object),required:!0}}),ege="node-click",tge="node-expand",nge="node-collapse",ige="current-change",rge="check",sge="check-change",oge="node-contextmenu",lit={[ege]:(n,e,t)=>n&&e&&t,[tge]:(n,e)=>n&&e,[nge]:(n,e)=>n&&e,[ige]:(n,e)=>n&&e,[rge]:(n,e)=>n&&e,[sge]:(n,e)=>n&&typeof e=="boolean",[oge]:(n,e,t)=>n&&e&&t},uit={click:(n,e)=>!!(n&&e),toggle:n=>!!n,check:(n,e)=>n&&typeof e=="boolean"};function cit(n,e){const t=J(new Set),i=J(new Set),{emit:r}=en();Ze(()=>e.value,()=>Nt(()=>{_(n.defaultCheckedKeys)}),{immediate:!0});const s=()=>{if(!e.value||!n.showCheckbox||n.checkStrictly)return;const{levelTreeNodeMap:C,maxLevel:w}=e.value,S=t.value,D=new Set;for(let E=w-1;E>=1;--E){const I=C.get(E);!I||I.forEach(T=>{const M=T.children;if(M){let A=!0,O=!1;for(let F=0;F<M.length;++F){const V=M[F].key;if(S.has(V))O=!0;else if(D.has(V)){A=!1,O=!0;break}else A=!1}A?S.add(T.key):O?(D.add(T.key),S.delete(T.key)):(S.delete(T.key),D.delete(T.key))}})}i.value=D},o=C=>t.value.has(C.key),a=C=>i.value.has(C.key),l=(C,w,S=!0)=>{const D=t.value,E=(I,T)=>{D[T?w9.ADD:w9.DELETE](I.key);const M=I.children;!n.checkStrictly&&M&&M.forEach(A=>{A.disabled||E(A,T)})};E(C,w),s(),S&&u(C,w)},u=(C,w)=>{const{checkedNodes:S,checkedKeys:D}=g(),{halfCheckedNodes:E,halfCheckedKeys:I}=p();r(rge,C.data,{checkedKeys:D,checkedNodes:S,halfCheckedKeys:I,halfCheckedNodes:E}),r(sge,C.data,w)};function c(C=!1){return g(C).checkedKeys}function d(C=!1){return g(C).checkedNodes}function h(){return p().halfCheckedKeys}function f(){return p().halfCheckedNodes}function g(C=!1){const w=[],S=[];if((e==null?void 0:e.value)&&n.showCheckbox){const{treeNodeMap:D}=e.value;t.value.forEach(E=>{const I=D.get(E);I&&(!C||C&&I.isLeaf)&&(S.push(E),w.push(I.data))})}return{checkedKeys:S,checkedNodes:w}}function p(){const C=[],w=[];if((e==null?void 0:e.value)&&n.showCheckbox){const{treeNodeMap:S}=e.value;i.value.forEach(D=>{const E=S.get(D);E&&(w.push(D),C.push(E.data))})}return{halfCheckedNodes:C,halfCheckedKeys:w}}function m(C){t.value.clear(),_(C)}function b(C,w){if((e==null?void 0:e.value)&&n.showCheckbox){const S=e.value.treeNodeMap.get(C);S&&l(S,w,!1)}}function _(C){if(e==null?void 0:e.value){const{treeNodeMap:w}=e.value;if(n.showCheckbox&&w&&C)for(let S=0;S<C.length;++S){const D=C[S],E=w.get(D);E&&!o(E)&&l(E,!0,!1)}}}return{updateCheckedKeys:s,toggleCheckbox:l,isChecked:o,isIndeterminate:a,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:h,getHalfCheckedNodes:f,setChecked:b,setCheckedKeys:m}}function dit(n,e){const t=J(new Set([])),i=J(new Set([])),r=z(()=>xl(n.filterMethod));function s(a){var l;if(!r.value)return;const u=new Set,c=i.value,d=t.value,h=[],f=((l=e.value)==null?void 0:l.treeNodes)||[],g=n.filterMethod;d.clear();function p(m){m.forEach(b=>{h.push(b),(g==null?void 0:g(a,b.data))?h.forEach(C=>{u.add(C.key)}):b.isLeaf&&d.add(b.key);const _=b.children;if(_&&p(_),!b.isLeaf){if(!u.has(b.key))d.add(b.key);else if(_){let C=!0;for(let w=0;w<_.length;++w){const S=_[w];if(!d.has(S.key)){C=!1;break}}C?c.add(b.key):c.delete(b.key)}}h.pop()})}return p(f),u}function o(a){return i.value.has(a.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:t,doFilter:s,isForceHiddenExpandIcon:o}}function hit(n,e){const t=J(new Set(n.defaultExpandedKeys)),i=J(),r=ra();Ze(()=>n.currentNodeKey,pe=>{i.value=pe},{immediate:!0}),Ze(()=>n.data,pe=>{fe(pe)},{immediate:!0});const{isIndeterminate:s,isChecked:o,toggleCheckbox:a,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:f}=cit(n,r),{doFilter:g,hiddenNodeKeySet:p,isForceHiddenExpandIcon:m}=dit(n,r),b=z(()=>{var pe;return((pe=n.props)==null?void 0:pe.value)||a2.KEY}),_=z(()=>{var pe;return((pe=n.props)==null?void 0:pe.children)||a2.CHILDREN}),C=z(()=>{var pe;return((pe=n.props)==null?void 0:pe.disabled)||a2.DISABLED}),w=z(()=>{var pe;return((pe=n.props)==null?void 0:pe.label)||a2.LABEL}),S=z(()=>{const pe=t.value,me=p.value,Ne=[],je=r.value&&r.value.treeNodes||[];function rt(){const xe=[];for(let Ve=je.length-1;Ve>=0;--Ve)xe.push(je[Ve]);for(;xe.length;){const Ve=xe.pop();if(!!Ve&&(me.has(Ve.key)||Ne.push(Ve),pe.has(Ve.key))){const ee=Ve.children;if(ee){const ne=ee.length;for(let le=ne-1;le>=0;--le)xe.push(ee[le])}}}}return rt(),Ne}),D=z(()=>S.value.length>0);function E(pe){const me=new Map,Ne=new Map;let je=1;function rt(Ve,ee=1,ne=void 0){var le;const de=[];for(let ye=0;ye<Ve.length;++ye){const q=Ve[ye],P=M(q),x={level:ee,key:P,data:q};x.label=O(q),x.parent=ne;const R=T(q);x.disabled=A(q),x.isLeaf=!R||R.length===0,R&&R.length&&(x.children=rt(R,ee+1,x)),de.push(x),me.set(P,x),Ne.has(ee)||Ne.set(ee,[]),(le=Ne.get(ee))==null||le.push(x)}return ee>je&&(je=ee),de}const xe=rt(pe);return{treeNodeMap:me,levelTreeNodeMap:Ne,maxLevel:je,treeNodes:xe}}function I(pe){const me=g(pe);me&&(t.value=me)}function T(pe){return pe[_.value]}function M(pe){return pe?pe[b.value]:""}function A(pe){return pe[C.value]}function O(pe){return pe[w.value]}function F(pe){t.value.has(pe.key)?X(pe):j(pe)}function U(pe,me){e(ege,pe.data,pe,me),V(pe),n.expandOnClickNode&&F(pe),n.showCheckbox&&n.checkOnClickNode&&!pe.disabled&&a(pe,!o(pe),!0)}function V(pe){Be(pe)||(i.value=pe.key,e(ige,pe.data,pe))}function G(pe,me){a(pe,me)}function j(pe){const me=t.value;if((r==null?void 0:r.value)&&n.accordion){const{treeNodeMap:Ne}=r.value;me.forEach(je=>{const rt=Ne.get(je);rt&&rt.level===rt.level&&me.delete(je)})}me.add(pe.key),e(tge,pe.data,pe)}function X(pe){t.value.delete(pe.key),e(nge,pe.data,pe)}function ie(pe){return t.value.has(pe.key)}function Ce(pe){return!!pe.disabled}function Be(pe){const me=i.value;return!!me&&me===pe.key}function we(){var pe,me;if(!!i.value)return(me=(pe=r==null?void 0:r.value)==null?void 0:pe.treeNodeMap.get(i.value))==null?void 0:me.data}function ke(){return i.value}function Se(pe){i.value=pe}function fe(pe){Nt(()=>r.value=E(pe))}return{tree:r,flattenTree:S,isNotEmpty:D,getKey:M,getChildren:T,toggleExpand:F,toggleCheckbox:a,isExpanded:ie,isChecked:o,isIndeterminate:s,isDisabled:Ce,isCurrent:Be,isForceHiddenExpandIcon:m,handleNodeClick:U,handleNodeCheck:G,getCurrentNode:we,getCurrentKey:ke,setCurrentKey:Se,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:f,filter:I,setData:fe}}var fit=Me({name:"ElTreeNodeContent",props:ait,setup(n){const e=mt(AU),t=dt("tree");return()=>{const i=n.node,{data:r}=i;return(e==null?void 0:e.ctx.slots.default)?e.ctx.slots.default({node:i,data:r}):st("span",{class:t.be("node","label")},[i==null?void 0:i.label])}}});const git="caret-right",pit=Me({name:"ElTreeNode",components:{ElIcon:cn,CaretRight:ide,ElCheckbox:Md,ElNodeContent:fit},props:oit,emits:uit,setup(n,{emit:e}){const t=mt(AU),i=dt("tree"),r=z(()=>{var c;return(c=t==null?void 0:t.props.indent)!=null?c:16}),s=z(()=>{var c;return(c=t==null?void 0:t.props.icon)!=null?c:git});return{ns:i,indent:r,icon:s,handleClick:c=>{e("click",n.node,c)},handleExpandIconClick:()=>{e("toggle",n.node)},handleCheckChange:c=>{e("check",n.node,c)},handleContextMenu:c=>{var d,h,f,g;((f=(h=(d=t==null?void 0:t.instance)==null?void 0:d.vnode)==null?void 0:h.props)==null?void 0:f.onNodeContextmenu)&&(c.stopPropagation(),c.preventDefault()),t==null||t.ctx.emit(oge,c,(g=n.node)==null?void 0:g.data,n.node)}}}}),mit=["aria-expanded","aria-disabled","aria-checked","data-key"];function vit(n,e,t,i,r,s){var o,a,l;const u=Te("el-icon"),c=Te("el-checkbox"),d=Te("el-node-content");return B(),te("div",{ref:"node$",class:Z([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.current),n.ns.is("focusable",!n.disabled),n.ns.is("checked",!n.disabled&&n.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.disabled,"aria-checked":n.checked,"data-key":(o=n.node)==null?void 0:o.key,onClick:e[1]||(e[1]=Ft((...h)=>n.handleClick&&n.handleClick(...h),["stop"])),onContextmenu:e[2]||(e[2]=(...h)=>n.handleContextMenu&&n.handleContextMenu(...h))},[oe("div",{class:Z(n.ns.be("node","content")),style:wt({paddingLeft:`${(n.node.level-1)*n.indent}px`})},[n.icon?(B(),Oe(u,{key:0,class:Z([n.ns.is("leaf",!!((a=n.node)==null?void 0:a.isLeaf)),n.ns.is("hidden",n.hiddenExpandIcon),{expanded:!((l=n.node)==null?void 0:l.isLeaf)&&n.expanded},n.ns.be("node","expand-icon")]),onClick:Ft(n.handleExpandIconClick,["stop"])},{default:De(()=>[(B(),Oe(Bn(n.icon)))]),_:1},8,["class","onClick"])):Fe("v-if",!0),n.showCheckbox?(B(),Oe(c,{key:1,"model-value":n.checked,indeterminate:n.indeterminate,disabled:n.disabled,onChange:n.handleCheckChange,onClick:e[0]||(e[0]=Ft(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled","onChange"])):Fe("v-if",!0),be(d,{node:n.node},null,8,["node"])],6)],42,mit)}var _it=at(pit,[["render",vit]]);const bit=Me({name:"ElTreeV2",components:{ElTreeNode:_it,FixedSizeList:Ife},props:sit,emits:lit,setup(n,e){vn(AU,{ctx:e,props:n,instance:en()});const{t}=Oi(),i=dt("tree"),{flattenTree:r,isNotEmpty:s,toggleExpand:o,isExpanded:a,isIndeterminate:l,isChecked:u,isDisabled:c,isCurrent:d,isForceHiddenExpandIcon:h,toggleCheckbox:f,handleNodeClick:g,handleNodeCheck:p,getCurrentNode:m,getCurrentKey:b,setCurrentKey:_,getCheckedKeys:C,getCheckedNodes:w,getHalfCheckedKeys:S,getHalfCheckedNodes:D,setChecked:E,setCheckedKeys:I,filter:T,setData:M}=hit(n,e.emit);return e.expose({getCurrentNode:m,getCurrentKey:b,setCurrentKey:_,getCheckedKeys:C,getCheckedNodes:w,getHalfCheckedKeys:S,getHalfCheckedNodes:D,setChecked:E,setCheckedKeys:I,filter:T,setData:M}),{t,ns:i,flattenTree:r,itemSize:26,isNotEmpty:s,toggleExpand:o,toggleCheckbox:f,isExpanded:a,isIndeterminate:l,isChecked:u,isDisabled:c,isCurrent:d,isForceHiddenExpandIcon:h,handleNodeClick:g,handleNodeCheck:p}}});function Cit(n,e,t,i,r,s){var o;const a=Te("el-tree-node"),l=Te("fixed-size-list");return B(),te("div",{class:Z([n.ns.b(),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[n.isNotEmpty?(B(),Oe(l,{key:0,"class-name":n.ns.b("virtual-list"),data:n.flattenTree,total:n.flattenTree.length,height:n.height,"item-size":n.itemSize,"perf-mode":n.perfMode},{default:De(({data:u,index:c,style:d})=>[(B(),Oe(a,{key:u[c].key,style:wt(d),node:u[c],expanded:n.isExpanded(u[c]),"show-checkbox":n.showCheckbox,checked:n.isChecked(u[c]),indeterminate:n.isIndeterminate(u[c]),disabled:n.isDisabled(u[c]),current:n.isCurrent(u[c]),"hidden-expand-icon":n.isForceHiddenExpandIcon(u[c]),onClick:n.handleNodeClick,onToggle:n.toggleExpand,onCheck:n.handleNodeCheck},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(B(),te("div",{key:1,class:Z(n.ns.e("empty-block"))},[oe("span",{class:Z(n.ns.e("empty-text"))},Je((o=n.emptyText)!=null?o:n.t("el.tree.emptyText")),3)],2))],2)}var yit=at(bit,[["render",Cit]]);const wit=wn(yit);function dte(n,e,t){let i;t.response?i=`${t.response.error||t.response}`:t.responseText?i=`${t.responseText}`:i=`fail to ${e.method} ${n} ${t.status}`;const r=new Error(i);return r.status=t.status,r.method=e.method,r.url=n,r}function Sit(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function age(n){if(typeof XMLHttpRequest=="undefined")return;const e=new XMLHttpRequest,t=n.action;e.upload&&(e.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),n.onProgress(o)});const i=new FormData;n.data&&Object.keys(n.data).forEach(s=>{i.append(s,n.data[s])}),i.append(n.filename,n.file,n.file.name),e.onerror=function(){n.onError(dte(t,n,e))},e.onload=function(){if(e.status<200||e.status>=300)return n.onError(dte(t,n,e));n.onSuccess(Sit(e))},e.open(n.method,t,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=n.headers||{};for(const s in r)uo(r,s)&&r[s]!==null&&e.setRequestHeader(s,r[s]);return r instanceof Headers&&r.forEach((s,o)=>{e.setRequestHeader(o,s)}),e.send(i),e}const Lit=Me({name:"ElUploadList",components:{ElProgress:yfe,ElIcon:cn,Document:$6e,Delete:A6e,Close:Td,ZoomIn:lde,Check:Ey,CircleCheck:IM},props:{files:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},handlePreview:{type:Function,default:()=>ur},listType:{type:String,default:"text"}},emits:["remove"],setup(n,{emit:e}){const{t}=Oi(),i=dt("upload"),r=dt("icon"),s=dt("list"),o=u=>{n.handlePreview(u)},a=u=>{u.target.focus()},l=u=>{e("remove",u)};return{focusing:J(!1),handleClick:o,handleRemove:l,onFileClicked:a,t,nsUpload:i,nsIcon:r,nsList:s}}}),kit=["onKeydown"],Eit=["src"],Dit=["onClick"],Iit=["onClick"],Tit=["onClick"];function Nit(n,e,t,i,r,s){const o=Te("document"),a=Te("el-icon"),l=Te("circle-check"),u=Te("check"),c=Te("close"),d=Te("el-progress"),h=Te("zoom-in"),f=Te("delete");return B(),Oe(xue,{tag:"ul",class:Z([n.nsUpload.b("list"),n.nsUpload.bm("list",n.listType),n.nsUpload.is("disabled",n.disabled)]),name:n.nsList.b()},{default:De(()=>[(B(!0),te(kt,null,$n(n.files,g=>(B(),te("li",{key:g.uid||g,class:Z([n.nsUpload.be("list","item"),n.nsUpload.is(g.status),{focusing:n.focusing}]),tabindex:"0",onKeydown:Cn(p=>!n.disabled&&n.handleRemove(g),["delete"]),onFocus:e[0]||(e[0]=p=>n.focusing=!0),onBlur:e[1]||(e[1]=p=>n.focusing=!1),onClick:e[2]||(e[2]=(...p)=>n.onFileClicked&&n.onFileClicked(...p))},[Xe(n.$slots,"default",{file:g},()=>[g.status!=="uploading"&&["picture-card","picture"].includes(n.listType)?(B(),te("img",{key:0,class:Z(n.nsUpload.be("list","item-thumbnail")),src:g.url,alt:""},null,10,Eit)):Fe("v-if",!0),oe("a",{class:Z(n.nsUpload.be("list","item-name")),onClick:p=>n.handleClick(g)},[be(a,{class:Z(n.nsIcon.m("document"))},{default:De(()=>[be(o)]),_:1},8,["class"]),xn(" "+Je(g.name),1)],10,Dit),oe("label",{class:Z(n.nsUpload.be("list","item-status-label"))},[n.listType==="text"?(B(),Oe(a,{key:0,class:Z([n.nsIcon.m("upload-success"),n.nsIcon.m("circle-check")])},{default:De(()=>[be(l)]),_:1},8,["class"])):["picture-card","picture"].includes(n.listType)?(B(),Oe(a,{key:1,class:Z([n.nsIcon.m("upload-success"),n.nsIcon.m("check")])},{default:De(()=>[be(u)]),_:1},8,["class"])):Fe("v-if",!0)],2),n.disabled?Fe("v-if",!0):(B(),Oe(a,{key:1,class:Z(n.nsIcon.m("close")),onClick:p=>n.handleRemove(g)},{default:De(()=>[be(c)]),_:2},1032,["class","onClick"])),Fe(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Fe(" This is a bug which needs to be fixed "),Fe(" TODO: Fix the incorrect navigation interaction "),n.disabled?Fe("v-if",!0):(B(),te("i",{key:2,class:Z(n.nsIcon.m("close-tip"))},Je(n.t("el.upload.deleteTip")),3)),g.status==="uploading"?(B(),Oe(d,{key:3,type:n.listType==="picture-card"?"circle":"line","stroke-width":n.listType==="picture-card"?6:2,percentage:+g.percentage,style:{"margin-top":"0.5rem"}},null,8,["type","stroke-width","percentage"])):Fe("v-if",!0),n.listType==="picture-card"?(B(),te("span",{key:4,class:Z(n.nsUpload.be("list","item-actions"))},[oe("span",{class:Z(n.nsUpload.be("list","item-preview")),onClick:p=>n.handlePreview(g)},[be(a,{class:Z(n.nsIcon.m("zoom-in"))},{default:De(()=>[be(h)]),_:1},8,["class"])],10,Iit),n.disabled?Fe("v-if",!0):(B(),te("span",{key:0,class:Z(n.nsUpload.be("list","item-delete")),onClick:p=>n.handleRemove(g)},[be(a,{class:Z(n.nsIcon.m("delete"))},{default:De(()=>[be(f)]),_:1},8,["class"])],10,Tit))],2)):Fe("v-if",!0)])],42,kit))),128))]),_:3},8,["class","name"])}var hte=at(Lit,[["render",Nit]]);const xit=Me({name:"ElUploadDrag",props:{disabled:{type:Boolean,default:!1}},emits:["file"],setup(n,{emit:e}){const t=mt("uploader",{}),i=dt("upload"),r=J(!1);function s(a){var l;if(n.disabled||!t)return;const u=((l=t.props)==null?void 0:l.accept)||t.accept;if(r.value=!1,!u){e("file",a.dataTransfer.files);return}e("file",Array.from(a.dataTransfer.files).filter(c=>{const{type:d,name:h}=c,f=h.indexOf(".")>-1?`.${h.split(".").pop()}`:"",g=d.replace(/\/.*$/,"");return u.split(",").map(p=>p.trim()).filter(p=>p).some(p=>p.startsWith(".")?f===p:/\/\*$/.test(p)?g===p.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(p)?d===p:!1)}))}function o(){n.disabled||(r.value=!0)}return{ns:i,dragover:r,onDrop:s,onDragover:o}}});function Mit(n,e,t,i,r,s){return B(),te("div",{class:Z([n.ns.b("dragger"),n.ns.is("dragover",n.dragover)]),onDrop:e[0]||(e[0]=Ft((...o)=>n.onDrop&&n.onDrop(...o),["prevent"])),onDragover:e[1]||(e[1]=Ft((...o)=>n.onDragover&&n.onDragover(...o),["prevent"])),onDragleave:e[2]||(e[2]=Ft(o=>n.dragover=!1,["prevent"]))},[Xe(n.$slots,"default")],34)}var Ait=at(xit,[["render",Mit]]);const Rit=Me({components:{UploadDragger:Ait},props:{type:{type:String,default:""},action:{type:String,required:!0},name:{type:String,default:"file"},data:{type:Object,default:()=>null},headers:{type:Object,default:()=>null},method:{type:String,default:"post"},withCredentials:{type:Boolean,default:!1},multiple:{type:Boolean,default:null},accept:{type:String,default:""},onStart:{type:Function,default:ur},onProgress:{type:Function,default:ur},onSuccess:{type:Function,default:ur},onError:{type:Function,default:ur},beforeUpload:{type:Function,default:ur},drag:{type:Boolean,default:!1},onPreview:{type:Function,default:ur},onRemove:{type:Function,default:ur},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:{type:Function,default:()=>age},disabled:Boolean,limit:{type:Number,default:null},onExceed:{type:Function,default:ur}},setup(n){const e=J({}),t=dt("upload"),i=J(!1),r=J(null);function s(h){if(n.limit&&n.fileList.length+h.length>n.limit){n.onExceed(h,n.fileList);return}let f=Array.from(h);n.multiple||(f=f.slice(0,1)),f.length!==0&&f.forEach(g=>{n.onStart(g),n.autoUpload&&o(g)})}function o(h){if(r.value.value=null,!n.beforeUpload)return l(h);const f=n.beforeUpload(h);f instanceof Promise?f.then(g=>{const p=Object.prototype.toString.call(g);if(p==="[object File]"||p==="[object Blob]"){p==="[object Blob]"&&(g=new File([g],h.name,{type:h.type}));for(const m in h)uo(h,m)&&(g[m]=h[m]);l(g)}else l(h)}).catch(()=>{n.onRemove(null,h)}):f!==!1?l(h):n.onRemove(null,h)}function a(h){const f=e.value;if(h){let g=h;h.uid&&(g=h.uid),f[g]&&f[g].abort()}else Object.keys(f).forEach(g=>{f[g]&&f[g].abort(),delete f[g]})}function l(h){const{uid:f}=h,g={headers:n.headers,withCredentials:n.withCredentials,file:h,data:n.data,method:n.method,filename:n.name,action:n.action,onProgress:m=>{n.onProgress(m,h)},onSuccess:m=>{n.onSuccess(m,h),delete e.value[f]},onError:m=>{n.onError(m,h),delete e.value[f]}},p=n.httpRequest(g);e.value[f]=p,p instanceof Promise&&p.then(g.onSuccess,g.onError)}function u(h){const f=h.target.files;!f||s(f)}function c(){n.disabled||(r.value.value=null,r.value.click())}function d(){c()}return{ns:t,reqs:e,mouseover:i,inputRef:r,abort:a,post:l,handleChange:u,handleClick:c,handleKeydown:d,upload:o,uploadFiles:s}}}),Oit=["name","multiple","accept"];function Pit(n,e,t,i,r,s){const o=Te("upload-dragger");return B(),te("div",{class:Z([n.ns.b(),n.ns.m(n.listType)]),tabindex:"0",onClick:e[1]||(e[1]=(...a)=>n.handleClick&&n.handleClick(...a)),onKeydown:e[2]||(e[2]=Cn(Ft((...a)=>n.handleKeydown&&n.handleKeydown(...a),["self"]),["enter","space"]))},[n.drag?(B(),Oe(o,{key:0,disabled:n.disabled,onFile:n.uploadFiles},{default:De(()=>[Xe(n.$slots,"default")]),_:3},8,["disabled","onFile"])):Xe(n.$slots,"default",{key:1}),oe("input",{ref:"inputRef",class:Z(n.ns.e("input")),type:"file",name:n.name,multiple:n.multiple,accept:n.accept,onChange:e[0]||(e[0]=(...a)=>n.handleChange&&n.handleChange(...a))},null,42,Oit)],34)}var fte=at(Rit,[["render",Pit]]);function iT(n,e){return e.find(t=>t.uid===n.uid)}function gte(n){return Date.now()+n}var Fit=n=>{const e=J([]),t=J(null);let i=1;function r(h){t.value.abort(h)}function s(h=["ready","uploading","success","fail"]){e.value=e.value.filter(f=>!h.includes(f.status))}function o(h,f){const g=iT(f,e.value);g.status="fail",e.value.splice(e.value.indexOf(g),1),n.onError(h,g,e.value),n.onChange(g,e.value)}function a(h,f){const g=iT(f,e.value);n.onProgress(h,g,e.value),g.status="uploading",g.percentage=h.percent||0}function l(h,f){const g=iT(f,e.value);g&&(g.status="success",g.response=h,n.onSuccess(h,g,e.value),n.onChange(g,e.value))}function u(h){const f=gte(i++);h.uid=f;const g={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:f};if(n.listType==="picture-card"||n.listType==="picture")try{g.url=URL.createObjectURL(h)}catch(p){console.error("[Element Error][Upload]",p),n.onError(p,g,e.value)}e.value.push(g),n.onChange(g,e.value)}function c(h,f){f&&(h=iT(f,e.value));const g=()=>{h.url&&h.url.indexOf("blob:")===0&&URL.revokeObjectURL(h.url)},p=()=>{r(h);const m=e.value;m.splice(m.indexOf(h),1),n.onRemove(h,m),g()};if(!n.beforeRemove)p();else if(typeof n.beforeRemove=="function"){const m=n.beforeRemove(h,e.value);m instanceof Promise?m.then(()=>{p()}).catch(ur):m!==!1&&p()}}function d(){e.value.filter(h=>h.status==="ready").forEach(h=>{t.value.upload(h.raw)})}return Ze(()=>n.listType,h=>{(h==="picture-card"||h==="picture")&&(e.value=e.value.map(f=>{if(!f.url&&f.raw)try{f.url=URL.createObjectURL(f.raw)}catch(g){n.onError(g,f,e.value)}return f}))}),Ze(()=>n.fileList,h=>{e.value=h.map(f=>{const g=f5e(f);return gn(Dt({},g),{uid:f.uid||gte(i++),status:f.status||"success"})})},{immediate:!0,deep:!0}),{abort:r,clearFiles:s,handleError:o,handleProgress:a,handleStart:u,handleSuccess:l,handleRemove:c,submit:d,uploadFiles:e,uploadRef:t}};const ox=Me({name:"ElUpload",components:{Upload:fte,UploadList:hte},props:{action:{type:String,required:!0},headers:{type:Object,default:()=>({})},method:{type:String,default:"post"},data:{type:Object,default:()=>({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},beforeUpload:{type:Function,default:ur},beforeRemove:{type:Function,default:ur},onRemove:{type:Function,default:ur},onChange:{type:Function,default:ur},onPreview:{type:Function,default:ur},onSuccess:{type:Function,default:ur},onProgress:{type:Function,default:ur},onError:{type:Function,default:ur},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:{type:Function,default:age},disabled:Boolean,limit:{type:Number,default:null},onExceed:{type:Function,default:()=>ur}},setup(n){const e=mt(Zl,{}),t=z(()=>n.disabled||e.disabled),{abort:i,clearFiles:r,handleError:s,handleProgress:o,handleStart:a,handleSuccess:l,handleRemove:u,submit:c,uploadRef:d,uploadFiles:h}=Fit(n);return vn("uploader",en()),Er(()=>{h.value.forEach(f=>{f.url&&f.url.indexOf("blob:")===0&&URL.revokeObjectURL(f.url)})}),{abort:i,dragOver:J(!1),draging:J(!1),handleError:s,handleProgress:o,handleRemove:u,handleStart:a,handleSuccess:l,uploadDisabled:t,uploadFiles:h,uploadRef:d,submit:c,clearFiles:r}},render(){var n,e;let t;this.showFileList?t=st(hte,{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,onRemove:this.handleRemove,handlePreview:this.onPreview},this.$slots.file?{default:o=>this.$slots.file({file:o.file})}:null):t=null;const i={type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,method:this.method,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest,ref:"uploadRef"},r=this.$slots.trigger||this.$slots.default,s=st(fte,i,{default:()=>r==null?void 0:r()});return st("div",[this.listType==="picture-card"?t:null,this.$slots.trigger?[s,this.$slots.default()]:s,(e=(n=this.$slots).tip)==null?void 0:e.call(n),this.listType!=="picture-card"?t:null])}});ox.install=n=>{n.component(ox.name,ox)};const Bit=ox,$it=Bit;var Vit=[C7e,N7e,sWe,hWe,_We,ihe,MWe,AWe,hf,lhe,zHe,qHe,nze,ize,yUe,oUe,DUe,Md,wze,Lhe,NUe,HUe,zUe,PUe,mje,bje,xje,Mje,Aje,Rje,Oje,fGe,CGe,yGe,TGe,RGe,UGe,Hqe,zqe,Uqe,IYe,gXe,pXe,cn,xXe,dfe,zc,hfe,zXe,cZe,dZe,hZe,_Ze,_Qe,SQe,NQe,nhe,yfe,Nhe,$ze,Bze,qQe,JQe,nJe,rp,$O,bfe,qZe,qJe,uet,cet,Iet,Oet,Wet,Het,ett,tnt,nnt,mnt,vnt,PO,DHe,Snt,Int,Tnt,Ql,znt,iit,wit,$it];const cd="ElInfiniteScroll",Wit=50,Hit=200,zit=0,Uit={delay:{type:Number,default:Hit},distance:{type:Number,default:zit},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},RU=(n,e)=>Object.entries(Uit).reduce((t,[i,r])=>{var s,o;const{type:a,default:l}=r,u=n.getAttribute(`infinite-scroll-${i}`);let c=(o=(s=e[u])!=null?s:u)!=null?o:l;return c=c==="false"?!1:c,c=a(c),t[i]=Number.isNaN(c)?l:c,t},{}),lge=n=>{const{observer:e}=n[cd];e&&(e.disconnect(),delete n[cd].observer)},jit=(n,e)=>{const{container:t,containerEl:i,instance:r,observer:s,lastScrollTop:o}=n[cd],{disabled:a,distance:l}=RU(n,r),{clientHeight:u,scrollHeight:c,scrollTop:d}=i,h=d-o;if(n[cd].lastScrollTop=d,s||a||h<0)return;let f=!1;if(t===n)f=c-(u+d)<=l;else{const{clientTop:g,scrollHeight:p}=n,m=NFe(n,i);f=d+u>=m+g+p-l}f&&e.call(r)};function vF(n,e){const{containerEl:t,instance:i}=n[cd],{disabled:r}=RU(n,i);r||t.clientHeight===0||(t.scrollHeight<=t.clientHeight?e.call(i):lge(n))}const Kit={async mounted(n,e){const{instance:t,value:i}=e;xl(i)||ca(cd,"'v-infinite-scroll' binding value must be a function"),await Nt();const{delay:r,immediate:s}=RU(n,t),o=Xz(n,!0),a=o===window?document.documentElement:o,l=J0(jit.bind(null,n,i),r);if(!!o){if(n[cd]={instance:t,container:o,containerEl:a,delay:r,cb:i,onScroll:l,lastScrollTop:a.scrollTop},s){const u=new MutationObserver(J0(vF.bind(null,n,i),Wit));n[cd].observer=u,u.observe(n,{childList:!0,subtree:!0}),vF(n,i)}o.addEventListener("scroll",l)}},unmounted(n){const{container:e,onScroll:t}=n[cd];e==null||e.removeEventListener("scroll",t),lge(n)},async updated(n){n[cd]||await Nt();const{containerEl:e,cb:t,observer:i}=n[cd];e.clientHeight&&i&&vF(n,t)}},S9=Kit;S9.install=n=>{n.directive("InfiniteScroll",S9)};const Git=S9;function qit(n){let e;const t=J(!1),i=xi(gn(Dt({},n),{originalPosition:"",originalOverflow:"",visible:!1}));function r(d){i.text=d}function s(){const d=i.parent;if(!d.vLoadingAddClassList){let h=d.getAttribute("loading-number");h=Number.parseInt(h)-1,h?d.setAttribute("loading-number",h.toString()):(Pl(d,"el-loading-parent--relative"),d.removeAttribute("loading-number")),Pl(d,"el-loading-parent--hidden")}o()}function o(){var d,h;(h=(d=c.$el)==null?void 0:d.parentNode)==null||h.removeChild(c.$el)}function a(){var d;if(n.beforeClose&&!n.beforeClose())return;const h=i.parent;h.vLoadingAddClassList=void 0,t.value=!0,clearTimeout(e),e=window.setTimeout(()=>{t.value&&(t.value=!1,s())},400),i.visible=!1,(d=n.closed)==null||d.call(n)}function l(){!t.value||(t.value=!1,s())}const c=Bue({name:"ElLoading",setup(){return()=>{const d=i.spinner||i.svg,h=st("svg",Dt({class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"25 25 50 50"},d?{innerHTML:d}:{}),[st("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),f=i.text?st("p",{class:"el-loading-text"},[i.text]):void 0;return st(Cs,{name:"el-loading-fade",onAfterLeave:l},{default:De(()=>[Ht(be("div",{style:{backgroundColor:i.background||""},class:["el-loading-mask",i.customClass,i.fullscreen?"is-fullscreen":""]},[st("div",{class:"el-loading-spinner"},[h,f])]),[[zn,i.visible]])])})}}}).mount(document.createElement("div"));return gn(Dt({},Ko(i)),{setText:r,remvoeElLoadingChild:o,close:a,handleAfterLeave:l,vm:c,get $el(){return c.$el}})}let TS;const L9=function(n={}){if(!Kn)return;const e=Yit(n);e.fullscreen&&TS&&(TS.remvoeElLoadingChild(),TS.close());const t=qit(gn(Dt({},e),{closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(TS=void 0)}}));Xit(e,e.parent,t),pte(e,e.parent,t),e.parent.vLoadingAddClassList=()=>pte(e,e.parent,t);let i=e.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",e.parent.setAttribute("loading-number",i),e.parent.appendChild(t.$el),Nt(()=>t.visible.value=e.visible),e.fullscreen&&(TS=t),t},Yit=n=>{var e,t,i,r;let s;return Or(n.target)?s=(e=document.querySelector(n.target))!=null?e:document.body:s=n.target||document.body,{parent:s===document.body||n.body?document.body:s,background:n.background||"",svg:n.svg||"",svgViewBox:n.svgViewBox||"",spinner:n.spinner||!1,text:n.text||"",fullscreen:s===document.body&&((t=n.fullscreen)!=null?t:!0),lock:(i=n.lock)!=null?i:!1,customClass:n.customClass||"",visible:(r=n.visible)!=null?r:!0,target:s}},Xit=async(n,e,t)=>{const{nextZIndex:i}=yv(),r={};if(n.fullscreen)t.originalPosition.value=kh(document.body,"position"),t.originalOverflow.value=kh(document.body,"overflow"),r.zIndex=i();else if(n.parent===document.body){t.originalPosition.value=kh(document.body,"position"),await Nt();for(const s of["top","left"]){const o=s==="top"?"scrollTop":"scrollLeft";r[s]=`${n.target.getBoundingClientRect()[s]+document.body[o]+document.documentElement[o]-parseInt(kh(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])r[s]=`${n.target.getBoundingClientRect()[s]}px`}else t.originalPosition.value=kh(e,"position");for(const[s,o]of Object.entries(r))t.$el.style[s]=o},pte=(n,e,t)=>{t.originalPosition.value!=="absolute"&&t.originalPosition.value!=="fixed"?Rh(e,"el-loading-parent--relative"):Pl(e,"el-loading-parent--relative"),n.fullscreen&&n.lock?Rh(e,"el-loading-parent--hidden"):Pl(e,"el-loading-parent--hidden")},k9=Symbol("ElLoading"),mte=(n,e)=>{var t,i,r,s;const o=e.instance,a=h=>so(e.value)?e.value[h]:void 0,l=h=>{const f=Or(h)&&(o==null?void 0:o[h])||h;return f&&J(f)},u=h=>l(a(h)||n.getAttribute(`element-loading-${FFe(h)}`)),c=(t=a("fullscreen"))!=null?t:e.modifiers.fullscreen,d={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(i=a("target"))!=null?i:c?void 0:n,body:(r=a("body"))!=null?r:e.modifiers.body,lock:(s=a("lock"))!=null?s:e.modifiers.lock};n[k9]={options:d,instance:L9(d)}},Zit=(n,e)=>{for(const t of Object.keys(e))es(e[t])&&(e[t].value=n[t])},vte={mounted(n,e){e.value&&mte(n,e)},updated(n,e){const t=n[k9];e.oldValue!==e.value&&(e.value&&!e.oldValue?mte(n,e):e.value&&e.oldValue?so(e.value)&&Zit(e.value,t.options):t==null||t.instance.close())},unmounted(n){var e;(e=n[k9])==null||e.instance.close()}},Qit={install(n){n.directive("loading",vte),n.config.globalProperties.$loading=L9},directive:vte,service:L9},uge=["success","info","warning","error"],Jit=Wt({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:Ma,default:""},id:{type:String,default:""},message:{type:It([String,Object]),default:""},onClose:{type:It(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:uge,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),ert={destroy:()=>!0},trt=Me({name:"ElMessage",components:Dt({ElBadge:ihe,ElIcon:cn},TO),props:Jit,emits:ert,setup(n){const e=dt("message"),t=J(!1),i=J(n.type?n.type==="error"?"danger":n.type:"info");let r;const s=z(()=>{const h=n.type;return{[e.bm("icon",h)]:h&&jg[h]}}),o=z(()=>n.icon||jg[n.type]||""),a=z(()=>({top:`${n.offset}px`,zIndex:n.zIndex}));function l(){n.duration>0&&({stop:r}=ky(()=>{t.value&&c()},n.duration))}function u(){r==null||r()}function c(){t.value=!1}function d({code:h}){h===Ct.esc?t.value&&c():l()}return rn(()=>{l(),t.value=!0}),Ze(()=>n.repeatNum,()=>{u(),l()}),no(document,"keydown",d),{ns:e,typeClass:s,iconComponent:o,customStyle:a,visible:t,badgeType:i,close:c,clearTimer:u,startTimer:l}}}),nrt=["id"],irt=["innerHTML"];function rrt(n,e,t,i,r,s){const o=Te("el-badge"),a=Te("el-icon"),l=Te("close");return B(),Oe(Cs,{name:n.ns.b("fade"),onBeforeLeave:n.onClose,onAfterLeave:e[2]||(e[2]=u=>n.$emit("destroy"))},{default:De(()=>[Ht(oe("div",{id:n.id,class:Z([n.ns.b(),{[n.ns.m(n.type)]:n.type&&!n.icon},n.ns.is("center",n.center),n.ns.is("closable",n.showClose),n.customClass]),style:wt(n.customStyle),role:"alert",onMouseenter:e[0]||(e[0]=(...u)=>n.clearTimer&&n.clearTimer(...u)),onMouseleave:e[1]||(e[1]=(...u)=>n.startTimer&&n.startTimer(...u))},[n.repeatNum>1?(B(),Oe(o,{key:0,value:n.repeatNum,type:n.badgeType,class:Z(n.ns.e("badge"))},null,8,["value","type","class"])):Fe("v-if",!0),n.iconComponent?(B(),Oe(a,{key:1,class:Z([n.ns.e("icon"),n.typeClass])},{default:De(()=>[(B(),Oe(Bn(n.iconComponent)))]),_:1},8,["class"])):Fe("v-if",!0),Xe(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(B(),te(kt,{key:1},[Fe(" Caution here, message could've been compromised, never use user's input as message "),oe("p",{class:Z(n.ns.e("content")),innerHTML:n.message},null,10,irt)],2112)):(B(),te("p",{key:0,class:Z(n.ns.e("content"))},Je(n.message),3))]),n.showClose?(B(),Oe(a,{key:2,class:Z(n.ns.e("closeBtn")),onClick:Ft(n.close,["stop"])},{default:De(()=>[be(l)]),_:1},8,["class","onClick"])):Fe("v-if",!0)],46,nrt),[[zn,n.visible]])]),_:3},8,["name","onBeforeLeave"])}var srt=at(trt,[["render",rrt]]);const fu=[];let ort=1;const VM=function(n={}){if(!Kn)return{close:()=>{}};if(ei(r9.max)&&fu.length>=r9.max)return{close:()=>{}};if(!Rr(n)&&typeof n=="object"&&n.grouping&&!Rr(n.message)&&fu.length){const c=fu.find(d=>{var h,f,g;return`${(f=(h=d.vm.props)==null?void 0:h.message)!=null?f:""}`==`${(g=n.message)!=null?g:""}`});if(c)return c.vm.component.props.repeatNum+=1,c.vm.component.props.type=n==null?void 0:n.type,{close:()=>u.component.proxy.visible=!1}}(typeof n=="string"||Rr(n))&&(n={message:n});let e=n.offset||20;fu.forEach(({vm:c})=>{var d;e+=(((d=c.el)==null?void 0:d.offsetHeight)||0)+16}),e+=16;const{nextZIndex:t}=yv(),i=`message_${ort++}`,r=n.onClose,s=gn(Dt({zIndex:t(),offset:e},n),{id:i,onClose:()=>{art(i,r)}});let o=document.body;n.appendTo instanceof HTMLElement?o=n.appendTo:typeof n.appendTo=="string"&&(o=document.querySelector(n.appendTo)),o instanceof HTMLElement||(o=document.body);const a=document.createElement("div");a.className=`container_${i}`;const l=s.message,u=be(srt,s,Rr(s.message)?{default:()=>l}:null);return u.props.onDestroy=()=>{Vg(null,a)},Vg(u,a),fu.push({vm:u}),o.appendChild(a.firstElementChild),{close:()=>u.component.proxy.visible=!1}};uge.forEach(n=>{VM[n]=(e={})=>((typeof e=="string"||Rr(e))&&(e={message:e}),VM(gn(Dt({},e),{type:n})))});function art(n,e){const t=fu.findIndex(({vm:o})=>n===o.component.props.id);if(t===-1)return;const{vm:i}=fu[t];if(!i)return;e==null||e(i);const r=i.el.offsetHeight;fu.splice(t,1);const s=fu.length;if(!(s<1))for(let o=t;o<s;o++){const a=parseInt(fu[o].vm.el.style.top,10)-r-16;fu[o].vm.component.props.offset=a}}function lrt(){var n;for(let e=fu.length-1;e>=0;e--){const t=fu[e].vm.component;(n=t==null?void 0:t.proxy)==null||n.close()}}VM.closeAll=lrt;const urt=cde(VM,"$message"),crt=Me({name:"ElMessageBox",directives:{TrapFocus:iU},components:Dt({ElButton:hf,ElInput:zc,ElOverlay:_U,ElIcon:cn},TO),inheritAttrs:!1,props:{buttonSize:{type:String,validator:zl},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(n,{emit:e}){const{t}=Oi(),i=J(!1),{nextZIndex:r}=yv(),s=xi({beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:r()}),o=z(()=>{const I=s.type;return I&&jg[I]?`el-message-box-icon--${I}`:""}),a=As(z(()=>n.buttonSize),{prop:!0,form:!0,formItem:!0}),l=z(()=>s.icon||jg[s.type]||""),u=z(()=>!!s.message),c=J(),d=J(),h=J(),f=J(),g=z(()=>s.confirmButtonClass);Ze(()=>s.inputValue,async I=>{await Nt(),n.boxType==="prompt"&&I!==null&&S()},{immediate:!0}),Ze(()=>i.value,I=>{I&&((n.boxType==="alert"||n.boxType==="confirm")&&Nt().then(()=>{var T,M,A;(A=(M=(T=f.value)==null?void 0:T.$el)==null?void 0:M.focus)==null||A.call(M)}),s.zIndex=r()),n.boxType==="prompt"&&(I?Nt().then(()=>{h.value&&h.value.$el&&D().focus()}):(s.editorErrorMessage="",s.validateError=!1))});const p=z(()=>n.draggable);Lde(c,d,p),rn(async()=>{await Nt(),n.closeOnHashChange&&Vi(window,"hashchange",m)}),Er(()=>{n.closeOnHashChange&&Lr(window,"hashchange",m)});function m(){!i.value||(i.value=!1,Nt(()=>{s.action&&e("action",s.action)}))}const b=()=>{n.closeOnClickModal&&w(s.distinguishCancelAndClose?"close":"cancel")},_=nU(b),C=()=>{if(s.inputType!=="textarea")return w("confirm")},w=I=>{var T;n.boxType==="prompt"&&I==="confirm"&&!S()||(s.action=I,s.beforeClose?(T=s.beforeClose)==null||T.call(s,I,s,m):m())},S=()=>{if(n.boxType==="prompt"){const I=s.inputPattern;if(I&&!I.test(s.inputValue||""))return s.editorErrorMessage=s.inputErrorMessage||t("el.messagebox.error"),s.validateError=!0,!1;const T=s.inputValidator;if(typeof T=="function"){const M=T(s.inputValue);if(M===!1)return s.editorErrorMessage=s.inputErrorMessage||t("el.messagebox.error"),s.validateError=!0,!1;if(typeof M=="string")return s.editorErrorMessage=M,s.validateError=!0,!1}}return s.editorErrorMessage="",s.validateError=!1,!0},D=()=>{const I=h.value.$refs;return I.input||I.textarea},E=()=>{w("close")};return n.closeOnPressEscape?Ede({handleClose:E},i):J9e(i,"keydown",I=>I.code===Ct.esc),n.lockScroll&&kde(i),Ide(i),gn(Dt({},Ko(s)),{overlayEvent:_,visible:i,hasMessage:u,typeClass:o,btnSize:a,iconComponent:l,confirmButtonClasses:g,rootRef:c,headerRef:d,inputRef:h,confirmRef:f,doClose:m,handleClose:E,handleWrapperClick:b,handleInputEnter:C,handleAction:w,t})}}),drt=["aria-label"],hrt={key:0,ref:"headerRef",class:"el-message-box__header"},frt={class:"el-message-box__title"},grt={class:"el-message-box__content"},prt={class:"el-message-box__container"},mrt={key:1,class:"el-message-box__message"},vrt={key:0},_rt=["innerHTML"],brt={class:"el-message-box__input"},Crt={class:"el-message-box__btns"};function yrt(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("close"),l=Te("el-input"),u=Te("el-button"),c=Te("el-overlay"),d=xa("trap-focus");return B(),Oe(Cs,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=h=>n.$emit("vanish"))},{default:De(()=>[Ht(be(c,{"z-index":n.zIndex,"overlay-class":["is-message-box",n.modalClass],mask:n.modal},{default:De(()=>[oe("div",{class:"el-overlay-message-box",onClick:e[8]||(e[8]=(...h)=>n.overlayEvent.onClick&&n.overlayEvent.onClick(...h)),onMousedown:e[9]||(e[9]=(...h)=>n.overlayEvent.onMousedown&&n.overlayEvent.onMousedown(...h)),onMouseup:e[10]||(e[10]=(...h)=>n.overlayEvent.onMouseup&&n.overlayEvent.onMouseup(...h))},[Ht((B(),te("div",{ref:"rootRef",role:"dialog","aria-label":n.title||"dialog","aria-modal":"true",class:Z(["el-message-box",n.customClass,{"el-message-box--center":n.center,"is-draggable":n.draggable}]),style:wt(n.customStyle),onClick:e[7]||(e[7]=Ft(()=>{},["stop"]))},[n.title!==null&&n.title!==void 0?(B(),te("div",hrt,[oe("div",frt,[n.iconComponent&&n.center?(B(),Oe(o,{key:0,class:Z(["el-message-box__status",n.typeClass])},{default:De(()=>[(B(),Oe(Bn(n.iconComponent)))]),_:1},8,["class"])):Fe("v-if",!0),oe("span",null,Je(n.title),1)]),n.showClose?(B(),te("button",{key:0,type:"button",class:"el-message-box__headerbtn","aria-label":"Close",onClick:e[0]||(e[0]=h=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Cn(Ft(h=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[be(o,{class:"el-message-box__close"},{default:De(()=>[be(a)]),_:1})],32)):Fe("v-if",!0)],512)):Fe("v-if",!0),oe("div",grt,[oe("div",prt,[n.iconComponent&&!n.center&&n.hasMessage?(B(),Oe(o,{key:0,class:Z(["el-message-box__status",n.typeClass])},{default:De(()=>[(B(),Oe(Bn(n.iconComponent)))]),_:1},8,["class"])):Fe("v-if",!0),n.hasMessage?(B(),te("div",mrt,[Xe(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(B(),te("p",{key:1,innerHTML:n.message},null,8,_rt)):(B(),te("p",vrt,Je(n.message),1))])])):Fe("v-if",!0)]),Ht(oe("div",brt,[be(l,{ref:"inputRef",modelValue:n.inputValue,"onUpdate:modelValue":e[2]||(e[2]=h=>n.inputValue=h),type:n.inputType,placeholder:n.inputPlaceholder,class:Z({invalid:n.validateError}),onKeydown:Cn(Ft(n.handleInputEnter,["prevent"]),["enter"])},null,8,["modelValue","type","placeholder","class","onKeydown"]),oe("div",{class:"el-message-box__errormsg",style:wt({visibility:n.editorErrorMessage?"visible":"hidden"})},Je(n.editorErrorMessage),5)],512),[[zn,n.showInput]])]),oe("div",Crt,[n.showCancelButton?(B(),Oe(u,{key:0,loading:n.cancelButtonLoading,class:Z([n.cancelButtonClass]),round:n.roundButton,size:n.btnSize,onClick:e[3]||(e[3]=h=>n.handleAction("cancel")),onKeydown:e[4]||(e[4]=Cn(Ft(h=>n.handleAction("cancel"),["prevent"]),["enter"]))},{default:De(()=>[xn(Je(n.cancelButtonText||n.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):Fe("v-if",!0),Ht(be(u,{ref:"confirmRef",type:"primary",loading:n.confirmButtonLoading,class:Z([n.confirmButtonClasses]),round:n.roundButton,disabled:n.confirmButtonDisabled,size:n.btnSize,onClick:e[5]||(e[5]=h=>n.handleAction("confirm")),onKeydown:e[6]||(e[6]=Cn(Ft(h=>n.handleAction("confirm"),["prevent"]),["enter"]))},{default:De(()=>[xn(Je(n.confirmButtonText||n.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[zn,n.showConfirmButton]])])],14,drt)),[[d]])],32)]),_:3},8,["z-index","overlay-class","mask"]),[[zn,n.visible]])]),_:3})}var wrt=at(crt,[["render",yrt]]);const lk=new Map,Srt=(n,e)=>{const t=st(wrt,n);return Vg(t,e),document.body.appendChild(e.firstElementChild),t.component},Lrt=()=>document.createElement("div"),krt=n=>{const e=Lrt();n.onVanish=()=>{Vg(null,e),lk.delete(i)},n.onAction=r=>{const s=lk.get(i);let o;n.showInput?o={value:i.inputValue,action:r}:o=r,n.callback?n.callback(o,t.proxy):r==="cancel"||r==="close"?n.distinguishCancelAndClose&&r!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(o)};const t=Srt(n,e),i=t.proxy;for(const r in n)uo(n,r)&&!uo(i.$props,r)&&(i[r]=n[r]);return Ze(()=>i.message,(r,s)=>{Rr(r)?t.slots.default=()=>[r]:Rr(s)&&!Rr(r)&&delete t.slots.default},{immediate:!0}),i.visible=!0,i};function zm(n){if(!Kn)return;let e;return Or(n)||Rr(n)?n={message:n}:e=n.callback,new Promise((t,i)=>{const r=krt(n);lk.set(r,{options:n,callback:e,resolve:t,reject:i})})}zm.alert=(n,e,t)=>(typeof e=="object"?(t=e,e=""):e===void 0&&(e=""),zm(Object.assign({title:e,message:n,type:"",closeOnPressEscape:!1,closeOnClickModal:!1},t,{boxType:"alert"})));zm.confirm=(n,e,t)=>(typeof e=="object"?(t=e,e=""):e===void 0&&(e=""),zm(Object.assign({title:e,message:n,type:"",showCancelButton:!0},t,{boxType:"confirm"})));zm.prompt=(n,e,t)=>(typeof e=="object"?(t=e,e=""):e===void 0&&(e=""),zm(Object.assign({title:e,message:n,showCancelButton:!0,showInput:!0,type:""},t,{boxType:"prompt"})));zm.close=()=>{lk.forEach((n,e)=>{e.doClose()}),lk.clear()};const s0=zm;s0.install=n=>{n.config.globalProperties.$msgbox=s0,n.config.globalProperties.$messageBox=s0,n.config.globalProperties.$alert=s0.alert,n.config.globalProperties.$confirm=s0.confirm,n.config.globalProperties.$prompt=s0.prompt};const Ert=s0,cge=["success","info","warning","error"],Drt=Wt({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:It([String,Object]),default:""},id:{type:String,default:""},message:{type:It([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:It(Function),default:()=>{}},onClose:{type:It(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...cge,""],default:""},zIndex:{type:Number,default:0}}),Irt={destroy:()=>!0},Trt=Me({name:"ElNotification",components:Dt({ElIcon:cn},TO),props:Drt,emits:Irt,setup(n){const e=dt("notification"),t=J(!1);let i;const r=z(()=>{const f=n.type;return f&&jg[n.type]?e.m(f):""}),s=z(()=>jg[n.type]||n.icon||""),o=z(()=>n.position.endsWith("right")?"right":"left"),a=z(()=>n.position.startsWith("top")?"top":"bottom"),l=z(()=>({[a.value]:`${n.offset}px`,zIndex:n.zIndex}));function u(){n.duration>0&&({stop:i}=ky(()=>{t.value&&d()},n.duration))}function c(){i==null||i()}function d(){t.value=!1}function h({code:f}){f===Ct.delete||f===Ct.backspace?c():f===Ct.esc?t.value&&d():u()}return rn(()=>{u(),t.value=!0}),no(document,"keydown",h),{ns:e,horizontalClass:o,typeClass:r,iconComponent:s,positionStyle:l,visible:t,close:d,clearTimer:c,startTimer:u}}}),Nrt=["id"],xrt=["textContent"],Mrt={key:0},Art=["innerHTML"];function Rrt(n,e,t,i,r,s){const o=Te("el-icon"),a=Te("close");return B(),Oe(Cs,{name:n.ns.b("fade"),onBeforeLeave:n.onClose,onAfterLeave:e[3]||(e[3]=l=>n.$emit("destroy"))},{default:De(()=>[Ht(oe("div",{id:n.id,class:Z([n.ns.b(),n.customClass,n.horizontalClass]),style:wt(n.positionStyle),role:"alert",onMouseenter:e[0]||(e[0]=(...l)=>n.clearTimer&&n.clearTimer(...l)),onMouseleave:e[1]||(e[1]=(...l)=>n.startTimer&&n.startTimer(...l)),onClick:e[2]||(e[2]=(...l)=>n.onClick&&n.onClick(...l))},[n.iconComponent?(B(),Oe(o,{key:0,class:Z([n.ns.e("icon"),n.typeClass])},{default:De(()=>[(B(),Oe(Bn(n.iconComponent)))]),_:1},8,["class"])):Fe("v-if",!0),oe("div",{class:Z(n.ns.e("group"))},[oe("h2",{class:Z(n.ns.e("title")),textContent:Je(n.title)},null,10,xrt),Ht(oe("div",{class:Z(n.ns.e("content")),style:wt(n.title?void 0:{margin:0})},[Xe(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(B(),te(kt,{key:1},[Fe(" Caution here, message could've been compromized, nerver use user's input as message "),Fe(" eslint-disable-next-line "),oe("p",{innerHTML:n.message},null,8,Art)],2112)):(B(),te("p",Mrt,Je(n.message),1))])],6),[[zn,n.message]]),n.showClose?(B(),Oe(o,{key:0,class:Z(n.ns.e("closeBtn")),onClick:Ft(n.close,["stop"])},{default:De(()=>[be(a)]),_:1},8,["class","onClick"])):Fe("v-if",!0)],2)],46,Nrt),[[zn,n.visible]])]),_:3},8,["name","onBeforeLeave"])}var Ort=at(Trt,[["render",Rrt]]);const WM={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},E9=16;let Prt=1;const HM=function(n={}){if(!Kn)return{close:()=>{}};(typeof n=="string"||Rr(n))&&(n={message:n});const e=n.position||"top-right";let t=n.offset||0;WM[e].forEach(({vm:c})=>{var d;t+=(((d=c.el)==null?void 0:d.offsetHeight)||0)+E9}),t+=E9;const{nextZIndex:i}=yv(),r=`notification_${Prt++}`,s=n.onClose,o=gn(Dt({zIndex:i(),offset:t},n),{id:r,onClose:()=>{Frt(r,e,s)}});let a=document.body;n.appendTo instanceof HTMLElement?a=n.appendTo:typeof n.appendTo=="string"&&(a=document.querySelector(n.appendTo)),a instanceof HTMLElement||(a=document.body);const l=document.createElement("div"),u=be(Ort,o,Rr(o.message)?{default:()=>o.message}:null);return u.props.onDestroy=()=>{Vg(null,l)},Vg(u,l),WM[e].push({vm:u}),a.appendChild(l.firstElementChild),{close:()=>{u.component.proxy.visible=!1}}};cge.forEach(n=>{HM[n]=(e={})=>((typeof e=="string"||Rr(e))&&(e={message:e}),HM(gn(Dt({},e),{type:n})))});function Frt(n,e,t){const i=WM[e],r=i.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===n});if(r===-1)return;const{vm:s}=i[r];if(!s)return;t==null||t(s);const o=s.el.offsetHeight,a=e.split("-")[0];i.splice(r,1);const l=i.length;if(!(l<1))for(let u=r;u<l;u++){const{el:c,component:d}=i[u].vm,h=parseInt(c.style[a],10)-o-E9;d.props.offset=h}}function Brt(){for(const n of Object.values(WM))n.forEach(({vm:e})=>{e.component.proxy.visible=!1})}HM.closeAll=Brt;const $rt=cde(HM,"$notify");var Vrt=[Git,Qit,urt,Ert,$rt,xQe],dge=g7e([...Vit,...Vrt]);dge.install;dge.version;var z$t={name:"zh-cn",el:{colorpicker:{confirm:"\u786E\u5B9A",clear:"\u6E05\u7A7A"},datepicker:{now:"\u6B64\u523B",today:"\u4ECA\u5929",cancel:"\u53D6\u6D88",clear:"\u6E05\u7A7A",confirm:"\u786E\u5B9A",selectDate:"\u9009\u62E9\u65E5\u671F",selectTime:"\u9009\u62E9\u65F6\u95F4",startDate:"\u5F00\u59CB\u65E5\u671F",startTime:"\u5F00\u59CB\u65F6\u95F4",endDate:"\u7ED3\u675F\u65E5\u671F",endTime:"\u7ED3\u675F\u65F6\u95F4",prevYear:"\u524D\u4E00\u5E74",nextYear:"\u540E\u4E00\u5E74",prevMonth:"\u4E0A\u4E2A\u6708",nextMonth:"\u4E0B\u4E2A\u6708",year:"\u5E74",month1:"1 \u6708",month2:"2 \u6708",month3:"3 \u6708",month4:"4 \u6708",month5:"5 \u6708",month6:"6 \u6708",month7:"7 \u6708",month8:"8 \u6708",month9:"9 \u6708",month10:"10 \u6708",month11:"11 \u6708",month12:"12 \u6708",weeks:{sun:"\u65E5",mon:"\u4E00",tue:"\u4E8C",wed:"\u4E09",thu:"\u56DB",fri:"\u4E94",sat:"\u516D"},months:{jan:"\u4E00\u6708",feb:"\u4E8C\u6708",mar:"\u4E09\u6708",apr:"\u56DB\u6708",may:"\u4E94\u6708",jun:"\u516D\u6708",jul:"\u4E03\u6708",aug:"\u516B\u6708",sep:"\u4E5D\u6708",oct:"\u5341\u6708",nov:"\u5341\u4E00\u6708",dec:"\u5341\u4E8C\u6708"}},select:{loading:"\u52A0\u8F7D\u4E2D",noMatch:"\u65E0\u5339\u914D\u6570\u636E",noData:"\u65E0\u6570\u636E",placeholder:"\u8BF7\u9009\u62E9"},cascader:{noMatch:"\u65E0\u5339\u914D\u6570\u636E",loading:"\u52A0\u8F7D\u4E2D",placeholder:"\u8BF7\u9009\u62E9",noData:"\u6682\u65E0\u6570\u636E"},pagination:{goto:"\u524D\u5F80",pagesize:"\u6761/\u9875",total:"\u5171 {total} \u6761",pageClassifier:"\u9875",deprecationWarning:"\u4F60\u4F7F\u7528\u4E86\u4E00\u4E9B\u5DF2\u88AB\u5E9F\u5F03\u7684\u7528\u6CD5\uFF0C\u8BF7\u53C2\u8003 el-pagination \u7684\u5B98\u65B9\u6587\u6863"},messagebox:{title:"\u63D0\u793A",confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88",error:"\u8F93\u5165\u7684\u6570\u636E\u4E0D\u5408\u6CD5!"},upload:{deleteTip:"\u6309 delete \u952E\u53EF\u5220\u9664",delete:"\u5220\u9664",preview:"\u67E5\u770B\u56FE\u7247",continue:"\u7EE7\u7EED\u4E0A\u4F20"},table:{emptyText:"\u6682\u65E0\u6570\u636E",confirmFilter:"\u7B5B\u9009",resetFilter:"\u91CD\u7F6E",clearFilter:"\u5168\u90E8",sumText:"\u5408\u8BA1"},tree:{emptyText:"\u6682\u65E0\u6570\u636E"},transfer:{noMatch:"\u65E0\u5339\u914D\u6570\u636E",noData:"\u65E0\u6570\u636E",titles:["\u5217\u8868 1","\u5217\u8868 2"],filterPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",noCheckedFormat:"\u5171 {total} \u9879",hasCheckedFormat:"\u5DF2\u9009 {checked}/{total} \u9879"},image:{error:"\u52A0\u8F7D\u5931\u8D25"},pageHeader:{title:"\u8FD4\u56DE"},popconfirm:{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}}};function Wrt(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,function(i,r){const s=r[0];return typeof e[s]!="undefined"?e[s]:i}),t}function L(n,e,...t){return Wrt(e,t)}var _F;const ax="en";let zM=!1,UM=!1,lx=!1,hge=!1,fge=!1,OU=!1,rT,ux=ax,Hrt,Bp;const Ar=typeof self=="object"?self:typeof global=="object"?global:{};let Ya;typeof Ar.vscode!="undefined"&&typeof Ar.vscode.process!="undefined"?Ya=Ar.vscode.process:typeof process!="undefined"&&(Ya=process);const zrt=typeof((_F=Ya==null?void 0:Ya.versions)===null||_F===void 0?void 0:_F.electron)=="string",Urt=zrt&&(Ya==null?void 0:Ya.type)==="renderer";if(typeof navigator=="object"&&!Urt)Bp=navigator.userAgent,zM=Bp.indexOf("Windows")>=0,UM=Bp.indexOf("Macintosh")>=0,OU=(Bp.indexOf("Macintosh")>=0||Bp.indexOf("iPad")>=0||Bp.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,lx=Bp.indexOf("Linux")>=0,fge=!0,rT=navigator.language,ux=rT;else if(typeof Ya=="object"){zM=Ya.platform==="win32",UM=Ya.platform==="darwin",lx=Ya.platform==="linux",lx&&!!Ya.env.SNAP&&Ya.env.SNAP_REVISION,rT=ax,ux=ax;const n=Ya.env.VSCODE_NLS_CONFIG;if(n)try{const e=JSON.parse(n),t=e.availableLanguages["*"];rT=e.locale,ux=t||ax,Hrt=e._translationsConfigFile}catch{}hge=!0}else console.error("Unable to resolve platform.");const Gs=zM,kn=UM,Ao=lx,Ld=hge,Lv=fge,Ad=OU,Qh=Bp,jrt=ux,gge=(()=>{if(typeof Ar.postMessage=="function"&&!Ar.importScripts){let n=[];Ar.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,r=n.length;i<r;i++){const s=n[i];if(s.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),s.callback();return}}});let e=0;return t=>{const i=++e;n.push({id:i,callback:t}),Ar.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})(),mu=UM||OU?2:zM?1:3;let _te=!0,bte=!1;function pge(){if(!bte){bte=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,_te=new Uint16Array(n.buffer)[0]===(2<<8)+1}return _te}const mge=!!(Qh&&Qh.indexOf("Chrome")>=0),Krt=!!(Qh&&Qh.indexOf("Firefox")>=0),Grt=!!(!mge&&Qh&&Qh.indexOf("Safari")>=0),qrt=!!(Qh&&Qh.indexOf("Edg/")>=0);Qh&&Qh.indexOf("Android")>=0;const vge="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Yrt(n=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of vge)n.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const _ge=Yrt();function bge(n){let e=_ge;if(n&&n instanceof RegExp)if(n.global)e=n;else{let t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}const Xrt={maxLen:1e3,windowSize:15,timeBudget:150};function jM(n,e,t,i,r=Xrt){if(t.length>r.maxLen){let u=n-r.maxLen/2;return u<0?u=0:i+=u,t=t.substring(u,n+r.maxLen/2),jM(n,e,t,i,r)}const s=Date.now(),o=n-1-i;let a=-1,l=null;for(let u=1;!(Date.now()-s>=r.timeBudget);u++){const c=o-r.windowSize*u;e.lastIndex=Math.max(0,c);const d=Zrt(e,t,o,a);if(!d&&l||(l=d,c<=0))break;a=c}if(l){const u={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,u}return null}function Zrt(n,e,t,i){let r;for(;r=n.exec(e);){const s=r.index||0;if(s<=t&&n.lastIndex>=t)return r;if(i>0&&s>i)return null}return null}function ou(n,e=0){return n[n.length-(1+e)]}function Qrt(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function $l(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function PU(n,e,t){let i=0,r=n.length-1;for(;i<=r;){const s=(i+r)/2|0,o=t(n[s],e);if(o<0)i=s+1;else if(o>0)r=s-1;else return s}return-(i+1)}function Cge(n,e){let t=0,i=n.length;if(i===0)return 0;for(;t<i;){const r=Math.floor((t+i)/2);e(n[r])?i=r:t=r+1}return t}function D9(n,e,t){if(n=n|0,n>=e.length)throw new TypeError("invalid index");let i=e[Math.floor(e.length*Math.random())],r=[],s=[],o=[];for(let a of e){const l=t(a,i);l<0?r.push(a):l>0?s.push(a):o.push(a)}return n<r.length?D9(n,r,t):n<r.length+o.length?o[0]:D9(n-(r.length+o.length),s,t)}function Cte(n,e){const t=[];let i;for(const r of n.slice(0).sort(e))!i||e(i[0],r)!==0?(i=[r],t.push(i)):i.push(r);return t}function L1(n){return n.filter(e=>!!e)}function yge(n){return!Array.isArray(n)||n.length===0}function nl(n){return Array.isArray(n)&&n.length>0}function Um(n,e=t=>t){const t=new Set;return n.filter(i=>{const r=e(i);return t.has(r)?!1:(t.add(r),!0)})}function Jrt(n,e){const t=est(n,e);if(t!==-1)return n[t]}function est(n,e){for(let t=n.length-1;t>=0;t--){const i=n[t];if(e(i))return t}return-1}function wge(n,e){return n.length>0?n[0]:e}function FU(n){return[].concat(...n)}function Qo(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);const i=[];if(t<=e)for(let r=t;r<e;r++)i.push(r);else for(let r=t;r>e;r--)i.push(r);return i}function WO(n,e,t){const i=n.slice(0,e),r=n.slice(e);return i.concat(t,r)}function bF(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function sT(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function BU(n){return Array.isArray(n)?n:[n]}function tst(n,e,t){const i=Sge(n,e),r=n.length,s=t.length;n.length=r+s;for(let o=r-1;o>=i;o--)n[o+s]=n[o];for(let o=0;o<s;o++)n[o+i]=t[o]}function yte(n,e,t,i){const r=Sge(n,e),s=n.splice(r,t);return tst(n,r,i),s}function Sge(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}function cx(n,e){return(t,i)=>e(n(t),n(i))}const nst=(n,e)=>n-e;function Lge(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>0&&(t=r)}return t}function ist(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>=0&&(t=r)}return t}function rst(n,e){return Lge(n,(t,i)=>-e(t,i))}class Oy{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}function kge(n){return Array.isArray(n)}function Ru(n){return typeof n=="string"}function Da(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function T_(n){return typeof n=="number"&&!isNaN(n)}function Ege(n){return n===!0||n===!1}function Qa(n){return typeof n=="undefined"}function sst(n){return!El(n)}function El(n){return Qa(n)||n===null}function Ii(n,e){if(!n)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function oT(n){if(El(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function KM(n){return typeof n=="function"}function ost(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)ast(n[i],e[i])}function ast(n,e){if(Ru(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(KM(e)){try{if(n instanceof e)return}catch{}if(!El(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function lst(n){let e=[],t=Object.getPrototypeOf(n);for(;Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function $U(n){const e=[];for(const t of lst(n))typeof n[t]=="function"&&e.push(t);return e}function ust(n,e){const t=r=>function(){const s=Array.prototype.slice.call(arguments,0);return e(r,s)};let i={};for(const r of n)i[r]=t(r);return i}function Ja(n){return n===null?void 0:n}function VU(n,e="Unreachable"){throw new Error(e)}function tg(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const e=Array.isArray(n)?[]:{};return Object.keys(n).forEach(t=>{n[t]&&typeof n[t]=="object"?e[t]=tg(n[t]):e[t]=n[t]}),e}function cst(n){if(!n||typeof n!="object")return n;const e=[n];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(Dge.call(t,i)){const r=t[i];typeof r=="object"&&!Object.isFrozen(r)&&e.push(r)}}return n}const Dge=Object.prototype.hasOwnProperty;function dst(n,e){return I9(n,e,new Set)}function I9(n,e,t){if(El(n))return n;const i=e(n);if(typeof i!="undefined")return i;if(kge(n)){const r=[];for(const s of n)r.push(I9(s,e,t));return r}if(Da(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);const r={};for(let s in n)Dge.call(n,s)&&(r[s]=I9(n[s],e,t));return t.delete(n),r}return n}function gf(n,e,t=!0){return Da(n)?(Da(e)&&Object.keys(e).forEach(i=>{i in n?t&&(Da(n[i])&&Da(e[i])?gf(n[i],e[i],t):n[i]=e[i]):n[i]=e[i]}),n):e}function Tu(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!Tu(n[t],e[t]))return!1}else{const r=[];for(i in n)r.push(i);r.sort();const s=[];for(i in e)s.push(i);if(s.sort(),!Tu(r,s))return!1;for(t=0;t<r.length;t++)if(!Tu(n[r[t]],e[r[t]]))return!1}return!0}function nh(n,e,t){const i=e(n);return typeof i=="undefined"?t:i}const Wo={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},$p=8;class Ige{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class Tge{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class ys{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return HO(e,t)}compute(e,t,i){return i}}class V2{constructor(e,t){this.newValue=e,this.didChange=t}}function HO(n,e){if(typeof n!="object"||typeof e!="object"||!n||!e)return new V2(e,n!==e);if(Array.isArray(n)||Array.isArray(e)){const i=Array.isArray(n)&&Array.isArray(e)&&$l(n,e);return new V2(e,i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const r=HO(n[i],e[i]);r.didChange&&(n[i]=r.newValue,t=!0)}return new V2(n,t)}class Bw{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return HO(e,t)}validate(e){return this.defaultValue}}class k1{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return HO(e,t)}validate(e){return typeof e=="undefined"?this.defaultValue:e}compute(e,t,i){return i}}function $t(n,e){return typeof n=="undefined"?e:n==="false"?!1:Boolean(n)}class Tn extends k1{constructor(e,t,i,r=void 0){typeof r!="undefined"&&(r.type="boolean",r.default=i);super(e,t,i,r)}validate(e){return $t(e,this.defaultValue)}}function T9(n,e,t,i){if(typeof n=="undefined")return e;let r=parseInt(n,10);return isNaN(r)?e:(r=Math.max(t,r),r=Math.min(i,r),r|0)}class ji extends k1{constructor(e,t,i,r,s,o=void 0){typeof o!="undefined"&&(o.type="integer",o.default=i,o.minimum=r,o.maximum=s);super(e,t,i,o);this.minimum=r,this.maximum=s}static clampedInt(e,t,i,r){return T9(e,t,i,r)}validate(e){return ji.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class Ph extends k1{constructor(e,t,i,r,s){typeof s!="undefined"&&(s.type="number",s.default=i);super(e,t,i,s);this.validationFn=r}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e=="undefined")return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(Ph.float(e,this.defaultValue))}}class Xa extends k1{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,r=void 0){typeof r!="undefined"&&(r.type="string",r.default=i);super(e,t,i,r)}validate(e){return Xa.string(e,this.defaultValue)}}function La(n,e,t){return typeof n!="string"||t.indexOf(n)===-1?e:n}class as extends k1{constructor(e,t,i,r,s=void 0){typeof s!="undefined"&&(s.type="string",s.enum=r,s.default=i);super(e,t,i,s);this._allowedValues=r}validate(e){return La(e,this.defaultValue,this._allowedValues)}}class NS extends ys{constructor(e,t,i,r,s,o,a=void 0){typeof a!="undefined"&&(a.type="string",a.enum=s,a.default=r);super(e,t,i,a);this._allowedValues=s,this._convert=o}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function hst(n){switch(n){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class fst extends ys{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[L("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),L("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),L("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:L("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class gst extends ys{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:L("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:L("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:$t(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:$t(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function pst(n){switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Hs;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Hs||(Hs={}));function mst(n){switch(n){case"line":return Hs.Line;case"block":return Hs.Block;case"underline":return Hs.Underline;case"line-thin":return Hs.LineThin;case"block-outline":return Hs.BlockOutline;case"underline-thin":return Hs.UnderlineThin}}class vst extends Bw{constructor(){super(128)}compute(e,t,i){const r=["monaco-editor"];return t.get(33)&&r.push(t.get(33)),e.extraEditorClassName&&r.push(e.extraEditorClassName),t.get(66)==="default"?r.push("mouse-default"):t.get(66)==="copy"&&r.push("mouse-copy"),t.get(100)&&r.push("showUnused"),t.get(126)&&r.push("showDeprecated"),r.join(" ")}}class _st extends Tn{constructor(){super(32,"emptySelectionClipboard",!0,{description:L("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class bst extends ys{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:L("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[L("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),L("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),L("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:L("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[L("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),L("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),L("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:L("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:L("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:kn},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:L("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:L("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:$t(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":La(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":La(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:$t(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:$t(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:$t(t.loop,this.defaultValue.loop)}}}class Dl extends ys{constructor(){super(45,"fontLigatures",Dl.OFF,{anyOf:[{type:"boolean",description:L("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:L("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:L("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e=="undefined"?this.defaultValue:typeof e=="string"?e==="false"?Dl.OFF:e==="true"?Dl.ON:e:Boolean(e)?Dl.ON:Dl.OFF}}Dl.OFF='"liga" off, "calt" off';Dl.ON='"liga" on, "calt" on';class Cst extends Bw{constructor(){super(44)}compute(e,t,i){return e.fontInfo}}class yst extends k1{constructor(){super(46,"fontSize",jo.fontSize,{type:"number",minimum:6,maximum:100,default:jo.fontSize,description:L("fontSize","Controls the font size in pixels.")})}validate(e){const t=Ph.float(e,this.defaultValue);return t===0?jo.fontSize:Ph.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}class Eh extends ys{constructor(){super(47,"fontWeight",jo.fontWeight,{anyOf:[{type:"number",minimum:Eh.MINIMUM_VALUE,maximum:Eh.MAXIMUM_VALUE,errorMessage:L("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Eh.SUGGESTION_VALUES}],default:jo.fontWeight,description:L("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(ji.clampedInt(e,jo.fontWeight,Eh.MINIMUM_VALUE,Eh.MAXIMUM_VALUE))}}Eh.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];Eh.MINIMUM_VALUE=1;Eh.MAXIMUM_VALUE=1e3;class wst extends ys{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[L("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),L("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),L("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:L("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:L("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:L("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:L("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:L("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:L("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:L("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:L("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:L("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:L("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:L("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,r,s,o;if(!e||typeof e!="object")return this.defaultValue;const a=e;return{multiple:La(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:La(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:La(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(r=a.multipleDeclarations)!==null&&r!==void 0?r:La(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(s=a.multipleImplementations)!==null&&s!==void 0?s:La(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(o=a.multipleReferences)!==null&&o!==void 0?o:La(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Xa.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Xa.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Xa.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Xa.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Xa.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class Sst extends ys{constructor(){const e={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:L("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:L("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:L("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:L("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:$t(t.enabled,this.defaultValue.enabled),delay:ji.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:$t(t.sticky,this.defaultValue.sticky),above:$t(t.above,this.defaultValue.above)}}}class WC extends Bw{constructor(){super(131)}compute(e,t,i){return WC.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,r=(e.viewLineCount+i)/(e.pixelRatio*e.height),s=Math.floor(e.viewLineCount/r);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:r,minimapLineCount:s}}static _computeMinimapLayout(e,t){const i=e.outerWidth,r=e.outerHeight,s=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(s*r),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:r};const o=t.stableMinimapLayoutInput,a=o&&e.outerHeight===o.outerHeight&&e.lineHeight===o.lineHeight&&e.typicalHalfwidthCharacterWidth===o.typicalHalfwidthCharacterWidth&&e.pixelRatio===o.pixelRatio&&e.scrollBeyondLastLine===o.scrollBeyondLastLine&&e.minimap.enabled===o.minimap.enabled&&e.minimap.side===o.minimap.side&&e.minimap.size===o.minimap.size&&e.minimap.showSlider===o.minimap.showSlider&&e.minimap.renderCharacters===o.minimap.renderCharacters&&e.minimap.maxColumn===o.minimap.maxColumn&&e.minimap.scale===o.minimap.scale&&e.verticalScrollbarWidth===o.verticalScrollbarWidth&&e.isViewportWrapping===o.isViewportWrapping,l=e.lineHeight,u=e.typicalHalfwidthCharacterWidth,c=e.scrollBeyondLastLine,d=e.minimap.renderCharacters;let h=s>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const f=e.minimap.maxColumn,g=e.minimap.size,p=e.minimap.side,m=e.verticalScrollbarWidth,b=e.viewLineCount,_=e.remainingWidth,C=e.isViewportWrapping,w=d?2:3;let S=Math.floor(s*r);const D=S/s;let E=!1,I=!1,T=w*h,M=h/s,A=1;if(g==="fill"||g==="fit"){const{typicalViewportLineCount:X,extraLinesBeyondLastLine:ie,desiredRatio:Ce,minimapLineCount:Be}=WC.computeContainedMinimapLineCount({viewLineCount:b,scrollBeyondLastLine:c,height:r,lineHeight:l,pixelRatio:s});if(b/Be>1)E=!0,I=!0,h=1,T=1,M=h/s;else{let ke=!1,Se=h+1;if(g==="fit"){const fe=Math.ceil((b+ie)*T);C&&a&&_<=t.stableFitRemainingWidth?(ke=!0,Se=t.stableFitMaxMinimapScale):ke=fe>S}if(g==="fill"||ke){E=!0;const fe=h;T=Math.min(l*s,Math.max(1,Math.floor(1/Ce))),C&&a&&_<=t.stableFitRemainingWidth&&(Se=t.stableFitMaxMinimapScale),h=Math.min(Se,Math.max(1,Math.floor(T/w))),h>fe&&(A=Math.min(2,h/fe)),M=h/s/A,S=Math.ceil(Math.max(X,b+ie)*T),C?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=_,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const O=Math.floor(f*M),F=Math.min(O,Math.max(0,Math.floor((_-m-2)*M/(u+M)))+$p);let U=Math.floor(s*F);const V=U/s;U=Math.floor(U*A);const G=d?1:2,j=p==="left"?0:i-F-m;return{renderMinimap:G,minimapLeft:j,minimapWidth:F,minimapHeightIsEditorHeight:E,minimapIsSampling:I,minimapScale:h,minimapLineHeight:T,minimapCanvasInnerWidth:U,minimapCanvasInnerHeight:S,minimapCanvasOuterWidth:V,minimapCanvasOuterHeight:D}}static computeLayout(e,t){const i=t.outerWidth|0,r=t.outerHeight|0,s=t.lineHeight|0,o=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,u=t.pixelRatio,c=t.viewLineCount,d=e.get(123),h=d==="inherit"?e.get(122):d,f=h==="inherit"?e.get(118):h,g=e.get(121),p=e.get(2),m=t.isDominatedByLongLines,b=e.get(50),_=e.get(60).renderType!==0,C=e.get(61),w=e.get(94),S=e.get(65),D=e.get(92),E=D.verticalScrollbarSize,I=D.verticalHasArrows,T=D.arrowSize,M=D.horizontalScrollbarSize,A=e.get(58),O=e.get(37);let F;if(typeof A=="string"&&/^\d+(\.\d+)?ch$/.test(A)){const Ne=parseFloat(A.substr(0,A.length-2));F=ji.clampedInt(Ne*a,0,0,1e3)}else F=ji.clampedInt(A,0,0,1e3);O&&(F+=16);let U=0;if(_){const Ne=Math.max(o,C);U=Math.round(Ne*l)}let V=0;b&&(V=s);let G=0,j=G+V,X=j+U,ie=X+F;const Ce=i-V-U-F;let Be=!1,we=!1,ke=-1;p!==2&&(h==="inherit"&&m?(Be=!0,we=!0):f==="on"||f==="bounded"?we=!0:f==="wordWrapColumn"&&(ke=g));const Se=WC._computeMinimapLayout({outerWidth:i,outerHeight:r,lineHeight:s,typicalHalfwidthCharacterWidth:a,pixelRatio:u,scrollBeyondLastLine:w,minimap:S,verticalScrollbarWidth:E,viewLineCount:c,remainingWidth:Ce,isViewportWrapping:we},t.memory||new Tge);Se.renderMinimap!==0&&Se.minimapLeft===0&&(G+=Se.minimapWidth,j+=Se.minimapWidth,X+=Se.minimapWidth,ie+=Se.minimapWidth);const fe=Ce-Se.minimapWidth,pe=Math.max(1,Math.floor((fe-E-2)/a)),me=I?T:0;return we&&(ke=Math.max(1,pe),f==="bounded"&&(ke=Math.min(ke,g))),{width:i,height:r,glyphMarginLeft:G,glyphMarginWidth:V,lineNumbersLeft:j,lineNumbersWidth:U,decorationsLeft:X,decorationsWidth:F,contentLeft:ie,contentWidth:fe,minimap:Se,viewportColumn:pe,isWordWrapMinified:Be,isViewportWrapping:we,wrappingColumn:ke,verticalScrollbarWidth:E,horizontalScrollbarHeight:M,overviewRuler:{top:me,width:E,height:r-2*me,right:0}}}}class Lst extends ys{constructor(){const e={enabled:!0};super(57,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:L("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:$t(e.enabled,this.defaultValue.enabled)}}}class kst extends ys{constructor(){const e={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:L("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:L("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:L("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:$t(t.enabled,this.defaultValue.enabled),fontSize:ji.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Xa.string(t.fontFamily,this.defaultValue.fontFamily)}}}class Est extends Ph{constructor(){super(59,"lineHeight",jo.lineHeight,e=>Ph.clamp(e,0,150),{markdownDescription:L("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class Dst extends ys{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:L("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[L("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),L("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),L("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:L("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:L("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:L("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:L("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:L("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:L("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:$t(t.enabled,this.defaultValue.enabled),size:La(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:La(t.side,this.defaultValue.side,["right","left"]),showSlider:La(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:$t(t.renderCharacters,this.defaultValue.renderCharacters),scale:ji.clampedInt(t.scale,1,1,3),maxColumn:ji.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Ist(n){return n==="ctrlCmd"?kn?"metaKey":"ctrlKey":"altKey"}class Tst extends ys{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:L("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:L("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:ji.clampedInt(t.top,0,0,1e3),bottom:ji.clampedInt(t.bottom,0,0,1e3)}}}class Nst extends ys{constructor(){const e={enabled:!0,cycle:!1};super(76,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:L("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:L("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:$t(t.enabled,this.defaultValue.enabled),cycle:$t(t.cycle,this.defaultValue.cycle)}}}class xst extends Bw{constructor(){super(129)}compute(e,t,i){return e.pixelRatio}}class Mst extends ys{constructor(){const e={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:L("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:L("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:L("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:L("quickSuggestions","Controls whether suggestions should automatically show up while typing.")});this.defaultValue=e}validate(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){const t=e,i={other:$t(t.other,this.defaultValue.other),comments:$t(t.comments,this.defaultValue.comments),strings:$t(t.strings,this.defaultValue.strings)};return i.other&&i.comments&&i.strings?!0:!i.other&&!i.comments&&!i.strings?!1:i}return this.defaultValue}}class Ast extends ys{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[L("lineNumbers.off","Line numbers are not rendered."),L("lineNumbers.on","Line numbers are rendered as absolute number."),L("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),L("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:L("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e!="undefined"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function GM(n){const e=n.get(87);return e==="editable"?n.get(81):e!=="on"}class Rst extends ys{constructor(){const e=[],t={type:"number",description:L("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:L("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:L("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(let i of e)if(typeof i=="number")t.push({column:ji.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const r=i;t.push({column:ji.clampedInt(r.column,0,0,1e4),color:r.color})}return t.sort((i,r)=>i.column-r.column),t}return this.defaultValue}}function wte(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}class Ost extends ys{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[L("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),L("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),L("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:L("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[L("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),L("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),L("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:L("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:L("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:L("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:L("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=ji.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=ji.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:ji.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:wte(t.vertical,this.defaultValue.vertical),horizontal:wte(t.horizontal,this.defaultValue.horizontal),useShadows:$t(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:$t(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:$t(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:$t(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:$t(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:ji.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:r,verticalSliderSize:ji.clampedInt(t.verticalSliderSize,r,0,1e3),scrollByPage:$t(t.scrollByPage,this.defaultValue.scrollByPage)}}}const Cl="inUntrustedWorkspace",Sa={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Pst extends ys{constructor(){const e={nonBasicASCII:Cl,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Cl,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",e,{[Sa.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Cl],default:e.nonBasicASCII,description:L("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Sa.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:L("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Sa.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:L("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Sa.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Cl],default:e.includeComments,description:L("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Sa.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Cl],default:e.includeStrings,description:L("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Sa.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:L("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Sa.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:L("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&(Tu(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),i=!0)),t.allowedLocales&&(Tu(e.allowedLocales,t.allowedLocales)||(e=Object.assign(Object.assign({},e),{allowedLocales:t.allowedLocales}),i=!0));const r=super.applyUpdate(e,t);return i?new V2(r.newValue,!0):r}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:W2(t.nonBasicASCII,Cl,[!0,!1,Cl]),invisibleCharacters:$t(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:$t(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:W2(t.includeComments,Cl,[!0,!1,Cl]),includeStrings:W2(t.includeStrings,Cl,[!0,!1,Cl]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;const i={};for(const[r,s]of Object.entries(e))s===!0&&(i[r]=!0);return i}}class Fst extends ys{constructor(){const e={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:L("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:$t(t.enabled,this.defaultValue.enabled),mode:La(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class Bst extends ys{constructor(){const e={enabled:Wo.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:L("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:$t(e.enabled,this.defaultValue.enabled)}}}class $st extends ys{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[L("editor.guides.bracketPairs.true","Enables bracket pair guides."),L("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),L("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:L("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[L("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),L("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),L("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:L("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:L("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:L("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:L("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:W2(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:W2(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:$t(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:$t(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:$t(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function W2(n,e,t){const i=t.indexOf(n);return i===-1?e:t[i]}class Vst extends ys{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[L("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),L("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:L("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:L("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:L("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:L("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:L("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:L("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:L("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:L("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:L("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:L("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:L("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:L("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:La(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:$t(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:$t(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:$t(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:$t(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:$t(t.showIcons,this.defaultValue.showIcons),showStatusBar:$t(t.showStatusBar,this.defaultValue.showStatusBar),preview:$t(t.preview,this.defaultValue.preview),previewMode:La(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:$t(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:$t(t.showMethods,this.defaultValue.showMethods),showFunctions:$t(t.showFunctions,this.defaultValue.showFunctions),showConstructors:$t(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:$t(t.showDeprecated,this.defaultValue.showDeprecated),showFields:$t(t.showFields,this.defaultValue.showFields),showVariables:$t(t.showVariables,this.defaultValue.showVariables),showClasses:$t(t.showClasses,this.defaultValue.showClasses),showStructs:$t(t.showStructs,this.defaultValue.showStructs),showInterfaces:$t(t.showInterfaces,this.defaultValue.showInterfaces),showModules:$t(t.showModules,this.defaultValue.showModules),showProperties:$t(t.showProperties,this.defaultValue.showProperties),showEvents:$t(t.showEvents,this.defaultValue.showEvents),showOperators:$t(t.showOperators,this.defaultValue.showOperators),showUnits:$t(t.showUnits,this.defaultValue.showUnits),showValues:$t(t.showValues,this.defaultValue.showValues),showConstants:$t(t.showConstants,this.defaultValue.showConstants),showEnums:$t(t.showEnums,this.defaultValue.showEnums),showEnumMembers:$t(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:$t(t.showKeywords,this.defaultValue.showKeywords),showWords:$t(t.showWords,this.defaultValue.showWords),showColors:$t(t.showColors,this.defaultValue.showColors),showFiles:$t(t.showFiles,this.defaultValue.showFiles),showReferences:$t(t.showReferences,this.defaultValue.showReferences),showFolders:$t(t.showFolders,this.defaultValue.showFolders),showTypeParameters:$t(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:$t(t.showSnippets,this.defaultValue.showSnippets),showUsers:$t(t.showUsers,this.defaultValue.showUsers),showIssues:$t(t.showIssues,this.defaultValue.showIssues)}}}class Wst extends ys{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:L("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:$t(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Hst extends Bw{constructor(){super(130)}compute(e,t,i){return t.get(81)?!0:e.tabFocusMode}}function zst(n){switch(n){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Ust extends Bw{constructor(){super(132)}compute(e,t,i){const r=t.get(131);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}}}const jst="Consolas, 'Courier New', monospace",Kst="Menlo, Monaco, 'Courier New', monospace",Gst="'Droid Sans Mono', 'monospace', monospace",jo={fontFamily:kn?Kst:Ao?Gst:jst,fontWeight:"normal",fontSize:kn?12:14,lineHeight:0,letterSpacing:0},uC=[];function ot(n){return uC[n.id]=n,n}const qd={acceptSuggestionOnCommitCharacter:ot(new Tn(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:L("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:ot(new as(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",L("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:L("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:ot(new fst),accessibilityPageSize:ot(new ji(3,"accessibilityPageSize",10,1,1073741824,{description:L("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:ot(new Xa(4,"ariaLabel",L("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:ot(new as(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",L("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),L("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:L("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:ot(new as(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",L("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:L("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:ot(new as(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",L("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:L("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:ot(new as(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",L("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),L("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:L("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:ot(new NS(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],hst,{enumDescriptions:[L("editor.autoIndent.none","The editor will not insert indentation automatically."),L("editor.autoIndent.keep","The editor will keep the current line's indentation."),L("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),L("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),L("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:L("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:ot(new Tn(10,"automaticLayout",!1)),autoSurround:ot(new as(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[L("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),L("editor.autoSurround.quotes","Surround with quotes but not brackets."),L("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:L("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:ot(new Bst),bracketPairGuides:ot(new $st),stickyTabStops:ot(new Tn(104,"stickyTabStops",!1,{description:L("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:ot(new Tn(14,"codeLens",!0,{description:L("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:ot(new Xa(15,"codeLensFontFamily","",{description:L("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:ot(new ji(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:L("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:ot(new Tn(17,"colorDecorators",!0,{description:L("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:ot(new Tn(18,"columnSelection",!1,{description:L("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:ot(new gst),contextmenu:ot(new Tn(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ot(new Tn(21,"copyWithSyntaxHighlighting",!0,{description:L("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:ot(new NS(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],pst,{description:L("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:ot(new Tn(23,"cursorSmoothCaretAnimation",!1,{description:L("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:ot(new NS(24,"cursorStyle",Hs.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],mst,{description:L("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:ot(new ji(25,"cursorSurroundingLines",0,0,1073741824,{description:L("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:ot(new as(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[L("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),L("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:L("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:ot(new ji(27,"cursorWidth",0,0,1073741824,{markdownDescription:L("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:ot(new Tn(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ot(new Tn(29,"disableMonospaceOptimizations",!1)),domReadOnly:ot(new Tn(30,"domReadOnly",!1)),dragAndDrop:ot(new Tn(31,"dragAndDrop",!0,{description:L("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:ot(new _st),extraEditorClassName:ot(new Xa(33,"extraEditorClassName","")),fastScrollSensitivity:ot(new Ph(34,"fastScrollSensitivity",5,n=>n<=0?5:n,{markdownDescription:L("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:ot(new bst),fixedOverflowWidgets:ot(new Tn(36,"fixedOverflowWidgets",!1)),folding:ot(new Tn(37,"folding",!0,{description:L("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:ot(new as(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[L("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),L("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:L("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:ot(new Tn(39,"foldingHighlight",!0,{description:L("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:ot(new Tn(40,"foldingImportsByDefault",!1,{description:L("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:ot(new ji(41,"foldingMaximumRegions",5e3,10,65e3,{description:L("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:ot(new Tn(42,"unfoldOnClickAfterEndOfLine",!1,{description:L("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:ot(new Xa(43,"fontFamily",jo.fontFamily,{description:L("fontFamily","Controls the font family.")})),fontInfo:ot(new Cst),fontLigatures2:ot(new Dl),fontSize:ot(new yst),fontWeight:ot(new Eh),formatOnPaste:ot(new Tn(48,"formatOnPaste",!1,{description:L("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:ot(new Tn(49,"formatOnType",!1,{description:L("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:ot(new Tn(50,"glyphMargin",!0,{description:L("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:ot(new wst),hideCursorInOverviewRuler:ot(new Tn(52,"hideCursorInOverviewRuler",!1,{description:L("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:ot(new Sst),inDiffEditor:ot(new Tn(54,"inDiffEditor",!1)),letterSpacing:ot(new Ph(56,"letterSpacing",jo.letterSpacing,n=>Ph.clamp(n,-5,20),{description:L("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:ot(new Lst),lineDecorationsWidth:ot(new k1(58,"lineDecorationsWidth",10)),lineHeight:ot(new Est),lineNumbers:ot(new Ast),lineNumbersMinChars:ot(new ji(61,"lineNumbersMinChars",5,1,300)),linkedEditing:ot(new Tn(62,"linkedEditing",!1,{description:L("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:ot(new Tn(63,"links",!0,{description:L("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:ot(new as(64,"matchBrackets","always",["always","near","never"],{description:L("matchBrackets","Highlight matching brackets.")})),minimap:ot(new Dst),mouseStyle:ot(new as(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ot(new Ph(67,"mouseWheelScrollSensitivity",1,n=>n===0?1:n,{markdownDescription:L("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:ot(new Tn(68,"mouseWheelZoom",!1,{markdownDescription:L("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:ot(new Tn(69,"multiCursorMergeOverlapping",!0,{description:L("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:ot(new NS(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Ist,{markdownEnumDescriptions:[L("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),L("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:L({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:ot(new as(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[L("multiCursorPaste.spread","Each cursor pastes a single line of the text."),L("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:L("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:ot(new Tn(72,"occurrencesHighlight",!0,{description:L("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:ot(new Tn(73,"overviewRulerBorder",!0,{description:L("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:ot(new ji(74,"overviewRulerLanes",3,0,3)),padding:ot(new Tst),parameterHints:ot(new Nst),peekWidgetDefaultFocus:ot(new as(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[L("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),L("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:L("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:ot(new Tn(78,"definitionLinkOpensInPeek",!1,{description:L("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:ot(new Mst),quickSuggestionsDelay:ot(new ji(80,"quickSuggestionsDelay",10,0,1073741824,{description:L("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:ot(new Tn(81,"readOnly",!1)),renameOnType:ot(new Tn(82,"renameOnType",!1,{description:L("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:L("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:ot(new Tn(83,"renderControlCharacters",!0,{description:L("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:ot(new Tn(84,"renderFinalNewline",!0,{description:L("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:ot(new as(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",L("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:L("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:ot(new Tn(86,"renderLineHighlightOnlyWhenFocus",!1,{description:L("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:ot(new as(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ot(new as(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",L("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),L("renderWhitespace.selection","Render whitespace characters only on selected text."),L("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:L("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:ot(new ji(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ot(new Tn(90,"roundedSelection",!0,{description:L("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:ot(new Rst),scrollbar:ot(new Ost),scrollBeyondLastColumn:ot(new ji(93,"scrollBeyondLastColumn",5,0,1073741824,{description:L("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:ot(new Tn(94,"scrollBeyondLastLine",!0,{description:L("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:ot(new Tn(95,"scrollPredominantAxis",!0,{description:L("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:ot(new Tn(96,"selectionClipboard",!0,{description:L("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Ao})),selectionHighlight:ot(new Tn(97,"selectionHighlight",!0,{description:L("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:ot(new Tn(98,"selectOnLineNumbers",!0)),showFoldingControls:ot(new as(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[L("showFoldingControls.always","Always show the folding controls."),L("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:L("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:ot(new Tn(100,"showUnused",!0,{description:L("showUnused","Controls fading out of unused code.")})),showDeprecated:ot(new Tn(126,"showDeprecated",!0,{description:L("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:ot(new kst),snippetSuggestions:ot(new as(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[L("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),L("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),L("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),L("snippetSuggestions.none","Do not show snippet suggestions.")],description:L("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:ot(new Wst),smoothScrolling:ot(new Tn(103,"smoothScrolling",!1,{description:L("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:ot(new ji(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ot(new Vst),inlineSuggest:ot(new Fst),suggestFontSize:ot(new ji(107,"suggestFontSize",0,0,1e3,{markdownDescription:L("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:ot(new ji(108,"suggestLineHeight",0,0,1e3,{markdownDescription:L("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:ot(new Tn(109,"suggestOnTriggerCharacters",!0,{description:L("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:ot(new as(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[L("suggestSelection.first","Always select the first suggestion."),L("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),L("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:L("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:ot(new as(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[L("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),L("tabCompletion.off","Disable tab completions."),L("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:L("tabCompletion","Enables tab completions.")})),tabIndex:ot(new ji(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:ot(new Pst),unusualLineTerminators:ot(new as(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[L("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),L("unusualLineTerminators.off","Unusual line terminators are ignored."),L("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:L("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:ot(new Tn(115,"useShadowDOM",!0)),useTabStops:ot(new Tn(116,"useTabStops",!0,{description:L("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:ot(new Xa(117,"wordSeparators",vge,{description:L("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:ot(new as(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[L("wordWrap.off","Lines will never wrap."),L("wordWrap.on","Lines will wrap at the viewport width."),L({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),L({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:L({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:ot(new Xa(119,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ot(new Xa(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ot(new ji(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:L({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:ot(new as(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ot(new as(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ot(new NS(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],zst,{enumDescriptions:[L("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),L("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),L("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),L("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:L("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:ot(new as(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[L("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),L("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:L("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:ot(new vst),pixelRatio:ot(new xst),tabFocusMode:ot(new Hst),layoutInfo:ot(new WC),wrappingInfo:ot(new Ust)};class qst{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const Nge=new qst;function Qt(n){pf(n)||Nge.onUnexpectedError(n)}function Ys(n){pf(n)||Nge.onUnexpectedExternalError(n)}function Ste(n){if(n instanceof Error){let{name:e,message:t}=n;const i=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:i}}return n}const qM="Canceled";function pf(n){return n instanceof E1?!0:n instanceof Error&&n.name===qM&&n.message===qM}class E1 extends Error{constructor(){super(qM);this.name=this.message}}function WU(){const n=new Error(qM);return n.name=n.message,n}function kd(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function Yst(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class Xst extends Error{constructor(e){super("NotSupported");e&&(this.message=e)}}function Gg(n){const e=this;let t=!1,i;return function(){return t||(t=!0,i=n.apply(e,arguments)),i}}var Fn;(function(n){function e(_){return _&&typeof _=="object"&&typeof _[Symbol.iterator]=="function"}n.is=e;const t=Object.freeze([]);function i(){return t}n.empty=i;function*r(_){yield _}n.single=r;function s(_){return _||t}n.from=s;function o(_){return!_||_[Symbol.iterator]().next().done===!0}n.isEmpty=o;function a(_){return _[Symbol.iterator]().next().value}n.first=a;function l(_,C){for(const w of _)if(C(w))return!0;return!1}n.some=l;function u(_,C){for(const w of _)if(C(w))return w}n.find=u;function*c(_,C){for(const w of _)C(w)&&(yield w)}n.filter=c;function*d(_,C){let w=0;for(const S of _)yield C(S,w++)}n.map=d;function*h(..._){for(const C of _)for(const w of C)yield w}n.concat=h;function*f(_){for(const C of _)for(const w of C)yield w}n.concatNested=f;function g(_,C,w){let S=w;for(const D of _)S=C(S,D);return S}n.reduce=g;function*p(_,C,w=_.length){for(C<0&&(C+=_.length),w<0?w+=_.length:w>_.length&&(w=_.length);C<w;C++)yield _[C]}n.slice=p;function m(_,C=Number.POSITIVE_INFINITY){const w=[];if(C===0)return[w,_];const S=_[Symbol.iterator]();for(let D=0;D<C;D++){const E=S.next();if(E.done)return[w,n.empty()];w.push(E.value)}return[w,{[Symbol.iterator](){return S}}]}n.consume=m;function b(_,C,w=(S,D)=>S===D){const S=_[Symbol.iterator](),D=C[Symbol.iterator]();for(;;){const E=S.next(),I=D.next();if(E.done!==I.done)return!1;if(E.done)return!0;if(!w(E.value,I.value))return!1}}n.equals=b})(Fn||(Fn={}));class Zst extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`);this.errors=e}}function HU(n){return typeof n.dispose=="function"&&n.dispose.length===0}function jn(n){if(Fn.is(n)){let e=[];for(const t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new Zst(e);return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function vm(...n){return _n(()=>jn(n))}function _n(n){return{dispose:Gg(()=>{n()})}}class it{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{jn(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?it.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}it.DISABLE_DISPOSED_WARNING=!1;class ze{constructor(){this._store=new it,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}ze.None=Object.freeze({dispose(){}});class da{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e}}class Qst{constructor(e){this.object=e}dispose(){}}class br{constructor(e){this.element=e,this.next=br.Undefined,this.prev=br.Undefined}}br.Undefined=new br(void 0);class Ml{constructor(){this._first=br.Undefined,this._last=br.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===br.Undefined}clear(){let e=this._first;for(;e!==br.Undefined;){const t=e.next;e.prev=br.Undefined,e.next=br.Undefined,e=t}this._first=br.Undefined,this._last=br.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new br(e);if(this._first===br.Undefined)this._first=i,this._last=i;else if(t){const s=this._last;this._last=i,i.prev=s,s.next=i}else{const s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(i))}}shift(){if(this._first!==br.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==br.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==br.Undefined&&e.next!==br.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===br.Undefined&&e.next===br.Undefined?(this._first=br.Undefined,this._last=br.Undefined):e.next===br.Undefined?(this._last=this._last.prev,this._last.next=br.Undefined):e.prev===br.Undefined&&(this._first=this._first.next,this._first.prev=br.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==br.Undefined;)yield e.element,e=e.next}}const Jst=Ar.performance&&typeof Ar.performance.now=="function";class Ou{constructor(e){this._highResolution=Jst&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new Ou(e)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?Ar.performance.now():Date.now()}}var xt;(function(n){n.None=()=>ze.None;function e(S){return(D,E=null,I)=>{let T=!1,M;return M=S(A=>{if(!T)return M?M.dispose():T=!0,D.call(E,A)},null,I),T&&M.dispose(),M}}n.once=e;function t(S,D){return l((E,I=null,T)=>S(M=>E.call(I,D(M)),null,T))}n.map=t;function i(S,D){return l((E,I=null,T)=>S(M=>{D(M),E.call(I,M)},null,T))}n.forEach=i;function r(S,D){return l((E,I=null,T)=>S(M=>D(M)&&E.call(I,M),null,T))}n.filter=r;function s(S){return S}n.signal=s;function o(...S){return(D,E=null,I)=>vm(...S.map(T=>T(M=>D.call(E,M),null,I)))}n.any=o;function a(S,D,E){let I=E;return t(S,T=>(I=D(I,T),I))}n.reduce=a;function l(S){let D;const E=new Le({onFirstListenerAdd(){D=S(E.fire,E)},onLastListenerRemove(){D.dispose()}});return E.event}function u(S,D,E,I=100,T=!1){let M,A,O=0;return S(F=>{O++,M=E(M,F),T&&!A&&(D(M),M=void 0),clearTimeout(A),A=setTimeout(()=>{const U=M;M=void 0,A=void 0,(!T||O>1)&&D(U),O=0},I)})}n.debouncedListener=u;function c(S,D,E=100,I=!1,T){let M,A,O,F=0;const U=new Le({leakWarningThreshold:T,onFirstListenerAdd(){M=S(V=>{F++,A=D(A,V),I&&!O&&(U.fire(A),A=void 0),clearTimeout(O),O=setTimeout(()=>{const G=A;A=void 0,O=void 0,(!I||F>1)&&U.fire(G),F=0},E)})},onLastListenerRemove(){M.dispose()}});return U.event}n.debounce=c;function d(S,D=(E,I)=>E===I){let E=!0,I;return r(S,T=>{const M=E||!D(T,I);return E=!1,I=T,M})}n.latch=d;function h(S,D){return[n.filter(S,D),n.filter(S,E=>!D(E))]}n.split=h;function f(S,D=!1,E=[]){let I=E.slice(),T=S(O=>{I?I.push(O):A.fire(O)});const M=()=>{I&&I.forEach(O=>A.fire(O)),I=null},A=new Le({onFirstListenerAdd(){T||(T=S(O=>A.fire(O)))},onFirstListenerDidAdd(){I&&(D?setTimeout(M):M())},onLastListenerRemove(){T&&T.dispose(),T=null}});return A.event}n.buffer=f;class g{constructor(D){this.event=D}map(D){return new g(t(this.event,D))}forEach(D){return new g(i(this.event,D))}filter(D){return new g(r(this.event,D))}reduce(D,E){return new g(a(this.event,D,E))}latch(){return new g(d(this.event))}debounce(D,E=100,I=!1,T){return new g(c(this.event,D,E,I,T))}on(D,E,I){return this.event(D,E,I)}once(D,E,I){return e(this.event)(D,E,I)}}function p(S){return new g(S)}n.chain=p;function m(S,D,E=I=>I){const I=(...O)=>A.fire(E(...O)),T=()=>S.on(D,I),M=()=>S.removeListener(D,I),A=new Le({onFirstListenerAdd:T,onLastListenerRemove:M});return A.event}n.fromNodeEventEmitter=m;function b(S,D,E=I=>I){const I=(...O)=>A.fire(E(...O)),T=()=>S.addEventListener(D,I),M=()=>S.removeEventListener(D,I),A=new Le({onFirstListenerAdd:T,onLastListenerRemove:M});return A.event}n.fromDOMEventEmitter=b;function _(S){return new Promise(D=>e(S)(D))}n.toPromise=_;function C(S,D){return D(void 0),S(E=>D(E))}n.runAndSubscribe=C;function w(S,D){let E=null;function I(M){E==null||E.dispose(),E=new it,D(M,E)}I(void 0);const T=S(M=>I(M));return _n(()=>{T.dispose(),E==null||E.dispose()})}n.runAndSubscribeWithStore=w})(xt||(xt={}));class zO{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${zO._idPool++}`}start(e){this._stopWatch=new Ou(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}zO._idPool=0;class Le{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=((t=this._options)===null||t===void 0?void 0:t._profName)?new zO(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,i)=>{var r;this._listeners||(this._listeners=new Ml);const s=this._listeners.isEmpty();s&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(t?[e,t]:e);s&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const a=(r=this._leakageMon)===null||r===void 0?void 0:r.check(this._listeners.size),l=_n(()=>{a&&a(),this._disposed||(o(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return i instanceof it?i.add(l):Array.isArray(i)&&i.push(l),l}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Ml);for(let r of this._listeners)this._deliveryQueue.push([r,e]);for((t=this._perfMon)===null||t===void 0||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[r,s]=this._deliveryQueue.shift();try{typeof r=="function"?r.call(void 0,s):r[0].call(r[1],s)}catch(o){Qt(o)}}(i=this._perfMon)===null||i===void 0||i.stop()}}dispose(){var e,t,i,r,s;this._disposed||(this._disposed=!0,(e=this._listeners)===null||e===void 0||e.clear(),(t=this._deliveryQueue)===null||t===void 0||t.clear(),(r=(i=this._options)===null||i===void 0?void 0:i.onLastListenerRemove)===null||r===void 0||r.call(i),(s=this._leakageMon)===null||s===void 0||s.dispose())}}class YM extends Le{constructor(e){super(e);this._isPaused=0,this._eventQueue=new Ml,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class eot extends YM{constructor(e){var t;super(e);this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class zU{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,r)=>e(s=>{const o=this.buffers[this.buffers.length-1];o?o.push(()=>t.call(i,s)):t.call(i,s)},void 0,r)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach(r=>r()),i}}class Lte{constructor(){this.listening=!1,this.inputEvent=xt.None,this.inputEventListener=ze.None,this.emitter=new Le({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const xge=Object.freeze(function(n,e){const t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}});var En;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof dx?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:xt.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:xge})})(En||(En={}));class dx{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?xge:(this._emitter||(this._emitter=new Le),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class co{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new dx),this._token}cancel(){this._token?this._token instanceof dx&&this._token.cancel():this._token=En.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof dx&&this._token.dispose():this._token=En.None}}class UU{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const hx=new UU,N9=new UU,x9=new UU,Mge=new Array(230),tot={},not=[],iot=Object.create(null),rot=Object.create(null),jU=[],M9=[];for(let n=0;n<=193;n++)jU[n]=-1;for(let n=0;n<=126;n++)M9[n]=-1;(function(){const n="",e=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",0,n,0,n,n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_CLEAR",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]];let t=[],i=[];for(const r of e){const[s,o,a,l,u,c,d,h,f,g]=r;if(i[a]||(i[a]=!0,not[a]=l,iot[l]=a,rot[l.toLowerCase()]=a,o&&(jU[a]=u,u!==0&&u!==3&&u!==5&&u!==4&&u!==6&&u!==57&&(M9[u]=a))),!t[u]){if(t[u]=!0,!c)throw new Error(`String representation missing for key code ${u} around scan code ${l}`);hx.define(u,c),N9.define(u,f||c),x9.define(u,g||f||c)}d&&(Mge[d]=u),h&&(tot[h]=u)}M9[3]=46})();var B0;(function(n){function e(a){return hx.keyCodeToStr(a)}n.toString=e;function t(a){return hx.strToKeyCode(a)}n.fromString=t;function i(a){return N9.keyCodeToStr(a)}n.toUserSettingsUS=i;function r(a){return x9.keyCodeToStr(a)}n.toUserSettingsGeneral=r;function s(a){return N9.strToKeyCode(a)||x9.strToKeyCode(a)}n.fromUserSettings=s;function o(a){if(a>=93&&a<=108)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return hx.keyCodeToStr(a)}n.toElectronAccelerator=o})(B0||(B0={}));function Rs(n,e){const t=(e&65535)<<16>>>0;return(n|t)>>>0}let HC;if(typeof Ar.vscode!="undefined"&&typeof Ar.vscode.process!="undefined"){const n=Ar.vscode.process;HC={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process!="undefined"?HC={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:HC={get platform(){return Gs?"win32":kn?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const A9=HC.cwd,sot=HC.env,D1=HC.platform,oot=65,aot=97,lot=90,uot=122,_m=46,$o=47,bl=92,kp=58,cot=63;class Age extends Error{constructor(e,t,i){let r;typeof t=="string"&&t.indexOf("not ")===0?(r="must not be",t=t.replace(/^not /,"")):r="must be";const s=e.indexOf(".")!==-1?"property":"argument";let o=`The "${e}" ${s} ${r} of type ${t}`;o+=`. Received type ${typeof i}`;super(o);this.code="ERR_INVALID_ARG_TYPE"}}function Ts(n,e){if(typeof n!="string")throw new Age(e,"string",n)}function ii(n){return n===$o||n===bl}function R9(n){return n===$o}function Ep(n){return n>=oot&&n<=lot||n>=aot&&n<=uot}function XM(n,e,t,i){let r="",s=0,o=-1,a=0,l=0;for(let u=0;u<=n.length;++u){if(u<n.length)l=n.charCodeAt(u);else{if(i(l))break;l=$o}if(i(l)){if(!(o===u-1||a===1))if(a===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==_m||r.charCodeAt(r.length-2)!==_m){if(r.length>2){const c=r.lastIndexOf(t);c===-1?(r="",s=0):(r=r.slice(0,c),s=r.length-1-r.lastIndexOf(t)),o=u,a=0;continue}else if(r.length!==0){r="",s=0,o=u,a=0;continue}}e&&(r+=r.length>0?`${t}..`:"..",s=2)}else r.length>0?r+=`${t}${n.slice(o+1,u)}`:r=n.slice(o+1,u),s=u-o-1;o=u,a=0}else l===_m&&a!==-1?++a:a=-1}return r}function Rge(n,e){if(e===null||typeof e!="object")throw new Age("pathObject","Object",e);const t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}const el={resolve(...n){let e="",t="",i=!1;for(let r=n.length-1;r>=-1;r--){let s;if(r>=0){if(s=n[r],Ts(s,"path"),s.length===0)continue}else e.length===0?s=A9():(s=sot[`=${e}`]||A9(),(s===void 0||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===bl)&&(s=`${e}\\`));const o=s.length;let a=0,l="",u=!1;const c=s.charCodeAt(0);if(o===1)ii(c)&&(a=1,u=!0);else if(ii(c))if(u=!0,ii(s.charCodeAt(1))){let d=2,h=d;for(;d<o&&!ii(s.charCodeAt(d));)d++;if(d<o&&d!==h){const f=s.slice(h,d);for(h=d;d<o&&ii(s.charCodeAt(d));)d++;if(d<o&&d!==h){for(h=d;d<o&&!ii(s.charCodeAt(d));)d++;(d===o||d!==h)&&(l=`\\\\${f}\\${s.slice(h,d)}`,a=d)}}}else a=1;else Ep(c)&&s.charCodeAt(1)===kp&&(l=s.slice(0,2),a=2,o>2&&ii(s.charCodeAt(2))&&(u=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${s.slice(a)}\\${t}`,i=u,u&&e.length>0)break}return t=XM(t,!i,"\\",ii),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){Ts(n,"path");const e=n.length;if(e===0)return".";let t=0,i,r=!1;const s=n.charCodeAt(0);if(e===1)return R9(s)?"\\":n;if(ii(s))if(r=!0,ii(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ii(n.charCodeAt(a));)a++;if(a<e&&a!==l){const u=n.slice(l,a);for(l=a;a<e&&ii(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ii(n.charCodeAt(a));)a++;if(a===e)return`\\\\${u}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${u}\\${n.slice(l,a)}`,t=a)}}}else t=1;else Ep(s)&&n.charCodeAt(1)===kp&&(i=n.slice(0,2),t=2,e>2&&ii(n.charCodeAt(2))&&(r=!0,t=3));let o=t<e?XM(n.slice(t),!r,"\\",ii):"";return o.length===0&&!r&&(o="."),o.length>0&&ii(n.charCodeAt(e-1))&&(o+="\\"),i===void 0?r?`\\${o}`:o:r?`${i}\\${o}`:`${i}${o}`},isAbsolute(n){Ts(n,"path");const e=n.length;if(e===0)return!1;const t=n.charCodeAt(0);return ii(t)||e>2&&Ep(t)&&n.charCodeAt(1)===kp&&ii(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let s=0;s<n.length;++s){const o=n[s];Ts(o,"path"),o.length>0&&(e===void 0?e=t=o:e+=`\\${o}`)}if(e===void 0)return".";let i=!0,r=0;if(typeof t=="string"&&ii(t.charCodeAt(0))){++r;const s=t.length;s>1&&ii(t.charCodeAt(1))&&(++r,s>2&&(ii(t.charCodeAt(2))?++r:i=!1))}if(i){for(;r<e.length&&ii(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return el.normalize(e)},relative(n,e){if(Ts(n,"from"),Ts(e,"to"),n===e)return"";const t=el.resolve(n),i=el.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let r=0;for(;r<n.length&&n.charCodeAt(r)===bl;)r++;let s=n.length;for(;s-1>r&&n.charCodeAt(s-1)===bl;)s--;const o=s-r;let a=0;for(;a<e.length&&e.charCodeAt(a)===bl;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===bl;)l--;const u=l-a,c=o<u?o:u;let d=-1,h=0;for(;h<c;h++){const g=n.charCodeAt(r+h);if(g!==e.charCodeAt(a+h))break;g===bl&&(d=h)}if(h!==c){if(d===-1)return i}else{if(u>c){if(e.charCodeAt(a+h)===bl)return i.slice(a+h+1);if(h===2)return i.slice(a+h)}o>c&&(n.charCodeAt(r+h)===bl?d=h:h===2&&(d=3)),d===-1&&(d=0)}let f="";for(h=r+d+1;h<=s;++h)(h===s||n.charCodeAt(h)===bl)&&(f+=f.length===0?"..":"\\..");return a+=d,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===bl&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string")return n;if(n.length===0)return"";const e=el.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===bl){if(e.charCodeAt(1)===bl){const t=e.charCodeAt(2);if(t!==cot&&t!==_m)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Ep(e.charCodeAt(0))&&e.charCodeAt(1)===kp&&e.charCodeAt(2)===bl)return`\\\\?\\${e}`;return n},dirname(n){Ts(n,"path");const e=n.length;if(e===0)return".";let t=-1,i=0;const r=n.charCodeAt(0);if(e===1)return ii(r)?n:".";if(ii(r)){if(t=i=1,ii(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ii(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&ii(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ii(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else Ep(r)&&n.charCodeAt(1)===kp&&(t=e>2&&ii(n.charCodeAt(2))?3:2,i=t);let s=-1,o=!0;for(let a=e-1;a>=i;--a)if(ii(n.charCodeAt(a))){if(!o){s=a;break}}else o=!1;if(s===-1){if(t===-1)return".";s=t}return n.slice(0,s)},basename(n,e){e!==void 0&&Ts(e,"ext"),Ts(n,"path");let t=0,i=-1,r=!0,s;if(n.length>=2&&Ep(n.charCodeAt(0))&&n.charCodeAt(1)===kp&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=t;--s){const l=n.charCodeAt(s);if(ii(l)){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=t;--s)if(ii(n.charCodeAt(s))){if(!r){t=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":n.slice(t,i)},extname(n){Ts(n,"path");let e=0,t=-1,i=0,r=-1,s=!0,o=0;n.length>=2&&n.charCodeAt(1)===kp&&Ep(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){const l=n.charCodeAt(a);if(ii(l)){if(!s){i=a+1;break}continue}r===-1&&(s=!1,r=a+1),l===_m?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||r===-1||o===0||o===1&&t===r-1&&t===i+1?"":n.slice(t,r)},format:Rge.bind(null,"\\"),parse(n){Ts(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.length;let i=0,r=n.charCodeAt(0);if(t===1)return ii(r)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(ii(r)){if(i=1,ii(n.charCodeAt(1))){let d=2,h=d;for(;d<t&&!ii(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&ii(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&!ii(n.charCodeAt(d));)d++;d===t?i=d:d!==h&&(i=d+1)}}}}else if(Ep(r)&&n.charCodeAt(1)===kp){if(t<=2)return e.root=e.dir=n,e;if(i=2,ii(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let s=-1,o=i,a=-1,l=!0,u=n.length-1,c=0;for(;u>=i;--u){if(r=n.charCodeAt(u),ii(r)){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===_m?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return a!==-1&&(s===-1||c===0||c===1&&s===a-1&&s===o+1?e.base=e.name=n.slice(o,a):(e.name=n.slice(o,s),e.base=n.slice(o,a),e.ext=n.slice(s,a))),o>0&&o!==i?e.dir=n.slice(0,o-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},zr={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){const r=i>=0?n[i]:A9();Ts(r,"path"),r.length!==0&&(e=`${r}/${e}`,t=r.charCodeAt(0)===$o)}return e=XM(e,!t,"/",R9),t?`/${e}`:e.length>0?e:"."},normalize(n){if(Ts(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===$o,t=n.charCodeAt(n.length-1)===$o;return n=XM(n,!e,"/",R9),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return Ts(n,"path"),n.length>0&&n.charCodeAt(0)===$o},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const i=n[t];Ts(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":zr.normalize(e)},relative(n,e){if(Ts(n,"from"),Ts(e,"to"),n===e||(n=zr.resolve(n),e=zr.resolve(e),n===e))return"";const t=1,i=n.length,r=i-t,s=1,o=e.length-s,a=r<o?r:o;let l=-1,u=0;for(;u<a;u++){const d=n.charCodeAt(t+u);if(d!==e.charCodeAt(s+u))break;d===$o&&(l=u)}if(u===a)if(o>a){if(e.charCodeAt(s+u)===$o)return e.slice(s+u+1);if(u===0)return e.slice(s+u)}else r>a&&(n.charCodeAt(t+u)===$o?l=u:u===0&&(l=0));let c="";for(u=t+l+1;u<=i;++u)(u===i||n.charCodeAt(u)===$o)&&(c+=c.length===0?"..":"/..");return`${c}${e.slice(s+l)}`},toNamespacedPath(n){return n},dirname(n){if(Ts(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===$o;let t=-1,i=!0;for(let r=n.length-1;r>=1;--r)if(n.charCodeAt(r)===$o){if(!i){t=r;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&Ts(e,"ext"),Ts(n,"path");let t=0,i=-1,r=!0,s;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=0;--s){const l=n.charCodeAt(s);if(l===$o){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===$o){if(!r){t=s+1;break}}else i===-1&&(r=!1,i=s+1);return i===-1?"":n.slice(t,i)},extname(n){Ts(n,"path");let e=-1,t=0,i=-1,r=!0,s=0;for(let o=n.length-1;o>=0;--o){const a=n.charCodeAt(o);if(a===$o){if(!r){t=o+1;break}continue}i===-1&&(r=!1,i=o+1),a===_m?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:Rge.bind(null,"/"),parse(n){Ts(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.charCodeAt(0)===$o;let i;t?(e.root="/",i=1):i=0;let r=-1,s=0,o=-1,a=!0,l=n.length-1,u=0;for(;l>=i;--l){const c=n.charCodeAt(l);if(c===$o){if(!a){s=l+1;break}continue}o===-1&&(a=!1,o=l+1),c===_m?r===-1?r=l:u!==1&&(u=1):r!==-1&&(u=-1)}if(o!==-1){const c=s===0&&t?1:s;r===-1||u===0||u===1&&r===o-1&&r===s+1?e.base=e.name=n.slice(c,o):(e.name=n.slice(c,r),e.base=n.slice(c,o),e.ext=n.slice(r,o))}return s>0?e.dir=n.slice(0,s-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};zr.win32=el.win32=el;zr.posix=el.posix=zr;const KU=D1==="win32"?el.normalize:zr.normalize,dot=D1==="win32"?el.resolve:zr.resolve,hot=D1==="win32"?el.relative:zr.relative,Oge=D1==="win32"?el.dirname:zr.dirname,i_=D1==="win32"?el.basename:zr.basename,fot=D1==="win32"?el.extname:zr.extname,Uh=D1==="win32"?el.sep:zr.sep,got=/^\w[\w\d+.-]*$/,pot=/^\//,mot=/^\/\//;function kte(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!got.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!pot.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(mot.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function vot(n,e){return!n&&!e?"file":n}function _ot(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==dd&&(e=dd+e):e=dd;break}return e}const Nr="",dd="/",bot=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class zt{constructor(e,t,i,r,s,o=!1){typeof e=="object"?(this.scheme=e.scheme||Nr,this.authority=e.authority||Nr,this.path=e.path||Nr,this.query=e.query||Nr,this.fragment=e.fragment||Nr):(this.scheme=vot(e,o),this.authority=t||Nr,this.path=_ot(this.scheme,i||Nr),this.query=r||Nr,this.fragment=s||Nr,kte(this,o))}static isUri(e){return e instanceof zt?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}get fsPath(){return ZM(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:r,query:s,fragment:o}=e;return t===void 0?t=this.scheme:t===null&&(t=Nr),i===void 0?i=this.authority:i===null&&(i=Nr),r===void 0?r=this.path:r===null&&(r=Nr),s===void 0?s=this.query:s===null&&(s=Nr),o===void 0?o=this.fragment:o===null&&(o=Nr),t===this.scheme&&i===this.authority&&r===this.path&&s===this.query&&o===this.fragment?this:new bb(t,i,r,s,o)}static parse(e,t=!1){const i=bot.exec(e);return i?new bb(i[2]||Nr,aT(i[4]||Nr),aT(i[5]||Nr),aT(i[7]||Nr),aT(i[9]||Nr),t):new bb(Nr,Nr,Nr,Nr,Nr)}static file(e){let t=Nr;if(Gs&&(e=e.replace(/\\/g,dd)),e[0]===dd&&e[1]===dd){const i=e.indexOf(dd,2);i===-1?(t=e.substring(2),e=dd):(t=e.substring(2,i),e=e.substring(i)||dd)}return new bb("file",t,e,Nr,Nr)}static from(e){const t=new bb(e.scheme,e.authority,e.path,e.query,e.fragment);return kte(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return Gs&&e.scheme==="file"?i=zt.file(el.join(ZM(e,!0),...t)).path:i=zr.join(e.path,...t),e.with({path:i})}toString(e=!1){return O9(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof zt)return e;{const t=new bb(e);return t._formatted=e.external,t._fsPath=e._sep===Pge?e.fsPath:null,t}}else return e}}const Pge=Gs?1:void 0;class bb extends zt{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=ZM(this,!1)),this._fsPath}toString(e=!1){return e?O9(this,!0):(this._formatted||(this._formatted=O9(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Pge),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const Fge={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function Ete(n,e){let t,i=-1;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47)i!==-1&&(t+=encodeURIComponent(n.substring(i,r)),i=-1),t!==void 0&&(t+=n.charAt(r));else{t===void 0&&(t=n.substr(0,r));const o=Fge[s];o!==void 0?(i!==-1&&(t+=encodeURIComponent(n.substring(i,r)),i=-1),t+=o):i===-1&&(i=r)}}return i!==-1&&(t+=encodeURIComponent(n.substring(i))),t!==void 0?t:n}function Cot(n){let e;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=Fge[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function ZM(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,Gs&&(t=t.replace(/\//g,"\\")),t}function O9(n,e){const t=e?Cot:Ete;let i="",{scheme:r,authority:s,path:o,query:a,fragment:l}=n;if(r&&(i+=r,i+=":"),(s||r==="file")&&(i+=dd,i+=dd),s){let u=s.indexOf("@");if(u!==-1){const c=s.substr(0,u);s=s.substr(u+1),u=c.indexOf(":"),u===-1?i+=t(c,!1):(i+=t(c.substr(0,u),!1),i+=":",i+=t(c.substr(u+1),!1)),i+="@"}s=s.toLowerCase(),u=s.indexOf(":"),u===-1?i+=t(s,!1):(i+=t(s.substr(0,u),!1),i+=s.substr(u))}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){const u=o.charCodeAt(1);u>=65&&u<=90&&(o=`/${String.fromCharCode(u+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===58){const u=o.charCodeAt(0);u>=65&&u<=90&&(o=`${String.fromCharCode(u+32)}:${o.substr(2)}`)}i+=t(o,!0)}return a&&(i+="?",i+=t(a,!1)),l&&(i+="#",i+=e?l:Ete(l,!1)),i}function Bge(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+Bge(n.substr(3)):n}}const Dte=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function aT(n){return n.match(Dte)?n.replace(Dte,e=>Bge(e)):n}class Ae{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Ae(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Ae.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Ae.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return Ae.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){const i=e.lineNumber|0,r=t.lineNumber|0;if(i===r){const s=e.column|0,o=t.column|0;return s-o}return i-r}clone(){return new Ae(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Ae(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}}class Y{constructor(e,t,i,r){e>i||e===i&&t>r?(this.startLineNumber=i,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=r)}isEmpty(){return Y.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return Y.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return Y.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return Y.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return Y.plusRange(this,e)}static plusRange(e,t){let i,r,s,o;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(s=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(s=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(s=e.endLineNumber,o=e.endColumn),new Y(i,r,s,o)}intersectRanges(e){return Y.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,a=t.startLineNumber,l=t.startColumn,u=t.endLineNumber,c=t.endColumn;return i<a?(i=a,r=l):i===a&&(r=Math.max(r,l)),s>u?(s=u,o=c):s===u&&(o=Math.min(o,c)),i>s||i===s&&r>o?null:new Y(i,r,s,o)}equalsRange(e){return Y.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return Y.getEndPosition(this)}static getEndPosition(e){return new Ae(e.endLineNumber,e.endColumn)}getStartPosition(){return Y.getStartPosition(this)}static getStartPosition(e){return new Ae(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new Y(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new Y(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return Y.collapseToStart(this)}static collapseToStart(e){return new Y(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new Y(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const s=e.startLineNumber|0,o=t.startLineNumber|0;if(s===o){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const u=e.endLineNumber|0,c=t.endLineNumber|0;if(u===c){const d=e.endColumn|0,h=t.endColumn|0;return d-h}return u-c}return a-l}return s-o}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}class vt extends Y{constructor(e,t,i,r){super(e,t,i,r);this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return vt.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new vt(this.startLineNumber,this.startColumn,e,t):new vt(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new Ae(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new Ae(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new vt(e,t,this.endLineNumber,this.endColumn):new vt(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new vt(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new vt(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new vt(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new vt(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,r,s){return s===0?new vt(e,t,i,r):new vt(i,r,e,t)}}var Pu;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(Pu||(Pu={}));var Nu;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(Nu||(Nu={}));var Fh;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(Fh||(Fh={}));class fx{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),this.indentSize=e.tabSize|0,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Tu(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class uk{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}class CF{constructor(e,t,i,r,s,o){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=s,this._isTracked=o}}class yot{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class wot{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function Sot(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}var cu=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},l2=globalThis&&globalThis.__asyncValues||function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}};function Lot(n){return!!n&&typeof n.then=="function"}function qs(n){const e=new co,t=n(e.token),i=new Promise((r,s)=>{const o=e.token.onCancellationRequested(()=>{o.dispose(),e.dispose(),s(new E1)});Promise.resolve(t).then(a=>{o.dispose(),e.dispose(),r(a)},a=>{o.dispose(),e.dispose(),s(a)})});return new class{cancel(){e.cancel()}then(r,s){return i.then(r,s)}catch(r){return this.then(void 0,r)}finally(r){return i.finally(r)}}}function GU(n,e,t){return new Promise((i,r)=>{const s=e.onCancellationRequested(()=>{s.dispose(),i(t)});n.then(i,r).finally(()=>s.dispose())})}class kot{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{this.queuedPromise=null;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(r=>{this.activePromise=null,t(r)},r=>{this.activePromise=null,i(r)})})}}const Eot=(n,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},Dot=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},$ge=Symbol("MicrotaskDelay");class Jh{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((r,s)=>{this.doResolve=r,this.doReject=s}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const r=this.task;return this.task=null,r()}}));const i=()=>{var r;this.deferred=null,(r=this.doResolve)===null||r===void 0||r.call(this,null)};return this.deferred=t===$ge?Dot(i):Eot(t,i),this.completionPromise}isTriggered(){var e;return!!((e=this.deferred)===null||e===void 0?void 0:e.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new E1),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)===null||e===void 0||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class Iot{constructor(e){this.delayer=new Jh(e),this.throttler=new kot}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}}function jm(n,e){return e?new Promise((t,i)=>{const r=setTimeout(()=>{s.dispose(),t()},n),s=e.onCancellationRequested(()=>{clearTimeout(r),s.dispose(),i(new E1)})}):qs(t=>jm(n,t))}function N_(n,e=0){const t=setTimeout(n,e);return _n(()=>clearTimeout(t))}function Vge(n,e=i=>!!i,t=null){let i=0;const r=n.length,s=()=>{if(i>=r)return Promise.resolve(t);const o=n[i++];return Promise.resolve(o()).then(l=>e(l)?Promise.resolve(l):s())};return s()}class Ra{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class tD{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}}class Ni{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let ck;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?ck=n=>{gge(()=>{if(e)return;const t=Date.now()+15;n(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,t-Date.now())}}))});let e=!1;return{dispose(){e||(e=!0)}}}:ck=(n,e)=>{const t=requestIdleCallback(n,typeof e=="number"?{timeout:e}:void 0);let i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(t))}}}})();class bm{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=ck(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class qU{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(e){return new Promise(t=>{this.completeCallback(e),this.resolved=!0,t()})}cancel(){new Promise(e=>{this.errorCallback(new E1),this.rejected=!0,e()})}}var P9;(function(n){function e(i){return cu(this,void 0,void 0,function*(){let r;const s=yield Promise.all(i.map(o=>o.then(a=>a,a=>{r||(r=a)})));if(typeof r!="undefined")throw r;return s})}n.settled=e;function t(i){return new Promise((r,s)=>cu(this,void 0,void 0,function*(){try{yield i(r,s)}catch(o){s(o)}}))}n.withAsyncBody=t})(P9||(P9={}));class Hr{constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new Le,queueMicrotask(()=>cu(this,void 0,void 0,function*(){const t={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{yield Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))}static fromArray(e){return new Hr(t=>{t.emitMany(e)})}static fromPromise(e){return new Hr(t=>cu(this,void 0,void 0,function*(){t.emitMany(yield e)}))}static fromPromises(e){return new Hr(t=>cu(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>cu(this,void 0,void 0,function*(){return t.emitOne(yield i)})))}))}static merge(e){return new Hr(t=>cu(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>{var r,s;return cu(this,void 0,void 0,function*(){var o,a;try{for(r=l2(i);s=yield r.next(),!s.done;){const l=s.value;t.emitOne(l)}}catch(l){o={error:l}}finally{try{s&&!s.done&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}})}))}))}[Symbol.asyncIterator](){let e=0;return{next:()=>cu(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};yield xt.toPromise(this._onStateChanged.event)}while(!0)})}}static map(e,t){return new Hr(i=>cu(this,void 0,void 0,function*(){var r,s;try{for(var o=l2(e),a;a=yield o.next(),!a.done;){const l=a.value;i.emitOne(t(l))}}catch(l){r={error:l}}finally{try{a&&!a.done&&(s=o.return)&&(yield s.call(o))}finally{if(r)throw r.error}}}))}map(e){return Hr.map(this,e)}static filter(e,t){return new Hr(i=>cu(this,void 0,void 0,function*(){var r,s;try{for(var o=l2(e),a;a=yield o.next(),!a.done;){const l=a.value;t(l)&&i.emitOne(l)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(s=o.return)&&(yield s.call(o))}finally{if(r)throw r.error}}}))}filter(e){return Hr.filter(this,e)}static coalesce(e){return Hr.filter(e,t=>!!t)}coalesce(){return Hr.coalesce(this)}static toPromise(e){var t,i,r,s;return cu(this,void 0,void 0,function*(){const o=[];try{for(t=l2(e);i=yield t.next(),!i.done;){const a=i.value;o.push(a)}}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}return o})}toPromise(){return Hr.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}}Hr.EMPTY=Hr.fromArray([]);class Tot extends Hr{constructor(e,t){super(t);this._source=e}cancel(){this._source.cancel()}}function Not(n){const e=new co,t=n(e.token);return new Tot(e,i=>cu(this,void 0,void 0,function*(){var r,s;const o=e.token.onCancellationRequested(()=>{o.dispose(),e.dispose(),i.reject(new E1)});try{try{for(var a=l2(t),l;l=yield a.next(),!l.done;){const u=l.value;if(e.token.isCancellationRequested)return;i.emitOne(u)}}catch(u){r={error:u}}finally{try{l&&!l.done&&(s=a.return)&&(yield s.call(a))}finally{if(r)throw r.error}}o.dispose(),e.dispose()}catch(u){o.dispose(),e.dispose(),i.reject(u)}}))}class xot{constructor(e){this.computeFn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.computeFn(e)),this.lastCache}}class Py{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var Wge;function Hge(n){return!n||typeof n!="string"?!0:n.trim().length===0}const Mot=/{(\d+)}/g;function Su(n,...e){return e.length===0?n:n.replace(Mot,function(t,i){const r=parseInt(i,10);return isNaN(r)||r<0||r>=e.length?t:e[r]})}function YU(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Fu(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Aot(n,e=" "){const t=XU(n,e);return zge(t,e)}function XU(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function zge(n,e){if(!n||!e)return n;const t=e.length,i=n.length;if(t===0||i===0)return n;let r=i,s=-1;for(;s=n.lastIndexOf(e,r-1),!(s===-1||s+t!==r);){if(s===0)return"";r=s}return n.substring(0,r)}function Rot(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Oot(n){return n.replace(/\*/g,"")}function Uge(n,e,t={}){if(!n)throw new Error("Cannot create regex from empty string");e||(n=Fu(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(n,i)}function Pot(n){return n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$"?!1:!!(n.exec("")&&n.lastIndex===0)}function yF(n){return(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")}function ef(n){return n.split(/\r\n|\r|\n/)}function oa(n){for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function bi(n,e=0,t=n.length){for(let i=e;i<t;i++){const r=n.charCodeAt(i);if(r!==32&&r!==9)return n.substring(e,i)}return n.substring(e,t)}function jh(n,e=n.length-1){for(let t=e;t>=0;t--){const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function dk(n,e){return n<e?-1:n>e?1:0}function ZU(n,e,t=0,i=n.length,r=0,s=e.length){for(;t<i&&r<s;t++,r++){let l=n.charCodeAt(t),u=e.charCodeAt(r);if(l<u)return-1;if(l>u)return 1}const o=i-t,a=s-r;return o<a?-1:o>a?1:0}function F9(n,e){return nD(n,e,0,n.length,0,e.length)}function nD(n,e,t=0,i=n.length,r=0,s=e.length){for(;t<i&&r<s;t++,r++){let l=n.charCodeAt(t),u=e.charCodeAt(r);if(l===u)continue;if(l>=128||u>=128)return ZU(n.toLowerCase(),e.toLowerCase(),t,i,r,s);em(l)&&(l-=32),em(u)&&(u-=32);const c=l-u;if(c!==0)return c}const o=i-t,a=s-r;return o<a?-1:o>a?1:0}function em(n){return n>=97&&n<=122}function _h(n){return n>=65&&n<=90}function cC(n,e){return n.length===e.length&&nD(n,e)===0}function QU(n,e){const t=e.length;return e.length>n.length?!1:nD(n,e,0,t)===0}function Fy(n,e){let t,i=Math.min(n.length,e.length);for(t=0;t<i;t++)if(n.charCodeAt(t)!==e.charCodeAt(t))return t;return i}function QM(n,e){let t,i=Math.min(n.length,e.length);const r=n.length-1,s=e.length-1;for(t=0;t<i;t++)if(n.charCodeAt(r-t)!==e.charCodeAt(s-t))return t;return i}function ps(n){return 55296<=n&&n<=56319}function x_(n){return 56320<=n&&n<=57343}function JU(n,e){return(n-55296<<10)+(e-56320)+65536}function JM(n,e,t){const i=n.charCodeAt(t);if(ps(i)&&t+1<e){const r=n.charCodeAt(t+1);if(x_(r))return JU(i,r)}return i}function Fot(n,e){const t=n.charCodeAt(e-1);if(x_(t)&&e>1){const i=n.charCodeAt(e-2);if(ps(i))return JU(i,t)}return t}class ej{constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}get offset(){return this._offset}setOffset(e){this._offset=e}prevCodePoint(){const e=Fot(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=JM(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class eA{constructor(e,t=0){this._iterator=new ej(e,t)}get offset(){return this._iterator.offset}nextGraphemeLength(){const e=tm.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const s=t.offset,o=e.getGraphemeBreakType(t.nextCodePoint());if(Ite(r,o)){t.setOffset(s);break}r=o}return t.offset-i}prevGraphemeLength(){const e=tm.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const s=t.offset,o=e.getGraphemeBreakType(t.prevCodePoint());if(Ite(o,r)){t.setOffset(s);break}r=o}return i-t.offset}eol(){return this._iterator.eol()}}function tj(n,e){return new eA(n,e).nextGraphemeLength()}function jge(n,e){return new eA(n,e).prevGraphemeLength()}function Bot(n,e){e>0&&x_(n.charCodeAt(e))&&e--;const t=e+tj(n,e);return[t-jge(n,t),t]}const $ot=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function UO(n){return $ot.test(n)}const Vot=/^[\t\n\r\x20-\x7E]*$/;function nj(n){return Vot.test(n)}const Kge=/[\u2028\u2029]/;function Gge(n){return Kge.test(n)}function Km(n){return n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}function ij(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}const Wot=String.fromCharCode(65279);function rj(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function Hot(n,e=!1){return n?(e&&(n=n.replace(/\\./g,"")),n.toLowerCase()!==n):!1}function qge(n){return n=n%(2*26),n<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function Ite(n,e){return n===0?e!==5&&e!==7:n===2&&e===3?!1:n===4||n===2||n===3||e===4||e===2||e===3?!0:!(n===8&&(e===8||e===9||e===11||e===12)||(n===11||n===9)&&(e===9||e===10)||(n===12||n===10)&&e===10||e===5||e===13||e===7||n===1||n===13&&e===14||n===6&&e===6)}class tm{constructor(){this._data=zot()}static getInstance(){return tm._INSTANCE||(tm._INSTANCE=new tm),tm._INSTANCE}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let r=1;for(;r<=i;)if(e<t[3*r])r=2*r;else if(e>t[3*r+1])r=2*r+1;else return t[3*r+2];return 0}}tm._INSTANCE=null;function zot(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Uot(n,e){if(n===0)return 0;const t=jot(n,e);if(t!==void 0)return t;const i=new ej(e,n);return i.prevCodePoint(),i.offset}function jot(n,e){const t=new ej(e,n);let i=t.prevCodePoint();for(;Kot(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!ij(i))return;let r=t.offset;return r>0&&t.prevCodePoint()===8205&&(r=t.offset),r}function Kot(n){return 127995<=n&&n<=127999}const Got="\xA0";class Bc{constructor(e){this.confusableDictionary=e}static getInstance(e){return Bc.cache.get(Array.from(e))}static getLocales(){return Bc._locales.getValue()}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}Wge=Bc;Bc.ambiguousCharacterData=new Py(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));Bc.cache=new xot(n=>{function e(u){const c=new Map;for(let d=0;d<u.length;d+=2)c.set(u[d],u[d+1]);return c}function t(u,c){const d=new Map(u);for(const[h,f]of c)d.set(h,f);return d}function i(u,c){if(!u)return c;const d=new Map;for(const[h,f]of u)c.has(h)&&d.set(h,f);return d}const r=Wge.ambiguousCharacterData.getValue();let s=n.filter(u=>!u.startsWith("_")&&u in r);s.length===0&&(s=["_default"]);let o;for(const u of s){const c=e(r[u]);o=i(o,c)}const a=e(r._common),l=t(a,o);return new Bc(l)});Bc._locales=new Py(()=>Object.keys(Bc.ambiguousCharacterData.getValue()).filter(n=>!n.startsWith("_")));class Lg{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Lg.getRawData())),this._data}static isInvisibleCharacter(e){return Lg.getData().has(e)}static get codePoints(){return Lg.getData()}}Lg._data=void 0;function Dp(n){return n===47||n===92}function Yge(n){return n.replace(/[\\/]/g,zr.sep)}function qot(n){return n.indexOf("/")===-1&&(n=Yge(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function Tte(n,e=zr.sep){if(!n)return"";const t=n.length,i=n.charCodeAt(0);if(Dp(i)){if(Dp(n.charCodeAt(1))&&!Dp(n.charCodeAt(2))){let s=3;const o=s;for(;s<t&&!Dp(n.charCodeAt(s));s++);if(o!==s&&!Dp(n.charCodeAt(s+1))){for(s+=1;s<t;s++)if(Dp(n.charCodeAt(s)))return n.slice(0,s+1).replace(/[\\/]/g,e)}}return e}else if(Xge(i)&&n.charCodeAt(1)===58)return Dp(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let r=n.indexOf("://");if(r!==-1){for(r+=3;r<t;r++)if(Dp(n.charCodeAt(r)))return n.slice(0,r+1)}return""}function B9(n,e,t,i=Uh){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!QU(n,e))return!1;if(e.length===n.length)return!0;let s=e.length;return e.charAt(e.length-1)===i&&s--,n.charAt(s)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function Xge(n){return n>=65&&n<=90||n>=97&&n<=122}function Yot(n){const e=KU(n);return Gs?n.length>3?!1:Zge(e)&&(n.length===2||e.charCodeAt(2)===92):e===zr.sep}function Zge(n,e){return(e!==void 0?e:Gs)?Xge(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}var Nte,xte;class Xot{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class Zot{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?ZU(e,this._value,0,e.length,this._from,this._to):nD(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Qot{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?ZU(e,this._value,0,e.length,this._from,this._to):nD(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Jot{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Qot(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return F9(e,this._value.scheme);if(this._states[this._stateIdx]===2)return F9(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return dk(e,this._value.query);if(this._states[this._stateIdx]===5)return dk(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class lT{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}}class zC{constructor(e){this._iter=e}static forUris(e=()=>!1){return new zC(new Jot(e))}static forStrings(){return new zC(new Xot)}static forConfigKeys(){return new zC(new Zot)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;this._root||(this._root=new lT,this._root.segment=i.value());const s=[];for(r=this._root;;){const a=i.cmp(r.segment);if(a>0)r.left||(r.left=new lT,r.left.segment=i.value()),s.push([-1,r]),r=r.left;else if(a<0)r.right||(r.right=new lT,r.right.segment=i.value()),s.push([1,r]),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new lT,r.mid.segment=i.value()),s.push([0,r]),r=r.mid;else break}const o=r.value;r.value=t,r.key=e;for(let a=s.length-1;a>=0;a--){const l=s[a][1];l.updateHeight();const u=l.balanceFactor();if(u<-1||u>1){const c=s[a][0],d=s[a+1][0];if(c===1&&d===1)s[a][1]=l.rotateLeft();else if(c===-1&&d===-1)s[a][1]=l.rotateRight();else if(c===1&&d===-1)l.right=s[a+1][1]=s[a+1][1].rotateRight(),s[a][1]=l.rotateLeft();else if(c===-1&&d===1)l.left=s[a+1][1]=s[a+1][1].rotateLeft(),s[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(s[a-1][0]){case-1:s[a-1][1].left=s[a][1];break;case 1:s[a-1][1].right=s[a][1];break;case 0:s[a-1][1].mid=s[a][1];break}else this._root=s[0][1]}}return o}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const r=this._iter.reset(e),s=[];let o=this._root;for(;o;){const a=r.cmp(o.segment);if(a>0)s.push([-1,o]),o=o.left;else if(a<0)s.push([1,o]),o=o.right;else if(r.hasNext())r.next(),s.push([0,o]),o=o.mid;else break}if(!!o){if(t?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){const a=this._min(o.right),{key:l,value:u,segment:c}=a;this._delete(a.key,!1),o.key=l,o.value=u,o.segment=c}else{const a=(i=o.left)!==null&&i!==void 0?i:o.right;if(s.length>0){const[l,u]=s[s.length-1];switch(l){case-1:u.left=a;break;case 0:u.mid=a;break;case 1:u.right=a;break}}else this._root=a}for(let a=s.length-1;a>=0;a--){const l=s[a][1];l.updateHeight();const u=l.balanceFactor();if(u>1?(l.right.balanceFactor()>=0||(l.right=l.right.rotateRight()),s[a][1]=l.rotateLeft()):u<-1&&(l.left.balanceFactor()<=0||(l.left=l.left.rotateLeft()),s[a][1]=l.rotateRight()),a>0)switch(s[a-1][0]){case-1:s[a-1][1].left=s[a][1];break;case 1:s[a-1][1].right=s[a][1];break;case 0:s[a-1][1].mid=s[a][1];break}else this._root=s[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const s=t.cmp(i.segment);if(s>0)i=i.left;else if(s<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){!e||(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}}class eat{constructor(e,t){this.uri=e,this.value=t}}class na{constructor(e,t){this[Nte]="ResourceMap",e instanceof na?(this.map=new Map(e.map),this.toKey=t!=null?t:na.defaultToKey):(this.map=new Map,this.toKey=e!=null?e:na.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new eat(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t!="undefined"&&(e=e.bind(t));for(let[i,r]of this.map)e(r.value,r.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(Nte=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}}na.defaultToKey=n=>n.toString();class tat{constructor(){this[xte]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(!!i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let r=this._map.get(e);if(r)r.value=t,i!==0&&this.touch(r,i);else{switch(r={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:i.key,done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:i.value,done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const s={value:[i.key,i.value],done:!1};return i=i.next,s}else return{value:void 0,done:!0}}};return r}[(xte=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class kv extends tat{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}const wF="**",Mte="/",gx="[/\\\\]",px="[^/\\\\]",nat=/\//g;function Ate(n){switch(n){case 0:return"";case 1:return`${px}*?`;default:return`(?:${gx}|${px}+${gx}|${gx}${px}+)*?`}}function Rte(n,e){if(!n)return[];const t=[];let i=!1,r=!1,s="";for(const o of n){switch(o){case e:if(!i&&!r){t.push(s),s="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":r=!0;break;case"]":r=!1;break}s+=o}return s&&t.push(s),t}function Qge(n){if(!n)return"";let e="";const t=Rte(n,Mte);if(t.every(i=>i===wF))e=".*";else{let i=!1;t.forEach((r,s)=>{if(r===wF){i||(e+=Ate(2),i=!0);return}let o=!1,a="",l=!1,u="";for(const c of r){if(c!=="}"&&o){a+=c;continue}if(l&&(c!=="]"||!u)){let d;c==="-"?d=c:(c==="^"||c==="!")&&!u?d="^":c===Mte?d="":d=Fu(c),u+=d;continue}switch(c){case"{":o=!0;continue;case"[":l=!0;continue;case"}":{e+=`(?:${Rte(a,",").map(f=>Qge(f)).join("|")})`,o=!1,a="";break}case"]":e+="["+u+"]",l=!1,u="";break;case"?":e+=px;continue;case"*":e+=Ate(1);continue;default:e+=Fu(c)}}s<t.length-1&&(t[s+1]!==wF||s+2<t.length)&&(e+=gx),i=!1})}return e}const iat=/^\*\*\/\*\.[\w\.-]+$/,rat=/^\*\*\/([\w\.-]+)\/?$/,sat=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,oat=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,aat=/^\*\*((\/[\w\.-]+)+)\/?$/,lat=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Ote=new kv(1e4),Pte=function(){return!1},Kh=function(){return null};function sj(n,e){if(!n)return Kh;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let r=Ote.get(i);if(r)return Fte(r,n);let s;if(iat.test(t)){const o=t.substr(4);r=function(a,l){return typeof a=="string"&&a.endsWith(o)?t:null}}else(s=rat.exec(SF(t,e)))?r=uat(s[1],t):(e.trimForExclusions?oat:sat).test(t)?r=cat(t,e):(s=aat.exec(SF(t,e)))?r=Bte(s[1].substr(1),t,!0):(s=lat.exec(SF(t,e)))?r=Bte(s[1],t,!1):r=dat(t);return Ote.set(i,r),Fte(r,n)}function Fte(n,e){return typeof e=="string"?n:function(t,i){return B9(t,e.base,!Ao)?n(t.substr(e.base.length+1),i):null}}function SF(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}function uat(n,e){const t=`/${n}`,i=`\\${n}`,r=function(o,a){return typeof o!="string"?null:a?a===n?e:null:o===n||o.endsWith(t)||o.endsWith(i)?e:null},s=[n];return r.basenames=s,r.patterns=[e],r.allBasenames=s,r}function cat(n,e){const t=epe(n.slice(1,-1).split(",").map(a=>sj(a,e)).filter(a=>a!==Kh),n),i=t.length;if(!i)return Kh;if(i===1)return t[0];const r=function(a,l){for(let u=0,c=t.length;u<c;u++)if(t[u](a,l))return n;return null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function Bte(n,e,t){const i=Uh===zr.sep,r=i?n:n.replace(nat,Uh),s=Uh+r,o=zr.sep+n,a=t?function(l,u){return typeof l=="string"&&(l===r||l.endsWith(s)||!i&&(l===n||l.endsWith(o)))?e:null}:function(l,u){return typeof l=="string"&&(l===r||!i&&l===n)?e:null};return a.allPaths=[(t?"*/":"./")+n],a}function dat(n){try{const e=new RegExp(`^${Qge(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return Kh}}function hat(n,e,t){return!n||typeof e!="string"?!1:Jge(n)(e,void 0,t)}function Jge(n,e={}){if(!n)return Pte;if(typeof n=="string"||fat(n)){const t=sj(n,e);if(t===Kh)return Pte;const i=function(r,s){return!!t(r,s)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return gat(n,e)}function fat(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function gat(n,e){const t=epe(Object.getOwnPropertyNames(n).map(a=>pat(a,n[a],e)).filter(a=>a!==Kh)),i=t.length;if(!i)return Kh;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(c,d){for(let h=0,f=t.length;h<f;h++){const g=t[h](c,d);if(g)return g}return null},l=t.find(c=>!!c.allBasenames);l&&(a.allBasenames=l.allBasenames);const u=t.reduce((c,d)=>d.allPaths?c.concat(d.allPaths):c,[]);return u.length&&(a.allPaths=u),a}const r=function(a,l,u){let c;for(let d=0,h=t.length;d<h;d++){const f=t[d];f.requiresSiblings&&u&&(l||(l=i_(a)),c||(c=l.substr(0,l.length-fot(a).length)));const g=f(a,l,c,u);if(g)return g}return null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function pat(n,e,t){if(e===!1)return Kh;const i=sj(n,t);if(i===Kh)return Kh;if(typeof e=="boolean")return i;if(e){const r=e.when;if(typeof r=="string"){const s=(o,a,l,u)=>{if(!u||!i(o,a))return null;const c=r.replace("$(basename)",l),d=u(c);return Lot(d)?d.then(h=>h?n:null):d?n:null};return s.requiresSiblings=!0,s}}return i}function epe(n,e){const t=n.filter(a=>!!a.basenames);if(t.length<2)return n;const i=t.reduce((a,l)=>{const u=l.basenames;return u?a.concat(u):a},[]);let r;if(e){r=[];for(let a=0,l=i.length;a<l;a++)r.push(e)}else r=t.reduce((a,l)=>{const u=l.patterns;return u?a.concat(u):a},[]);const s=function(a,l){if(typeof a!="string")return null;if(!l){let c;for(c=a.length;c>0;c--){const d=a.charCodeAt(c-1);if(d===47||d===92)break}l=a.substr(c)}const u=i.indexOf(l);return u!==-1?r[u]:null};s.basenames=i,s.patterns=r,s.allBasenames=i;const o=n.filter(a=>!a.basenames);return o.push(s),o}function tpe(n,e,t,i){if(Array.isArray(n)){let r=0;for(const s of n){const o=tpe(s,e,t,i);if(o===10)return o;o>r&&(r=o)}return r}else{if(typeof n=="string")return i?n==="*"?5:n===t?10:0:0;if(n){const{language:r,pattern:s,scheme:o,hasAccessToAllModels:a}=n;if(!i&&!a)return 0;let l=0;if(o)if(o===e.scheme)l=10;else if(o==="*")l=5;else return 0;if(r)if(r===t)l=10;else if(r==="*")l=Math.max(l,5);else return 0;if(s){let u;if(typeof s=="string"?u=s:u=Object.assign(Object.assign({},s),{base:KU(s.base)}),u===e.fsPath||hat(u,e.fsPath))l=10;else return 0}return l}else return 0}}function npe(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(npe):!!n.exclusive}class mr{constructor(){this._clock=0,this._entries=[],this._onDidChange=new Le}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),_n(()=>{if(i){const r=this._entries.indexOf(i);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){const t=[];let i,r;return this._orderedForEach(e,s=>{i&&r===s._score?i.push(s.provider):(r=s._score,i=[s.provider],t.push(i))}),t}_orderedForEach(e,t){if(!!e){this._updateScores(e);for(const i of this._entries)i._score>0&&t(i)}}_updateScores(e){const t={uri:e.uri.toString(),language:e.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===t.language&&this._lastCandidate.uri===t.uri)){this._lastCandidate=t;for(let i of this._entries)if(i._score=tpe(i.selector,e.uri,e.getLanguageId(),Sot(e)),npe(i.selector)&&i._score>0){for(let r of this._entries)r._score=0;i._score=1e3;break}this._entries.sort(mr._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}var $9=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class mat{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new Le,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),_n(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerFactory(e,t){var i;(i=this._factories.get(e))===null||i===void 0||i.dispose();const r=new vat(this,e,t);return this._factories.set(e,r),_n(()=>{const s=this._factories.get(e);!s||s!==r||(this._factories.delete(e),s.dispose())})}getOrCreate(e){return $9(this,void 0,void 0,function*(){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(yield i.resolve(),this.get(e))})}get(e){return this._map.get(e)||null}isResolved(e){if(this.get(e))return!0;const i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class vat extends ze{constructor(e,t,i){super();this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return $9(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return $9(this,void 0,void 0,function*(){const e=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))})}}function _at(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}class k{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,k._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return k._allCodicons}}k._allCodicons=[];k.add=new k("add",{fontCharacter:"\\ea60"});k.plus=new k("plus",k.add.definition);k.gistNew=new k("gist-new",k.add.definition);k.repoCreate=new k("repo-create",k.add.definition);k.lightbulb=new k("lightbulb",{fontCharacter:"\\ea61"});k.lightBulb=new k("light-bulb",{fontCharacter:"\\ea61"});k.repo=new k("repo",{fontCharacter:"\\ea62"});k.repoDelete=new k("repo-delete",{fontCharacter:"\\ea62"});k.gistFork=new k("gist-fork",{fontCharacter:"\\ea63"});k.repoForked=new k("repo-forked",{fontCharacter:"\\ea63"});k.gitPullRequest=new k("git-pull-request",{fontCharacter:"\\ea64"});k.gitPullRequestAbandoned=new k("git-pull-request-abandoned",{fontCharacter:"\\ea64"});k.recordKeys=new k("record-keys",{fontCharacter:"\\ea65"});k.keyboard=new k("keyboard",{fontCharacter:"\\ea65"});k.tag=new k("tag",{fontCharacter:"\\ea66"});k.tagAdd=new k("tag-add",{fontCharacter:"\\ea66"});k.tagRemove=new k("tag-remove",{fontCharacter:"\\ea66"});k.person=new k("person",{fontCharacter:"\\ea67"});k.personFollow=new k("person-follow",{fontCharacter:"\\ea67"});k.personOutline=new k("person-outline",{fontCharacter:"\\ea67"});k.personFilled=new k("person-filled",{fontCharacter:"\\ea67"});k.gitBranch=new k("git-branch",{fontCharacter:"\\ea68"});k.gitBranchCreate=new k("git-branch-create",{fontCharacter:"\\ea68"});k.gitBranchDelete=new k("git-branch-delete",{fontCharacter:"\\ea68"});k.sourceControl=new k("source-control",{fontCharacter:"\\ea68"});k.mirror=new k("mirror",{fontCharacter:"\\ea69"});k.mirrorPublic=new k("mirror-public",{fontCharacter:"\\ea69"});k.star=new k("star",{fontCharacter:"\\ea6a"});k.starAdd=new k("star-add",{fontCharacter:"\\ea6a"});k.starDelete=new k("star-delete",{fontCharacter:"\\ea6a"});k.starEmpty=new k("star-empty",{fontCharacter:"\\ea6a"});k.comment=new k("comment",{fontCharacter:"\\ea6b"});k.commentAdd=new k("comment-add",{fontCharacter:"\\ea6b"});k.alert=new k("alert",{fontCharacter:"\\ea6c"});k.warning=new k("warning",{fontCharacter:"\\ea6c"});k.search=new k("search",{fontCharacter:"\\ea6d"});k.searchSave=new k("search-save",{fontCharacter:"\\ea6d"});k.logOut=new k("log-out",{fontCharacter:"\\ea6e"});k.signOut=new k("sign-out",{fontCharacter:"\\ea6e"});k.logIn=new k("log-in",{fontCharacter:"\\ea6f"});k.signIn=new k("sign-in",{fontCharacter:"\\ea6f"});k.eye=new k("eye",{fontCharacter:"\\ea70"});k.eyeUnwatch=new k("eye-unwatch",{fontCharacter:"\\ea70"});k.eyeWatch=new k("eye-watch",{fontCharacter:"\\ea70"});k.circleFilled=new k("circle-filled",{fontCharacter:"\\ea71"});k.primitiveDot=new k("primitive-dot",{fontCharacter:"\\ea71"});k.closeDirty=new k("close-dirty",{fontCharacter:"\\ea71"});k.debugBreakpoint=new k("debug-breakpoint",{fontCharacter:"\\ea71"});k.debugBreakpointDisabled=new k("debug-breakpoint-disabled",{fontCharacter:"\\ea71"});k.debugHint=new k("debug-hint",{fontCharacter:"\\ea71"});k.primitiveSquare=new k("primitive-square",{fontCharacter:"\\ea72"});k.edit=new k("edit",{fontCharacter:"\\ea73"});k.pencil=new k("pencil",{fontCharacter:"\\ea73"});k.info=new k("info",{fontCharacter:"\\ea74"});k.issueOpened=new k("issue-opened",{fontCharacter:"\\ea74"});k.gistPrivate=new k("gist-private",{fontCharacter:"\\ea75"});k.gitForkPrivate=new k("git-fork-private",{fontCharacter:"\\ea75"});k.lock=new k("lock",{fontCharacter:"\\ea75"});k.mirrorPrivate=new k("mirror-private",{fontCharacter:"\\ea75"});k.close=new k("close",{fontCharacter:"\\ea76"});k.removeClose=new k("remove-close",{fontCharacter:"\\ea76"});k.x=new k("x",{fontCharacter:"\\ea76"});k.repoSync=new k("repo-sync",{fontCharacter:"\\ea77"});k.sync=new k("sync",{fontCharacter:"\\ea77"});k.clone=new k("clone",{fontCharacter:"\\ea78"});k.desktopDownload=new k("desktop-download",{fontCharacter:"\\ea78"});k.beaker=new k("beaker",{fontCharacter:"\\ea79"});k.microscope=new k("microscope",{fontCharacter:"\\ea79"});k.vm=new k("vm",{fontCharacter:"\\ea7a"});k.deviceDesktop=new k("device-desktop",{fontCharacter:"\\ea7a"});k.file=new k("file",{fontCharacter:"\\ea7b"});k.fileText=new k("file-text",{fontCharacter:"\\ea7b"});k.more=new k("more",{fontCharacter:"\\ea7c"});k.ellipsis=new k("ellipsis",{fontCharacter:"\\ea7c"});k.kebabHorizontal=new k("kebab-horizontal",{fontCharacter:"\\ea7c"});k.mailReply=new k("mail-reply",{fontCharacter:"\\ea7d"});k.reply=new k("reply",{fontCharacter:"\\ea7d"});k.organization=new k("organization",{fontCharacter:"\\ea7e"});k.organizationFilled=new k("organization-filled",{fontCharacter:"\\ea7e"});k.organizationOutline=new k("organization-outline",{fontCharacter:"\\ea7e"});k.newFile=new k("new-file",{fontCharacter:"\\ea7f"});k.fileAdd=new k("file-add",{fontCharacter:"\\ea7f"});k.newFolder=new k("new-folder",{fontCharacter:"\\ea80"});k.fileDirectoryCreate=new k("file-directory-create",{fontCharacter:"\\ea80"});k.trash=new k("trash",{fontCharacter:"\\ea81"});k.trashcan=new k("trashcan",{fontCharacter:"\\ea81"});k.history=new k("history",{fontCharacter:"\\ea82"});k.clock=new k("clock",{fontCharacter:"\\ea82"});k.folder=new k("folder",{fontCharacter:"\\ea83"});k.fileDirectory=new k("file-directory",{fontCharacter:"\\ea83"});k.symbolFolder=new k("symbol-folder",{fontCharacter:"\\ea83"});k.logoGithub=new k("logo-github",{fontCharacter:"\\ea84"});k.markGithub=new k("mark-github",{fontCharacter:"\\ea84"});k.github=new k("github",{fontCharacter:"\\ea84"});k.terminal=new k("terminal",{fontCharacter:"\\ea85"});k.console=new k("console",{fontCharacter:"\\ea85"});k.repl=new k("repl",{fontCharacter:"\\ea85"});k.zap=new k("zap",{fontCharacter:"\\ea86"});k.symbolEvent=new k("symbol-event",{fontCharacter:"\\ea86"});k.error=new k("error",{fontCharacter:"\\ea87"});k.stop=new k("stop",{fontCharacter:"\\ea87"});k.variable=new k("variable",{fontCharacter:"\\ea88"});k.symbolVariable=new k("symbol-variable",{fontCharacter:"\\ea88"});k.array=new k("array",{fontCharacter:"\\ea8a"});k.symbolArray=new k("symbol-array",{fontCharacter:"\\ea8a"});k.symbolModule=new k("symbol-module",{fontCharacter:"\\ea8b"});k.symbolPackage=new k("symbol-package",{fontCharacter:"\\ea8b"});k.symbolNamespace=new k("symbol-namespace",{fontCharacter:"\\ea8b"});k.symbolObject=new k("symbol-object",{fontCharacter:"\\ea8b"});k.symbolMethod=new k("symbol-method",{fontCharacter:"\\ea8c"});k.symbolFunction=new k("symbol-function",{fontCharacter:"\\ea8c"});k.symbolConstructor=new k("symbol-constructor",{fontCharacter:"\\ea8c"});k.symbolBoolean=new k("symbol-boolean",{fontCharacter:"\\ea8f"});k.symbolNull=new k("symbol-null",{fontCharacter:"\\ea8f"});k.symbolNumeric=new k("symbol-numeric",{fontCharacter:"\\ea90"});k.symbolNumber=new k("symbol-number",{fontCharacter:"\\ea90"});k.symbolStructure=new k("symbol-structure",{fontCharacter:"\\ea91"});k.symbolStruct=new k("symbol-struct",{fontCharacter:"\\ea91"});k.symbolParameter=new k("symbol-parameter",{fontCharacter:"\\ea92"});k.symbolTypeParameter=new k("symbol-type-parameter",{fontCharacter:"\\ea92"});k.symbolKey=new k("symbol-key",{fontCharacter:"\\ea93"});k.symbolText=new k("symbol-text",{fontCharacter:"\\ea93"});k.symbolReference=new k("symbol-reference",{fontCharacter:"\\ea94"});k.goToFile=new k("go-to-file",{fontCharacter:"\\ea94"});k.symbolEnum=new k("symbol-enum",{fontCharacter:"\\ea95"});k.symbolValue=new k("symbol-value",{fontCharacter:"\\ea95"});k.symbolRuler=new k("symbol-ruler",{fontCharacter:"\\ea96"});k.symbolUnit=new k("symbol-unit",{fontCharacter:"\\ea96"});k.activateBreakpoints=new k("activate-breakpoints",{fontCharacter:"\\ea97"});k.archive=new k("archive",{fontCharacter:"\\ea98"});k.arrowBoth=new k("arrow-both",{fontCharacter:"\\ea99"});k.arrowDown=new k("arrow-down",{fontCharacter:"\\ea9a"});k.arrowLeft=new k("arrow-left",{fontCharacter:"\\ea9b"});k.arrowRight=new k("arrow-right",{fontCharacter:"\\ea9c"});k.arrowSmallDown=new k("arrow-small-down",{fontCharacter:"\\ea9d"});k.arrowSmallLeft=new k("arrow-small-left",{fontCharacter:"\\ea9e"});k.arrowSmallRight=new k("arrow-small-right",{fontCharacter:"\\ea9f"});k.arrowSmallUp=new k("arrow-small-up",{fontCharacter:"\\eaa0"});k.arrowUp=new k("arrow-up",{fontCharacter:"\\eaa1"});k.bell=new k("bell",{fontCharacter:"\\eaa2"});k.bold=new k("bold",{fontCharacter:"\\eaa3"});k.book=new k("book",{fontCharacter:"\\eaa4"});k.bookmark=new k("bookmark",{fontCharacter:"\\eaa5"});k.debugBreakpointConditionalUnverified=new k("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"});k.debugBreakpointConditional=new k("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"});k.debugBreakpointConditionalDisabled=new k("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"});k.debugBreakpointDataUnverified=new k("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"});k.debugBreakpointData=new k("debug-breakpoint-data",{fontCharacter:"\\eaa9"});k.debugBreakpointDataDisabled=new k("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"});k.debugBreakpointLogUnverified=new k("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"});k.debugBreakpointLog=new k("debug-breakpoint-log",{fontCharacter:"\\eaab"});k.debugBreakpointLogDisabled=new k("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"});k.briefcase=new k("briefcase",{fontCharacter:"\\eaac"});k.broadcast=new k("broadcast",{fontCharacter:"\\eaad"});k.browser=new k("browser",{fontCharacter:"\\eaae"});k.bug=new k("bug",{fontCharacter:"\\eaaf"});k.calendar=new k("calendar",{fontCharacter:"\\eab0"});k.caseSensitive=new k("case-sensitive",{fontCharacter:"\\eab1"});k.check=new k("check",{fontCharacter:"\\eab2"});k.checklist=new k("checklist",{fontCharacter:"\\eab3"});k.chevronDown=new k("chevron-down",{fontCharacter:"\\eab4"});k.dropDownButton=new k("drop-down-button",k.chevronDown.definition);k.chevronLeft=new k("chevron-left",{fontCharacter:"\\eab5"});k.chevronRight=new k("chevron-right",{fontCharacter:"\\eab6"});k.chevronUp=new k("chevron-up",{fontCharacter:"\\eab7"});k.chromeClose=new k("chrome-close",{fontCharacter:"\\eab8"});k.chromeMaximize=new k("chrome-maximize",{fontCharacter:"\\eab9"});k.chromeMinimize=new k("chrome-minimize",{fontCharacter:"\\eaba"});k.chromeRestore=new k("chrome-restore",{fontCharacter:"\\eabb"});k.circleOutline=new k("circle-outline",{fontCharacter:"\\eabc"});k.debugBreakpointUnverified=new k("debug-breakpoint-unverified",{fontCharacter:"\\eabc"});k.circleSlash=new k("circle-slash",{fontCharacter:"\\eabd"});k.circuitBoard=new k("circuit-board",{fontCharacter:"\\eabe"});k.clearAll=new k("clear-all",{fontCharacter:"\\eabf"});k.clippy=new k("clippy",{fontCharacter:"\\eac0"});k.closeAll=new k("close-all",{fontCharacter:"\\eac1"});k.cloudDownload=new k("cloud-download",{fontCharacter:"\\eac2"});k.cloudUpload=new k("cloud-upload",{fontCharacter:"\\eac3"});k.code=new k("code",{fontCharacter:"\\eac4"});k.collapseAll=new k("collapse-all",{fontCharacter:"\\eac5"});k.colorMode=new k("color-mode",{fontCharacter:"\\eac6"});k.commentDiscussion=new k("comment-discussion",{fontCharacter:"\\eac7"});k.compareChanges=new k("compare-changes",{fontCharacter:"\\eafd"});k.creditCard=new k("credit-card",{fontCharacter:"\\eac9"});k.dash=new k("dash",{fontCharacter:"\\eacc"});k.dashboard=new k("dashboard",{fontCharacter:"\\eacd"});k.database=new k("database",{fontCharacter:"\\eace"});k.debugContinue=new k("debug-continue",{fontCharacter:"\\eacf"});k.debugDisconnect=new k("debug-disconnect",{fontCharacter:"\\ead0"});k.debugPause=new k("debug-pause",{fontCharacter:"\\ead1"});k.debugRestart=new k("debug-restart",{fontCharacter:"\\ead2"});k.debugStart=new k("debug-start",{fontCharacter:"\\ead3"});k.debugStepInto=new k("debug-step-into",{fontCharacter:"\\ead4"});k.debugStepOut=new k("debug-step-out",{fontCharacter:"\\ead5"});k.debugStepOver=new k("debug-step-over",{fontCharacter:"\\ead6"});k.debugStop=new k("debug-stop",{fontCharacter:"\\ead7"});k.debug=new k("debug",{fontCharacter:"\\ead8"});k.deviceCameraVideo=new k("device-camera-video",{fontCharacter:"\\ead9"});k.deviceCamera=new k("device-camera",{fontCharacter:"\\eada"});k.deviceMobile=new k("device-mobile",{fontCharacter:"\\eadb"});k.diffAdded=new k("diff-added",{fontCharacter:"\\eadc"});k.diffIgnored=new k("diff-ignored",{fontCharacter:"\\eadd"});k.diffModified=new k("diff-modified",{fontCharacter:"\\eade"});k.diffRemoved=new k("diff-removed",{fontCharacter:"\\eadf"});k.diffRenamed=new k("diff-renamed",{fontCharacter:"\\eae0"});k.diff=new k("diff",{fontCharacter:"\\eae1"});k.discard=new k("discard",{fontCharacter:"\\eae2"});k.editorLayout=new k("editor-layout",{fontCharacter:"\\eae3"});k.emptyWindow=new k("empty-window",{fontCharacter:"\\eae4"});k.exclude=new k("exclude",{fontCharacter:"\\eae5"});k.extensions=new k("extensions",{fontCharacter:"\\eae6"});k.eyeClosed=new k("eye-closed",{fontCharacter:"\\eae7"});k.fileBinary=new k("file-binary",{fontCharacter:"\\eae8"});k.fileCode=new k("file-code",{fontCharacter:"\\eae9"});k.fileMedia=new k("file-media",{fontCharacter:"\\eaea"});k.filePdf=new k("file-pdf",{fontCharacter:"\\eaeb"});k.fileSubmodule=new k("file-submodule",{fontCharacter:"\\eaec"});k.fileSymlinkDirectory=new k("file-symlink-directory",{fontCharacter:"\\eaed"});k.fileSymlinkFile=new k("file-symlink-file",{fontCharacter:"\\eaee"});k.fileZip=new k("file-zip",{fontCharacter:"\\eaef"});k.files=new k("files",{fontCharacter:"\\eaf0"});k.filter=new k("filter",{fontCharacter:"\\eaf1"});k.flame=new k("flame",{fontCharacter:"\\eaf2"});k.foldDown=new k("fold-down",{fontCharacter:"\\eaf3"});k.foldUp=new k("fold-up",{fontCharacter:"\\eaf4"});k.fold=new k("fold",{fontCharacter:"\\eaf5"});k.folderActive=new k("folder-active",{fontCharacter:"\\eaf6"});k.folderOpened=new k("folder-opened",{fontCharacter:"\\eaf7"});k.gear=new k("gear",{fontCharacter:"\\eaf8"});k.gift=new k("gift",{fontCharacter:"\\eaf9"});k.gistSecret=new k("gist-secret",{fontCharacter:"\\eafa"});k.gist=new k("gist",{fontCharacter:"\\eafb"});k.gitCommit=new k("git-commit",{fontCharacter:"\\eafc"});k.gitCompare=new k("git-compare",{fontCharacter:"\\eafd"});k.gitMerge=new k("git-merge",{fontCharacter:"\\eafe"});k.githubAction=new k("github-action",{fontCharacter:"\\eaff"});k.githubAlt=new k("github-alt",{fontCharacter:"\\eb00"});k.globe=new k("globe",{fontCharacter:"\\eb01"});k.grabber=new k("grabber",{fontCharacter:"\\eb02"});k.graph=new k("graph",{fontCharacter:"\\eb03"});k.gripper=new k("gripper",{fontCharacter:"\\eb04"});k.heart=new k("heart",{fontCharacter:"\\eb05"});k.home=new k("home",{fontCharacter:"\\eb06"});k.horizontalRule=new k("horizontal-rule",{fontCharacter:"\\eb07"});k.hubot=new k("hubot",{fontCharacter:"\\eb08"});k.inbox=new k("inbox",{fontCharacter:"\\eb09"});k.issueClosed=new k("issue-closed",{fontCharacter:"\\eba4"});k.issueReopened=new k("issue-reopened",{fontCharacter:"\\eb0b"});k.issues=new k("issues",{fontCharacter:"\\eb0c"});k.italic=new k("italic",{fontCharacter:"\\eb0d"});k.jersey=new k("jersey",{fontCharacter:"\\eb0e"});k.json=new k("json",{fontCharacter:"\\eb0f"});k.kebabVertical=new k("kebab-vertical",{fontCharacter:"\\eb10"});k.key=new k("key",{fontCharacter:"\\eb11"});k.law=new k("law",{fontCharacter:"\\eb12"});k.lightbulbAutofix=new k("lightbulb-autofix",{fontCharacter:"\\eb13"});k.linkExternal=new k("link-external",{fontCharacter:"\\eb14"});k.link=new k("link",{fontCharacter:"\\eb15"});k.listOrdered=new k("list-ordered",{fontCharacter:"\\eb16"});k.listUnordered=new k("list-unordered",{fontCharacter:"\\eb17"});k.liveShare=new k("live-share",{fontCharacter:"\\eb18"});k.loading=new k("loading",{fontCharacter:"\\eb19"});k.location=new k("location",{fontCharacter:"\\eb1a"});k.mailRead=new k("mail-read",{fontCharacter:"\\eb1b"});k.mail=new k("mail",{fontCharacter:"\\eb1c"});k.markdown=new k("markdown",{fontCharacter:"\\eb1d"});k.megaphone=new k("megaphone",{fontCharacter:"\\eb1e"});k.mention=new k("mention",{fontCharacter:"\\eb1f"});k.milestone=new k("milestone",{fontCharacter:"\\eb20"});k.mortarBoard=new k("mortar-board",{fontCharacter:"\\eb21"});k.move=new k("move",{fontCharacter:"\\eb22"});k.multipleWindows=new k("multiple-windows",{fontCharacter:"\\eb23"});k.mute=new k("mute",{fontCharacter:"\\eb24"});k.noNewline=new k("no-newline",{fontCharacter:"\\eb25"});k.note=new k("note",{fontCharacter:"\\eb26"});k.octoface=new k("octoface",{fontCharacter:"\\eb27"});k.openPreview=new k("open-preview",{fontCharacter:"\\eb28"});k.package_=new k("package",{fontCharacter:"\\eb29"});k.paintcan=new k("paintcan",{fontCharacter:"\\eb2a"});k.pin=new k("pin",{fontCharacter:"\\eb2b"});k.play=new k("play",{fontCharacter:"\\eb2c"});k.run=new k("run",{fontCharacter:"\\eb2c"});k.plug=new k("plug",{fontCharacter:"\\eb2d"});k.preserveCase=new k("preserve-case",{fontCharacter:"\\eb2e"});k.preview=new k("preview",{fontCharacter:"\\eb2f"});k.project=new k("project",{fontCharacter:"\\eb30"});k.pulse=new k("pulse",{fontCharacter:"\\eb31"});k.question=new k("question",{fontCharacter:"\\eb32"});k.quote=new k("quote",{fontCharacter:"\\eb33"});k.radioTower=new k("radio-tower",{fontCharacter:"\\eb34"});k.reactions=new k("reactions",{fontCharacter:"\\eb35"});k.references=new k("references",{fontCharacter:"\\eb36"});k.refresh=new k("refresh",{fontCharacter:"\\eb37"});k.regex=new k("regex",{fontCharacter:"\\eb38"});k.remoteExplorer=new k("remote-explorer",{fontCharacter:"\\eb39"});k.remote=new k("remote",{fontCharacter:"\\eb3a"});k.remove=new k("remove",{fontCharacter:"\\eb3b"});k.replaceAll=new k("replace-all",{fontCharacter:"\\eb3c"});k.replace=new k("replace",{fontCharacter:"\\eb3d"});k.repoClone=new k("repo-clone",{fontCharacter:"\\eb3e"});k.repoForcePush=new k("repo-force-push",{fontCharacter:"\\eb3f"});k.repoPull=new k("repo-pull",{fontCharacter:"\\eb40"});k.repoPush=new k("repo-push",{fontCharacter:"\\eb41"});k.report=new k("report",{fontCharacter:"\\eb42"});k.requestChanges=new k("request-changes",{fontCharacter:"\\eb43"});k.rocket=new k("rocket",{fontCharacter:"\\eb44"});k.rootFolderOpened=new k("root-folder-opened",{fontCharacter:"\\eb45"});k.rootFolder=new k("root-folder",{fontCharacter:"\\eb46"});k.rss=new k("rss",{fontCharacter:"\\eb47"});k.ruby=new k("ruby",{fontCharacter:"\\eb48"});k.saveAll=new k("save-all",{fontCharacter:"\\eb49"});k.saveAs=new k("save-as",{fontCharacter:"\\eb4a"});k.save=new k("save",{fontCharacter:"\\eb4b"});k.screenFull=new k("screen-full",{fontCharacter:"\\eb4c"});k.screenNormal=new k("screen-normal",{fontCharacter:"\\eb4d"});k.searchStop=new k("search-stop",{fontCharacter:"\\eb4e"});k.server=new k("server",{fontCharacter:"\\eb50"});k.settingsGear=new k("settings-gear",{fontCharacter:"\\eb51"});k.settings=new k("settings",{fontCharacter:"\\eb52"});k.shield=new k("shield",{fontCharacter:"\\eb53"});k.smiley=new k("smiley",{fontCharacter:"\\eb54"});k.sortPrecedence=new k("sort-precedence",{fontCharacter:"\\eb55"});k.splitHorizontal=new k("split-horizontal",{fontCharacter:"\\eb56"});k.splitVertical=new k("split-vertical",{fontCharacter:"\\eb57"});k.squirrel=new k("squirrel",{fontCharacter:"\\eb58"});k.starFull=new k("star-full",{fontCharacter:"\\eb59"});k.starHalf=new k("star-half",{fontCharacter:"\\eb5a"});k.symbolClass=new k("symbol-class",{fontCharacter:"\\eb5b"});k.symbolColor=new k("symbol-color",{fontCharacter:"\\eb5c"});k.symbolCustomColor=new k("symbol-customcolor",{fontCharacter:"\\eb5c"});k.symbolConstant=new k("symbol-constant",{fontCharacter:"\\eb5d"});k.symbolEnumMember=new k("symbol-enum-member",{fontCharacter:"\\eb5e"});k.symbolField=new k("symbol-field",{fontCharacter:"\\eb5f"});k.symbolFile=new k("symbol-file",{fontCharacter:"\\eb60"});k.symbolInterface=new k("symbol-interface",{fontCharacter:"\\eb61"});k.symbolKeyword=new k("symbol-keyword",{fontCharacter:"\\eb62"});k.symbolMisc=new k("symbol-misc",{fontCharacter:"\\eb63"});k.symbolOperator=new k("symbol-operator",{fontCharacter:"\\eb64"});k.symbolProperty=new k("symbol-property",{fontCharacter:"\\eb65"});k.wrench=new k("wrench",{fontCharacter:"\\eb65"});k.wrenchSubaction=new k("wrench-subaction",{fontCharacter:"\\eb65"});k.symbolSnippet=new k("symbol-snippet",{fontCharacter:"\\eb66"});k.tasklist=new k("tasklist",{fontCharacter:"\\eb67"});k.telescope=new k("telescope",{fontCharacter:"\\eb68"});k.textSize=new k("text-size",{fontCharacter:"\\eb69"});k.threeBars=new k("three-bars",{fontCharacter:"\\eb6a"});k.thumbsdown=new k("thumbsdown",{fontCharacter:"\\eb6b"});k.thumbsup=new k("thumbsup",{fontCharacter:"\\eb6c"});k.tools=new k("tools",{fontCharacter:"\\eb6d"});k.triangleDown=new k("triangle-down",{fontCharacter:"\\eb6e"});k.triangleLeft=new k("triangle-left",{fontCharacter:"\\eb6f"});k.triangleRight=new k("triangle-right",{fontCharacter:"\\eb70"});k.triangleUp=new k("triangle-up",{fontCharacter:"\\eb71"});k.twitter=new k("twitter",{fontCharacter:"\\eb72"});k.unfold=new k("unfold",{fontCharacter:"\\eb73"});k.unlock=new k("unlock",{fontCharacter:"\\eb74"});k.unmute=new k("unmute",{fontCharacter:"\\eb75"});k.unverified=new k("unverified",{fontCharacter:"\\eb76"});k.verified=new k("verified",{fontCharacter:"\\eb77"});k.versions=new k("versions",{fontCharacter:"\\eb78"});k.vmActive=new k("vm-active",{fontCharacter:"\\eb79"});k.vmOutline=new k("vm-outline",{fontCharacter:"\\eb7a"});k.vmRunning=new k("vm-running",{fontCharacter:"\\eb7b"});k.watch=new k("watch",{fontCharacter:"\\eb7c"});k.whitespace=new k("whitespace",{fontCharacter:"\\eb7d"});k.wholeWord=new k("whole-word",{fontCharacter:"\\eb7e"});k.window=new k("window",{fontCharacter:"\\eb7f"});k.wordWrap=new k("word-wrap",{fontCharacter:"\\eb80"});k.zoomIn=new k("zoom-in",{fontCharacter:"\\eb81"});k.zoomOut=new k("zoom-out",{fontCharacter:"\\eb82"});k.listFilter=new k("list-filter",{fontCharacter:"\\eb83"});k.listFlat=new k("list-flat",{fontCharacter:"\\eb84"});k.listSelection=new k("list-selection",{fontCharacter:"\\eb85"});k.selection=new k("selection",{fontCharacter:"\\eb85"});k.listTree=new k("list-tree",{fontCharacter:"\\eb86"});k.debugBreakpointFunctionUnverified=new k("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"});k.debugBreakpointFunction=new k("debug-breakpoint-function",{fontCharacter:"\\eb88"});k.debugBreakpointFunctionDisabled=new k("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"});k.debugStackframeActive=new k("debug-stackframe-active",{fontCharacter:"\\eb89"});k.debugStackframeDot=new k("debug-stackframe-dot",{fontCharacter:"\\eb8a"});k.debugStackframe=new k("debug-stackframe",{fontCharacter:"\\eb8b"});k.debugStackframeFocused=new k("debug-stackframe-focused",{fontCharacter:"\\eb8b"});k.debugBreakpointUnsupported=new k("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"});k.symbolString=new k("symbol-string",{fontCharacter:"\\eb8d"});k.debugReverseContinue=new k("debug-reverse-continue",{fontCharacter:"\\eb8e"});k.debugStepBack=new k("debug-step-back",{fontCharacter:"\\eb8f"});k.debugRestartFrame=new k("debug-restart-frame",{fontCharacter:"\\eb90"});k.callIncoming=new k("call-incoming",{fontCharacter:"\\eb92"});k.callOutgoing=new k("call-outgoing",{fontCharacter:"\\eb93"});k.menu=new k("menu",{fontCharacter:"\\eb94"});k.expandAll=new k("expand-all",{fontCharacter:"\\eb95"});k.feedback=new k("feedback",{fontCharacter:"\\eb96"});k.groupByRefType=new k("group-by-ref-type",{fontCharacter:"\\eb97"});k.ungroupByRefType=new k("ungroup-by-ref-type",{fontCharacter:"\\eb98"});k.account=new k("account",{fontCharacter:"\\eb99"});k.bellDot=new k("bell-dot",{fontCharacter:"\\eb9a"});k.debugConsole=new k("debug-console",{fontCharacter:"\\eb9b"});k.library=new k("library",{fontCharacter:"\\eb9c"});k.output=new k("output",{fontCharacter:"\\eb9d"});k.runAll=new k("run-all",{fontCharacter:"\\eb9e"});k.syncIgnored=new k("sync-ignored",{fontCharacter:"\\eb9f"});k.pinned=new k("pinned",{fontCharacter:"\\eba0"});k.githubInverted=new k("github-inverted",{fontCharacter:"\\eba1"});k.debugAlt=new k("debug-alt",{fontCharacter:"\\eb91"});k.serverProcess=new k("server-process",{fontCharacter:"\\eba2"});k.serverEnvironment=new k("server-environment",{fontCharacter:"\\eba3"});k.pass=new k("pass",{fontCharacter:"\\eba4"});k.stopCircle=new k("stop-circle",{fontCharacter:"\\eba5"});k.playCircle=new k("play-circle",{fontCharacter:"\\eba6"});k.record=new k("record",{fontCharacter:"\\eba7"});k.debugAltSmall=new k("debug-alt-small",{fontCharacter:"\\eba8"});k.vmConnect=new k("vm-connect",{fontCharacter:"\\eba9"});k.cloud=new k("cloud",{fontCharacter:"\\ebaa"});k.merge=new k("merge",{fontCharacter:"\\ebab"});k.exportIcon=new k("export",{fontCharacter:"\\ebac"});k.graphLeft=new k("graph-left",{fontCharacter:"\\ebad"});k.magnet=new k("magnet",{fontCharacter:"\\ebae"});k.notebook=new k("notebook",{fontCharacter:"\\ebaf"});k.redo=new k("redo",{fontCharacter:"\\ebb0"});k.checkAll=new k("check-all",{fontCharacter:"\\ebb1"});k.pinnedDirty=new k("pinned-dirty",{fontCharacter:"\\ebb2"});k.passFilled=new k("pass-filled",{fontCharacter:"\\ebb3"});k.circleLargeFilled=new k("circle-large-filled",{fontCharacter:"\\ebb4"});k.circleLargeOutline=new k("circle-large-outline",{fontCharacter:"\\ebb5"});k.combine=new k("combine",{fontCharacter:"\\ebb6"});k.gather=new k("gather",{fontCharacter:"\\ebb6"});k.table=new k("table",{fontCharacter:"\\ebb7"});k.variableGroup=new k("variable-group",{fontCharacter:"\\ebb8"});k.typeHierarchy=new k("type-hierarchy",{fontCharacter:"\\ebb9"});k.typeHierarchySub=new k("type-hierarchy-sub",{fontCharacter:"\\ebba"});k.typeHierarchySuper=new k("type-hierarchy-super",{fontCharacter:"\\ebbb"});k.gitPullRequestCreate=new k("git-pull-request-create",{fontCharacter:"\\ebbc"});k.runAbove=new k("run-above",{fontCharacter:"\\ebbd"});k.runBelow=new k("run-below",{fontCharacter:"\\ebbe"});k.notebookTemplate=new k("notebook-template",{fontCharacter:"\\ebbf"});k.debugRerun=new k("debug-rerun",{fontCharacter:"\\ebc0"});k.workspaceTrusted=new k("workspace-trusted",{fontCharacter:"\\ebc1"});k.workspaceUntrusted=new k("workspace-untrusted",{fontCharacter:"\\ebc2"});k.workspaceUnspecified=new k("workspace-unspecified",{fontCharacter:"\\ebc3"});k.terminalCmd=new k("terminal-cmd",{fontCharacter:"\\ebc4"});k.terminalDebian=new k("terminal-debian",{fontCharacter:"\\ebc5"});k.terminalLinux=new k("terminal-linux",{fontCharacter:"\\ebc6"});k.terminalPowershell=new k("terminal-powershell",{fontCharacter:"\\ebc7"});k.terminalTmux=new k("terminal-tmux",{fontCharacter:"\\ebc8"});k.terminalUbuntu=new k("terminal-ubuntu",{fontCharacter:"\\ebc9"});k.terminalBash=new k("terminal-bash",{fontCharacter:"\\ebca"});k.arrowSwap=new k("arrow-swap",{fontCharacter:"\\ebcb"});k.copy=new k("copy",{fontCharacter:"\\ebcc"});k.personAdd=new k("person-add",{fontCharacter:"\\ebcd"});k.filterFilled=new k("filter-filled",{fontCharacter:"\\ebce"});k.wand=new k("wand",{fontCharacter:"\\ebcf"});k.debugLineByLine=new k("debug-line-by-line",{fontCharacter:"\\ebd0"});k.inspect=new k("inspect",{fontCharacter:"\\ebd1"});k.layers=new k("layers",{fontCharacter:"\\ebd2"});k.layersDot=new k("layers-dot",{fontCharacter:"\\ebd3"});k.layersActive=new k("layers-active",{fontCharacter:"\\ebd4"});k.compass=new k("compass",{fontCharacter:"\\ebd5"});k.compassDot=new k("compass-dot",{fontCharacter:"\\ebd6"});k.compassActive=new k("compass-active",{fontCharacter:"\\ebd7"});k.azure=new k("azure",{fontCharacter:"\\ebd8"});k.issueDraft=new k("issue-draft",{fontCharacter:"\\ebd9"});k.gitPullRequestClosed=new k("git-pull-request-closed",{fontCharacter:"\\ebda"});k.gitPullRequestDraft=new k("git-pull-request-draft",{fontCharacter:"\\ebdb"});k.debugAll=new k("debug-all",{fontCharacter:"\\ebdc"});k.debugCoverage=new k("debug-coverage",{fontCharacter:"\\ebdd"});k.runErrors=new k("run-errors",{fontCharacter:"\\ebde"});k.folderLibrary=new k("folder-library",{fontCharacter:"\\ebdf"});k.debugContinueSmall=new k("debug-continue-small",{fontCharacter:"\\ebe0"});k.beakerStop=new k("beaker-stop",{fontCharacter:"\\ebe1"});k.graphLine=new k("graph-line",{fontCharacter:"\\ebe2"});k.graphScatter=new k("graph-scatter",{fontCharacter:"\\ebe3"});k.pieChart=new k("pie-chart",{fontCharacter:"\\ebe4"});k.bracket=new k("bracket",k.json.definition);k.bracketDot=new k("bracket-dot",{fontCharacter:"\\ebe5"});k.bracketError=new k("bracket-error",{fontCharacter:"\\ebe6"});k.lockSmall=new k("lock-small",{fontCharacter:"\\ebe7"});k.azureDevops=new k("azure-devops",{fontCharacter:"\\ebe8"});k.verifiedFilled=new k("verified-filled",{fontCharacter:"\\ebe9"});k.newLine=new k("newline",{fontCharacter:"\\ebea"});k.layout=new k("layout",{fontCharacter:"\\ebeb"});k.layoutActivitybarLeft=new k("layout-activitybar-left",{fontCharacter:"\\ebec"});k.layoutActivitybarRight=new k("layout-activitybar-right",{fontCharacter:"\\ebed"});k.layoutPanelLeft=new k("layout-panel-left",{fontCharacter:"\\ebee"});k.layoutPanelCenter=new k("layout-panel-center",{fontCharacter:"\\ebef"});k.layoutPanelJustify=new k("layout-panel-justify",{fontCharacter:"\\ebf0"});k.layoutPanelRight=new k("layout-panel-right",{fontCharacter:"\\ebf1"});k.layoutPanel=new k("layout-panel",{fontCharacter:"\\ebf2"});k.layoutSidebarLeft=new k("layout-sidebar-left",{fontCharacter:"\\ebf3"});k.layoutSidebarRight=new k("layout-sidebar-right",{fontCharacter:"\\ebf4"});k.layoutStatusbar=new k("layout-statusbar",{fontCharacter:"\\ebf5"});k.layoutMenubar=new k("layout-menubar",{fontCharacter:"\\ebf6"});k.layoutCentered=new k("layout-centered",{fontCharacter:"\\ebf7"});k.target=new k("target",{fontCharacter:"\\ebf8"});k.dialogError=new k("dialog-error",k.error.definition);k.dialogWarning=new k("dialog-warning",k.warning.definition);k.dialogInfo=new k("dialog-info",k.info.definition);k.dialogClose=new k("dialog-close",k.close.definition);k.treeItemExpanded=new k("tree-item-expanded",k.chevronDown.definition);k.treeFilterOnTypeOn=new k("tree-filter-on-type-on",k.listFilter.definition);k.treeFilterOnTypeOff=new k("tree-filter-on-type-off",k.listSelection.definition);k.treeFilterClear=new k("tree-filter-clear",k.close.definition);k.treeItemLoading=new k("tree-item-loading",k.loading.definition);k.menuSelection=new k("menu-selection",k.check.definition);k.menuSubmenu=new k("menu-submenu",k.chevronRight.definition);k.menuBarMore=new k("menubar-more",k.more.definition);k.scrollbarButtonLeft=new k("scrollbar-button-left",k.triangleLeft.definition);k.scrollbarButtonRight=new k("scrollbar-button-right",k.triangleRight.definition);k.scrollbarButtonUp=new k("scrollbar-button-up",k.triangleUp.definition);k.scrollbarButtonDown=new k("scrollbar-button-down",k.triangleDown.definition);k.toolBarMore=new k("toolbar-more",k.more.definition);k.quickInputBack=new k("quick-input-back",k.arrowLeft.definition);var ia;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9-]+",n.iconModifierExpression="~[A-Za-z]+",n.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function t(s){if(s instanceof k)return["codicon","codicon-"+s.id];const o=e.exec(s.id);if(!o)return t(k.error);let[,a,l]=o;const u=["codicon","codicon-"+a];return l&&u.push("codicon-modifier-"+l.substr(1)),u}n.asClassNameArray=t;function i(s){return t(s).join(" ")}n.asClassName=i;function r(s){return"."+t(s).join(".")}n.asCSSSelector=r})(ia||(ia={}));class ko{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static getFontStyle(e){return(e&15360)>>>10}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static getClassNameFromMetadata(e){const t=this.getForeground(e);let i="mtk"+t;const r=this.getFontStyle(e);return r&1&&(i+=" mtki"),r&2&&(i+=" mtkb"),r&4&&(i+=" mtku"),r&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),r=this.getFontStyle(e);let s=`color: ${t[i]};`;r&1&&(s+="font-style: italic;"),r&2&&(s+="font-weight: bold;");let o="";return r&4&&(o+=" underline"),r&8&&(o+=" line-through"),o&&(s+=`text-decoration:${o};`),s}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:Boolean(i&1),bold:Boolean(i&2),underline:Boolean(i&4),strikethrough:Boolean(i&8)}}}class hk{constructor(e,t,i){this._tokenBrand=void 0,this.offset=e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class oj{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class jO{constructor(e,t){this._encodedTokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}var fk;(function(n){const e=new Map;e.set(0,k.symbolMethod),e.set(1,k.symbolFunction),e.set(2,k.symbolConstructor),e.set(3,k.symbolField),e.set(4,k.symbolVariable),e.set(5,k.symbolClass),e.set(6,k.symbolStruct),e.set(7,k.symbolInterface),e.set(8,k.symbolModule),e.set(9,k.symbolProperty),e.set(10,k.symbolEvent),e.set(11,k.symbolOperator),e.set(12,k.symbolUnit),e.set(13,k.symbolValue),e.set(15,k.symbolEnum),e.set(14,k.symbolConstant),e.set(15,k.symbolEnum),e.set(16,k.symbolEnumMember),e.set(17,k.symbolKeyword),e.set(27,k.symbolSnippet),e.set(18,k.symbolText),e.set(19,k.symbolColor),e.set(20,k.symbolFile),e.set(21,k.symbolReference),e.set(22,k.symbolCustomColor),e.set(23,k.symbolFolder),e.set(24,k.symbolTypeParameter),e.set(25,k.account),e.set(26,k.issues);function t(s){let o=e.get(s);return o||(console.info("No codicon found for CompletionItemKind "+s),o=k.symbolProperty),o}n.toIcon=t;const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function r(s,o){let a=i.get(s);return typeof a=="undefined"&&!o&&(a=9),a}n.fromString=r})(fk||(fk={}));var vu;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(vu||(vu={}));var Gh;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(Gh||(Gh={}));var gk;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(gk||(gk={}));function bat(n){return n&&zt.isUri(n.uri)&&Y.isIRange(n.range)&&(Y.isIRange(n.originSelectionRange)||Y.isIRange(n.targetSelectionRange))}var V9;(function(n){const e=new Map;e.set(0,k.symbolFile),e.set(1,k.symbolModule),e.set(2,k.symbolNamespace),e.set(3,k.symbolPackage),e.set(4,k.symbolClass),e.set(5,k.symbolMethod),e.set(6,k.symbolProperty),e.set(7,k.symbolField),e.set(8,k.symbolConstructor),e.set(9,k.symbolEnum),e.set(10,k.symbolInterface),e.set(11,k.symbolFunction),e.set(12,k.symbolVariable),e.set(13,k.symbolConstant),e.set(14,k.symbolString),e.set(15,k.symbolNumber),e.set(16,k.symbolBoolean),e.set(17,k.symbolArray),e.set(18,k.symbolObject),e.set(19,k.symbolKey),e.set(20,k.symbolNull),e.set(21,k.symbolEnumMember),e.set(22,k.symbolStruct),e.set(23,k.symbolEvent),e.set(24,k.symbolOperator),e.set(25,k.symbolTypeParameter);function t(i){let r=e.get(i);return r||(console.info("No codicon found for SymbolKind "+i),r=k.symbolProperty),r}n.toIcon=t})(V9||(V9={}));class Rd{constructor(e){this.value=e}}Rd.Comment=new Rd("comment");Rd.Imports=new Rd("imports");Rd.Region=new Rd("region");var W9;(function(n){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}n.is=e})(W9||(W9={}));var tA;(function(n){n[n.Other=0]="Other",n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(tA||(tA={}));const nA=new mr,iA=new mr,fd=new mr,aj=new mr,r_=new mr,By=new mr;new mr;new mr;const kc=new mr,$y=new mr,rA=new mr,pk=new mr,sA=new mr,oA=new mr,aA=new mr,dg=new mr,s_=new mr,qh=new mr,H2=new mr,gd=new mr,lA=new mr,mk=new mr,Vy=new mr,KO=new mr,mx=new mr,o_=new mr,vk=new mr,dr=new mat;var H9;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(H9||(H9={}));var z9;(function(n){n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(z9||(z9={}));var U9;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(U9||(U9={}));var j9;(function(n){n[n.Deprecated=1]="Deprecated"})(j9||(j9={}));var K9;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(K9||(K9={}));var G9;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(G9||(G9={}));var q9;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(q9||(q9={}));var Y9;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(Y9||(Y9={}));var X9;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(X9||(X9={}));var Z9;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(Z9||(Z9={}));var Q9;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.autoClosingBrackets=5]="autoClosingBrackets",n[n.autoClosingDelete=6]="autoClosingDelete",n[n.autoClosingOvertype=7]="autoClosingOvertype",n[n.autoClosingQuotes=8]="autoClosingQuotes",n[n.autoIndent=9]="autoIndent",n[n.automaticLayout=10]="automaticLayout",n[n.autoSurround=11]="autoSurround",n[n.bracketPairColorization=12]="bracketPairColorization",n[n.guides=13]="guides",n[n.codeLens=14]="codeLens",n[n.codeLensFontFamily=15]="codeLensFontFamily",n[n.codeLensFontSize=16]="codeLensFontSize",n[n.colorDecorators=17]="colorDecorators",n[n.columnSelection=18]="columnSelection",n[n.comments=19]="comments",n[n.contextmenu=20]="contextmenu",n[n.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",n[n.cursorBlinking=22]="cursorBlinking",n[n.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",n[n.cursorStyle=24]="cursorStyle",n[n.cursorSurroundingLines=25]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",n[n.cursorWidth=27]="cursorWidth",n[n.disableLayerHinting=28]="disableLayerHinting",n[n.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",n[n.domReadOnly=30]="domReadOnly",n[n.dragAndDrop=31]="dragAndDrop",n[n.emptySelectionClipboard=32]="emptySelectionClipboard",n[n.extraEditorClassName=33]="extraEditorClassName",n[n.fastScrollSensitivity=34]="fastScrollSensitivity",n[n.find=35]="find",n[n.fixedOverflowWidgets=36]="fixedOverflowWidgets",n[n.folding=37]="folding",n[n.foldingStrategy=38]="foldingStrategy",n[n.foldingHighlight=39]="foldingHighlight",n[n.foldingImportsByDefault=40]="foldingImportsByDefault",n[n.foldingMaximumRegions=41]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=43]="fontFamily",n[n.fontInfo=44]="fontInfo",n[n.fontLigatures=45]="fontLigatures",n[n.fontSize=46]="fontSize",n[n.fontWeight=47]="fontWeight",n[n.formatOnPaste=48]="formatOnPaste",n[n.formatOnType=49]="formatOnType",n[n.glyphMargin=50]="glyphMargin",n[n.gotoLocation=51]="gotoLocation",n[n.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",n[n.hover=53]="hover",n[n.inDiffEditor=54]="inDiffEditor",n[n.inlineSuggest=55]="inlineSuggest",n[n.letterSpacing=56]="letterSpacing",n[n.lightbulb=57]="lightbulb",n[n.lineDecorationsWidth=58]="lineDecorationsWidth",n[n.lineHeight=59]="lineHeight",n[n.lineNumbers=60]="lineNumbers",n[n.lineNumbersMinChars=61]="lineNumbersMinChars",n[n.linkedEditing=62]="linkedEditing",n[n.links=63]="links",n[n.matchBrackets=64]="matchBrackets",n[n.minimap=65]="minimap",n[n.mouseStyle=66]="mouseStyle",n[n.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=68]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",n[n.multiCursorModifier=70]="multiCursorModifier",n[n.multiCursorPaste=71]="multiCursorPaste",n[n.occurrencesHighlight=72]="occurrencesHighlight",n[n.overviewRulerBorder=73]="overviewRulerBorder",n[n.overviewRulerLanes=74]="overviewRulerLanes",n[n.padding=75]="padding",n[n.parameterHints=76]="parameterHints",n[n.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",n[n.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",n[n.quickSuggestions=79]="quickSuggestions",n[n.quickSuggestionsDelay=80]="quickSuggestionsDelay",n[n.readOnly=81]="readOnly",n[n.renameOnType=82]="renameOnType",n[n.renderControlCharacters=83]="renderControlCharacters",n[n.renderFinalNewline=84]="renderFinalNewline",n[n.renderLineHighlight=85]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=87]="renderValidationDecorations",n[n.renderWhitespace=88]="renderWhitespace",n[n.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",n[n.roundedSelection=90]="roundedSelection",n[n.rulers=91]="rulers",n[n.scrollbar=92]="scrollbar",n[n.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=94]="scrollBeyondLastLine",n[n.scrollPredominantAxis=95]="scrollPredominantAxis",n[n.selectionClipboard=96]="selectionClipboard",n[n.selectionHighlight=97]="selectionHighlight",n[n.selectOnLineNumbers=98]="selectOnLineNumbers",n[n.showFoldingControls=99]="showFoldingControls",n[n.showUnused=100]="showUnused",n[n.snippetSuggestions=101]="snippetSuggestions",n[n.smartSelect=102]="smartSelect",n[n.smoothScrolling=103]="smoothScrolling",n[n.stickyTabStops=104]="stickyTabStops",n[n.stopRenderingLineAfter=105]="stopRenderingLineAfter",n[n.suggest=106]="suggest",n[n.suggestFontSize=107]="suggestFontSize",n[n.suggestLineHeight=108]="suggestLineHeight",n[n.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",n[n.suggestSelection=110]="suggestSelection",n[n.tabCompletion=111]="tabCompletion",n[n.tabIndex=112]="tabIndex",n[n.unicodeHighlighting=113]="unicodeHighlighting",n[n.unusualLineTerminators=114]="unusualLineTerminators",n[n.useShadowDOM=115]="useShadowDOM",n[n.useTabStops=116]="useTabStops",n[n.wordSeparators=117]="wordSeparators",n[n.wordWrap=118]="wordWrap",n[n.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=121]="wordWrapColumn",n[n.wordWrapOverride1=122]="wordWrapOverride1",n[n.wordWrapOverride2=123]="wordWrapOverride2",n[n.wrappingIndent=124]="wrappingIndent",n[n.wrappingStrategy=125]="wrappingStrategy",n[n.showDeprecated=126]="showDeprecated",n[n.inlayHints=127]="inlayHints",n[n.editorClassName=128]="editorClassName",n[n.pixelRatio=129]="pixelRatio",n[n.tabFocusMode=130]="tabFocusMode",n[n.layoutInfo=131]="layoutInfo",n[n.wrappingInfo=132]="wrappingInfo"})(Q9||(Q9={}));var J9;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(J9||(J9={}));var e7;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(e7||(e7={}));var t7;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(t7||(t7={}));var n7;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(n7||(n7={}));var i7;(function(n){n[n.Other=0]="Other",n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(i7||(i7={}));var r7;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(r7||(r7={}));var s7;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.NumLock=78]="NumLock",n[n.ScrollLock=79]="ScrollLock",n[n.Semicolon=80]="Semicolon",n[n.Equal=81]="Equal",n[n.Comma=82]="Comma",n[n.Minus=83]="Minus",n[n.Period=84]="Period",n[n.Slash=85]="Slash",n[n.Backquote=86]="Backquote",n[n.BracketLeft=87]="BracketLeft",n[n.Backslash=88]="Backslash",n[n.BracketRight=89]="BracketRight",n[n.Quote=90]="Quote",n[n.OEM_8=91]="OEM_8",n[n.IntlBackslash=92]="IntlBackslash",n[n.Numpad0=93]="Numpad0",n[n.Numpad1=94]="Numpad1",n[n.Numpad2=95]="Numpad2",n[n.Numpad3=96]="Numpad3",n[n.Numpad4=97]="Numpad4",n[n.Numpad5=98]="Numpad5",n[n.Numpad6=99]="Numpad6",n[n.Numpad7=100]="Numpad7",n[n.Numpad8=101]="Numpad8",n[n.Numpad9=102]="Numpad9",n[n.NumpadMultiply=103]="NumpadMultiply",n[n.NumpadAdd=104]="NumpadAdd",n[n.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=106]="NumpadSubtract",n[n.NumpadDecimal=107]="NumpadDecimal",n[n.NumpadDivide=108]="NumpadDivide",n[n.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",n[n.ABNT_C1=110]="ABNT_C1",n[n.ABNT_C2=111]="ABNT_C2",n[n.AudioVolumeMute=112]="AudioVolumeMute",n[n.AudioVolumeUp=113]="AudioVolumeUp",n[n.AudioVolumeDown=114]="AudioVolumeDown",n[n.BrowserSearch=115]="BrowserSearch",n[n.BrowserHome=116]="BrowserHome",n[n.BrowserBack=117]="BrowserBack",n[n.BrowserForward=118]="BrowserForward",n[n.MediaTrackNext=119]="MediaTrackNext",n[n.MediaTrackPrevious=120]="MediaTrackPrevious",n[n.MediaStop=121]="MediaStop",n[n.MediaPlayPause=122]="MediaPlayPause",n[n.LaunchMediaPlayer=123]="LaunchMediaPlayer",n[n.LaunchMail=124]="LaunchMail",n[n.LaunchApp2=125]="LaunchApp2",n[n.MAX_VALUE=126]="MAX_VALUE"})(s7||(s7={}));var o7;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(o7||(o7={}));var a7;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(a7||(a7={}));var l7;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(l7||(l7={}));var u7;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(u7||(u7={}));var c7;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(c7||(c7={}));var d7;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(d7||(d7={}));var h7;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None"})(h7||(h7={}));var f7;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(f7||(f7={}));var g7;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(g7||(g7={}));var p7;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(p7||(p7={}));var m7;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(m7||(m7={}));var v7;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(v7||(v7={}));var _7;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(_7||(_7={}));var b7;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(b7||(b7={}));var C7;(function(n){n[n.Deprecated=1]="Deprecated"})(C7||(C7={}));var y7;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(y7||(y7={}));var w7;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(w7||(w7={}));var S7;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(S7||(S7={}));var L7;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(L7||(L7={}));class iD{static chord(e,t){return Rs(e,t)}}iD.CtrlCmd=2048;iD.Shift=1024;iD.Alt=512;iD.WinCtrl=256;function ipe(){return{editor:void 0,languages:void 0,CancellationTokenSource:co,Emitter:Le,KeyCode:s7,KeyMod:iD,Position:Ae,Range:Y,Selection:vt,SelectionDirection:v7,MarkerSeverity:o7,MarkerTag:a7,Uri:zt,Token:hk}}class k7{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}k7.INSTANCE=new k7;class Cat extends ze{constructor(){super();this._onDidChange=this._register(new Le),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(),this._removeListener=this._installResolutionListener()}get value(){return this._value}dispose(){this._removeListener(),super.dispose()}_installResolutionListener(){const e=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),t=()=>this._updateValue();return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}_updateValue(){this._value=this._getPixelRatio(),this._onDidChange.fire(this._value),this._removeListener=this._installResolutionListener()}_getPixelRatio(){const e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}}class yat{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new Cat),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}const Wy=new yat;function rpe(){return k7.INSTANCE.getZoomFactor()}const Gm=navigator.userAgent,Ul=Gm.indexOf("Firefox")>=0,Cm=Gm.indexOf("AppleWebKit")>=0,lj=Gm.indexOf("Chrome")>=0,$c=!lj&&Gm.indexOf("Safari")>=0,uj=!lj&&!$c&&Cm,wat=Gm.indexOf("Edge/")>=0&&Gm.indexOf("WebView/")>=0,Sat=Gm.indexOf("Electron/")>=0,spe=Gm.indexOf("Android")>=0,cj=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches;var Lat=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",PixelRatio:Wy,getZoomFactor:rpe,isFirefox:Ul,isWebKit:Cm,isChrome:lj,isSafari:$c,isWebkitWebView:uj,isEdgeLegacyWebView:wat,isElectron:Sat,isAndroid:spe,isStandalone:cj});class ope{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function Un(n){return new ope(n)}function oo(n,e){n instanceof ope?(n.setFontFamily(e.getMassagedFontFamily($c?jo.fontFamily:null)),n.setFontWeight(e.fontWeight),n.setFontSize(e.fontSize),n.setFontFeatureSettings(e.fontFeatureSettings),n.setLineHeight(e.lineHeight),n.setLetterSpacing(e.letterSpacing)):(n.style.fontFamily=e.getMassagedFontFamily($c?jo.fontFamily:null),n.style.fontWeight=e.fontWeight,n.style.fontSize=e.fontSize+"px",n.style.fontFeatureSettings=e.fontFeatureSettings,n.style.lineHeight=e.lineHeight+"px",n.style.letterSpacing=e.letterSpacing+"px")}class kat{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class dj{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");oo(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");oo(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const r=document.createElement("div");oo(r,this._bareFontInfo),r.style.fontStyle="italic",e.appendChild(r);const s=[];for(const o of this._requests){let a;o.type===0&&(a=t),o.type===2&&(a=i),o.type===1&&(a=r),a.appendChild(document.createElement("br"));const l=document.createElement("span");dj._render(l,o),a.appendChild(l),s.push(l)}this._container=e,this._testElements=s}static _render(e,t){if(t.chr===" "){let i="\xA0";for(let r=0;r<8;r++)i+=i;e.innerText=i}else{let i=t.chr;for(let r=0;r<8;r++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],r=this._testElements[e];i.fulfill(r.offsetWidth/256)}}}function Eat(n,e){new dj(n,e).read()}const qg=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Le,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(n){n=Math.min(Math.max(-5,n),20),this._zoomLevel!==n&&(this._zoomLevel=n,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Dat=kn?1.5:1.35,LF=8;class a_{constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i){const r=e.get(43),s=e.get(47),o=e.get(46),a=e.get(45),l=e.get(59),u=e.get(56);return a_._create(r,s,o,a,l,u,t,i)}static _create(e,t,i,r,s,o,a,l){s===0?s=Dat*i:s<LF&&(s=s*i),s=Math.round(s),s<LF&&(s=LF);const u=1+(l?0:qg.getZoomLevel()*.1);return i*=u,s*=u,new a_({pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:r,lineHeight:s,letterSpacing:o})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(e){const t=a_._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const Iat=1;class E7 extends a_{constructor(e,t){super(e);this._editorStylingBrand=void 0,this.version=Iat,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class Tat extends ze{constructor(){super();this._onDidChange=this._register(new Le),this.onDidChange=this._onDidChange.event,this._cache=new $te,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new $te,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new E7({pixelRatio:Wy.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,r){const s=new kat(e,t);return i.push(s),r&&r.push(s),s}_actualReadFontInfo(e){const t=[],i=[],r=this._createRequest("n",0,t,i),s=this._createRequest("\uFF4D",0,t,null),o=this._createRequest(" ",0,t,i),a=this._createRequest("0",0,t,i),l=this._createRequest("1",0,t,i),u=this._createRequest("2",0,t,i),c=this._createRequest("3",0,t,i),d=this._createRequest("4",0,t,i),h=this._createRequest("5",0,t,i),f=this._createRequest("6",0,t,i),g=this._createRequest("7",0,t,i),p=this._createRequest("8",0,t,i),m=this._createRequest("9",0,t,i),b=this._createRequest("\u2192",0,t,i),_=this._createRequest("\uFFEB",0,t,null),C=this._createRequest("\xB7",0,t,i),w=this._createRequest(String.fromCharCode(11825),0,t,null),S="|/-_ilm%";for(let M=0,A=S.length;M<A;M++)this._createRequest(S.charAt(M),0,t,i),this._createRequest(S.charAt(M),1,t,i),this._createRequest(S.charAt(M),2,t,i);Eat(e,t);const D=Math.max(a.width,l.width,u.width,c.width,d.width,h.width,f.width,g.width,p.width,m.width);let E=e.fontFeatureSettings===Dl.OFF;const I=i[0].width;for(let M=1,A=i.length;E&&M<A;M++){const O=I-i[M].width;if(O<-.001||O>.001){E=!1;break}}let T=!0;return E&&_.width!==I&&(T=!1),_.width>b.width&&(T=!1),new E7({pixelRatio:Wy.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:E,typicalHalfwidthCharacterWidth:r.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:T,spaceWidth:o.width,middotWidth:C.width,wsmiddotWidth:w.width,maxDigitWidth:D},!0)}}class $te{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const D7=new Tat;var md;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(md||(md={}));const Mn=Pn("instantiationService");function Nat(n,e,t,i){e[md.DI_TARGET]===e?e[md.DI_DEPENDENCIES].push({id:n,index:t,optional:i}):(e[md.DI_DEPENDENCIES]=[{id:n,index:t,optional:i}],e[md.DI_TARGET]=e)}function Pn(n){if(md.serviceIds.has(n))return md.serviceIds.get(n);const e=function(t,i,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Nat(e,t,r,!1)};return e.toString=()=>n,md.serviceIds.set(n,e),e}const ci=Pn("codeEditorService");function vx(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}const xat={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class Mat extends ze{constructor(e,t={}){super();this._onDidUpdate=this._register(new Le),this._editor=e,this._options=gf(t,xat,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new Y(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new Y(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new Y(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>Y.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1;const i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let r=0,s=this.ranges.length;r<s&&!t;r++){const o=this.ranges[r].range;i.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=r+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(e,t){if(vx(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const r=i.range.getStartPosition();this._editor.setPosition(r),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const rD={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var Wr;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(Wr||(Wr={}));class kF{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(i);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const r=String.fromCharCode(i);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Aat{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)xS(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),xS(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),xS(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),xS(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&xS(this.autoClosingPairsCloseSingleChar,t.close,t)}}function xS(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}function uA(n,e){const t=n.getCount(),i=n.findTokenIndexAtOffset(e),r=n.getLanguageId(i);let s=i;for(;s+1<t&&n.getLanguageId(s+1)===r;)s++;let o=i;for(;o>0&&n.getLanguageId(o-1)===r;)o--;return new Rat(n,r,o,s+1,n.getStartOffset(o),n.getEndOffset(s))}class Rat{constructor(e,t,i,r,s,o){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=r,this.firstCharOffset=s,this._lastCharOffset=o}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function lh(n){return(n&3)!==0}class GO{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new kF(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new kF({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=Vte(e.colorizedBracketPairs.map(t=>[t[0],t[1]])):e.brackets?this._colorizedBracketPairs=Vte(e.brackets.map(t=>[t[0],t[1]]).filter(t=>!(t[0]==="<"&&t[1]===">"))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new kF({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:GO.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}GO.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function Vte(n){return n.filter(([e,t])=>e!==""&&t!=="")}const Wte=typeof Buffer!="undefined";let EF;class qO{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return Wte&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new qO(e)}toString(){return Wte?this.buffer.toString():(EF||(EF=new TextDecoder),EF.decode(this.buffer))}}function Oat(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0}function Pat(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255}function rd(n,e){return n[e]*Math.pow(2,24)+n[e+1]*Math.pow(2,16)+n[e+2]*Math.pow(2,8)+n[e+3]}function sd(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function Hte(n,e){return n[e]}function zte(n,e,t){n[t]=e}let DF;function ape(){return DF||(DF=new TextDecoder("UTF-16LE")),DF}let IF;function Fat(){return IF||(IF=new TextDecoder("UTF-16BE")),IF}let TF;function lpe(){return TF||(TF=pge()?ape():Fat()),TF}const upe=typeof TextDecoder!="undefined";let M_,I7;upe?(M_=n=>new $at(n),I7=Bat):(M_=n=>new Vat,I7=cpe);function Bat(n,e,t){const i=new Uint16Array(n.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?cpe(n,e,t):ape().decode(i)}function cpe(n,e,t){const i=[];let r=0;for(let s=0;s<t;s++){const o=Oat(n,e);e+=2,i[r++]=String.fromCharCode(o)}return i.join("")}class $at{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return lpe().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||ps(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class Vat{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}class cA{constructor(e,t,i,r,s,o){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=r,this.forwardRegex=s,this.reversedRegex=o,this._openSet=cA._toSet(this.open),this._closeSet=cA._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function Wat(n){const e=n.length;n=n.map(o=>[o[0].toLowerCase(),o[1].toLowerCase()]);const t=[];for(let o=0;o<e;o++)t[o]=o;const i=(o,a)=>{const[l,u]=o,[c,d]=a;return l===c||l===d||u===c||u===d},r=(o,a)=>{const l=Math.min(o,a),u=Math.max(o,a);for(let c=0;c<e;c++)t[c]===u&&(t[c]=l)};for(let o=0;o<e;o++){const a=n[o];for(let l=o+1;l<e;l++){const u=n[l];i(a,u)&&r(t[o],t[l])}}const s=[];for(let o=0;o<e;o++){const a=[],l=[];for(let u=0;u<e;u++)if(t[u]===o){const[c,d]=n[u];a.push(c),l.push(d)}a.length>0&&s.push({open:a,close:l})}return s}class Hat{constructor(e,t){this._richEditBracketsBrand=void 0;const i=Wat(t);this.brackets=i.map((r,s)=>new cA(e,s,r.open,r.close,zat(r.open,r.close,i,s),Uat(r.open,r.close,i,s))),this.forwardRegex=jat(this.brackets),this.reversedRegex=Kat(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const s of r.open)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,s.length);for(const s of r.close)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,s.length)}}}function dpe(n,e,t,i){for(let r=0,s=e.length;r<s;r++){if(r===t)continue;const o=e[r];for(const a of o.open)a.indexOf(n)>=0&&i.push(a);for(const a of o.close)a.indexOf(n)>=0&&i.push(a)}}function hpe(n,e){return n.length-e.length}function YO(n){if(n.length<=1)return n;const e=[],t=new Set;for(const i of n)t.has(i)||(e.push(i),t.add(i));return e}function zat(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)dpe(r[s],t,i,r);return r=YO(r),r.sort(hpe),r.reverse(),XO(r)}function Uat(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)dpe(r[s],t,i,r);return r=YO(r),r.sort(hpe),r.reverse(),XO(r.map(hj))}function jat(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=YO(e),XO(e)}function Kat(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=YO(e),XO(e.map(hj))}function Gat(n){const e=/^[\w ]+$/.test(n);return n=Fu(n),e?`\\b${n}\\b`:n}function XO(n){const e=`(${n.map(Gat).join(")|(")})`;return Uge(e,!0)}const hj=function(){function n(i){if(upe){const r=new Uint16Array(i.length);let s=0;for(let o=i.length-1;o>=0;o--)r[s++]=i.charCodeAt(o);return lpe().decode(r)}else{const r=[];let s=0;for(let o=i.length-1;o>=0;o--)r[s++]=i.charAt(o);return r.join("")}}let e=null,t=null;return function(r){return e!==r&&(e=r,t=n(e)),t}}();class uc{static _findPrevBracketInText(e,t,i,r){const s=i.match(e);if(!s)return null;const o=i.length-(s.index||0),a=s[0].length,l=r+o;return new Y(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,r,s){const a=hj(i).substring(i.length-s,i.length-r);return this._findPrevBracketInText(e,t,a,r)}static findNextBracketInText(e,t,i,r){const s=i.match(e);if(!s)return null;const o=s.index||0,a=s[0].length;if(a===0)return null;const l=r+o;return new Y(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,r,s){const o=i.substring(r,s);return this.findNextBracketInText(e,t,o,r)}}class qat{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const r=i.charAt(i.length-1);e.push(r)}return Um(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const r=t.findTokenIndexAtOffset(i-1);if(lh(t.getStandardTokenType(r)))return null;const s=this._richEditBrackets.reversedRegex,o=t.getLineContent().substring(0,i-1)+e,a=uc.findPrevBracketInRange(s,1,o,0,o.length);if(!a)return null;const l=o.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const c=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:l}:null}}function uT(n){return n.global&&(n.lastIndex=0),!0}class Yat{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&uT(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&uT(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&uT(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&uT(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class dC{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=dC._createOpenBracketRegExp(t[0]),r=dC._createCloseBracketRegExp(t[1]);i&&r&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,r){if(e>=3)for(let s=0,o=this._regExpRules.length;s<o;s++){const a=this._regExpRules[s];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:r},{reg:a.previousLineText,text:t}].every(u=>u.reg?(u.reg.lastIndex=0,u.reg.test(u.text)):!0))return a.action}if(e>=2&&i.length>0&&r.length>0)for(let s=0,o=this._brackets.length;s<o;s++){const a=this._brackets[s];if(a.openRegExp.test(i)&&a.closeRegExp.test(r))return{indentAction:Wr.IndentOutdent}}if(e>=2&&i.length>0){for(let s=0,o=this._brackets.length;s<o;s++)if(this._brackets[s].openRegExp.test(i))return{indentAction:Wr.Indent}}return null}static _createOpenBracketRegExp(e){let t=Fu(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",dC._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=Fu(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,dC._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Qt(t),null}}}const Mi=Pn("configurationService");function fpe(n,e){const t=Object.create(null);for(let i in n)fj(t,i,n[i],e);return t}function fj(n,e,t,i){const r=e.split("."),s=r.pop();let o=n;for(let a=0;a<r.length;a++){let l=r[a],u=o[l];switch(typeof u){case"undefined":u=o[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is ${JSON.stringify(u)}`);return}o=u}if(typeof o=="object"&&o!==null)try{o[s]=t}catch{i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}else i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}function Xat(n,e){const t=e.split(".");gpe(n,t)}function gpe(n,e){const t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){const i=n[t];typeof i=="object"&&!Array.isArray(i)&&(gpe(i,e),Object.keys(i).length===0&&delete n[t])}}function Ute(n,e,t){function i(o,a){let l=o;for(const u of a){if(typeof l!="object"||l===null)return;l=l[u]}return l}const r=e.split("."),s=i(n,r);return typeof s=="undefined"?t:s}const fr=Pn("languageService");class bh{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const ppe=[];function qn(n,e,t){e instanceof bh||(e=new bh(e,[],t)),ppe.push([n,e])}function jte(){return ppe}var Zat=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Kte=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class NF{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const fo=Pn("languageConfigurationService");let T7=class extends ze{constructor(e,t){super();this.configurationService=e,this.languageService=t,this.onDidChangeEmitter=this._register(new Le),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(N7));this._register(this.configurationService.onDidChangeConfiguration(r=>{const s=r.change.keys.some(a=>i.has(a)),o=r.change.overrides.filter(([a,l])=>l.some(u=>i.has(u))).map(([a])=>a);if(s)this.configurations.clear(),this.onDidChangeEmitter.fire(new NF(void 0));else for(const a of o)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new NF(a)))})),this._register(cs.onDidChange(r=>{this.configurations.delete(r.languageId),this.onDidChangeEmitter.fire(new NF(r.languageId))}))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=Qat(e,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};T7=Zat([Kte(0,Mi),Kte(1,fr)],T7);function Qat(n,e,t){let i=cs.getLanguageConfiguration(n);if(!i){if(!t.isRegisteredLanguageId(n))throw new Error("Unexpected languageId");i=new _k(n,{})}const r=Jat(i.languageId,e),s=mpe([i.underlyingConfig,r]);return new _k(i.languageId,s)}const N7={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Jat(n,e){const t=e.getValue(N7.brackets,{overrideIdentifier:n}),i=e.getValue(N7.colorizedBracketPairs,{overrideIdentifier:n});return{brackets:Gte(t),colorizedBracketPairs:Gte(i)}}function Gte(n){if(!!Array.isArray(n))return n.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}class qte{constructor(e){this.languageId=e}}class elt{constructor(){this._entries=new Map,this._onDidChange=new Le,this.onDidChange=this._onDidChange.event}register(e,t,i=0){let r=this._entries.get(e);r||(r=new tlt(e),this._entries.set(e,r));const s=r.register(t,i);return this._onDidChange.fire(new qte(e)),_n(()=>{s.dispose(),this._onDidChange.fire(new qte(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}getComments(e){const t=this.getLanguageConfiguration(e);return t&&t.comments||null}getIndentRulesSupport(e){const t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){const r=e.getLanguageIdAtPosition(t,0);if(t>1){let s,o=-1;for(s=t-1;s>=1;s--){if(e.getLanguageIdAtPosition(s,0)!==r)return o;const a=e.getLineContent(s);if(i.shouldIgnore(a)||/^\s+$/.test(a)||a===""){o=s;continue}return s}}return-1}getInheritIndentForLine(e,t,i,r=!0){if(e<4)return null;const s=this.getIndentRulesSupport(t.getLanguageId());if(!s)return null;if(i<=1)return{indentation:"",action:null};const o=this.getPrecedingValidLine(t,i,s);if(o<0)return null;if(o<1)return{indentation:"",action:null};const a=t.getLineContent(o);if(s.shouldIncrease(a)||s.shouldIndentNextLine(a))return{indentation:bi(a),action:Wr.Indent,line:o};if(s.shouldDecrease(a))return{indentation:bi(a),action:null,line:o};{if(o===1)return{indentation:bi(t.getLineContent(o)),action:null,line:o};const l=o-1,u=s.getIndentMetadata(t.getLineContent(l));if(!(u&3)&&u&4){let c=0;for(let d=l-1;d>0;d--)if(!s.shouldIndentNextLine(t.getLineContent(d))){c=d;break}return{indentation:bi(t.getLineContent(c+1)),action:null,line:c+1}}if(r)return{indentation:bi(t.getLineContent(o)),action:null,line:o};for(let c=o;c>0;c--){const d=t.getLineContent(c);if(s.shouldIncrease(d))return{indentation:bi(d),action:Wr.Indent,line:c};if(s.shouldIndentNextLine(d)){let h=0;for(let f=c-1;f>0;f--)if(!s.shouldIndentNextLine(t.getLineContent(c))){h=f;break}return{indentation:bi(t.getLineContent(h+1)),action:null,line:h+1}}else if(s.shouldDecrease(d))return{indentation:bi(d),action:null,line:c}}return{indentation:bi(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,r,s){if(e<4)return null;const o=this.getLanguageConfiguration(i);if(!o)return null;const a=this.getIndentRulesSupport(i);if(!a)return null;const l=this.getInheritIndentForLine(e,t,r),u=t.getLineContent(r);if(l){const c=l.line;if(c!==void 0){const d=o.onEnter(e,"",t.getLineContent(c),"");if(d){let h=bi(t.getLineContent(c));return d.removeText&&(h=h.substring(0,h.length-d.removeText)),d.indentAction===Wr.Indent||d.indentAction===Wr.IndentOutdent?h=s.shiftIndent(h):d.indentAction===Wr.Outdent&&(h=s.unshiftIndent(h)),a.shouldDecrease(u)&&(h=s.unshiftIndent(h)),d.appendText&&(h+=d.appendText),bi(h)}}return a.shouldDecrease(u)?l.action===Wr.Indent?l.indentation:s.unshiftIndent(l.indentation):l.action===Wr.Indent?s.shiftIndent(l.indentation):l.indentation}return null}getIndentForEnter(e,t,i,r){if(e<4)return null;t.forceTokenization(i.startLineNumber);const s=t.getLineTokens(i.startLineNumber),o=uA(s,i.startColumn-1),a=o.getLineContent();let l=!1,u;o.firstCharOffset>0&&s.getLanguageId(0)!==o.languageId?(l=!0,u=a.substr(0,i.startColumn-1-o.firstCharOffset)):u=s.getLineContent().substring(0,i.startColumn-1);let c;i.isEmpty()?c=a.substr(i.startColumn-1-o.firstCharOffset):c=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-o.firstCharOffset);const d=this.getIndentRulesSupport(o.languageId);if(!d)return null;const h=u,f=bi(u),g={getLineTokens:_=>t.getLineTokens(_),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(_,C)=>t.getLanguageIdAtPosition(_,C),getLineContent:_=>_===i.startLineNumber?h:t.getLineContent(_)},p=bi(s.getLineContent()),m=this.getInheritIndentForLine(e,g,i.startLineNumber+1);if(!m){const _=l?p:f;return{beforeEnter:_,afterEnter:_}}let b=l?p:m.indentation;return m.action===Wr.Indent&&(b=r.shiftIndent(b)),d.shouldDecrease(c)&&(b=r.unshiftIndent(b)),{beforeEnter:l?p:f,afterEnter:b}}getIndentActionForType(e,t,i,r,s){if(e<4)return null;const o=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(o.firstCharOffset)return null;const a=this.getIndentRulesSupport(o.languageId);if(!a)return null;const l=o.getLineContent(),u=l.substr(0,i.startColumn-1-o.firstCharOffset);let c;if(i.isEmpty()?c=l.substr(i.startColumn-1-o.firstCharOffset):c=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-o.firstCharOffset),!a.shouldDecrease(u+c)&&a.shouldDecrease(u+r+c)){const d=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!d)return null;let h=d.indentation;return d.action!==Wr.Indent&&(h=s.unshiftIndent(h)),h}return null}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageId());return!i||t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t))}getEnterAction(e,t,i){const r=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),s=this.getLanguageConfiguration(r.languageId);if(!s)return null;const o=r.getLineContent(),a=o.substr(0,i.startColumn-1-r.firstCharOffset);let l;i.isEmpty()?l=o.substr(i.startColumn-1-r.firstCharOffset):l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset);let u="";if(i.startLineNumber>1&&r.firstCharOffset===0){const p=this.getScopedLineTokens(t,i.startLineNumber-1);p.languageId===r.languageId&&(u=p.getLineContent())}const c=s.onEnter(e,u,a,l);if(!c)return null;const d=c.indentAction;let h=c.appendText;const f=c.removeText||0;h?d===Wr.Indent&&(h="	"+h):d===Wr.Indent||d===Wr.IndentOutdent?h="	":h="";let g=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return f&&(g=g.substring(0,g.length-f)),{indentAction:d,appendText:h,removeText:f,indentation:g}}getIndentationAtPosition(e,t,i){const r=e.getLineContent(t);let s=bi(r);return s.length>i-1&&(s=s.substring(0,i-1)),s}getScopedLineTokens(e,t,i){e.forceTokenization(t);const r=e.getLineTokens(t),s=typeof i=="undefined"?e.getLineMaxColumn(t)-1:i-1;return uA(r,s)}}const cs=new elt;class tlt{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new Yte(e,t,++this._order);return this._entries.push(i),this._resolved=null,_n(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===i){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new _k(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(Yte.cmp),mpe(this._entries.map(e=>e.configuration)))}}function mpe(n){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of n)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class Yte{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class _k{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new dC(this.underlyingConfig):null,this.comments=_k._handleComments(this.underlyingConfig),this.characterPair=new GO(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||_ge,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new Yat(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return bge(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new Hat(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new qat(this.brackets)),this._electricCharacter}onEnter(e,t,i,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,r):null}getAutoClosingPairs(){return new Aat(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[r,s]=t.blockComment;i.blockCommentStartToken=r,i.blockCommentEndToken=s}return i}}qn(fo,T7);const Hy=new class{clone(){return this}equals(n){return this===n}};function vpe(n,e){return new oj([new hk(0,"",n)],e)}function gj(n,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(n<<0|0<<8|0<<10|1<<14|2<<23)>>>0,new jO(t,e===null?Hy:e)}const sr=Pn("modelService"),nlt="$initialize";let Xte=!1;function x7(n){!Lv||(Xte||(Xte=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(n.message))}class ilt{constructor(e,t,i,r){this.vsWorker=e,this.req=t,this.method=i,this.args=r,this.type=0}}class Zte{constructor(e,t,i,r){this.vsWorker=e,this.seq=t,this.res=i,this.err=r,this.type=1}}class rlt{constructor(e,t,i,r){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=r,this.type=2}}class slt{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class olt{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class alt{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise((r,s)=>{this._pendingReplies[i]={resolve:r,reject:s},this._send(new ilt(this._workerId,i,e,t))})}listen(e,t){let i=null;const r=new Le({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,r),this._send(new rlt(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new olt(this._workerId,i)),i=null}});return r.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then(r=>{this._send(new Zte(this._workerId,t,r,void 0))},r=>{r.detail instanceof Error&&(r.detail=Ste(r.detail)),this._send(new Zte(this._workerId,t,void 0,Ste(r)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(r=>{this._send(new slt(this._workerId,t,r))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){let t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class llt extends ze{constructor(e,t,i){super();let r=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",u=>{this._protocol.handleMessage(u)},u=>{r&&r(u)})),this._protocol=new alt({sendMessage:(u,c)=>{this._worker.postMessage(u,c)},handleMessage:(u,c)=>{if(typeof i[u]!="function")return Promise.reject(new Error("Missing method "+u+" on main thread host."));try{return Promise.resolve(i[u].apply(i,c))}catch(d){return Promise.reject(d)}},handleEvent:(u,c)=>{if(bpe(u)){const d=i[u].call(i,c);if(typeof d!="function")throw new Error(`Missing dynamic event ${u} on main thread host.`);return d}if(_pe(u)){const d=i[u];if(typeof d!="function")throw new Error(`Missing event ${u} on main thread host.`);return d}throw new Error(`Malformed event name ${u}`)}}),this._protocol.setWorkerId(this._worker.getId());let s=null;typeof Ar.require!="undefined"&&typeof Ar.require.getConfig=="function"?s=Ar.require.getConfig():typeof Ar.requirejs!="undefined"&&(s=Ar.requirejs.s.contexts._.config);const o=$U(i);this._onModuleLoaded=this._protocol.sendMessage(nlt,[this._worker.getId(),JSON.parse(JSON.stringify(s)),t,o]);const a=(u,c)=>this._request(u,c),l=(u,c)=>this._protocol.listen(u,c);this._lazyProxy=new Promise((u,c)=>{r=c,this._onModuleLoaded.then(d=>{u(ult(d,a,l))},d=>{c(d),this._onError("Worker failed to load "+t,d)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,r)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,r)},r)})}_onError(e,t){console.error(e),console.info(t)}}function _pe(n){return n[0]==="o"&&n[1]==="n"&&_h(n.charCodeAt(2))}function bpe(n){return/^onDynamic/.test(n)&&_h(n.charCodeAt(9))}function ult(n,e,t){const i=o=>function(){const a=Array.prototype.slice.call(arguments,0);return e(o,a)},r=o=>function(a){return t(o,a)};let s={};for(const o of n){if(bpe(o)){s[o]=r(o);continue}if(_pe(o)){s[o]=t(o,void 0);continue}s[o]=i(o)}return s}var xF;const Qte=(xF=window.trustedTypes)===null||xF===void 0?void 0:xF.createPolicy("defaultWorkerFactory",{createScriptURL:n=>n});function clt(n){if(Ar.MonacoEnvironment){if(typeof Ar.MonacoEnvironment.getWorker=="function")return Ar.MonacoEnvironment.getWorker("workerMain.js",n);if(typeof Ar.MonacoEnvironment.getWorkerUrl=="function"){const e=Ar.MonacoEnvironment.getWorkerUrl("workerMain.js",n);return new Worker(Qte?Qte.createScriptURL(e):e,{name:n})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function dlt(n){return typeof n.then=="function"}class hlt{constructor(e,t,i,r,s){this.id=t;const o=clt(i);dlt(o)?this.worker=o:this.worker=Promise.resolve(o),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){r(l.data)},a.onmessageerror=s,typeof a.addEventListener=="function"&&a.addEventListener("error",s)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(i=>i.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}}class ZO{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let r=++ZO.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new hlt(e,r,this._label||"anonymous"+r,t,s=>{x7(s),this._webWorkerFailedBeforeError=s,i(s)})}}ZO.LAST_WORKER_ID=0;class Vp{constructor(e,t,i,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function Cpe(n){return QO(n,0)}function QO(n,e){switch(typeof n){case"object":return n===null?mg(349,e):Array.isArray(n)?glt(n,e):plt(n,e);case"string":return pj(n,e);case"boolean":return flt(n,e);case"number":return mg(n,e);case"undefined":return mg(937,e);default:return mg(617,e)}}function mg(n,e){return(e<<5)-e+n|0}function flt(n,e){return mg(n?433:863,e)}function pj(n,e){e=mg(149417,e);for(let t=0,i=n.length;t<i;t++)e=mg(n.charCodeAt(t),e);return e}function glt(n,e){return e=mg(104579,e),n.reduce((t,i)=>QO(i,t),e)}function plt(n,e){return e=mg(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=pj(i,t),QO(n[i],t)),e)}function MF(n,e,t=32){const i=t-e,r=~((1<<i)-1);return(n<<e|(r&n)>>>i)>>>0}function Jte(n,e=0,t=n.byteLength,i=0){for(let r=0;r<t;r++)n[e+r]=i}function mlt(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function MS(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):mlt((n>>>0).toString(16),e/4)}class JO{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let r=this._buffLen,s=this._leftoverHighSurrogate,o,a;for(s!==0?(o=s,a=-1,s=0):(o=e.charCodeAt(0),a=0);;){let l=o;if(ps(o))if(a+1<t){const u=e.charCodeAt(a+1);x_(u)?(a++,l=JU(o,u)):l=65533}else{s=o;break}else x_(o)&&(l=65533);if(r=this._push(i,r,l),a++,a<t)o=e.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=s}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64+0],e[1]=e[64+1],e[2]=e[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),MS(this._h0)+MS(this._h1)+MS(this._h2)+MS(this._h3)+MS(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Jte(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Jte(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=JO._bigBlock32,t=this._buffDV;for(let d=0;d<64;d+=4)e.setUint32(d,t.getUint32(d,!1),!1);for(let d=64;d<320;d+=4)e.setUint32(d,MF(e.getUint32(d-12,!1)^e.getUint32(d-32,!1)^e.getUint32(d-56,!1)^e.getUint32(d-64,!1),1),!1);let i=this._h0,r=this._h1,s=this._h2,o=this._h3,a=this._h4,l,u,c;for(let d=0;d<80;d++)d<20?(l=r&s|~r&o,u=1518500249):d<40?(l=r^s^o,u=1859775393):d<60?(l=r&s|r&o|s&o,u=2400959708):(l=r^s^o,u=3395469782),c=MF(i,5)+l+a+u+e.getUint32(d*4,!1)&4294967295,a=o,o=s,s=MF(r,30),r=i,i=c;this._h0=this._h0+i&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+a&4294967295}}JO._bigBlock32=new DataView(new ArrayBuffer(320));class ene{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,r=e.length;i<r;i++)t[i]=e.charCodeAt(i);return t}}function vlt(n,e,t){return new Dh(new ene(n),new ene(e)).ComputeDiff(t).changes}class Cb{static Assert(e,t){if(!e)throw new Error(t)}}class yb{static Copy(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}static Copy2(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}}class tne{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Vp(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Dh{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[r,s,o]=Dh._getElements(e),[a,l,u]=Dh._getElements(t);this._hasStrings=o&&u,this._originalStringElements=r,this._originalElementsOrHash=s,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(Dh._isStringArray(t)){const i=new Int32Array(t.length);for(let r=0,s=t.length;r<s;r++)i[r]=pj(t[r],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=Dh._getStrictElement(this._originalSequence,e),r=Dh._getStrictElement(this._modifiedSequence,t);return i===r}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,r,s){const o=[!1];let a=this.ComputeDiffRecursive(e,t,i,r,o);return s&&(a=this.PrettifyChanges(a)),{quitEarly:o[0],changes:a}}ComputeDiffRecursive(e,t,i,r,s){for(s[0]=!1;e<=t&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&r>=i&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||i>r){let d;return i<=r?(Cb.Assert(e===t+1,"originalStart should only be one more than originalEnd"),d=[new Vp(e,0,i,r-i+1)]):e<=t?(Cb.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),d=[new Vp(e,t-e+1,i,0)]):(Cb.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Cb.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const o=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,r,o,a,s),u=o[0],c=a[0];if(l!==null)return l;if(!s[0]){const d=this.ComputeDiffRecursive(e,u,i,c,s);let h=[];return s[0]?h=[new Vp(u+1,t-(u+1)+1,c+1,r-(c+1)+1)]:h=this.ComputeDiffRecursive(u+1,t,c+1,r,s),this.ConcatenateChanges(d,h)}return[new Vp(e,t-e+1,i,r-i+1)]}WALKTRACE(e,t,i,r,s,o,a,l,u,c,d,h,f,g,p,m,b,_){let C=null,w=null,S=new tne,D=t,E=i,I=f[0]-m[0]-r,T=-1073741824,M=this.m_forwardHistory.length-1;do{const A=I+e;A===D||A<E&&u[A-1]<u[A+1]?(d=u[A+1],g=d-I-r,d<T&&S.MarkNextChange(),T=d,S.AddModifiedElement(d+1,g),I=A+1-e):(d=u[A-1]+1,g=d-I-r,d<T&&S.MarkNextChange(),T=d-1,S.AddOriginalElement(d,g+1),I=A-1-e),M>=0&&(u=this.m_forwardHistory[M],e=u[0],D=1,E=u.length-1)}while(--M>=-1);if(C=S.getReverseChanges(),_[0]){let A=f[0]+1,O=m[0]+1;if(C!==null&&C.length>0){const F=C[C.length-1];A=Math.max(A,F.getOriginalEnd()),O=Math.max(O,F.getModifiedEnd())}w=[new Vp(A,h-A+1,O,p-O+1)]}else{S=new tne,D=o,E=a,I=f[0]-m[0]-l,T=1073741824,M=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const A=I+s;A===D||A<E&&c[A-1]>=c[A+1]?(d=c[A+1]-1,g=d-I-l,d>T&&S.MarkNextChange(),T=d+1,S.AddOriginalElement(d+1,g+1),I=A+1-s):(d=c[A-1],g=d-I-l,d>T&&S.MarkNextChange(),T=d,S.AddModifiedElement(d+1,g+1),I=A-1-s),M>=0&&(c=this.m_reverseHistory[M],s=c[0],D=1,E=c.length-1)}while(--M>=-1);w=S.getChanges()}return this.ConcatenateChanges(C,w)}ComputeRecursionPoint(e,t,i,r,s,o,a){let l=0,u=0,c=0,d=0,h=0,f=0;e--,i--,s[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-e+(r-i),p=g+1,m=new Int32Array(p),b=new Int32Array(p),_=r-i,C=t-e,w=e-i,S=t-r,E=(C-_)%2===0;m[_]=e,b[C]=t,a[0]=!1;for(let I=1;I<=g/2+1;I++){let T=0,M=0;c=this.ClipDiagonalBound(_-I,I,_,p),d=this.ClipDiagonalBound(_+I,I,_,p);for(let O=c;O<=d;O+=2){O===c||O<d&&m[O-1]<m[O+1]?l=m[O+1]:l=m[O-1]+1,u=l-(O-_)-w;const F=l;for(;l<t&&u<r&&this.ElementsAreEqual(l+1,u+1);)l++,u++;if(m[O]=l,l+u>T+M&&(T=l,M=u),!E&&Math.abs(O-C)<=I-1&&l>=b[O])return s[0]=l,o[0]=u,F<=b[O]&&1447>0&&I<=1447+1?this.WALKTRACE(_,c,d,w,C,h,f,S,m,b,l,t,s,u,r,o,E,a):null}const A=(T-e+(M-i)-I)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(T,A))return a[0]=!0,s[0]=T,o[0]=M,A>0&&1447>0&&I<=1447+1?this.WALKTRACE(_,c,d,w,C,h,f,S,m,b,l,t,s,u,r,o,E,a):(e++,i++,[new Vp(e,t-e+1,i,r-i+1)]);h=this.ClipDiagonalBound(C-I,I,C,p),f=this.ClipDiagonalBound(C+I,I,C,p);for(let O=h;O<=f;O+=2){O===h||O<f&&b[O-1]>=b[O+1]?l=b[O+1]-1:l=b[O-1],u=l-(O-C)-S;const F=l;for(;l>e&&u>i&&this.ElementsAreEqual(l,u);)l--,u--;if(b[O]=l,E&&Math.abs(O-_)<=I&&l<=m[O])return s[0]=l,o[0]=u,F>=m[O]&&1447>0&&I<=1447+1?this.WALKTRACE(_,c,d,w,C,h,f,S,m,b,l,t,s,u,r,o,E,a):null}if(I<=1447){let O=new Int32Array(d-c+2);O[0]=_-c+1,yb.Copy2(m,c,O,1,d-c+1),this.m_forwardHistory.push(O),O=new Int32Array(f-h+2),O[0]=C-h+1,yb.Copy2(b,h,O,1,f-h+1),this.m_reverseHistory.push(O)}}return this.WALKTRACE(_,c,d,w,C,h,f,S,m,b,l,t,s,u,r,o,E,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],r=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,s=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,o=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<r&&i.modifiedStart+i.modifiedLength<s&&(!o||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const u=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!u)break;i.originalStart++,i.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let r=0,s=0;if(t>0){const d=e[t-1];r=d.originalStart+d.originalLength,s=d.modifiedStart+d.modifiedLength}const o=i.originalLength>0,a=i.modifiedLength>0;let l=0,u=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let d=1;;d++){const h=i.originalStart-d,f=i.modifiedStart-d;if(h<r||f<s||o&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;const p=(h===r&&f===s?5:0)+this._boundaryScore(h,i.originalLength,f,i.modifiedLength);p>u&&(u=p,l=d)}i.originalStart-=l,i.modifiedStart-=l;const c=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],c)){e[t-1]=c[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const r=e[t-1],s=e[t],o=s.originalStart-r.originalStart-r.originalLength,a=r.originalStart,l=s.originalStart+s.originalLength,u=l-a,c=r.modifiedStart,d=s.modifiedStart+s.modifiedLength,h=d-c;if(o<5&&u<20&&h<20){const f=this._findBetterContiguousSequence(a,u,c,h,o);if(f){const[g,p]=f;(g!==r.originalStart+r.originalLength||p!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=g-r.originalStart,r.modifiedLength=p-r.modifiedStart,s.originalStart=g+o,s.modifiedStart=p+o,s.originalLength=l-s.originalStart,s.modifiedLength=d-s.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,r,s){if(t<s||r<s)return null;const o=e+t-s+1,a=i+r-s+1;let l=0,u=0,c=0;for(let d=e;d<o;d++)for(let h=i;h<a;h++){const f=this._contiguousSequenceScore(d,h,s);f>0&&f>l&&(l=f,u=d,c=h)}return l>0?[u,c]:null}_contiguousSequenceScore(e,t,i){let r=0;for(let s=0;s<i;s++){if(!this.ElementsAreEqual(e+s,t+s))return 0;r+=this._originalStringElements[e+s].length}return r}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,r){const s=this._OriginalRegionIsBoundary(e,t)?1:0,o=this._ModifiedRegionIsBoundary(i,r)?1:0;return s+o}ConcatenateChanges(e,t){let i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const r=new Array(e.length+t.length-1);return yb.Copy(e,0,r,0,e.length-1),r[e.length-1]=i[0],yb.Copy(t,1,r,e.length,t.length-1),r}else{const r=new Array(e.length+t.length);return yb.Copy(e,0,r,0,e.length),yb.Copy(t,0,r,e.length,t.length),r}}ChangesOverlap(e,t,i){if(Cb.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Cb.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const r=e.originalStart;let s=e.originalLength;const o=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Vp(r,s,o,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,r){if(e>=0&&e<r)return e;const s=i,o=r-i-1,a=t%2===0;if(e<0){const l=s%2===0;return a===l?0:1}else{const l=o%2===0;return a===l?r-1:r-2}}}const _lt=3;function ype(n,e,t,i){return new Dh(n,e,t).ComputeDiff(i)}class nne{constructor(e){const t=[],i=[];for(let r=0,s=e.length;r<s;r++)t[r]=M7(e[r],1),i[r]=A7(e[r],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const r=[],s=[],o=[];let a=0;for(let l=t;l<=i;l++){const u=this.lines[l],c=e?this._startColumns[l]:1,d=e?this._endColumns[l]:u.length+1;for(let h=c;h<d;h++)r[a]=u.charCodeAt(h-1),s[a]=l+1,o[a]=h,a++}return new blt(r,s,o)}}class blt{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class bk{constructor(e,t,i,r,s,o,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=r,this.modifiedStartLineNumber=s,this.modifiedStartColumn=o,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){let r,s,o,a,l,u,c,d;return e.originalLength===0?(r=0,s=0,o=0,a=0):(r=t.getStartLineNumber(e.originalStart),s=t.getStartColumn(e.originalStart),o=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1)),e.modifiedLength===0?(l=0,u=0,c=0,d=0):(l=i.getStartLineNumber(e.modifiedStart),u=i.getStartColumn(e.modifiedStart),c=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),d=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new bk(r,s,o,a,l,u,c,d)}}function Clt(n){if(n.length<=1)return n;const e=[n[0]];let t=e[0];for(let i=1,r=n.length;i<r;i++){const s=n[i],o=s.originalStart-(t.originalStart+t.originalLength),a=s.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(o,a)<_lt?(t.originalLength=s.originalStart+s.originalLength-t.originalStart,t.modifiedLength=s.modifiedStart+s.modifiedLength-t.modifiedStart):(e.push(s),t=s)}return e}class z2{constructor(e,t,i,r,s){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=r,this.charChanges=s}static createFromDiffResult(e,t,i,r,s,o,a){let l,u,c,d,h;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,u=0):(l=i.getStartLineNumber(t.originalStart),u=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(c=r.getStartLineNumber(t.modifiedStart)-1,d=0):(c=r.getStartLineNumber(t.modifiedStart),d=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),o&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&s()){const f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),g=r.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let p=ype(f,g,s,!0).changes;a&&(p=Clt(p)),h=[];for(let m=0,b=p.length;m<b;m++)h.push(bk.createFromDiffChange(p[m],f,g))}return new z2(l,u,c,d,h)}}class ylt{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new nne(e),this.modified=new nne(t),this.continueLineDiff=ine(i.maxComputationTime),this.continueCharDiff=ine(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=ype(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,u=t.length;l<u;l++)a.push(z2.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const r=[];let s=0,o=0;for(let a=-1,l=t.length;a<l;a++){const u=a+1<l?t[a+1]:null,c=u?u.originalStart:this.originalLines.length,d=u?u.modifiedStart:this.modifiedLines.length;for(;s<c&&o<d;){const h=this.originalLines[s],f=this.modifiedLines[o];if(h!==f){{let g=M7(h,1),p=M7(f,1);for(;g>1&&p>1;){const m=h.charCodeAt(g-2),b=f.charCodeAt(p-2);if(m!==b)break;g--,p--}(g>1||p>1)&&this._pushTrimWhitespaceCharChange(r,s+1,1,g,o+1,1,p)}{let g=A7(h,1),p=A7(f,1);const m=h.length+1,b=f.length+1;for(;g<m&&p<b;){const _=h.charCodeAt(g-1),C=h.charCodeAt(p-1);if(_!==C)break;g++,p++}(g<m||p<b)&&this._pushTrimWhitespaceCharChange(r,s+1,g,m,o+1,p,b)}}s++,o++}u&&(r.push(z2.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=u.originalLength,o+=u.modifiedLength)}return{quitEarly:i,changes:r}}_pushTrimWhitespaceCharChange(e,t,i,r,s,o,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,r,s,o,a))return;let l;this.shouldComputeCharChanges&&(l=[new bk(t,i,t,r,s,o,s,a)]),e.push(new z2(t,t,s,s,l))}_mergeTrimWhitespaceCharChange(e,t,i,r,s,o,a){const l=e.length;if(l===0)return!1;const u=e[l-1];return u.originalEndLineNumber===0||u.modifiedEndLineNumber===0?!1:u.originalEndLineNumber+1===t&&u.modifiedEndLineNumber+1===s?(u.originalEndLineNumber=t,u.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&u.charChanges&&u.charChanges.push(new bk(t,i,t,r,s,o,s,a)),!0):!1}}function M7(n,e){const t=oa(n);return t===-1?e:t+1}function A7(n,e){const t=jh(n);return t===-1?e:t+2}function ine(n){if(n===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<n}function dA(n){return n<0?0:n>255?255:n|0}function wb(n){return n<0?0:n>4294967295?4294967295:n|0}class wlt{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=wb(e);const i=this.values,r=this.prefixSum,s=t.length;return s===0?!1:(this.values=new Uint32Array(i.length+s),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+s),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=wb(e),t=wb(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=wb(e),t=wb(t);const i=this.values,r=this.prefixSum;if(e>=i.length)return!1;const s=i.length-e;return t>=s&&(t=s),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=wb(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,r=0,s=0,o=0;for(;t<=i;)if(r=t+(i-t)/2|0,s=this.prefixSum[r],o=s-this.values[r],e<o)i=r-1;else if(e>=s)t=r+1;else break;return new wpe(r,e-o)}}class Slt{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new wpe(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=WO(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],r=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=r+i;for(let s=0;s<i;s++)this._indexBySum[r+s]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class wpe{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class Llt{constructor(e,t,i,r){this._uri=e,this._lines=t,this._eol=i,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new Ae(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let r=0;r<t;r++)i[r]=this._lines[r].length+e;this._lineStarts=new wlt(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;const i=ef(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const r=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(e.lineNumber+s-1,0,i[s]),r[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}class $w{constructor(e){const t=dA(e);this._defaultValue=t,this._asciiMap=$w._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){const i=dA(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class hC{constructor(){this._actual=new $w(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}}class klt{constructor(e,t,i){const r=new Uint8Array(e*t);for(let s=0,o=e*t;s<o;s++)r[s]=i;this._data=r,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class Elt{constructor(e){let t=0,i=0;for(let s=0,o=e.length;s<o;s++){const[a,l,u]=e[s];l>t&&(t=l),a>i&&(i=a),u>i&&(i=u)}t++,i++;const r=new klt(i,t,0);for(let s=0,o=e.length;s<o;s++){const[a,l,u]=e[s];r.set(a,l,u)}this._states=r,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let AF=null;function Dlt(){return AF===null&&(AF=new Elt([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),AF}let AS=null;function Ilt(){if(AS===null){AS=new $w(0);const n=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<n.length;t++)AS.set(n.charCodeAt(t),1);const e=".,;";for(let t=0;t<e.length;t++)AS.set(e.charCodeAt(t),2)}return AS}class hA{static _createLink(e,t,i,r,s){let o=s-1;do{const a=t.charCodeAt(o);if(e.get(a)!==2)break;o--}while(o>r);if(r>0){const a=t.charCodeAt(r-1),l=t.charCodeAt(o);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&o--}return{range:{startLineNumber:i,startColumn:r+1,endLineNumber:i,endColumn:o+2},url:t.substring(r,o+1)}}static computeLinks(e,t=Dlt()){const i=Ilt(),r=[];for(let s=1,o=e.getLineCount();s<=o;s++){const a=e.getLineContent(s),l=a.length;let u=0,c=0,d=0,h=1,f=!1,g=!1,p=!1,m=!1;for(;u<l;){let b=!1;const _=a.charCodeAt(u);if(h===13){let C;switch(_){case 40:f=!0,C=0;break;case 41:C=f?0:1;break;case 91:p=!0,g=!0,C=0;break;case 93:p=!1,C=g?0:1;break;case 123:m=!0,C=0;break;case 125:C=m?0:1;break;case 39:C=d===34||d===96?0:1;break;case 34:C=d===39||d===96?0:1;break;case 96:C=d===39||d===34?0:1;break;case 42:C=d===42?1:0;break;case 124:C=d===124?1:0;break;case 32:C=p?0:1;break;default:C=i.get(_)}C===1&&(r.push(hA._createLink(i,a,s,c,u)),b=!0)}else if(h===12){let C;_===91?(g=!0,C=0):C=i.get(_),C===1?b=!0:h=13}else h=t.nextState(h,_),h===0&&(b=!0);b&&(h=1,f=!1,g=!1,m=!1,c=u+1,d=_),u++}h===13&&r.push(hA._createLink(i,a,s,c,l))}return r}}function Tlt(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:hA.computeLinks(n)}class R7{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,r,s){if(e&&t){const o=this.doNavigateValueSet(t,s);if(o)return{range:e,value:o}}if(i&&r){const o=this.doNavigateValueSet(r,s);if(o)return{range:i,value:o}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let r=Number(e),s=parseFloat(e);return!isNaN(r)&&!isNaN(s)&&r===s?r===0&&!t?null:(r=Math.floor(r*i),r+=t?i:-i,String(r/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let r=null;for(let s=0,o=e.length;r===null&&s<o;s++)r=this.valueSetReplace(e[s],t,i);return r}valueSetReplace(e,t,i){let r=e.indexOf(t);return r>=0?(r+=i?1:-1,r<0?r=e.length-1:r%=e.length,e[r]):null}}R7.INSTANCE=new R7;class Nlt extends $w{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}function xlt(n){const e={};return t=>(e.hasOwnProperty(t)||(e[t]=n(t)),e[t])}const Bu=xlt(n=>new Nlt(n)),Mlt=999;class o0{constructor(e,t,i,r){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=r}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=Alt(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=Uge(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new yot(t,this.wordSeparators?Bu(this.wordSeparators):null,i?this.searchString:null)}}function Alt(n){if(!n||n.length===0)return!1;for(let e=0,t=n.length;e<t;e++)if(n.charCodeAt(e)===92){if(e++,e>=t)break;const r=n.charCodeAt(e);if(r===110||r===114||r===87)return!0}return!1}function p0(n,e,t){if(!t)return new uk(n,null);const i=[];for(let r=0,s=e.length;r<s;r++)i[r]=e[r];return new uk(n,i)}class rne{constructor(e){const t=[];let i=0;for(let r=0,s=e.length;r<s;r++)e.charCodeAt(r)===10&&(t[i++]=r);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,r=t.length-1;if(r===-1||e<=t[0])return 0;for(;i<r;){const s=i+((r-i)/2>>0);t[s]>=e?r=s-1:t[s+1]>=e?(i=s,r=s):i=s+1}return i+1}}class cT{static findMatches(e,t,i,r,s){const o=t.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(e,i,new fC(o.wordSeparators,o.regex),r,s):this._doFindMatchesLineByLine(e,i,o,r,s):[]}static _getMultilineMatchRange(e,t,i,r,s,o){let a,l=0;r?(l=r.findLineFeedCountBeforeOffset(s),a=t+s+l):a=t+s;let u;if(r){const f=r.findLineFeedCountBeforeOffset(s+o.length)-l;u=a+o.length+f}else u=a+o.length;const c=e.getPositionAt(a),d=e.getPositionAt(u);return new Y(c.lineNumber,c.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(e,t,i,r,s){const o=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new rne(a):null,u=[];let c=0,d;for(i.reset(0);d=i.next(a);)if(u[c++]=p0(this._getMultilineMatchRange(e,o,a,l,d.index,d[0]),d,r),c>=s)return u;return u}static _doFindMatchesLineByLine(e,t,i,r,s){const o=[];let a=0;if(t.startLineNumber===t.endLineNumber){const u=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,u,t.startLineNumber,t.startColumn-1,a,o,r,s),o}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,o,r,s);for(let u=t.startLineNumber+1;u<t.endLineNumber&&a<s;u++)a=this._findMatchesInLine(i,e.getLineContent(u),u,0,a,o,r,s);if(a<s){const u=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,u,t.endLineNumber,0,a,o,r,s)}return o}static _findMatchesInLine(e,t,i,r,s,o,a,l){const u=e.wordSeparators;if(!a&&e.simpleSearch){const h=e.simpleSearch,f=h.length,g=t.length;let p=-f;for(;(p=t.indexOf(h,p+f))!==-1;)if((!u||mj(u,t,g,p,f))&&(o[s++]=new uk(new Y(i,p+1+r,i,p+1+f+r),null),s>=l))return s;return s}const c=new fC(e.wordSeparators,e.regex);let d;c.reset(0);do if(d=c.next(t),d&&(o[s++]=p0(new Y(i,d.index+1+r,i,d.index+1+d[0].length+r),d,a),s>=l))return s;while(d);return s}static findNextMatch(e,t,i,r){const s=t.parseSearchRequest();if(!s)return null;const o=new fC(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindNextMatchMultiline(e,i,o,r):this._doFindNextMatchLineByLine(e,i,o,r)}static _doFindNextMatchMultiline(e,t,i,r){const s=new Ae(t.lineNumber,1),o=e.getOffsetAt(s),a=e.getLineCount(),l=e.getValueInRange(new Y(s.lineNumber,s.column,a,e.getLineMaxColumn(a)),1),u=e.getEOL()===`\r
`?new rne(l):null;i.reset(t.column-1);let c=i.next(l);return c?p0(this._getMultilineMatchRange(e,o,l,u,c.index,c[0]),c,r):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new Ae(1,1),i,r):null}static _doFindNextMatchLineByLine(e,t,i,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o),l=this._findFirstMatchInLine(i,a,o,t.column,r);if(l)return l;for(let u=1;u<=s;u++){const c=(o+u-1)%s,d=e.getLineContent(c+1),h=this._findFirstMatchInLine(i,d,c+1,1,r);if(h)return h}return null}static _findFirstMatchInLine(e,t,i,r,s){e.reset(r-1);const o=e.next(t);return o?p0(new Y(i,o.index+1,i,o.index+1+o[0].length),o,s):null}static findPreviousMatch(e,t,i,r){const s=t.parseSearchRequest();if(!s)return null;const o=new fC(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindPreviousMatchMultiline(e,i,o,r):this._doFindPreviousMatchLineByLine(e,i,o,r)}static _doFindPreviousMatchMultiline(e,t,i,r){const s=this._doFindMatchesMultiline(e,new Y(1,1,t.lineNumber,t.column),i,r,10*Mlt);if(s.length>0)return s[s.length-1];const o=e.getLineCount();return t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(e,new Ae(o,e.getLineMaxColumn(o)),i,r):null}static _doFindPreviousMatchLineByLine(e,t,i,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,o,r);if(l)return l;for(let u=1;u<=s;u++){const c=(s+o-u-1)%s,d=e.getLineContent(c+1),h=this._findLastMatchInLine(i,d,c+1,r);if(h)return h}return null}static _findLastMatchInLine(e,t,i,r){let s=null,o;for(e.reset(0);o=e.next(t);)s=p0(new Y(i,o.index+1,i,o.index+1+o[0].length),o,r);return s}}function Rlt(n,e,t,i,r){if(i===0)return!0;const s=e.charCodeAt(i-1);if(n.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(i);if(n.get(o)!==0)return!0}return!1}function Olt(n,e,t,i,r){if(i+r===t)return!0;const s=e.charCodeAt(i+r);if(n.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(i+r-1);if(n.get(o)!==0)return!0}return!1}function mj(n,e,t,i,r){return Rlt(n,e,t,i,r)&&Olt(n,e,t,i,r)}class fC{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const r=i.index,s=i[0].length;if(r===this._prevMatchStartIndex&&s===this._prevMatchLength){if(s===0){JM(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=s,!this._wordSeparators||mj(this._wordSeparators,e,t,r,s))return i}while(i);return null}}class vj{static computeUnicodeHighlights(e,t,i){const r=i?i.startLineNumber:1,s=i?i.endLineNumber:e.getLineCount(),o=new sne(t),a=o.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${Plt(Array.from(a))}`,"g");const u=new fC(null,l),c=[];let d=!1,h,f=0,g=0,p=0;e:for(let m=r,b=s;m<=b;m++){const _=e.getLineContent(m),C=_.length;u.reset(0);do if(h=u.next(_),h){let w=h.index,S=h.index+h[0].length;if(w>0){const I=_.charCodeAt(w-1);ps(I)&&w--}if(S+1<C){const I=_.charCodeAt(S-1);ps(I)&&S++}const D=_.substring(w,S),E=o.shouldHighlightNonBasicASCII(D);if(E!==0){E===3?f++:E===2?g++:E===1?p++:VU();const I=1e3;if(c.length>=I){d=!0;break e}c.push(new Y(m,w+1,m,S+1))}}while(h)}return{ranges:c,hasMore:d,ambiguousCharacterCount:f,invisibleCharacterCount:g,nonBasicAsciiCharacterCount:p}}static computeUnicodeHighlightReason(e,t){const i=new sne(t);switch(i.shouldHighlightNonBasicASCII(e)){case 0:return null;case 2:return{kind:1};case 3:{const s=e.codePointAt(0),o=i.ambiguousCharacters.getPrimaryConfusable(s),a=Bc.getLocales().filter(l=>!Bc.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(s));return{kind:0,confusableWith:String.fromCodePoint(o),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function Plt(n,e){return`[${Fu(n.map(i=>String.fromCodePoint(i)).join(""))}]`}class sne{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=Bc.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of Lg.codePoints)e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e){const t=e.codePointAt(0);return this.allowedCodePoints.has(t)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&!(e===" "||e===`
`||e==="	")&&Lg.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}var Kv=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Flt extends Llt{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=jM(e.column,bge(t),this._lines[e.lineNumber-1],0);return i?new Y(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let r=0,s="",o=0,a=[];return{*[Symbol.iterator](){for(;;)if(o<a.length){const l=s.substring(a[o].start,a[o].end);o+=1,yield l}else if(r<t.length)s=t[r],a=i(s,e),o=0,r+=1;else break}}}getLineWords(e,t){const i=this._lines[e-1],r=this._wordenize(i,t),s=[];for(const o of r)s.push({word:i.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return s}_wordenize(e,t){const i=[];let r;for(t.lastIndex=0;(r=t.exec(e))&&r[0].length!==0;)i.push({start:r.index,end:r.index+r[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,r=e.endLineNumber-1,s=[];s.push(this._lines[i].substring(e.startColumn-1));for(let o=i+1;o<r;o++)s.push(this._lines[o]);return s.push(this._lines[r].substring(0,e.endColumn-1)),s.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!Ae.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,r=!1;if(t<1)t=1,i=1,r=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,r=!0;else{const s=this._lines[t-1].length+1;i<1?(i=1,r=!0):i>s&&(i=s,r=!0)}return r?{lineNumber:t,column:i}:e}}class A_{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){const e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new Flt(zt.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){!this._models[e]||delete this._models[e]}computeUnicodeHighlights(e,t,i){return Kv(this,void 0,void 0,function*(){const r=this._getModel(e);return r?vj.computeUnicodeHighlights(r,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(e,t,i,r){return Kv(this,void 0,void 0,function*(){const s=this._getModel(e),o=this._getModel(t);if(!s||!o)return null;const a=s.getLinesContent(),l=o.getLinesContent(),c=new ylt(a,l,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:r}).computeDiff(),d=c.changes.length>0?!1:this._modelsAreIdentical(s,o);return{quitEarly:c.quitEarly,identical:d,changes:c.changes}})}_modelsAreIdentical(e,t){const i=e.getLineCount(),r=t.getLineCount();if(i!==r)return!1;for(let s=1;s<=i;s++){const o=e.getLineContent(s),a=t.getLineContent(s);if(o!==a)return!1}return!0}computeMoreMinimalEdits(e,t){return Kv(this,void 0,void 0,function*(){const i=this._getModel(e);if(!i)return t;const r=[];let s;t=t.slice(0).sort((o,a)=>{if(o.range&&a.range)return Y.compareRangesUsingStarts(o.range,a.range);const l=o.range?0:1,u=a.range?0:1;return l-u});for(let{range:o,text:a,eol:l}of t){if(typeof l=="number"&&(s=l),Y.isEmpty(o)&&!a)continue;const u=i.getValueInRange(o);if(a=a.replace(/\r\n|\n|\r/g,i.eol),u===a)continue;if(Math.max(a.length,u.length)>A_._diffLimit){r.push({range:o,text:a});continue}const c=vlt(u,a,!1),d=i.offsetAt(Y.lift(o).getStartPosition());for(const h of c){const f=i.positionAt(d+h.originalStart),g=i.positionAt(d+h.originalStart+h.originalLength),p={text:a.substr(h.modifiedStart,h.modifiedLength),range:{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:g.lineNumber,endColumn:g.column}};i.getValueInRange(p.range)!==p.text&&r.push(p)}}return typeof s=="number"&&r.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),r})}computeLinks(e){return Kv(this,void 0,void 0,function*(){const t=this._getModel(e);return t?Tlt(t):null})}textualSuggest(e,t,i,r){return Kv(this,void 0,void 0,function*(){const s=new Ou(!0),o=new RegExp(i,r),a=new Set;e:for(let l of e){const u=this._getModel(l);if(!!u){for(let c of u.words(o))if(!(c===t||!isNaN(Number(c)))&&(a.add(c),a.size>A_._suggestionsLimit))break e}}return{words:Array.from(a),duration:s.elapsed()}})}computeWordRanges(e,t,i,r){return Kv(this,void 0,void 0,function*(){const s=this._getModel(e);if(!s)return Object.create(null);const o=new RegExp(i,r),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){const u=s.getLineWords(l,o);for(const c of u){if(!isNaN(Number(c.word)))continue;let d=a[c.word];d||(d=[],a[c.word]=d),d.push({startLineNumber:l,startColumn:c.startColumn,endLineNumber:l,endColumn:c.endColumn})}}return a})}navigateValueSet(e,t,i,r,s){return Kv(this,void 0,void 0,function*(){const o=this._getModel(e);if(!o)return null;const a=new RegExp(r,s);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const l=o.getValueInRange(t),u=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!u)return null;const c=o.getValueInRange(u);return R7.INSTANCE.navigateValueSet(t,l,u,c,i)})}loadForeignModule(e,t,i){const o={host:ust(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve($U(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}A_._diffLimit=1e5;A_._suggestionsLimit=1e4;typeof importScripts=="function"&&(Ar.monaco=ipe());const _j=Pn("textResourceConfigurationService"),Spe=Pn("textResourcePropertiesService"),Uc=Pn("logService");var vd;(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Info=2]="Info",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.Off=6]="Off"})(vd||(vd={}));const Lpe=vd.Info;class Blt extends ze{constructor(){super(...arguments);this.level=Lpe,this._onDidChangeLogLevel=this._register(new Le)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class $lt extends Blt{constructor(e=Lpe){super();this.setLevel(e)}trace(e,...t){this.getLevel()<=vd.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=vd.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=vd.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=vd.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class Vlt extends ze{constructor(e){super();this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}var Wlt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},dT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},O7=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const one=60*1e3,ane=5*60*1e3;function m0(n,e){const t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}let P7=class extends ze{constructor(e,t,i,r){super();this._modelService=e,this._workerManager=this._register(new zlt(this._modelService,r)),this._logService=i,this._register(mk.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(s,o)=>m0(this._modelService,s.uri)?this._workerManager.withWorker().then(a=>a.computeLinks(s.uri)).then(a=>a&&{links:a}):Promise.resolve({links:[]})})),this._register(fd.register("*",new Hlt(this._workerManager,t,this._modelService,r)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return m0(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(r=>r.computedUnicodeHighlights(e,t,i))}computeDiff(e,t,i,r){return this._workerManager.withWorker().then(s=>s.computeDiff(e,t,i,r))}computeMoreMinimalEdits(e,t){if(nl(t)){if(!m0(this._modelService,e))return Promise.resolve(t);const i=Ou.create(!0),r=this._workerManager.withWorker().then(s=>s.computeMoreMinimalEdits(e,t));return r.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([r,jm(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return m0(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(r=>r.navigateValueSet(e,t,i))}canComputeWordRanges(e){return m0(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};P7=Wlt([dT(0,sr),dT(1,_j),dT(2,Uc),dT(3,fo)],P7);class Hlt{constructor(e,t,i,r){this.languageConfigurationService=r,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return O7(this,void 0,void 0,function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const r=[];if(i.wordBasedSuggestionsMode==="currentDocument")m0(this._modelService,e.uri)&&r.push(e.uri);else for(const d of this._modelService.getModels())!m0(this._modelService,d.uri)||(d===e?r.unshift(d.uri):(i.wordBasedSuggestionsMode==="allDocuments"||d.getLanguageId()===e.getLanguageId())&&r.push(d.uri));if(r.length===0)return;const s=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),o=e.getWordAtPosition(t),a=o?new Y(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):Y.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),c=yield(yield this._workerManager.withWorker()).textualSuggest(r,o==null?void 0:o.word,s);if(!!c)return{duration:c.duration,suggestions:c.words.map(d=>({kind:18,label:d,insertText:d,range:{insert:l,replace:a}}))}})}}class zlt extends ze{constructor(e,t){super();this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new tD).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(ane/2)),this._register(this._modelService.onModelRemoved(r=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>ane&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new kpe(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Ult extends ze{constructor(e,t,i){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const r=new tD;r.cancelAndSet(()=>this._checkStopModelSync(),Math.round(one/2)),this._register(r)}}dispose(){for(let e in this._syncedModels)jn(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const r=i.toString();this._syncedModels[r]||this._beginModelSync(i,t),this._syncedModels[r]&&(this._syncedModelsLastUsedTime[r]=new Date().getTime())}}_checkStopModelSync(){const e=new Date().getTime(),t=[];for(let i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>one&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const r=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const s=new it;s.add(i.onDidChangeContent(o=>{this._proxy.acceptModelChanged(r.toString(),o)})),s.add(i.onWillDispose(()=>{this._stopModelSync(r)})),s.add(_n(()=>{this._proxy.acceptRemovedModel(r)})),this._syncedModels[r]=s}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],jn(t)}}class lne{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class RF{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class kpe extends ze{constructor(e,t,i,r){super();this.languageConfigurationService=r,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new ZO(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new llt(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new RF(this)))}catch(e){x7(e),this._worker=new lne(new A_(new RF(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(x7(e),this._worker=new lne(new A_(new RF(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new Ult(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return O7(this,void 0,void 0,function*(){return this._disposed?Promise.reject(WU()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))})}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(r=>r.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,r){return this._withSyncedResources([e,t],!0).then(s=>s.computeDiff(e.toString(),t.toString(),i,r))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return O7(this,void 0,void 0,function*(){const r=yield this._withSyncedResources(e),s=i.source,o=yF(i);return r.textualSuggest(e.map(a=>a.toString()),t,s,o)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{const r=this._modelService.getModel(e);if(!r)return Promise.resolve(null);const s=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition(),o=s.source,a=yF(s);return i.computeWordRanges(e.toString(),t,o,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(r=>{const s=this._modelService.getModel(e);if(!s)return null;const o=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId()).getWordDefinition(),a=o.source,l=yF(o);return r.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}}function jlt(n,e,t){return new Klt(n,e,t)}class Klt extends kpe{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t);this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?$U(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const r=(a,l)=>e.fmr(a,l),s=(a,l)=>function(){const u=Array.prototype.slice.call(arguments,0);return l(a,u)},o={};for(const a of i)o[a]=s(a,r);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}}class vs{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){const i=vs.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=e.length,r[1]=i,new vs(r,e,t)}equals(e){return e instanceof vs?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const r=t<<1,s=r+(i<<1);for(let o=r;o<s;o++)if(this._tokens[o]!==e._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=ko.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return ko.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return ko.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return ko.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return ko.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return ko.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return vs.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new bj(this,e,t,i)}static convertToEndOffset(e,t){const r=(e.length>>>1)-1;for(let s=0;s<r;s++)e[s<<1]=e[s+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,r=(e.length>>>1)-1;for(;i<r;){const s=i+Math.floor((r-i)/2),o=e[s<<1];if(o===t)return s+1;o<t?i=s+1:o>t&&(r=s)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,r="";const s=new Array;let o=0;for(;;){const a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){r+=this._text.substring(o,a);const u=this._tokens[(t<<1)+1];s.push(r.length,u),t++,o=a}else if(l){if(l.offset>o){r+=this._text.substring(o,l.offset);const u=this._tokens[(t<<1)+1];s.push(r.length,u),o=l.offset}r+=l.text,s.push(r.length,l.tokenMetadata),i++}else break}return new vs(new Uint32Array(s),r,this._languageIdCodec)}}vs.defaultTokenMetadata=(0<<10|1<<14|2<<23)>>>0;class bj{constructor(e,t,i,r){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let s=this._firstTokenIndex,o=e.getCount();s<o&&!(e.getStartOffset(s)>=i);s++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof bj?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class Al{constructor(e,t,i,r){this.startColumn=e,this.endColumn=t,this.className=i,this.type=r,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,r=t.length;if(i!==r)return!1;for(let s=0;s<i;s++)if(!Al._equals(e[s],t[s]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const r=t+1,s=i+1,o=i-t,a=[];let l=0;for(const u of e)u.endColumn<=r||u.startColumn>=s||(a[l++]=new Al(Math.max(1,u.startColumn-r+1),Math.min(o+1,u.endColumn-r+1),u.className,u.type));return a}static filter(e,t,i,r){if(e.length===0)return[];const s=[];let o=0;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.range;if(c.endLineNumber<t||c.startLineNumber>t||c.isEmpty()&&(u.type===0||u.type===3))continue;const d=c.startLineNumber===t?c.startColumn:i,h=c.endLineNumber===t?c.endColumn:r;s[o++]=new Al(d,h,u.inlineClassName,u.type)}return s}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=Al._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class une{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=r}}class fA{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,r=e.length;i<r;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;i.push(new une(t,this.stopOffsets[r],this.classNames.join(" "),fA._metadata(this.metadata))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&t<e&&(i.push(new une(t,e-1,this.classNames.join(" "),fA._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t),this.metadata.splice(r,0,i);break}this.count++}}class Glt{static normalize(e,t){if(t.length===0)return[];const i=[],r=new fA;let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];let u=l.startColumn,c=l.endColumn;const d=l.className,h=l.type===1?2:l.type===2?4:0;if(u>1){const p=e.charCodeAt(u-2);ps(p)&&u--}if(c>1){const p=e.charCodeAt(c-2);ps(p)&&c--}const f=u-1,g=c-2;s=r.consumeLowerThan(f,s,i),r.count===0&&(s=f),r.insert(g,d,h)}return r.consumeLowerThan(1073741824,s,i),i}}class xs{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class qlt{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class I1{constructor(e,t,i,r,s,o,a,l,u,c,d,h,f,g,p,m,b,_,C){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=r,this.isBasicASCII=s,this.containsRTL=o,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=u.sort(Al.compare),this.tabSize=c,this.startVisibleColumn=d,this.spaceWidth=h,this.stopRenderingLineAfter=p,this.renderWhitespace=m==="all"?4:m==="boundary"?1:m==="selection"?2:m==="trailing"?3:0,this.renderControlCharacters=b,this.fontLigatures=_,this.selectionsOnLine=C&&C.sort((D,E)=>D.startOffset<E.startOffset?-1:1);const w=Math.abs(g-h),S=Math.abs(f-h);w<S?(this.renderSpaceWidth=g,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Al.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class Cj{constructor(e,t){this.partIndex=e,this.charIndex=t}}class Ch{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}setColumnInfo(e,t,i,r){const s=(t<<16|i<<0)>>>0;this._data[e-1]=s,this._absoluteOffsets[e-1]=r+i}getAbsoluteOffset(e){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=Ch.getPartIndex(t),r=Ch.getCharIndex(t);return new Cj(i,r)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;const r=(e<<16|i<<0)>>>0;let s=0,o=this.length-1;for(;s+1<o;){const p=s+o>>>1,m=this._data[p];if(m===r)return p;m>r?o=p:s=p}if(s===o)return s;const a=this._data[s],l=this._data[o];if(a===r)return s;if(l===r)return o;const u=Ch.getPartIndex(a),c=Ch.getCharIndex(a),d=Ch.getPartIndex(l);let h;u!==d?h=t:h=Ch.getCharIndex(l);const f=i-c,g=h-i;return f<=g?s:o}}class F7{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function e4(n,e){if(n.lineContent.length===0){if(n.lineDecorations.length>0){e.appendASCIIString("<span>");let t=0,i=0,r=0;for(const o of n.lineDecorations)(o.type===1||o.type===2)&&(e.appendASCIIString('<span class="'),e.appendASCIIString(o.className),e.appendASCIIString('"></span>'),o.type===1&&(r|=1,t++),o.type===2&&(r|=2,i++));e.appendASCIIString("</span>");const s=new Ch(1,t+i);return s.setColumnInfo(1,t,0,0),new F7(s,!1,r)}return e.appendASCIIString("<span><span></span></span>"),new F7(new Ch(0,0),!1,0)}return iut(Zlt(n),e)}class Ylt{constructor(e,t,i,r){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=r}}function t4(n){const e=M_(1e4),t=e4(n,e);return new Ylt(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class Xlt{constructor(e,t,i,r,s,o,a,l,u,c,d,h,f,g,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=r,this.isOverflowing=s,this.parts=o,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=u,this.startVisibleColumn=c,this.containsRTL=d,this.spaceWidth=h,this.renderSpaceCharCode=f,this.renderWhitespace=g,this.renderControlCharacters=p}}function Zlt(n){const e=n.lineContent;let t,i;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<e.length?(t=!0,i=n.stopRenderingLineAfter):(t=!1,i=e.length);let r=Qlt(n.lineTokens,n.fauxIndentLength,i);n.renderControlCharacters&&!n.isBasicASCII&&(r=eut(e,r)),(n.renderWhitespace===4||n.renderWhitespace===1||n.renderWhitespace===2&&!!n.selectionsOnLine||n.renderWhitespace===3)&&(r=tut(n,e,i,r));let s=0;if(n.lineDecorations.length>0){for(let o=0,a=n.lineDecorations.length;o<a;o++){const l=n.lineDecorations[o];l.type===3||l.type===1?s|=1:l.type===2&&(s|=2)}r=nut(e,i,r,n.lineDecorations)}return n.containsRTL||(r=Jlt(e,r,!n.isBasicASCII||n.fontLigatures)),new Xlt(n.useMonospaceOptimizations,n.canUseHalfwidthRightwardsArrow,e,i,t,r,s,n.fauxIndentLength,n.tabSize,n.startVisibleColumn,n.containsRTL,n.spaceWidth,n.renderSpaceCharCode,n.renderWhitespace,n.renderControlCharacters)}function Qlt(n,e,t){const i=[];let r=0;e>0&&(i[r++]=new xs(e,"",0));for(let s=0,o=n.getCount();s<o;s++){const a=n.getEndOffset(s);if(a<=e)continue;const l=n.getClassName(s);if(a>=t){i[r++]=new xs(t,l,0);break}i[r++]=new xs(a,l,0)}return i}function Jlt(n,e,t){let i=0;const r=[];let s=0;if(t)for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.endIndex;if(i+50<u){const c=l.type,d=l.metadata;let h=-1,f=i;for(let g=i;g<u;g++)n.charCodeAt(g)===32&&(h=g),h!==-1&&g-f>=50&&(r[s++]=new xs(h+1,c,d),f=h+1,h=-1);f!==u&&(r[s++]=new xs(u,c,d))}else r[s++]=l;i=u}else for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.endIndex,c=u-i;if(c>50){const d=l.type,h=l.metadata,f=Math.ceil(c/50);for(let g=1;g<f;g++){const p=i+g*50;r[s++]=new xs(p,d,h)}r[s++]=new xs(u,d,h)}else r[s++]=l;i=u}return r}function Epe(n){return n<32?n!==9:n===127||n>=8234&&n<=8238||n>=8294&&n<=8297||n>=8206&&n<=8207||n===1564}function eut(n,e){const t=[];let i=new xs(0,"",0),r=0;for(const s of e){const o=s.endIndex;for(;r<o;r++){const a=n.charCodeAt(r);Epe(a)&&(r>i.endIndex&&(i=new xs(r,s.type,s.metadata),t.push(i)),i=new xs(r+1,"mtkcontrol",s.metadata),t.push(i))}r>i.endIndex&&(i=new xs(o,s.type,s.metadata),t.push(i))}return t}function tut(n,e,t,i){const r=n.continuesWithWrappedLine,s=n.fauxIndentLength,o=n.tabSize,a=n.startVisibleColumn,l=n.useMonospaceOptimizations,u=n.selectionsOnLine,c=n.renderWhitespace===1,d=n.renderWhitespace===3,h=n.renderSpaceWidth!==n.spaceWidth,f=[];let g=0,p=0,m=i[p].type,b=i[p].endIndex;const _=i.length;let C=!1,w=oa(e),S;w===-1?(C=!0,w=t,S=t):S=jh(e);let D=!1,E=0,I=u&&u[E],T=a%o;for(let A=s;A<t;A++){const O=e.charCodeAt(A);I&&A>=I.endOffset&&(E++,I=u&&u[E]);let F;if(A<w||A>S)F=!0;else if(O===9)F=!0;else if(O===32)if(c)if(D)F=!0;else{const U=A+1<t?e.charCodeAt(A+1):0;F=U===32||U===9}else F=!0;else F=!1;if(F&&u&&(F=!!I&&I.startOffset<=A&&I.endOffset>A),F&&d&&(F=C||A>S),D){if(!F||!l&&T>=o){if(h){const U=g>0?f[g-1].endIndex:s;for(let V=U+1;V<=A;V++)f[g++]=new xs(V,"mtkw",1)}else f[g++]=new xs(A,"mtkw",1);T=T%o}}else(A===b||F&&A>s)&&(f[g++]=new xs(A,m,0),T=T%o);for(O===9?T=o:Km(O)?T+=2:T++,D=F;A===b&&(p++,p<_);)m=i[p].type,b=i[p].endIndex}let M=!1;if(D)if(r&&c){const A=t>0?e.charCodeAt(t-1):0,O=t>1?e.charCodeAt(t-2):0;A===32&&O!==32&&O!==9||(M=!0)}else M=!0;if(M)if(h){const A=g>0?f[g-1].endIndex:s;for(let O=A+1;O<=t;O++)f[g++]=new xs(O,"mtkw",1)}else f[g++]=new xs(t,"mtkw",1);else f[g++]=new xs(t,m,0);return f}function nut(n,e,t,i){i.sort(Al.compare);const r=Glt.normalize(n,i),s=r.length;let o=0;const a=[];let l=0,u=0;for(let d=0,h=t.length;d<h;d++){const f=t[d],g=f.endIndex,p=f.type,m=f.metadata;for(;o<s&&r[o].startOffset<g;){const b=r[o];if(b.startOffset>u&&(u=b.startOffset,a[l++]=new xs(u,p,m)),b.endOffset+1<=g)u=b.endOffset+1,a[l++]=new xs(u,p+" "+b.className,m|b.metadata),o++;else{u=g,a[l++]=new xs(u,p+" "+b.className,m|b.metadata);break}}g>u&&(u=g,a[l++]=new xs(u,p,m))}const c=t[t.length-1].endIndex;if(o<s&&r[o].startOffset===c)for(;o<s&&r[o].startOffset===c;){const d=r[o];a[l++]=new xs(u,d.className,d.metadata),o++}return a}function iut(n,e){const t=n.fontIsMonospace,i=n.canUseHalfwidthRightwardsArrow,r=n.containsForeignElements,s=n.lineContent,o=n.len,a=n.isOverflowing,l=n.parts,u=n.fauxIndentLength,c=n.tabSize,d=n.startVisibleColumn,h=n.containsRTL,f=n.spaceWidth,g=n.renderSpaceCharCode,p=n.renderWhitespace,m=n.renderControlCharacters,b=new Ch(o+1,l.length);let _=!1,C=0,w=d,S=0,D=0,E=0,I=0;h?e.appendASCIIString('<span dir="ltr">'):e.appendASCIIString("<span>");for(let T=0,M=l.length;T<M;T++){I+=E;const A=l[T],O=A.endIndex,F=A.type,U=p!==0&&A.isWhitespace(),V=U&&!t&&(F==="mtkw"||!r),G=C===O&&A.isPseudoAfter();if(S=0,e.appendASCIIString('<span class="'),e.appendASCIIString(V?"mtkz":F),e.appendASCII(34),U){let j=0;{let X=C,ie=w;for(;X<O;X++){const Be=(s.charCodeAt(X)===9?c-ie%c:1)|0;j+=Be,X>=u&&(ie+=Be)}}for(V&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(f*j)),e.appendASCIIString('px"')),e.appendASCII(62);C<O;C++){b.setColumnInfo(C+1,T-D,S,I),D=0;const X=s.charCodeAt(C);let ie;if(X===9){ie=c-w%c|0,!i||ie>1?e.write1(8594):e.write1(65515);for(let Ce=2;Ce<=ie;Ce++)e.write1(160)}else ie=1,e.write1(g);S+=ie,C>=u&&(w+=ie)}E=j}else{let j=0;for(e.appendASCII(62);C<O;C++){b.setColumnInfo(C+1,T-D,S,I),D=0;const X=s.charCodeAt(C);let ie=1,Ce=1;switch(X){case 9:ie=c-w%c,Ce=ie;for(let Be=1;Be<=ie;Be++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:m?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:Km(X)&&Ce++,m&&X<32?e.write1(9216+X):m&&X===127?e.write1(9249):m&&Epe(X)?(e.appendASCIIString("[U+"),e.appendASCIIString(rut(X)),e.appendASCIIString("]"),ie=8):e.write1(X)}S+=ie,j+=ie,C>=u&&(w+=Ce)}E=j}G?D++:D=0,C>=o&&!_&&A.isPseudoAfter()&&(_=!0,b.setColumnInfo(C+1,T,S,I)),e.appendASCIIString("</span>")}return _||b.setColumnInfo(o+1,l.length-1,S,I),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new F7(b,h,r)}function rut(n){return n.toString(16).toUpperCase().padStart(4,"0")}class cne{constructor(e,t,i,r){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=r|0}}class sut{constructor(e,t){this.tabSize=e,this.data=t}}class yj{constructor(e,t,i,r,s,o,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=r,this.startVisibleColumn=s,this.tokens=o,this.inlineDecorations=a}}class jl{constructor(e,t,i,r,s,o,a,l,u,c){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=r,this.isBasicASCII=jl.isBasicASCII(i,o),this.containsRTL=jl.containsRTL(i,this.isBasicASCII,s),this.tokens=a,this.inlineDecorations=l,this.tabSize=u,this.startVisibleColumn=c}static isBasicASCII(e,t){return t?nj(e):!0}static containsRTL(e,t,i){return!t&&i?UO(e):!1}}class U2{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class out{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(e){return new U2(new Y(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class Dpe{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class Ipe{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}function aut(n){return Array.isArray(n)}function lut(n){return!aut(n)}function Tpe(n){return typeof n=="string"}function dne(n){return!Tpe(n)}function Xb(n){return!n}function ym(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function hne(n){return n.replace(/[&<>'"_]/g,"-")}function uut(n,e){console.log(`${n.languageId}: ${e}`)}function Fi(n,e){return new Error(`${n.languageId}: ${e}`)}function qp(n,e,t,i,r){const s=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return e.replace(s,function(a,l,u,c,d,h,f,g,p){return Xb(u)?Xb(c)?!Xb(d)&&d<i.length?ym(n,i[d]):!Xb(f)&&n&&typeof n[f]=="string"?n[f]:(o===null&&(o=r.split("."),o.unshift(r)),!Xb(h)&&h<o.length?ym(n,o[h]):""):ym(n,t):"$"})}function hT(n,e){let t=e;for(;t&&t.length>0;){const i=n.tokenizer[t];if(i)return i;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return null}function cut(n,e){let t=e;for(;t&&t.length>0;){if(n.stateNames[t])return!0;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return!1}const Npe=5;class Ck{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new UC(e,t);let i=UC.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let r=this._entries[i];return r||(r=new UC(e,t),this._entries[i]=r,r)}}Ck._INSTANCE=new Ck(Npe);class UC{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return UC._equals(this,e)}push(e){return Ck.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Ck.create(this.parent,e)}}class gC{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new gC(this.languageId,this.state)}}class Yp{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(t!==null)return new j2(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new j2(e,t);const i=UC.getStackElementId(e);let r=this._entries[i];return r||(r=new j2(e,null),this._entries[i]=r,r)}}Yp._INSTANCE=new Yp(Npe);class j2{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Yp.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof j2)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}}class dut{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new hk(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,r){const s=i.languageId,o=i.state,a=dr.get(s);if(!a)return this.enterLanguage(s),this.emit(r,""),o;const l=a.tokenize(e,t,o);if(r!==0)for(const u of l.tokens)this._tokens.push(new hk(u.offset+r,u.type,u.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new oj(this._tokens,e)}}class gA{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const r=e!==null?e.length:0,s=t.length,o=i!==null?i.length:0;if(r===0&&s===0&&o===0)return new Uint32Array(0);if(r===0&&s===0)return i;if(s===0&&o===0)return e;const a=new Uint32Array(r+s+o);e!==null&&a.set(e);for(let l=0;l<s;l++)a[r+l]=t[l];return i!==null&&a.set(i,r+s),a}nestedLanguageTokenize(e,t,i,r){const s=i.languageId,o=i.state,a=dr.get(s);if(!a)return this.enterLanguage(s),this.emit(r,""),o;const l=a.tokenizeEncoded(e,t,o);if(r!==0)for(let u=0,c=l.tokens.length;u<c;u+=2)l.tokens[u]+=r;return this._prependTokens=gA._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new jO(gA._merge(this._prependTokens,this._tokens,null),e)}}class sD{constructor(e,t,i,r){this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=r,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._tokenizationRegistryListener=dr.onDidChange(o=>{if(s)return;let a=!1;for(let l=0,u=o.changedLanguages.length;l<u;l++){const c=o.changedLanguages[l];if(this._embeddedLanguages[c]){a=!0;break}}a&&(s=!0,dr.fire([this._languageId]),s=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const e=[];for(let t in this._embeddedLanguages){const i=dr.get(t);if(i){if(i instanceof sD){const r=i.getLoadStatus();r.loaded===!1&&e.push(r.promise)}continue}dr.isResolved(t)||e.push(dr.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=Ck.create(null,this._lexer.start);return Yp.create(e,null)}tokenize(e,t,i){const r=new dut,s=this._tokenize(e,t,i,r);return r.finalize(s)}tokenizeEncoded(e,t,i){const r=new gA(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),s=this._tokenize(e,t,i,r);return r.finalize(s)}_tokenize(e,t,i,r){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,r):this._myTokenize(e,t,i,0,r)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=hT(this._lexer,t.stack.state),!i))throw Fi(this._lexer,"tokenizer state is not defined: "+t.stack.state);let r=-1,s=!1;for(const o of i){if(!dne(o.action)||o.action.nextEmbedded!=="@pop")continue;s=!0;let a=o.regex;const l=o.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){const c=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),c)}const u=e.search(a);u===-1||u!==0&&o.matchOnlyAtLineStart||(r===-1||u<r)&&(r=u)}if(!s)throw Fi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return r}_nestedTokenize(e,t,i,r,s){const o=this._findLeavingNestedLanguageOffset(e,i);if(o===-1){const u=s.nestedLanguageTokenize(e,t,i.embeddedLanguageData,r);return Yp.create(i.stack,new gC(i.embeddedLanguageData.languageId,u))}const a=e.substring(0,o);a.length>0&&s.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,r);const l=e.substring(o);return this._myTokenize(l,t,i,r+o,s)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,r,s){s.enterLanguage(this._languageId);const o=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let u=i.embeddedLanguageData,c=i.stack,d=0,h=null,f=!0;for(;f||d<l;){const g=d,p=c.depth,m=h?h.groups.length:0,b=c.state;let _=null,C=null,w=null,S=null,D=null;if(h){_=h.matches;const T=h.groups.shift();C=T.matched,w=T.action,S=h.rule,h.groups.length===0&&(h=null)}else{if(!f&&d>=l)break;f=!1;let T=this._lexer.tokenizer[b];if(!T&&(T=hT(this._lexer,b),!T))throw Fi(this._lexer,"tokenizer state is not defined: "+b);let M=a.substr(d);for(const A of T)if((d===0||!A.matchOnlyAtLineStart)&&(_=M.match(A.regex),_)){C=_[0],w=A.action;break}}if(_||(_=[""],C=""),w||(d<l&&(_=[a.charAt(d)],C=_[0]),w=this._lexer.defaultToken),C===null)break;for(d+=C.length;lut(w)&&dne(w)&&w.test;)w=w.test(C,_,b,d===l);let E=null;if(typeof w=="string"||Array.isArray(w))E=w;else if(w.group)E=w.group;else if(w.token!==null&&w.token!==void 0){if(w.tokenSubst?E=qp(this._lexer,w.token,C,_,b):E=w.token,w.nextEmbedded)if(w.nextEmbedded==="@pop"){if(!u)throw Fi(this._lexer,"cannot pop embedded language if not inside one");u=null}else{if(u)throw Fi(this._lexer,"cannot enter embedded language from within an embedded language");D=qp(this._lexer,w.nextEmbedded,C,_,b)}if(w.goBack&&(d=Math.max(0,d-w.goBack)),w.switchTo&&typeof w.switchTo=="string"){let T=qp(this._lexer,w.switchTo,C,_,b);if(T[0]==="@"&&(T=T.substr(1)),hT(this._lexer,T))c=c.switchTo(T);else throw Fi(this._lexer,"trying to switch to a state '"+T+"' that is undefined in rule: "+this._safeRuleName(S))}else{if(w.transform&&typeof w.transform=="function")throw Fi(this._lexer,"action.transform not supported");if(w.next)if(w.next==="@push"){if(c.depth>=this._lexer.maxStack)throw Fi(this._lexer,"maximum tokenizer stack size reached: ["+c.state+","+c.parent.state+",...]");c=c.push(b)}else if(w.next==="@pop"){if(c.depth<=1)throw Fi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(S));c=c.pop()}else if(w.next==="@popall")c=c.popall();else{let T=qp(this._lexer,w.next,C,_,b);if(T[0]==="@"&&(T=T.substr(1)),hT(this._lexer,T))c=c.push(T);else throw Fi(this._lexer,"trying to set a next state '"+T+"' that is undefined in rule: "+this._safeRuleName(S))}}w.log&&typeof w.log=="string"&&uut(this._lexer,this._lexer.languageId+": "+qp(this._lexer,w.log,C,_,b))}if(E===null)throw Fi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(S));const I=T=>{const M=this._languageService.getLanguageIdByLanguageName(T)||this._languageService.getLanguageIdByMimeType(T)||T,A=this._getNestedEmbeddedLanguageData(M);if(d<l){const O=e.substr(d);return this._nestedTokenize(O,t,Yp.create(c,A),r+d,s)}else return Yp.create(c,A)};if(Array.isArray(E)){if(h&&h.groups.length>0)throw Fi(this._lexer,"groups cannot be nested: "+this._safeRuleName(S));if(_.length!==E.length+1)throw Fi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(S));let T=0;for(let M=1;M<_.length;M++)T+=_[M].length;if(T!==C.length)throw Fi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(S));h={rule:S,matches:_,groups:[]};for(let M=0;M<E.length;M++)h.groups[M]={action:E[M],matched:_[M+1]};d-=C.length;continue}else{if(E==="@rematch"&&(d-=C.length,C="",_=null,E="",D!==null))return I(D);if(C.length===0){if(l===0||p!==c.depth||b!==c.state||(h?h.groups.length:0)!==m)continue;throw Fi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(S))}let T=null;if(Tpe(E)&&E.indexOf("@brackets")===0){const M=E.substr(9),A=hut(this._lexer,C);if(!A)throw Fi(this._lexer,"@brackets token returned but no bracket defined as: "+C);T=hne(A.token+M)}else{const M=E===""?"":E+this._lexer.tokenPostfix;T=hne(M)}g<o&&s.emit(g+r,T)}if(D!==null)return I(D)}return Yp.create(c,u)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new gC(e,Hy);e!==this._languageId&&(dr.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=dr.get(e);return t?new gC(e,t.getInitialState()):new gC(e,Hy)}}function hut(n,e){if(!e)return null;e=ym(n,e);const t=n.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}var fut=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},OF;const PF=(OF=window.trustedTypes)===null||OF===void 0?void 0:OF.createPolicy("standaloneColorizer",{createHTML:n=>n});class wj{static colorizeElement(e,t,i,r){r=r||{};const s=r.theme||"vs",o=r.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(o)||o;e.setTheme(s);const l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+s;const u=c=>{var d;const h=(d=PF==null?void 0:PF.createHTML(c))!==null&&d!==void 0?d:c;i.innerHTML=h};return this.colorize(t,l||"",a,r).then(u,c=>console.error(c))}static colorize(e,t,i,r){return fut(this,void 0,void 0,function*(){const s=e.languageIdCodec;let o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),rj(t)&&(t=t.substr(1));const a=ef(t);if(!e.isRegisteredLanguageId(i))return fne(a,o,s);const l=yield dr.getOrCreate(i);return l?gut(a,o,l,s):fne(a,o,s)})}static colorizeLine(e,t,i,r,s=4){const o=jl.isBasicASCII(e,t),a=jl.containsRTL(e,o,i);return t4(new I1(!1,!0,e,!1,o,a,0,r,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const r=e.getLineContent(t);e.forceTokenization(t);const o=e.getLineTokens(t).inflate();return this.colorizeLine(r,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function gut(n,e,t,i){return new Promise((r,s)=>{const o=()=>{const a=put(n,e,t,i);if(t instanceof sD){const l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(o,s);return}}r(a)};o()})}function fne(n,e,t){let i=[];const s=new Uint32Array(2);s[0]=0,s[1]=16793600;for(let o=0,a=n.length;o<a;o++){const l=n[o];s[0]=l.length;const u=new vs(s,l,t),c=jl.isBasicASCII(l,!0),d=jl.containsRTL(l,c,!0),h=t4(new I1(!1,!0,l,!1,c,d,0,u,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>")}return i.join("")}function put(n,e,t,i){let r=[],s=t.getInitialState();for(let o=0,a=n.length;o<a;o++){const l=n[o],u=t.tokenizeEncoded(l,!0,s);vs.convertToEndOffset(u.tokens,l.length);const c=new vs(u.tokens,l,i),d=jl.isBasicASCII(l,!0),h=jl.containsRTL(l,d,!0),f=t4(new I1(!1,!0,l,!1,d,h,0,c.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(f.html),r.push("<br/>"),s=u.endState}return r.join("")}const n4={clipboard:{writeText:Ld||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Ld||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>Ld||cj?0:navigator.keyboard||$c?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)};function B7(n,e){if(n===0)return null;const t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new pA([FF(t,e),FF(i,e)]):new pA([FF(t,e)])}function FF(n,e){const t=!!(n&2048),i=!!(n&256),r=e===2?i:t,s=!!(n&1024),o=!!(n&512),a=e===2?t:i,l=n&255;return new R_(r,s,o,a,l)}class R_{constructor(e,t,i,r,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyCode=s}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new pA([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class pA{constructor(e){if(e.length===0)throw kd("parts");this.parts=e}}class mut{constructor(e,t,i,r,s,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyLabel=s,this.keyAriaLabel=o}}class vut{}function _ut(n){if(n.charCode){let t=String.fromCharCode(n.charCode).toUpperCase();return B0.fromString(t)}const e=n.keyCode;if(e===3)return 7;if(Ul){if(e===59)return 80;if(e===107)return 81;if(e===109)return 83;if(kn&&e===224)return 57}else if(Cm){if(e===91)return 57;if(kn&&e===93)return 57;if(!kn&&e===92)return 57}return Mge[e]||0}const but=kn?256:2048,Cut=512,yut=1024,wut=kn?2048:256;class Yi{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=_ut(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=but),this.altKey&&(t|=Cut),this.shiftKey&&(t|=yut),this.metaKey&&(t|=wut),t|=e,t}_computeRuntimeKeybinding(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new R_(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let $7=!1,Sb=null;function Sut(n){if(!n.parent||n.parent===n)return null;try{let e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return $7=!0,null}catch{return $7=!0,null}return n.parent}class V7{static getSameOriginWindowChain(){if(!Sb){Sb=[];let e=window,t;do t=Sut(e),t?Sb.push({window:e,iframeElement:e.frameElement||null}):Sb.push({window:e,iframeElement:null}),e=t;while(e)}return Sb.slice(0)}static hasDifferentOriginAncestor(){return Sb||this.getSameOriginWindowChain(),$7}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,r=0,s=this.getSameOriginWindowChain();for(const o of s){if(i+=o.window.scrollY,r+=o.window.scrollX,o.window===t||!o.iframeElement)break;let a=o.iframeElement.getBoundingClientRect();i+=a.top,r+=a.left}return{top:i,left:r}}}class Lu{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=V7.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class zy{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let r=e,s=e;if(typeof r.wheelDeltaY!="undefined")this.deltaY=r.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS!="undefined"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(e.type==="wheel"){const o=e;o.deltaMode===o.DOM_DELTA_LINE?Ul&&!kn?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof r.wheelDeltaX!="undefined")$c&&Gs?this.deltaX=-(r.wheelDeltaX/120):this.deltaX=r.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS!="undefined"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const o=e;o.deltaMode===o.DOM_DELTA_LINE?Ul&&!kn?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}var on;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.userData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebook="vscode-notebook",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractive="vscode-interactive",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls"})(on||(on={}));const Lut="tkn";class kut{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&(i=`[${i}]`);const r=this._ports[t],s=this._connectionTokens[t];let o=`path=${encodeURIComponent(e.path)}`;return typeof s=="string"&&(o+=`&${Lut}=${encodeURIComponent(s)}`),zt.from({scheme:Lv?this._preferredWebSchema:on.vscodeRemoteResource,authority:`${i}:${r}`,path:"/vscode-remote-resource",query:o})}}const xpe=new kut;class yk{asBrowserUri(e,t){const i=this.toUri(e,t);return i.scheme===on.vscodeRemote?xpe.rewrite(i):i.scheme===on.file&&(Ld||typeof Ar.importScripts=="function"&&Ar.origin===`${on.vscodeFileResource}://${yk.FALLBACK_AUTHORITY}`)?i.with({scheme:on.vscodeFileResource,authority:i.authority||yk.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return zt.isUri(e)?e:zt.parse(t.toUrl(e))}}yk.FALLBACK_AUTHORITY="vscode-app";const Mpe=new yk;function _s(n){for(;n.firstChild;)n.firstChild.remove()}function Sj(n){var e;return(e=n==null?void 0:n.isConnected)!==null&&e!==void 0?e:!1}class Ape{constructor(e,t,i,r){this._node=e,this._type=t,this._handler=i,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function nt(n,e,t,i){return new Ape(n,e,t,i)}function Rpe(n){return function(e){return n(new Lu(e))}}function Eut(n){return function(e){return n(new Yi(e))}}let Ks=function(e,t,i,r){let s=i;return t==="click"||t==="mousedown"?s=Rpe(i):(t==="keydown"||t==="keypress"||t==="keyup")&&(s=Eut(i)),nt(e,t,s,r)},Dut=function(e,t,i){let r=Rpe(t);return Lj(e,r,i)};function Lj(n,e,t){return nt(n,Ad&&n4.pointerEvents?Bt.POINTER_DOWN:Bt.MOUSE_DOWN,e,t)}function Ope(n,e,t){return nt(n,Ad&&n4.pointerEvents?Bt.POINTER_UP:Bt.MOUSE_UP,e,t)}function kj(n,e){return nt(n,"mouseout",t=>{let i=t.relatedTarget;for(;i&&i!==n;)i=i.parentNode;i!==n&&e(t)})}function Iut(n,e){return nt(n,"pointerout",t=>{let i=t.relatedTarget;for(;i&&i!==n;)i=i.parentNode;i!==n&&e(t)})}function ed(n,e,t){let i=null;const r=l=>a.fire(l),s=()=>{i||(i=new Ape(n,e,r,t))},o=()=>{i&&(i.dispose(),i=null)},a=new Le({onFirstListenerAdd:s,onLastListenerRemove:o});return a}let BF=null;function Tut(n){if(!BF){const e=t=>setTimeout(()=>t(new Date().getTime()),0);BF=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return BF.call(self,n)}let Ppe,Od;class $F{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Qt(e)}}static sort(e,t){return t.priority-e.priority}}(function(){let n=[],e=null,t=!1,i=!1,r=()=>{for(t=!1,e=n,n=[],i=!0;e.length>0;)e.sort($F.sort),e.shift().execute();i=!1};Od=(s,o=0)=>{let a=new $F(s,o);return n.push(a),t||(t=!0,Tut(r)),a},Ppe=(s,o)=>{if(i){let a=new $F(s,o);return e.push(a),a}else return Od(s,o)}})();const Nut=8,xut=function(n,e){return e};class Mut extends ze{constructor(e,t,i,r=xut,s=Nut){super();let o=null,a=0,l=this._register(new Ra),u=()=>{a=new Date().getTime(),i(o),o=null};this._register(nt(e,t,c=>{o=r(o,c);let d=new Date().getTime()-a;d>=s?(l.cancel(),u()):l.setIfNotSet(u,s-d)}))}}function Ej(n,e,t,i,r){return new Mut(n,e,t,i,r)}function Dj(n){return document.defaultView.getComputedStyle(n,null)}function i4(n){if(n!==document.body)return new Ei(n.clientWidth,n.clientHeight);if(Ad&&window.visualViewport)return new Ei(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new Ei(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Ei(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Ei(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class yr{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let r=Dj(e),s="0";return r&&(r.getPropertyValue?s=r.getPropertyValue(t):s=r.getAttribute(i)),yr.convertToPixels(e,s)}static getBorderLeftWidth(e){return yr.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return yr.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return yr.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return yr.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return yr.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return yr.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return yr.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return yr.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return yr.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return yr.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return yr.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return yr.getDimension(e,"margin-bottom","marginBottom")}}class Ei{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new Ei(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof Ei?e:new Ei(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}}Ei.None=new Ei(0,0);function Fpe(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==document.body&&n!==document.documentElement;){t-=n.scrollTop;const r=$pe(n)?null:Dj(n);r&&(i-=r.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=yr.getBorderLeftWidth(n),t+=yr.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function Aut(n,e,t){typeof e=="number"&&(n.style.width=`${e}px`),typeof t=="number"&&(n.style.height=`${t}px`)}function io(n){let e=n.getBoundingClientRect();return{left:e.left+kg.scrollX,top:e.top+kg.scrollY,width:e.width,height:e.height}}const kg=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function cc(n){let e=yr.getMarginLeft(n)+yr.getMarginRight(n);return n.offsetWidth+e}function VF(n){let e=yr.getBorderLeftWidth(n)+yr.getBorderRightWidth(n),t=yr.getPaddingLeft(n)+yr.getPaddingRight(n);return n.offsetWidth-e-t}function Rut(n){let e=yr.getBorderTopWidth(n)+yr.getBorderBottomWidth(n),t=yr.getPaddingTop(n)+yr.getPaddingBottom(n);return n.offsetHeight-e-t}function W7(n){let e=yr.getMarginTop(n)+yr.getMarginBottom(n);return n.offsetHeight+e}function Eg(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function Bpe(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function gne(n,e,t){return!!Bpe(n,e,t)}function $pe(n){return n&&!!n.host&&!!n.mode}function r4(n){return!!qm(n)}function qm(n){for(;n.parentNode;){if(n===document.body)return null;n=n.parentNode}return $pe(n)?n:null}function jC(){let n=document.activeElement;for(;n==null?void 0:n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function $u(n=document.getElementsByTagName("head")[0]){let e=document.createElement("style");return e.type="text/css",e.media="screen",n.appendChild(e),e}let WF=null;function Vpe(){return WF||(WF=$u()),WF}function Out(n){var e,t;return((e=n==null?void 0:n.sheet)===null||e===void 0?void 0:e.rules)?n.sheet.rules:((t=n==null?void 0:n.sheet)===null||t===void 0?void 0:t.cssRules)?n.sheet.cssRules:[]}function H7(n,e,t=Vpe()){!t||!e||t.sheet.insertRule(n+"{"+e+"}",0)}function pne(n,e=Vpe()){if(!e)return;let t=Out(e),i=[];for(let r=0;r<t.length;r++)t[r].selectorText.indexOf(n)!==-1&&i.push(r);for(let r=i.length-1;r>=0;r--)e.sheet.deleteRule(i[r])}function Wpe(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}const Bt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Cm?"webkitAnimationStart":"animationstart",ANIMATION_END:Cm?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Cm?"webkitAnimationIteration":"animationiteration"},ui={stop:function(n,e){n.preventDefault?n.preventDefault():n.returnValue=!1,e&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0)}};function Put(n){let e=[];for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function Fut(n,e){for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}class mA extends ze{constructor(e){super();this._onDidFocus=this._register(new Le),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new Le),this.onDidBlur=this._onDidBlur.event;let t=mA.hasFocusWithin(e),i=!1;const r=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},s=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{mA.hasFocusWithin(e)!==t&&(t?s():r())},this._register(nt(e,Bt.FOCUS,r,!0)),this._register(nt(e,Bt.BLUR,s,!0)),this._register(nt(e,Bt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(nt(e,Bt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(e){const t=qm(e),i=t?t.activeElement:document.activeElement;return Eg(i,e)}}function Uy(n){return new mA(n)}function qe(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function But(n,e){return n.insertBefore(e,n.firstChild),e}function Ym(n,...e){n.innerText="",qe(n,...e)}const $ut=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var wk;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})(wk||(wk={}));function Hpe(n,e,t,...i){let r=$ut.exec(e);if(!r)throw new Error("Bad use of emmet");t=Object.assign({},t||{});let s=r[1]||"div",o;return n!==wk.HTML?o=document.createElementNS(n,s):o=document.createElement(s),r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),Object.keys(t).forEach(a=>{const l=t[a];typeof l!="undefined"&&(/^on\w+$/.test(a)?o[a]=l:a==="selected"?l&&o.setAttribute(a,"true"):o.setAttribute(a,l))}),o.append(...i),o}function et(n,e,...t){return Hpe(wk.HTML,n,e,...t)}et.SVG=function(n,e,...t){return Hpe(wk.SVG,n,e,...t)};function Il(...n){for(let e of n)e.style.display="",e.removeAttribute("aria-hidden")}function ka(...n){for(let e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function Vut(n){return Array.prototype.slice.call(document.getElementsByTagName(n),0)}function mne(n){const e=window.devicePixelRatio*n;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function zpe(n){window.open(n,"_blank","noopener")}function Wut(n){const e=()=>{n(),t=Od(e)};let t=Od(e);return _n(()=>t.dispose())}xpe.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function O_(n){return n?`url('${Mpe.asBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function vne(n){return`'${n.replace(/'/g,"%27")}'`}class $0 extends Le{constructor(){super();this._subscriptions=new it,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(nt(window,"keydown",e=>{if(e.defaultPrevented)return;const t=new Yi(e);if(!(t.keyCode===6&&e.repeat)){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(t.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(nt(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(nt(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(nt(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(nt(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(nt(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return $0.instance||($0.instance=new $0),$0.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function Hut(n,e){window.matchMedia(n).addEventListener("change",e)}const _ne=2e4;let v0,_x,z7,bx,U7;function zut(n){v0=document.createElement("div"),v0.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),v0.appendChild(i),i};_x=e(),z7=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("role","complementary"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),v0.appendChild(i),i};bx=t(),U7=t(),n.appendChild(v0)}function ro(n){!v0||(_x.textContent!==n?(_s(z7),_A(_x,n)):(_s(_x),_A(z7,n)))}function vA(n){!v0||(kn?ro(n):bx.textContent!==n?(_s(U7),_A(bx,n)):(_s(bx),_A(U7,n)))}function _A(n,e){_s(n),e.length>_ne&&(e=e.substr(0,_ne)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}const Ij=Pn("markerDecorationsService"),Oa=Pn("textModelService");var bA=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class il extends ze{constructor(e,t="",i="",r=!0,s){super();this._onDidChange=this._register(new Le),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=r,this._actionCallback=s}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return bA(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(e))})}}class jy extends ze{constructor(){super(...arguments);this._onBeforeRun=this._register(new Le),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new Le),this.onDidRun=this._onDidRun.event}run(e,t){return bA(this,void 0,void 0,function*(){if(!e.enabled)return;this._onBeforeRun.fire({action:e});let i;try{yield this.runAction(e,t)}catch(r){i=r}this._onDidRun.fire({action:e,error:i})})}runAction(e,t){return bA(this,void 0,void 0,function*(){yield e.run(t)})}}class xu extends il{constructor(e){super(xu.ID,e,e?"separator text":"separator");this.checked=!1,this.enabled=!1}}xu.ID="vs.actions.separator";class s4{constructor(e,t,i,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=r,this._actions=i}get actions(){return this._actions}dispose(){}run(){return bA(this,void 0,void 0,function*(){})}}class o4 extends il{constructor(){super(o4.ID,L("submenu.empty","(empty)"),void 0,!1)}}o4.ID="vs.actions.empty";const Pr=Pn("commandService"),Vn=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new Le,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.description){const o=[];for(let l of n.description.args)o.push(l.constraint);const a=n.handler;n.handler=function(l,...u){return ost(u,o),a(l,...u)}}const{id:t}=n;let i=this._commands.get(t);i||(i=new Ml,this._commands.set(t,i));let r=i.unshift(n),s=_n(()=>{r();const o=this._commands.get(t);(o==null?void 0:o.isEmpty())&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),s}registerCommandAlias(n,e){return Vn.registerCommand(n,(t,...i)=>t.get(Pr).executeCommand(e,...i))}getCommand(n){const e=this._commands.get(n);if(!(!e||e.isEmpty()))return Fn.first(e)}getCommands(){const n=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&n.set(e,t)}return n}};Vn.registerCommand("noop",()=>{});const Ro=new Map;Ro.set("false",!1);Ro.set("true",!0);Ro.set("isMac",kn);Ro.set("isLinux",Ao);Ro.set("isWindows",Gs);Ro.set("isWeb",Lv);Ro.set("isMacNative",kn&&!Lv);Ro.set("isEdge",qrt);Ro.set("isFirefox",Krt);Ro.set("isChrome",mge);Ro.set("isSafari",Grt);const Uut=Object.prototype.hasOwnProperty;class _t{static has(e){return Xm.create(e)}static equals(e,t){return Ky.create(e,t)}static regex(e,t){return CA.create(e,t)}static not(e){return P_.create(e)}static and(...e){return nm.create(e,null)}static or(...e){return vg.create(e,null,!0)}static deserialize(e,t=!1){if(!!e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return vg.create(i.map(r=>this._deserializeAndExpression(r,t)),null,!0)}static _deserializeAndExpression(e,t){let i=e.split("&&");return nm.create(i.map(r=>this._deserializeOne(r,t)),null)}static _deserializeOne(e,t){if(e=e.trim(),e.indexOf("!=")>=0){let i=e.split("!=");return a4.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return Ky.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return CA.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let i=e.split(" in ");return Tj.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const i=e.split(">=");return c4.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const i=e.split(">");return u4.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const i=e.split("<=");return h4.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const i=e.split("<");return d4.create(i[0].trim(),i[1].trim())}return/^\!\s*/.test(e)?P_.create(e.substr(1).trim()):Xm.create(e)}static _deserializeValue(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(Hge(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),r=e.lastIndexOf("/");if(i===r||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let s=e.slice(i+1,r),o=e[r+1]==="i"?"i":"";try{return new RegExp(s,o)}catch(a){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}}function jut(n,e){const t=n?n.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function KC(n,e){return n.cmp(e)}class Kl{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return Vu.INSTANCE}}Kl.INSTANCE=new Kl;class Vu{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Kl.INSTANCE}}Vu.INSTANCE=new Vu;class Xm{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){const i=Ro.get(e);return typeof i=="boolean"?i?Vu.INSTANCE:Kl.INSTANCE:new Xm(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:jpe(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Ro.get(this.key);return typeof e=="boolean"?e?Vu.INSTANCE:Kl.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=P_.create(this.key,this)),this.negated}}class Ky{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if(typeof t=="boolean")return t?Xm.create(e,i):P_.create(e,i);const r=Ro.get(e);return typeof r=="boolean"?t===(r?"true":"false")?Vu.INSTANCE:Kl.INSTANCE:new Ky(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:T1(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Ro.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?Vu.INSTANCE:Kl.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a4.create(this.key,this.value,this)),this.negated}}class Tj{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new Tj(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:T1(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:typeof i=="string"&&typeof t=="object"&&t!==null?Uut.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=Nj.create(this)),this.negated}}class Nj{constructor(e){this._actual=e,this.type=11}static create(e){return new Nj(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class a4{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if(typeof t=="boolean")return t?P_.create(e,i):Xm.create(e,i);const r=Ro.get(e);return typeof r=="boolean"?t===(r?"true":"false")?Kl.INSTANCE:Vu.INSTANCE:new a4(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:T1(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Ro.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?Kl.INSTANCE:Vu.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Ky.create(this.key,this.value,this)),this.negated}}class P_{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){const i=Ro.get(e);return typeof i=="boolean"?i?Kl.INSTANCE:Vu.INSTANCE:new P_(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:jpe(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Ro.get(this.key);return typeof e=="boolean"?e?Kl.INSTANCE:Vu.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Xm.create(this.key,this)),this.negated}}function l4(n,e){if(typeof n=="string"){const t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):Kl.INSTANCE}class u4{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return l4(t,r=>new u4(e,r,i))}cmp(e){return e.type!==this.type?this.type-e.type:T1(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h4.create(this.key,this.value,this)),this.negated}}class c4{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return l4(t,r=>new c4(e,r,i))}cmp(e){return e.type!==this.type?this.type-e.type:T1(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d4.create(this.key,this.value,this)),this.negated}}class d4{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return l4(t,r=>new d4(e,r,i))}cmp(e){return e.type!==this.type?this.type-e.type:T1(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c4.create(this.key,this.value,this)),this.negated}}class h4{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return l4(t,r=>new h4(e,r,i))}cmp(e){return e.type!==this.type?this.type-e.type:T1(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u4.create(this.key,this.value,this)),this.negated}}class CA{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new CA(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=xj.create(this)),this.negated}}class xj{constructor(e){this._actual=e,this.type=8}static create(e){return new xj(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function Upe(n){let e=null;for(let t=0,i=n.length;t<i;t++){const r=n[t].substituteConstants();if(n[t]!==r&&e===null){e=[];for(let s=0;s<t;s++)e[s]=n[s]}e!==null&&(e[t]=r)}return e===null?n:e}class nm{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return nm._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=KC(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=Upe(this.expr);return e===this.expr?this:nm.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const i=[];let r=!1;for(const s of e)if(!!s){if(s.type===1){r=!0;continue}if(s.type===0)return Kl.INSTANCE;if(s.type===6){i.push(...s.expr);continue}i.push(s)}if(i.length===0&&r)return Vu.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(KC);for(let s=1;s<i.length;s++)i[s-1].equals(i[s])&&(i.splice(s,1),s--);if(i.length===1)return i[0];for(;i.length>1;){const s=i[i.length-1];if(s.type!==9)break;i.pop();const o=i.pop(),a=i.length===0,l=vg.create(s.expr.map(u=>nm.create([u,o],null)),null,a);l&&(i.push(l),i.sort(KC))}return i.length===1?i[0]:new nm(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(let t of this.expr)e.push(t.negate());this.negated=vg.create(e,this,!0)}return this.negated}}class vg{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return vg._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=KC(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=Upe(this.expr);return e===this.expr?this:vg.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let r=[],s=!1;if(e){for(let o=0,a=e.length;o<a;o++){const l=e[o];if(!!l){if(l.type===0){s=!0;continue}if(l.type===1)return Vu.INSTANCE;if(l.type===9){r=r.concat(l.expr);continue}r.push(l)}}if(r.length===0&&s)return Kl.INSTANCE;r.sort(KC)}if(r.length!==0){if(r.length===1)return r[0];for(let o=1;o<r.length;o++)r[o-1].equals(r[o])&&(r.splice(o,1),o--);if(r.length===1)return r[0];if(i){for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++)Kpe(r[o],r[a])&&(r.splice(a,1),a--);if(r.length===1)return r[0]}return new vg(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),r=[];for(const o of yA(t))for(const a of yA(i))r.push(nm.create([o,a],null));const s=e.length===0;e.unshift(vg.create(r,null,s))}this.negated=e[0]}return this.negated}}class St extends Xm{constructor(e,t,i){super(e,null);this._defaultValue=t,typeof i=="object"?St._info.push(Object.assign(Object.assign({},i),{key:e})):i!==!0&&St._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}static all(){return St._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return Ky.create(this.key,e)}}St._info=[];const Zt=Pn("contextKeyService"),Kut="setContext";function jpe(n,e){return n<e?-1:n>e?1:0}function T1(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function Kpe(n,e){if(e.type===6&&n.type!==9&&n.type!==6){for(const r of e.expr)if(n.equals(r))return!0}const t=n.negate(),i=yA(t).concat(yA(e));i.sort(KC);for(let r=0;r<i.length;r++){const o=i[r].negate();for(let a=r+1;a<i.length;a++){const l=i[a];if(o.equals(l))return!0}}return!1}function yA(n){return n.type===9?n.expr:[n]}class Gut{constructor(){this.data=new Map}add(e,t){vx(Ru(e)),vx(Da(t)),vx(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const jr=new Gut;var Tc;(function(n){n.DARK="dark",n.LIGHT="light",n.HIGH_CONTRAST="hc"})(Tc||(Tc={}));const Ki=Pn("themeService");var j7;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}n.isThemeColor=e})(j7||(j7={}));function wr(n){return{id:n}}var Ti;(function(n){function e(u){return u&&typeof u=="object"&&typeof u.id=="string"&&(typeof u.color=="undefined"||j7.isThemeColor(u.color))}n.isThemeIcon=e;const t=new RegExp(`^\\$\\((${ia.iconNameExpression}(?:${ia.iconModifierExpression})?)\\)$`);function i(u){const c=t.exec(u);if(!c)return;let[,d]=c;return{id:d}}n.fromString=i;function r(u){return{id:u}}n.fromId=r;function s(u,c){let d=u.id;const h=d.lastIndexOf("~");return h!==-1&&(d=d.substring(0,h)),c&&(d=`${d}~${c}`),{id:d}}n.modify=s;function o(u){const c=u.id.lastIndexOf("~");if(c!==-1)return u.id.substring(c+1)}n.getModifier=o;function a(u,c){var d,h;return u.id===c.id&&((d=u.color)===null||d===void 0?void 0:d.id)===((h=c.color)===null||h===void 0?void 0:h.id)}n.isEqual=a;function l(u,c){return{id:u.id,color:c?wr(c):void 0}}n.asThemeIcon=l,n.asClassNameArray=ia.asClassNameArray,n.asClassName=ia.asClassName,n.asCSSSelector=ia.asCSSSelector})(Ti||(Ti={}));function wA(n){switch(n){case Tc.DARK:return"vs-dark";case Tc.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const Gpe={ThemingContribution:"base.contributions.theming"};class qut{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Le}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),_n(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}let qpe=new qut;jr.add(Gpe.ThemingContribution,qpe);function Hi(n){return qpe.onColorThemeChange(n)}class Yut extends ze{constructor(e){super();this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var Xut=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},bne=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function pC(n){return n.command!==void 0}class _e{constructor(e){this.id=_e._idPool++,this._debugName=e}}_e._idPool=0;_e.CommandPalette=new _e("CommandPalette");_e.DebugBreakpointsContext=new _e("DebugBreakpointsContext");_e.DebugCallStackContext=new _e("DebugCallStackContext");_e.DebugConsoleContext=new _e("DebugConsoleContext");_e.DebugVariablesContext=new _e("DebugVariablesContext");_e.DebugWatchContext=new _e("DebugWatchContext");_e.DebugToolBar=new _e("DebugToolBar");_e.EditorContext=new _e("EditorContext");_e.SimpleEditorContext=new _e("SimpleEditorContext");_e.EditorContextCopy=new _e("EditorContextCopy");_e.EditorContextPeek=new _e("EditorContextPeek");_e.EditorTitle=new _e("EditorTitle");_e.EditorTitleRun=new _e("EditorTitleRun");_e.EditorTitleContext=new _e("EditorTitleContext");_e.EmptyEditorGroup=new _e("EmptyEditorGroup");_e.EmptyEditorGroupContext=new _e("EmptyEditorGroupContext");_e.ExplorerContext=new _e("ExplorerContext");_e.ExtensionContext=new _e("ExtensionContext");_e.GlobalActivity=new _e("GlobalActivity");_e.LayoutControlMenu=new _e("LayoutControlMenu");_e.MenubarMainMenu=new _e("MenubarMainMenu");_e.MenubarAppearanceMenu=new _e("MenubarAppearanceMenu");_e.MenubarDebugMenu=new _e("MenubarDebugMenu");_e.MenubarEditMenu=new _e("MenubarEditMenu");_e.MenubarCopy=new _e("MenubarCopy");_e.MenubarFileMenu=new _e("MenubarFileMenu");_e.MenubarGoMenu=new _e("MenubarGoMenu");_e.MenubarHelpMenu=new _e("MenubarHelpMenu");_e.MenubarLayoutMenu=new _e("MenubarLayoutMenu");_e.MenubarNewBreakpointMenu=new _e("MenubarNewBreakpointMenu");_e.MenubarPanelAlignmentMenu=new _e("MenubarPanelAlignmentMenu");_e.MenubarPreferencesMenu=new _e("MenubarPreferencesMenu");_e.MenubarRecentMenu=new _e("MenubarRecentMenu");_e.MenubarSelectionMenu=new _e("MenubarSelectionMenu");_e.MenubarSwitchEditorMenu=new _e("MenubarSwitchEditorMenu");_e.MenubarSwitchGroupMenu=new _e("MenubarSwitchGroupMenu");_e.MenubarTerminalMenu=new _e("MenubarTerminalMenu");_e.MenubarViewMenu=new _e("MenubarViewMenu");_e.MenubarHomeMenu=new _e("MenubarHomeMenu");_e.OpenEditorsContext=new _e("OpenEditorsContext");_e.ProblemsPanelContext=new _e("ProblemsPanelContext");_e.SCMChangeContext=new _e("SCMChangeContext");_e.SCMResourceContext=new _e("SCMResourceContext");_e.SCMResourceFolderContext=new _e("SCMResourceFolderContext");_e.SCMResourceGroupContext=new _e("SCMResourceGroupContext");_e.SCMSourceControl=new _e("SCMSourceControl");_e.SCMTitle=new _e("SCMTitle");_e.SearchContext=new _e("SearchContext");_e.StatusBarWindowIndicatorMenu=new _e("StatusBarWindowIndicatorMenu");_e.StatusBarRemoteIndicatorMenu=new _e("StatusBarRemoteIndicatorMenu");_e.TestItem=new _e("TestItem");_e.TestItemGutter=new _e("TestItemGutter");_e.TestPeekElement=new _e("TestPeekElement");_e.TestPeekTitle=new _e("TestPeekTitle");_e.TouchBarContext=new _e("TouchBarContext");_e.TitleBarContext=new _e("TitleBarContext");_e.TunnelContext=new _e("TunnelContext");_e.TunnelPrivacy=new _e("TunnelPrivacy");_e.TunnelProtocol=new _e("TunnelProtocol");_e.TunnelPortInline=new _e("TunnelInline");_e.TunnelTitle=new _e("TunnelTitle");_e.TunnelLocalAddressInline=new _e("TunnelLocalAddressInline");_e.TunnelOriginInline=new _e("TunnelOriginInline");_e.ViewItemContext=new _e("ViewItemContext");_e.ViewContainerTitle=new _e("ViewContainerTitle");_e.ViewContainerTitleContext=new _e("ViewContainerTitleContext");_e.ViewTitle=new _e("ViewTitle");_e.ViewTitleContext=new _e("ViewTitleContext");_e.CommentThreadTitle=new _e("CommentThreadTitle");_e.CommentThreadActions=new _e("CommentThreadActions");_e.CommentTitle=new _e("CommentTitle");_e.CommentActions=new _e("CommentActions");_e.InteractiveToolbar=new _e("InteractiveToolbar");_e.InteractiveCellTitle=new _e("InteractiveCellTitle");_e.InteractiveCellExecute=new _e("InteractiveCellExecute");_e.InteractiveInputExecute=new _e("InteractiveInputExecute");_e.NotebookToolbar=new _e("NotebookToolbar");_e.NotebookCellTitle=new _e("NotebookCellTitle");_e.NotebookCellInsert=new _e("NotebookCellInsert");_e.NotebookCellBetween=new _e("NotebookCellBetween");_e.NotebookCellListTop=new _e("NotebookCellTop");_e.NotebookCellExecute=new _e("NotebookCellExecute");_e.NotebookCellExecutePrimary=new _e("NotebookCellExecutePrimary");_e.NotebookDiffCellInputTitle=new _e("NotebookDiffCellInputTitle");_e.NotebookDiffCellMetadataTitle=new _e("NotebookDiffCellMetadataTitle");_e.NotebookDiffCellOutputsTitle=new _e("NotebookDiffCellOutputsTitle");_e.NotebookOutputToolbar=new _e("NotebookOutputToolbar");_e.NotebookEditorLayoutConfigure=new _e("NotebookEditorLayoutConfigure");_e.BulkEditTitle=new _e("BulkEditTitle");_e.BulkEditContext=new _e("BulkEditContext");_e.TimelineItemContext=new _e("TimelineItemContext");_e.TimelineTitle=new _e("TimelineTitle");_e.TimelineTitleContext=new _e("TimelineTitleContext");_e.AccountsContext=new _e("AccountsContext");_e.PanelTitle=new _e("PanelTitle");_e.TerminalInstanceContext=new _e("TerminalInstanceContext");_e.TerminalEditorInstanceContext=new _e("TerminalEditorInstanceContext");_e.TerminalNewDropdownContext=new _e("TerminalNewDropdownContext");_e.TerminalTabContext=new _e("TerminalTabContext");_e.TerminalTabEmptyAreaContext=new _e("TerminalTabEmptyAreaContext");_e.TerminalInlineTabContext=new _e("TerminalInlineTabContext");_e.WebviewContext=new _e("WebviewContext");_e.InlineCompletionsActions=new _e("InlineCompletionsActions");_e.NewFile=new _e("NewFile");const N1=Pn("menuService"),Vl=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Le,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:n=>n===_e.CommandPalette}}addCommand(n){return this.addCommands(Fn.single(n))}addCommands(n){for(const e of n)this._commands.set(e.id,e);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),_n(()=>{let e=!1;for(const t of n)e=this._commands.delete(t.id)||e;e&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(n){return this._commands.get(n)}getCommands(){const n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){return this.appendMenuItems(Fn.single({id:n,item:e}))}appendMenuItems(n){const e=new Set,t=new Ml;for(const{id:i,item:r}of n){let s=this._menuItems.get(i);s||(s=new Ml,this._menuItems.set(i,s)),t.push(s.push(r)),e.add(i)}return this._onDidChangeMenu.fire(e),_n(()=>{if(t.size>0){for(let i of t)i();this._onDidChangeMenu.fire(e),t.clear()}})}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===_e.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){const e=new Set;for(const t of n)pC(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};class Mj extends s4{constructor(e,t,i,r){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,[],"submenu");this.item=e,this._menuService=t,this._contextKeyService=i,this._options=r}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(const[,r]of i)r.length>0&&(e.push(...r),e.push(new xu));return e.length&&e.pop(),e}}let Zm=class Ype{constructor(e,t,i,r,s){var o,a;if(this._commandService=s,this.id=e.id,this.label=(i==null?void 0:i.renderShortTitle)&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value,this.tooltip=(a=typeof e.tooltip=="string"?e.tooltip:(o=e.tooltip)===null||o===void 0?void 0:o.value)!==null&&a!==void 0?a:"",this.enabled=!e.precondition||r.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){const l=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=r.contextMatchesRules(l.condition),this.checked&&l.tooltip&&(this.tooltip=typeof l.tooltip=="string"?l.tooltip:l.tooltip.value),l.title&&(this.label=typeof l.title=="string"?l.title:l.title.value)}this.item=e,this.alt=t?new Ype(t,void 0,i,r,s):void 0,this._options=i,Ti.isThemeIcon(e.icon)&&(this.class=ia.asClassName(e.icon))}dispose(){}run(...e){var t,i;let r=[];return((t=this._options)===null||t===void 0?void 0:t.arg)&&(r=[...r,this._options.arg]),((i=this._options)===null||i===void 0?void 0:i.shouldForwardArgs)&&(r=[...r,...e]),this._commandService.executeCommand(this.id,...r)}};Zm=Xut([bne(3,Zt),bne(4,Pr)],Zm);class SA{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(mu===1){if(e&&e.win)return e.win}else if(mu===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=SA.bindToCurrentPlatform(e);if(t&&t.primary){const i=B7(t.primary,mu);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,r=t.secondary.length;i<r;i++){const s=t.secondary[i],o=B7(s,mu);o&&this._registerDefaultKeybinding(o,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),Vn.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&SA._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,r,s,o){mu===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:o,weight1:r,weight2:s,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Qut)),this._cachedMergedKeybindings.slice(0)}}const ha=new SA,Zut={EditorModes:"platform.keybindingsRegistry"};jr.add(Zut.EditorModes,ha);function Qut(n,e){return n.weight1!==e.weight1?n.weight1-e.weight1:n.command<e.command?-1:n.command>e.command?1:n.weight2-e.weight2}const mf=Pn("telemetryService");class f4{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=_t.and(i,this.precondition):i=this.precondition);const r={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};ha.registerKeybindingRule(r)}}Vn.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){Vl.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class Vw extends f4{constructor(){super(...arguments);this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort((r,s)=>s.priority-r.priority),{dispose:()=>{for(let r=0;r<this._implementations.length;r++)if(this._implementations[r].implementation===i){this._implementations.splice(r,1);return}}}}runCommand(e,t){const i=e.get(Uc);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const r of this._implementations){const s=r.implementation(e,t);if(s)return i.trace(`Command '${this.id}' was handled by '${r.name}'.`),typeof s=="boolean"?void 0:s}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class Xpe extends f4{constructor(e,t){super(t);this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class go extends f4{static bindToContribution(e){return class extends go{constructor(i){super(i);this._callback=i.handler}runEditorCommand(i,r,s){const o=e(r);o&&this._callback(o,s)}}}runCommand(e,t){const i=e.get(ci),r=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(!!r)return r.invokeWithinContext(s=>{if(!!s.get(Zt).contextMatchesRules(Ja(this.precondition)))return this.runEditorCommand(s,r,t)})}}class Et extends go{constructor(e){super(Et.convertOptions(e));this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(r){return r.menuId||(r.menuId=_e.EditorContext),r.title||(r.title=e.label),r.when=_t.and(e.precondition,r.when),r}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(mf).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class Zpe extends Et{constructor(){super(...arguments);this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,r)=>r[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(const r of this._implementations){const s=r[1](e,t,i);if(s)return typeof s=="boolean"?void 0:s}}}function vf(n,e){Vn.registerCommand(n,function(t,...i){const[r,s]=i;Ii(zt.isUri(r)),Ii(Ae.isIPosition(s));const o=t.get(sr).getModel(r);if(o){const a=Ae.lift(s);return e(o,a,...i.slice(2))}return t.get(Oa).createModelReference(r).then(a=>new Promise((l,u)=>{try{const c=e(a.object.textEditorModel,Ae.lift(s),i.slice(2));l(c)}catch(c){u(c)}}).finally(()=>{a.dispose()}))})}function Jut(n,e){Vn.registerCommand(n,function(t,...i){const[r]=i;Ii(zt.isUri(r));const s=t.get(sr).getModel(r);return s?e(s,...i.slice(1)):t.get(Oa).createModelReference(r).then(o=>new Promise((a,l)=>{try{const u=e(o.object.textEditorModel,i.slice(1));a(u)}catch(u){l(u)}}).finally(()=>{o.dispose()}))})}function lt(n){return _u.INSTANCE.registerEditorCommand(n),n}function ut(n){const e=new n;return _u.INSTANCE.registerEditorAction(e),e}function Qpe(n){return _u.INSTANCE.registerEditorAction(n),n}function Jpe(n){_u.INSTANCE.registerEditorAction(n)}function oi(n,e){_u.INSTANCE.registerEditorContribution(n,e)}var l_;(function(n){function e(o){return _u.INSTANCE.getEditorCommand(o)}n.getEditorCommand=e;function t(){return _u.INSTANCE.getEditorActions()}n.getEditorActions=t;function i(){return _u.INSTANCE.getEditorContributions()}n.getEditorContributions=i;function r(o){return _u.INSTANCE.getEditorContributions().filter(a=>o.indexOf(a.id)>=0)}n.getSomeEditorContributions=r;function s(){return _u.INSTANCE.getDiffEditorContributions()}n.getDiffEditorContributions=s})(l_||(l_={}));const ect={EditorCommonContributions:"editor.contributions"};class _u{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}_u.INSTANCE=new _u;jr.add(ect.EditorCommonContributions,_u.INSTANCE);function oD(n){return n.register(),n}const eme=oD(new Vw({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:_e.MenubarEditMenu,group:"1_do",title:L({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:_e.CommandPalette,group:"",title:L("undo","Undo"),order:1}]}));oD(new Xpe(eme,{id:"default:undo",precondition:void 0}));const tme=oD(new Vw({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:_e.MenubarEditMenu,group:"1_do",title:L({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:_e.CommandPalette,group:"",title:L("redo","Redo"),order:1}]}));oD(new Xpe(tme,{id:"default:redo",precondition:void 0}));const tct=oD(new Vw({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:_e.MenubarSelectionMenu,group:"1_basic",title:L({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:_e.CommandPalette,group:"",title:L("selectAll","Select All"),order:1}]}));var nct=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ict=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let Sk=class{constructor(e,t){}dispose(){}};Sk.ID="editor.contrib.markerDecorations";Sk=nct([ict(1,Ij)],Sk);oi(Sk.ID,Sk);class nme extends ze{constructor(e,t){super();this._onDidChange=this._register(new Le),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,r=0;t?(i=t.width,r=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,r=this._referenceDomElement.clientHeight),i=Math.max(5,i),r=Math.max(5,r),(this._width!==i||this._height!==r)&&(this._width=i,this._height=r,e&&this._onDidChange.fire())}}const rct=Object.prototype.hasOwnProperty;function sct(n,e){for(let t in n)if(rct.call(n,t)&&e({key:t,value:n[t]},function(){delete n[t]})===!1)return}class oct{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);!i||(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);!i||i.forEach(t)}}function act(n){const e=n.wordWrap;e===!0?n.wordWrap="on":e===!1&&(n.wordWrap="off");const t=n.lineNumbers;t===!0?n.lineNumbers="on":t===!1&&(n.lineNumbers="off"),n.autoClosingBrackets===!1&&(n.autoClosingBrackets="never",n.autoClosingQuotes="never",n.autoSurround="never"),n.cursorBlinking==="visible"&&(n.cursorBlinking="solid");const s=n.renderWhitespace;s===!0?n.renderWhitespace="boundary":s===!1&&(n.renderWhitespace="none");const o=n.renderLineHighlight;o===!0?n.renderLineHighlight="line":o===!1&&(n.renderLineHighlight="none");const a=n.acceptSuggestionOnEnter;a===!0?n.acceptSuggestionOnEnter="on":a===!1&&(n.acceptSuggestionOnEnter="off");const l=n.tabCompletion;l===!1?n.tabCompletion="off":l===!0&&(n.tabCompletion="onlySnippets");const u=n.suggest;if(u&&typeof u.filteredTypes=="object"&&u.filteredTypes){const m={};m.method="showMethods",m.function="showFunctions",m.constructor="showConstructors",m.deprecated="showDeprecated",m.field="showFields",m.variable="showVariables",m.class="showClasses",m.struct="showStructs",m.interface="showInterfaces",m.module="showModules",m.property="showProperties",m.event="showEvents",m.operator="showOperators",m.unit="showUnits",m.value="showValues",m.constant="showConstants",m.enum="showEnums",m.enumMember="showEnumMembers",m.keyword="showKeywords",m.text="showWords",m.color="showColors",m.file="showFiles",m.reference="showReferences",m.folder="showFolders",m.typeParameter="showTypeParameters",m.snippet="showSnippets",sct(m,b=>{const _=u.filteredTypes[b.key];_===!1&&(u[b.value]=_)})}const c=n.hover;c===!0?n.hover={enabled:!0}:c===!1&&(n.hover={enabled:!1});const d=n.parameterHints;d===!0?n.parameterHints={enabled:!0}:d===!1&&(n.parameterHints={enabled:!1});const h=n.autoIndent;h===!0?n.autoIndent="full":h===!1&&(n.autoIndent="advanced");const f=n.matchBrackets;f===!0?n.matchBrackets="always":f===!1&&(n.matchBrackets="never");const{renderIndentGuides:g,highlightActiveIndentGuide:p}=n;n.guides||(n.guides={}),g!==void 0&&(n.guides.indentation=!!g),p!==void 0&&(n.guides.highlightActiveIndentation=!!p)}class lct{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new Le,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}}const LA=new lct,ul=Pn("accessibilityService"),aD=new St("accessibilityModeEnabled",!1);var uct=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},cct=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let K7=class extends ze{constructor(e,t,i,r){super();this._accessibilityService=r,this._onDidChange=this._register(new Le),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new Le),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new Tge,this.isSimpleWidget=e,this._containerObserver=this._register(new nme(i,t.dimension)),this._rawOptions=Cne(t),this._validatedOptions=Xp.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(qg.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(LA.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(D7.onDidChange(()=>this._recomputeOptions())),this._register(Wy.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=Xp.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=a_.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),r={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:LA.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Xp.computeOptions(this._validatedOptions,r)}_readEnvConfiguration(){return{extraEditorClassName:hct(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Cm||Ul,pixelRatio:Wy.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return D7.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=Cne(e);!Xp.applyUpdate(this._rawOptions,t)||(this._validatedOptions=Xp.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=dct(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};K7=uct([cct(3,ul)],K7);function dct(n){let e=0;for(;n;)n=Math.floor(n/10),e++;return e||1}function hct(){let n="";return!$c&&!uj&&(n+="no-user-select "),$c&&(n+="no-minimap-shadow "),kn&&(n+="mac "),n}class fct{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class gct{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class Xp{static validateOptions(e){const t=new fct;for(const i of uC){const r=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(r))}return t}static computeOptions(e,t){const i=new gct;for(const r of uC)i._write(r.id,r.compute(t,i,e._read(r.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?$l(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Xp._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let r=!1;for(const s of uC){const o=!Xp._deepEquals(e._read(s.id),t._read(s.id));i[s.id]=o,o&&(r=!0)}return r?new Ige(i):null}static applyUpdate(e,t){let i=!1;for(const r of uC)if(t.hasOwnProperty(r.name)){const s=r.applyUpdate(e[r.name],t[r.name]);e[r.name]=s.newValue,i=i||s.didChange}return i}}function Cne(n){const e=tg(n);return act(e),e}function ds(n,e,t){let i=null,r=null;if(typeof t.value=="function"?(i="value",r=t.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",r=t.get),!r)throw new Error("not supported");const s=`$memoize$${e}`;t[i]=function(...o){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,o)}),this[s]}}var pct=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$i;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})($i||($i={}));class hi extends ze{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(nt(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(nt(document,"touchend",e=>this.onTouchEnd(e))),this._register(nt(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return hi.isTouchDevice()?(hi.INSTANCE||(hi.INSTANCE=new hi),hi.INSTANCE.targets.push(e),{dispose:()=>{hi.INSTANCE.targets=hi.INSTANCE.targets.filter(t=>t!==e)}}):ze.None}static ignoreTarget(e){return hi.isTouchDevice()?(hi.INSTANCE||(hi.INSTANCE=new hi),hi.INSTANCE.ignoreTargets.push(e),{dispose:()=>{hi.INSTANCE.ignoreTargets=hi.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):ze.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,r=e.targetTouches.length;i<r;i++){let s=e.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:t,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[t],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};let o=this.newGestureEvent($i.Start,s.target);o.pageX=s.pageX,o.pageY=s.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let r=0,s=e.changedTouches.length;r<s;r++){let o=e.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}let a=this.activeTouches[o.identifier],l=Date.now()-a.initialTimeStamp;if(l<hi.HOLD_DELAY&&Math.abs(a.initialPageX-ou(a.rollingPageX))<30&&Math.abs(a.initialPageY-ou(a.rollingPageY))<30){let u=this.newGestureEvent($i.Tap,a.initialTarget);u.pageX=ou(a.rollingPageX),u.pageY=ou(a.rollingPageY),this.dispatchEvent(u)}else if(l>=hi.HOLD_DELAY&&Math.abs(a.initialPageX-ou(a.rollingPageX))<30&&Math.abs(a.initialPageY-ou(a.rollingPageY))<30){let u=this.newGestureEvent($i.Contextmenu,a.initialTarget);u.pageX=ou(a.rollingPageX),u.pageY=ou(a.rollingPageY),this.dispatchEvent(u)}else if(i===1){let u=ou(a.rollingPageX),c=ou(a.rollingPageY),d=ou(a.rollingTimestamps)-a.rollingTimestamps[0],h=u-a.rollingPageX[0],f=c-a.rollingPageY[0];const g=this.targets.filter(p=>a.initialTarget instanceof Node&&p.contains(a.initialTarget));this.inertia(g,t,Math.abs(h)/d,h>0?1:-1,u,Math.abs(f)/d,f>0?1:-1,c)}this.dispatchEvent(this.newGestureEvent($i.End,a.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===$i.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>hi.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===$i.Change||e.type===$i.Contextmenu)&&(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,r,s,o,a,l){this.handle=Od(()=>{let u=Date.now(),c=u-t,d=0,h=0,f=!0;i+=hi.SCROLL_FRICTION*c,o+=hi.SCROLL_FRICTION*c,i>0&&(f=!1,d=r*i*c),o>0&&(f=!1,h=a*o*c);let g=this.newGestureEvent($i.Change);g.translationX=d,g.translationY=h,e.forEach(p=>p.dispatchEvent(g)),f||this.inertia(e,u,i,r,s+d,o,a,l+h)})}onTouchMove(e){let t=Date.now();for(let i=0,r=e.changedTouches.length;i<r;i++){let s=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}let o=this.activeTouches[s.identifier],a=this.newGestureEvent($i.Change,o.initialTarget);a.translationX=s.pageX-ou(o.rollingPageX),a.translationY=s.pageY-ou(o.rollingPageY),a.pageX=s.pageX,a.pageY=s.pageY,this.dispatchEvent(a),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(s.pageX),o.rollingPageY.push(s.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}hi.SCROLL_FRICTION=-.005;hi.HOLD_DELAY=700;hi.CLEAR_TAP_COUNT_TIME=400;pct([ds],hi,"isTouchDevice",null);function Ww(n,e){let t=new Lu(e);return t.preventDefault(),{leftButton:t.leftButton,buttons:t.buttons,posx:t.posx,posy:t.posy}}class x1{constructor(){this._hooks=new it,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,r,s){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=r,this._onStopCallback=s;const o=V7.getSameOriginWindowChain(),a=Ad?"pointermove":"mousemove",l="mouseup",u=o.map(d=>d.window.document),c=qm(e);c&&u.unshift(c);for(const d of u)this._hooks.add(Ej(d,a,h=>{if(h.buttons!==t){this.stopMonitoring(!0);return}this._mouseMoveCallback(h)},(h,f)=>this._mouseMoveEventMerger(h,f))),this._hooks.add(nt(d,l,h=>this.stopMonitoring(!0)));if(V7.hasDifferentOriginAncestor()){let d=o[o.length-1];this._hooks.add(nt(d.window.document,"mouseout",h=>{new Lu(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(nt(d.window.document,"mouseover",h=>{new Lu(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(nt(d.window.document.body,"mouseleave",h=>{this.stopMonitoring(!0)}))}}}function wm(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}class Dn{constructor(e,t,i,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=wm(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class hd{constructor(e,t,i,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=wm(Math.max(Math.min(1,t),0),3),this.l=wm(Math.max(Math.min(1,i),0),3),this.a=wm(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,s=e.a,o=Math.max(t,i,r),a=Math.min(t,i,r);let l=0,u=0;const c=(a+o)/2,d=o-a;if(d>0){switch(u=Math.min(c<=.5?d/(2*c):d/(2-2*c),1),o){case t:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-t)/d+2;break;case r:l=(t-i)/d+4;break}l*=60,l=Math.round(l)}return new hd(l,u,c,s)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:r,a:s}=e;let o,a,l;if(i===0)o=a=l=r;else{const u=r<.5?r*(1+i):r+i-r*i,c=2*r-u;o=hd._hue2rgb(c,u,t+1/3),a=hd._hue2rgb(c,u,t),l=hd._hue2rgb(c,u,t-1/3)}return new Dn(Math.round(o*255),Math.round(a*255),Math.round(l*255),s)}}class Bh{constructor(e,t,i,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=wm(Math.max(Math.min(1,t),0),3),this.v=wm(Math.max(Math.min(1,i),0),3),this.a=wm(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=s-o,l=s===0?0:a/s;let u;return a===0?u=0:s===t?u=((i-r)/a%6+6)%6:s===i?u=(r-t)/a+2:u=(t-i)/a+4,new Bh(Math.round(u*60),l,s,e.a)}static toRGBA(e){const{h:t,s:i,v:r,a:s}=e,o=r*i,a=o*(1-Math.abs(t/60%2-1)),l=r-o;let[u,c,d]=[0,0,0];return t<60?(u=o,c=a):t<120?(u=a,c=o):t<180?(c=o,d=a):t<240?(c=a,d=o):t<300?(u=a,d=o):t<=360&&(u=o,d=a),u=Math.round((u+l)*255),c=Math.round((c+l)*255),d=Math.round((d+l)*255),new Dn(u,c,d,s)}}class We{constructor(e){if(e)if(e instanceof Dn)this.rgba=e;else if(e instanceof hd)this._hsla=e,this.rgba=hd.toRGBA(e);else if(e instanceof Bh)this._hsva=e,this.rgba=Bh.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(e){return We.Format.CSS.parseHex(e)||We.red}get hsla(){return this._hsla?this._hsla:hd.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Bh.fromRGBA(this.rgba)}equals(e){return!!e&&Dn.equals(this.rgba,e.rgba)&&hd.equals(this.hsla,e.hsla)&&Bh.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=We._relativeLuminanceForComponent(this.rgba.r),t=We._relativeLuminanceForComponent(this.rgba.g),i=We._relativeLuminanceForComponent(this.rgba.b),r=.2126*e+.7152*t+.0722*i;return wm(r,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new We(new hd(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new We(new hd(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:r,a:s}=this.rgba;return new We(new Dn(t,i,r,s*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new We(new Dn(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=We.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return i=i*(s-r)/s,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return i=i*(r-s)/r,e.darken(i)}}We.white=new We(new Dn(255,255,255,1));We.black=new We(new Dn(0,0,0,1));We.red=new We(new Dn(255,0,0,1));We.blue=new We(new Dn(0,0,255,1));We.green=new We(new Dn(0,255,0,1));We.cyan=new We(new Dn(0,255,255,1));We.lightgrey=new We(new Dn(211,211,211,1));We.transparent=new We(new Dn(0,0,0,0));(function(n){(function(e){(function(t){function i(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:n.Format.CSS.formatRGBA(f)}t.formatRGB=i;function r(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}t.formatRGBA=r;function s(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(f)}t.formatHSL=s;function o(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}t.formatHSLA=o;function a(f){const g=f.toString(16);return g.length!==2?"0"+g:g}function l(f){return`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}`}t.formatHex=l;function u(f,g=!1){return g&&f.rgba.a===1?n.Format.CSS.formatHex(f):`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}${a(Math.round(f.rgba.a*255))}`}t.formatHexA=u;function c(f){return f.isOpaque()?n.Format.CSS.formatHex(f):n.Format.CSS.formatRGBA(f)}t.format=c;function d(f){const g=f.length;if(g===0||f.charCodeAt(0)!==35)return null;if(g===7){const p=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),m=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),b=16*h(f.charCodeAt(5))+h(f.charCodeAt(6));return new n(new Dn(p,m,b,1))}if(g===9){const p=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),m=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),b=16*h(f.charCodeAt(5))+h(f.charCodeAt(6)),_=16*h(f.charCodeAt(7))+h(f.charCodeAt(8));return new n(new Dn(p,m,b,_/255))}if(g===4){const p=h(f.charCodeAt(1)),m=h(f.charCodeAt(2)),b=h(f.charCodeAt(3));return new n(new Dn(16*p+p,16*m+m,16*b+b))}if(g===5){const p=h(f.charCodeAt(1)),m=h(f.charCodeAt(2)),b=h(f.charCodeAt(3)),_=h(f.charCodeAt(4));return new n(new Dn(16*p+p,16*m+m,16*b+b,(16*_+_)/255))}return null}t.parseHex=d;function h(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(We||(We={}));const g4={JSONContribution:"base.contributions.json"};function mct(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}class vct{constructor(){this._onDidChangeSchema=new Le,this.schemasById={}}registerSchema(e,t){this.schemasById[mct(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const _ct=new vct;jr.add(g4.JSONContribution,_ct);function ime(n){return`--vscode-${n.replace(".","-")}`}const rme={ColorContribution:"base.contributions.colors"};class bct{constructor(){this._onDidChangeSchema=new Le,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,r=!1,s){let o={id:e,description:i,defaults:t,needsTransparency:r,deprecationMessage:s};this.colorsById[e]=o;let a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return s&&(a.deprecationMessage=s),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){const r=i.defaults[t.type];return Gf(r,t)}}getColorSchema(){return this.colorSchema}toString(){let e=(t,i)=>{let r=t.indexOf(".")===-1?0:1,s=i.indexOf(".")===-1?0:1;return r!==s?r-s:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const p4=new bct;jr.add(rme.ColorContribution,p4);function ce(n,e,t,i,r){return p4.registerColor(n,e,t,i,r)}const Lt=ce("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},L("foreground","Overall foreground color. This color is only used if not overridden by a component.")),Cct=ce("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},L("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));ce("descriptionForeground",{light:"#717171",dark:Kt(Lt,.7),hc:Kt(Lt,.7)},L("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const HF=ce("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},L("iconForeground","The default color for icons in the workbench.")),Yh=ce("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},L("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),rr=ce("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},L("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Go=ce("contrastActiveBorder",{light:null,dark:null,hc:Yh},L("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));ce("selection.background",{light:null,dark:null,hc:null},L("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));ce("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:We.black},L("textSeparatorForeground","Color for text separators."));const m4=ce("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},L("textLinkForeground","Foreground color for links in text.")),v4=ce("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},L("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));ce("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},L("textPreformatForeground","Foreground color for preformatted text segments."));ce("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},L("textBlockQuoteBackground","Background color for block quotes in text."));ce("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:We.white},L("textBlockQuoteBorder","Border color for block quotes in text."));const sme=ce("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:We.black},L("textCodeBlockBackground","Background color for code blocks in text.")),Qm=ce("widget.shadow",{dark:Kt(We.black,.36),light:Kt(We.black,.16),hc:null},L("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Aj=ce("input.background",{dark:"#3C3C3C",light:We.white,hc:We.black},L("inputBoxBackground","Input box background.")),Rj=ce("input.foreground",{dark:Lt,light:Lt,hc:Lt},L("inputBoxForeground","Input box foreground.")),Oj=ce("input.border",{dark:null,light:null,hc:rr},L("inputBoxBorder","Input box border.")),G7=ce("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:rr},L("inputBoxActiveOptionBorder","Border color of activated options in input fields."));ce("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},L("inputOption.hoverBackground","Background color of activated options in input fields."));const q7=ce("inputOption.activeBackground",{dark:Kt(Yh,.4),light:Kt(Yh,.2),hc:We.transparent},L("inputOption.activeBackground","Background hover color of options in input fields.")),Y7=ce("inputOption.activeForeground",{dark:We.white,light:We.black,hc:null},L("inputOption.activeForeground","Foreground color of activated options in input fields."));ce("input.placeholderForeground",{light:Kt(Lt,.5),dark:Kt(Lt,.5),hc:Kt(Lt,.7)},L("inputPlaceholderForeground","Input box foreground color for placeholder text."));const ome=ce("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:We.black},L("inputValidationInfoBackground","Input validation background color for information severity.")),ame=ce("inputValidation.infoForeground",{dark:null,light:null,hc:null},L("inputValidationInfoForeground","Input validation foreground color for information severity.")),lme=ce("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:rr},L("inputValidationInfoBorder","Input validation border color for information severity.")),ume=ce("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:We.black},L("inputValidationWarningBackground","Input validation background color for warning severity.")),cme=ce("inputValidation.warningForeground",{dark:null,light:null,hc:null},L("inputValidationWarningForeground","Input validation foreground color for warning severity.")),dme=ce("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:rr},L("inputValidationWarningBorder","Input validation border color for warning severity.")),hme=ce("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:We.black},L("inputValidationErrorBackground","Input validation background color for error severity.")),fme=ce("inputValidation.errorForeground",{dark:null,light:null,hc:null},L("inputValidationErrorForeground","Input validation foreground color for error severity.")),gme=ce("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:rr},L("inputValidationErrorBorder","Input validation border color for error severity.")),u_=ce("dropdown.background",{dark:"#3C3C3C",light:We.white,hc:We.black},L("dropdownBackground","Dropdown background."));ce("dropdown.listBackground",{dark:null,light:null,hc:We.black},L("dropdownListBackground","Dropdown list background."));const K2=ce("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:We.white},L("dropdownForeground","Dropdown foreground.")),zF=ce("dropdown.border",{dark:u_,light:"#CECECE",hc:rr},L("dropdownBorder","Dropdown border."));ce("checkbox.background",{dark:u_,light:u_,hc:u_},L("checkbox.background","Background color of checkbox widget."));ce("checkbox.foreground",{dark:K2,light:K2,hc:K2},L("checkbox.foreground","Foreground color of checkbox widget."));ce("checkbox.border",{dark:zF,light:zF,hc:zF},L("checkbox.border","Border color of checkbox widget."));const yct=ce("button.foreground",{dark:We.white,light:We.white,hc:We.white},L("buttonForeground","Button foreground color.")),X7=ce("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},L("buttonBackground","Button background color.")),wct=ce("button.hoverBackground",{dark:Jm(X7,.2),light:zw(X7,.2),hc:null},L("buttonHoverBackground","Button background color when hovering."));ce("button.border",{dark:rr,light:rr,hc:rr},L("buttonBorder","Button border color."));ce("button.secondaryForeground",{dark:We.white,light:We.white,hc:We.white},L("buttonSecondaryForeground","Secondary button foreground color."));const yne=ce("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},L("buttonSecondaryBackground","Secondary button background color."));ce("button.secondaryHoverBackground",{dark:Jm(yne,.2),light:zw(yne,.2),hc:null},L("buttonSecondaryHoverBackground","Secondary button background color when hovering."));const G2=ce("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:We.black},L("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),q2=ce("badge.foreground",{dark:We.white,light:"#333",hc:We.white},L("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Hw=ce("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},L("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),GC=ce("scrollbarSlider.background",{dark:We.fromHex("#797979").transparent(.4),light:We.fromHex("#646464").transparent(.4),hc:Kt(rr,.6)},L("scrollbarSliderBackground","Scrollbar slider background color.")),qC=ce("scrollbarSlider.hoverBackground",{dark:We.fromHex("#646464").transparent(.7),light:We.fromHex("#646464").transparent(.7),hc:Kt(rr,.8)},L("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),YC=ce("scrollbarSlider.activeBackground",{dark:We.fromHex("#BFBFBF").transparent(.4),light:We.fromHex("#000000").transparent(.6),hc:rr},L("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Sct=ce("progressBar.background",{dark:We.fromHex("#0E70C0"),light:We.fromHex("#0E70C0"),hc:rr},L("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Lct=ce("editorError.background",{dark:null,light:null,hc:null},L("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Sm=ce("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},L("editorError.foreground","Foreground color of error squigglies in the editor.")),pme=ce("editorError.border",{dark:null,light:null,hc:We.fromHex("#E47777").transparent(.8)},L("errorBorder","Border color of error boxes in the editor.")),kct=ce("editorWarning.background",{dark:null,light:null,hc:null},L("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Nc=ce("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},L("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),_4=ce("editorWarning.border",{dark:null,light:null,hc:We.fromHex("#FFCC00").transparent(.8)},L("warningBorder","Border color of warning boxes in the editor.")),Ect=ce("editorInfo.background",{dark:null,light:null,hc:null},L("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Wl=ce("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},L("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Pj=ce("editorInfo.border",{dark:null,light:null,hc:We.fromHex("#3794FF").transparent(.8)},L("infoBorder","Border color of info boxes in the editor.")),Dct=ce("editorHint.foreground",{dark:We.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},L("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Ict=ce("editorHint.border",{dark:null,light:null,hc:We.fromHex("#eeeeee").transparent(.8)},L("hintBorder","Border color of hint boxes in the editor."));ce("sash.hoverBorder",{dark:Yh,light:Yh,hc:Yh},L("sashActiveBorder","Border color of active sashes."));const Ta=ce("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:We.black},L("editorBackground","Editor background color.")),Lm=ce("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:We.white},L("editorForeground","Editor default foreground color.")),aa=ce("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},L("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Dg=ce("editorWidget.foreground",{dark:Lt,light:Lt,hc:Lt},L("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),c_=ce("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:rr},L("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Tct=ce("editorWidget.resizeBorder",{light:null,dark:null,hc:null},L("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),wne=ce("quickInput.background",{dark:aa,light:aa,hc:aa},L("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Nct=ce("quickInput.foreground",{dark:Dg,light:Dg,hc:Dg},L("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),xct=ce("quickInputTitle.background",{dark:new We(new Dn(255,255,255,.105)),light:new We(new Dn(0,0,0,.06)),hc:"#000000"},L("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Mct=ce("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:We.white},L("pickerGroupForeground","Quick picker color for grouping labels.")),Act=ce("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:We.white},L("pickerGroupBorder","Quick picker color for grouping borders.")),Rct=ce("keybindingLabel.background",{dark:new We(new Dn(128,128,128,.17)),light:new We(new Dn(221,221,221,.4)),hc:We.transparent},L("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Oct=ce("keybindingLabel.foreground",{dark:We.fromHex("#CCCCCC"),light:We.fromHex("#555555"),hc:We.white},L("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Pct=ce("keybindingLabel.border",{dark:new We(new Dn(51,51,51,.6)),light:new We(new Dn(204,204,204,.4)),hc:new We(new Dn(111,195,223))},L("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Fct=ce("keybindingLabel.bottomBorder",{dark:new We(new Dn(68,68,68,.6)),light:new We(new Dn(187,187,187,.4)),hc:new We(new Dn(111,195,223))},L("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),km=ce("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},L("editorSelectionBackground","Color of the editor selection.")),Bct=ce("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},L("editorSelectionForeground","Color of the selected text for high contrast.")),Fj=ce("editor.inactiveSelectionBackground",{light:Kt(km,.5),dark:Kt(km,.5),hc:Kt(km,.5)},L("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Bj=ce("editor.selectionHighlightBackground",{light:Ine(km,Ta,.3,.6),dark:Ine(km,Ta,.3,.6),hc:null},L("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),$ct=ce("editor.selectionHighlightBorder",{light:null,dark:null,hc:Go},L("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Vct=ce("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},L("editorFindMatch","Color of the current search match.")),Em=ce("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},L("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Wct=ce("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},L("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Hct=ce("editor.findMatchBorder",{light:null,dark:null,hc:Go},L("editorFindMatchBorder","Border color of the current search match.")),XC=ce("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Go},L("findMatchHighlightBorder","Border color of the other search matches.")),zct=ce("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Kt(Go,.4)},L("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);ce("searchEditor.findMatchBackground",{light:Kt(Em,.66),dark:Kt(Em,.66),hc:Em},L("searchEditor.queryMatch","Color of the Search Editor query matches."));ce("searchEditor.findMatchBorder",{light:Kt(XC,.66),dark:Kt(XC,.66),hc:XC},L("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));const Uct=ce("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},L("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),F_=ce("editorHoverWidget.background",{light:aa,dark:aa,hc:aa},L("hoverBackground","Background color of the editor hover.")),$j=ce("editorHoverWidget.foreground",{light:Dg,dark:Dg,hc:Dg},L("hoverForeground","Foreground color of the editor hover.")),Vj=ce("editorHoverWidget.border",{light:c_,dark:c_,hc:c_},L("hoverBorder","Border color of the editor hover.")),jct=ce("editorHoverWidget.statusBarBackground",{dark:Jm(F_,.2),light:zw(F_,.05),hc:aa},L("statusBarBackground","Background color of the editor hover status bar.")),Wj=ce("editorLink.activeForeground",{dark:"#4E94CE",light:We.blue,hc:We.cyan},L("activeLinkForeground","Color of active links.")),d_=ce("editorInlayHint.foreground",{dark:Kt(q2,.8),light:Kt(q2,.8),hc:q2},L("editorInlayHintForeground","Foreground color of inline hints")),h_=ce("editorInlayHint.background",{dark:Kt(G2,.6),light:Kt(G2,.3),hc:G2},L("editorInlayHintBackground","Background color of inline hints")),Kct=ce("editorInlayHint.typeForeground",{dark:d_,light:d_,hc:d_},L("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Gct=ce("editorInlayHint.typeBackground",{dark:h_,light:h_,hc:h_},L("editorInlayHintBackgroundTypes","Background color of inline hints for types")),qct=ce("editorInlayHint.parameterForeground",{dark:d_,light:d_,hc:d_},L("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Yct=ce("editorInlayHint.parameterBackground",{dark:h_,light:h_,hc:h_},L("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Xct=ce("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},L("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Zct=ce("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},L("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Z7=new We(new Dn(155,185,85,.2)),Q7=new We(new Dn(255,0,0,.2)),mme=ce("diffEditor.insertedTextBackground",{dark:Z7,light:Z7,hc:null},L("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),vme=ce("diffEditor.removedTextBackground",{dark:Q7,light:Q7,hc:null},L("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Qct=ce("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},L("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Jct=ce("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},L("diffEditorRemovedOutline","Outline color for text that got removed.")),edt=ce("diffEditor.border",{dark:null,light:null,hc:rr},L("diffEditorBorder","Border color between the two text editors.")),tdt=ce("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},L("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ndt=ce("list.focusBackground",{dark:null,light:null,hc:null},L("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),idt=ce("list.focusForeground",{dark:null,light:null,hc:null},L("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),rdt=ce("list.focusOutline",{dark:Yh,light:Yh,hc:Go},L("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Dm=ce("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},L("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Im=ce("list.activeSelectionForeground",{dark:We.white,light:We.white,hc:null},L("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Cx=ce("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},L("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),sdt=ce("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},L("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),odt=ce("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},L("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),adt=ce("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},L("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ldt=ce("list.inactiveFocusBackground",{dark:null,light:null,hc:null},L("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),udt=ce("list.inactiveFocusOutline",{dark:null,light:null,hc:null},L("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),cdt=ce("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},L("listHoverBackground","List/Tree background when hovering over items using the mouse.")),ddt=ce("list.hoverForeground",{dark:null,light:null,hc:null},L("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),hdt=ce("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},L("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Ig=ce("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:Yh},L("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),UF=ce("list.focusHighlightForeground",{dark:Ig,light:Fdt(Dm,Ig,"#9DDDFF"),hc:Ig},L("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));ce("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},L("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));ce("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},L("listErrorForeground","Foreground color of list items containing errors."));ce("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},L("listWarningForeground","Foreground color of list items containing warnings."));const fdt=ce("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:We.black},L("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),gdt=ce("listFilterWidget.outline",{dark:We.transparent,light:We.transparent,hc:"#f38518"},L("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),pdt=ce("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:rr},L("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches."));ce("list.filterMatchBackground",{dark:Em,light:Em,hc:null},L("listFilterMatchHighlight","Background color of the filtered match."));ce("list.filterMatchBorder",{dark:XC,light:XC,hc:rr},L("listFilterMatchHighlightBorder","Border color of the filtered match."));const mdt=ce("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},L("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),vdt=ce("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},L("tableColumnsBorder","Table border color between columns.")),_dt=ce("tree.tableOddRowsBackground",{dark:Kt(Lt,.04),light:Kt(Lt,.04),hc:null},L("tableOddRowsBackgroundColor","Background color for odd table rows."));ce("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},L("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. "));const Sne=ce("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,L("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),yx=ce("quickInputList.focusForeground",{dark:Im,light:Im,hc:Im},L("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),wx=ce("quickInputList.focusIconForeground",{dark:Cx,light:Cx,hc:Cx},L("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Sx=ce("quickInputList.focusBackground",{dark:Lk(Sne,Dm),light:Lk(Sne,Dm),hc:null},L("quickInput.listFocusBackground","Quick picker background color for the focused item.")),bdt=ce("menu.border",{dark:null,light:null,hc:rr},L("menuBorder","Border color of menus.")),Cdt=ce("menu.foreground",{dark:K2,light:Lt,hc:K2},L("menuForeground","Foreground color of menu items.")),ydt=ce("menu.background",{dark:u_,light:u_,hc:u_},L("menuBackground","Background color of menu items.")),wdt=ce("menu.selectionForeground",{dark:Im,light:Im,hc:Im},L("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Sdt=ce("menu.selectionBackground",{dark:Dm,light:Dm,hc:Dm},L("menuSelectionBackground","Background color of the selected menu item in menus.")),Ldt=ce("menu.selectionBorder",{dark:null,light:null,hc:Go},L("menuSelectionBorder","Border color of the selected menu item in menus.")),kdt=ce("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:rr},L("menuSeparatorBackground","Color of a separator menu item in menus.")),J7=ce("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},L("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));ce("toolbar.hoverOutline",{dark:null,light:null,hc:Go},L("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));ce("toolbar.activeBackground",{dark:Jm(J7,.1),light:zw(J7,.1),hc:null},L("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));ce("editor.snippetTabstopHighlightBackground",{dark:new We(new Dn(124,124,124,.3)),light:new We(new Dn(10,50,100,.2)),hc:new We(new Dn(124,124,124,.3))},L("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));ce("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},L("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));ce("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},L("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));ce("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new We(new Dn(10,50,100,.5)),hc:"#525252"},L("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));ce("breadcrumb.foreground",{light:Kt(Lt,.8),dark:Kt(Lt,.8),hc:Kt(Lt,.8)},L("breadcrumbsFocusForeground","Color of focused breadcrumb items."));ce("breadcrumb.background",{light:Ta,dark:Ta,hc:Ta},L("breadcrumbsBackground","Background color of breadcrumb items."));ce("breadcrumb.focusForeground",{light:zw(Lt,.2),dark:Jm(Lt,.1),hc:Jm(Lt,.1)},L("breadcrumbsFocusForeground","Color of focused breadcrumb items."));ce("breadcrumb.activeSelectionForeground",{light:zw(Lt,.2),dark:Jm(Lt,.1),hc:Jm(Lt,.1)},L("breadcrumbsSelectedForegound","Color of selected breadcrumb items."));ce("breadcrumbPicker.background",{light:aa,dark:aa,hc:aa},L("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const _me=.5,Lne=We.fromHex("#40C8AE").transparent(_me),kne=We.fromHex("#40A6FF").transparent(_me),Ene=We.fromHex("#606060").transparent(.4),Tg=.4,Gy=1,Y2=ce("merge.currentHeaderBackground",{dark:Lne,light:Lne,hc:null},L("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ce("merge.currentContentBackground",{dark:Kt(Y2,Tg),light:Kt(Y2,Tg),hc:Kt(Y2,Tg)},L("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const X2=ce("merge.incomingHeaderBackground",{dark:kne,light:kne,hc:null},L("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ce("merge.incomingContentBackground",{dark:Kt(X2,Tg),light:Kt(X2,Tg),hc:Kt(X2,Tg)},L("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Z2=ce("merge.commonHeaderBackground",{dark:Ene,light:Ene,hc:null},L("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);ce("merge.commonContentBackground",{dark:Kt(Z2,Tg),light:Kt(Z2,Tg),hc:Kt(Z2,Tg)},L("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Hj=ce("merge.border",{dark:null,light:null,hc:"#C3DF6F"},L("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));ce("editorOverviewRuler.currentContentForeground",{dark:Kt(Y2,Gy),light:Kt(Y2,Gy),hc:Hj},L("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));ce("editorOverviewRuler.incomingContentForeground",{dark:Kt(X2,Gy),light:Kt(X2,Gy),hc:Hj},L("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));ce("editorOverviewRuler.commonContentForeground",{dark:Kt(Z2,Gy),light:Kt(Z2,Gy),hc:Hj},L("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));const zj=ce("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},L("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),bme=ce("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},L("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Q2=ce("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},L("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),b4=ce("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},L("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Dne=ce("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},L("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Edt=ce("minimap.errorHighlight",{dark:new We(new Dn(255,18,18,.7)),light:new We(new Dn(255,18,18,.7)),hc:new We(new Dn(255,50,50,1))},L("minimapError","Minimap marker color for errors.")),Ddt=ce("minimap.warningHighlight",{dark:Nc,light:Nc,hc:_4},L("overviewRuleWarning","Minimap marker color for warnings.")),Idt=ce("minimap.background",{dark:null,light:null,hc:null},L("minimapBackground","Minimap background color.")),Tdt=ce("minimap.foregroundOpacity",{dark:We.fromHex("#000f"),light:We.fromHex("#000f"),hc:We.fromHex("#000f")},L("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Ndt=ce("minimapSlider.background",{light:Kt(GC,.5),dark:Kt(GC,.5),hc:Kt(GC,.5)},L("minimapSliderBackground","Minimap slider background color.")),xdt=ce("minimapSlider.hoverBackground",{light:Kt(qC,.5),dark:Kt(qC,.5),hc:Kt(qC,.5)},L("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Mdt=ce("minimapSlider.activeBackground",{light:Kt(YC,.5),dark:Kt(YC,.5),hc:Kt(YC,.5)},L("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Adt=ce("problemsErrorIcon.foreground",{dark:Sm,light:Sm,hc:Sm},L("problemsErrorIconForeground","The color used for the problems error icon.")),Rdt=ce("problemsWarningIcon.foreground",{dark:Nc,light:Nc,hc:Nc},L("problemsWarningIconForeground","The color used for the problems warning icon.")),Odt=ce("problemsInfoIcon.foreground",{dark:Wl,light:Wl,hc:Wl},L("problemsInfoIconForeground","The color used for the problems info icon."));ce("charts.foreground",{dark:Lt,light:Lt,hc:Lt},L("chartsForeground","The foreground color used in charts."));ce("charts.lines",{dark:Kt(Lt,.5),light:Kt(Lt,.5),hc:Kt(Lt,.5)},L("chartsLines","The color used for horizontal lines in charts."));ce("charts.red",{dark:Sm,light:Sm,hc:Sm},L("chartsRed","The red color used in chart visualizations."));ce("charts.blue",{dark:Wl,light:Wl,hc:Wl},L("chartsBlue","The blue color used in chart visualizations."));ce("charts.yellow",{dark:Nc,light:Nc,hc:Nc},L("chartsYellow","The yellow color used in chart visualizations."));ce("charts.orange",{dark:Q2,light:Q2,hc:Q2},L("chartsOrange","The orange color used in chart visualizations."));ce("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},L("chartsGreen","The green color used in chart visualizations."));ce("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},L("chartsPurple","The purple color used in chart visualizations."));function Pdt(n,e){var t,i,r;switch(n.op){case 0:return(t=Gf(n.value,e))===null||t===void 0?void 0:t.darken(n.factor);case 1:return(i=Gf(n.value,e))===null||i===void 0?void 0:i.lighten(n.factor);case 2:return(r=Gf(n.value,e))===null||r===void 0?void 0:r.transparent(n.factor);case 3:for(const s of n.values){const o=Gf(s,e);if(o)return o}return;case 5:return Gf(e.defines(n.if)?n.then:n.else,e);case 4:{const s=Gf(n.value,e);if(!s)return;const o=Gf(n.background,e);return o?s.isDarkerThan(o)?We.getLighterColor(s,o,n.factor).transparent(n.transparency):We.getDarkerColor(s,o,n.factor).transparent(n.transparency):s.transparent(n.factor*n.transparency)}default:throw VU()}}function zw(n,e){return{op:0,value:n,factor:e}}function Jm(n,e){return{op:1,value:n,factor:e}}function Kt(n,e){return{op:2,value:n,factor:e}}function Lk(...n){return{op:3,values:n}}function Fdt(n,e,t){return{op:5,if:n,then:e,else:t}}function Ine(n,e,t,i){return{op:4,value:n,background:e,factor:t,transparency:i}}function Gf(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?We.fromHex(n):e.getColor(n);if(n instanceof We)return n;if(typeof n=="object")return Pdt(n,e)}}const Cme="vscode://schemas/workbench-colors";let yme=jr.as(g4.JSONContribution);yme.registerSchema(Cme,p4.getColorSchema());const Tne=new Ni(()=>yme.notifySchemaChanged(Cme),200);p4.onDidChangeSchema(()=>{Tne.isScheduled()||Tne.schedule()});class Uj{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new wme(this.x-kg.scrollX,this.y-kg.scrollY)}}class wme{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new Uj(this.clientX+kg.scrollX,this.clientY+kg.scrollY)}}class Bdt{constructor(e,t,i,r){this.x=e,this.y=t,this.width=i,this.height=r,this._editorPagePositionBrand=void 0}}class $dt{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function Sme(n){const e=io(n);return new Bdt(e.left,e.top,e.width,e.height)}function Lme(n,e,t){const i=e.width/n.offsetWidth,r=e.height/n.offsetHeight,s=(t.x-e.x)/i,o=(t.y-e.y)/r;return new $dt(s,o)}class B_ extends Lu{constructor(e,t){super(e);this._editorMouseEventBrand=void 0,this.pos=new Uj(this.posx,this.posy),this.editorPos=Sme(t),this.relativePos=Lme(t,this.editorPos,this.pos)}}class Vdt{constructor(e){this._editorViewDomNode=e}_create(e){return new B_(e,this._editorViewDomNode)}onContextMenu(e,t){return nt(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return nt(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return nt(e,"mousedown",i=>{t(this._create(i))})}onMouseLeave(e,t){return kj(e,i=>{t(this._create(i))})}onMouseMoveThrottled(e,t,i,r){return Ej(e,"mousemove",t,(o,a)=>i(o,this._create(a)),r)}}class Wdt{constructor(e){this._editorViewDomNode=e}_create(e){return new B_(e,this._editorViewDomNode)}onPointerUp(e,t){return nt(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return nt(e,"pointerdown",i=>{t(this._create(i))})}onPointerLeave(e,t){return Iut(e,i=>{t(this._create(i))})}onPointerMoveThrottled(e,t,i,r){return Ej(e,"pointermove",t,(o,a)=>i(o,this._create(a)),r)}}class Hdt extends ze{constructor(e){super();this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new x1),this._keydownListener=null}startMonitoring(e,t,i,r,s){this._keydownListener=Ks(document,"keydown",a=>{a.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,a.browserEvent)},!0);const o=(a,l)=>i(a,new B_(l,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,t,o,r,a=>{this._keydownListener.dispose(),s(a)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class lD{constructor(e){this._editor=e,this._instanceId=++lD._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new Ni(()=>this.garbageCollect(),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const r=this._counter++;i=new zdt(t,`dyn-rule-${this._instanceId}-${r}`,r4(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}lD._idPool=0;class zdt{constructor(e,t,i,r){this.key=e,this.className=t,this.properties=r,this._referenceCount=0,this._styleElement=$u(i),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const r in t){const s=t[r];let o;typeof s=="object"?o=`var(${ime(s.id)})`:o=s,i+=`
	${Udt(r)}: ${o};`}return i+=`
}`,i}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function Udt(n){return n.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}class uD extends ze{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,r=e.length;i<r;i++){const s=e[i];switch(s.type){case 0:this.onCompositionStart(s)&&(t=!0);break;case 1:this.onCompositionEnd(s)&&(t=!0);break;case 2:this.onConfigurationChanged(s)&&(t=!0);break;case 3:this.onCursorStateChanged(s)&&(t=!0);break;case 4:this.onDecorationsChanged(s)&&(t=!0);break;case 5:this.onFlushed(s)&&(t=!0);break;case 6:this.onFocusChanged(s)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(s)&&(t=!0);break;case 8:this.onLineMappingChanged(s)&&(t=!0);break;case 9:this.onLinesChanged(s)&&(t=!0);break;case 10:this.onLinesDeleted(s)&&(t=!0);break;case 11:this.onLinesInserted(s)&&(t=!0);break;case 12:this.onRevealRangeRequest(s)&&(t=!0);break;case 13:this.onScrollChanged(s)&&(t=!0);break;case 15:this.onTokensChanged(s)&&(t=!0);break;case 14:this.onThemeChanged(s)&&(t=!0);break;case 16:this.onTokensColorsChanged(s)&&(t=!0);break;case 17:this.onZonesChanged(s)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(s)}}t&&(this._shouldRender=!0)}}class Uu extends uD{constructor(e){super();this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class tf{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){const i=[];let r=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[r++]=this.read(e)),e=e.parentElement;const s=new Uint8Array(r);for(let o=0;o<r;o++)s[o]=i[r-o-1];return s}}class jdt{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class Kdt extends jdt{constructor(e,t,i){super(e,t);this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class Gdt{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class C4{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const s=e[i];t[i]=new C4(s.left,s.width)}return t}toString(){return`[${this.left},${this.width}]`}}class ZC{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class qdt{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class Ydt{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class jF{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,r,s){const o=this._createRange();try{return o.setStart(e,t),o.setEnd(i,r),o.getClientRects()}catch{return null}finally{this._detachRange(o,s)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(ZC.compare);const t=[];let i=0,r=e[0];for(let s=1,o=e.length;s<o;s++){const a=e[s];r.left+r.width+.9>=a.left?r.width=Math.max(r.width,a.left+a.width-r.left):(t[i++]=r,r=a)}return t[i++]=r,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s];r[s]=new ZC(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(r)}static readHorizontalRanges(e,t,i,r,s,o,a,l){const c=e.children.length-1;if(0>c)return null;if(t=Math.min(c,Math.max(0,t)),r=Math.min(c,Math.max(0,r)),t===r&&i===s&&i===0&&!e.children[t].firstChild){const g=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(g,o,a)}t!==r&&r>0&&s===0&&(r--,s=1073741824);let d=e.children[t].firstChild,h=e.children[r].firstChild;if((!d||!h)&&(!d&&i===0&&t>0&&(d=e.children[t-1].firstChild,i=1073741824),!h&&s===0&&r>0&&(h=e.children[r-1].firstChild,s=1073741824)),!d||!h)return null;i=Math.min(d.textContent.length,Math.max(0,i)),s=Math.min(h.textContent.length,Math.max(0,s));const f=this._readClientRects(d,i,h,s,l);return this._createHorizontalRangesFromClientRects(f,o,a)}}const Xdt=function(){return Ld?!0:!(Ao||Ul||$c)}();let QC=!0;class Nne{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=t}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class xne{constructor(e,t){this.themeType=t;const i=e.options,r=i.get(44);this.renderWhitespace=i.get(88),this.renderControlCharacters=i.get(83),this.spaceWidth=r.spaceWidth,this.middotWidth=r.middotWidth,this.wsmiddotWidth=r.wsmiddotWidth,this.useMonospaceOptimizations=r.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=r.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(59),this.stopRenderingLineAfter=i.get(105),this.fontLigatures=i.get(45)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Ih{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=Un(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===Tc.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,r){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const s=i.getViewLineRenderingData(e),o=this._options,a=Al.filter(s.inlineDecorations,e,s.minColumn,s.maxColumn);let l=null;if(o.themeType===Tc.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const h=i.selections;for(const f of h){if(f.endLineNumber<e||f.startLineNumber>e)continue;const g=f.startLineNumber===e?f.startColumn:s.minColumn,p=f.endLineNumber===e?f.endColumn:s.maxColumn;g<p&&(o.themeType===Tc.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?a.push(new Al(g,p,"inline-selected-text",0)):(l||(l=[]),l.push(new qlt(g-1,p-1))))}}const u=new I1(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,s.minColumn-1,s.tokens,a,s.tabSize,s.startVisibleColumn,o.spaceWidth,o.middotWidth,o.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==Dl.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(u))return!1;r.appendASCIIString('<div style="top:'),r.appendASCIIString(String(t)),r.appendASCIIString("px;height:"),r.appendASCIIString(String(this._options.lineHeight)),r.appendASCIIString('px;" class="'),r.appendASCIIString(Ih.CLASS_NAME),r.appendASCIIString('">');const c=e4(u,r);r.appendASCIIString("</div>");let d=null;return QC&&Xdt&&s.isBasicASCII&&o.useMonospaceOptimizations&&c.containsForeignElements===0&&s.content.length<300&&u.lineTokens.getCount()<100&&(d=new fT(this._renderedViewLine?this._renderedViewLine.domNode:null,u,c.characterMapping)),d||(d=Eme(this._renderedViewLine?this._renderedViewLine.domNode:null,u,c.characterMapping,c.containsRTL,c.containsForeignElements)),this._renderedViewLine=d,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof fT:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof fT?this._renderedViewLine.monospaceAssumptionsAreValid():QC}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof fT&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,r){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const s=this._renderedViewLine.input.stopRenderingLineAfter;let o=!1;s!==-1&&t>s+1&&i>s+1&&(o=!0),s!==-1&&t>s+1&&(t=s+1),s!==-1&&i>s+1&&(i=s+1);const a=this._renderedViewLine.getVisibleRangesForRange(e,t,i,r);return a&&a.length>0?new Ydt(o,a):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}Ih.CLASS_NAME="view-line";class fT{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return QC;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),QC=!1),QC}toSlowRenderedLine(){return Eme(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,r){const s=this._getCharPosition(t),o=this._getCharPosition(i);return[new ZC(s,o-s)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){const r=t.textContent.length;let s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.getColumn(new Cj(s,i),r)}}class kme{constructor(e,t,i,r,s){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=s,this._cachedWidth=-1,this._pixelOffsetCache=null,!r||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let o=0,a=this._characterMapping.length;o<=a;o++)this._pixelOffsetCache[o]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,r){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const s=this._readPixelOffset(this.domNode,e,t,r);if(s===-1)return null;const o=this._readPixelOffset(this.domNode,e,i,r);return o===-1?null:[new ZC(s,o-s)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,r)}_readVisibleRangesForRange(e,t,i,r,s){if(i===r){const o=this._readPixelOffset(e,t,i,s);return o===-1?null:[new ZC(o,0)]}else return this._readRawVisibleRangesForRange(e,i,r,s)}_readPixelOffset(e,t,i,r){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const s=this._getReadingTarget(e);return s.firstChild?s.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const s=this._pixelOffsetCache[i];if(s!==-1)return s;const o=this._actualReadPixelOffset(e,t,i,r);return this._pixelOffsetCache[i]=o,o}return this._actualReadPixelOffset(e,t,i,r)}_actualReadPixelOffset(e,t,i,r){if(this._characterMapping.length===0){const l=jF.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,r.clientRectDeltaLeft,r.clientRectScale,r.endNode);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const s=this._characterMapping.getDomPosition(i),o=jF.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,s.partIndex,s.charIndex,r.clientRectDeltaLeft,r.clientRectScale,r.endNode);if(!o||o.length===0)return-1;const a=o[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getAbsoluteOffset(i),u=Math.round(this.input.spaceWidth*l);if(Math.abs(u-a)<=1)return u}return a}_readRawVisibleRangesForRange(e,t,i,r){if(t===1&&i===this._characterMapping.length)return[new ZC(0,this.getWidth())];const s=this._characterMapping.getDomPosition(t),o=this._characterMapping.getDomPosition(i);return jF.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,o.partIndex,o.charIndex,r.clientRectDeltaLeft,r.clientRectScale,r.endNode)}getColumnOfNodeOffset(e,t,i){const r=t.textContent.length;let s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.getColumn(new Cj(s,i),r)}}class Zdt extends kme{_readVisibleRangesForRange(e,t,i,r,s){const o=super._readVisibleRangesForRange(e,t,i,r,s);if(!o||o.length===0||i===r||i===1&&r===this._characterMapping.length)return o;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,r,s);if(a!==-1){const l=o[o.length-1];l.left<a&&(l.width=a-l.left)}}return o}}const Eme=function(){return Cm?Qdt:Jdt}();function Qdt(n,e,t,i,r){return new Zdt(n,e,t,i,r)}function Jdt(n,e,t,i,r){return new kme(n,e,t,i,r)}class gs{static _nextVisibleColumn(e,t,i){return e===9?gs.nextRenderTabStop(t,i):Km(e)||ij(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const r=Math.min(t-1,e.length),s=e.substring(0,r),o=new eA(s);let a=0;for(;!o.eol();){const l=JM(s,r,o.offset);o.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const r=e.length,s=new eA(e);let o=0,a=1;for(;!s.eol();){const l=JM(e,r,s.offset);s.nextGraphemeLength();const u=this._nextVisibleColumn(l,o,i),c=s.offset+1;if(u>=t){const d=t-o;return u-t<d?c:a}o=u,a=c}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}class kk{static whitespaceVisibleColumn(e,t,i){const r=e.length;let s=0,o=-1,a=-1;for(let l=0;l<r;l++){if(l===t)return[o,a,s];switch(s%i===0&&(o=l,a=s),e.charCodeAt(l)){case 32:s+=1;break;case 9:s=gs.nextRenderTabStop(s,i);break;default:return[-1,-1,-1]}}return t===r?[o,a,s]:[-1,-1,-1]}static atomicPosition(e,t,i,r){const s=e.length,[o,a,l]=kk.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let u;switch(r){case 0:u=!0;break;case 1:u=!1;break;case 2:if(l%i===0)return t;u=l%i<=i/2;break}if(u){if(o===-1)return-1;let h=a;for(let f=o;f<s;++f){if(h===a+i)return o;switch(e.charCodeAt(f)){case 32:h+=1;break;case 9:h=gs.nextRenderTabStop(h,i);break;default:return-1}}return h===a+i?o:-1}const c=gs.nextRenderTabStop(l,i);let d=l;for(let h=t;h<s;h++){if(d===c)return h;switch(e.charCodeAt(h)){case 32:d+=1;break;case 9:d=gs.nextRenderTabStop(d,i);break;default:return-1}}return d===c?s:-1}}class Wp{constructor(e=null){this.hitTarget=e,this.type=0}}class e${constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var _0;(function(n){function e(t,i,r){const s=t.getPositionFromDOMInfo(i,r);return s?new e$(s,i,null):new Wp(i)}n.createFromDOMInfo=e})(_0||(_0={}));class eht{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class ya{static _deduceRage(e,t=null){return!t&&e?new Y(e.lineNumber,e.column,e.lineNumber,e.column):t!=null?t:null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,r,s,o){return{type:e,element:t,mouseColumn:i,position:r,range:s,detail:o}}static createViewZone(e,t,i,r,s){return{type:e,element:t,mouseColumn:i,position:r,range:this._deduceRage(r),detail:s}}static createContentText(e,t,i,r,s){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,r),detail:s}}static createContentEmpty(e,t,i,r){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:r}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t)}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class oc{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class qy{constructor(e,t,i){this.model=e.model;const r=e.configuration.options;this.layoutInfo=r.get(131),this.viewDomNode=t.viewDomNode,this.lineHeight=r.get(59),this.stickyTabStops=r.get(104),this.typicalHalfwidthCharacterWidth=r.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return qy.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const r=i.verticalOffset+i.height/2,s=e.model.getLineCount();let o=null,a,l=null;return i.afterLineNumber!==s&&(l=new Ae(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(o=new Ae(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),l===null?a=o:o===null?a=l:t<r?a=o:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:o,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const r=this._context.model.getLineCount(),s=this._context.model.getLineMaxColumn(r);return{range:new Y(r,s,r,s),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new Y(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return qy._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class tht{constructor(e,t,i,r){this.editorPos=t,this.pos=i,this.relativePos=r,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,bo._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class jj extends tht{constructor(e,t,i,r,s){super(e,t,i,r);this._ctx=e,s?(this.target=s,this.targetPath=tf.collect(s,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.model.getLineMaxColumn(e.lineNumber)?gs.visibleColumnFromColumn(this._ctx.model.getLineContent(e.lineNumber),e.column,this._ctx.model.getTextModelOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return ya.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return ya.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,r){return ya.createMargin(e,this.target,this._getMouseColumn(t),t,i,r)}fulfillViewZone(e,t,i){return ya.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return ya.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return ya.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return ya.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return ya.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return ya.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new jj(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const Mne={isAfterLines:!0};function KF(n){return{isAfterLines:!1,horizontalDistanceToText:n}}class bo{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=tf.collect(t,this._viewHelper.viewDomNode);return!!(oc.isChildOfContentWidgets(i)||oc.isChildOfOverflowingContentWidgets(i)||oc.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,r,s){const o=new qy(this._context,this._viewHelper,e),a=new jj(o,t,i,r,s);try{return bo._createMouseTarget(o,a,!1)}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfillUnknown();const o=bo._doHitTest(e,t);return o.type===1?bo.createMouseTargetFromHitTestPosition(e,t,o.spanNode,o.position,o.injectedText):this._createMouseTarget(e,t.withTarget(o.hitTarget),!0)}const r=t;let s=null;return s=s||bo._hitTestContentWidget(e,r),s=s||bo._hitTestOverlayWidget(e,r),s=s||bo._hitTestMinimap(e,r),s=s||bo._hitTestScrollbarSlider(e,r),s=s||bo._hitTestViewZone(e,r),s=s||bo._hitTestMargin(e,r),s=s||bo._hitTestViewCursor(e,r),s=s||bo._hitTestTextArea(e,r),s=s||bo._hitTestViewLines(e,r,i),s=s||bo._hitTestScrollbar(e,r),s||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(oc.isChildOfContentWidgets(t.targetPath)||oc.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(oc.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const r of i)if(t.target===r.domNode)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,r=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset;for(const o of i){if(r<o.contentLeft||r>o.contentLeft+o.width)continue;const a=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(a<=s&&s<=a+o.height)return t.fulfillContentText(o.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const r=t.isInContentArea?8:5;return t.fulfillViewZone(r,i.position,i)}return null}static _hitTestTextArea(e,t){return oc.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),r=i.range.getStartPosition();let s=Math.abs(t.relativePos.x);const o={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:s};return s-=e.layoutInfo.glyphMarginLeft,s<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,r,i.range,o):(s-=e.layoutInfo.glyphMarginWidth,s<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,r,i.range,o):(s-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,r,i.range,o)))}return null}static _hitTestViewLines(e,t,i){if(!oc.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new Ae(1,1),Mne);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const s=e.model.getLineCount(),o=e.model.getLineMaxColumn(s);return t.fulfillContentEmpty(new Ae(s,o),Mne)}if(i){if(oc.isStrictChildOfViewLines(t.targetPath)){const s=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.model.getLineLength(s)===0){const a=e.getLineWidth(s),l=KF(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(new Ae(s,1),l)}const o=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>=o){const a=KF(t.mouseContentHorizontalOffset-o),l=new Ae(s,e.model.getLineMaxColumn(s));return t.fulfillContentEmpty(l,a)}}return t.fulfillUnknown()}const r=bo._doHitTest(e,t);return r.type===1?bo.createMouseTargetFromHitTestPosition(e,t,r.spanNode,r.position,r.injectedText):this._createMouseTarget(e,t.withTarget(r.hitTarget),!0)}static _hitTestMinimap(e,t){if(oc.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.model.getLineMaxColumn(i);return t.fulfillScrollbar(new Ae(i,r))}return null}static _hitTestScrollbarSlider(e,t){if(oc.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.model.getLineMaxColumn(r);return t.fulfillScrollbar(new Ae(r,s))}}return null}static _hitTestScrollbar(e,t){if(oc.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.model.getLineMaxColumn(i);return t.fulfillScrollbar(new Ae(i,r))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(131),r=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return bo._getMouseColumn(r,t.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,r,s){const o=r.lineNumber,a=r.column,l=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>l){const m=KF(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(r,m)}const u=e.visibleRangeForPosition(o,a);if(!u)return t.fulfillUnknown(r);const c=u.left;if(t.mouseContentHorizontalOffset===c)return t.fulfillContentText(r,null,{mightBeForeignElement:!!s,injectedText:s});const d=[];if(d.push({offset:u.left,column:a}),a>1){const m=e.visibleRangeForPosition(o,a-1);m&&d.push({offset:m.left,column:a-1})}const h=e.model.getLineMaxColumn(o);if(a<h){const m=e.visibleRangeForPosition(o,a+1);m&&d.push({offset:m.left,column:a+1})}d.sort((m,b)=>m.offset-b.offset);const f=t.pos.toClientCoordinates(),g=i.getBoundingClientRect(),p=g.left<=f.clientX&&f.clientX<=g.right;for(let m=1;m<d.length;m++){const b=d[m-1],_=d[m];if(b.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=_.offset){const C=new Y(o,b.column,o,_.column);return t.fulfillContentText(r,C,{mightBeForeignElement:!p||!!s,injectedText:s})}}return t.fulfillContentText(r,null,{mightBeForeignElement:!p||!!s,injectedText:s})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let o=t.pos.y+(s-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+t.editorPos.height&&(o=t.editorPos.y+t.editorPos.height-1);const a=new Uj(t.pos.x,o),l=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return l.type===1?l:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=qm(e.viewDomNode);let r;if(i?typeof i.caretRangeFromPoint=="undefined"?r=nht(i,t.clientX,t.clientY):r=i.caretRangeFromPoint(t.clientX,t.clientY):r=document.caretRangeFromPoint(t.clientX,t.clientY),!r||!r.startContainer)return new Wp;const s=r.startContainer;if(s.nodeType===s.TEXT_NODE){const o=s.parentNode,a=o?o.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===Ih.CLASS_NAME?_0.createFromDOMInfo(e,o,r.startOffset):new Wp(s.parentNode)}else if(s.nodeType===s.ELEMENT_NODE){const o=s.parentNode,a=o?o.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===Ih.CLASS_NAME?_0.createFromDOMInfo(e,s,s.textContent.length):new Wp(s)}return new Wp}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const r=i.offsetNode.parentNode,s=r?r.parentNode:null,o=s?s.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===Ih.CLASS_NAME?_0.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Wp(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const r=i.offsetNode.parentNode,s=r&&r.nodeType===r.ELEMENT_NODE?r.className:null,o=r?r.parentNode:null,a=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(s===Ih.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return _0.createFromDOMInfo(e,l,0)}else if(a===Ih.CLASS_NAME)return _0.createFromDOMInfo(e,i.offsetNode,0)}return new Wp(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:r}=t.getTextModelOptions(),s=kk.atomicPosition(i,e.column-1,r,2);return s!==-1?new Ae(e.lineNumber,s+1):e}static _doHitTest(e,t){let i=new Wp;if(typeof document.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),i.type===1){const r=e.model.getInjectedTextAt(i.position),s=e.model.normalizePosition(i.position,2);(r||!s.equals(i.position))&&(i=new e$(s,i.spanNode,r))}return i.type===1&&e.stickyTabStops&&(i=new e$(this._snapToSoftTabBoundary(i.position,e.model),i.spanNode,i.injectedText)),i}}function nht(n,e,t){const i=document.createRange();let r=n.elementFromPoint(e,t);if(r!==null){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE&&r.lastChild&&r.lastChild.firstChild;)r=r.lastChild;const s=r.getBoundingClientRect(),o=window.getComputedStyle(r,null).getPropertyValue("font"),a=r.innerText;let l=s.left,u=0,c;if(e>s.left+s.width)u=a.length;else{const d=V0.getInstance();for(let h=0;h<a.length+1;h++){if(c=d.getCharWidth(a.charAt(h),o)/2,l+=c,e<l){u=h;break}l+=c}}i.setStart(r.firstChild,u),i.setEnd(r.firstChild,u)}return i}class V0{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return V0._INSTANCE||(V0._INSTANCE=new V0),V0._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const r=this._canvas.getContext("2d");r.font=t;const o=r.measureText(e).width;return this._cache[i]=o,o}}V0._INSTANCE=null;function kA(n){return function(e,t){let i=!1;return n&&(i=n.mouseTargetIsWidget(t)),i||t.preventDefault(),t}}class $_ extends uD{constructor(e,t,i){super();this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new bo(this._context,i),this._mouseDownOperation=this._register(new iht(this._context,this.viewController,this.viewHelper,(o,a)=>this._createMouseTarget(o,a),o=>this._getMouseColumn(o))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const r=new Vdt(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,o=>this._onContextMenu(o,!0))),this._register(r.onMouseMoveThrottled(this.viewHelper.viewDomNode,o=>this._onMouseMove(o),kA(this.mouseTargetFactory),$_.MOUSE_MOVE_MINIMUM_TIME)),this._register(r.onMouseUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(r.onMouseDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o)));const s=o=>{if(this.viewController.emitMouseWheel(o),!this._context.configuration.options.get(68))return;const a=new zy(o);if(kn?(o.metaKey||o.ctrlKey)&&!o.shiftKey&&!o.altKey:o.ctrlKey&&!o.metaKey&&!o.shiftKey&&!o.altKey){const u=qg.getZoomLevel(),c=a.deltaY>0?1:-1;qg.setZoomLevel(u+c),a.preventDefault(),a.stopPropagation()}};this._register(nt(this.viewHelper.viewDomNode,Bt.MOUSE_WHEEL,s,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(131)){const t=this._context.configuration.options.get(131).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const r=new wme(e,t).toPageCoordinates(),s=Sme(this.viewHelper.viewDomNode);if(r.y<s.y||r.y>s.y+s.height||r.x<s.x||r.x>s.x+s.width)return null;const o=Lme(this.viewHelper.viewDomNode,s,r);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s,r,o,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const r=qm(this.viewHelper.viewDomNode);r&&(i=r.elementsFromPoint(e.posx,e.posy).find(s=>this.viewHelper.viewDomNode.contains(s)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),i=t.type===6||t.type===7,r=t.type===2||t.type===3||t.type===4,s=t.type===3,o=this._context.configuration.options.get(98),a=t.type===8||t.type===5,l=t.type===9;let u=e.leftButton||e.middleButton;kn&&e.leftButton&&e.ctrlKey&&(u=!1);const c=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(u&&(i||s&&o))c(),this._mouseDownOperation.start(t.type,e);else if(r)e.preventDefault();else if(a){const d=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(d.viewZoneId)&&(c(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(c(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}$_.MOUSE_MOVE_MINIMUM_TIME=100;class iht extends ze{constructor(e,t,i,r,s){super();this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=r,this._getMouseColumn=s,this._mouseMoveMonitor=this._register(new Hdt(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Ra),this._mouseState=new y4,this._currentSelection=new vt(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const r=this._context.configuration.options;if(!r.get(81)&&r.get(31)&&!r.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&i.type===6&&i.position&&this._currentSelection.containsPosition(i.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,kA(null),s=>this._onMouseDownThenMove(s),s=>{const o=this._findMousePosition(this._lastMouseEvent,!0);s&&s instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:o?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,kA(null),s=>this._onMouseDownThenMove(s),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);!e||this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0)},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.model,r=this._context.viewLayout,s=this._getMouseColumn(e);if(e.posy<t.y){const a=Math.max(r.getCurrentScrollTop()-(t.y-e.posy),0),l=qy.getZoneAtCoord(this._context,a);if(l){const c=this._helpPositionJumpOverViewZone(l);if(c)return ya.createOutsideEditor(s,c)}const u=r.getLineNumberAtVerticalOffset(a);return ya.createOutsideEditor(s,new Ae(u,1))}if(e.posy>t.y+t.height){const a=r.getCurrentScrollTop()+e.relativePos.y,l=qy.getZoneAtCoord(this._context,a);if(l){const c=this._helpPositionJumpOverViewZone(l);if(c)return ya.createOutsideEditor(s,c)}const u=r.getLineNumberAtVerticalOffset(a);return ya.createOutsideEditor(s,new Ae(u,i.getLineMaxColumn(u)))}const o=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+e.relativePos.y);return e.posx<t.x?ya.createOutsideEditor(s,new Ae(o,1)):e.posx>t.x+t.width?ya.createOutsideEditor(s,new Ae(o,i.getLineMaxColumn(o))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const r=this._createMouseTarget(e,t);if(!r.position)return null;if(r.type===8||r.type===5){const o=this._helpPositionJumpOverViewZone(r.detail);if(o)return ya.createViewZone(r.type,r.element,r.mouseColumn,o,r.detail)}return r}_helpPositionJumpOverViewZone(e){const t=new Ae(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,r=e.positionAfter;return i&&r?i.isBefore(t)?i:r:null}_dispatchMouse(e,t){!e.position||this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class y4{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>y4.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}y4.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var pd;(function(n){n.text="text/plain",n.binary="application/octet-stream",n.unknown="application/unknown",n.markdown="text/markdown",n.latex="text/latex"})(pd||(pd={}));class yo{constructor(e,t,i,r,s){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=r,this.selectionEndPosition=s}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e){return new yo(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new yo(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const r=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,r,-1)}if(e>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,r,1)}const t=this.value.substring(this.selectionStart,e);if(t.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let r=0,s=-1;for(;(s=t.indexOf(`
`,s+1))!==-1;)r++;return[e,i*t.length,r]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const r=Math.min(Fy(e.value,t.value),e.selectionStart,t.selectionStart),s=Math.min(QM(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(r,e.value.length-s);const o=t.value.substring(r,t.value.length-s),a=e.selectionStart-r,l=e.selectionEnd-r,u=t.selectionStart-r,c=t.selectionEnd-r;if(u===c){const h=e.selectionStart-r;return{text:o,replacePrevCharCnt:h,replaceNextCharCnt:0,positionDelta:0}}const d=l-a;return{text:o,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(Fy(e.value,t.value),e.selectionEnd),r=Math.min(QM(e.value,t.value),e.value.length-e.selectionEnd),s=e.value.substring(i,e.value.length-r),o=t.value.substring(i,t.value.length-r);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:o,replacePrevCharCnt:a,replaceNextCharCnt:s.length-a,positionDelta:l-o.length}}}yo.EMPTY=new yo("",0,0,null,null);class mC{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,r=i+1,s=i+t;return new Y(r,1,s+1,1)}static fromEditorSelection(e,t,i,r,s){const o=mC._getPageOfLine(i.startLineNumber,r),a=mC._getRangeForPage(o,r),l=mC._getPageOfLine(i.endLineNumber,r),u=mC._getRangeForPage(l,r),c=a.intersectRanges(new Y(1,1,i.startLineNumber,i.startColumn));let d=t.getValueInRange(c,1);const h=t.getLineCount(),f=t.getLineMaxColumn(h),g=u.intersectRanges(new Y(i.endLineNumber,i.endColumn,h,f));let p=t.getValueInRange(g,1),m;if(o===l||o+1===l)m=t.getValueInRange(i,1);else{const b=a.intersectRanges(i),_=u.intersectRanges(i);m=t.getValueInRange(b,1)+String.fromCharCode(8230)+t.getValueInRange(_,1)}return s&&(d.length>500&&(d=d.substring(d.length-500,d.length)),p.length>500&&(p=p.substring(0,500)),m.length>2*500&&(m=m.substring(0,500)+String.fromCharCode(8230)+m.substring(m.length-500,m.length))),new yo(d+m+p,d.length,d.length+m.length,new Ae(i.startLineNumber,i.startColumn),new Ae(i.endLineNumber,i.endColumn))}}var EA;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(EA||(EA={}));const t$={forceCopyWithSyntaxHighlighting:!1};class Ek{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}Ek.INSTANCE=new Ek;class rht{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}class sht extends ze{constructor(e,t,i,r){super();this._host=e,this._textArea=t,this._OS=i,this._browser=r,this._onFocus=this._register(new Le),this.onFocus=this._onFocus.event,this._onBlur=this._register(new Le),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new Le),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new Le),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new Le),this.onCut=this._onCut.event,this._onPaste=this._register(new Le),this.onPaste=this._onPaste.event,this._onType=this._register(new Le),this.onType=this._onType.event,this._onCompositionStart=this._register(new Le),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new Le),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new Le),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new Le),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new Ni(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new Ni(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=yo.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let s=null;this._register(this._textArea.onKeyDown(o=>{const a=new Yi(o);(a.keyCode===109||this._currentComposition&&a.keyCode===1)&&a.stopPropagation(),a.equals(9)&&a.preventDefault(),s=a,this._onKeyDown.fire(a)})),this._register(this._textArea.onKeyUp(o=>{const a=new Yi(o);this._onKeyUp.fire(a)})),this._register(this._textArea.onCompositionStart(o=>{const a=new rht;if(this._currentComposition){this._currentComposition=a;return}if(this._currentComposition=a,this._OS===2&&s&&s.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===o.data&&(s.code==="ArrowRight"||s.code==="ArrowLeft")){a.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:o.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:o.data});return}this._onCompositionStart.fire({data:o.data})})),this._register(this._textArea.onCompositionUpdate(o=>{const a=this._currentComposition;if(!a)return;if(this._browser.isAndroid){const u=yo.readFromTextArea(this._textArea),c=yo.deduceAndroidCompositionInput(this._textAreaState,u);this._textAreaState=u,this._onType.fire(c),this._onCompositionUpdate.fire(o);return}const l=a.handleCompositionUpdate(o.data);this._textAreaState=yo.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionUpdate.fire(o)})),this._register(this._textArea.onCompositionEnd(o=>{const a=this._currentComposition;if(!a)return;if(this._currentComposition=null,this._browser.isAndroid){const u=yo.readFromTextArea(this._textArea),c=yo.deduceAndroidCompositionInput(this._textAreaState,u);this._textAreaState=u,this._onType.fire(c),this._onCompositionEnd.fire();return}const l=a.handleCompositionUpdate(o.data);this._textAreaState=yo.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(o=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const a=yo.readFromTextArea(this._textArea),l=yo.deduceInput(this._textAreaState,a,this._OS===2);l.replacePrevCharCnt===0&&l.text.length===1&&ps(l.text.charCodeAt(0))||(this._textAreaState=a,(l.text!==""||l.replacePrevCharCnt!==0||l.replaceNextCharCnt!==0||l.positionDelta!==0)&&this._onType.fire(l))})),this._register(this._textArea.onCut(o=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(o),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(o=>{this._ensureClipboardGetsEditorSelection(o)})),this._register(this._textArea.onPaste(o=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),o.preventDefault(),!o.clipboardData)return;let[a,l]=Ane.getTextData(o.clipboardData);!a||(l=l||Ek.INSTANCE.get(a),this._onPaste.fire({text:a,metadata:l}))})),this._register(this._textArea.onFocus(()=>{const o=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!o&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return nt(document,"selectionchange",t=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const i=Date.now(),r=i-e;if(e=i,r<5)return;const s=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),s<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const o=this._textArea.getValue();if(this._textAreaState.value!==o)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const u=this._textAreaState.deduceEditorPosition(a),c=this._host.deduceModelPosition(u[0],u[1],u[2]),d=this._textAreaState.deduceEditorPosition(l),h=this._host.deduceModelPosition(d[0],d[1],d[2]),f=new vt(c.lineNumber,c.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};Ek.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&Ane.setTextData(e.clipboardData,t.text,t.html,i)}}class Ane{static getTextData(e){const t=e.getData(pd.text);let i=null;const r=e.getData("vscode-editor-data");if(typeof r=="string")try{i=JSON.parse(r),i.version!==1&&(i=null)}catch{}return[t,i]}static setTextData(e,t,i,r){e.setData(pd.text,t),typeof i=="string"&&e.setData("text/html",i),e.setData("vscode-editor-data",JSON.stringify(r))}}class oht extends ze{constructor(e){super();this._actual=e,this.onKeyDown=this._register(ed(this._actual,"keydown")).event,this.onKeyUp=this._register(ed(this._actual,"keyup")).event,this.onCompositionStart=this._register(ed(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(ed(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(ed(this._actual,"compositionend")).event,this.onInput=this._register(ed(this._actual,"input")).event,this.onCut=this._register(ed(this._actual,"cut")).event,this.onCopy=this._register(ed(this._actual,"copy")).event,this.onPaste=this._register(ed(this._actual,"paste")).event,this.onFocus=this._register(ed(this._actual,"focus")).event,this.onBlur=this._register(ed(this._actual,"blur")).event,this._onSyntheticTap=this._register(new Le),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(nt(this._actual,EA.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=qm(this._actual);return e?e.activeElement===this._actual:Sj(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const r=this._actual;let s=null;const o=qm(r);o?s=o.activeElement:s=document.activeElement;const a=s===r,l=r.selectionStart,u=r.selectionEnd;if(a&&l===t&&u===i){Ul&&window.parent!==window&&r.focus();return}if(a){this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,i),Ul&&window.parent!==window&&r.focus();return}try{const c=Put(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,i),Fut(r,c)}catch{}}}class aht extends $_{constructor(e,t,i){super(e,t,i);this._register(hi.addTarget(this.viewHelper.linesContentDomNode)),this._register(nt(this.viewHelper.linesContentDomNode,$i.Tap,s=>this.onTap(s))),this._register(nt(this.viewHelper.linesContentDomNode,$i.Change,s=>this.onChange(s))),this._register(nt(this.viewHelper.linesContentDomNode,$i.Contextmenu,s=>this._onContextMenu(new B_(s,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(nt(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const o=s.pointerType;if(o==="mouse"){this._lastPointerType="mouse";return}else o==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const r=new Wdt(this.viewHelper.viewDomNode);this._register(r.onPointerMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),kA(this.mouseTargetFactory),$_.MOUSE_MOVE_MINIMUM_TIME)),this._register(r.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(r.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(r.onPointerDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new B_(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}}class lht extends $_{constructor(e,t,i){super(e,t,i);this._register(hi.addTarget(this.viewHelper.linesContentDomNode)),this._register(nt(this.viewHelper.linesContentDomNode,$i.Tap,r=>this.onTap(r))),this._register(nt(this.viewHelper.linesContentDomNode,$i.Change,r=>this.onChange(r))),this._register(nt(this.viewHelper.linesContentDomNode,$i.Contextmenu,r=>this._onContextMenu(new B_(r,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new B_(e,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(EA.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class uht extends ze{constructor(e,t,i){super();Ad&&n4.pointerEvents?this.handler=this._register(new aht(e,t,i)):window.TouchEvent?this.handler=this._register(new lht(e,t,i)):this.handler=this._register(new $_(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class Uw extends uD{}const cht=ce("editor.lineHighlightBackground",{dark:null,light:null,hc:null},L("lineHighlight","Background color for the highlight of line at the cursor position.")),Rne=ce("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},L("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),dht=ce("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},L("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),hht=ce("editor.rangeHighlightBorder",{dark:null,light:null,hc:Go},L("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),fht=ce("editor.symbolHighlightBackground",{dark:Em,light:Em,hc:null},L("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),ght=ce("editor.symbolHighlightBorder",{dark:null,light:null,hc:Go},L("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),Dme=ce("editorCursor.foreground",{dark:"#AEAFAD",light:We.black,hc:We.white},L("caret","Color of the editor cursor.")),pht=ce("editorCursor.background",null,L("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),f_=ce("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},L("editorWhitespaces","Color of whitespace characters in the editor.")),w4=ce("editorIndentGuide.background",{dark:f_,light:f_,hc:f_},L("editorIndentGuides","Color of the editor indentation guides.")),S4=ce("editorIndentGuide.activeBackground",{dark:f_,light:f_,hc:f_},L("editorActiveIndentGuide","Color of the active editor indentation guides.")),Ime=ce("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:We.white},L("editorLineNumbers","Color of editor line numbers.")),GF=ce("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Go},L("editorActiveLineNumber","Color of editor active line number"),!1,L("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),mht=ce("editorLineNumber.activeForeground",{dark:GF,light:GF,hc:GF},L("editorActiveLineNumber","Color of editor active line number")),vht=ce("editorRuler.foreground",{dark:"#5A5A5A",light:We.lightgrey,hc:We.white},L("editorRuler","Color of the editor rulers."));ce("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},L("editorCodeLensForeground","Foreground color of editor CodeLens"));const _ht=ce("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},L("editorBracketMatchBackground","Background color behind matching brackets")),Tme=ce("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:rr},L("editorBracketMatchBorder","Color for matching brackets boxes")),bht=ce("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},L("editorOverviewRulerBorder","Color of the overview ruler border.")),Cht=ce("editorOverviewRuler.background",null,L("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),yht=ce("editorGutter.background",{dark:Ta,light:Ta,hc:Ta},L("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),wht=ce("editorUnnecessaryCode.border",{dark:null,light:null,hc:We.fromHex("#fff").transparent(.8)},L("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),Sht=ce("editorUnnecessaryCode.opacity",{dark:We.fromHex("#000a"),light:We.fromHex("#0007"),hc:null},L("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),Lht=ce("editorGhostText.border",{dark:null,light:null,hc:We.fromHex("#fff").transparent(.8)},L("editorGhostTextBorder","Border color of ghost text in the editor.")),kht=ce("editorGhostText.foreground",{dark:We.fromHex("#ffffff56"),light:We.fromHex("#0007"),hc:null},L("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),Eht=ce("editorGhostText.background",{dark:null,light:null,hc:null},L("editorGhostTextBackground","Background color of the ghost text in the editor.")),qF=new We(new Dn(0,122,204,.6)),Dht=ce("editorOverviewRuler.rangeHighlightForeground",{dark:qF,light:qF,hc:qF},L("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Iht=ce("editorOverviewRuler.errorForeground",{dark:new We(new Dn(255,18,18,.7)),light:new We(new Dn(255,18,18,.7)),hc:new We(new Dn(255,50,50,1))},L("overviewRuleError","Overview ruler marker color for errors.")),Tht=ce("editorOverviewRuler.warningForeground",{dark:Nc,light:Nc,hc:_4},L("overviewRuleWarning","Overview ruler marker color for warnings.")),Nht=ce("editorOverviewRuler.infoForeground",{dark:Wl,light:Wl,hc:Pj},L("overviewRuleInfo","Overview ruler marker color for infos.")),Nme=ce("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},L("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),xme=ce("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},L("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Mme=ce("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},L("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Ame=ce("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Rme=ce("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ome=ce("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),xht=ce("editorBracketHighlight.unexpectedBracket.foreground",{dark:new We(new Dn(255,18,18,.8)),light:new We(new Dn(255,18,18,.8)),hc:new We(new Dn(255,50,50,1))},L("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Mht=ce("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Aht=ce("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Rht=ce("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Oht=ce("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Pht=ce("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Fht=ce("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Bht=ce("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),$ht=ce("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Vht=ce("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Wht=ce("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Hht=ce("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),zht=ce("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));ce("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},L("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));Hi((n,e)=>{const t=n.getColor(Ta);t&&e.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${t}; }`);const i=n.getColor(Lm);i&&e.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);const r=n.getColor(yht);r&&e.addRule(`.monaco-editor .margin { background-color: ${r}; }`);const s=n.getColor(dht);s&&e.addRule(`.monaco-editor .rangeHighlight { background-color: ${s}; }`);const o=n.getColor(hht);o&&e.addRule(`.monaco-editor .rangeHighlight { border: 1px ${n.type==="hc"?"dotted":"solid"} ${o}; }`);const a=n.getColor(fht);a&&e.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const l=n.getColor(ght);l&&e.addRule(`.monaco-editor .symbolHighlight { border: 1px ${n.type==="hc"?"dotted":"solid"} ${l}; }`);const u=n.getColor(f_);u&&(e.addRule(`.monaco-editor .mtkw { color: ${u} !important; }`),e.addRule(`.monaco-editor .mtkz { color: ${u} !important; }`))});class Yy extends Uw{constructor(e){super();this._context=e,this._readConfig(),this._lastCursorModelPosition=new Ae(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(59);const t=e.get(60);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(84);const i=e.get(131);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ae(e,1));if(t.column!==1)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const r=Math.abs(this._lastCursorModelPosition.lineNumber-i);return r===0?'<span class="relative-current-line-number">'+i+"</span>":String(r)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=Ao?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s='<div class="'+Yy.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',o=this._context.model.getLineCount(),a=[];for(let l=i;l<=r;l++){const u=l-i;if(!this._renderFinalNewline&&l===o&&this._context.model.getLineLength(l)===0){a[u]="";continue}const c=this._getLineRenderLineNumber(l);c?l===this._activeLineNumber?a[u]='<div class="active-line-number '+Yy.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+c+"</div>":a[u]=s+c+"</div>":a[u]=""}this._renderResult=a}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Yy.CLASS_NAME="line-numbers";Hi((n,e)=>{const t=n.getColor(Ime);t&&e.addRule(`.monaco-editor .line-numbers { color: ${t}; }`);const i=n.getColor(mht);i&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)});class V_ extends Uu{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(131);this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=Un(document.createElement("div")),this._domNode.setClassName(V_.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Un(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(V_.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}V_.CLASS_NAME="glyph-margin";V_.OUTER_CLASS_NAME="margin";const g_="monaco-mouse-cursor-text";class Uht{constructor(e,t,i,r,s){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=r,this.distanceToModelLineEnd=s,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null}prepareRender(e){const t=new Ae(this.modelLineNumber,this.distanceToModelLineStart+1),i=new Ae(this.modelLineNumber,this._context.model.getModelLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}}const gT=Ul;class jht extends Uu{constructor(e,t,i){super(e);this._primaryCursorPosition=new Ae(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const r=this._context.configuration.options,s=r.get(131);this._setAccessibilityOptions(r),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._contentHeight=s.height,this._fontInfo=r.get(44),this._lineHeight=r.get(59),this._emptySelectionClipboard=r.get(32),this._copyWithSyntaxHighlighting=r.get(21),this._visibleTextArea=null,this._selections=[new vt(1,1,1,1)],this._modelSelections=[new vt(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Un(document.createElement("textarea")),tf.write(this.textArea,6),this.textArea.setClassName(`inputarea ${g_}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(r)),this.textArea.setAttribute("tabindex",String(r.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",L("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),r.get(30)&&r.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=Un(document.createElement("div")),this.textAreaCover.setPosition("absolute");const o={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:u=>this._context.model.getLineMaxColumn(u),getValueInRange:(u,c)=>this._context.model.getValueInRange(u,c)},a={getDataToCopy:()=>{const u=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Gs),c=this._context.model.getEOL(),d=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),h=Array.isArray(u)?u:null,f=Array.isArray(u)?u.join(c):u;let g,p=null;if(t$.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&f.length<65536){const m=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);m&&(g=m.html,p=m.mode)}return{isFromEmptySelection:d,multicursorText:h,text:f,html:g,mode:p}},getScreenReaderContent:u=>{if(this._accessibilitySupport===1){if(kn){const c=this._selections[0];if(c.isEmpty()){const d=c.getStartPosition();let h=this._getWordBeforePosition(d);if(h.length===0&&(h=this._getCharacterBeforePosition(d)),h.length>0)return new yo(h,h.length,h.length,d,d)}}return yo.EMPTY}if(spe){const c=this._selections[0];if(c.isEmpty()){const d=c.getStartPosition(),[h,f]=this._getAndroidWordAtPosition(d);if(h.length>0)return new yo(h,f,f,d,d)}return yo.EMPTY}return mC.fromEditorSelection(u,o,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(u,c,d)=>this._context.model.deduceModelPositionRelativeToViewPosition(u,c,d)},l=this._register(new oht(this.textArea.domNode));this._textAreaInput=this._register(new sht(a,l,mu,Lat)),this._register(this._textAreaInput.onKeyDown(u=>{this._viewController.emitKeyDown(u)})),this._register(this._textAreaInput.onKeyUp(u=>{this._viewController.emitKeyUp(u)})),this._register(this._textAreaInput.onPaste(u=>{let c=!1,d=null,h=null;u.metadata&&(c=this._emptySelectionClipboard&&!!u.metadata.isFromEmptySelection,d=typeof u.metadata.multicursorText!="undefined"?u.metadata.multicursorText:null,h=u.metadata.mode),this._viewController.paste(u.text,c,d,h)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(u=>{u.replacePrevCharCnt||u.replaceNextCharCnt||u.positionDelta?this._viewController.compositionType(u.text,u.replacePrevCharCnt,u.replaceNextCharCnt,u.positionDelta):this._viewController.type(u.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(u=>{this._viewController.setSelection(u)})),this._register(this._textAreaInput.onCompositionStart(u=>{const c=this.textArea.domNode,d=this._modelSelections[0],{distanceToModelLineStart:h,widthOfHiddenTextBefore:f}=(()=>{const p=c.value.substring(0,Math.min(c.selectionStart,c.selectionEnd)),m=p.lastIndexOf(`
`),b=p.substring(m+1),_=b.lastIndexOf("	"),C=b.length-_-1,w=d.getStartPosition(),S=Math.min(w.column-1,C),D=w.column-1-S,E=b.substring(0,b.length-S),I=Kht(E,this._fontInfo);return{distanceToModelLineStart:D,widthOfHiddenTextBefore:I}})(),{distanceToModelLineEnd:g}=(()=>{const p=c.value.substring(Math.max(c.selectionStart,c.selectionEnd)),m=p.indexOf(`
`),b=m===-1?p:p.substring(0,m),_=b.indexOf("	"),C=_===-1?b.length:b.length-_-1,w=d.getEndPosition(),S=Math.min(this._context.model.getModelLineMaxColumn(w.lineNumber)-w.column,C);return{distanceToModelLineEnd:this._context.model.getModelLineMaxColumn(w.lineNumber)-w.column-S}})();this._context.model.revealRange("keyboard",!0,Y.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Uht(this._context,d.startLineNumber,h,f,g),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${g_} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(u=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${g_}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.model.getLineContent(e.lineNumber),r=Bu(t);let s=!0,o=e.column,a=!0,l=e.column,u=0;for(;u<50&&(s||a);){if(s&&o<=1&&(s=!1),s){const c=i.charCodeAt(o-2);r.get(c)!==0?s=!1:o--}if(a&&l>i.length&&(a=!1),a){const c=i.charCodeAt(l-1);r.get(c)!==0?a=!1:l++}u++}return[i.substring(o-1,l-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=Bu(this._context.configuration.options.get(117));let r=e.column,s=0;for(;r>1;){const o=t.charCodeAt(r-2);if(i.get(o)!==0||s>50)return t.substring(r-1,e.column-1);s++,r--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!ps(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){return e.get(2)===1?L("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",Ao?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===qd.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(44),this._lineHeight=t.get(59),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(112))),(e.hasChanged(30)||e.hasChanged(81))&&(t.get(30)&&t.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Ae(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const i=this._visibleTextArea.visibleTextareaStart,r=this._visibleTextArea.visibleTextareaEnd,s=this._visibleTextArea.startPosition,o=this._visibleTextArea.endPosition;if(s&&o&&i&&r&&r.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){const a=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=l*this._lineHeight;let u=this._visibleTextArea.widthOfHiddenLineTextBefore,c=this._contentLeft+i.left-this._scrollLeft,d=r.left-i.left;if(c<this._contentLeft){const b=this._contentLeft-c;c+=b,u+=b,d-=b}d>this._contentWidth&&(d=this._contentWidth),this.textArea.domNode.scrollLeft=u,this._renderInsideEditor(null,a,c,d,this._lineHeight);const h=this._context.model.getViewLineData(s.lineNumber),f=h.tokens.findTokenIndexAtOffset(s.column-1),g=h.tokens.findTokenIndexAtOffset(o.column-1);let p;f===g?p=h.tokens.getPresentation(f):p={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};const m=(dr.getColorMap()||[])[p.foreground];this.textArea.domNode.style.color=m?We.Format.CSS.formatHex(m):"inherit",this.textArea.domNode.style.fontStyle=p.italic?"italic":"inherit",p.bold&&(this.textArea.domNode.style.fontWeight="bold"),this.textArea.domNode.style.textDecoration=`${p.underline?" underline":""}${p.strikethrough?" line-through":""}`}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(kn){this._renderInsideEditor(this._primaryCursorPosition,t,e,gT?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const i=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._renderInsideEditor(this._primaryCursorPosition,t,e,gT?0:1,gT?0:1)}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderInsideEditor(e,t,i,r,s){this._lastRenderPosition=e;const o=this.textArea,a=this.textAreaCover;oo(o,this._fontInfo),o.setTop(t),o.setLeft(i),o.setWidth(r),o.setHeight(s),a.setTop(0),a.setLeft(0),a.setWidth(0),a.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(oo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),gT){e.setWidth(0),e.setHeight(0),t.setWidth(0),t.setHeight(0);return}e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(50)?t.setClassName("monaco-editor-background textAreaCover "+V_.OUTER_CLASS_NAME):i.get(60).renderType!==0?t.setClassName("monaco-editor-background textAreaCover "+Yy.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}function Kht(n,e){if(n.length===0)return 0;const t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const i=document.createElement("span");oo(i,e),i.style.whiteSpace="pre",i.append(n),t.appendChild(i),document.body.appendChild(t);const r=i.offsetWidth;return document.body.removeChild(t),r}class One{constructor(e,t,i){this.range=e,this.nestingLevel=t,this.isInvalid=i}}class Ght{constructor(e,t,i,r){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=r}}class qht extends Ght{constructor(e,t,i,r,s){super(e,t,i,r);this.minVisibleColumnIndentation=s}}class n${constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}n$.zero=new n$(0,0);function Yht(n,e,t,i){return n!==t?Mr(t-n,i):Mr(0,i-e)}const nf=0;function Xht(n){return n===0}const Rl=Math.pow(2,26);function Mr(n,e){return n*Rl+e}function Tm(n){const e=n,t=Math.floor(e/Rl),i=e-t*Rl;return new n$(t,i)}function Zht(n){return Math.floor(n/Rl)}function Jr(n,e){return e<Rl?n+e:n-n%Rl+e}function Qht(n,e){const t=n,i=e;if(i-t<=0)return nf;const s=Math.floor(t/Rl),o=Math.floor(i/Rl),a=i-o*Rl;if(s===o){const l=t-s*Rl;return Mr(0,a-l)}else return Mr(o-s,a)}function Lx(n,e){return n<e}function W0(n,e){return n<=e}function pT(n,e){return n>=e}function mT(n){return Mr(n.lineNumber-1,n.column-1)}function J2(n,e){const t=n,i=Math.floor(t/Rl),r=t-i*Rl,s=e,o=Math.floor(s/Rl),a=s-o*Rl;return new Y(i+1,r+1,o+1,a+1)}function Jht(n){const e=ef(n);return Mr(e.length-1,e[e.length-1].length)}class Pne{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}}class eft{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(i=>Kj.from(i))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):this.documentLength;return Qht(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?Mr(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):Mr(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=Tm(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?Mr(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):Mr(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(W0(i,e)){this.nextEditIdx++;const r=Tm(i),s=Tm(this.translateOldToCur(t.endOffsetBeforeObj)),o=r.lineCount-s.lineCount;this.deltaOldToNewLineCount+=o;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=r.columnCount-s.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class Kj{constructor(e,t,i){this.endOffsetBeforeObj=Tm(t),this.endOffsetAfterObj=Tm(Jr(e,i)),this.offsetObj=Tm(e)}static from(e){return new Kj(e.startOffset,e.endOffset,e.newLength)}}const kx=new Array;class Qr{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&t.length===0){let i=Qr.cache[e];return i||(i=new Qr(e,t),Qr.cache[e]=i),i}return new Qr(e,t)}static getEmpty(){return this.empty}add(e,t){const i=t.getKey(e);let r=i>>5;if(r===0){const o=1<<i|this.items;return o===this.items?this:Qr.create(o,this.additionalItems)}r--;const s=this.additionalItems.slice(0);for(;s.length<r;)s.push(0);return s[r]|=1<<(i&31),Qr.create(this.items,s)}merge(e){const t=this.items|e.items;if(this.additionalItems===kx&&e.additionalItems===kx)return t===this.items?this:t===e.items?e:Qr.create(t,kx);const i=new Array;for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++){const s=this.additionalItems[r]||0,o=e.additionalItems[r]||0;i.push(s|o)}return Qr.create(t,i)}intersects(e){if((this.items&e.items)!==0)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if((this.additionalItems[t]&e.additionalItems[t])!==0)return!0;return!1}}Qr.cache=new Array(129);Qr.empty=Qr.create(0,kx);const Fne={getKey(n){return n}};class Pme{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class Gj{constructor(e){this._length=e}get length(){return this._length}}class Dk extends Gj{constructor(e,t,i,r,s){super(e);this.openingBracket=t,this.child=i,this.closingBracket=r,this.missingOpeningBracketIds=s}static create(e,t,i){let r=e.length;return t&&(r=Jr(r,t.length)),i&&(r=Jr(r,i.length)),new Dk(r,e,t,i,t?t.missingOpeningBracketIds:Qr.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new Dk(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(Jr(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class rf extends Gj{constructor(e,t,i){super(e);this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,r=!1){let s=e.length,o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(s=Jr(s,t.length),o=o.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");s=Jr(s,i.length),o=o.merge(i.missingOpeningBracketIds)}return r?new tft(s,e.listHeight+1,e,t,i,o):new Ik(s,e.listHeight+1,e,t,i,o)}static getEmpty(){return new nft(nf,0,[],Qr.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t=this,i;for(;t.kind===4&&(i=t.childrenLength)>0;)t=t.getChild(i-1);return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const s=this.getChild(r);t=Jr(t,s.length),i=i.merge(s.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,r=e;for(let s=0;s<this.childrenLength;s++){const o=this.getChild(s);o&&(i=Math.min(i,o.computeMinIndentation(r,t)),r=Jr(r,o.length))}return this.cachedMinIndentation=i,i}}class Ik extends rf{constructor(e,t,i,r,s,o){super(e,t,o);this._item1=i,this._item2=r,this._item3=s}get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Ik(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class tft extends Ik{toMutable(){return new Ik(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class DA extends rf{constructor(e,t,i,r){super(e,t,r);this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new DA(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class nft extends DA{toMutable(){return new DA(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const ift=[];class qj extends Gj{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return ift}deepClone(){return this}}class Zb extends qj{get kind(){return 0}get missingOpeningBracketIds(){return Qr.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=Tm(e),r=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,s=Zht(Jr(e,this.length))+1;let o=Number.MAX_SAFE_INTEGER;for(let a=r;a<=s;a++){const l=t.getLineFirstNonWhitespaceColumn(a),u=t.getLineContent(a);if(l===0)continue;const c=gs.visibleColumnFromColumn(u,l,t.getOptions().tabSize);o=Math.min(o,c)}return o}}class IA extends qj{constructor(e,t,i){super(e);this.languageId=t,this.bracketIds=i}static create(e,t,i){return new IA(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return Qr.getEmpty()}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class rft extends qj{constructor(e,t){super(t);this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class Zp{constructor(e,t,i,r,s){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=r,this.astNode=s}}class Fme{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new sft(this.textModel,this.bracketTokens),this._offset=nf,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return Mr(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=Jr(this._offset,e);const t=Tm(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Jr(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class sft{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const s=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=s.length,s}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const s=this.lineTokens,o=s.getCount();let a=null;if(this.lineTokenOffset<o){const l=s.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&l===s.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const u=ko.getTokenType(l)===0,c=s.getEndOffset(this.lineTokenOffset);if(u&&c!==this.lineCharOffset){const d=s.getLanguageId(this.lineTokenOffset),h=this.line.substring(this.lineCharOffset,c),f=this.bracketTokens.getSingleLanguageBracketTokens(d),g=f.regExpGlobal;if(g){g.lastIndex=0;const p=g.exec(h);p&&(a=f.getToken(p[0]),a&&(this.lineCharOffset+=p.index))}}if(i+=c-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=c}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const r=Yht(e,t,this.lineIdx,this.lineCharOffset);return new Zp(r,0,-1,Qr.getEmpty(),new Zb(r))}}class oft{constructor(e,t){this.text=e,this._offset=nf,this.idx=0;const r=t.getRegExpStr()?new RegExp(t.getRegExpStr()+`|
`,"g"):null,s=[];let o,a=0,l=0,u=0,c=0;const d=new Array;for(let g=0;g<60;g++)d.push(new Zp(Mr(0,g),0,-1,Qr.getEmpty(),new Zb(Mr(0,g))));const h=new Array;for(let g=0;g<60;g++)h.push(new Zp(Mr(1,g),0,-1,Qr.getEmpty(),new Zb(Mr(1,g))));if(r)for(r.lastIndex=0;(o=r.exec(e))!==null;){const g=o.index,p=o[0];if(p===`
`)a++,l=g+1;else{if(u!==g){let m;if(c===a){const b=g-u;if(b<d.length)m=d[b];else{const _=Mr(0,b);m=new Zp(_,0,-1,Qr.getEmpty(),new Zb(_))}}else{const b=a-c,_=g-l;if(b===1&&_<h.length)m=h[_];else{const C=Mr(b,_);m=new Zp(C,0,-1,Qr.getEmpty(),new Zb(C))}}s.push(m)}s.push(t.getToken(p)),u=g+p.length,c=a}}const f=e.length;if(u!==f){const g=c===a?Mr(0,f-u):Mr(a-c,f-l);s.push(new Zp(g,0,-1,Qr.getEmpty(),new Zb(g)))}this.length=Mr(a,f-l),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new Xst}}class TA{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(l,u){return t.getKey(`${l}:::${u}`)}const r=e.characterPair.getColorizedBrackets(),s=new Map,o=new Set;for(const[l,u]of r){o.add(l);let c=s.get(u);const d=i(e.languageId,l);c||(c={openingBrackets:Qr.getEmpty(),first:d},s.set(u,c)),c.openingBrackets=c.openingBrackets.add(d,Fne)}const a=new Map;for(const[l,u]of s){const c=Mr(0,l.length);a.set(l,new Zp(c,2,u.first,u.openingBrackets,IA.create(c,e.languageId,u.openingBrackets)))}for(const l of o){const u=Mr(0,l.length),c=i(e.languageId,l),d=Qr.getEmpty().add(c,Fne);a.set(l,new Zp(u,1,c,d,IA.create(u,e.languageId,d)))}return new TA(a)}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>aft(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e)}findClosingTokenText(e){for(const[t,i]of this.map)if(i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function aft(n){const e=Fu(n);return/^[\w ]+$/.test(n)?`\\b${e}\\b`:e}class Bme{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){const t=this.languageIdToBracketTokens.get(e);if(!t)return!1;const i=TA.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==i}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=TA.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function lft(n){if(n.length===0)return null;if(n.length===1)return n[0];let e=0;function t(){if(e>=n.length)return null;const o=e,a=n[o].listHeight;for(e++;e<n.length&&n[e].listHeight===a;)e++;return e-o>=2?$me(o===0&&e===n.length?n:n.slice(o,e),!1):n[o]}let i=t(),r=t();if(!r)return i;for(let o=t();o;o=t())Bne(i,r)<=Bne(r,o)?(i=YF(i,r),r=o):r=YF(r,o);return YF(i,r)}function $me(n,e=!1){if(n.length===0)return null;if(n.length===1)return n[0];let t=n.length;for(;t>3;){const i=t>>1;for(let r=0;r<i;r++){const s=r<<1;n[r]=rf.create23(n[s],n[s+1],s+3===t?n[s+2]:null,e)}t=i}return rf.create23(n[0],n[1],t>=3?n[2]:null,e)}function Bne(n,e){return Math.abs(n.listHeight-e.listHeight)}function YF(n,e){return n.listHeight===e.listHeight?rf.create23(n,e,null,!1):n.listHeight>e.listHeight?uft(n,e):cft(e,n)}function uft(n,e){n=n.toMutable();let t=n;const i=new Array;let r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let s=i.length-1;s>=0;s--){const o=i[s];r?o.childrenLength>=3?r=rf.create23(o.unappendChild(),r,null,!1):(o.appendChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?rf.create23(n,r,null,!1):n}function cft(n,e){n=n.toMutable();let t=n;const i=new Array;for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let r=e;for(let s=i.length-1;s>=0;s--){const o=i[s];r?o.childrenLength>=3?r=rf.create23(r,o.unprependChild(),null,!1):(o.prependChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?rf.create23(r,n,null,!1):n}class dft{constructor(e){this.lastOffset=nf,this.nextNodes=[e],this.offsets=[nf],this.idxs=[]}readLongestNodeAt(e,t){if(Lx(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=RS(this.nextNodes);if(!i)return;const r=RS(this.offsets);if(Lx(e,r))return;if(Lx(r,e))if(Jr(r,i.length)<=e)this.nextNodeAfterCurrent();else{const s=XF(i);s!==-1?(this.nextNodes.push(i.getChild(s)),this.offsets.push(r),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const s=XF(i);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(s)),this.offsets.push(r),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const e=RS(this.offsets),t=RS(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=RS(this.nextNodes),r=XF(i,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(i.getChild(r)),this.offsets.push(Jr(e,t.length)),this.idxs[this.idxs.length-1]=r;break}else this.idxs.pop()}}}function XF(n,e=-1){for(;;){if(e++,e>=n.childrenLength)return-1;if(n.getChild(e))return e}}function RS(n){return n.length>0?n[n.length-1]:void 0}function i$(n,e,t,i){return new hft(n,e,t,i).parseDocument()}class hft{constructor(e,t,i,r){if(this.tokenizer=e,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,i&&r)throw new Error("Not supported");this.oldNodeReader=i?new dft(i):void 0,this.positionMapper=new eft(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Qr.getEmpty());return e||(e=rf.getEmpty()),e}parseList(e){const t=new Array;for(;;){const r=this.tokenizer.peek();if(!r||r.kind===2&&r.bracketIds.intersects(e))break;const s=this.parseChild(e);s.kind===4&&s.childrenLength===0||t.push(s)}return this.oldNodeReader?lft(t):$me(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){const i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!Xht(i)){const r=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),s=>Lx(s.length,i)?s.canBeReused(e):!1);if(r)return this._itemsFromCache++,this.tokenizer.skip(r.length),r}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new rft(t.bracketIds,t.length);case 0:return t.astNode;case 1:{const i=e.merge(t.bracketIds),r=this.parseList(i),s=this.tokenizer.peek();return s&&s.kind===2&&(s.bracketId===t.bracketId||s.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),Dk.create(t.astNode,r,s.astNode)):Dk.create(t.astNode,r,null)}default:throw new Error("unexpected")}}}class fft extends ze{constructor(e,t){super();if(this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new Le,this.denseKeyProvider=new Pme,this.brackets=new Bme(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(e.onBackgroundTokenizationStateChanged(()=>{if(e.backgroundTokenizationState===2){const i=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,i||this.didChangeEmitter.fire()}})),this._register(e.onDidChangeTokens(({ranges:i})=>{const r=i.map(s=>new Pne(Mr(s.fromLineNumber-1,0),Mr(s.toLineNumber,0),Mr(s.toLineNumber-s.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(r,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),e.backgroundTokenizationState===0){const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),r=new oft(this.textModel.getValue(),i);this.initialAstWithoutTokens=i$(r,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else e.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):e.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleContentChanged(e){const t=e.changes.map(i=>{const r=Y.lift(i.range);return new Pne(mT(r.getStartPosition()),mT(r.getEndPosition()),Jht(i.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){const r=t,s=new Fme(this.textModel,this.brackets);return i$(s,e,r,i)}getBracketsInRange(e){const t=Mr(e.startLineNumber-1,e.startColumn-1),i=Mr(e.endLineNumber-1,e.endColumn-1),r=new Array,s=this.initialAstWithoutTokens||this.astWithTokens;return u2(s,nf,s.length,t,i,r),r}getBracketPairsInRange(e,t){const i=new Array,r=mT(e.getStartPosition()),s=mT(e.getEndPosition()),o=this.initialAstWithoutTokens||this.astWithTokens,a=new gft(i,t,this.textModel);return Vme(o,nf,o.length,r,s,a),i}}function u2(n,e,t,i,r,s,o=0){if(n.kind===1){const a=J2(e,t);s.push(new One(a,o-1,!1))}else if(n.kind===3){const a=J2(e,t);s.push(new One(a,o-1,!0))}else if(n.kind===4)for(const a of n.children)t=Jr(e,a.length),W0(e,r)&&pT(t,i)&&u2(a,e,t,i,r,s,o),e=t;else if(n.kind===2){o++;{const a=n.openingBracket;t=Jr(e,a.length),W0(e,r)&&pT(t,i)&&u2(a,e,t,i,r,s,o),e=t}if(n.child){const a=n.child;t=Jr(e,a.length),W0(e,r)&&pT(t,i)&&u2(a,e,t,i,r,s,o),e=t}if(n.closingBracket){const a=n.closingBracket;t=Jr(e,a.length),W0(e,r)&&pT(t,i)&&u2(a,e,t,i,r,s,o),e=t}}}class gft{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}function Vme(n,e,t,i,r,s,o=0){var a;if(n.kind===2){const u=Jr(e,n.openingBracket.length);let c=-1;s.includeMinIndentation&&(c=n.computeMinIndentation(e,s.textModel)),s.result.push(new qht(J2(e,t),J2(e,u),n.closingBracket?J2(Jr(u,((a=n.child)===null||a===void 0?void 0:a.length)||nf),t):void 0,o,c)),o++}let l=e;for(const u of n.children){const c=l;l=Jr(l,u.length),W0(c,r)&&W0(i,l)&&Vme(u,c,l,i,r,s,o)}}class pft extends ze{constructor(e,t){super();this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new da),this.onDidChangeEmitter=new Le,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(e.onDidChangeOptions(i=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(e.onDidChangeLanguage(i=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(i=>{var r;(!i.languageId||((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.didLanguageChange(i.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const e=new it;this.bracketPairsTree.value=mft(e.add(new fft(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketsInRange(e))||[]}findMatchingBracketUp(e,t){const i=e.toLowerCase(),r=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column),o=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!o)return null;const a=o.textIsBracket[i];return a?vT(this._findMatchingBracketUp(a,r,null)):null}matchBracket(e){return this._matchBracket(this.textModel.validatePosition(e))}_establishBracketSearchOffsets(e,t,i,r){const s=t.getCount(),o=t.getLanguageId(r);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let u=r-1;u>=0;u--){const c=t.getEndOffset(u);if(c<=a)break;if(lh(t.getStandardTokenType(u))||t.getLanguageId(u)!==o){a=c;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let u=r+1;u<s;u++){const c=t.getStartOffset(u);if(c>=l)break;if(lh(t.getStandardTokenType(u))||t.getLanguageId(u)!==o){l=c;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e){const t=e.lineNumber,i=this.textModel.getLineTokens(t),r=this.textModel.getLineContent(t),s=i.findTokenIndexAtOffset(e.column-1);if(s<0)return null;const o=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(s)).brackets;if(o&&!lh(i.getStandardTokenType(s))){let{searchStartOffset:a,searchEndOffset:l}=this._establishBracketSearchOffsets(e,i,o,s),u=null;for(;;){const c=uc.findNextBracketInRange(o.forwardRegex,t,r,a,l);if(!c)break;if(c.startColumn<=e.column&&e.column<=c.endColumn){const d=r.substring(c.startColumn-1,c.endColumn-1).toLowerCase(),h=this._matchFoundBracket(c,o.textIsBracket[d],o.textIsOpenBracket[d],null);if(h){if(h instanceof ng)return null;u=h}}a=c.endColumn-1}if(u)return u}if(s>0&&i.getStartOffset(s)===e.column-1){const a=s-1,l=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(a)).brackets;if(l&&!lh(i.getStandardTokenType(a))){const{searchStartOffset:u,searchEndOffset:c}=this._establishBracketSearchOffsets(e,i,l,a),d=uc.findPrevBracketInRange(l.reversedRegex,t,r,u,c);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn){const h=r.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),f=this._matchFoundBracket(d,l.textIsBracket[h],l.textIsOpenBracket[h],null);if(f)return f instanceof ng?null:f}}}return null}_matchFoundBracket(e,t,i,r){if(!t)return null;const s=i?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return s?s instanceof ng?s:[e,s]:null}_findMatchingBracketUp(e,t,i){const r=e.languageId,s=e.reversedRegex;let o=-1,a=0;const l=(u,c,d,h)=>{for(;;){if(i&&++a%100===0&&!i())return ng.INSTANCE;const f=uc.findPrevBracketInRange(s,u,c,d,h);if(!f)break;const g=c.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(g)?o++:e.isClose(g)&&o--,o===0)return f;h=f.startColumn-1}return null};for(let u=t.lineNumber;u>=1;u--){const c=this.textModel.getLineTokens(u),d=c.getCount(),h=this.textModel.getLineContent(u);let f=d-1,g=h.length,p=h.length;u===t.lineNumber&&(f=c.findTokenIndexAtOffset(t.column-1),g=t.column-1,p=t.column-1);let m=!0;for(;f>=0;f--){const b=c.getLanguageId(f)===r&&!lh(c.getStandardTokenType(f));if(b)m?g=c.getStartOffset(f):(g=c.getStartOffset(f),p=c.getEndOffset(f));else if(m&&g!==p){const _=l(u,h,g,p);if(_)return _}m=b}if(m&&g!==p){const b=l(u,h,g,p);if(b)return b}}return null}_findMatchingBracketDown(e,t,i){const r=e.languageId,s=e.forwardRegex;let o=1,a=0;const l=(c,d,h,f)=>{for(;;){if(i&&++a%100===0&&!i())return ng.INSTANCE;const g=uc.findNextBracketInRange(s,c,d,h,f);if(!g)break;const p=d.substring(g.startColumn-1,g.endColumn-1).toLowerCase();if(e.isOpen(p)?o++:e.isClose(p)&&o--,o===0)return g;h=g.endColumn-1}return null},u=this.textModel.getLineCount();for(let c=t.lineNumber;c<=u;c++){const d=this.textModel.getLineTokens(c),h=d.getCount(),f=this.textModel.getLineContent(c);let g=0,p=0,m=0;c===t.lineNumber&&(g=d.findTokenIndexAtOffset(t.column-1),p=t.column-1,m=t.column-1);let b=!0;for(;g<h;g++){const _=d.getLanguageId(g)===r&&!lh(d.getStandardTokenType(g));if(_)b||(p=d.getStartOffset(g)),m=d.getEndOffset(g);else if(b&&p!==m){const C=l(c,f,p,m);if(C)return C}b=_}if(b&&p!==m){const _=l(c,f,p,m);if(_)return _}}return null}findPrevBracket(e){const t=this.textModel.validatePosition(e);let i=null,r=null;for(let s=t.lineNumber;s>=1;s--){const o=this.textModel.getLineTokens(s),a=o.getCount(),l=this.textModel.getLineContent(s);let u=a-1,c=l.length,d=l.length;if(s===t.lineNumber){u=o.findTokenIndexAtOffset(t.column-1),c=t.column-1,d=t.column-1;const f=o.getLanguageId(u);i!==f&&(i=f,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets)}let h=!0;for(;u>=0;u--){const f=o.getLanguageId(u);if(i!==f){if(r&&h&&c!==d){const p=uc.findPrevBracketInRange(r.reversedRegex,s,l,c,d);if(p)return this._toFoundBracket(r,p);h=!1}i=f,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets}const g=!!r&&!lh(o.getStandardTokenType(u));if(g)h?c=o.getStartOffset(u):(c=o.getStartOffset(u),d=o.getEndOffset(u));else if(r&&h&&c!==d){const p=uc.findPrevBracketInRange(r.reversedRegex,s,l,c,d);if(p)return this._toFoundBracket(r,p)}h=g}if(r&&h&&c!==d){const f=uc.findPrevBracketInRange(r.reversedRegex,s,l,c,d);if(f)return this._toFoundBracket(r,f)}}return null}findNextBracket(e){const t=this.textModel.validatePosition(e),i=this.textModel.getLineCount();let r=null,s=null;for(let o=t.lineNumber;o<=i;o++){const a=this.textModel.getLineTokens(o),l=a.getCount(),u=this.textModel.getLineContent(o);let c=0,d=0,h=0;if(o===t.lineNumber){c=a.findTokenIndexAtOffset(t.column-1),d=t.column-1,h=t.column-1;const g=a.getLanguageId(c);r!==g&&(r=g,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets)}let f=!0;for(;c<l;c++){const g=a.getLanguageId(c);if(r!==g){if(s&&f&&d!==h){const m=uc.findNextBracketInRange(s.forwardRegex,o,u,d,h);if(m)return this._toFoundBracket(s,m);f=!1}r=g,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets}const p=!!s&&!lh(a.getStandardTokenType(c));if(p)f||(d=a.getStartOffset(c)),h=a.getEndOffset(c);else if(s&&f&&d!==h){const m=uc.findNextBracketInRange(s.forwardRegex,o,u,d,h);if(m)return this._toFoundBracket(s,m)}f=p}if(s&&f&&d!==h){const g=uc.findNextBracketInRange(s.forwardRegex,o,u,d,h);if(g)return this._toFoundBracket(s,g)}}return null}findEnclosingBrackets(e,t){let i;if(typeof t=="undefined")i=null;else{const f=Date.now();i=()=>Date.now()-f<=t}const r=this.textModel.validatePosition(e),s=this.textModel.getLineCount(),o=new Map;let a=[];const l=(f,g)=>{if(!o.has(f)){const p=[];for(let m=0,b=g?g.brackets.length:0;m<b;m++)p[m]=0;o.set(f,p)}a=o.get(f)};let u=0;const c=(f,g,p,m,b)=>{for(;;){if(i&&++u%100===0&&!i())return ng.INSTANCE;const _=uc.findNextBracketInRange(f.forwardRegex,g,p,m,b);if(!_)break;const C=p.substring(_.startColumn-1,_.endColumn-1).toLowerCase(),w=f.textIsBracket[C];if(w&&(w.isOpen(C)?a[w.index]++:w.isClose(C)&&a[w.index]--,a[w.index]===-1))return this._matchFoundBracket(_,w,!1,i);m=_.endColumn-1}return null};let d=null,h=null;for(let f=r.lineNumber;f<=s;f++){const g=this.textModel.getLineTokens(f),p=g.getCount(),m=this.textModel.getLineContent(f);let b=0,_=0,C=0;if(f===r.lineNumber){b=g.findTokenIndexAtOffset(r.column-1),_=r.column-1,C=r.column-1;const S=g.getLanguageId(b);d!==S&&(d=S,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l(d,h))}let w=!0;for(;b<p;b++){const S=g.getLanguageId(b);if(d!==S){if(h&&w&&_!==C){const E=c(h,f,m,_,C);if(E)return vT(E);w=!1}d=S,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l(d,h)}const D=!!h&&!lh(g.getStandardTokenType(b));if(D)w||(_=g.getStartOffset(b)),C=g.getEndOffset(b);else if(h&&w&&_!==C){const E=c(h,f,m,_,C);if(E)return vT(E)}w=D}if(h&&w&&_!==C){const S=c(h,f,m,_,C);if(S)return vT(S)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const r=e.textIsBracket[i];return r?{range:t,open:r.open,close:r.close,isOpen:e.textIsOpenBracket[i]}:null}}function mft(n,e){return{object:n,dispose:()=>e==null?void 0:e.dispose()}}class ng{constructor(){this._searchCanceledBrand=void 0}}ng.INSTANCE=new ng;function vT(n){return n instanceof ng?null:n}class vft extends ze{constructor(e){super();this.textModel=e,this.colorProvider=new Wme,this.onDidChangeEmitter=new Le,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.onDidChangeOptions(t=>{this.colorizationOptions=e.getOptions().bracketPairColorizationOptions})),this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(e,t,i){if(t===void 0)return[];if(!this.colorizationOptions.enabled)return[];const r=new Array,s=this.textModel.bracketPairs.getBracketsInRange(e);for(const o of s)r.push({id:`bracket${o.range.toString()}-${o.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(o)},ownerId:0,range:o.range});return r}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new Y(1,1,this.textModel.getLineCount(),1),e,t):[]}}class Wme{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}Hi((n,e)=>{const t=[Nme,xme,Mme,Ame,Rme,Ome],i=new Wme;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${n.getColor(xht)}; }`);const r=t.map(s=>n.getColor(s)).filter(s=>!!s).filter(s=>!s.isTransparent());for(let s=0;s<30;s++){const o=r[s%r.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(s)} { color: ${o}; }`)}});function _T(n){return n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Qs{constructor(e,t,i,r){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=r}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${_T(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${_T(this.oldText)}")`:`(replace@${this.oldPosition} "${_T(this.oldText)}" with "${_T(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const r=t.length;sd(e,r,i),i+=4;for(let s=0;s<r;s++)Pat(e,t.charCodeAt(s),i),i+=2;return i}static _readString(e,t){const i=rd(e,t);return t+=4,I7(e,t,i)}writeSize(){return 4+4+Qs._writeStringSize(this.oldText)+Qs._writeStringSize(this.newText)}write(e,t){return sd(e,this.oldPosition,t),t+=4,sd(e,this.newPosition,t),t+=4,t=Qs._writeString(e,this.oldText,t),t=Qs._writeString(e,this.newText,t),t}static read(e,t,i){const r=rd(e,t);t+=4;const s=rd(e,t);t+=4;const o=Qs._readString(e,t);t+=Qs._writeStringSize(o);const a=Qs._readString(e,t);return t+=Qs._writeStringSize(a),i.push(new Qs(r,o,s,a)),t}}function _ft(n,e){return n===null||n.length===0?e:new dh(n,e).compress()}class dh{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldEnd<=i.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(i.newEnd<=r.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldPosition<i.newPosition){const[u,c]=dh._splitCurr(r,i.newPosition-r.oldPosition);this._acceptCurr(u),r=c;continue}if(i.newPosition<r.oldPosition){const[u,c]=dh._splitPrev(i,r.oldPosition-i.newPosition);this._acceptPrev(u),i=c;continue}let a,l;if(r.oldEnd===i.newEnd)a=i,l=r,i=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<i.newEnd){const[u,c]=dh._splitPrev(i,r.oldLength);a=u,l=r,i=c,r=this._getCurr(++t)}else{const[u,c]=dh._splitCurr(r,i.newLength);a=i,l=u,i=this._getPrev(++e),r=c}this._result[this._resultLen++]=new Qs(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const s=dh._merge(this._result);return dh._removeNoOps(s)}_acceptCurr(e){this._result[this._resultLen++]=dh._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=dh._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Qs(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Qs(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),r=e.newText.substr(t);return[new Qs(e.oldPosition,e.oldText,e.newPosition,i),new Qs(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new Qs(e.oldPosition,i,e.newPosition,e.newText),new Qs(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,r=e[0];for(let s=1;s<e.length;s++){const o=e[s];r.oldEnd===o.oldPosition?r=new Qs(r.oldPosition,r.oldText+o.oldText,r.newPosition,r.newText+o.newText):(t[i++]=r,r=o)}return t[i++]=r,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let r=0;r<e.length;r++){const s=e[r];s.oldText!==s.newText&&(t[i++]=s)}return t}}function uh(n){return ZM(n,!0)}class Yj{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:dk(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===on.file)return B9(uh(e),uh(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(Vne(e.authority,t.authority))return B9(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return zt.joinPath(e,...t)}basenameOrAuthority(e){return Wu(e)||e.authority}basename(e){return zr.basename(e.path)}extname(e){return zr.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===on.file?t=zt.file(Oge(uh(e))).path:(t=zr.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===on.file?t=zt.file(KU(uh(e))).path:t=zr.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!Vne(e.authority,t.authority))return;if(e.scheme===on.file){const s=hot(uh(e),uh(t));return Gs?Yge(s):s}let i=e.path||"/",r=t.path||"/";if(this._ignorePathCasing(e)){let s=0;for(const o=Math.min(i.length,r.length);s<o&&!(i.charCodeAt(s)!==r.charCodeAt(s)&&i.charAt(s).toLowerCase()!==r.charAt(s).toLowerCase());s++);i=r.substr(0,s)+i.substr(s)}return zr.relative(i,r)}resolvePath(e,t){if(e.scheme===on.file){const i=zt.file(dot(uh(e),t));return e.with({authority:i.authority,path:i.path})}return t=qot(t),e.with({path:zr.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&cC(e,t)}hasTrailingPathSeparator(e,t=Uh){if(e.scheme===on.file){const i=uh(e);return i.length>Tte(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=Uh){return Wne(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=Uh){let i=!1;if(e.scheme===on.file){const r=uh(e);i=r!==void 0&&r.length===Tte(r).length&&r[r.length-1]===t}else{t="/";const r=e.path;i=r.length===1&&r.charCodeAt(r.length-1)===47}return!i&&!Wne(e,t)?e.with({path:e.path+"/"}):e}}const Wi=new Yj(()=>!1);new Yj(n=>n.scheme===on.file?!Ao:!0);new Yj(n=>!0);const Hme=Wi.isEqual.bind(Wi);Wi.isEqualOrParent.bind(Wi);Wi.getComparisonKey.bind(Wi);const zme=Wi.basenameOrAuthority.bind(Wi),Wu=Wi.basename.bind(Wi),bft=Wi.extname.bind(Wi),Xj=Wi.dirname.bind(Wi),Cft=Wi.joinPath.bind(Wi),yft=Wi.normalizePath.bind(Wi);Wi.relativePath.bind(Wi);const $ne=Wi.resolvePath.bind(Wi);Wi.isAbsolutePath.bind(Wi);const Vne=Wi.isEqualAuthority.bind(Wi),Wne=Wi.hasTrailingPathSeparator.bind(Wi);Wi.removeTrailingPathSeparator.bind(Wi);Wi.addTrailingPathSeparator.bind(Wi);var ev;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(o=>{const[a,l]=o.split(":");a&&l&&i.set(a,l)});const s=t.path.substring(0,t.path.indexOf(";"));return s&&i.set(n.META_DATA_MIME,s),i}n.parseMetaData=e})(ev||(ev={}));function Lb(n){return n.toString()}class Is{constructor(e,t,i,r,s,o,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=r,this.beforeCursorState=s,this.afterCursorState=o,this.changes=a}static create(e,t){const i=e.getAlternativeVersionId(),r=r$(e);return new Is(i,i,r,r,t,t,[])}append(e,t,i,r,s){t.length>0&&(this.changes=_ft(this.changes,t)),this.afterEOL=i,this.afterVersionId=r,this.afterCursorState=s}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(sd(e,t?t.length:0,i),i+=4,t)for(const r of t)sd(e,r.selectionStartLineNumber,i),i+=4,sd(e,r.selectionStartColumn,i),i+=4,sd(e,r.positionLineNumber,i),i+=4,sd(e,r.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const r=rd(e,t);t+=4;for(let s=0;s<r;s++){const o=rd(e,t);t+=4;const a=rd(e,t);t+=4;const l=rd(e,t);t+=4;const u=rd(e,t);t+=4,i.push(new vt(o,a,l,u))}return t}serialize(){let e=10+Is._writeSelectionsSize(this.beforeCursorState)+Is._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let i=0;sd(t,this.beforeVersionId,i),i+=4,sd(t,this.afterVersionId,i),i+=4,zte(t,this.beforeEOL,i),i+=1,zte(t,this.afterEOL,i),i+=1,i=Is._writeSelections(t,this.beforeCursorState,i),i=Is._writeSelections(t,this.afterCursorState,i),sd(t,this.changes.length,i),i+=4;for(const r of this.changes)i=r.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const r=rd(t,i);i+=4;const s=rd(t,i);i+=4;const o=Hte(t,i);i+=1;const a=Hte(t,i);i+=1;const l=[];i=Is._readSelections(t,i,l);const u=[];i=Is._readSelections(t,i,u);const c=rd(t,i);i+=4;const d=[];for(let h=0;h<c;h++)i=Qs.read(t,i,d);return new Is(r,s,o,a,l,u,d)}}class Ume{constructor(e,t){this.model=e,this._data=Is.create(e,t)}get type(){return 0}get resource(){return zt.isUri(this.model)?this.model:this.model.uri}get label(){return L("edit","Typing")}toString(){return(this._data instanceof Is?this._data:Is.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(zt.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Is}append(e,t,i,r,s){this._data instanceof Is&&this._data.append(e,t,i,r,s)}close(){this._data instanceof Is&&(this._data=this._data.serialize())}open(){this._data instanceof Is||(this._data=Is.deserialize(this._data))}undo(){if(zt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Is&&(this._data=this._data.serialize());const e=Is.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(zt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Is&&(this._data=this._data.serialize());const e=Is.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof Is&&(this._data=this._data.serialize()),this._data.byteLength+168}}class wft{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const r=Lb(i.resource);this._editStackElementsMap.set(r,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=Lb(e);return this._editStackElementsMap.has(t)}setModel(e){const t=Lb(zt.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=Lb(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,r,s){const o=Lb(e.uri);this._editStackElementsMap.get(o).append(e,t,i,r,s)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=Lb(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${Wu(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function r$(n){return n.getEOL()===`
`?0:1}function ig(n){return n?n instanceof Ume||n instanceof wft:!1}class Zj{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);ig(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);ig(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(ig(t)&&t.canAppend(this._model))return t;const i=new Ume(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],r$(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const r=this._getOrCreateEditStackElement(e),s=this._model.applyEdits(t,!0),o=Zj._computeCursorState(i,s),a=s.map((l,u)=>({index:u,textChange:l.textChange}));return a.sort((l,u)=>l.textChange.oldPosition===u.textChange.oldPosition?l.index-u.index:l.textChange.oldPosition-u.textChange.oldPosition),r.append(this._model,a.map(l=>l.textChange),r$(this._model),this._model.getAlternativeVersionId(),o),o}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return Qt(i),null}}}class Sft{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function L4(n,e){let t=0,i=0;const r=n.length;for(;i<r;){const s=n.charCodeAt(i);if(s===32)t++;else if(s===9)t=t-t%e+e;else break;i++}return i===r?-1:t}var p_;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(p_||(p_={}));class vC{constructor(e,t,i){this.visibleColumn=e,this.className=t,this.horizontalLine=i}}class s${constructor(e,t){this.top=e,this.endColumn=t}}class Lft extends Sft{constructor(e,t){super();this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return L4(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r)throw new Error("Illegal value for lineNumber");const s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(s&&s.offSide);let a=-2,l=-1,u=-2,c=-1;const d=E=>{if(a!==-1&&(a===-2||a>E-1)){a=-1,l=-1;for(let I=E-2;I>=0;I--){const T=this._computeIndentLevel(I);if(T>=0){a=I,l=T;break}}}if(u===-2){u=-1,c=-1;for(let I=E;I<r;I++){const T=this._computeIndentLevel(I);if(T>=0){u=I,c=T;break}}}};let h=-2,f=-1,g=-2,p=-1;const m=E=>{if(h===-2){h=-1,f=-1;for(let I=E-2;I>=0;I--){const T=this._computeIndentLevel(I);if(T>=0){h=I,f=T;break}}}if(g!==-1&&(g===-2||g<E-1)){g=-1,p=-1;for(let I=E;I<r;I++){const T=this._computeIndentLevel(I);if(T>=0){g=I,p=T;break}}}};let b=0,_=!0,C=0,w=!0,S=0,D=0;for(let E=0;_||w;E++){const I=e-E,T=e+E;E>1&&(I<1||I<t)&&(_=!1),E>1&&(T>r||T>i)&&(w=!1),E>5e4&&(_=!1,w=!1);let M=-1;if(_&&I>=1){const O=this._computeIndentLevel(I-1);O>=0?(u=I-1,c=O,M=Math.ceil(O/this.textModel.getOptions().indentSize)):(d(I),M=this._getIndentLevelForWhitespaceLine(o,l,c))}let A=-1;if(w&&T<=r){const O=this._computeIndentLevel(T-1);O>=0?(h=T-1,f=O,A=Math.ceil(O/this.textModel.getOptions().indentSize)):(m(T),A=this._getIndentLevelForWhitespaceLine(o,f,p))}if(E===0){D=M;continue}if(E===1){if(T<=r&&A>=0&&D+1===A){_=!1,b=T,C=T,S=A;continue}if(I>=1&&M>=0&&M-1===D){w=!1,b=I,C=I,S=M;continue}if(b=e,C=e,S=D,S===0)return{startLineNumber:b,endLineNumber:C,indent:S}}_&&(M>=S?b=I:_=!1),w&&(A>=S?C=T:w=!1)}return{startLineNumber:b,endLineNumber:C,indent:S}}getLinesBracketGuides(e,t,i,r){var s,o,a,l,u;const c=[],d=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new Y(e,1,t,this.textModel.getLineMaxColumn(t)));let h;if(i&&d.length>0){const b=e<=i.lineNumber&&i.lineNumber<=t?d.filter(_=>Y.strictContainsPosition(_.range,i)):this.textModel.bracketPairs.getBracketPairsInRange(Y.fromPositions(i));h=(s=Jrt(b,_=>_.range.startLineNumber!==_.range.endLineNumber))===null||s===void 0?void 0:s.range}const f=new Oy(d),g=new Array,p=new Array,m=new jme;for(let b=e;b<=t;b++){let _=new Array;p.length>0&&(_=_.concat(p),p.length=0),c.push(_);for(const w of f.takeWhile(S=>S.openingBracketRange.startLineNumber<=b)||[]){if(w.range.startLineNumber===w.range.endLineNumber)continue;const S=Math.min(this.getVisibleColumnFromPosition(w.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((a=(o=w.closingBracketRange)===null||o===void 0?void 0:o.getStartPosition())!==null&&a!==void 0?a:w.range.getEndPosition()),w.minVisibleColumnIndentation+1);let D=!1;w.closingBracketRange&&oa(this.textModel.getLineContent(w.closingBracketRange.startLineNumber))<w.closingBracketRange.startColumn-1&&(D=!0);const E=w.openingBracketRange.getStartPosition(),I=(u=(l=w.closingBracketRange)===null||l===void 0?void 0:l.getStartPosition())!==null&&u!==void 0?u:w.range.getEndPosition();w.closingBracketRange===void 0?g[w.nestingLevel]=null:g[w.nestingLevel]={nestingLevel:w.nestingLevel,guideVisibleColumn:S,start:E,visibleStartColumn:this.getVisibleColumnFromPosition(E),end:I,visibleEndColumn:this.getVisibleColumnFromPosition(I),bracketPair:w,renderHorizontalEndLineAtTheBottom:D}}for(const w of g){if(!w)continue;const S=h&&w.bracketPair.range.equalsRange(h),D=m.getInlineClassNameOfLevel(w.nestingLevel)+(r.highlightActive&&S?" "+m.activeClassName:"");(S&&r.horizontalGuides!==p_.Disabled||r.includeInactive&&r.horizontalGuides===p_.Enabled)&&(w.start.lineNumber===b&&w.guideVisibleColumn<w.visibleStartColumn&&_.push(new vC(w.guideVisibleColumn,D,new s$(!1,w.start.column))),w.end.lineNumber===b+1&&w.guideVisibleColumn<w.visibleEndColumn&&p.push(new vC(w.guideVisibleColumn,D,new s$(!w.renderHorizontalEndLineAtTheBottom,w.end.column))))}let C=Number.MAX_SAFE_INTEGER;for(let w=g.length-1;w>=0;w--){const S=g[w];if(!S)continue;const D=r.highlightActive&&h&&S.bracketPair.range.equalsRange(h),E=m.getInlineClassNameOfLevel(S.nestingLevel)+(D?" "+m.activeClassName:"");(D||r.includeInactive)&&S.renderHorizontalEndLineAtTheBottom&&S.end.lineNumber===b+1&&p.push(new vC(S.guideVisibleColumn,E,null)),!(S.end.lineNumber<=b||S.start.lineNumber>=b)&&(S.guideVisibleColumn>=C&&!D||(C=S.guideVisibleColumn,(D||r.includeInactive)&&_.push(new vC(S.guideVisibleColumn,E,null))))}_.sort((w,S)=>w.visibleColumn-S.visibleColumn)}return c}getVisibleColumnFromPosition(e){return gs.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const r=this.textModel.getOptions(),s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(s&&s.offSide),a=new Array(t-e+1);let l=-2,u=-1,c=-2,d=-1;for(let h=e;h<=t;h++){const f=h-e,g=this._computeIndentLevel(h-1);if(g>=0){l=h-1,u=g,a[f]=Math.ceil(g/r.indentSize);continue}if(l===-2){l=-1,u=-1;for(let p=h-2;p>=0;p--){const m=this._computeIndentLevel(p);if(m>=0){l=p,u=m;break}}}if(c!==-1&&(c===-2||c<h-1)){c=-1,d=-1;for(let p=h;p<i;p++){const m=this._computeIndentLevel(p);if(m>=0){c=p,d=m;break}}}a[f]=this._getIndentLevelForWhitespaceLine(o,u,d)}return a}_getIndentLevelForWhitespaceLine(e,t,i){const r=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/r.indentSize):t===i||e?Math.ceil(i/r.indentSize):1+Math.floor(i/r.indentSize)}}class jme{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class kft{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Eft(n,e,t,i,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let s;for(s=0;s<e&&s<i;s++){const h=n.charCodeAt(s),f=t.charCodeAt(s);if(h!==f)break}let o=0,a=0;for(let h=s;h<e;h++)n.charCodeAt(h)===32?o++:a++;let l=0,u=0;for(let h=s;h<i;h++)t.charCodeAt(h)===32?l++:u++;if(o>0&&a>0||l>0&&u>0)return;const c=Math.abs(a-u),d=Math.abs(o-l);if(c===0){r.spacesDiff=d,d>0&&0<=l-1&&l-1<n.length&&l<t.length&&t.charCodeAt(l)!==32&&n.charCodeAt(l-1)===32&&n.charCodeAt(n.length-1)===44&&(r.looksLikeAlignment=!0);return}if(d%c===0){r.spacesDiff=d/c;return}}function Hne(n,e,t){const i=Math.min(n.getLineCount(),1e4);let r=0,s=0,o="",a=0;const l=[2,4,6,8,3,5,7],u=8,c=[0,0,0,0,0,0,0,0,0],d=new kft;for(let g=1;g<=i;g++){const p=n.getLineLength(g),m=n.getLineContent(g),b=p<=65536;let _=!1,C=0,w=0,S=0;for(let E=0,I=p;E<I;E++){const T=b?m.charCodeAt(E):n.getLineCharCode(g,E);if(T===9)S++;else if(T===32)w++;else{_=!0,C=E;break}}if(!_||(S>0?r++:w>1&&s++,Eft(o,a,m,C,d),d.looksLikeAlignment&&!(t&&e===d.spacesDiff)))continue;const D=d.spacesDiff;D<=u&&c[D]++,o=m,a=C}let h=t;r!==s&&(h=r<s);let f=e;if(h){let g=h?0:.1*i;l.forEach(p=>{const m=c[p];m>g&&(g=m,f=p)}),f===4&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(f=2)}return{insertSpaces:h,tabSize:f}}function ba(n){return(n.metadata&1)>>>0}function Pi(n,e){n.metadata=n.metadata&254|e<<0}function ao(n){return(n.metadata&2)>>>1===1}function Ri(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function Kme(n){return(n.metadata&4)>>>2===1}function zne(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function Dft(n){return(n.metadata&24)>>>3}function Une(n,e){n.metadata=n.metadata&231|e<<3}function Ift(n){return(n.metadata&32)>>>5===1}function jne(n,e){n.metadata=n.metadata&223|(e?1:0)<<5}class Gme{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Pi(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,zne(this,!1),Une(this,1),jne(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Ri(this,!1)}reset(e,t,i,r){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=r}setOptions(e){this.options=e;const t=this.options.className;zne(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),Une(this,this.options.stickiness),jne(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const ln=new Gme(null,0,0);ln.parent=ln;ln.left=ln;ln.right=ln;Pi(ln,0);class ZF{constructor(){this.root=ln,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,r,s){return this.root===ln?[]:Pft(this,e,t,i,r,s)}search(e,t,i){return this.root===ln?[]:Oft(this,e,t,i)}collectNodesFromOwner(e){return Aft(this,e)}collectNodesPostOrder(){return Rft(this)}insert(e){Kne(this,e),this._normalizeDeltaIfNecessary()}delete(e){Gne(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;const s=i.start+r,o=i.end+r;i.setCachedOffsets(s,o,t)}acceptReplace(e,t,i,r){const s=xft(this,e,e+t);for(let o=0,a=s.length;o<a;o++){const l=s[o];Gne(this,l)}this._normalizeDeltaIfNecessary(),Mft(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let o=0,a=s.length;o<a;o++){const l=s[o];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,Nft(l,e,e+t,i,r),l.maxEnd=l.end,Kne(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,Tft(this))}}function Tft(n){let e=n.root,t=0;for(;e!==ln;){if(e.left!==ln&&!ao(e.left)){e=e.left;continue}if(e.right!==ln&&!ao(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,tv(e),Ri(e,!0),Ri(e.left,!1),Ri(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Ri(n.root,!1)}function kb(n,e,t,i){return n<t?!0:n>t||i===1?!1:i===2?!0:e}function Nft(n,e,t,i,r){const s=Dft(n),o=s===0||s===2,a=s===1||s===2,l=t-e,u=i,c=Math.min(l,u),d=n.start;let h=!1;const f=n.end;let g=!1;e<=d&&f<=t&&Ift(n)&&(n.start=e,h=!0,n.end=e,g=!0);{const m=r?1:l>0?2:0;!h&&kb(d,o,e,m)&&(h=!0),!g&&kb(f,a,e,m)&&(g=!0)}if(c>0&&!r){const m=l>u?2:0;!h&&kb(d,o,e+c,m)&&(h=!0),!g&&kb(f,a,e+c,m)&&(g=!0)}{const m=r?1:0;!h&&kb(d,o,t,m)&&(n.start=e+u,h=!0),!g&&kb(f,a,t,m)&&(n.end=e+u,g=!0)}const p=u-l;h||(n.start=Math.max(0,d+p)),g||(n.end=Math.max(0,f+p)),n.start>n.end&&(n.end=n.start)}function xft(n,e,t){let i=n.root,r=0,s=0,o=0,a=0;const l=[];let u=0;for(;i!==ln;){if(ao(i)){Ri(i.left,!1),Ri(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;continue}if(!ao(i.left)){if(s=r+i.maxEnd,s<e){Ri(i,!0);continue}if(i.left!==ln){i=i.left;continue}}if(o=r+i.start,o>t){Ri(i,!0);continue}if(a=r+i.end,a>=e&&(i.setCachedOffsets(o,a,0),l[u++]=i),Ri(i,!0),i.right!==ln&&!ao(i.right)){r+=i.delta,i=i.right;continue}}return Ri(n.root,!1),l}function Mft(n,e,t,i){let r=n.root,s=0,o=0,a=0;const l=i-(t-e);for(;r!==ln;){if(ao(r)){Ri(r.left,!1),Ri(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),tv(r),r=r.parent;continue}if(!ao(r.left)){if(o=s+r.maxEnd,o<e){Ri(r,!0);continue}if(r.left!==ln){r=r.left;continue}}if(a=s+r.start,a>t){r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(n.requestNormalizeDelta=!0),Ri(r,!0);continue}if(Ri(r,!0),r.right!==ln&&!ao(r.right)){s+=r.delta,r=r.right;continue}}Ri(n.root,!1)}function Aft(n,e){let t=n.root;const i=[];let r=0;for(;t!==ln;){if(ao(t)){Ri(t.left,!1),Ri(t.right,!1),t=t.parent;continue}if(t.left!==ln&&!ao(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[r++]=t),Ri(t,!0),t.right!==ln&&!ao(t.right)){t=t.right;continue}}return Ri(n.root,!1),i}function Rft(n){let e=n.root;const t=[];let i=0;for(;e!==ln;){if(ao(e)){Ri(e.left,!1),Ri(e.right,!1),e=e.parent;continue}if(e.left!==ln&&!ao(e.left)){e=e.left;continue}if(e.right!==ln&&!ao(e.right)){e=e.right;continue}t[i++]=e,Ri(e,!0)}return Ri(n.root,!1),t}function Oft(n,e,t,i){let r=n.root,s=0,o=0,a=0;const l=[];let u=0;for(;r!==ln;){if(ao(r)){Ri(r.left,!1),Ri(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),r=r.parent;continue}if(r.left!==ln&&!ao(r.left)){r=r.left;continue}o=s+r.start,a=s+r.end,r.setCachedOffsets(o,a,i);let c=!0;if(e&&r.ownerId&&r.ownerId!==e&&(c=!1),t&&Kme(r)&&(c=!1),c&&(l[u++]=r),Ri(r,!0),r.right!==ln&&!ao(r.right)){s+=r.delta,r=r.right;continue}}return Ri(n.root,!1),l}function Pft(n,e,t,i,r,s){let o=n.root,a=0,l=0,u=0,c=0;const d=[];let h=0;for(;o!==ln;){if(ao(o)){Ri(o.left,!1),Ri(o.right,!1),o===o.parent.right&&(a-=o.parent.delta),o=o.parent;continue}if(!ao(o.left)){if(l=a+o.maxEnd,l<e){Ri(o,!0);continue}if(o.left!==ln){o=o.left;continue}}if(u=a+o.start,u>t){Ri(o,!0);continue}if(c=a+o.end,c>=e){o.setCachedOffsets(u,c,s);let f=!0;i&&o.ownerId&&o.ownerId!==i&&(f=!1),r&&Kme(o)&&(f=!1),f&&(d[h++]=o)}if(Ri(o,!0),o.right!==ln&&!ao(o.right)){a+=o.delta,o=o.right;continue}}return Ri(n.root,!1),d}function Kne(n,e){if(n.root===ln)return e.parent=ln,e.left=ln,e.right=ln,Pi(e,0),n.root=e,n.root;Fft(n,e),Hp(e.parent);let t=e;for(;t!==n.root&&ba(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;ba(i)===1?(Pi(t.parent,0),Pi(i,0),Pi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,eL(n,t)),Pi(t.parent,0),Pi(t.parent.parent,1),tL(n,t.parent.parent))}else{const i=t.parent.parent.left;ba(i)===1?(Pi(t.parent,0),Pi(i,0),Pi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,tL(n,t)),Pi(t.parent,0),Pi(t.parent.parent,1),eL(n,t.parent.parent))}return Pi(n.root,0),e}function Fft(n,e){let t=0,i=n.root;const r=e.start,s=e.end;for(;;)if($ft(r,s,i.start+t,i.end+t)<0)if(i.left===ln){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===ln){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=ln,e.right=ln,Pi(e,1)}function Gne(n,e){let t,i;if(e.left===ln?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===ln?(t=e.left,i=e):(i=Bft(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0)),i===n.root){n.root=t,Pi(t,0),e.detach(),QF(),tv(t),n.root.parent=ln;return}const r=ba(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,Pi(i,ba(e)),e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==ln&&(i.left.parent=i),i.right!==ln&&(i.right.parent=i)),e.detach(),r){Hp(t.parent),i!==e&&(Hp(i),Hp(i.parent)),QF();return}Hp(t),Hp(t.parent),i!==e&&(Hp(i),Hp(i.parent));let s;for(;t!==n.root&&ba(t)===0;)t===t.parent.left?(s=t.parent.right,ba(s)===1&&(Pi(s,0),Pi(t.parent,1),eL(n,t.parent),s=t.parent.right),ba(s.left)===0&&ba(s.right)===0?(Pi(s,1),t=t.parent):(ba(s.right)===0&&(Pi(s.left,0),Pi(s,1),tL(n,s),s=t.parent.right),Pi(s,ba(t.parent)),Pi(t.parent,0),Pi(s.right,0),eL(n,t.parent),t=n.root)):(s=t.parent.left,ba(s)===1&&(Pi(s,0),Pi(t.parent,1),tL(n,t.parent),s=t.parent.left),ba(s.left)===0&&ba(s.right)===0?(Pi(s,1),t=t.parent):(ba(s.left)===0&&(Pi(s.right,0),Pi(s,1),eL(n,s),s=t.parent.left),Pi(s,ba(t.parent)),Pi(t.parent,0),Pi(s.left,0),tL(n,t.parent),t=n.root));Pi(t,0),QF()}function Bft(n){for(;n.left!==ln;)n=n.left;return n}function QF(){ln.parent=ln,ln.delta=0,ln.start=0,ln.end=0}function eL(n,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==ln&&(t.left.parent=e),t.parent=e.parent,e.parent===ln?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,tv(e),tv(t)}function tL(n,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==ln&&(t.right.parent=e),t.parent=e.parent,e.parent===ln?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,tv(e),tv(t)}function qme(n){let e=n.end;if(n.left!==ln){const t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==ln){const t=n.right.maxEnd+n.delta;t>e&&(e=t)}return e}function tv(n){n.maxEnd=qme(n)}function Hp(n){for(;n!==ln;){const e=qme(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function $ft(n,e,t,i){return n===t?e-i:n-t}class o${constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Yt)return Qj(this.right);let e=this;for(;e.parent!==Yt&&e.parent.left!==e;)e=e.parent;return e.parent===Yt?Yt:e.parent}prev(){if(this.left!==Yt)return Yme(this.left);let e=this;for(;e.parent!==Yt&&e.parent.right!==e;)e=e.parent;return e.parent===Yt?Yt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Yt=new o$(null,0);Yt.parent=Yt;Yt.left=Yt;Yt.right=Yt;Yt.color=0;function Qj(n){for(;n.left!==Yt;)n=n.left;return n}function Yme(n){for(;n.right!==Yt;)n=n.right;return n}function Jj(n){return n===Yt?0:n.size_left+n.piece.length+Jj(n.right)}function eK(n){return n===Yt?0:n.lf_left+n.piece.lineFeedCnt+eK(n.right)}function JF(){Yt.parent=Yt}function nL(n,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==Yt&&(t.left.parent=e),t.parent=e.parent,e.parent===Yt?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function iL(n,e){const t=e.left;e.left=t.right,t.right!==Yt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===Yt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function bT(n,e){let t,i;if(e.left===Yt?(i=e,t=i.right):e.right===Yt?(i=e,t=i.left):(i=Qj(e.right),t=i.right),i===n.root){n.root=t,t.color=0,e.detach(),JF(),n.root.parent=Yt;return}const r=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,c2(n,t)):(i.parent===e?t.parent=i:t.parent=i.parent,c2(n,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Yt&&(i.left.parent=i),i.right!==Yt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,c2(n,i)),e.detach(),t.parent.left===t){const o=Jj(t),a=eK(t);if(o!==t.parent.size_left||a!==t.parent.lf_left){const l=o-t.parent.size_left,u=a-t.parent.lf_left;t.parent.size_left=o,t.parent.lf_left=a,jf(n,t.parent,l,u)}}if(c2(n,t.parent),r){JF();return}let s;for(;t!==n.root&&t.color===0;)t===t.parent.left?(s=t.parent.right,s.color===1&&(s.color=0,t.parent.color=1,nL(n,t.parent),s=t.parent.right),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.right.color===0&&(s.left.color=0,s.color=1,iL(n,s),s=t.parent.right),s.color=t.parent.color,t.parent.color=0,s.right.color=0,nL(n,t.parent),t=n.root)):(s=t.parent.left,s.color===1&&(s.color=0,t.parent.color=1,iL(n,t.parent),s=t.parent.left),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.left.color===0&&(s.right.color=0,s.color=1,nL(n,s),s=t.parent.left),s.color=t.parent.color,t.parent.color=0,s.left.color=0,iL(n,t.parent),t=n.root));t.color=0,JF()}function qne(n,e){for(c2(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,nL(n,e)),e.parent.color=0,e.parent.parent.color=1,iL(n,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,iL(n,e)),e.parent.color=0,e.parent.parent.color=1,nL(n,e.parent.parent))}n.root.color=0}function jf(n,e,t,i){for(;e!==n.root&&e!==Yt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function c2(n,e){let t=0,i=0;if(e!==n.root){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e!==n.root)for(e=e.parent,t=Jj(e.left)-e.size_left,i=eK(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==n.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}const Bf=65535;function Xme(n){let e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}class Vft{constructor(e,t,i,r,s){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=r,this.isBasicASCII=s}}function qf(n,e=!0){const t=[0];let i=1;for(let r=0,s=n.length;r<s;r++){const o=n.charCodeAt(r);o===13?r+1<s&&n.charCodeAt(r+1)===10?(t[i++]=r+2,r++):t[i++]=r+1:o===10&&(t[i++]=r+1)}return e?Xme(t):t}function Wft(n,e){n.length=0,n[0]=0;let t=1,i=0,r=0,s=0,o=!0;for(let l=0,u=e.length;l<u;l++){const c=e.charCodeAt(l);c===13?l+1<u&&e.charCodeAt(l+1)===10?(s++,n[t++]=l+2,l++):(i++,n[t++]=l+1):c===10?(r++,n[t++]=l+1):o&&c!==9&&(c<32||c>126)&&(o=!1)}const a=new Vft(Xme(n),i,r,s,o);return n.length=0,a}class za{constructor(e,t,i,r,s){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=r,this.length=s}}class b0{constructor(e,t){this.buffer=e,this.lineStarts=t}}class Hft{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Yt&&e.iterate(e.root,i=>(i!==Yt&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class zft{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let r=0;r<i.length;r++){const s=i[r];if(s.node.parent===null||s.nodeStartOffset>=e){i[r]=null,t=!0;continue}}if(t){const r=[];for(const s of i)s!==null&&r.push(s);this._cache=r}}}class Uft{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new b0("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Yt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let r=null;for(let s=0,o=e.length;s<o;s++)if(e[s].buffer.length>0){e[s].lineStarts||(e[s].lineStarts=qf(e[s].buffer));const a=new za(s+1,{line:0,column:0},{line:e[s].lineStarts.length-1,column:e[s].buffer.length-e[s].lineStarts[e[s].lineStarts.length-1]},e[s].lineStarts.length-1,e[s].buffer.length);this._buffers.push(e[s]),r=this.rbInsertRight(r,a)}this._searchCache=new zft(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=Bf,i=t-Math.floor(t/3),r=i*2;let s="",o=0;const a=[];if(this.iterate(this.root,l=>{const u=this.getNodeContent(l),c=u.length;if(o<=i||o+c<r)return s+=u,o+=c,!0;const d=s.replace(/\r\n|\r|\n/g,e);return a.push(new b0(d,qf(d))),s=u,o=c,!0}),o>0){const l=s.replace(/\r\n|\r|\n/g,e);a.push(new b0(l,qf(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Hft(this,e)}getOffsetAt(e,t){let i=0,r=this.root;for(;r!==Yt;)if(r.left!==Yt&&r.lf_left+1>=e)r=r.left;else{if(r.lf_left+r.piece.lineFeedCnt+1>=e)return i+=r.size_left,i+=this.getAccumulatedValue(r,e-r.lf_left-2)+t-1;e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const r=e;for(;t!==Yt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const s=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+s.index,s.index===0){const o=this.getOffsetAt(i+1,1),a=r-o;return new Ae(i+1,a+1)}return new Ae(i+1,s.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===Yt){const s=this.getOffsetAt(i+1,1),o=r-e-s;return new Ae(i+1,o+1)}else t=t.right;return new Ae(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),s=this.getValueInRange2(i,r);return t?t!==this._EOL||!this._EOLNormalized?s.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?s:s.replace(/\r\n|\r|\n/g,t):s}getValueInRange2(e,t){if(e.node===t.node){const a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,u=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(u+e.remainder,u+t.remainder)}let i=e.node;const r=this._buffers[i.piece.bufferIndex].buffer,s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let o=r.substring(s+e.remainder,s+i.piece.length);for(i=i.next();i!==Yt;){const a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){o+=a.substring(l,l+t.remainder);break}else o+=a.substr(l,i.piece.length);i=i.next()}return o}getLinesContent(){const e=[];let t=0,i="",r=!1;return this.iterate(this.root,s=>{if(s===Yt)return!0;const o=s.piece;let a=o.length;if(a===0)return!0;const l=this._buffers[o.bufferIndex].buffer,u=this._buffers[o.bufferIndex].lineStarts,c=o.start.line,d=o.end.line;let h=u[c]+o.start.column;if(r&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=i,i="",r=!1,a===0))return!0;if(c===d)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(r=!0,i+=l.substr(h,a-1)):i+=l.substr(h,a),!0;i+=this._EOLNormalized?l.substring(h,Math.max(h,u[c+1]-this._EOLLength)):l.substring(h,u[c+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=c+1;f<d;f++)i=this._EOLNormalized?l.substring(u[f],u[f+1]-this._EOLLength):l.substring(u[f],u[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(u[d]+o.end.column-1)===13?(r=!0,o.end.column===0?t--:i=l.substr(u[d],o.end.column-1)):i=l.substr(u[d],o.end.column),!0}),r&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(r)}else{const t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,r,s,o,a,l,u,c,d){const h=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),g=this.offsetInBuffer(e.piece.bufferIndex,s),p=this.offsetInBuffer(e.piece.bufferIndex,o);let m;const b={line:0,column:0};let _,C;t._wordSeparators?(_=h.buffer.substring(g,p),C=w=>w+g,t.reset(0)):(_=h.buffer,C=w=>w,t.reset(g));do if(m=t.next(_),m){if(C(m.index)>=p)return c;this.positionInBuffer(e,C(m.index)-f,b);const w=this.getLineFeedCnt(e.piece.bufferIndex,s,b),S=b.line===s.line?b.column-s.column+r:b.column+1,D=S+m[0].length;if(d[c++]=p0(new Y(i+w,S,i+w,D),m,l),C(m.index)+m[0].length>=p||c>=u)return c}while(m);return c}findMatchesLineByLine(e,t,i,r){const s=[];let o=0;const a=new fC(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];const u=this.nodeAt2(e.endLineNumber,e.endColumn);if(u===null)return[];let c=this.positionInBuffer(l.node,l.remainder);const d=this.positionInBuffer(u.node,u.remainder);if(l.node===u.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,c,d,t,i,r,o,s),s;let h=e.startLineNumber,f=l.node;for(;f!==u.node;){const p=this.getLineFeedCnt(f.piece.bufferIndex,c,f.piece.end);if(p>=1){const b=this._buffers[f.piece.bufferIndex].lineStarts,_=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),C=b[c.line+p],w=h===e.startLineNumber?e.startColumn:1;if(o=this.findMatchesInNode(f,a,h,w,c,this.positionInBuffer(f,C-_),t,i,r,o,s),o>=r)return s;h+=p}const m=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const b=this.getLineContent(h).substring(m,e.endColumn-1);return o=this._findMatchesInLine(t,a,b,e.endLineNumber,m,o,s,i,r),s}if(o=this._findMatchesInLine(t,a,this.getLineContent(h).substr(m),h,m,o,s,i,r),o>=r)return s;h++,l=this.nodeAt2(h,1),f=l.node,c=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){const p=h===e.startLineNumber?e.startColumn-1:0,m=this.getLineContent(h).substring(p,e.endColumn-1);return o=this._findMatchesInLine(t,a,m,e.endLineNumber,p,o,s,i,r),s}const g=h===e.startLineNumber?e.startColumn:1;return o=this.findMatchesInNode(u.node,a,h,g,c,d,t,i,r,o,s),s}_findMatchesInLine(e,t,i,r,s,o,a,l,u){const c=e.wordSeparators;if(!l&&e.simpleSearch){const h=e.simpleSearch,f=h.length,g=i.length;let p=-f;for(;(p=i.indexOf(h,p+f))!==-1;)if((!c||mj(c,i,g,p,f))&&(a[o++]=new uk(new Y(r,p+1+s,r,p+1+f+s),null),o>=u))return o;return o}let d;t.reset(0);do if(d=t.next(i),d&&(a[o++]=p0(new Y(r,d.index+1+s,r,d.index+1+d[0].length+s),d,l),o>=u))return o;while(d);return o}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Yt){const{node:r,remainder:s,nodeStartOffset:o}=this.nodeAt(e),a=r.piece,l=a.bufferIndex,u=this.positionInBuffer(r,s);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&o+a.length===e&&t.length<Bf){this.appendToNode(r,t),this.computeBufferMetadata();return}if(o===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(o+r.piece.length>e){const c=[];let d=new za(a.bufferIndex,u,a.end,this.getLineFeedCnt(a.bufferIndex,u,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,u));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,s)===10){const p={line:d.start.line+1,column:0};d=new za(d.bufferIndex,p,d.end,this.getLineFeedCnt(d.bufferIndex,p,d.end),d.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,s-1)===13){const p=this.positionInBuffer(r,s-1);this.deleteNodeTail(r,p),t="\r"+t,r.piece.length===0&&c.push(r)}else this.deleteNodeTail(r,u);else this.deleteNodeTail(r,u);const h=this.createNewPieces(t);d.length>0&&this.rbInsertRight(r,d);let f=r;for(let g=0;g<h.length;g++)f=this.rbInsertRight(f,h[g]);this.deleteNodes(c)}else this.insertContentToNodeRight(t,r)}else{const r=this.createNewPieces(t);let s=this.rbInsertLeft(null,r[0]);for(let o=1;o<r.length;o++)s=this.rbInsertRight(s,r[o])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Yt)return;const i=this.nodeAt(e),r=this.nodeAt(e+t),s=i.node,o=r.node;if(s===o){const h=this.positionInBuffer(s,i.remainder),f=this.positionInBuffer(s,r.remainder);if(i.nodeStartOffset===e){if(t===s.piece.length){const g=s.next();bT(this,s),this.validateCRLFWithPrevNode(g),this.computeBufferMetadata();return}this.deleteNodeHead(s,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(s),this.computeBufferMetadata();return}if(i.nodeStartOffset+s.piece.length===e+t){this.deleteNodeTail(s,h),this.validateCRLFWithNextNode(s),this.computeBufferMetadata();return}this.shrinkNode(s,h,f),this.computeBufferMetadata();return}const a=[],l=this.positionInBuffer(s,i.remainder);this.deleteNodeTail(s,l),this._searchCache.validate(e),s.piece.length===0&&a.push(s);const u=this.positionInBuffer(o,r.remainder);this.deleteNodeHead(o,u),o.piece.length===0&&a.push(o);const c=s.next();for(let h=c;h!==Yt&&h!==o;h=h.next())a.push(h);const d=s.piece.length===0?s.prev():s;this.deleteNodes(a),this.validateCRLFWithNextNode(d),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const o=t.piece,a={line:o.start.line+1,column:0},l=new za(o.bufferIndex,a,o.end,this.getLineFeedCnt(o.bufferIndex,a,o.end),o.length-1);t.piece=l,e+=`
`,jf(this,t,-1,-1),t.piece.length===0&&i.push(t)}const r=this.createNewPieces(e);let s=this.rbInsertLeft(t,r[r.length-1]);for(let o=r.length-2;o>=0;o--)s=this.rbInsertLeft(s,r[o]);this.validateCRLFWithPrevNode(s),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),r=this.rbInsertRight(t,i[0]);let s=r;for(let o=1;o<i.length;o++)s=this.rbInsertRight(s,i[o]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,i){const r=e.piece,s=e.piece.bufferIndex,o=this._buffers[s].lineStarts,l=o[r.start.line]+r.start.column+t;let u=r.start.line,c=r.end.line,d=0,h=0,f=0;for(;u<=c&&(d=u+(c-u)/2|0,f=o[d],d!==c);)if(h=o[d+1],l<f)c=d-1;else if(l>=h)u=d+1;else break;return i?(i.line=d,i.column=l-f,null):{line:d,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const r=this._buffers[e].lineStarts;if(i.line===r.length-1)return i.line-t.line;const s=r[i.line+1],o=r[i.line]+i.column;if(s>o+1)return i.line-t.line;const a=o-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)bT(this,e[t])}createNewPieces(e){if(e.length>Bf){const c=[];for(;e.length>Bf;){const h=e.charCodeAt(Bf-1);let f;h===13||h>=55296&&h<=56319?(f=e.substring(0,Bf-1),e=e.substring(Bf-1)):(f=e.substring(0,Bf),e=e.substring(Bf));const g=qf(f);c.push(new za(this._buffers.length,{line:0,column:0},{line:g.length-1,column:f.length-g[g.length-1]},g.length-1,f.length)),this._buffers.push(new b0(f,g))}const d=qf(e);return c.push(new za(this._buffers.length,{line:0,column:0},{line:d.length-1,column:e.length-d[d.length-1]},d.length-1,e.length)),this._buffers.push(new b0(e,d)),c}let t=this._buffers[0].buffer.length;const i=qf(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let c=0;c<i.length;c++)i[c]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let c=0;c<i.length;c++)i[c]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const s=this._buffers[0].buffer.length,o=this._buffers[0].lineStarts.length-1,a=s-this._buffers[0].lineStarts[o],l={line:o,column:a},u=new za(0,r,l,this.getLineFeedCnt(0,r,l),s-t);return this._lastChangeBufferPos=l,[u]}getLineRawContent(e,t=0){let i=this.root,r="";const s=this._searchCache.get2(e);if(s){i=s.node;const o=this.getAccumulatedValue(i,e-s.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(s.nodeStartLineNumber+i.piece.lineFeedCnt===e)r=a.substring(l+o,l+i.piece.length);else{const u=this.getAccumulatedValue(i,e-s.nodeStartLineNumber);return a.substring(l+o,l+u-t)}}else{let o=0;const a=e;for(;i!==Yt;)if(i.left!==Yt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),u=this.getAccumulatedValue(i,e-i.lf_left-1),c=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:a-(e-1-i.lf_left)}),c.substring(d+l,d+u-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),u=this._buffers[i.piece.bufferIndex].buffer,c=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r=u.substring(c+l,c+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==Yt;){const o=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=o.substring(l,l+a-t),r}else{const a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r+=o.substr(a,i.piece.length)}i=i.next()}return r}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==Yt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,r=this.positionInBuffer(e,t),s=r.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const o=this.getLineFeedCnt(e.piece.bufferIndex,i.start,r);if(o!==s)return{index:o,remainder:0}}return{index:s,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,r=this._buffers[i.bufferIndex].lineStarts,s=i.start.line+t+1;return s>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[s]-r[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,r=i.lineFeedCnt,s=this.offsetInBuffer(i.bufferIndex,i.end),o=t,a=this.offsetInBuffer(i.bufferIndex,o),l=this.getLineFeedCnt(i.bufferIndex,i.start,o),u=l-r,c=a-s,d=i.length+c;e.piece=new za(i.bufferIndex,i.start,o,l,d),jf(this,e,c,u)}deleteNodeHead(e,t){const i=e.piece,r=i.lineFeedCnt,s=this.offsetInBuffer(i.bufferIndex,i.start),o=t,a=this.getLineFeedCnt(i.bufferIndex,o,i.end),l=this.offsetInBuffer(i.bufferIndex,o),u=a-r,c=s-l,d=i.length+c;e.piece=new za(i.bufferIndex,o,i.end,a,d),jf(this,e,c,u)}shrinkNode(e,t,i){const r=e.piece,s=r.start,o=r.end,a=r.length,l=r.lineFeedCnt,u=t,c=this.getLineFeedCnt(r.bufferIndex,r.start,u),d=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,s);e.piece=new za(r.bufferIndex,r.start,u,c,d),jf(this,e,d-a,c-l);const h=new za(r.bufferIndex,i,o,this.getLineFeedCnt(r.bufferIndex,i,o),this.offsetInBuffer(r.bufferIndex,o)-this.offsetInBuffer(r.bufferIndex,i)),f=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const s=qf(t,!1);for(let f=0;f<s.length;f++)s[f]+=r;if(i){const f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1));const o=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[o],l={line:o,column:a},u=e.piece.length+t.length,c=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,l),h=d-c;e.piece=new za(e.piece.bufferIndex,e.piece.start,l,d,u),this._lastChangeBufferPos=l,jf(this,e,t.length,h)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let r=0;for(;t!==Yt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;const s={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(s),s}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,r=0;for(;i!==Yt;)if(i.left!==Yt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const s=this.getAccumulatedValue(i,e-i.lf_left-2),o=this.getAccumulatedValue(i,e-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(s+t-1,o),nodeStartOffset:r}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const s=this.getAccumulatedValue(i,e-i.lf_left-2);if(s+t-1<=i.piece.length)return{node:i,remainder:s+t-1,nodeStartOffset:r};t-=i.piece.length-s;break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==Yt;){if(i.piece.lineFeedCnt>0){const s=this.getAccumulatedValue(i,0),o=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,s),nodeStartOffset:o}}else if(i.piece.length>=t-1){const s=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:s}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===Yt||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,s=i[r]+t.start.column;return r===i.length-1||i[r+1]>s+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(s)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===Yt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;let s;e.piece.end.column===0?s={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:s={line:e.piece.end.line,column:e.piece.end.column-1};const o=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new za(e.piece.bufferIndex,e.piece.start,s,a,o),jf(this,e,-1,-1),e.piece.length===0&&i.push(e);const l={line:t.piece.start.line+1,column:0},u=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new za(t.piece.bufferIndex,l,t.piece.end,c,u),jf(this,t,-1,-1),t.piece.length===0&&i.push(t);const d=this.createNewPieces(`\r
`);this.rbInsertRight(e,d[0]);for(let h=0;h<i.length;h++)bT(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)bT(this,i);else{const r=i.piece,s={line:r.start.line+1,column:0},o=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,s,r.end);i.piece=new za(r.bufferIndex,s,r.end,a,o),jf(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Yt)return t(Yt);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===Yt)return"";const t=this._buffers[e.piece.bufferIndex];let i;const r=e.piece,s=this.offsetInBuffer(r.bufferIndex,r.start),o=this.offsetInBuffer(r.bufferIndex,r.end);return i=t.buffer.substring(s,o),i}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,r)}rbInsertRight(e,t){const i=new o$(t,1);if(i.left=Yt,i.right=Yt,i.parent=Yt,i.size_left=0,i.lf_left=0,this.root===Yt)this.root=i,i.color=0;else if(e.right===Yt)e.right=i,i.parent=e;else{const s=Qj(e.right);s.left=i,i.parent=s}return qne(this,i),i}rbInsertLeft(e,t){const i=new o$(t,1);if(i.left=Yt,i.right=Yt,i.parent=Yt,i.size_left=0,i.lf_left=0,this.root===Yt)this.root=i,i.color=0;else if(e.left===Yt)e.left=i,i.parent=e;else{const r=Yme(e.left);r.right=i,i.parent=r}return qne(this,i),i}}function W_(n){let e=0,t=0,i=0,r=0;for(let s=0,o=n.length;s<o;s++){const a=n.charCodeAt(s);a===13?(e===0&&(t=s),e++,s+1<o&&n.charCodeAt(s+1)===10?(r|=2,s++):r|=3,i=s+1):a===10&&(r|=1,e===0&&(t=s),e++,i=s+1)}return e===0&&(t=n.length),[e,t,n.length-i,r]}class JC extends ze{constructor(e,t,i,r,s,o,a){super();this._onDidChangeContent=this._register(new Le),this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._pieceTree=new Uft(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,r=this.getPositionAt(e),s=this.getPositionAt(i);return new Y(r.lineNumber,r.column,s.lineNumber,s.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const r=e.startLineNumber,s=e.endLineNumber;for(let o=r;o<=s;o++){const a=this.getLineContent(o),l=o===r?e.startColumn-1:0,u=o===s?e.endColumn-1:a.length;for(let c=l;c<u;c++)ps(a.charCodeAt(c))?(i=i+1,c=c+1):i=i+1}return i+=this._getEndOfLine(t).length*(s-r),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=oa(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=jh(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let r=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,o=this._mightContainNonBasicASCII,a=!0,l=[];for(let p=0;p<e.length;p++){const m=e[p];a&&m._isTracked&&(a=!1);const b=m.range;if(m.text){let D=!0;o||(D=!nj(m.text),o=D),!r&&D&&(r=UO(m.text)),!s&&D&&(s=Gge(m.text))}let _="",C=0,w=0,S=0;if(m.text){let D;[C,w,S,D]=W_(m.text);const E=this.getEOL();D===0||D===(E===`\r
`?2:1)?_=m.text:_=m.text.replace(/\r\n|\r|\n/g,E)}l[p]={sortIndex:p,identifier:m.identifier||null,range:b,rangeOffset:this.getOffsetAt(b.startLineNumber,b.startColumn),rangeLength:this.getValueLengthInRange(b),text:_,eolCount:C,firstLineLength:w,lastLineLength:S,forceMoveMarkers:Boolean(m.forceMoveMarkers),isAutoWhitespaceEdit:m.isAutoWhitespaceEdit||!1}}l.sort(JC._sortOpsAscending);let u=!1;for(let p=0,m=l.length-1;p<m;p++){const b=l[p].range.getEndPosition(),_=l[p+1].range.getStartPosition();if(_.isBeforeOrEqual(b)){if(_.isBefore(b))throw new Error("Overlapping ranges are not allowed!");u=!0}}a&&(l=this._reduceOperations(l));const c=i||t?JC._getInverseEditRanges(l):[],d=[];if(t)for(let p=0;p<l.length;p++){const m=l[p],b=c[p];if(m.isAutoWhitespaceEdit&&m.range.isEmpty())for(let _=b.startLineNumber;_<=b.endLineNumber;_++){let C="";_===b.startLineNumber&&(C=this.getLineContent(m.range.startLineNumber),oa(C)!==-1)||d.push({lineNumber:_,oldContent:C})}}let h=null;if(i){let p=0;h=[];for(let m=0;m<l.length;m++){const b=l[m],_=c[m],C=this.getValueInRange(b.range),w=b.rangeOffset+p;p+=b.text.length-C.length,h[m]={sortIndex:b.sortIndex,identifier:b.identifier,range:_,text:C,textChange:new Qs(b.rangeOffset,C,w,b.text)}}u||h.sort((m,b)=>m.sortIndex-b.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=o;const f=this._doApplyEdits(l);let g=null;if(t&&d.length>0){d.sort((p,m)=>m.lineNumber-p.lineNumber),g=[];for(let p=0,m=d.length;p<m;p++){const b=d[p].lineNumber;if(p>0&&d[p-1].lineNumber===b)continue;const _=d[p].oldContent,C=this.getLineContent(b);C.length===0||C===_||oa(C)!==-1||g.push(b)}}return this._onDidChangeContent.fire(),new wot(h,f,g)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,r=e[e.length-1].range,s=new Y(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn);let o=i.startLineNumber,a=i.startColumn;const l=[];for(let f=0,g=e.length;f<g;f++){const p=e[f],m=p.range;t=t||p.forceMoveMarkers,l.push(this.getValueInRange(new Y(o,a,m.startLineNumber,m.startColumn))),p.text.length>0&&l.push(p.text),o=m.endLineNumber,a=m.endColumn}const u=l.join(""),[c,d,h]=W_(u);return{sortIndex:0,identifier:e[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:u,eolCount:c,firstLineLength:d,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(JC._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const r=e[i],s=r.range.startLineNumber,o=r.range.startColumn,a=r.range.endLineNumber,l=r.range.endColumn;if(s===a&&o===l&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const u=new Y(s,o,a,l);t.push({range:u,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,r){return this._pieceTree.findMatchesLineByLine(e,t,i,r)}static _getInverseEditRanges(e){const t=[];let i=0,r=0,s=null;for(let o=0,a=e.length;o<a;o++){const l=e[o];let u,c;s?s.range.endLineNumber===l.range.startLineNumber?(u=i,c=r+(l.range.startColumn-s.range.endColumn)):(u=i+(l.range.startLineNumber-s.range.endLineNumber),c=l.range.startColumn):(u=l.range.startLineNumber,c=l.range.startColumn);let d;if(l.text.length>0){const h=l.eolCount+1;h===1?d=new Y(u,c,u,c+l.firstLineLength):d=new Y(u,c,u+h-1,l.lastLineLength+1)}else d=new Y(u,c,u,c);i=d.endLineNumber,r=d.endColumn,t.push(d),s=l}return t}static _sortOpsAscending(e,t){const i=Y.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=Y.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class jft{constructor(e,t,i,r,s,o,a,l,u){this._chunks=e,this._bom=t,this._cr=i,this._lf=r,this._crlf=s,this._containsRTL=o,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=u}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let s=0,o=i.length;s<o;s++){const a=i[s].buffer.replace(/\r\n|\r|\n/g,t),l=qf(a);i[s]=new b0(a,l)}const r=new JC(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class Kft{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&rj(e)&&(this.BOM=Wot,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=Wft(this._tmpLineStarts,e);this.chunks.push(new b0(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=UO(e)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=Gge(e))}finish(e=!0){return this._finish(),new jft(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=qf(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class Gft{constructor(){this.changeType=1}}class Pd{constructor(e,t,i,r,s){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=r,this.order=s}static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",r=0;for(const s of t)i+=e.substring(r,s.column-1),r=s.column-1,i+=s.options.content;return i+=e.substring(r),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Pd(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Pd(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,r)=>i.lineNumber===r.lineNumber?i.column===r.column?i.order-r.order:i.column-r.column:i.lineNumber-r.lineNumber),t}}class Yne{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class qft{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class Yft{constructor(e,t,i,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class Xft{constructor(){this.changeType=5}}class m_{constructor(e,t,i,r){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.versionId,s=e.isUndoing||t.isUndoing,o=e.isRedoing||t.isRedoing;return new m_(i,r,s,o)}}class Zme{constructor(e){this.changes=e}}class NA{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=m_.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=NA._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new NA(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.eol,s=t.versionId,o=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush;return{changes:i,eol:r,versionId:s,isUndoing:o,isRedoing:a,isFlush:l}}}class Zft{constructor(e,t){this._startLineNumber=e,this._tokens=t}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class e8{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new Zft(e,[t]))}finalize(){return this._tokens}}class Xne{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let r=0;r<t;r++)i[r]=this._default;this._store=WO(this._store,e,i)}}class Qft{constructor(e,t){this.tokenizationSupport=e,this.initialState=t,this._lineBeginState=new Xne(null),this._lineNeedsTokenization=new Xne(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(e){this._lineNeedsTokenization.set(e,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,e)}getBeginState(e){return this._lineBeginState.get(e)}setEndState(e,t,i){if(this._lineNeedsTokenization.set(t,!1),this._firstLineNeedsTokenization=t+1,t===e-1)return;const r=this._lineBeginState.get(t+1);if(r===null||!i.equals(r)){this._lineBeginState.set(t+1,i),this.markMustBeTokenized(t+1);return}let s=t+1;for(;s<e&&!this._lineNeedsTokenization.get(s);)s++;this._firstLineNeedsTokenization=s}applyEdits(e,t){this.markMustBeTokenized(e.startLineNumber-1),this._lineBeginState.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineNeedsTokenization.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineBeginState.insert(e.startLineNumber,t),this._lineNeedsTokenization.insert(e.startLineNumber,t)}}class Jft extends ze{constructor(e,t){super();this._textModel=e,this._languageIdCodec=t,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(dr.onDidChange(i=>{const r=this._textModel.getLanguageId();i.changedLanguages.indexOf(r)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(i=>{if(i.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let r=0,s=i.changes.length;r<s;r++){const o=i.changes[r],[a]=W_(o.text);this._tokenizationStateStore.applyEdits(o.range,a)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=egt(this._textModel);e&&t?this._tokenizationStateStore=new Qft(e,t):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,ck(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?gge(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._textModel.getLineCount(),t=new e8,i=Ou.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._textModel.setTokens(t.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(e,t){const i=new e8;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new e8;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(e,t){if(!this._tokenizationStateStore)return 0;this.forceTokenization(e.lineNumber);const i=this._tokenizationStateStore.getBeginState(e.lineNumber-1);if(!i)return 0;const r=this._textModel.getLanguageId(),s=this._textModel.getLineContent(e.lineNumber),o=s.substring(0,e.column-1)+t+s.substring(e.column-1),a=OS(this._languageIdCodec,r,this._tokenizationStateStore.tokenizationSupport,o,!0,i),l=new vs(a.tokens,o,this._languageIdCodec);if(l.getCount()===0)return 0;const u=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(u)}tokenizeLineWithEdit(e,t,i){const r=e.lineNumber,s=e.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(r);const o=this._tokenizationStateStore.getBeginState(r-1);if(!o)return null;const a=this._textModel.getLineContent(r),l=a.substring(0,s-1)+i+a.substring(s-1+t),u=this._textModel.getLanguageIdAtPosition(r,0),c=OS(this._languageIdCodec,u,this._tokenizationStateStore.tokenizationSupport,l,!0,o);return new vs(c.tokens,l,this._languageIdCodec)}isCheapToTokenize(e){if(!this._tokenizationStateStore)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return e>t?!1:e<t||this._textModel.getLineLength(e)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(e){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationStateStore)return;const i=this._textModel.getLanguageId(),r=this._textModel.getLineCount(),s=t-1;for(let o=this._tokenizationStateStore.invalidLineStartIndex;o<=s;o++){const a=this._textModel.getLineContent(o+1),l=this._tokenizationStateStore.getBeginState(o),u=OS(this._languageIdCodec,i,this._tokenizationStateStore.tokenizationSupport,a,!0,l);e.add(o+1,u.tokens),this._tokenizationStateStore.setEndState(r,o,u.endState),o=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationStateStore||i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(e,i);return}let r=this._textModel.getLineFirstNonWhitespaceColumn(t);const s=[];let o=null;for(let u=t-1;r>1&&u>=1;u--){const c=this._textModel.getLineFirstNonWhitespaceColumn(u);if(c!==0&&c<r){if(o=this._tokenizationStateStore.getBeginState(u-1),o)break;s.push(this._textModel.getLineContent(u)),r=c}}o||(o=this._tokenizationStateStore.initialState);const a=this._textModel.getLanguageId();let l=o;for(let u=s.length-1;u>=0;u--)l=OS(this._languageIdCodec,a,this._tokenizationStateStore.tokenizationSupport,s[u],!1,l).endState;for(let u=t;u<=i;u++){const c=this._textModel.getLineContent(u),d=OS(this._languageIdCodec,a,this._tokenizationStateStore.tokenizationSupport,c,!0,l);e.add(u,d.tokens),this._tokenizationStateStore.markMustBeTokenized(u-1),l=d.endState}}}function egt(n){if(n.isTooLargeForTokenization())return[null,null];const e=dr.get(n.getLanguageId());if(!e)return[null,null];let t;try{t=e.getInitialState()}catch(i){return Qt(i),[null,null]}return[e,t]}function OS(n,e,t,i,r,s){let o=null;if(t)try{o=t.tokenizeEncoded(i,r,s.clone())}catch(a){Qt(a)}return o||(o=gj(n.encodeLanguageId(e),s)),vs.convertToEndOffset(o.tokens,i.length),o}const Yf=new Uint32Array(0).buffer;class gh{static deleteBeginning(e,t){return e===null||e===Yf?e:gh.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===Yf)return e;const i=hg(e),r=i[i.length-2];return gh.delete(e,t,r)}static delete(e,t,i){if(e===null||e===Yf||t===i)return e;const r=hg(e),s=r.length>>>1;if(t===0&&r[r.length-2]===i)return Yf;const o=vs.findIndexInTokensArray(r,t),a=o>0?r[o-1<<1]:0,l=r[o<<1];if(i<l){const f=i-t;for(let g=o;g<s;g++)r[g<<1]-=f;return e}let u,c;a!==t?(r[o<<1]=t,u=o+1<<1,c=t):(u=o<<1,c=a);const d=i-t;for(let f=o+1;f<s;f++){const g=r[f<<1]-d;g>c&&(r[u++]=g,r[u++]=r[(f<<1)+1],c=g)}if(u===r.length)return e;const h=new Uint32Array(u);return h.set(r.subarray(0,u),0),h.buffer}static append(e,t){if(t===Yf)return e;if(e===Yf)return t;if(e===null)return e;if(t===null)return null;const i=hg(e),r=hg(t),s=r.length>>>1,o=new Uint32Array(i.length+r.length);o.set(i,0);let a=i.length;const l=i[i.length-2];for(let u=0;u<s;u++)o[a++]=r[u<<1]+l,o[a++]=r[(u<<1)+1];return o.buffer}static insert(e,t,i){if(e===null||e===Yf)return e;const r=hg(e),s=r.length>>>1;let o=vs.findIndexInTokensArray(r,t);o>0&&r[o-1<<1]===t&&o--;for(let a=o;a<s;a++)r[a<<1]+=i;return e}}function hg(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class xA{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==Yf)return new vs(hg(r),i,this._languageIdCodec);const s=new Uint32Array(2);return s[0]=i.length,s[1]=Zne(this._languageIdCodec.encodeLanguageId(e)),new vs(s,i,this._languageIdCodec)}static _massageTokens(e,t,i){const r=i?hg(i):null;if(t===0){let s=!1;if(r&&r.length>1&&(s=ko.getLanguageId(r[1])!==e),!s)return Yf}if(!r||r.length===0){const s=new Uint32Array(2);return s[0]=t,s[1]=Zne(e),s.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let r=0;r<t;r++)i[r]=null;this._lineTokens=WO(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,r,s){const o=xA._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,r);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=o,s?!xA._equals(a,o):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=hg(e),r=hg(t);if(i.length!==r.length)return!1;for(let s=0,o=i.length;s<o;s++)if(i[s]!==r[s])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new Ae(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=gh.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=gh.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let r=null;i<this._len&&(r=gh.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=gh.append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=gh.insert(this._lineTokens[r],e.column-1,i);return}this._lineTokens[r]=gh.deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=gh.insert(this._lineTokens[r],e.column-1,i),this._insertLines(e.lineNumber,t)}}}function Zne(n){return(n<<0|0<<8|0<<10|1<<14|2<<23)>>>0}class tK{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const s=t[0].getRange(),o=t[t.length-1].getRange();if(!s||!o)return e;i=e.plusRange(s).plusRange(o)}let r=null;for(let s=0,o=this._pieces.length;s<o;s++){const a=this._pieces[s];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:s};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(s,1),s--,o--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:s};continue}const[l,u]=a.split(i);if(l.isEmpty()){r=r||{index:s};continue}u.isEmpty()||(this._pieces.splice(s,1,l,u),s++,o++,r=r||{index:s})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=WO(this._pieces,r.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){const i=this._pieces;if(i.length===0)return t;const r=tK._findFirstPieceWithLine(i,e),s=i[r].getLineTokens(e);if(!s)return t;const o=t.getCount(),a=s.getCount();let l=0;const u=[];let c=0,d=0;const h=(f,g)=>{f!==d&&(d=f,u[c++]=f,u[c++]=g)};for(let f=0;f<a;f++){const g=s.getStartCharacter(f),p=s.getEndCharacter(f),m=s.getMetadata(f),b=((m&1?1024:0)|(m&2?2048:0)|(m&4?4096:0)|(m&8?8192:0)|(m&16?8372224:0)|(m&32?4286578688:0))>>>0,_=~b>>>0;for(;l<o&&t.getEndOffset(l)<=g;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<o&&t.getStartOffset(l)<g&&h(g,t.getMetadata(l));l<o&&t.getEndOffset(l)<p;)h(t.getEndOffset(l),t.getMetadata(l)&_|m&b),l++;if(l<o)h(p,t.getMetadata(l)&_|m&b),t.getEndOffset(l)===p&&l++;else{const C=Math.min(Math.max(0,l-1),o-1);h(p,t.getMetadata(C)&_|m&b)}}for(;l<o;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new vs(new Uint32Array(u),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,r=e.length-1;for(;i<r;){let s=i+Math.floor((r-i)/2);if(e[s].endLineNumber<t)i=s+1;else if(e[s].startLineNumber>t)r=s-1;else{for(;s>i&&e[s-1].startLineNumber<=t&&t<=e[s-1].endLineNumber;)s--;return s}}return i}acceptEdit(e,t,i,r,s){for(const o of this._pieces)o.acceptEdit(e,t,i,r,s)}}const k4=Pn("undoRedoService");class Qme{constructor(e,t){this.resource=e,this.elements=t}}class Xy{constructor(){this.id=Xy._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}Xy._ID=0;Xy.None=new Xy;class Th{constructor(){this.id=Th._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}Th._ID=0;Th.None=new Th;var tgt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},t8=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function ngt(){return new Kft}function igt(n){const e=ngt();return e.acceptChunk(n),e.finish()}function Qne(n,e){return(typeof n=="string"?igt(n):n).create(e)}let CT=0;const rgt=999,sgt=1e4;class ogt{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,i+=r.length),i>=64*1024)return e.join("")}while(!0)}}const PS=()=>{throw new Error("Invalid change accessor")};let Vc=class Kf extends ze{constructor(e,t,i,r=null,s,o,a){super();this._undoRedoService=s,this._languageService=o,this._languageConfigurationService=a,this._onWillDispose=this._register(new Le),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new cgt(h=>this.handleBeforeFireDecorationsChangedEvent(h))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new Le),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new Le),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new Le),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new Le),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new Le),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new Le),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new dgt),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new Le),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(h=>{this._onDidChangeContentOrInjectedText.fire(h.rawContentChangedEvent)})),CT++,this.id="$model"+CT,this.isForSimpleWidget=i.isForSimpleWidget,typeof r=="undefined"||r===null?this._associatedResource=zt.parse("inmemory://model/"+CT):this._associatedResource=r,this._attachedEditorCount=0;const{textBuffer:l,disposable:u}=Qne(e,i.defaultEOL);this._buffer=l,this._bufferDisposable=u,this._options=Kf.resolveOptions(this._buffer,i);const c=this._buffer.getLineCount(),d=this._buffer.getValueLengthInRange(new Y(1,1,c,this._buffer.getLineLength(c)+1),0);i.largeFileOptimizations?this._isTooLargeForTokenization=d>Kf.LARGE_FILE_SIZE_THRESHOLD||c>Kf.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=d>Kf.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=t,this._languageRegistryListener=this._languageConfigurationService.onDidChange(h=>{h.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=qge(CT),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Jne,this._commandManager=new Zj(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new xA(this._languageService.languageIdCodec),this._semanticTokens=new tK(this._languageService.languageIdCodec),this._tokenization=new Jft(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new pft(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Lft(this,this._languageConfigurationService)),this._decorationProvider=this._register(new vft(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(e,t){if(t.detectIndentation){const i=Hne(e,t.tabSize,t.insertSpaces);return new fx({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new fx({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent(t=>e(t.contentChangedEvent))}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(this._backgroundTokenizationState===2)return;const t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new JC([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._bracketPairColorizer.handleContentChanged(t),!this._isDisposing&&this._eventEmitter.fire(new NA(e,t))}setValue(e){if(this._assertNotDisposed(),e===null)return;const{textBuffer:t,disposable:i}=Qne(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,r,s,o,a){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:r}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:s,isRedoing:o,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new Jne,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new m_([new Gft],this._versionId,!1,!1),this._createContentChanged2(new Y(1,1,s,o),0,r,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new m_([new Xft],this._versionId,!1,!1),this._createContentChanged2(new Y(1,1,s,o),0,r,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,r=t.length;i<r;i++){const s=t[i],o=s.range,a=s.cachedAbsoluteStart-s.start,l=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),u=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);s.cachedAbsoluteStart=l,s.cachedAbsoluteEnd=u,s.cachedVersionId=e,s.start=l-a,s.end=u-a,tv(s)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let r=1;r<=i;r++){const s=this._buffer.getLineLength(r);s>=sgt?t+=s:e+=s}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize!="undefined"?e.tabSize:this._options.tabSize,i=typeof e.indentSize!="undefined"?e.indentSize:this._options.indentSize,r=typeof e.insertSpaces!="undefined"?e.insertSpaces:this._options.insertSpaces,s=typeof e.trimAutoWhitespace!="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=typeof e.bracketColorizationOptions!="undefined"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new fx({tabSize:t,indentSize:i,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s,bracketPairColorizationOptions:o});if(this._options.equals(a))return;const l=this._options.createChangeEvent(a);this._options=a,this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();const i=Hne(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let r=0;for(let o=0;o<e.length;o++)e.charAt(o)==="	"?r+=t:r++;let s="";if(!i){const o=Math.floor(r/t);r=r%t;for(let a=0;a<o;a++)s+="	"}for(let o=0;o<r;o++)s+=" ";return s}static normalizeIndentation(e,t,i){let r=oa(e);return r===-1&&(r=e.length),Kf._normalizeIndentationFromWhitespace(e.substring(0,r),t,i)+e.substring(r)}normalizeIndentation(e){return this._assertNotDisposed(),Kf.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(Kge.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueInRange(i,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new ogt(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,r=e.startColumn;let s=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),o=Math.floor(typeof r=="number"&&!isNaN(r)?r:1);if(s<1)s=1,o=1;else if(s>t)s=t,o=this.getLineMaxColumn(s);else if(o<=1)o=1;else{const d=this.getLineMaxColumn(s);o>=d&&(o=d)}const a=e.endLineNumber,l=e.endColumn;let u=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),c=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(u<1)u=1,c=1;else if(u>t)u=t,c=this.getLineMaxColumn(u);else if(c<=1)c=1;else{const d=this.getLineMaxColumn(u);c>=d&&(c=d)}return i===s&&r===o&&a===u&&l===c&&e instanceof Y&&!(e instanceof vt)?e:new Y(s,o,u,c)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const r=this._buffer.getLineCount();if(e>r)return!1;if(t===1)return!0;const s=this.getLineMaxColumn(e);if(t>s)return!1;if(i===1){const o=this._buffer.getLineCharCode(e,t-2);if(ps(o))return!1}return!0}_validatePosition(e,t,i){const r=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),s=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),o=this._buffer.getLineCount();if(r<1)return new Ae(1,1);if(r>o)return new Ae(o,this.getLineMaxColumn(o));if(s<=1)return new Ae(r,1);const a=this.getLineMaxColumn(r);if(s>=a)return new Ae(r,a);if(i===1){const l=this._buffer.getLineCharCode(r,s-2);if(ps(l))return new Ae(r,s-1)}return new Ae(r,s)}validatePosition(e){return this._assertNotDisposed(),e instanceof Ae&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn;if(!this._isValidPosition(i,r,0)||!this._isValidPosition(s,o,0))return!1;if(t===1){const a=r>1?this._buffer.getLineCharCode(i,r-2):0,l=o>1&&o<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,o-2):0,u=ps(a),c=ps(l);return!u&&!c}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof Y&&!(e instanceof vt)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),s=i.lineNumber,o=i.column,a=r.lineNumber,l=r.column;{const u=o>1?this._buffer.getLineCharCode(s,o-2):0,c=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,d=ps(u),h=ps(c);return!d&&!h?new Y(s,o,a,l):s===a&&o===l?new Y(s,o-1,a,l-1):d&&h?new Y(s,o-1,a,l+1):d?new Y(s,o-1,a,l):new Y(s,o,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new Y(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,r){return this._buffer.findMatchesLineByLine(e,t,i,r)}findMatches(e,t,i,r,s,o,a=rgt){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(d=>Y.isIRange(d))&&(l=t.map(d=>this.validateRange(d)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((d,h)=>d.startLineNumber-h.startLineNumber||d.startColumn-h.startColumn);const u=[];u.push(l.reduce((d,h)=>Y.areIntersecting(d,h)?d.plusRange(h):(u.push(d),h)));let c;if(!i&&e.indexOf(`
`)<0){const h=new o0(e,i,r,s).parseSearchRequest();if(!h)return[];c=f=>this.findMatchesLineByLine(f,h,o,a)}else c=d=>cT.findMatches(this,new o0(e,i,r,s),d,o,a);return u.map(c).reduce((d,h)=>d.concat(h),[])}findNextMatch(e,t,i,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const u=new o0(e,i,r,s).parseSearchRequest();if(!u)return null;const c=this.getLineCount();let d=new Y(a.lineNumber,a.column,c,this.getLineMaxColumn(c)),h=this.findMatchesLineByLine(d,u,o,1);return cT.findNextMatch(this,new o0(e,i,r,s),a,o),h.length>0||(d=new Y(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),h=this.findMatchesLineByLine(d,u,o,1),h.length>0)?h[0]:null}return cT.findNextMatch(this,new o0(e,i,r,s),a,o)}findPreviousMatch(e,t,i,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);return cT.findPreviousMatch(this,new o0(e,i,r,s),a,o)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof CF?e:new CF(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const r=t.map(o=>({range:this.validateRange(o.range),text:o.text}));let s=!0;if(e)for(let o=0,a=e.length;o<a;o++){const l=e[o];let u=!1;for(let c=0,d=r.length;c<d;c++){const h=r[c].range,f=h.startLineNumber>l.endLineNumber,g=l.startLineNumber>h.endLineNumber;if(!f&&!g){u=!0;break}}if(!u){s=!1;break}}if(s)for(let o=0,a=this._trimAutoWhitespaceLines.length;o<a;o++){const l=this._trimAutoWhitespaceLines[o],u=this.getLineMaxColumn(l);let c=!0;for(let d=0,h=r.length;d<h;d++){const f=r[d].range,g=r[d].text;if(!(l<f.startLineNumber||l>f.endLineNumber)&&!(l===f.startLineNumber&&f.startColumn===u&&f.isEmpty()&&g&&g.length>0&&g.charAt(0)===`
`)&&!(l===f.startLineNumber&&f.startColumn===1&&f.isEmpty()&&g&&g.length>0&&g.charAt(g.length-1)===`
`)){c=!1;break}}if(c){const d=new Y(l,1,l,u);t.push(new CF(null,d,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,r){const s=e.map(o=>{const a=this.getPositionAt(o.newPosition),l=this.getPositionAt(o.newEnd);return{range:new Y(a.lineNumber,a.column,l.lineNumber,l.column),text:o.oldText}});this._applyUndoRedoEdits(s,t,!0,!1,i,r)}_applyRedo(e,t,i,r){const s=e.map(o=>{const a=this.getPositionAt(o.oldPosition),l=this.getPositionAt(o.oldEnd);return{range:new Y(a.lineNumber,a.column,l.lineNumber,l.column),text:o.newText}});this._applyUndoRedoEdits(s,t,!1,!0,i,r)}_applyUndoRedoEdits(e,t,i,r,s,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),s=this._buffer.getLineCount(),o=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,o.length!==0){for(let u=0,c=o.length;u<c;u++){const d=o[u],[h,f,g]=W_(d.text);this._tokens.acceptEdit(d.range,h,f),this._semanticTokens.acceptEdit(d.range,h,f,g,d.text.length>0?d.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(d.rangeOffset,d.rangeLength,d.text.length,d.forceMoveMarkers)}const a=[];this._increaseVersionId();let l=i;for(let u=0,c=o.length;u<c;u++){const d=o[u],[h]=W_(d.text);this._onDidChangeDecorations.fire();const f=d.range.startLineNumber,g=d.range.endLineNumber,p=g-f,m=h,b=Math.min(p,m),_=m-p,C=s-l-_+f,w=C,S=C+m,D=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Ae(w,1)),this.getOffsetAt(new Ae(S,this.getLineMaxColumn(S))),0),E=Pd.fromDecorations(D),I=new Oy(E);for(let T=b;T>=0;T--){const M=f+T,A=C+T;I.takeFromEndWhile(F=>F.lineNumber>A);const O=I.takeFromEndWhile(F=>F.lineNumber===A);a.push(new Yne(M,this.getLineContent(A),O))}if(b<p){const T=f+b;a.push(new qft(T+1,g))}if(b<m){const T=new Oy(E),M=f+b,A=m-b,O=s-l-A+M+1,F=[],U=[];for(let V=0;V<A;V++){const G=O+V;U[V]=this.getLineContent(G),T.takeWhile(j=>j.lineNumber<G),F[V]=T.takeWhile(j=>j.lineNumber===G)}a.push(new Yft(M+1,f+m,U,F))}l+=_}this._emitContentChangedEvent(new m_(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=[...e].map(r=>new Yne(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeContentOrInjectedText.fire(new Zme(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(s,o)=>this._deltaDecorationsImpl(e,[],[{range:s,options:o}])[0],changeDecoration:(s,o)=>{this._changeDecorationImpl(s,o)},changeDecorationOptions:(s,o)=>{this._changeDecorationOptionsImpl(s,tie(o))},removeDecoration:s=>{this._deltaDecorationsImpl(e,[s],[])},deltaDecorations:(s,o)=>s.length===0&&o.length===0?[]:this._deltaDecorationsImpl(e,s,o)};let r=null;try{r=t(i)}catch(s){Qt(s)}return i.addDecoration=PS,i.changeDecoration=PS,i.changeDecorationOptions=PS,i.removeDecoration=PS,i.deltaDecorations=PS,r}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:eie[i]}])[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const s=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),a=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),o,a,s),r.setOptions(eie[i]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,r=t.length;i<r;i++){const s=t[i];this._decorationsTree.delete(s),delete this._decorations[s.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,r=!1){const s=this.getLineCount(),o=Math.min(s,Math.max(1,e)),a=Math.min(s,Math.max(1,t)),l=this.getLineMaxColumn(a),u=new Y(o,1,a,l),c=this._getDecorationsInRange(u,i,r);return c.push(...this._decorationProvider.getDecorationsInRange(u,i,r)),c}getDecorationsInRange(e,t=0,i=!1){const r=this.validateRange(e),s=this._getDecorationsInRange(r,t,i);return s.push(...this._decorationProvider.getDecorationsInRange(r,t,i)),s}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Pd.fromDecorations(r).filter(s=>s.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){const r=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,r,s,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),o=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),s,o,r),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const r=!!(i.options.overviewRuler&&i.options.overviewRuler.color),s=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const o=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber)}if(i.options.before||t.before){const o=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber)}r!==s?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const r=this.getVersionId(),s=t.length;let o=0;const a=i.length;let l=0;const u=new Array(a);for(;o<s||l<a;){let c=null;if(o<s){do c=this._decorations[t[o++]];while(!c&&o<s);if(c){if(c.options.after){const d=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(d.endLineNumber)}if(c.options.before){const d=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(d.startLineNumber)}this._decorationsTree.delete(c),this._onDidChangeDecorations.checkAffectedAndFire(c.options)}}if(l<a){if(!c){const m=++this._lastDecorationId,b=`${this._instanceId};${m}`;c=new Gme(b,0,0),this._decorations[b]=c}const d=i[l],h=this._validateRangeRelaxedNoAllocations(d.range),f=tie(d.options),g=this._buffer.getOffsetAt(h.startLineNumber,h.startColumn),p=this._buffer.getOffsetAt(h.endLineNumber,h.endColumn);c.ownerId=e,c.reset(r,g,p,h),c.setOptions(f),c.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber),c.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(f),this._decorationsTree.insert(c),u[l]=c.id,l++}else c&&delete this._decorations[c.id]}return u}setTokens(e,t=!1){if(e.length!==0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];let a=0,l=0,u=!1;for(let c=o.startLineNumber;c<=o.endLineNumber;c++)u?(this._tokens.setTokens(this._languageId,c-1,this._buffer.getLineLength(c),o.getLineTokens(c),!1),l=c):this._tokens.setTokens(this._languageId,c-1,this._buffer.getLineLength(c),o.getLineTokens(c),!0)&&(u=!0,a=c,l=c);u&&i.push({fromLineNumber:a,toLineNumber:l})}i.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:i})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),i=this._tokens.getTokens(this._languageId,e-1,t);return this._semanticTokens.addSparseTokens(e,i)}getLanguageId(){return this._languageId}setMode(e){if(this._languageId===e)return;const t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const i=this.validatePosition(new Ae(e,t)),r=this.getLineTokens(i.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(i.column-1))}getTokenTypeIfInsertingCharacter(e,t,i){const r=this.validatePosition(new Ae(e,t));return this._tokenization.getTokenTypeIfInsertingCharacter(r,i)}tokenizeLineWithEdit(e,t,i){const r=this.validatePosition(e);return this._tokenization.tokenizeLineWithEdit(r,t,i)}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(e){this._assertNotDisposed();const t=this.validatePosition(e),i=this.getLineContent(t.lineNumber),r=this._getLineTokens(t.lineNumber),s=r.findTokenIndexAtOffset(t.column-1),[o,a]=Kf._findLanguageBoundaries(r,s),l=jM(t.column,this.getLanguageConfiguration(r.getLanguageId(s)).getWordDefinition(),i.substring(o,a),o);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(s>0&&o===t.column-1){const[u,c]=Kf._findLanguageBoundaries(r,s-1),d=jM(t.column,this.getLanguageConfiguration(r.getLanguageId(s-1)).getWordDefinition(),i.substring(u,c),u);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn)return d}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let r=0;for(let o=t;o>=0&&e.getLanguageId(o)===i;o--)r=e.getStartOffset(o);let s=e.getLineContent().length;for(let o=t,a=e.getCount();o<a&&e.getLanguageId(o)===i;o++)s=e.getEndOffset(o);return[r,s]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}normalizePosition(e,t){return e}getLineIndentColumn(e){return agt(this.getLineContent(e))+1}};Vc.MODEL_SYNC_LIMIT=50*1024*1024;Vc.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Vc.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Vc.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Wo.tabSize,indentSize:Wo.indentSize,insertSpaces:Wo.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Wo.trimAutoWhitespace,largeFileOptimizations:Wo.largeFileOptimizations,bracketPairColorizationOptions:Wo.bracketPairColorizationOptions};Vc=tgt([t8(4,k4),t8(5,fr),t8(6,fo)],Vc);function agt(n){let e=0;for(const t of n)if(t===" "||t==="	")e++;else break;return e}function n8(n){return!!(n.options.overviewRuler&&n.options.overviewRuler.color)}function i8(n){return!!n.options.after||!!n.options.before}class Jne{constructor(){this._decorationsTree0=new ZF,this._decorationsTree1=new ZF,this._injectedTextDecorationsTree=new ZF}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,r,s){const o=e.getVersionId(),a=this._intervalSearch(t,i,r,s,o);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,i,r,s){const o=this._decorationsTree0.intervalSearch(e,t,i,r,s),a=this._decorationsTree1.intervalSearch(e,t,i,r,s),l=this._injectedTextDecorationsTree.intervalSearch(e,t,i,r,s);return o.concat(a).concat(l)}getInjectedTextInInterval(e,t,i,r){const s=e.getVersionId(),o=this._injectedTextDecorationsTree.intervalSearch(t,i,r,!1,s);return this._ensureNodesHaveRanges(e,o).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,r).filter(s=>s.options.showIfCollapsed||!s.range.isEmpty())}getAll(e,t,i,r){const s=e.getVersionId(),o=this._search(t,i,r,s);return this._ensureNodesHaveRanges(e,o)}_search(e,t,i,r){if(i)return this._decorationsTree1.search(e,t,r);{const s=this._decorationsTree0.search(e,t,r),o=this._decorationsTree1.search(e,t,r),a=this._injectedTextDecorationsTree.search(e,t,r);return s.concat(o).concat(a)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){i8(e)?this._injectedTextDecorationsTree.insert(e):n8(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){i8(e)?this._injectedTextDecorationsTree.delete(e):n8(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){i8(e)?this._injectedTextDecorationsTree.resolveNode(e,t):n8(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,r){this._decorationsTree0.acceptReplace(e,t,i,r),this._decorationsTree1.acceptReplace(e,t,i,r),this._injectedTextDecorationsTree.acceptReplace(e,t,i,r)}}function Ip(n){return n.replace(/[^a-z0-9\-_]/gi," ")}class Jme{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class lgt extends Jme{constructor(e){super(e);this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:Pu.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class ugt extends Jme{constructor(e){super(e);this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?We.fromHex(e):t.getColor(e.id)}}class H_{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}static from(e){return e instanceof H_?e:new H_(e)}}class dn{constructor(e){var t,i;this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Ip(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new lgt(e.overviewRuler):null,this.minimap=e.minimap?new ugt(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Ip(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Ip(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Ip(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Ip(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Ip(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Ip(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Ip(e.afterContentClassName):null,this.after=e.after?H_.from(e.after):null,this.before=e.before?H_.from(e.before):null,this.hideInCommentTokens=(t=e.hideInCommentTokens)!==null&&t!==void 0?t:!1,this.hideInStringTokens=(i=e.hideInStringTokens)!==null&&i!==void 0?i:!1}static register(e){return new dn(e)}static createDynamic(e){return new dn(e)}}dn.EMPTY=dn.register({description:"empty"});const eie=[dn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),dn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),dn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),dn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function tie(n){return n instanceof dn?n:dn.createDynamic(n)}class cgt extends ze{constructor(e){super();this.handleBeforeFire=e,this._actual=this._register(new Le),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(t)}(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!!(e.minimap&&e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(e.overviewRuler&&e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class dgt extends ze{constructor(){super();this._fastEmitter=this._register(new Le),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new Le),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}const hgt=()=>!0,fgt=()=>!1,ggt=n=>n===" "||n==="	";class Eb{constructor(e,t,i,r){this.languageConfigurationService=r,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const s=i.options,o=s.get(131);this.readOnly=s.get(81),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=s.get(104),this.lineHeight=s.get(59),this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=s.get(116),this.wordSeparators=s.get(117),this.emptySelectionClipboard=s.get(32),this.copyWithSyntaxHighlighting=s.get(21),this.multiCursorMergeOverlapping=s.get(69),this.multiCursorPaste=s.get(71),this.autoClosingBrackets=s.get(5),this.autoClosingQuotes=s.get(8),this.autoClosingDelete=s.get(6),this.autoClosingOvertype=s.get(7),this.autoSurround=s.get(11),this.autoIndent=s.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const a=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(a)for(const l of a)this.surroundingPairs[l.open]=l.close}static shouldRecreate(e){return e.hasChanged(131)||e.hasChanged(117)||e.hasChanged(32)||e.hasChanged(69)||e.hasChanged(71)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(116)||e.hasChanged(59)||e.hasChanged(81)}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||e===void 0?void 0:e.getElectricCharacters();if(t)for(const i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){const r=uA(t,i-1),s=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return s?s.onElectricCharacter(e,r,i-r.firstCharOffset):null}normalizeIndentation(e){return Vc.normalizeIndentation(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return ggt;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e);case"always":return hgt;case"never":return fgt}}_getLanguageDefinedShouldAutoClose(e){const t=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet();return i=>t.indexOf(i)!==-1}visibleColumnFromColumn(e,t){return gs.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const r=gs.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),s=e.getLineMinColumn(t);if(r<s)return s;const o=e.getLineMaxColumn(t);return r>o?o:r}}class nie{constructor(e,t,i,r){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=r}}class mn{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new pgt(e)}static fromViewState(e){return new mgt(e)}static fromModelSelection(e){const t=vt.liftSelection(e),i=new Ws(Y.fromPositions(t.getSelectionStart()),0,t.getPosition(),0);return mn.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class pgt{constructor(e){this.modelState=e,this.viewState=null}}class mgt{constructor(e){this.modelState=null,this.viewState=e}}class Ws{constructor(e,t,i,r){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=r,this.selection=Ws._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,r){return e?new Ws(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new Ae(t,i),r):new Ws(new Y(t,i,t,i),r,new Ae(t,i),r)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?vt.fromPositions(e.getStartPosition(),t):vt.fromPositions(e.getEndPosition(),t)}}class Ka{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function Qb(n){return n==="'"||n==='"'||n==="`"}class C0{static columnSelect(e,t,i,r,s,o){const a=Math.abs(s-i)+1,l=i>s,u=r>o,c=r<o,d=[];for(let h=0;h<a;h++){const f=i+(l?-h:h),g=e.columnFromVisibleColumn(t,f,r),p=e.columnFromVisibleColumn(t,f,o),m=e.visibleColumnFromColumn(t,new Ae(f,g)),b=e.visibleColumnFromColumn(t,new Ae(f,p));c&&(m>o||b<r)||u&&(b>r||m<o)||d.push(new Ws(new Y(f,g,f,g),0,new Ae(f,p),0))}if(d.length===0)for(let h=0;h<a;h++){const f=i+(l?-h:h),g=t.getLineMaxColumn(f);d.push(new Ws(new Y(f,g,f,g),0,new Ae(f,g),0))}return{viewStates:d,reversed:l,fromLineNumber:i,fromVisualColumn:r,toLineNumber:s,toVisualColumn:o}}static columnSelectLeft(e,t,i){let r=i.toViewVisualColumn;return r>0&&r--,C0.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectRight(e,t,i){let r=0;const s=Math.min(i.fromViewLineNumber,i.toViewLineNumber),o=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=s;l<=o;l++){const u=t.getLineMaxColumn(l),c=e.visibleColumnFromColumn(t,new Ae(l,u));r=Math.max(r,c)}let a=i.toViewVisualColumn;return a<r&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,r){const s=r?e.pageSize:1,o=Math.max(1,i.toViewLineNumber-s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}static columnSelectDown(e,t,i,r){const s=r?e.pageSize:1,o=Math.min(t.getLineCount(),i.toViewLineNumber+s);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}}class Zs{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return vt.fromPositions(r.getEndPosition())}}class vgt{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return vt.fromRange(r,0)}}class yT{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return vt.fromPositions(r.getStartPosition())}}class Ex{constructor(e,t,i,r,s=!1){this._range=e,this._text=t,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=s}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return vt.fromPositions(r.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class nK{constructor(e,t,i,r=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=r,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class r8{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class Xn{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-jge(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new Ae(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const r=e.getLineMinColumn(t.lineNumber),s=e.getLineContent(t.lineNumber),o=kk.atomicPosition(s,t.column-1,i,0);if(o!==-1&&o+1>=r)return new Ae(t.lineNumber,o+1)}return this.leftPosition(e,t)}static left(e,t,i){const r=e.stickyTabStops?Xn.leftPositionAtomicSoftTabs(t,i,e.tabSize):Xn.leftPosition(t,i);return new r8(r.lineNumber,r.column,0)}static moveLeft(e,t,i,r,s){let o,a;if(i.hasSelection()&&!r)o=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(s-1)),u=t.normalizePosition(Xn.clipPositionColumn(l,t),0),c=Xn.left(e,t,u);o=c.lineNumber,a=c.column}return i.move(r,o,a,0)}static clipPositionColumn(e,t){return new Ae(e.lineNumber,Xn.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+tj(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new Ae(t,i)}static rightPositionAtomicSoftTabs(e,t,i,r,s){if(i<e.getLineIndentColumn(t)){const o=e.getLineContent(t),a=kk.atomicPosition(o,i-1,r,1);if(a!==-1)return new Ae(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const r=e.stickyTabStops?Xn.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):Xn.rightPosition(t,i.lineNumber,i.column);return new r8(r.lineNumber,r.column,0)}static moveRight(e,t,i,r,s){let o,a;if(i.hasSelection()&&!r)o=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,s-1),u=t.normalizePosition(Xn.clipPositionColumn(l,t),1),c=Xn.right(e,t,u);o=c.lineNumber,a=c.column}return i.move(r,o,a,0)}static vertical(e,t,i,r,s,o,a,l){const u=gs.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+s,c=t.getLineCount(),d=i===1&&r===1,h=i===c&&r===t.getLineMaxColumn(i),f=o<i?d:h;if(i=o,i<1?(i=1,a?r=t.getLineMinColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):i>c?(i=c,a?r=t.getLineMaxColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):r=e.columnFromVisibleColumn(t,i,u),f?s=0:s=u-gs.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),l!==void 0){const g=new Ae(i,r),p=t.normalizePosition(g,l);s=s+(r-p.column),i=p.lineNumber,r=p.column}return new r8(i,r,s)}static down(e,t,i,r,s,o,a){return this.vertical(e,t,i,r,s,i+o,a,1)}static moveDown(e,t,i,r,s){let o,a;i.hasSelection()&&!r?(o=i.selection.endLineNumber,a=i.selection.endColumn):(o=i.position.lineNumber,a=i.position.column);const l=Xn.down(e,t,o,a,i.leftoverVisibleColumns,s,!0);return i.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,i){const r=i.selection,s=Xn.down(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=Xn.down(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new Ws(new Y(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new Ae(o.lineNumber,o.column),o.leftoverVisibleColumns)}static up(e,t,i,r,s,o,a){return this.vertical(e,t,i,r,s,i-o,a,0)}static moveUp(e,t,i,r,s){let o,a;i.hasSelection()&&!r?(o=i.selection.startLineNumber,a=i.selection.startColumn):(o=i.position.lineNumber,a=i.position.column);const l=Xn.up(e,t,o,a,i.leftoverVisibleColumns,s,!0);return i.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const r=i.selection,s=Xn.up(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=Xn.up(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new Ws(new Y(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new Ae(o.lineNumber,o.column),o.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,r){let s=i.position.lineNumber;for(;s>1&&this._isBlankLine(t,s);)s--;for(;s>1&&!this._isBlankLine(t,s);)s--;return i.move(r,s,t.getLineMinColumn(s),0)}static moveToNextBlankLine(e,t,i,r){const s=t.getLineCount();let o=i.position.lineNumber;for(;o<s&&this._isBlankLine(t,o);)o++;for(;o<s&&!this._isBlankLine(t,o);)o++;return i.move(r,o,t.getLineMinColumn(o),0)}static moveToBeginningOfLine(e,t,i,r){const s=i.position.lineNumber,o=t.getLineMinColumn(s),a=t.getLineFirstNonWhitespaceColumn(s)||o;let l;return i.position.column===a?l=o:l=a,i.move(r,s,l,0)}static moveToEndOfLine(e,t,i,r,s){const o=i.position.lineNumber,a=t.getLineMaxColumn(o);return i.move(r,o,a,s?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,r){return i.move(r,1,1,0)}static moveToEndOfBuffer(e,t,i,r){const s=t.getLineCount(),o=t.getLineMaxColumn(s);return i.move(r,s,o,0)}}class z_{static deleteRight(e,t,i,r){const s=[];let o=e!==3;for(let a=0,l=r.length;a<l;a++){const u=r[a];let c=u;if(c.isEmpty()){const d=u.getPosition(),h=Xn.right(t,i,d);c=new Y(h.lineNumber,h.column,d.lineNumber,d.column)}if(c.isEmpty()){s[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(o=!0),s[a]=new Zs(c,"")}return[o,s]}static isAutoClosingPairDelete(e,t,i,r,s,o,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,u=o.length;l<u;l++){const c=o[l],d=c.getPosition();if(!c.isEmpty())return!1;const h=s.getLineContent(d.lineNumber);if(d.column<2||d.column>=h.length+1)return!1;const f=h.charAt(d.column-2),g=r.get(f);if(!g)return!1;if(Qb(f)){if(i==="never")return!1}else if(t==="never")return!1;const p=h.charAt(d.column-1);let m=!1;for(const b of g)b.open===f&&b.close===p&&(m=!0);if(!m)return!1;if(e==="auto"){let b=!1;for(let _=0,C=a.length;_<C;_++){const w=a[_];if(d.lineNumber===w.startLineNumber&&d.column===w.startColumn){b=!0;break}}if(!b)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].getPosition(),l=new Y(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[s]=new Zs(l,"")}return[!0,r]}static deleteLeft(e,t,i,r,s){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,r,s))return this._runAutoClosingPairDelete(t,i,r);const o=[];let a=e!==2;for(let l=0,u=r.length;l<u;l++){const c=z_.getDeleteRange(r[l],i,t);if(c.isEmpty()){o[l]=null;continue}c.startLineNumber!==c.endLineNumber&&(a=!0),o[l]=new Zs(c,"")}return[a,o]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const r=e.getPosition();if(i.useTabStops&&r.column>1){const s=t.getLineContent(r.lineNumber),o=oa(s),a=o===-1?s.length+1:o+1;if(r.column<=a){const l=i.visibleColumnFromColumn(t,r),u=gs.prevIndentTabStop(l,i.indentSize),c=i.columnFromVisibleColumn(t,r.lineNumber,u);return new Y(r.lineNumber,c,r.lineNumber,r.column)}}return Y.fromPositions(z_.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=Uot(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new Ae(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){const r=[];let s=null;i.sort((o,a)=>Ae.compare(o.getStartPosition(),a.getEndPosition()));for(let o=0,a=i.length;o<a;o++){const l=i[o];if(l.isEmpty())if(e.emptySelectionClipboard){const u=l.getPosition();let c,d,h,f;u.lineNumber<t.getLineCount()?(c=u.lineNumber,d=1,h=u.lineNumber+1,f=1):u.lineNumber>1&&(s==null?void 0:s.endLineNumber)!==u.lineNumber?(c=u.lineNumber-1,d=t.getLineMaxColumn(u.lineNumber-1),h=u.lineNumber,f=t.getLineMaxColumn(u.lineNumber)):(c=u.lineNumber,d=1,h=u.lineNumber,f=t.getLineMaxColumn(u.lineNumber));const g=new Y(c,d,h,f);s=g,g.isEmpty()?r[o]=null:r[o]=new Zs(g,"")}else r[o]=null;else r[o]=new Zs(l,"")}return new Ka(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class Wn{static _createWord(e,t,i,r,s){return{start:r,end:s,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(r,e,i)}static _doFindPreviousWordOnLine(e,t,i){let r=0;for(let s=i.column-2;s>=0;s--){const o=e.charCodeAt(s),a=t.get(o);if(a===0){if(r===2)return this._createWord(e,r,a,s+1,this._findEndOfWord(e,t,r,s+1));r=1}else if(a===2){if(r===1)return this._createWord(e,r,a,s+1,this._findEndOfWord(e,t,r,s+1));r=2}else if(a===1&&r!==0)return this._createWord(e,r,a,s+1,this._findEndOfWord(e,t,r,s+1))}return r!==0?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}static _findEndOfWord(e,t,i,r){const s=e.length;for(let o=r;o<s;o++){const a=e.charCodeAt(o),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return o}return s}static _findNextWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(r,e,i)}static _doFindNextWordOnLine(e,t,i){let r=0;const s=e.length;for(let o=i.column-1;o<s;o++){const a=e.charCodeAt(o),l=t.get(a);if(l===0){if(r===2)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,o-1),o);r=1}else if(l===2){if(r===1)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,o-1),o);r=2}else if(l===1&&r!==0)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,o-1),o)}return r!==0?this._createWord(e,r,1,this._findStartOfWord(e,t,r,s-1),s):null}static _findStartOfWord(e,t,i,r){for(let s=r;s>=0;s--){const o=e.charCodeAt(s),a=t.get(o);if(a===1||i===1&&a===2||i===2&&a===0)return s+1}return 0}static moveWordLeft(e,t,i,r){let s=i.lineNumber,o=i.column;o===1&&s>1&&(s=s-1,o=t.getLineMaxColumn(s));let a=Wn._findPreviousWordOnLine(e,t,new Ae(s,o));if(r===0)return new Ae(s,a?a.start+1:1);if(r===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=Wn._findPreviousWordOnLine(e,t,new Ae(s,a.start+1))),new Ae(s,a?a.start+1:1);if(r===3){for(;a&&a.wordType===2;)a=Wn._findPreviousWordOnLine(e,t,new Ae(s,a.start+1));return new Ae(s,a?a.start+1:1)}return a&&o<=a.end+1&&(a=Wn._findPreviousWordOnLine(e,t,new Ae(s,a.start+1))),new Ae(s,a?a.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===1)return i>1?new Ae(i-1,e.getLineMaxColumn(i-1)):t;const s=e.getLineContent(i);for(let o=t.column-1;o>1;o--){const a=s.charCodeAt(o-2),l=s.charCodeAt(o-1);if(a===95&&l!==95)return new Ae(i,o);if(em(a)&&_h(l))return new Ae(i,o);if(_h(a)&&_h(l)&&o+1<r){const u=s.charCodeAt(o);if(em(u))return new Ae(i,o)}}return new Ae(i,1)}static moveWordRight(e,t,i,r){let s=i.lineNumber,o=i.column,a=!1;o===t.getLineMaxColumn(s)&&s<t.getLineCount()&&(a=!0,s=s+1,o=1);let l=Wn._findNextWordOnLine(e,t,new Ae(s,o));if(r===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Wn._findNextWordOnLine(e,t,new Ae(s,l.end+1))),l?o=l.end+1:o=t.getLineMaxColumn(s);else if(r===3){for(a&&(o=0);l&&(l.wordType===2||l.start+1<=o);)l=Wn._findNextWordOnLine(e,t,new Ae(s,l.end+1));l?o=l.start+1:o=t.getLineMaxColumn(s)}else l&&!a&&o>=l.start+1&&(l=Wn._findNextWordOnLine(e,t,new Ae(s,l.end+1))),l?o=l.start+1:o=t.getLineMaxColumn(s);return new Ae(s,o)}static _moveWordPartRight(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===r)return i<e.getLineCount()?new Ae(i+1,1):t;const s=e.getLineContent(i);for(let o=t.column+1;o<r;o++){const a=s.charCodeAt(o-2),l=s.charCodeAt(o-1);if(a!==95&&l===95)return new Ae(i,o);if(em(a)&&_h(l))return new Ae(i,o);if(_h(a)&&_h(l)&&o+1<r){const u=s.charCodeAt(o);if(em(u))return new Ae(i,o)}}return new Ae(i,r)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-2,s=jh(i,r);return s+1<r?new Y(t.lineNumber,s+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;if(z_.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const d=e.selection.getPosition();return new Y(d.lineNumber,d.column-1,d.lineNumber,d.column+1)}const a=new Ae(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,u=a.column;if(l===1&&u===1)return null;if(o){const d=this._deleteWordLeftWhitespace(r,a);if(d)return d}let c=Wn._findPreviousWordOnLine(i,r,a);return t===0?c?u=c.start+1:u>1?u=1:(l--,u=r.getLineMaxColumn(l)):(c&&u<=c.end+1&&(c=Wn._findPreviousWordOnLine(i,r,new Ae(l,c.start+1))),c?u=c.end+1:u>1?u=1:(l--,u=r.getLineMaxColumn(l))),new Y(l,u,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const r=new Ae(i.positionLineNumber,i.positionColumn),s=this._deleteInsideWordWhitespace(t,r);return s||this._deleteInsideWordDetermineDeleteRange(e,t,r)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=i.length;if(r===0)return null;let s=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,s))return null;let o=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(i,o))return null;for(;s>0&&this._charAtIsWhitespace(i,s-1);)s--;for(;o+1<r&&this._charAtIsWhitespace(i,o+1);)o++;return new Y(t.lineNumber,s+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const r=t.getLineContent(i.lineNumber),s=r.length;if(s===0)return i.lineNumber>1?new Y(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new Y(i.lineNumber,1,i.lineNumber+1,1):new Y(i.lineNumber,1,i.lineNumber,1);const o=d=>d.start+1<=i.column&&i.column<=d.end+1,a=(d,h)=>(d=Math.min(d,i.column),h=Math.max(h,i.column),new Y(i.lineNumber,d,i.lineNumber,h)),l=d=>{let h=d.start+1,f=d.end+1,g=!1;for(;f-1<s&&this._charAtIsWhitespace(r,f-1);)g=!0,f++;if(!g)for(;h>1&&this._charAtIsWhitespace(r,h-2);)h--;return a(h,f)},u=Wn._findPreviousWordOnLine(e,t,i);if(u&&o(u))return l(u);const c=Wn._findNextWordOnLine(e,t,i);return c&&o(c)?l(c):u&&c?a(u.end+1,c.start+1):u?a(u.start+1,u.end+1):c?a(c.start+1,c.end+1):a(1,s+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=Wn._moveWordPartLeft(e,i);return new Y(i.lineNumber,i.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let r=t;r<i;r++){const s=e.charAt(r);if(s!==" "&&s!=="	")return r}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-1,s=this._findFirstNonWhitespaceChar(i,r);return r+1<s?new Y(t.lineNumber,t.column,t.lineNumber,s+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;const a=new Ae(s.positionLineNumber,s.positionColumn);let l=a.lineNumber,u=a.column;const c=r.getLineCount(),d=r.getLineMaxColumn(l);if(l===c&&u===d)return null;if(o){const f=this._deleteWordRightWhitespace(r,a);if(f)return f}let h=Wn._findNextWordOnLine(i,r,a);return t===2?h?u=h.end+1:u<d||l===c?u=d:(l++,h=Wn._findNextWordOnLine(i,r,new Ae(l,1)),h?u=h.start+1:u=r.getLineMaxColumn(l)):(h&&u>=h.start+1&&(h=Wn._findNextWordOnLine(i,r,new Ae(l,h.end+1))),h?u=h.start+1:u<d||l===c?u=d:(l++,h=Wn._findNextWordOnLine(i,r,new Ae(l,1)),h?u=h.start+1:u=r.getLineMaxColumn(l))),new Y(l,u,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=Wn._moveWordPartRight(e,i);return new Y(i.lineNumber,i.column,r.lineNumber,r.column)}static _createWordAtPosition(e,t,i){const r=new Y(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(e,t,i){const r=Bu(t),s=Wn._findPreviousWordOnLine(r,e,i);if(s&&s.wordType===1&&s.start<=i.column-1&&i.column-1<=s.end)return Wn._createWordAtPosition(e,i.lineNumber,s);const o=Wn._findNextWordOnLine(r,e,i);return o&&o.wordType===1&&o.start<=i.column-1&&i.column-1<=o.end?Wn._createWordAtPosition(e,i.lineNumber,o):null}static word(e,t,i,r,s){const o=Bu(e.wordSeparators),a=Wn._findPreviousWordOnLine(o,t,s),l=Wn._findNextWordOnLine(o,t,s);if(!r){let f,g;return a&&a.wordType===1&&a.start<=s.column-1&&s.column-1<=a.end?(f=a.start+1,g=a.end+1):l&&l.wordType===1&&l.start<=s.column-1&&s.column-1<=l.end?(f=l.start+1,g=l.end+1):(a?f=a.end+1:f=1,l?g=l.start+1:g=t.getLineMaxColumn(s.lineNumber)),new Ws(new Y(s.lineNumber,f,s.lineNumber,g),0,new Ae(s.lineNumber,g),0)}let u,c;a&&a.wordType===1&&a.start<s.column-1&&s.column-1<a.end?(u=a.start+1,c=a.end+1):l&&l.wordType===1&&l.start<s.column-1&&s.column-1<l.end?(u=l.start+1,c=l.end+1):(u=s.column,c=s.column);const d=s.lineNumber;let h;if(i.selectionStart.containsPosition(s))h=i.selectionStart.endColumn;else if(s.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=u;const f=new Ae(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.endColumn)}else{h=c;const f=new Ae(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.startColumn)}return i.move(!0,d,h,0)}}class E4 extends Wn{static deleteWordPartLeft(e){const t=wT([Wn.deleteWordLeft(e,0),Wn.deleteWordLeft(e,2),Wn._deleteWordPartLeft(e.model,e.selection)]);return t.sort(Y.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=wT([Wn.deleteWordRight(e,0),Wn.deleteWordRight(e,2),Wn._deleteWordPartRight(e.model,e.selection)]);return t.sort(Y.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const r=wT([Wn.moveWordLeft(e,t,i,0),Wn.moveWordLeft(e,t,i,2),Wn._moveWordPartLeft(t,i)]);return r.sort(Ae.compare),r[2]}static moveWordPartRight(e,t,i){const r=wT([Wn.moveWordRight(e,t,i,0),Wn.moveWordRight(e,t,i,2),Wn._moveWordPartRight(t,i)]);return r.sort(Ae.compare),r[0]}}function wT(n){return n.filter(e=>Boolean(e))}class Bs{static addCursorDown(e,t,i){const r=[];let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];r[s++]=new mn(l.modelState,l.viewState),i?r[s++]=mn.fromModelState(Xn.translateDown(e.cursorConfig,e.model,l.modelState)):r[s++]=mn.fromViewState(Xn.translateDown(e.cursorConfig,e,l.viewState))}return r}static addCursorUp(e,t,i){const r=[];let s=0;for(let o=0,a=t.length;o<a;o++){const l=t[o];r[s++]=new mn(l.modelState,l.viewState),i?r[s++]=mn.fromModelState(Xn.translateUp(e.cursorConfig,e.model,l.modelState)):r[s++]=mn.fromViewState(Xn.translateUp(e.cursorConfig,e,l.viewState))}return r}static moveToBeginningOfLine(e,t,i){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=this._moveToLineStart(e,a,i)}return r}static _moveToLineStart(e,t,i){const r=t.viewState.position.column,s=t.modelState.position.column,o=r===s,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!o&&!(r===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return mn.fromViewState(Xn.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return mn.fromModelState(Xn.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=this._moveToLineEnd(e,l,i,r)}return s}static _moveToLineEnd(e,t,i,r){const s=t.viewState.position,o=e.getLineMaxColumn(s.lineNumber),a=s.column===o,l=t.modelState.position,u=e.model.getLineMaxColumn(l.lineNumber),c=o-s.column===u-l.column;return a||c?this._moveToLineEndByModel(e,t,i,r):this._moveToLineEndByView(e,t,i,r)}static _moveToLineEndByView(e,t,i,r){return mn.fromViewState(Xn.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,r))}static _moveToLineEndByModel(e,t,i,r){return mn.fromModelState(Xn.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,r))}static expandLineSelection(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r],a=o.modelState.selection.startLineNumber,l=e.model.getLineCount();let u=o.modelState.selection.endLineNumber,c;u===l?c=e.model.getLineMaxColumn(l):(u++,c=1),i[r]=mn.fromModelState(new Ws(new Y(a,1,a,1),0,new Ae(u,c),0))}return i}static moveToBeginningOfBuffer(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=mn.fromModelState(Xn.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static moveToEndOfBuffer(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=mn.fromModelState(Xn.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static selectAll(e,t){const i=e.model.getLineCount(),r=e.model.getLineMaxColumn(i);return mn.fromModelState(new Ws(new Y(1,1,1,1),0,new Ae(i,r),0))}static line(e,t,i,r,s){const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new Ae(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);if(!i||!t.modelState.hasSelection()){const u=e.model.getLineCount();let c=o.lineNumber+1,d=1;return c>u&&(c=u,d=e.model.getLineMaxColumn(c)),mn.fromModelState(new Ws(new Y(o.lineNumber,1,c,d),0,new Ae(c,d),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<l)return mn.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(o.lineNumber>l){const u=e.getLineCount();let c=a.lineNumber+1,d=1;return c>u&&(c=u,d=e.getLineMaxColumn(c)),mn.fromViewState(t.viewState.move(t.modelState.hasSelection(),c,d,0))}else{const u=t.modelState.selectionStart.getEndPosition();return mn.fromModelState(t.modelState.move(t.modelState.hasSelection(),u.lineNumber,u.column,0))}}static word(e,t,i,r){const s=e.model.validatePosition(r);return mn.fromModelState(Wn.word(e.cursorConfig,e.model,t.modelState,i,s))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new mn(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,r=t.viewState.position.column;return mn.fromViewState(new Ws(new Y(i,r,i,r),0,new Ae(i,r),0))}static moveTo(e,t,i,r,s){const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new Ae(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);return mn.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,r,s,o){switch(i){case 0:return o===4?this._moveHalfLineLeft(e,t,r):this._moveLeft(e,t,r,s);case 1:return o===4?this._moveHalfLineRight(e,t,r):this._moveRight(e,t,r,s);case 2:return o===2?this._moveUpByViewLines(e,t,r,s):this._moveUpByModelLines(e,t,r,s);case 3:return o===2?this._moveDownByViewLines(e,t,r,s):this._moveDownByModelLines(e,t,r,s);case 4:return o===2?t.map(a=>mn.fromViewState(Xn.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>mn.fromModelState(Xn.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 5:return o===2?t.map(a=>mn.fromViewState(Xn.moveToNextBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>mn.fromModelState(Xn.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(e,t,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,r);case 8:return this._moveToViewCenterColumn(e,t,r);case 9:return this._moveToViewMaxColumn(e,t,r);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,r);default:return null}}static viewportMove(e,t,i,r,s){const o=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,s),u=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,u)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,s),u=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,u)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),u=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,u)]}case 14:{const l=[];for(let u=0,c=t.length;u<c;u++){const d=t[u];l[u]=this.findPositionInViewportIfOutside(e,d,o,r)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,r){const s=t.viewState.position.lineNumber;if(i.startLineNumber<=s&&s<=i.endLineNumber-1)return new mn(t.modelState,t.viewState);{let o;s>i.endLineNumber-1?o=i.endLineNumber-1:s<i.startLineNumber?o=i.startLineNumber:o=s;const a=Xn.vertical(e.cursorConfig,e,s,t.viewState.position.column,t.viewState.leftoverVisibleColumns,o,!1);return mn.fromViewState(t.viewState.move(r,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.min(t.endLineNumber,r+i-1)}static _lastLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.max(r,t.endLineNumber-i+1)}static _moveLeft(e,t,i,r){return t.map(s=>mn.fromViewState(Xn.moveLeft(e.cursorConfig,e,s.viewState,i,r)))}static _moveHalfLineLeft(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,u=Math.round(e.getLineContent(l).length/2);r[s]=mn.fromViewState(Xn.moveLeft(e.cursorConfig,e,a.viewState,i,u))}return r}static _moveRight(e,t,i,r){return t.map(s=>mn.fromViewState(Xn.moveRight(e.cursorConfig,e,s.viewState,i,r)))}static _moveHalfLineRight(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,u=Math.round(e.getLineContent(l).length/2);r[s]=mn.fromViewState(Xn.moveRight(e.cursorConfig,e,a.viewState,i,u))}return r}static _moveDownByViewLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=mn.fromViewState(Xn.moveDown(e.cursorConfig,e,l.viewState,i,r))}return s}static _moveDownByModelLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=mn.fromModelState(Xn.moveDown(e.cursorConfig,e.model,l.modelState,i,r))}return s}static _moveUpByViewLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=mn.fromViewState(Xn.moveUp(e.cursorConfig,e,l.viewState,i,r))}return s}static _moveUpByModelLines(e,t,i,r){const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];s[o]=mn.fromModelState(Xn.moveUp(e.cursorConfig,e.model,l.modelState,i,r))}return s}static _moveToViewPosition(e,t,i,r,s){return mn.fromViewState(t.viewState.move(i,r,s,0))}static _moveToModelPosition(e,t,i,r,s){return mn.fromModelState(t.modelState.move(i,r,s,0))}static _moveToViewMinColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,u=e.getLineMinColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,u)}return r}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,u=e.getLineFirstNonWhitespaceColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,u)}return r}static _moveToViewCenterColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,u=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);r[s]=this._moveToViewPosition(e,a,i,l,u)}return r}static _moveToViewMaxColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,u=e.getLineMaxColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,u)}return r}static _moveToViewLastNonWhitespaceColumn(e,t,i){const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.viewState.position.lineNumber,u=e.getLineLastNonWhitespaceColumn(l);r[s]=this._moveToViewPosition(e,a,i,l,u)}return r}}var MA;(function(n){const e=function(i){if(!Da(i))return!1;const r=i;return!(!Ru(r.to)||!Qa(r.select)&&!Ege(r.select)||!Qa(r.by)&&!Ru(r.by)||!Qa(r.value)&&!T_(r.value))};n.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let r;switch(i.to){case n.RawDirection.Left:r=0;break;case n.RawDirection.Right:r=1;break;case n.RawDirection.Up:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.PrevBlankLine:r=4;break;case n.RawDirection.NextBlankLine:r=5;break;case n.RawDirection.WrappedLineStart:r=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case n.RawDirection.WrappedLineColumnCenter:r=8;break;case n.RawDirection.WrappedLineEnd:r=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case n.RawDirection.ViewPortTop:r=11;break;case n.RawDirection.ViewPortBottom:r=13;break;case n.RawDirection.ViewPortCenter:r=12;break;case n.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let s=0;switch(i.by){case n.RawUnit.Line:s=1;break;case n.RawUnit.WrappedLine:s=2;break;case n.RawUnit.Character:s=3;break;case n.RawUnit.HalfLine:s=4;break}return{direction:r,unit:s,select:!!i.select,value:i.value||1}}n.parse=t})(MA||(MA={}));const s8=Object.create(null);function Gv(n,e){if(e<=0)return"";s8[n]||(s8[n]=["",n]);const t=s8[n];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+n;return t[e]}class Tl{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,r,s){const o=gs.visibleColumnFromColumn(e,t,i);if(s){const a=Gv(" ",r),u=gs.prevIndentTabStop(o,r)/r;return Gv(a,u)}else{const a="	",u=gs.prevRenderTabStop(o,i)/i;return Gv(a,u)}}static shiftIndent(e,t,i,r,s){const o=gs.visibleColumnFromColumn(e,t,i);if(s){const a=Gv(" ",r),u=gs.nextIndentTabStop(o,r)/r;return Gv(a,u)}else{const a="	",u=gs.nextRenderTabStop(o,i)/i;return Gv(a,u)}}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&i!==r&&(r=r-1);const{tabSize:s,indentSize:o,insertSpaces:a}=this._opts,l=i===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let u=0,c=0;for(let d=i;d<=r;d++,u=c){c=0;const h=e.getLineContent(d);let f=oa(h);if(this._opts.isUnshift&&(h.length===0||f===0)||!l&&!this._opts.isUnshift&&h.length===0)continue;if(f===-1&&(f=h.length),d>1&&gs.visibleColumnFromColumn(h,f+1,s)%o!==0&&e.isCheapToTokenize(d-1)){const m=cs.getEnterAction(this._opts.autoIndent,e,new Y(d-1,e.getLineMaxColumn(d-1),d-1,e.getLineMaxColumn(d-1)));if(m){if(c=u,m.appendText)for(let b=0,_=m.appendText.length;b<_&&c<o&&m.appendText.charCodeAt(b)===32;b++)c++;m.removeText&&(c=Math.max(0,c-m.removeText));for(let b=0;b<c&&!(f===0||h.charCodeAt(f-1)!==32);b++)f--}}if(this._opts.isUnshift&&f===0)continue;let g;this._opts.isUnshift?g=Tl.unshiftIndent(h,f+1,s,o,a):g=Tl.shiftIndent(h,f+1,s,o,a),this._addEditOperation(t,new Y(d,1,d,f+1),g),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const u=a?Gv(" ",o):"	";for(let c=i;c<=r;c++){const d=e.getLineContent(c);let h=oa(d);if(!(this._opts.isUnshift&&(d.length===0||h===0))&&!(!l&&!this._opts.isUnshift&&d.length===0)&&(h===-1&&(h=d.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,o);for(let f=0;f<h;f++)if(d.charCodeAt(f)===9){h=f+1;break}this._addEditOperation(t,new Y(c,1,c,h+1),"")}else this._addEditOperation(t,new Y(c,1,c,1),u),c===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const r=t.getInverseEditOperations()[0];return new vt(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const r=this._selection.startColumn;return i.startColumn<=r?i:i.getDirection()===0?new vt(i.startLineNumber,r,i.endLineNumber,i.endColumn):new vt(i.endLineNumber,i.endColumn,i.startLineNumber,r)}return i}}class _gt{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new Y(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new Y(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),r=i[0].range,s=i[1].range;return new vt(r.endLineNumber,r.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}class lr{static indent(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new Tl(i[s],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return r}static outdent(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new Tl(i[s],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return r}static shiftIndent(e,t,i){return i=i||1,Tl.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,Tl.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,r){const s=[];for(let o=0,a=i.length;o<a;o++)s[o]=new Zs(i[o],r[o]);return new Ka(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,r,s){const o=[];for(let a=0,l=i.length;a<l;a++){const u=i[a],c=u.getPosition();if(s&&!u.isEmpty()&&(s=!1),s&&r.indexOf(`
`)!==r.length-1&&(s=!1),s){const d=new Y(c.lineNumber,1,c.lineNumber,1);o[a]=new nK(d,r,u,!0)}else o[a]=new Zs(u,r)}return new Ka(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,r,s){if(r||t.length===1)return null;if(s&&s.length===t.length)return s;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));const o=ef(i);if(o.length===t.length)return o}return null}static paste(e,t,i,r,s,o){const a=this._distributePasteToCursors(e,i,r,s,o);return a?(i=i.sort(Y.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,r,s)}static _goodIndentForLine(e,t,i){let r=null,s="";const o=cs.getInheritIndentForLine(e.autoIndent,t,i,!1);if(o)r=o.action,s=o.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const c=t.getLineContent(a);if(jh(c)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),u=cs.getEnterAction(e.autoIndent,t,new Y(a,l,a,l));u&&(s=u.indentation+u.appendText)}return r&&(r===Wr.Indent&&(s=lr.shiftIndent(e,s)),r===Wr.Outdent&&(s=lr.unshiftIndent(e,s)),s=e.normalizeIndentation(s)),s||null}static _replaceJumpToNextIndent(e,t,i,r){let s="";const o=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,o),l=e.indentSize,u=l-a%l;for(let c=0;c<u;c++)s+=" "}else s="	";return new Zs(i,s,r)}static tab(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.isCheapToTokenize(a.startLineNumber)){let u=this._goodIndentForLine(e,t,a.startLineNumber);u=u||"	";const c=e.normalizeIndentation(u);if(!l.startsWith(c)){r[s]=new Zs(new Y(a.startLineNumber,1,a.startLineNumber,l.length+1),c,!0);continue}}r[s]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){r[s]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}r[s]=new Tl(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return r}static compositionType(e,t,i,r,s,o,a,l){const u=r.map(c=>this._compositionType(i,c,s,o,a,l));return new Ka(4,u,{shouldPushStackElementBefore:ST(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,r,s,o){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-r),u=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+s),c=new Y(a.lineNumber,l,a.lineNumber,u);return e.getValueInRange(c)===i&&o===0?null:new Ex(c,i,0,o)}static _typeCommand(e,t,i){return i?new yT(e,t,!0):new Zs(e,t,!0)}static _enter(e,t,i,r){if(e.autoIndent===0)return lr._typeCommand(r,`
`,i);if(!t.isCheapToTokenize(r.getStartPosition().lineNumber)||e.autoIndent===1){const l=t.getLineContent(r.startLineNumber),u=bi(l).substring(0,r.startColumn-1);return lr._typeCommand(r,`
`+e.normalizeIndentation(u),i)}const s=cs.getEnterAction(e.autoIndent,t,r);if(s){if(s.indentAction===Wr.None)return lr._typeCommand(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===Wr.Indent)return lr._typeCommand(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===Wr.IndentOutdent){const l=e.normalizeIndentation(s.indentation),u=e.normalizeIndentation(s.indentation+s.appendText),c=`
`+u+`
`+l;return i?new yT(r,c,!0):new Ex(r,c,-1,u.length-l.length,!0)}else if(s.indentAction===Wr.Outdent){const l=lr.unshiftIndent(e,s.indentation);return lr._typeCommand(r,`
`+e.normalizeIndentation(l+s.appendText),i)}}const o=t.getLineContent(r.startLineNumber),a=bi(o).substring(0,r.startColumn-1);if(e.autoIndent>=4){const l=cs.getIndentForEnter(e.autoIndent,t,r,{unshiftIndent:u=>lr.unshiftIndent(e,u),shiftIndent:u=>lr.shiftIndent(e,u),normalizeIndentation:u=>e.normalizeIndentation(u)});if(l){let u=e.visibleColumnFromColumn(t,r.getEndPosition());const c=r.endColumn,d=t.getLineContent(r.endLineNumber),h=oa(d);if(h>=0?r=r.setEndPosition(r.endLineNumber,Math.max(r.endColumn,h+1)):r=r.setEndPosition(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),i)return new yT(r,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return c<=h+1&&(e.insertSpaces||(u=Math.ceil(u/e.indentSize)),f=Math.min(u+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new Ex(r,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return lr._typeCommand(r,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let r=0,s=i.length;r<s;r++)if(!t.isCheapToTokenize(i[r].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,r){const s=cs.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),o=cs.getIndentActionForType(e.autoIndent,t,i,r,{shiftIndent:a=>lr.shiftIndent(e,a),unshiftIndent:a=>lr.unshiftIndent(e,a)});if(o===null)return null;if(o!==e.normalizeIndentation(s)){const a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?lr._typeCommand(new Y(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(o)+r,!1):lr._typeCommand(new Y(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(o)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+r,!1)}return null}static _isAutoClosingOvertype(e,t,i,r,s){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(s))return!1;for(let o=0,a=i.length;o<a;o++){const l=i[o];if(!l.isEmpty())return!1;const u=l.getPosition(),c=t.getLineContent(u.lineNumber);if(c.charAt(u.column-1)!==s)return!1;const h=Qb(s);if((u.column>2?c.charCodeAt(u.column-2):0)===92&&h)return!1;if(e.autoClosingOvertype==="auto"){let g=!1;for(let p=0,m=r.length;p<m;p++){const b=r[p];if(u.lineNumber===b.startLineNumber&&u.column===b.startColumn){g=!0;break}}if(!g)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,r,s){const o=[];for(let a=0,l=r.length;a<l;a++){const c=r[a].getPosition(),d=new Y(c.lineNumber,c.column,c.lineNumber,c.column+1);o[a]=new Zs(d,s)}return new Ka(4,o,{shouldPushStackElementBefore:ST(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),r=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],s=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],o=r.some(l=>t.startsWith(l.open)),a=s.some(l=>t.startsWith(l.close));return!o&&a}static _findAutoClosingPairOpen(e,t,i,r){const s=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!s)return null;let o=null;for(const a of s)if(o===null||a.open.length>o.open.length){let l=!0;for(const u of i)if(t.getValueInRange(new Y(u.lineNumber,u.column-a.open.length+1,u.lineNumber,u.column))+r!==a.open){l=!1;break}l&&(o=a)}return o}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),r=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let s=null;for(const o of r)o.open!==t.open&&t.open.includes(o.open)&&t.close.endsWith(o.close)&&(!s||o.open.length>s.open.length)&&(s=o);return s}static _getAutoClosingPairClose(e,t,i,r,s){const o=Qb(r),a=o?e.autoClosingQuotes:e.autoClosingBrackets,l=o?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if(a==="never")return null;for(const g of i)if(!g.isEmpty())return null;const u=i.map(g=>{const p=g.getPosition();return s?{lineNumber:p.lineNumber,beforeColumn:p.column-r.length,afterColumn:p.column}:{lineNumber:p.lineNumber,beforeColumn:p.column,afterColumn:p.column}}),c=this._findAutoClosingPairOpen(e,t,u.map(g=>new Ae(g.lineNumber,g.beforeColumn)),r);if(!c)return null;const d=this._findContainedAutoClosingPair(e,c),h=d?d.close:"";let f=!0;for(const g of u){const{lineNumber:p,beforeColumn:m,afterColumn:b}=g,_=t.getLineContent(p),C=_.substring(0,m-1),w=_.substring(b-1);if(w.startsWith(h)||(f=!1),w.length>0){const I=w.charAt(0);if(!lr._isBeforeClosingBrace(e,w)&&!l(I))return null}if(c.open.length===1&&(r==="'"||r==='"')&&a!=="always"){const I=Bu(e.wordSeparators);if(C.length>0){const T=C.charCodeAt(C.length-1);if(I.get(T)===0)return null}}if(!t.isCheapToTokenize(p))return null;t.forceTokenization(p);const S=t.getLineTokens(p),D=uA(S,m-1);if(!c.shouldAutoClose(D,m-D.firstCharOffset))return null;const E=c.findNeutralCharacter();if(E){const I=t.getTokenTypeIfInsertingCharacter(p,m,E);if(!c.isOK(I))return null}}return f?c.close.substring(0,c.close.length-h.length):c.close}static _runAutoClosingOpenCharType(e,t,i,r,s,o,a){const l=[];for(let u=0,c=r.length;u<c;u++){const d=r[u];l[u]=new eve(d,s,!o,a)}return new Ka(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Qb(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,r){if(!lr._shouldSurroundChar(e,r)||!e.surroundingPairs.hasOwnProperty(r))return!1;const s=Qb(r);for(let o=0,a=i.length;o<a;o++){const l=i[o];if(l.isEmpty())return!1;let u=!0;for(let c=l.startLineNumber;c<=l.endLineNumber;c++){const d=t.getLineContent(c),h=c===l.startLineNumber?l.startColumn-1:0,f=c===l.endLineNumber?l.endColumn-1:d.length,g=d.substring(h,f);if(/[^ \t]/.test(g)){u=!1;break}}if(u)return!1;if(s&&l.startLineNumber===l.endLineNumber&&l.startColumn+1===l.endColumn){const c=t.getValueInRange(l);if(Qb(c))return!1}}return!0}static _runSurroundSelectionType(e,t,i,r,s){const o=[];for(let a=0,l=r.length;a<l;a++){const u=r[a],c=t.surroundingPairs[s];o[a]=new _gt(u,s,c)}return new Ka(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,r,s){if(!t.electricChars.hasOwnProperty(s)||!r.isEmpty())return null;const o=r.getPosition();i.forceTokenization(o.lineNumber);const a=i.getLineTokens(o.lineNumber);let l;try{l=t.onElectricCharacter(s,a,o.column)}catch(u){return Qt(u),null}if(!l)return null;if(l.matchOpenBracket){const u=(a.getLineContent()+s).lastIndexOf(l.matchOpenBracket)+1,c=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:o.lineNumber,column:u});if(c){if(c.startLineNumber===o.lineNumber)return null;const d=i.getLineContent(c.startLineNumber),h=bi(d),f=t.normalizeIndentation(h),g=i.getLineContent(o.lineNumber),p=i.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,m=g.substring(p-1,o.column-1),b=f+m+s,_=new Y(o.lineNumber,1,o.lineNumber,o.column),C=new Zs(_,b);return new Ka(o8(b,e),[C],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,r,s,o){if(!r||vt.selectionsArrEqual(r,s))return null;let a=null;for(const u of s){if(!u.isEmpty())return null;const c=u.getPosition(),d=i.getValueInRange(new Y(c.lineNumber,c.column-1,c.lineNumber,c.column));if(a===null)a=d;else if(a!==d)return null}if(!a)return null;if(this._isAutoClosingOvertype(t,i,s,o,a)){const u=s.map(c=>new Zs(new Y(c.positionLineNumber,c.positionColumn,c.positionLineNumber,c.positionColumn+1),"",!1));return new Ka(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const l=this._getAutoClosingPairClose(t,i,s,a,!0);return l!==null?this._runAutoClosingOpenCharType(e,t,i,s,a,!0,l):null}static typeWithInterceptors(e,t,i,r,s,o,a){if(!e&&a===`
`){const c=[];for(let d=0,h=s.length;d<h;d++)c[d]=lr._enter(i,r,!1,s[d]);return new Ka(4,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,r,s)){const c=[];let d=!1;for(let h=0,f=s.length;h<f;h++)if(c[h]=this._runAutoIndentType(i,r,s[h],a),!c[h]){d=!0;break}if(!d)return new Ka(4,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,r,s,o,a))return this._runAutoClosingOvertype(t,i,r,s,a);if(!e){const c=this._getAutoClosingPairClose(i,r,s,a,!1);if(c)return this._runAutoClosingOpenCharType(t,i,r,s,a,!1,c)}if(this._isSurroundSelectionType(i,r,s,a))return this._runSurroundSelectionType(t,i,r,s,a);if(!e&&this._isTypeInterceptorElectricChar(i,r,s)){const c=this._typeInterceptorElectricChar(t,i,r,s[0],a);if(c)return c}const l=[];for(let c=0,d=s.length;c<d;c++)l[c]=new Zs(s[c],a);const u=o8(a,t);return new Ka(u,l,{shouldPushStackElementBefore:ST(t,u),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,r,s){const o=[];for(let l=0,u=r.length;l<u;l++)o[l]=new Zs(r[l],s);const a=o8(s,e);return new Ka(a,o,{shouldPushStackElementBefore:ST(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++){let a=i[s].positionLineNumber;if(a===1)r[s]=new yT(new Y(1,1,1,1),`
`);else{a--;const l=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new Y(a,l,a,l))}}return r}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];const r=[];for(let s=0,o=i.length;s<o;s++){const a=i[s].positionLineNumber,l=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new Y(a,l,a,l))}return r}static lineBreakInsert(e,t,i){const r=[];for(let s=0,o=i.length;s<o;s++)r[s]=this._enter(e,t,!0,i[s]);return r}}class eve extends Ex{constructor(e,t,i,r){super(e,(i?t:"")+r,0,-r.length);this._openCharacter=t,this._closeCharacter=r,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new Y(r.startLineNumber,r.endColumn-this._closeCharacter.length,r.endLineNumber,r.endColumn),this.enclosingRange=new Y(r.startLineNumber,r.endColumn-this._openCharacter.length-this._closeCharacter.length,r.endLineNumber,r.endColumn),super.computeCursorState(e,t)}}function o8(n,e){return n===" "?e===5||e===6?6:5:4}function ST(n,e){return rie(n)&&!rie(e)?!0:n===5?!1:iie(n)!==iie(e)}function iie(n){return n===6||n===5?"space":n}function rie(n){return n===4||n===5||n===6}var ue;(function(n){n.editorSimpleInput=new St("editorSimpleInput",!1,!0),n.editorTextFocus=new St("editorTextFocus",!1,L("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),n.focus=new St("editorFocus",!1,L("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),n.textInputFocus=new St("textInputFocus",!1,L("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),n.readOnly=new St("editorReadonly",!1,L("editorReadonly","Whether the editor is read only")),n.inDiffEditor=new St("inDiffEditor",!1,L("inDiffEditor","Whether the context is a diff editor")),n.columnSelection=new St("editorColumnSelection",!1,L("editorColumnSelection","Whether `editor.columnSelection` is enabled")),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new St("editorHasSelection",!1,L("editorHasSelection","Whether the editor has text selected")),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new St("editorHasMultipleSelections",!1,L("editorHasMultipleSelections","Whether the editor has multiple selections")),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new St("editorTabMovesFocus",!1,L("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInWalkThroughSnippet=new St("isInEmbeddedEditor",!1,!0),n.canUndo=new St("canUndo",!1,!0),n.canRedo=new St("canRedo",!1,!0),n.hoverVisible=new St("editorHoverVisible",!1,L("editorHoverVisible","Whether the editor hover is visible")),n.inCompositeEditor=new St("inCompositeEditor",void 0,L("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),n.notInCompositeEditor=n.inCompositeEditor.toNegated(),n.languageId=new St("editorLangId","",L("editorLangId","The language identifier of the editor")),n.hasCompletionItemProvider=new St("editorHasCompletionItemProvider",!1,L("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),n.hasCodeActionsProvider=new St("editorHasCodeActionsProvider",!1,L("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),n.hasCodeLensProvider=new St("editorHasCodeLensProvider",!1,L("editorHasCodeLensProvider","Whether the editor has a code lens provider")),n.hasDefinitionProvider=new St("editorHasDefinitionProvider",!1,L("editorHasDefinitionProvider","Whether the editor has a definition provider")),n.hasDeclarationProvider=new St("editorHasDeclarationProvider",!1,L("editorHasDeclarationProvider","Whether the editor has a declaration provider")),n.hasImplementationProvider=new St("editorHasImplementationProvider",!1,L("editorHasImplementationProvider","Whether the editor has an implementation provider")),n.hasTypeDefinitionProvider=new St("editorHasTypeDefinitionProvider",!1,L("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),n.hasHoverProvider=new St("editorHasHoverProvider",!1,L("editorHasHoverProvider","Whether the editor has a hover provider")),n.hasDocumentHighlightProvider=new St("editorHasDocumentHighlightProvider",!1,L("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),n.hasDocumentSymbolProvider=new St("editorHasDocumentSymbolProvider",!1,L("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),n.hasReferenceProvider=new St("editorHasReferenceProvider",!1,L("editorHasReferenceProvider","Whether the editor has a reference provider")),n.hasRenameProvider=new St("editorHasRenameProvider",!1,L("editorHasRenameProvider","Whether the editor has a rename provider")),n.hasSignatureHelpProvider=new St("editorHasSignatureHelpProvider",!1,L("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),n.hasInlayHintsProvider=new St("editorHasInlayHintsProvider",!1,L("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),n.hasDocumentFormattingProvider=new St("editorHasDocumentFormattingProvider",!1,L("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),n.hasDocumentSelectionFormattingProvider=new St("editorHasDocumentSelectionFormattingProvider",!1,L("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),n.hasMultipleDocumentFormattingProvider=new St("editorHasMultipleDocumentFormattingProvider",!1,L("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),n.hasMultipleDocumentSelectionFormattingProvider=new St("editorHasMultipleDocumentSelectionFormattingProvider",!1,L("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(ue||(ue={}));const Jn=0;class qr extends go{runEditorCommand(e,t,i){const r=t._getViewModel();!r||this.runCoreEditorCommand(r,i||{})}}var AA;(function(n){const e=function(i){if(!Da(i))return!1;const r=i;return!(!Ru(r.to)||!Qa(r.by)&&!Ru(r.by)||!Qa(r.value)&&!T_(r.value)||!Qa(r.revealCursor)&&!Ege(r.revealCursor))};n.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Down:"down"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function t(i){let r;switch(i.to){case n.RawDirection.Up:r=1;break;case n.RawDirection.Down:r=2;break;default:return null}let s;switch(i.by){case n.RawUnit.Line:s=1;break;case n.RawUnit.WrappedLine:s=2;break;case n.RawUnit.Page:s=3;break;case n.RawUnit.HalfPage:s=4;break;default:s=2}const o=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:r,unit:s,value:o,revealCursor:a,select:!!i.select}}n.parse=t})(AA||(AA={}));var _C;(function(n){const e=function(t){if(!Da(t))return!1;const i=t;return!(!T_(i.lineNumber)&&!Ru(i.lineNumber)||!Qa(i.at)&&!Ru(i.at))};n.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(_C||(_C={}));class a${constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(ci).getFocusedCodeEditor();return r&&r.hasTextFocus()?this._runEditorCommand(t,r,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const r=document.activeElement;return r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const r=t.get(ci).getActiveCodeEditor();return r?(r.focus(),this._runEditorCommand(t,r,i)):!1})}_runEditorCommand(e,t,i){const r=this.runEditorCommand(e,t,i);return r||!0}}var Ds;(function(n){class e extends qr{constructor(_){super(_);this._minimalReveal=_.minimalReveal,this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,[Bs.moveTo(_,_.getPrimaryCursorState(),this._inSelectionMode,C.position,C.viewPosition)])&&_.revealPrimaryCursor(C.source,!0,this._minimalReveal)}}n.MoveTo=lt(new e({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=lt(new e({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class t extends qr{runCoreEditorCommand(_,C){_.model.pushStackElement();const w=this._getColumnSelectResult(_,_.getPrimaryCursorState(),_.getCursorColumnSelectData(),C);_.setCursorStates(C.source,3,w.viewStates.map(S=>mn.fromViewState(S))),_.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:w.fromLineNumber,fromViewVisualColumn:w.fromVisualColumn,toViewLineNumber:w.toLineNumber,toViewVisualColumn:w.toVisualColumn}),w.reversed?_.revealTopMostCursor(C.source):_.revealBottomMostCursor(C.source)}}n.ColumnSelect=lt(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(b,_,C,w){const S=b.model.validatePosition(w.position),D=b.coordinatesConverter.validateViewPosition(new Ae(w.viewPosition.lineNumber,w.viewPosition.column),S),E=w.doColumnSelect?C.fromViewLineNumber:D.lineNumber,I=w.doColumnSelect?C.fromViewVisualColumn:w.mouseColumn-1;return C0.columnSelect(b.cursorConfig,b,E,I,D.lineNumber,w.mouseColumn-1)}}),n.CursorColumnSelectLeft=lt(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(b,_,C,w){return C0.columnSelectLeft(b.cursorConfig,b,C)}}),n.CursorColumnSelectRight=lt(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(b,_,C,w){return C0.columnSelectRight(b.cursorConfig,b,C)}});class i extends t{constructor(_){super(_);this._isPaged=_.isPaged}_getColumnSelectResult(_,C,w,S){return C0.columnSelectUp(_.cursorConfig,_,w,this._isPaged)}}n.CursorColumnSelectUp=lt(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=lt(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:3595,linux:{primary:0}}}));class r extends t{constructor(_){super(_);this._isPaged=_.isPaged}_getColumnSelectResult(_,C,w,S){return C0.columnSelectDown(_.cursorConfig,_,w,this._isPaged)}}n.CursorColumnSelectDown=lt(new r({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=lt(new r({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends qr{constructor(){super({id:"cursorMove",precondition:void 0,description:MA.description})}runCoreEditorCommand(_,C){const w=MA.parse(C);!w||this._runCursorMove(_,C.source,w)}_runCursorMove(_,C,w){_.model.pushStackElement(),_.setCursorStates(C,3,s._move(_,_.getCursorStates(),w)),_.revealPrimaryCursor(C,!0)}static _move(_,C,w){const S=w.select,D=w.value;switch(w.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return Bs.simpleMove(_,C,w.direction,S,D,w.unit);case 11:case 13:case 12:case 14:return Bs.viewportMove(_,C,w.direction,S,D);default:return null}}}n.CursorMoveImpl=s,n.CursorMove=lt(new s);class o extends qr{constructor(_){super(_);this._staticArgs=_.args}runCoreEditorCommand(_,C){let w=this._staticArgs;this._staticArgs.value===-1&&(w={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:C.pageSize||_.cursorConfig.pageSize}),_.model.pushStackElement(),_.setCursorStates(C.source,3,Bs.simpleMove(_,_.getCursorStates(),w.direction,w.select,w.value,w.unit)),_.revealPrimaryCursor(C.source,!0)}}n.CursorLeft=lt(new o({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=lt(new o({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:1039}})),n.CursorRight=lt(new o({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=lt(new o({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:1041}})),n.CursorUp=lt(new o({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=lt(new o({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=lt(new o({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:11}})),n.CursorPageUpSelect=lt(new o({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:1035}})),n.CursorDown=lt(new o({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=lt(new o({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=lt(new o({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:12}})),n.CursorPageDownSelect=lt(new o({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:1036}})),n.CreateCursor=lt(new class extends qr{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(b,_){let C;_.wholeLine?C=Bs.line(b,b.getPrimaryCursorState(),!1,_.position,_.viewPosition):C=Bs.moveTo(b,b.getPrimaryCursorState(),!1,_.position,_.viewPosition);const w=b.getCursorStates();if(w.length>1){const S=C.modelState?C.modelState.position:null,D=C.viewState?C.viewState.position:null;for(let E=0,I=w.length;E<I;E++){const T=w[E];if(!(S&&!T.modelState.selection.containsPosition(S))&&!(D&&!T.viewState.selection.containsPosition(D))){w.splice(E,1),b.model.pushStackElement(),b.setCursorStates(_.source,3,w);return}}}w.push(C),b.model.pushStackElement(),b.setCursorStates(_.source,3,w)}}),n.LastCursorMoveToSelect=lt(new class extends qr{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(b,_){const C=b.getLastAddedCursorIndex(),w=b.getCursorStates(),S=w.slice(0);S[C]=Bs.moveTo(b,w[C],!0,_.position,_.viewPosition),b.model.pushStackElement(),b.setCursorStates(_.source,3,S)}});class a extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,Bs.moveToBeginningOfLine(_,_.getCursorStates(),this._inSelectionMode)),_.revealPrimaryCursor(C.source,!0)}}n.CursorHome=lt(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=lt(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,this._exec(_.getCursorStates())),_.revealPrimaryCursor(C.source,!0)}_exec(_){const C=[];for(let w=0,S=_.length;w<S;w++){const D=_[w],E=D.modelState.position.lineNumber;C[w]=mn.fromModelState(D.modelState.move(this._inSelectionMode,E,1,0))}return C}}n.CursorLineStart=lt(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:0,mac:{primary:287}}})),n.CursorLineStartSelect=lt(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:0,mac:{primary:1311}}}));class u extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,Bs.moveToEndOfLine(_,_.getCursorStates(),this._inSelectionMode,C.sticky||!1)),_.revealPrimaryCursor(C.source,!0)}}n.CursorEnd=lt(new u({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Jn,kbExpr:ue.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),n.CursorEndSelect=lt(new u({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Jn,kbExpr:ue.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class c extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,this._exec(_,_.getCursorStates())),_.revealPrimaryCursor(C.source,!0)}_exec(_,C){const w=[];for(let S=0,D=C.length;S<D;S++){const E=C[S],I=E.modelState.position.lineNumber,T=_.model.getLineMaxColumn(I);w[S]=mn.fromModelState(E.modelState.move(this._inSelectionMode,I,T,0))}return w}}n.CursorLineEnd=lt(new c({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:0,mac:{primary:291}}})),n.CursorLineEndSelect=lt(new c({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:0,mac:{primary:1315}}}));class d extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,Bs.moveToBeginningOfBuffer(_,_.getCursorStates(),this._inSelectionMode)),_.revealPrimaryCursor(C.source,!0)}}n.CursorTop=lt(new d({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=lt(new d({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,Bs.moveToEndOfBuffer(_,_.getCursorStates(),this._inSelectionMode)),_.revealPrimaryCursor(C.source,!0)}}n.CursorBottom=lt(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=lt(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends qr{constructor(){super({id:"editorScroll",precondition:void 0,description:AA.description})}runCoreEditorCommand(_,C){const w=AA.parse(C);!w||this._runEditorScroll(_,C.source,w)}_runEditorScroll(_,C,w){const S=this._computeDesiredScrollTop(_,w);if(w.revealCursor){const D=_.getCompletelyVisibleViewRangeAtScrollTop(S);_.setCursorStates(C,3,[Bs.findPositionInViewportIfOutside(_,_.getPrimaryCursorState(),D,w.select)])}_.setScrollTop(S,0)}_computeDesiredScrollTop(_,C){if(C.unit===1){const D=_.getCompletelyVisibleViewRange(),E=_.coordinatesConverter.convertViewRangeToModelRange(D);let I;C.direction===1?I=Math.max(1,E.startLineNumber-C.value):I=Math.min(_.model.getLineCount(),E.startLineNumber+C.value);const T=_.coordinatesConverter.convertModelPositionToViewPosition(new Ae(I,1));return _.getVerticalOffsetForLineNumber(T.lineNumber)}let w;C.unit===3?w=_.cursorConfig.pageSize*C.value:C.unit===4?w=Math.round(_.cursorConfig.pageSize/2)*C.value:w=C.value;const S=(C.direction===1?-1:1)*w;return _.getScrollTop()+S*_.cursorConfig.lineHeight}}n.EditorScrollImpl=f,n.EditorScroll=lt(new f),n.ScrollLineUp=lt(new class extends qr{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(b,_){n.EditorScroll._runEditorScroll(b,_.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),n.ScrollPageUp=lt(new class extends qr{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(b,_){n.EditorScroll._runEditorScroll(b,_.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),n.ScrollLineDown=lt(new class extends qr{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(b,_){n.EditorScroll._runEditorScroll(b,_.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),n.ScrollPageDown=lt(new class extends qr{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(b,_){n.EditorScroll._runEditorScroll(b,_.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class g extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,[Bs.word(_,_.getPrimaryCursorState(),this._inSelectionMode,C.position)]),_.revealPrimaryCursor(C.source,!0)}}n.WordSelect=lt(new g({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=lt(new g({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=lt(new class extends qr{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(b,_){const C=b.getLastAddedCursorIndex(),w=b.getCursorStates(),S=w.slice(0),D=w[C];S[C]=Bs.word(b,D,D.modelState.hasSelection(),_.position),b.model.pushStackElement(),b.setCursorStates(_.source,3,S)}});class p extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){_.model.pushStackElement(),_.setCursorStates(C.source,3,[Bs.line(_,_.getPrimaryCursorState(),this._inSelectionMode,C.position,C.viewPosition)]),_.revealPrimaryCursor(C.source,!1)}}n.LineSelect=lt(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=lt(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class m extends qr{constructor(_){super(_);this._inSelectionMode=_.inSelectionMode}runCoreEditorCommand(_,C){const w=_.getLastAddedCursorIndex(),S=_.getCursorStates(),D=S.slice(0);D[w]=Bs.line(_,S[w],this._inSelectionMode,C.position,C.viewPosition),_.model.pushStackElement(),_.setCursorStates(C.source,3,D)}}n.LastCursorLineSelect=lt(new m({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=lt(new m({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.CancelSelection=lt(new class extends qr{constructor(){super({id:"cancelSelection",precondition:ue.hasNonEmptySelection,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(b,_){b.model.pushStackElement(),b.setCursorStates(_.source,3,[Bs.cancelSelection(b,b.getPrimaryCursorState())]),b.revealPrimaryCursor(_.source,!0)}}),n.RemoveSecondaryCursors=lt(new class extends qr{constructor(){super({id:"removeSecondaryCursors",precondition:ue.hasMultipleSelections,kbOpts:{weight:Jn+1,kbExpr:ue.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(b,_){b.model.pushStackElement(),b.setCursorStates(_.source,3,[b.getPrimaryCursorState()]),b.revealPrimaryCursor(_.source,!0),vA(L("removedCursor","Removed secondary cursors"))}}),n.RevealLine=lt(new class extends qr{constructor(){super({id:"revealLine",precondition:void 0,description:_C.description})}runCoreEditorCommand(b,_){const C=_,w=C.lineNumber||0;let S=typeof w=="number"?w+1:parseInt(w)+1;S<1&&(S=1);const D=b.model.getLineCount();S>D&&(S=D);const E=new Y(S,1,S,b.model.getLineMaxColumn(S));let I=0;if(C.at)switch(C.at){case _C.RawAtArgument.Top:I=3;break;case _C.RawAtArgument.Center:I=1;break;case _C.RawAtArgument.Bottom:I=4;break}const T=b.coordinatesConverter.convertModelRangeToViewRange(E);b.revealRange(_.source,!1,T,I,0)}}),n.SelectAll=new class extends a${constructor(){super(tct)}runDOMCommand(){Ul&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(b,_,C){const w=_._getViewModel();!w||this.runCoreEditorCommand(w,C)}runCoreEditorCommand(b,_){b.model.pushStackElement(),b.setCursorStates("keyboard",3,[Bs.selectAll(b,b.getPrimaryCursorState())])}},n.SetSelection=lt(new class extends qr{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(b,_){b.model.pushStackElement(),b.setCursorStates(_.source,3,[mn.fromModelSelection(_.selection)])}})})(Ds||(Ds={}));const bgt=_t.and(ue.textInputFocus,ue.columnSelection);function jw(n,e){ha.registerKeybindingRule({id:n,primary:e,when:bgt,weight:Jn+1})}jw(Ds.CursorColumnSelectLeft.id,1039);jw(Ds.CursorColumnSelectRight.id,1041);jw(Ds.CursorColumnSelectUp.id,1040);jw(Ds.CursorColumnSelectPageUp.id,1035);jw(Ds.CursorColumnSelectDown.id,1042);jw(Ds.CursorColumnSelectPageDown.id,1036);function sie(n){return n.register(),n}var ey;(function(n){class e extends go{runEditorCommand(i,r,s){const o=r._getViewModel();!o||this.runCoreEditingCommand(r,o,s||{})}}n.CoreEditingCommand=e,n.LineBreakInsert=lt(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:ue.writable,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,lr.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection)))}}),n.Outdent=lt(new class extends e{constructor(){super({id:"outdent",precondition:ue.writable,kbOpts:{weight:Jn,kbExpr:_t.and(ue.editorTextFocus,ue.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,lr.outdent(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),n.Tab=lt(new class extends e{constructor(){super({id:"tab",precondition:ue.writable,kbOpts:{weight:Jn,kbExpr:_t.and(ue.editorTextFocus,ue.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,lr.tab(i.cursorConfig,i.model,i.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),n.DeleteLeft=lt(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,r){const[s,o]=z_.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());s&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(2)}}),n.DeleteRight=lt(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:Jn,kbExpr:ue.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,r){const[s,o]=z_.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));s&&t.pushUndoStop(),t.executeCommands(this.id,o),i.setPrevEditOperationType(3)}}),n.Undo=new class extends a${constructor(){super(eme)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(81)===!0))return i.getModel().undo()}},n.Redo=new class extends a${constructor(){super(tme)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(81)===!0))return i.getModel().redo()}}})(ey||(ey={}));class oie extends f4{constructor(e,t,i){super({id:e,precondition:void 0,description:i});this._handlerId=t}runCommand(e,t){const i=e.get(ci).getFocusedCodeEditor();!i||i.trigger("keyboard",this._handlerId,t)}}function M1(n,e){sie(new oie("default:"+n,n)),sie(new oie(n,n,e))}M1("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});M1("replacePreviousChar");M1("compositionType");M1("compositionStart");M1("compositionEnd");M1("paste");M1("cut");class Cgt{constructor(e,t,i,r){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=r}paste(e,t,i,r){this.commandDelegate.paste(e,t,i,r)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,r){this.commandDelegate.compositionType(e,t,i,r)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Ds.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Ae(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(70)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(70)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=Ao&&t.get(96),r=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):r?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Ds.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Ds.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),Ds.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),Ds.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){Ds.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Ds.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Ds.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Ds.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Ds.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Ds.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Ds.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Ds.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Ds.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class D4{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return D4.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i=Object.assign({},e);return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),i}}var a8;class tve{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),r=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>r)return null;let s=0,o=0;for(let l=i;l<=r;l++){const u=l-this._rendLineNumberStart;e<=l&&l<=t&&(o===0?(s=u,o=1):o++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(s,o)}onLinesChanged(e,t){if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),r=this.getEndLineNumber();let s=!1;for(let o=e;o<=t;o++)o>=i&&o<=r&&(this._lines[o-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,r=this.getStartLineNumber(),s=this.getEndLineNumber();if(e<=r)return this._rendLineNumberStart+=i,null;if(e>s)return null;if(i+e>s)return this._lines.splice(e-this._rendLineNumberStart,s-e+1);const o=[];for(let d=0;d<i;d++)o[d]=this._createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),u=this._lines.slice(a,this._lines.length-i),c=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(o).concat(u),c}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let r=!1;for(let s=0,o=e.length;s<o;s++){const a=e[s];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),u=Math.min(i,a.toLineNumber);for(let c=l;c<=u;c++){const d=c-this._rendLineNumberStart;this._lines[d].onTokensChanged(),r=!0}}return r}}class nve{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new tve(()=>this._host.createVisibleLine())}_createDomNode(){const e=Un(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(131)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const s=t[i].getDomNode();s&&this.domNode.domNode.removeChild(s)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const s=t[i].getDomNode();s&&this.domNode.domNode.removeChild(s)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new fg(this.domNode.domNode,this._host,e),r={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},s=i.render(r,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(s.rendLineNumberStart,s.lines)}}class fg{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,r){const s={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(s.rendLineNumberStart+s.linesLength-1<t||i<s.rendLineNumberStart){s.rendLineNumberStart=t,s.linesLength=i-t+1,s.lines=[];for(let o=t;o<=i;o++)s.lines[o-t]=this.host.createVisibleLine();return this._finishRendering(s,!0,r),s}if(this._renderUntouchedLines(s,Math.max(t-s.rendLineNumberStart,0),Math.min(i-s.rendLineNumberStart,s.linesLength-1),r,t),s.rendLineNumberStart>t){const o=t,a=Math.min(i,s.rendLineNumberStart-1);o<=a&&(this._insertLinesBefore(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart<t){const o=Math.min(s.linesLength,t-s.rendLineNumberStart);o>0&&(this._removeLinesBefore(s,o),s.linesLength-=o)}if(s.rendLineNumberStart=t,s.rendLineNumberStart+s.linesLength-1<i){const o=s.rendLineNumberStart+s.linesLength,a=i;o<=a&&(this._insertLinesAfter(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart+s.linesLength-1>i){const o=Math.max(0,i-s.rendLineNumberStart+1),l=s.linesLength-1-o+1;l>0&&(this._removeLinesAfter(s,l),s.linesLength-=l)}return this._finishRendering(s,!1,r),s}_renderUntouchedLines(e,t,i,r,s){const o=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const u=o+l;a[l].layoutLine(u,r[u-s])}}_insertLinesBefore(e,t,i,r,s){const o=[];let a=0;for(let l=t;l<=i;l++)o[a++]=this.host.createVisibleLine();e.lines=o.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const r=e.lines[i].getDomNode();r&&this.domNode.removeChild(r)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,r,s){const o=[];let a=0;for(let l=t;l<=i;l++)o[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(o)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let r=0;r<t;r++){const s=e.lines[i+r].getDomNode();s&&this.domNode.removeChild(s)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,r){fg._ttPolicy&&(i=fg._ttPolicy.createHTML(i));const s=this.domNode.lastChild;t||!s?this.domNode.innerHTML=i:s.insertAdjacentHTML("afterend",i);let o=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];r[a]&&(l.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const r=document.createElement("div");fg._ttPolicy&&(t=fg._ttPolicy.createHTML(t)),r.innerHTML=t;for(let s=0;s<e.linesLength;s++){const o=e.lines[s];if(i[s]){const a=r.firstChild,l=o.getDomNode();l.parentNode.replaceChild(a,l),o.setDomNode(a)}}}_finishRendering(e,t,i){const r=fg._sb,s=e.linesLength,o=e.lines,a=e.rendLineNumberStart,l=[];{r.reset();let u=!1;for(let c=0;c<s;c++){const d=o[c];l[c]=!1,!(d.getDomNode()||!d.renderLine(c+a,i[c],this.viewportData,r))&&(l[c]=!0,u=!0)}u&&this._finishRenderingNewLines(e,t,r.build(),l)}{r.reset();let u=!1;const c=[];for(let d=0;d<s;d++){const h=o[d];c[d]=!1,!(l[d]||!h.renderLine(d+a,i[d],this.viewportData,r))&&(c[d]=!0,u=!0)}u&&this._finishRenderingInvalidLines(e,r.build(),c)}}}fg._ttPolicy=(a8=window.trustedTypes)===null||a8===void 0?void 0:a8.createPolicy("editorViewLayer",{createHTML:n=>n});fg._sb=M_(1e5);class ive extends Uu{constructor(e){super(e);this._visibleLines=new nve(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new ygt(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,r=t.length;i<r;i++){const s=t[i];s.prepareRender(e),s.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class ygt{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=Un(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(59)}renderLine(e,t,i,r){let s="";for(let o=0,a=this._dynamicOverlays.length;o<a;o++)s+=this._dynamicOverlays[o].render(i.startLineNumber,e);return this._renderedContent===s?!1:(this._renderedContent=s,r.appendASCIIString('<div style="position:absolute;top:'),r.appendASCIIString(String(t)),r.appendASCIIString("px;width:100%;height:"),r.appendASCIIString(String(this._lineHeight)),r.appendASCIIString('px;">'),r.appendASCIIString(s),r.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class wgt extends ive{constructor(e){super(e);const i=this._context.configuration.options.get(131);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(131);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Sgt extends ive{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(131);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),oo(this.domNode,t.get(44))}onConfigurationChanged(e){const t=this._context.configuration.options;oo(this.domNode,t.get(44));const i=t.get(131);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class FS{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class Lgt extends Uu{constructor(e,t){super(e);this._viewDomNode=t,this._widgets={},this.domNode=Un(document.createElement("div")),tf.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Un(document.createElement("div")),tf.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new kgt(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const r=i.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class kgt{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Un(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,s=r.get(131);this._fixedOverflowWidgets=r.get(36),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=r.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(59),e.hasChanged(131)){const i=t.get(131);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,r,s){const o=e.top,a=o,l=t.top+this._lineHeight,u=s.viewportHeight-l,c=o-r,d=a>=r,h=l,f=u>=r;let g=e.left,p=t.left;return g+i>s.scrollLeft+s.viewportWidth&&(g=s.scrollLeft+s.viewportWidth-i),p+i>s.scrollLeft+s.viewportWidth&&(p=s.scrollLeft+s.viewportWidth-i),g<s.scrollLeft&&(g=s.scrollLeft),p<s.scrollLeft&&(p=s.scrollLeft),{fitsAbove:d,aboveTop:c,aboveLeft:g,fitsBelow:f,belowTop:h,belowLeft:p}}_layoutHorizontalSegmentInPage(e,t,i,r){const s=Math.max(0,t.left-r),o=Math.min(t.left+t.width+r,e.width);let a=t.left+i-kg.scrollX;if(a+r>o){const l=a-(o-r);a-=l,i-=l}if(a<s){const l=a-s;a-=l,i-=l}return[i,a]}_layoutBoxInPage(e,t,i,r,s){const o=e.top-r,a=t.top+this._lineHeight,l=io(this._viewDomNode.domNode),u=l.top+o-kg.scrollY,c=l.top+a-kg.scrollY,d=i4(document.body),[h,f]=this._layoutHorizontalSegmentInPage(d,l,e.left-s.scrollLeft+this._contentLeft,i),[g,p]=this._layoutHorizontalSegmentInPage(d,l,t.left-s.scrollLeft+this._contentLeft,i),m=22,b=22,_=u>=m,C=c+r<=d.height-b;return this._fixedOverflowWidgets?{fitsAbove:_,aboveTop:Math.max(u,m),aboveLeft:f,fitsBelow:C,belowTop:c,belowLeft:p}:{fitsAbove:_,aboveTop:o,aboveLeft:h,fitsBelow:C,belowTop:a,belowLeft:g}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new FS(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],r=t[0];for(const d of t)d.lineNumber<i.lineNumber&&(i=d),d.lineNumber>r.lineNumber&&(r=d);let s=1073741824;for(const d of i.ranges)d.left<s&&(s=d.left);let o=1073741824;for(const d of r.ranges)d.left<o&&(o=d.left);const a=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,l=new FS(a,s),u=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.scrollTop,c=new FS(u,o);return[l,c]}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let s=null;if(typeof this._actual.beforeRender=="function"&&(s=l8(this._actual.beforeRender,this._actual)),s)this._cachedDomNodeOffsetWidth=s.width,this._cachedDomNodeOffsetHeight=s.height;else{const o=this.domNode.domNode;this._cachedDomNodeOffsetWidth=o.offsetWidth,this._cachedDomNodeOffsetHeight=o.offsetHeight}}let r;this.allowEditorOverflow?r=this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):r=this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let s=1;s<=2;s++)for(const o of this._preference)if(o===1){if(!r)return null;if(s===2||r.fitsAbove)return{coordinate:new FS(r.aboveTop,r.aboveLeft),position:1}}else if(o===2){if(!r)return null;if(s===2||r.fitsBelow)return{coordinate:new FS(r.belowTop,r.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&l8(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&l8(this._actual.afterRender,this._actual,this._renderData.position)}}function l8(n,e,...t){try{return n.call(e,...t)}catch{return null}}class rve extends Uw{constructor(e){super();this._context=e;const t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new vt(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=this._selections.map(r=>r.positionLineNumber);t.sort((r,s)=>r-s),$l(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);const i=this._selections.every(r=>r.isEmpty());return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(e),i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=this._cursorLineNumbers.length;let o=0;const a=[];for(let l=i;l<=r;l++){const u=l-i;for(;o<s&&this._cursorLineNumbers[o]<l;)o++;o<s&&this._cursorLineNumbers[o]===l?a[u]=t:a[u]=""}this._renderData=a}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Egt extends rve{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Dgt extends rve{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}Hi((n,e)=>{const t=n.getColor(cht);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(Rne)){const i=n.getColor(Rne);i&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),n.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class Igt extends Uw{constructor(e){super();this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let l=0,u=t.length;l<u;l++){const c=t[l];c.options.className&&(i[r++]=c)}i=i.sort((l,u)=>{if(l.options.zIndex<u.options.zIndex)return-1;if(l.options.zIndex>u.options.zIndex)return 1;const c=l.options.className,d=u.options.className;return c<d?-1:c>d?1:Y.compareRangesUsingStarts(l.range,u.range)});const s=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,a=[];for(let l=s;l<=o;l++){const u=l-s;a[u]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const r=String(this._lineHeight),s=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){const u=t[a];if(!u.options.isWholeLine)continue;const c='<div class="cdr '+u.options.className+'" style="left:0;width:100%;height:'+r+'px;"></div>',d=Math.max(u.range.startLineNumber,s),h=Math.min(u.range.endLineNumber,o);for(let f=d;f<=h;f++){const g=f-s;i[g]+=c}}}_renderNormalDecorations(e,t,i){const r=String(this._lineHeight),s=e.visibleRange.startLineNumber;let o=null,a=!1,l=null;for(let u=0,c=t.length;u<c;u++){const d=t[u];if(d.options.isWholeLine)continue;const h=d.options.className,f=Boolean(d.options.showIfCollapsed);let g=d.range;if(f&&g.endColumn===1&&g.endLineNumber!==g.startLineNumber&&(g=new Y(g.startLineNumber,g.startColumn,g.endLineNumber-1,this._context.model.getLineMaxColumn(g.endLineNumber-1))),o===h&&a===f&&Y.areIntersectingOrTouching(l,g)){l=Y.plusRange(l,g);continue}o!==null&&this._renderNormalDecoration(e,l,o,a,r,s,i),o=h,a=f,l=g}o!==null&&this._renderNormalDecoration(e,l,o,a,r,s,i)}_renderNormalDecoration(e,t,i,r,s,o,a){const l=e.linesVisibleRangesForRange(t,i==="findMatch");if(!!l)for(let u=0,c=l.length;u<c;u++){const d=l[u];if(d.outsideRenderedLine)continue;const h=d.lineNumber-o;if(r&&d.ranges.length===1){const f=d.ranges[0];if(f.width<this._typicalHalfwidthCharacterWidth){const g=Math.round(f.left+f.width/2),p=Math.max(0,Math.round(g-this._typicalHalfwidthCharacterWidth/2));d.ranges[0]=new C4(p,this._typicalHalfwidthCharacterWidth)}}for(let f=0,g=d.ranges.length;f<g;f++){const p=d.ranges[f],m='<div class="cdr '+i+'" style="left:'+String(p.left)+"px;width:"+String(p.width)+"px;height:"+s+'px;"></div>';a[h]+=m}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class jc extends ze{onclick(e,t){this._register(nt(e,Bt.CLICK,i=>t(new Lu(i))))}onmousedown(e,t){this._register(nt(e,Bt.MOUSE_DOWN,i=>t(new Lu(i))))}onmouseover(e,t){this._register(nt(e,Bt.MOUSE_OVER,i=>t(new Lu(i))))}onnonbubblingmouseout(e,t){this._register(kj(e,i=>t(new Lu(i))))}onkeydown(e,t){this._register(nt(e,Bt.KEY_DOWN,i=>t(new Yi(i))))}onkeyup(e,t){this._register(nt(e,Bt.KEY_UP,i=>t(new Yi(i))))}oninput(e,t){this._register(nt(e,Bt.INPUT,t))}onblur(e,t){this._register(nt(e,Bt.BLUR,t))}onfocus(e,t){this._register(nt(e,Bt.FOCUS,t))}ignoreGesture(e){hi.ignoreTarget(e)}}const Zy=11;class Tgt extends jc{constructor(e){super();this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof e.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof e.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof e.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=Zy+"px",this.domNode.style.height=Zy+"px",typeof e.top!="undefined"&&(this.domNode.style.top=e.top+"px"),typeof e.left!="undefined"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom!="undefined"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right!="undefined"&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new x1),this.onmousedown(this.bgDomNode,t=>this._arrowMouseDown(t)),this.onmousedown(this.domNode,t=>this._arrowMouseDown(t)),this._mousedownRepeatTimer=this._register(new tD),this._mousedownScheduleRepeatTimer=this._register(new Ra)}_arrowMouseDown(e){const t=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(t,200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Ww,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class Ngt extends ze{constructor(e,t,i){super();this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Ra)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}const xgt=140;class sve extends jc{constructor(e){super();this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new Ngt(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new x1),this._shouldRender=!0,this.domNode=Un(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,t=>this._domNodeMouseDown(t))}_createArrow(e){const t=this._register(new Tgt(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,r){this.slider=Un(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,s=>{s.leftButton&&(s.preventDefault(),this._sliderMouseDown(s,()=>{}))}),this.onclick(this.slider.domNode,s=>{s.leftButton&&s.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(e);i<=s&&s<=r?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.browserEvent.offsetX=="number"&&typeof e.browserEvent.offsetY=="number")t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{const s=io(this.domNode.domNode);t=e.posx-s.left,i=e.posy-s.top}const r=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,t){const i=this._sliderMousePosition(e),r=this._sliderOrthogonalMousePosition(e),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Ww,o=>{const a=this._sliderOrthogonalMousePosition(o),l=Math.abs(a-r);if(Gs&&l>xgt){this._setDesiredScrollPositionNow(s.getScrollPosition());return}const c=this._sliderMousePosition(o)-i;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const Mgt=20;class Tk{constructor(e,t,i,r,s,o){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=s,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new Tk(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,r,s){const o=Math.max(0,i-e),a=Math.max(0,o-2*t),l=r>0&&r>i;if(!l)return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const u=Math.round(Math.max(Mgt,Math.floor(i*a/r))),c=(a-u)/(r-i),d=s*c;return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(u),computedSliderRatio:c,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const e=Tk._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class Agt extends sve{constructor(e,t,i){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();super({lazyRender:t.lazyRender,host:i,scrollbarState:new Tk(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,s.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage});if(t.horizontalHasArrows){const o=(t.arrowSize-Zy)/2,a=(t.horizontalScrollbarSize-Zy)/2;this._createArrow({className:"scra",icon:k.scrollbarButtonLeft,top:a,left:o,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new zy(null,1,0))}),this._createArrow({className:"scra",icon:k.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:o,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new zy(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class Rgt extends sve{constructor(e,t,i){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();super({lazyRender:t.lazyRender,host:i,scrollbarState:new Tk(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,s.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage});if(t.verticalHasArrows){const o=(t.arrowSize-Zy)/2,a=(t.verticalScrollbarSize-Zy)/2;this._createArrow({className:"scra",icon:k.scrollbarButtonUp,top:o,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new zy(null,0,1))}),this._createArrow({className:"scra",icon:k.scrollbarButtonDown,top:void 0,left:a,bottom:o,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new zy(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class RA{constructor(e,t,i,r,s,o,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,r=r|0,s=s|0,o=o|0,a=a|0),this.rawScrollLeft=r,this.rawScrollTop=a,t<0&&(t=0),r+t>i&&(r=i-t),r<0&&(r=0),s<0&&(s=0),a+s>o&&(a=o-s),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=r,this.height=s,this.scrollHeight=o,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new RA(this._forceIntegerValues,typeof e.width!="undefined"?e.width:this.width,typeof e.scrollWidth!="undefined"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height!="undefined"?e.height:this.height,typeof e.scrollHeight!="undefined"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new RA(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft!="undefined"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop!="undefined"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,s=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:r,scrollLeftChanged:s,heightChanged:o,scrollHeightChanged:a,scrollTopChanged:l}}}class cD extends ze{constructor(e){super();this._scrollableBrand=void 0,this._onScroll=this._register(new Le),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new RA(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const i=this._state.withScrollDimensions(e,t);this._setState(i,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let r;t?r=new Nk(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=Nk.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class aie{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function u8(n,e){const t=e-n;return function(i){return n+t*Fgt(i)}}function Ogt(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}class Nk{constructor(e,t,i,r){this.from=e,this.to=t,this.duration=r,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let s,o;return e<t?(s=e+.75*i,o=t-.75*i):(s=e-.75*i,o=t+.75*i),Ogt(u8(e,s),u8(o,t),.33)}return u8(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),r=this.scrollTop(t);return new aie(i,r,!1)}return new aie(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return Nk.start(e,t,i)}static start(e,t,i){i=i+10;const r=Date.now()-10;return new Nk(e,t,r,i)}}function Pgt(n){return Math.pow(n,3)}function Fgt(n){return 1-Pgt(1-n)}const Bgt=500,lie=50;class $gt{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class l${constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,r=this._rear;do{const s=r===this._front?e:Math.pow(2,-i);if(e-=s,t+=this._memory[r].score*s,r===this._front)break;r=(this._capacity+r-1)%this._capacity,i++}while(!0);return t<=.5}accept(e,t,i){const r=new $gt(e,t,i);r.score=this._computeScore(r),this._front===-1&&this._rear===-1?(this._memory[0]=r,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=r)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}l$.INSTANCE=new l$;class iK extends jc{constructor(e,t,i){super();this._onScroll=this._register(new Le),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new Le),e.style.overflow="hidden",this._options=Vgt(t),this._scrollable=i,this._register(this._scrollable.onScroll(s=>{this._onWillScroll.fire(s),this._onDidScroll(s),this._onScroll.fire(s)}));const r={onMouseWheel:s=>this._onMouseWheel(s),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Rgt(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new Agt(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Un(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Un(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Un(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,s=>this._onMouseOver(s)),this.onnonbubblingmouseout(this._listenOnDomNode,s=>this._onMouseOut(s)),this._hideTimeout=this._register(new Ra),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=jn(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,kn&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal!="undefined"&&(this._options.horizontal=e.horizontal),typeof e.vertical!="undefined"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage!="undefined"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=jn(this._mouseWheelToDispose),e)){const i=r=>{this._onMouseWheel(new zy(r))};this._mouseWheelToDispose.push(nt(this._listenOnDomNode,Bt.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){const t=l$.INSTANCE;{const s=window.devicePixelRatio/rpe();Gs||Ao?t.accept(Date.now(),e.deltaX/s,e.deltaY/s):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let s=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(s)>=Math.abs(o)?o=0:s=0),this._options.flipAxes&&([s,o]=[o,s]);const a=!kn&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!o&&(o=s,s=0),e.browserEvent&&e.browserEvent.altKey&&(o=o*this._options.fastScrollSensitivity,s=s*this._options.fastScrollSensitivity);const l=this._scrollable.getFutureScrollPosition();let u={};if(s){const c=lie*s,d=l.scrollTop-(c<0?Math.floor(c):Math.ceil(c));this._verticalScrollbar.writeScrollPosition(u,d)}if(o){const c=lie*o,d=l.scrollLeft-(c<0?Math.floor(c):Math.ceil(c));this._horizontalScrollbar.writeScrollPosition(u,d)}u=this._scrollable.validateScrollPosition(u),(l.scrollLeft!==u.scrollLeft||l.scrollTop!==u.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(u):this._scrollable.setScrollPositionNow(u),i=!0)}let r=i;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,r=i?" left":"",s=t?" top":"",o=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${s}`),this._topLeftShadowDomNode.setClassName(`shadow${o}${s}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Bgt)}}class ove extends iK{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new cD({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>Od(r)});super(e,t,i);this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class rK extends iK{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class dD extends iK{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new cD({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>Od(r)});super(e,t,i);this._register(i),this._element=e,this.onScroll(r=>{r.scrollTopChanged&&(this._element.scrollTop=r.scrollTop),r.scrollLeftChanged&&(this._element.scrollLeft=r.scrollLeft)}),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function Vgt(n){const e={lazyRender:typeof n.lazyRender!="undefined"?n.lazyRender:!1,className:typeof n.className!="undefined"?n.className:"",useShadows:typeof n.useShadows!="undefined"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel!="undefined"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes!="undefined"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel!="undefined"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX!="undefined"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity!="undefined"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity!="undefined"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis!="undefined"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll!="undefined"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize!="undefined"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode!="undefined"?n.listenOnDomNode:null,horizontal:typeof n.horizontal!="undefined"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize!="undefined"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize!="undefined"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows!="undefined"?n.horizontalHasArrows:!1,vertical:typeof n.vertical!="undefined"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize!="undefined"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows!="undefined"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize!="undefined"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage!="undefined"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize!="undefined"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize!="undefined"?n.verticalSliderSize:e.verticalScrollbarSize,kn&&(e.className+=" mac"),e}class Wgt extends Uu{constructor(e,t,i,r){super(e);const s=this._context.configuration.options,o=s.get(92),a=s.get(67),l=s.get(34),u=s.get(95),c={listenOnDomNode:i.domNode,className:"editor-scrollable "+wA(e.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:u,scrollByPage:o.scrollByPage};this.scrollbar=this._register(new rK(t.domNode,c,this._context.viewLayout.getScrollable())),tf.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=Un(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(h,f,g)=>{const p={};if(f){const m=h.scrollTop;m&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+m,h.scrollTop=0)}if(g){const m=h.scrollLeft;m&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+m,h.scrollLeft=0)}this._context.model.setScrollPosition(p,1)};this._register(nt(i.domNode,"scroll",h=>d(i.domNode,!0,!0))),this._register(nt(t.domNode,"scroll",h=>d(t.domNode,!0,!1))),this._register(nt(r.domNode,"scroll",h=>d(r.domNode,!0,!1))),this._register(nt(this.scrollbarDomNode.domNode,"scroll",h=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(131);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(65).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(92)||e.hasChanged(67)||e.hasChanged(34)){const t=this._context.configuration.options,i=t.get(92),r=t.get(67),s=t.get(34),o=t.get(95),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:s,scrollPredominantAxis:o};this.scrollbar.updateOptions(a)}return e.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+wA(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}Hi((n,e)=>{const t=n.getColor(Hw);t&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);const i=n.getColor(GC);i&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);const r=n.getColor(qC);r&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${r};
			}
		`);const s=n.getColor(YC);s&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${s};
			}
		`)});class OA{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class sK extends Uw{_render(e,t,i){const r=[];for(let a=e;a<=t;a++){const l=a-e;r[l]=[]}if(i.length===0)return r;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let s=null,o=0;for(let a=0,l=i.length;a<l;a++){const u=i[a],c=u.className;let d=Math.max(u.startLineNumber,e)-e;const h=Math.min(u.endLineNumber,t)-e;s===c?(d=Math.max(o+1,d),o=Math.max(o,h)):(s=c,o=h);for(let f=d;f<=o;f++)r[f].push(s)}return r}}class Hgt extends sK{constructor(e){super();this._context=e;const t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._glyphMargin=t.get(50),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._glyphMargin=t.get(50),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.glyphMarginClassName;l&&(i[r++]=new OA(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=this._lineHeight.toString(),o=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),l='" style="left:'+o+"px;width:"+a+"px;height:"+s+'px;"></div>',u=[];for(let c=t;c<=i;c++){const d=c-t,h=r[d];h.length===0?u[d]="":u[d]='<div class="cgmr codicon '+h.join(" ")+l}this._renderResult=u}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class zgt extends Uw{constructor(e){super();this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(132),r=t.get(44);this._lineHeight=t.get(59),this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(132),r=t.get(44);return this._lineHeight=t.get(59),this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;const r=e.selections[0].getPosition();return((t=this._primaryPosition)===null||t===void 0?void 0:t.equals(r))?!1:(this._primaryPosition=r,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,r,s;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,u=this._lineHeight,c=this._primaryPosition,d=this.getGuidesByLine(o,a,c),h=[];for(let f=o;f<=a;f++){const g=f-o,p=d[g];let m="";const b=(i=(t=e.visibleRangeForPosition(new Ae(f,1)))===null||t===void 0?void 0:t.left)!==null&&i!==void 0?i:0;for(const _ of p){const C=b+(_.visibleColumn-1)*this._spaceWidth;if(C>l||this._maxIndentLeft>0&&C>this._maxIndentLeft)break;const w=_.horizontalLine?_.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",S=_.horizontalLine?((s=(r=e.visibleRangeForPosition(new Ae(f,_.horizontalLine.endColumn)))===null||r===void 0?void 0:r.left)!==null&&s!==void 0?s:C+this._spaceWidth)-C:this._spaceWidth;m+=`<div class="core-guide ${_.className} ${w}" style="left:${C}px;height:${u}px;width:${S}px"></div>`}h[g]=m}this._renderResult=h}getGuidesByLine(e,t,i){const r=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?p_.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?p_.EnabledForActive:p_.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,s=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,t):null;let o=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&i){const d=this._context.model.getActiveIndentGuide(i.lineNumber,e,t);o=d.startLineNumber,a=d.endLineNumber,l=d.indent}const{indentSize:u}=this._context.model.getTextModelOptions(),c=[];for(let d=e;d<=t;d++){const h=new Array;c.push(h);const f=r?r[d-e]:[],g=new Oy(f),p=s?s[d-e]:[];for(let m=1;m<=p;m++){const b=(m-1)*u+1,_=f.length===0&&o<=d&&d<=a&&m===l;h.push(...g.takeWhile(w=>w.visibleColumn<b)||[]);const C=g.peek();(!C||C.visibleColumn!==b||C.horizontalLine)&&h.push(new vC(b,_?"core-guide-indent-active":"core-guide-indent",null))}h.push(...g.takeWhile(m=>!0)||[])}return c}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function LT(n){if(!(n&&n.isTransparent()))return n}Hi((n,e)=>{const t=n.getColor(w4);t&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${t} inset; }`);const i=n.getColor(S4)||t;i&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${i} inset; }`);const r=[{bracketColor:Nme,guideColor:Mht,guideColorActive:Bht},{bracketColor:xme,guideColor:Aht,guideColorActive:$ht},{bracketColor:Mme,guideColor:Rht,guideColorActive:Vht},{bracketColor:Ame,guideColor:Oht,guideColorActive:Wht},{bracketColor:Rme,guideColor:Pht,guideColorActive:Hht},{bracketColor:Ome,guideColor:Fht,guideColorActive:zht}],s=new jme,o=r.map(a=>{var l,u;const c=n.getColor(a.bracketColor),d=n.getColor(a.guideColor),h=n.getColor(a.guideColorActive),f=LT((l=LT(d))!==null&&l!==void 0?l:c==null?void 0:c.transparent(.3)),g=LT((u=LT(h))!==null&&u!==void 0?u:c);if(!(!f||!g))return{guideColor:f,guideColorActive:g}}).filter(sst);if(o.length>0){for(let a=0;a<30;a++){const l=o[a%o.length];e.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${s.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${s.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${s.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class Ugt{constructor(){this._currentVisibleRange=new Y(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class jgt{constructor(e,t,i,r,s,o,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=r,this.startScrollTop=s,this.stopScrollTop=o,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class Kgt{constructor(e,t,i,r,s){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=r,this.scrollType=s,this.type="selections";let o=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,u=t.length;l<u;l++){const c=t[l];o=Math.min(o,c.startLineNumber),a=Math.max(a,c.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=a}}class I4 extends Uu{constructor(e,t){super(e);this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new nve(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,r=this._context.configuration.options,s=r.get(44),o=r.get(132),a=r.get(131);this._lineHeight=r.get(59),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=r.get(89),this._horizontalScrollbarHeight=a.horizontalScrollbarHeight,this._cursorSurroundingLines=r.get(25),this._cursorSurroundingLinesStyle=r.get(26),this._canUseLayerHinting=!r.get(28),this._viewLineOptions=new xne(i,this._context.theme.type),tf.write(this.domNode,7),this.domNode.setClassName(`view-lines ${g_}`),oo(this.domNode,s),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Ni(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Ni(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Ugt,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Ih(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(132)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(44),r=t.get(132),s=t.get(131);return this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=t.get(89),this._horizontalScrollbarHeight=s.horizontalScrollbarHeight,this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),oo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new xne(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++)this._visibleLines.getVisibleLine(s).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=!1;for(let s=t;s<=i;s++)r=this._visibleLines.getVisibleLine(s).onSelectionChanged()||r;return r}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new jgt(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Kgt(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const s=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(i,s),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const r=this._getLineNumberFor(i);if(r===-1||r<1||r>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(r)===1)return new Ae(r,1);const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(r<s||r>o)return null;let a=this._visibleLines.getVisibleLine(r).getColumnOfNodeOffset(r,e,t);const l=this._context.model.getLineMinColumn(r);return a<l&&(a=l),new Ae(r,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Ih.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++){const s=this._visibleLines.getVisibleLine(r);if(e===s.getDomNode())return r}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,r=Y.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;let s=[],o=0;const a=new Nne(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ae(r.startLineNumber,1)).lineNumber);const u=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let d=r.startLineNumber;d<=r.endLineNumber;d++){if(d<u||d>c)continue;const h=d===r.startLineNumber?r.startColumn:1,f=d===r.endLineNumber?r.endColumn:this._context.model.getLineMaxColumn(d),g=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,h,f,a);if(!!g){if(t&&d<i){const p=l;l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ae(d+1,1)).lineNumber,p!==l&&(g.ranges[g.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}s[o++]=new Gdt(g.outsideRenderedLine,d,C4.from(g.ranges))}}return o===0?null:s}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new Nne(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new qdt(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=1,s=!0;for(let o=t;o<=i;o++){const a=this._visibleLines.getVisibleLine(o);if(e&&!a.getWidthIsFast()){s=!1;continue}r=Math.max(r,a.getWidth())}return s&&t===1&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(r),s}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++){const o=this._visibleLines.getVisibleLine(s);if(o.needsMonospaceFontCheck()){const a=o.getWidth();a>t&&(t=a,e=s)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let s=i;s<=r;s++)this._visibleLines.getVisibleLine(s).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const r=this._computeScrollLeftToReveal(i);r&&(this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:r.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),Ao&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=i;s<=r;s++)if(this._visibleLines.getVisibleLine(s).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,r,s,o){const a=e.top,l=e.height,u=a+l;let c,d,h;if(s&&s.length>0){let p=s[0].startLineNumber,m=s[0].endLineNumber;for(let b=1,_=s.length;b<_;b++){const C=s[b];p=Math.min(p,C.startLineNumber),m=Math.max(m,C.endLineNumber)}c=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(p),h=this._context.viewLayout.getVerticalOffsetForLineNumber(m)+this._lineHeight}else if(r)c=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight;else return-1;if((t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default")i||(d-=this._lineHeight);else{const p=Math.min(l/this._lineHeight/2,this._cursorSurroundingLines);d-=p*this._lineHeight,h+=Math.max(0,p-1)*this._lineHeight}(o===0||o===4)&&(h+=i?this._horizontalScrollbarHeight:this._lineHeight);let g;if(h-d>l){if(!c)return-1;g=d}else if(o===5||o===6)if(o===6&&a<=d&&h<=u)g=a;else{const p=Math.max(5*this._lineHeight,l*.2),m=d-p,b=h-l;g=Math.max(b,m)}else if(o===1||o===2)if(o===2&&a<=d&&h<=u)g=a;else{const p=(d+h)/2;g=Math.max(0,p-l/2)}else g=this._computeMinimumScrolling(a,u,d,h,o===3,o===4);return g}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,r=i+t.width;let s=1073741824,o=0;if(e.type==="range"){const l=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!l)return null;for(const u of l.ranges)s=Math.min(s,Math.round(u.left)),o=Math.max(o,Math.round(u.left+u.width))}else for(const l of e.selections){if(l.startLineNumber!==l.endLineNumber)return null;const u=this._visibleRangesForLineRange(l.startLineNumber,l.startColumn,l.endColumn);if(!u)return null;for(const c of u.ranges)s=Math.min(s,Math.round(c.left)),o=Math.max(o,Math.round(c.left+c.width))}return e.minimalReveal||(s=Math.max(0,s-I4.HORIZONTAL_EXTRA_PX),o+=this._revealHorizontalRightPadding),e.type==="selections"&&o-s>t.width?null:{scrollLeft:this._computeMinimumScrolling(i,r,s,o),maxHorizontalOffset:o}}_computeMinimumScrolling(e,t,i,r,s,o){e=e|0,t=t|0,i=i|0,r=r|0,s=!!s,o=!!o;const a=t-e;if(r-i<a){if(s)return i;if(o)return Math.max(0,r-a);if(i<e)return i;if(r>t)return Math.max(0,r-a)}else return i;return e}}I4.HORIZONTAL_EXTRA_PX=30;class Ggt extends sK{constructor(e){super();this._context=e;const i=this._context.configuration.options.get(131);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(131);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.linesDecorationsClassName;l&&(i[r++]=new OA(a.range.startLineNumber,a.range.endLineNumber,l));const u=a.options.firstLineDecorationClassName;u&&(i[r++]=new OA(a.range.startLineNumber,a.range.startLineNumber,u))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=this._decorationsLeft.toString(),o=this._decorationsWidth.toString(),a='" style="left:'+s+"px;width:"+o+'px;"></div>',l=[];for(let u=t;u<=i;u++){const c=u-t,d=r[c];let h="";for(let f=0,g=d.length;f<g;f++)h+='<div class="cldr '+d[f]+a;l[c]=h}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class qgt extends sK{constructor(e){super();this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.options.marginClassName;l&&(i[r++]=new OA(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),s=[];for(let o=t;o<=i;o++){const a=o-t,l=r[a];let u="";for(let c=0,d=l.length;c<d;c++)u+='<div class="cmdr '+l[c]+'" style=""></div>';s[a]=u}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class ku{constructor(e,t,i,r){this._rgba8Brand=void 0,this.r=ku._clamp(e),this.g=ku._clamp(t),this.b=ku._clamp(i),this.a=ku._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}ku.Empty=new ku(0,0,0,0);class hD extends ze{constructor(){super();this._onDidChange=new Le,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(dr.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new hD),this._INSTANCE}_updateColorMap(){const e=dr.getColorMap();if(!e){this._colors=[ku.Empty],this._backgroundIsLight=!0;return}this._colors=[ku.Empty];for(let i=1;i<e.length;i++){const r=e[i].rgba;this._colors[i]=new ku(r.r,r.g,r.b,Math.round(r.a*255))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}hD._INSTANCE=null;const Ygt=(()=>{const n=[];for(let e=32;e<=126;e++)n.push(e);return n.push(65533),n})(),Xgt=(n,e)=>(n-=32,n<0||n>96?e<=2?(n+96)%96:96-1:n);class xk{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=xk.soften(e,12/15),this.charDataLight=xk.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let r=0,s=e.length;r<s;r++)i[r]=dA(e[r]*t);return i}renderChar(e,t,i,r,s,o,a,l,u,c,d){const h=1*this.scale,f=2*this.scale,g=d?1:f;if(t+h>e.width||i+g>e.height){console.warn("bad render request outside image data");return}const p=c?this.charDataLight:this.charDataNormal,m=Xgt(r,u),b=e.width*4,_=a.r,C=a.g,w=a.b,S=s.r-_,D=s.g-C,E=s.b-w,I=Math.max(o,l),T=e.data;let M=m*h*f,A=i*b+t*4;for(let O=0;O<g;O++){let F=A;for(let U=0;U<h;U++){const V=p[M++]/255*(o/255);T[F++]=_+S*V,T[F++]=C+D*V,T[F++]=w+E*V,T[F++]=I}A+=b}}blockRenderChar(e,t,i,r,s,o,a,l){const u=1*this.scale,c=2*this.scale,d=l?1:c;if(t+u>e.width||i+d>e.height){console.warn("bad render request outside image data");return}const h=e.width*4,f=.5*(s/255),g=o.r,p=o.g,m=o.b,b=r.r-g,_=r.g-p,C=r.b-m,w=g+b*f,S=p+_*f,D=m+C*f,E=Math.max(s,a),I=e.data;let T=i*h+t*4;for(let M=0;M<d;M++){let A=T;for(let O=0;O<u;O++)I[A++]=w,I[A++]=S,I[A++]=D,I[A++]=E;T+=h}}}const uie={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},cie=n=>{const e=new Uint8ClampedArray(n.length/2);for(let t=0;t<n.length;t+=2)e[t>>1]=uie[n[t]]<<4|uie[n[t+1]]&15;return e},die={1:Gg(()=>cie("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Gg(()=>cie("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class rL{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return die[e]?i=new xk(die[e](),e):i=rL.createFromSampleData(rL.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height=`${16}px`,t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold ${16}px ${e}`,i.textBaseline="middle";let r=0;for(const s of Ygt)i.fillText(String.fromCharCode(s),r,16/2),r+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const r=rL._downsample(e,t);return new xk(r,t)}static _downsampleChar(e,t,i,r,s){const o=1*s,a=2*s;let l=r,u=0;for(let c=0;c<a;c++){const d=c/a*16,h=(c+1)/a*16;for(let f=0;f<o;f++){const g=f/o*10,p=(f+1)/o*10;let m=0,b=0;for(let C=d;C<h;C++){const w=t+Math.floor(C)*3840,S=1-(C-Math.floor(C));for(let D=g;D<p;D++){const E=1-(D-Math.floor(D)),I=w+Math.floor(D)*4,T=E*S;b+=T,m+=e[I]*e[I+3]/255*T}}const _=m/b;u=Math.max(u,_),i[l++]=dA(_)}}return u}static _downsample(e,t){const i=2*t*1*t,r=i*96,s=new Uint8ClampedArray(r);let o=0,a=0,l=0;for(let u=0;u<96;u++)l=Math.max(l,this._downsampleChar(e,a,s,o,t)),o+=i,a+=10*4;if(l>0){const u=255/l;for(let c=0;c<r;c++)s[c]*=u}return s}}const Zgt=140,Qgt=2;class Mk{constructor(e,t,i){const r=e.options,s=r.get(129),o=r.get(131),a=o.minimap,l=r.get(44),u=r.get(65);this.renderMinimap=a.renderMinimap,this.size=u.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=r.get(94),this.showSlider=u.showSlider,this.pixelRatio=s,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=r.get(59),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=o.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=o.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Gg(()=>rL.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=Mk._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=Mk._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(Idt);return i?new ku(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(Tdt);return t?ku._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class sL{constructor(e,t,i,r,s,o,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=r,this.sliderTop=s,this.sliderHeight=o,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,r,s,o,a,l,u,c,d){const h=e.pixelRatio,f=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/f),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){const S=l*e.lineHeight+(e.scrollBeyondLastLine?s-e.lineHeight:0),D=Math.max(1,Math.floor(s*s/S)),E=Math.max(0,e.minimapHeight-D),I=E/(c-s),T=u*I,M=E>0,A=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new sL(u,c,M,I,T,D,1,Math.min(a,A))}let m;if(o&&i!==a){const S=i-t+1;m=Math.floor(S*f/h)}else{const S=s/p;m=Math.floor(S*f/h)}let b;e.scrollBeyondLastLine?b=(a-1)*f/h:b=Math.max(0,a*f/h-m),b=Math.min(e.minimapHeight-m,b);const _=b/(c-s),C=u*_;let w=0;if(e.scrollBeyondLastLine&&(w=s/p-1),g>=a+w){const D=a,E=b>0;return new sL(u,c,E,_,C,m,1,D)}else{let S=Math.max(1,Math.floor(t-C*h/f));d&&d.scrollHeight===c&&(d.scrollTop>u&&(S=Math.min(S,d.startLineNumber)),d.scrollTop<u&&(S=Math.max(S,d.startLineNumber)));const D=Math.min(a,S+g-1),E=(u-r)/p,I=(t-S+E)*f/h;return new sL(u,c,!0,_,I,m,S,D)}}}class PA{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}PA.INVALID=new PA(-1);class hie{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new tve(()=>PA.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let r=0,s=i.length;r<s;r++)if(i[r].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class oK{constructor(e,t,i,r){this._backgroundFillData=oK._createBackgroundFillData(t,i,r),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const r=i.r,s=i.g,o=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let u=0;for(let c=0;c<t;c++)for(let d=0;d<e;d++)l[u]=r,l[u+1]=s,l[u+2]=o,l[u+3]=a,u+=4;return l}}class Ak{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const r=e.pixelRatio,s=e.lineHeight,o=e.scrollBeyondLastLine,{minimapLineCount:a}=WC.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:o,height:e.editorHeight,lineHeight:s,pixelRatio:r}),l=t/a,u=l/2;if(!i||i.minimapLines.length===0){const C=[];if(C[0]=1,a>1){for(let w=0,S=a-1;w<S;w++)C[w]=Math.round(w*l+u);C[a-1]=t}return[new Ak(l,C),[]]}const c=i.minimapLines,d=c.length,h=[];let f=0,g=0,p=1;const m=10;let b=[],_=null;for(let C=0;C<a;C++){const w=Math.max(p,Math.round(C*l)),S=Math.max(w,Math.round((C+1)*l));for(;f<d&&c[f]<w;){if(b.length<m){const E=f+1+g;_&&_.type==="deleted"&&_._oldIndex===f-1?_.deleteToLineNumber++:(_={type:"deleted",_oldIndex:f,deleteFromLineNumber:E,deleteToLineNumber:E},b.push(_)),g--}f++}let D;if(f<d&&c[f]<=S)D=c[f],f++;else if(C===0?D=1:C+1===a?D=t:D=Math.round(C*l+u),b.length<m){const E=f+1+g;_&&_.type==="inserted"&&_._i===C-1?_.insertToLineNumber++:(_={type:"inserted",_i:C,insertFromLineNumber:E,insertToLineNumber:E},b.push(_)),g++}h[C]=D,p=D}if(b.length<m)for(;f<d;){const C=f+1+g;_&&_.type==="deleted"&&_._oldIndex===f-1?_.deleteToLineNumber++:(_={type:"deleted",_oldIndex:f,deleteFromLineNumber:C,deleteToLineNumber:C},b.push(_)),g--,f++}else b=[{type:"flush"}];return[new Ak(l,h),b]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let r=this.modelLineToMinimapLine(t)-1;for(;r+1<this.minimapLines.length&&this.minimapLines[r+1]<=t;)r++;if(i===r){const s=this.minimapLines[i];if(s<e||s>t)return null}return[i+1,r+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),r=this.modelLineToMinimapLine(t);return e!==t&&r===i&&(r===this.minimapLines.length?i>1&&i--:r++),[i,r]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,r=0;for(let s=this.minimapLines.length-1;s>=0&&!(this.minimapLines[s]<e.fromLineNumber);s--)this.minimapLines[s]<=e.toLineNumber?(this.minimapLines[s]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,s),r=Math.max(r,s)):this.minimapLines[s]-=t;return[i,r]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class Jgt extends Uu{constructor(e){super(e);this.tokensColorTracker=hD.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Mk(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Ak.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new FA(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new Mk(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return t?this._actual.onLinesChanged(t[0],t[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const r=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);r&&t.push({fromLineNumber:r[0],toLineNumber:r[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const r={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(r)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=Ak.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const r of i)switch(r.type){case"deleted":this._actual.onLinesDeleted(r.deleteFromLineNumber,r.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(r.insertFromLineNumber,r.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const r=[];for(let s=0,o=t-e+1;s<o;s++)i[s]?r[s]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+s-1]):r[s]=null;return r}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new vt(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const s=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];i=new Y(s,1,o,this._context.model.getLineMaxColumn(o))}else i=new Y(e,1,t,this._context.model.getLineMaxColumn(t));const r=this._context.model.getDecorationsInViewport(i);if(this._samplingState){const s=[];for(const o of r){if(!o.options.minimap)continue;const a=o.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),u=this._samplingState.modelLineToMinimapLine(a.endLineNumber);s.push(new Dpe(new Y(l,a.startColumn,u,a.endColumn),o.options))}return s}return r}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Y(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class FA extends ze{constructor(e,t){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Dne),this._domNode=Un(document.createElement("div")),tf.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Un(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Un(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Un(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Un(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Un(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=Ks(this._domNode.domNode,"mousedown",i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.leftButton&&this._lastRenderData){const u=io(this._slider.domNode),c=u.top+u.height/2;this._startSliderDragging(i.buttons,i.posx,c,i.posy,this._lastRenderData.renderedLayout)}return}const s=this._model.options.minimapLineHeight,o=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.browserEvent.offsetY;let l=Math.floor(o/s)+this._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderMouseMoveMonitor=new x1,this._sliderMouseDownListener=Ks(this._slider.domNode,"mousedown",i=>{i.preventDefault(),i.stopPropagation(),i.leftButton&&this._lastRenderData&&this._startSliderDragging(i.buttons,i.posx,i.posy,i.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=hi.addTarget(this._domNode.domNode),this._sliderTouchStartListener=nt(this._domNode.domNode,$i.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=nt(this._domNode.domNode,$i.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=Ks(this._domNode.domNode,$i.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i,r,s){this._slider.toggleClassName("active",!0);const o=(a,l)=>{const u=Math.abs(l-t);if(Gs&&u>Zgt){this._model.setScrollTop(s.scrollTop);return}const c=a-i;this._model.setScrollTop(s.getDesiredScrollTopFromDelta(c))};r!==i&&o(r,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,Ww,a=>o(a.posy,a.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new oK(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Dne),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=sL.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(Y.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((h,f)=>(h.options.zIndex||0)-(f.options.zIndex||0));const{canvasInnerWidth:r,canvasInnerHeight:s}=this._model.options,o=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,u=this._decorationsCanvas.domNode.getContext("2d");u.clearRect(0,0,r,s);const c=new fie(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(u,t,c,e,o),this._renderDecorationsLineHighlights(u,i,c,e,o);const d=new fie(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(u,t,d,e,o,l,a,r),this._renderDecorationsHighlights(u,i,d,e,o,l,a,r)}}_renderSelectionLineHighlights(e,t,i,r,s){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let o=0,a=0;for(const l of t){const u=Math.max(r.startLineNumber,l.startLineNumber),c=Math.min(r.endLineNumber,l.endLineNumber);if(u>c)continue;for(let f=u;f<=c;f++)i.set(f,!0);const d=(u-r.startLineNumber)*s,h=(c-r.startLineNumber)*s+s;a>=d||(a>o&&e.fillRect($p,o,e.canvas.width,a-o),o=d),a=h}a>o&&e.fillRect($p,o,e.canvas.width,a-o)}_renderDecorationsLineHighlights(e,t,i,r,s){const o=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],u=l.options.minimap;if(!u||u.position!==Nu.Inline)continue;const c=Math.max(r.startLineNumber,l.range.startLineNumber),d=Math.min(r.endLineNumber,l.range.endLineNumber);if(c>d)continue;const h=u.getColor(this._theme.value);if(!h||h.isTransparent())continue;let f=o.get(h.toString());f||(f=h.transparent(.5).toString(),o.set(h.toString(),f)),e.fillStyle=f;for(let g=c;g<=d;g++){if(i.has(g))continue;i.set(g,!0);const p=(c-r.startLineNumber)*s;e.fillRect($p,p,e.canvas.width,s)}}}_renderSelectionsHighlights(e,t,i,r,s,o,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const u of t){const c=Math.max(r.startLineNumber,u.startLineNumber),d=Math.min(r.endLineNumber,u.endLineNumber);if(!(c>d))for(let h=c;h<=d;h++)this.renderDecorationOnLine(e,i,u,this._selectionColor,r,h,s,s,o,a,l)}}_renderDecorationsHighlights(e,t,i,r,s,o,a,l){for(const u of t){const c=u.options.minimap;if(!c)continue;const d=Math.max(r.startLineNumber,u.range.startLineNumber),h=Math.min(r.endLineNumber,u.range.endLineNumber);if(d>h)continue;const f=c.getColor(this._theme.value);if(!(!f||f.isTransparent()))for(let g=d;g<=h;g++)switch(c.position){case Nu.Inline:this.renderDecorationOnLine(e,i,u.range,f,r,g,s,s,o,a,l);continue;case Nu.Gutter:{const p=(g-r.startLineNumber)*s,m=2;this.renderDecoration(e,f,m,p,Qgt,s);continue}}}}renderDecorationOnLine(e,t,i,r,s,o,a,l,u,c,d){const h=(o-s.startLineNumber)*l;if(h+a<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:f,endLineNumber:g}=i,p=f===o?i.startColumn:1,m=g===o?i.endColumn:this._model.getLineMaxColumn(o),b=this.getXOffsetForPosition(t,o,p,u,c,d),_=this.getXOffsetForPosition(t,o,m,u,c,d);this.renderDecoration(e,r,b,h,_-b,a)}getXOffsetForPosition(e,t,i,r,s,o){if(i===1)return $p;if((i-1)*s>=o)return o;let l=e.get(t);if(!l){const u=this._model.getLineContent(t);l=[$p];let c=$p;for(let d=1;d<u.length+1;d++){const h=u.charCodeAt(d-1),f=h===9?r*s:Km(h)?2*s:s,g=c+f;if(g>=o){l[d]=o;break}l[d]=g,c=g}e.set(t,l)}return i-1<l.length?l[i-1]:o}renderDecoration(e,t,i,r,s,o){e.fillStyle=t&&t.toString()||"",e.fillRect(i,r,s,o)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,r=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const V=this._lastRenderData._get();return new hie(e,V.imageData,V.lines)}const s=this._getBuffer();if(!s)return null;const[o,a,l]=FA._renderUntouchedLines(s,t,i,r,this._lastRenderData),u=this._model.getMinimapLinesRenderingData(t,i,l),c=this._model.getOptions().tabSize,d=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,f=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,p=g.backgroundIsLight(),m=this._model.options.renderMinimap,b=this._model.options.charRenderer(),_=this._model.options.fontScale,C=this._model.options.minimapCharWidth,S=(m===1?2:2+1)*_,D=r>S?Math.floor((r-S)/2):0,E=h.a/255,I=new ku(Math.round((h.r-d.r)*E+d.r),Math.round((h.g-d.g)*E+d.g),Math.round((h.b-d.b)*E+d.b),255);let T=0;const M=[];for(let V=0,G=i-t+1;V<G;V++)l[V]&&FA._renderLine(s,I,h.a,p,m,C,g,f,b,T,D,c,u[V],_,r),M[V]=new PA(T),T+=r;const A=o===-1?0:o,F=(a===-1?s.height:a)-A;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,A,s.width,F),new hie(e,s,M)}static _renderUntouchedLines(e,t,i,r,s){const o=[];if(!s){for(let I=0,T=i-t+1;I<T;I++)o[I]=!0;return[-1,-1,o]}const a=s._get(),l=a.imageData.data,u=a.rendLineNumberStart,c=a.lines,d=c.length,h=e.width,f=e.data,g=(i-t+1)*r*h*4;let p=-1,m=-1,b=-1,_=-1,C=-1,w=-1,S=0;for(let I=t;I<=i;I++){const T=I-t,M=I-u,A=M>=0&&M<d?c[M].dy:-1;if(A===-1){o[T]=!0,S+=r;continue}const O=A*h*4,F=(A+r)*h*4,U=S*h*4,V=(S+r)*h*4;_===O&&w===U?(_=F,w=V):(b!==-1&&(f.set(l.subarray(b,_),C),p===-1&&b===0&&b===C&&(p=_),m===-1&&_===g&&b===C&&(m=b)),b=O,_=F,C=U,w=V),o[T]=!1,S+=r}b!==-1&&(f.set(l.subarray(b,_),C),p===-1&&b===0&&b===C&&(p=_),m===-1&&_===g&&b===C&&(m=b));const D=p===-1?-1:p/(h*4),E=m===-1?-1:m/(h*4);return[D,E,o]}static _renderLine(e,t,i,r,s,o,a,l,u,c,d,h,f,g,p){const m=f.content,b=f.tokens,_=e.width-o,C=p===1;let w=$p,S=0,D=0;for(let E=0,I=b.getCount();E<I;E++){const T=b.getEndOffset(E),M=b.getForeground(E),A=a.getColor(M);for(;S<T;S++){if(w>_)return;const O=m.charCodeAt(S);if(O===9){const F=h-(S+D)%h;D+=F-1,w+=F*o}else if(O===32)w+=o;else{const F=Km(O)?2:1;for(let U=0;U<F;U++)if(s===2?u.blockRenderChar(e,w,c+d,A,l,t,i,C):u.renderChar(e,w,c+d,O,A,l,t,i,g,r,C),w+=o,w>_)return}}}}}class fie{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let r=0,s=this._endLineNumber-this._startLineNumber+1;r<s;r++)this._values[r]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}Hi((n,e)=>{const t=n.getColor(Ndt);t&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${t}; }`);const i=n.getColor(xdt);i&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${i}; }`);const r=n.getColor(Mdt);r&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${r}; }`);const s=n.getColor(Hw);s&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${s} -6px 0 6px -6px inset; }`)});class ept extends Uu{constructor(e){super(e);const i=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,this._domNode=Un(document.createElement("div")),tf.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=Un(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference===t?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.parentNode.removeChild(r),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(e.preference===null){t.unsetTop();return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(t.setTop(0),t.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,r=t.length;i<r;i++){const s=t[i];this._renderWidget(this._widgets[s])}}}class tpt{constructor(e,t){const i=e.options;this.lineHeight=i.get(59),this.pixelRatio=i.get(129),this.overviewRulerLanes=i.get(74),this.renderBorder=i.get(73);const r=t.getColor(bht);this.borderColor=r?r.toString():null,this.hideCursor=i.get(52);const s=t.getColor(Dme);this.cursorColor=s?s.transparent(.7).toString():null,this.themeType=t.type;const o=i.get(65),a=o.enabled,l=o.side,u=a?t.getColor(Cht)||dr.getDefaultBackground():null;u===null||l==="left"?this.backgroundColor=null:this.backgroundColor=We.Format.CSS.formatHex(u);const d=i.get(131).overviewRuler;this.top=d.top,this.right=d.right,this.domWidth=d.width,this.domHeight=d.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[h,f]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=h,this.w=f}_initLanes(e,t,i){const r=t-e;if(i>=3){const s=Math.floor(r/3),o=Math.floor(r/3),a=r-s-o,l=e,u=l+s,c=l+s+a;return[[0,l,u,l,c,l,u,l],[0,s,a,s+a,o,s+a+o,a+o,s+a+o]]}else if(i===2){const s=Math.floor(r/2),o=r-s,a=e,l=a+s;return[[0,a,a,a,l,a,a,a],[0,s,s,s,o,s+o,s+o,s+o]]}else{const s=e,o=r;return[[0,s,s,s,s,s,s,s],[0,o,o,o,o,o,o,o]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class npt extends Uu{constructor(e){super(e);this._domNode=Un(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=dr.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new tpt(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(Ae.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,r=this._context.viewLayout,s=this._context.viewLayout.getScrollHeight(),o=t/s,a=this._context.model.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,u=l/2|0,c=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?c.clearRect(0,0,e,t):(c.fillStyle=this._settings.backgroundColor,c.fillRect(0,0,e,t));const d=this._settings.x,h=this._settings.w;a.sort(Ipe.cmp);for(const f of a){const g=f.color,p=f.data;c.fillStyle=g;let m=0,b=0,_=0;for(let C=0,w=p.length/3;C<w;C++){const S=p[3*C],D=p[3*C+1],E=p[3*C+2];let I=r.getVerticalOffsetForLineNumber(D)*o|0,T=(r.getVerticalOffsetForLineNumber(E)+i)*o|0;if(T-I<l){let A=(I+T)/2|0;A<u?A=u:A+u>t&&(A=t-u),I=A-u,T=A+u}I>_+1||S!==m?(C!==0&&c.fillRect(d[m],b,h[m],_-b),m=S,b=I,_=T):T>_&&(_=T)}c.fillRect(d[m],b,h[m],_-b)}if(!this._settings.hideCursor&&this._settings.cursorColor){const f=2*this._settings.pixelRatio|0,g=f/2|0,p=this._settings.x[7],m=this._settings.w[7];c.fillStyle=this._settings.cursorColor;let b=-100,_=-100;for(let C=0,w=this._cursorPositions.length;C<w;C++){const S=this._cursorPositions[C];let D=r.getVerticalOffsetForLineNumber(S.lineNumber)*o|0;D<g?D=g:D+g>t&&(D=t-g);const E=D-g,I=E+f;E>_+1?(C!==0&&c.fillRect(p,b,m,_-b),b=E,_=I):I>_&&(_=I)}c.fillRect(p,b,m,_-b)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(c.beginPath(),c.lineWidth=1,c.strokeStyle=this._settings.borderColor,c.moveTo(0,0),c.lineTo(0,t),c.stroke(),c.moveTo(0,0),c.lineTo(e,0),c.stroke())}}class gie{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class Rk{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class ipt{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Rk.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),r=Math.floor(this._outerHeight),s=i/r,o=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,u=this._zones.length;l<u;l++){const c=this._zones[l];if(!e){const _=c.getColorZones();if(_){a.push(_);continue}}const d=Math.floor(s*this._getVerticalOffsetForLine(c.startLineNumber)),h=Math.floor(s*(this._getVerticalOffsetForLine(c.endLineNumber)+t));let f=Math.floor((d+h)/2),g=h-f;g<o&&(g=o),f-g<0&&(f=g),f+g>i&&(f=i-g);const p=c.color;let m=this._color2Id[p];m||(m=++this._lastAssignedId,this._color2Id[p]=m,this._id2Color[m]=p);const b=new gie(f-g,f+g,m);c.setColorZone(b),a.push(b)}return this._colorZonesInvalid=!1,a.sort(gie.compare),a}}class rpt extends uD{constructor(e,t){super();this._context=e;const i=this._context.configuration.options;this._domNode=Un(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new ipt(r=>this._context.viewLayout.getVerticalOffsetForLineNumber(r)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(59)),this._zoneManager.setPixelRatio(i.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(59)&&(this._zoneManager.setLineHeight(t.get(59)),this._render()),e.hasChanged(129)&&(this._zoneManager.setPixelRatio(t.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(s,i,r,e),!0}_renderOneLane(e,t,i,r){let s=0,o=0,a=0;for(const l of t){const u=l.colorId,c=l.from,d=l.to;u!==s?(e.fillRect(0,o,r,a-o),s=u,e.fillStyle=i[s],o=c,a=d):a>=c?a=Math.max(a,d):(e.fillRect(0,o,r,a-o),o=c,a=d)}e.fillRect(0,o,r,a-o)}}class spt extends Uu{constructor(e){super(e);this.domNode=Un(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(91),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:r}=this._context.model.getTextModelOptions(),s=r;let o=t-e;for(;o>0;){const a=Un(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(s),this.domNode.appendChild(a),this._renderedRulers.push(a),o--}return}let i=e-t;for(;i>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const r=this._renderedRulers[t],s=this._rulers[t];r.setBoxShadow(s.color?`1px 0 0 0 ${s.color} inset`:""),r.setHeight(Math.min(e.scrollHeight,1e6)),r.setLeft(s.column*this._typicalHalfwidthCharacterWidth)}}}Hi((n,e)=>{const t=n.getColor(vht);t&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${t} inset; }`)});class opt extends Uu{constructor(e){super(e);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(92);this._useShadows=i.useShadows,this._domNode=Un(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(131);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(92);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}Hi((n,e)=>{const t=n.getColor(Hw);t&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${t} 0 6px 6px -6px inset; }`)});class apt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class lpt{constructor(e,t){this.lineNumber=e,this.ranges=t}}function upt(n){return new apt(n)}function cpt(n){return new lpt(n.lineNumber,n.ranges.map(upt))}class Cr extends Uw{constructor(e){super();this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(59),this._roundedSelection=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(59),this._roundedSelection=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const r=this._typicalHalfwidthCharacterWidth/4;let s=null,o=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let u=0;!s&&u<i.length;u++)i[u].lineNumber===a&&(s=i[u].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let u=i.length-1;!o&&u>=0;u--)i[u].lineNumber===l&&(o=i[u].ranges[0]);s&&!s.startStyle&&(s=null),o&&!o.startStyle&&(o=null)}for(let a=0,l=t.length;a<l;a++){const u=t[a].ranges[0],c=u.left,d=u.left+u.width,h={top:0,bottom:0},f={top:0,bottom:0};if(a>0){const g=t[a-1].ranges[0].left,p=t[a-1].ranges[0].left+t[a-1].ranges[0].width;kT(c-g)<r?h.top=2:c>g&&(h.top=1),kT(d-p)<r?f.top=2:g<d&&d<p&&(f.top=1)}else s&&(h.top=s.startStyle.top,f.top=s.endStyle.top);if(a+1<l){const g=t[a+1].ranges[0].left,p=t[a+1].ranges[0].left+t[a+1].ranges[0].width;kT(c-g)<r?h.bottom=2:g<c&&c<p&&(h.bottom=1),kT(d-p)<r?f.bottom=2:d<p&&(f.bottom=1)}else o&&(h.bottom=o.startStyle.bottom,f.bottom=o.endStyle.bottom);u.startStyle=h,u.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){const s=(t.linesVisibleRangesForRange(e,!0)||[]).map(cpt);return!this._visibleRangesHaveGaps(s)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,s,i),s}_createSelectionPiece(e,t,i,r,s){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+r.toString()+"px;width:"+s.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,r){if(r.length===0)return;const s=!!r[0].ranges[0].startStyle,o=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=r[0].lineNumber,u=r[r.length-1].lineNumber;for(let c=0,d=r.length;c<d;c++){const h=r[c],f=h.lineNumber,g=f-t,p=i&&(f===u||f===l)?a:o,m=i&&f===l?1:0;let b="",_="";for(let C=0,w=h.ranges.length;C<w;C++){const S=h.ranges[C];if(s){const E=S.startStyle,I=S.endStyle;if(E.top===1||E.bottom===1){b+=this._createSelectionPiece(m,p,Cr.SELECTION_CLASS_NAME,S.left-Cr.ROUNDED_PIECE_WIDTH,Cr.ROUNDED_PIECE_WIDTH);let T=Cr.EDITOR_BACKGROUND_CLASS_NAME;E.top===1&&(T+=" "+Cr.SELECTION_TOP_RIGHT),E.bottom===1&&(T+=" "+Cr.SELECTION_BOTTOM_RIGHT),b+=this._createSelectionPiece(m,p,T,S.left-Cr.ROUNDED_PIECE_WIDTH,Cr.ROUNDED_PIECE_WIDTH)}if(I.top===1||I.bottom===1){b+=this._createSelectionPiece(m,p,Cr.SELECTION_CLASS_NAME,S.left+S.width,Cr.ROUNDED_PIECE_WIDTH);let T=Cr.EDITOR_BACKGROUND_CLASS_NAME;I.top===1&&(T+=" "+Cr.SELECTION_TOP_LEFT),I.bottom===1&&(T+=" "+Cr.SELECTION_BOTTOM_LEFT),b+=this._createSelectionPiece(m,p,T,S.left+S.width,Cr.ROUNDED_PIECE_WIDTH)}}let D=Cr.SELECTION_CLASS_NAME;if(s){const E=S.startStyle,I=S.endStyle;E.top===0&&(D+=" "+Cr.SELECTION_TOP_LEFT),E.bottom===0&&(D+=" "+Cr.SELECTION_BOTTOM_LEFT),I.top===0&&(D+=" "+Cr.SELECTION_TOP_RIGHT),I.bottom===0&&(D+=" "+Cr.SELECTION_BOTTOM_RIGHT)}_+=this._createSelectionPiece(m,p,D,S.left,S.width)}e[g][0]+=b,e[g][1]+=_}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let o=i;o<=r;o++){const a=o-i;t[a]=["",""]}const s=[];for(let o=0,a=this._selections.length;o<a;o++){const l=this._selections[o];if(l.isEmpty()){s[o]=null;continue}const u=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[o]);s[o]=u,this._actualRenderOneSelection(t,i,this._selections.length>1,u)}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t.map(([o,a])=>o+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Cr.SELECTION_CLASS_NAME="selected-text";Cr.SELECTION_TOP_LEFT="top-left-radius";Cr.SELECTION_BOTTOM_LEFT="bottom-left-radius";Cr.SELECTION_TOP_RIGHT="top-right-radius";Cr.SELECTION_BOTTOM_RIGHT="bottom-right-radius";Cr.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";Cr.ROUNDED_PIECE_WIDTH=10;Hi((n,e)=>{const t=n.getColor(km);t&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const i=n.getColor(Fj);i&&e.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);const r=n.getColor(Bct);r&&!r.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${r}; }`)});function kT(n){return n<0?-n:n}class pie{constructor(e,t,i,r,s,o){this.top=e,this.left=t,this.width=i,this.height=r,this.textContent=s,this.textContentClassName=o}}class mie{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(44);this._cursorStyle=t.get(24),this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Un(document.createElement("div")),this._domNode.setClassName(`cursor ${g_}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),oo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new Ae(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(44);return this._cursorStyle=t.get(24),this._lineHeight=t.get(59),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),oo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.model.getLineContent(e),[r,s]=Bot(i,t-1);return[new Ae(e,r+1),i.substring(r,s)]}_prepareRender(e){let t="";const[i,r]=this._getGraphemeAwarePosition();if(this._cursorStyle===Hs.Line||this._cursorStyle===Hs.LineThin){const h=e.visibleRangeForPosition(i);if(!h||h.outsideRenderedLine)return null;let f;this._cursorStyle===Hs.Line?(f=mne(this._lineCursorWidth>0?this._lineCursorWidth:2),f>2&&(t=r)):f=mne(1);let g=h.left;f>=2&&g>=1&&(g-=1);const p=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta;return new pie(p,g,f,this._lineHeight,t,"")}const s=e.linesVisibleRangesForRange(new Y(i.lineNumber,i.column,i.lineNumber,i.column+r.length),!1);if(!s||s.length===0)return null;const o=s[0];if(o.outsideRenderedLine||o.ranges.length===0)return null;const a=o.ranges[0],l=a.width<1?this._typicalHalfwidthCharacterWidth:a.width;let u="";if(this._cursorStyle===Hs.Block){const h=this._context.model.getViewLineData(i.lineNumber);t=r;const f=h.tokens.findTokenIndexAtOffset(i.column-1);u=h.tokens.getClassName(f)}let c=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return(this._cursorStyle===Hs.Underline||this._cursorStyle===Hs.UnderlineThin)&&(c+=this._lineHeight-2,d=2),new pie(c,a.left,l,d,t,u)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${g_} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class Ok extends Uu{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(81),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new mie(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=Un(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ra,this._cursorFlatBlinkInterval=new tD,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(81),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,r=this._secondaryCursors.length;i<r;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const i=t.length-this._secondaryCursors.length;for(let r=0;r<i;r++){const s=new mie(this._context);this._domNode.domNode.insertBefore(s.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(s)}}else if(this._secondaryCursors.length>t.length){const i=this._secondaryCursors.length-t.length;for(let r=0;r<i;r++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){const t=[];for(let r=0,s=e.selections.length;r<s;r++)t[r]=e.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let r=0,s=e.ranges.length;r<s;r++)if(e.ranges[r].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Ok.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Ok.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Hs.Line:e+=" cursor-line-style";break;case Hs.Block:e+=" cursor-block-style";break;case Hs.Underline:e+=" cursor-underline-style";break;case Hs.LineThin:e+=" cursor-line-thin-style";break;case Hs.BlockOutline:e+=" cursor-block-outline-style";break;case Hs.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const r=this._primaryCursor.render(e);r&&(t[i++]=r);for(let s=0,o=this._secondaryCursors.length;s<o;s++){const a=this._secondaryCursors[s].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}}Ok.BLINK_INTERVAL=500;Hi((n,e)=>{const t=n.getColor(Dme);if(t){let i=n.getColor(pht);i||(i=t.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),n.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});const c8=()=>{throw new Error("Invalid change accessor")};class dpt extends Uu{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=Un(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Un(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const r of e)t.set(r.id,r);let i=!1;return this._context.model.changeWhitespace(r=>{const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._zones[l],c=this._computeWhitespaceProps(u.delegate);u.isInHiddenArea=c.isInHiddenArea;const d=t.get(l);d&&(d.afterLineNumber!==c.afterViewLineNumber||d.height!==c.heightInPx)&&(r.changeOneWhitespace(l,c.afterViewLineNumber,c.heightInPx),this._safeCallOnComputedHeight(u.delegate,c.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn!="undefined")t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const o=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Ae(o,this._context.model.getModelLineMaxColumn(o))}let i;t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?i=this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity),s=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!s,afterViewLineNumber:r.lineNumber,heightInPx:s?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace(i=>{const r={addZone:s=>(t=!0,this._addZone(i,s)),removeZone:s=>{!s||(t=this._removeZone(i,s)||t)},layoutZone:s=>{!s||(t=this._layoutZone(i,s)||t)}};hpt(e,r),r.addZone=c8,r.removeZone=c8,r.layoutZone=c8}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),s={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:Un(t.domNode),marginDomNode:t.marginDomNode?Un(t.marginDomNode):null};return this._safeCallOnComputedHeight(s.delegate,i.heightInPx),s.domNode.setPosition("absolute"),s.domNode.domNode.style.width="100%",s.domNode.setDisplay("none"),s.domNode.setAttribute("monaco-view-zone",s.whitespaceId),this.domNode.appendChild(s.domNode),s.marginDomNode&&(s.marginDomNode.setPosition("absolute"),s.marginDomNode.domNode.style.width="100%",s.marginDomNode.setDisplay("none"),s.marginDomNode.setAttribute("monaco-view-zone",s.whitespaceId),this.marginDomNode.appendChild(s.marginDomNode)),this._zones[s.whitespaceId]=s,this.setShouldRender(),s.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],r=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=r.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(i.delegate,r.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){Qt(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){Qt(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let r=!1;for(const o of t)this._zones[o.id].isInHiddenArea||(i[o.id]=o,r=!0);const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._zones[l];let c=0,d=0,h="none";i.hasOwnProperty(l)?(c=i[l].verticalOffset-e.bigNumbersDelta,d=i[l].height,h="block",u.isVisible||(u.domNode.setAttribute("monaco-visible-view-zone","true"),u.isVisible=!0),this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(u.isVisible&&(u.domNode.removeAttribute("monaco-visible-view-zone"),u.isVisible=!1),this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),u.domNode.setTop(c),u.domNode.setHeight(d),u.domNode.setDisplay(h),u.marginDomNode&&(u.marginDomNode.setTop(c),u.marginDomNode.setHeight(d),u.marginDomNode.setDisplay(h))}r&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function hpt(n,e){try{return n(e)}catch(t){Qt(t)}}class fpt{constructor(e){this._theme=e}get type(){return this._theme.type}get value(){return this._theme}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class gpt{constructor(e,t,i){this.configuration=e,this.theme=new fpt(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class ppt{constructor(e,t,i,r){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=r,this.visibleRange=new Y(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class mpt extends uD{constructor(e,t,i,r,s,o){super();this._selections=[new vt(1,1,1,1)],this._renderAnimationFrame=null;const a=new Cgt(t,r,s,e);this._context=new gpt(t,i.getColorTheme(),r),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange(p=>{this._context.theme.update(p),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new jht(this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Un(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Un(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Un(document.createElement("div")),tf.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Wgt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new I4(this._context,this._linesContent),this._viewZones=new dpt(this._context),this._viewParts.push(this._viewZones);const l=new npt(this._context);this._viewParts.push(l);const u=new opt(this._context);this._viewParts.push(u);const c=new wgt(this._context);this._viewParts.push(c),c.addDynamicOverlay(new Egt(this._context)),c.addDynamicOverlay(new Cr(this._context)),c.addDynamicOverlay(new zgt(this._context)),c.addDynamicOverlay(new Igt(this._context));const d=new Sgt(this._context);this._viewParts.push(d),d.addDynamicOverlay(new Dgt(this._context)),d.addDynamicOverlay(new Hgt(this._context)),d.addDynamicOverlay(new qgt(this._context)),d.addDynamicOverlay(new Ggt(this._context)),d.addDynamicOverlay(new Yy(this._context));const h=new V_(this._context);h.getDomNode().appendChild(this._viewZones.marginDomNode),h.getDomNode().appendChild(d.getDomNode()),this._viewParts.push(h),this._contentWidgets=new Lgt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Ok(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new ept(this._context),this._viewParts.push(this._overlayWidgets);const f=new spt(this._context);this._viewParts.push(f);const g=new Jgt(this._context);if(this._viewParts.push(g),l){const p=this._scrollbar.getOverviewRulerLayoutInfo();p.parent.insertBefore(l.getDomNode(),p.insertBefore)}this._linesContent.appendChild(c.getDomNode()),this._linesContent.appendChild(f.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),o?o.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new uht(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new eht(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ae(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(131);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+wA(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=Ppe(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){vpt(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!Sj(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new ppt(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const r=new Kdt(this._context.viewLayout,i,this._viewLines);for(const s of e)s.prepareRender(r);for(const s of e)s.render(r),s.onDidRender()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.model.validateModelPosition({lineNumber:e,column:t}),r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const s=this._viewLines.visibleRangeForPosition(new Ae(r.lineNumber,r.column));return s?s.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?D4.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new rpt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(t===null){const r=e.position?e.position.position:null;r!==null&&(t=new Y(r.lineNumber,r.column,r.lineNumber,r.column))}const i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function vpt(n){try{return n()}catch(e){Qt(e)}}class BA{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Ws(new Y(1,1,1,1),0,new Ae(1,1),0),new Ws(new Y(1,1,1,1),0,new Ae(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){!this._trackSelection||(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new mn(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return vt.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,r){return t.equals(i)?r:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,r=t.selectionStart.getStartPosition(),s=t.selectionStart.getEndPosition(),o=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,r,i,o),l=this._validatePositionWithCache(e,s,r,a);return i.equals(o)&&r.equals(a)&&s.equals(l)?t:new Ws(Y.fromPositions(a,l),t.selectionStartLeftoverVisibleColumns+r.column-a.column,o,t.leftoverVisibleColumns+i.column-o.column)}_setState(e,t,i){if(i&&(i=BA._validateViewState(e.viewModel,i)),t){const r=e.model.validateRange(t.selectionStart),s=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),a=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new Ws(r,s,o,a)}else{if(!i)return;const r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),s=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Ws(r,i.selectionStartLeftoverVisibleColumns,s,i.leftoverVisibleColumns)}if(i){const r=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),s=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Ws(r,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}else{const r=e.coordinatesConverter.convertModelPositionToViewPosition(new Ae(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),s=e.coordinatesConverter.convertModelPositionToViewPosition(new Ae(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),o=new Y(r.lineNumber,r.column,s.lineNumber,s.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Ws(o,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class vie{constructor(e){this.context=e,this.cursors=[new BA(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return rst(this.cursors,cx(e=>e.viewState.position,Ae.compare)).viewState.position}getBottomMostViewPosition(){return ist(this.cursors,cx(e=>e.viewState.position,Ae.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(mn.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const r=i-t;for(let s=0;s<r;s++)this._addSecondaryCursor()}else if(t>i){const r=t-i;for(let s=0;s<r;s++)this._removeSecondaryCursor(this.cursors.length-2)}for(let r=0;r<i;r++)this.cursors[r+1].setState(this.context,e[r].modelState,e[r].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new BA(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),t=[];for(let i=0,r=e.length;i<r;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(cx(i=>i.selection,Y.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const r=t[i],s=t[i+1],o=r.selection,a=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||o.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(o.getEndPosition()):l=a.getStartPosition().isBefore(o.getEndPosition()),l){const u=r.index<s.index?i:i+1,c=r.index<s.index?i+1:i,d=t[c].index,h=t[u].index,f=t[c].selection,g=t[u].selection;if(!f.equalsSelection(g)){const p=f.plusRange(g),m=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,b=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn;let _;d===this.lastAddedCursorIndex?(_=m,this.lastAddedCursorIndex=h):_=b;let C;_?C=new vt(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):C=new vt(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),t[u].selection=C;const w=mn.fromModelSelection(C);e[h].setState(this.context,w.modelState,w.viewState)}for(const p of t)p.index>d&&p.index--;e.splice(d,1),t.splice(c,1),this._removeSecondaryCursor(d-1),i--}}}}class _pt{constructor(){this.type=0}}class bpt{constructor(){this.type=1}}class Cpt{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class ypt{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class Db{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class ET{constructor(){this.type=5}}class wpt{constructor(e){this.type=6,this.isFocused=e}}class Spt{constructor(){this.type=7}}class DT{constructor(){this.type=8}}class ave{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class u${constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class c${constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class Dx{constructor(e,t,i,r,s,o,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=r,this.verticalType=s,this.revealHorizontal=o,this.scrollType=a,this.type=12}}class Lpt{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class kpt{constructor(){this.type=14}}class Ept{constructor(e){this.type=15,this.ranges=e}}class Dpt{constructor(){this.type=16}}class Ipt{constructor(){this.type=17}}class Tpt extends ze{constructor(){super();this._onEvent=this._register(new Le),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind){this._outgoingEvents[t]=this._outgoingEvents[t].merge(e);return}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Npt),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class Npt{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class aK{constructor(e,t,i,r){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new aK(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class lK{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new lK(this.oldHasFocus,e.hasFocus)}}class uK{constructor(e,t,i,r,s,o,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=r,this.scrollWidth=s,this.scrollLeft=o,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new uK(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class _ie{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class $A{constructor(e,t,i,r,s,o,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=r,this.source=s,this.reason=o,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,r=t.length;if(i!==r)return!1;for(let s=0;s<i;s++)if(!e[s].equalsSelection(t[s]))return!1;return!0}isNoOp(){return $A._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==6?this:new $A(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class xpt{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class Qy extends ze{constructor(e,t,i,r){super();this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new nie(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors=new vie(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=jn(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new nie(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,r){let s=!1;r!==null&&r.length>Qy.MAX_CURSOR_COUNT&&(r=r.slice(0,Qy.MAX_CURSOR_COUNT),s=!0);const o=oL.from(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,o,s)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,r,s,o){const a=this._cursors.getViewPositions();let l=null,u=null;a.length>1?u=this._cursors.getViewSelections():l=Y.fromPositions(a[0],a[0]),e.emitViewEvent(new Dx(t,i,l,u,r,s,o))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push({inSelectionMode:!s.isEmpty(),selectionStart:{lineNumber:s.selectionStartLineNumber,column:s.selectionStartColumn},position:{lineNumber:s.positionLineNumber,column:s.positionColumn}})}return e}restoreState(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r];let a=1,l=1;o.position&&o.position.lineNumber&&(a=o.position.lineNumber),o.position&&o.position.column&&(l=o.position.column);let u=a,c=l;o.selectionStart&&o.selectionStart.lineNumber&&(u=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(c=o.selectionStart.column),i.push({selectionStartLineNumber:u,selectionStartColumn:c,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,mn.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof Zme){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;const i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new vie(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const r=mn.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,r)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const r=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,mn.fromModelSelections(r))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,r){this.setStates(e,t,r,mn.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],r=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const s=this._model.deltaDecorations([],i),o=this._model.deltaDecorations([],r);this._autoClosedActions.push(new bie(this._model,s,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=Mpt.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],r=[];for(let s=0;s<e.commands.length;s++){const o=e.commands[s];o instanceof eve&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),r.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,r),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,r,s){const o=oL.from(this._model,this);if(o.equals(r))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new ypt(l,a)),!r||r.cursorState.length!==o.cursorState.length||o.cursorState.some((u,c)=>!u.modelState.equals(r.cursorState[c].modelState))){const u=r?r.cursorState.map(d=>d.modelState.selection):null,c=r?r.modelVersionId:0;e.emitOutgoingEvent(new $A(u,a,c,o.modelVersionId,t||"keyboard",i,s))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.text||s.text.indexOf(`
`)>=0)return null;const o=s.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const a=o[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const u=l[0].open,c=s.text.length-o[2].length-1,d=s.text.lastIndexOf(u,c-1);if(d===-1)return null;t.push([d,c])}return t}executeEdits(e,t,i,r){let s=null;t==="snippet"&&(s=this._findAutoClosingPairs(i)),s&&(i[0]._isTracked=!0);const o=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,u=>{if(s)for(let d=0,h=s.length;d<h;d++){const[f,g]=s[d],p=u[d],m=p.range.startLineNumber,b=p.range.startColumn-1+f,_=p.range.startColumn-1+g;o.push(new Y(m,_+1,m,_+2)),a.push(new Y(m,b+1,m,_+2))}const c=r(u);return c&&(this._isHandling=!0),c});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),o.length>0&&this._pushAutoClosedAction(o,a)}_executeEdit(e,t,i,r=0){if(this.context.cursorConfig.readOnly)return;const s=oL.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(o){Qt(o)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,r,s,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return bie.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(lr.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const r=t.length;let s=0;for(;s<r;){const o=tj(t,s),a=t.substr(s,o);this._executeEditOperation(lr.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),s+=o}}else this._executeEditOperation(lr.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,r,s,o){if(t.length===0&&i===0&&r===0){if(s!==0){const a=this.getSelections().map(l=>{const u=l.getPosition();return new vt(u.lineNumber,u.column+s,u.lineNumber,u.column+s)});this.setSelections(e,o,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(lr.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,r,s))},e,o)}paste(e,t,i,r,s){this._executeEdit(()=>{this._executeEditOperation(lr.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,r||[]))},e,s,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(z_.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Ka(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new Ka(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}Qy.MAX_CURSOR_COUNT=1e4;class oL{constructor(e,t){this.modelVersionId=e,this.cursorState=t}static from(e,t){return new oL(e.getVersionId(),t.getCursorStates())}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class bie{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(r&&(t.push(r),r.startLineNumber!==r.endLineNumber))return!1}t.sort(Y.compareRangesUsingStarts),e.sort(Y.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class Mpt{static executeCommands(e,t,i){const r={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},s=this._innerExecuteCommands(r,i);for(let o=0,a=r.trackedRanges.length;o<a;o++)r.model._setTrackedRange(r.trackedRanges[o],null,0);return s}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const r=i.operations,s=this._getLoserCursorMap(r);if(s.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const o=[];for(let u=0,c=r.length;u<c;u++)s.hasOwnProperty(r[u].identifier.major.toString())||o.push(r[u]);i.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,o,u=>{const c=[];for(let f=0;f<e.selectionsBefore.length;f++)c[f]=[];for(const f of u)!f.identifier||c[f.identifier.major].push(f);const d=(f,g)=>f.identifier.minor-g.identifier.minor,h=[];for(let f=0;f<e.selectionsBefore.length;f++)c[f].length>0?(c[f].sort(d),h[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>c[f],getTrackedSelection:g=>{const p=parseInt(g,10),m=e.model._getTrackedRange(e.trackedRanges[p]);return e.trackedRangesDirection[p]===0?new vt(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):new vt(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn)}})):h[f]=e.selectionsBefore[f];return h});a||(a=e.selectionsBefore);const l=[];for(let u in s)s.hasOwnProperty(u)&&l.push(parseInt(u,10));l.sort((u,c)=>c-u);for(const u of l)a.splice(u,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],r=!1;for(let s=0,o=t.length;s<o;s++){const a=t[s];if(a){const l=this._getEditOperationsFromCommand(e,s,a);i=i.concat(l.operations),r=r||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:r}}static _getEditOperationsFromCommand(e,t,i){const r=[];let s=0;const o=(d,h,f=!1)=>{Y.isEmpty(d)&&h===""||r.push({identifier:{major:t,minor:s++},range:d,text:h,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const c={addEditOperation:o,addTrackedEditOperation:(d,h,f)=>{a=!0,o(d,h,f)},trackSelection:(d,h)=>{const f=vt.liftSelection(d);let g;if(f.isEmpty())if(typeof h=="boolean")h?g=2:g=3;else{const b=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===b?g=2:g=3}else g=1;const p=e.trackedRanges.length,m=e.model._setTrackedRange(null,f,g);return e.trackedRanges[p]=m,e.trackedRangesDirection[p]=f.getDirection(),p.toString()}};try{i.getEditOperations(e.model,c)}catch(d){return Qt(d),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,r)=>-Y.compareRangesUsingEnds(i.range,r.range));const t={};for(let i=1;i<e.length;i++){const r=e[i-1],s=e[i];if(Y.getStartPosition(r.range).isBefore(Y.getEndPosition(s.range))){let o;r.identifier.major>s.identifier.major?o=r.identifier.major:o=s.identifier.major,t[o.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===o&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class lve{constructor(e,t,i,r,s,o){this.id=e,this.label=t,this.alias=i,this._precondition=r,this._run=s,this._contextKeyService=o}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}const A1={Configuration:"base.contributions.configuration"},d8={properties:{},patternProperties:{}},h8={properties:{},patternProperties:{}},f8={properties:{},patternProperties:{}},g8={properties:{},patternProperties:{}},p8={properties:{},patternProperties:{}},IT={properties:{},patternProperties:{}},BS="vscode://schemas/settings/resourceLanguage",Cie=jr.as(g4.JSONContribution);class Apt{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new Le,this._onDidUpdateConfiguration=new Le,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:L("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},Cie.registerSchema(BS,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=this.doRegisterConfigurations(e,t);Cie.registerSchema(BS,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){var t;const i=[],r=[];for(const{overrides:s,source:o}of e)for(const a in s)if(i.push(a),Pk.test(a)){const l=Object.assign(Object.assign({},((t=this.configurationDefaultsOverrides.get(a))===null||t===void 0?void 0:t.value)||{}),s[a]);this.configurationDefaultsOverrides.set(a,{source:o,value:l});const u={type:"object",default:l,description:L("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",a),$ref:BS,defaultDefaultValue:l,source:Ru(o)?void 0:o};r.push(...cve(a)),this.configurationProperties[a]=u,this.defaultLanguageConfigurationOverridesNode.properties[a]=u}else{this.configurationDefaultsOverrides.set(a,{value:s[a],source:o});const l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.registerOverrideIdentifiers(r),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const i=[];return e.forEach(r=>{i.push(...this.validateAndRegisterProperties(r,t,r.extensionInfo,r.restrictedProperties)),this.configurationContributors.push(r),this.registerJSONConfiguration(r)}),i}validateAndRegisterProperties(e,t=!0,i,r,s=3){s=El(e.scope)?s:e.scope;let o=[],a=e.properties;if(a)for(let u in a){if(t&&Opt(u)){delete a[u];continue}const c=a[u];if(c.source=i,c.defaultDefaultValue=a[u].default,this.updatePropertyDefaultValue(u,c),Pk.test(u)?c.scope=void 0:(c.scope=El(c.scope)?s:c.scope,c.restricted=El(c.restricted)?!!(r==null?void 0:r.includes(u)):c.restricted),a[u].hasOwnProperty("included")&&!a[u].included){this.excludedConfigurationProperties[u]=a[u],delete a[u];continue}else this.configurationProperties[u]=a[u];!a[u].deprecationMessage&&a[u].markdownDeprecationMessage&&(a[u].deprecationMessage=a[u].markdownDeprecationMessage),o.push(u)}let l=e.allOf;if(l)for(let u of l)o.push(...this.validateAndRegisterProperties(u,t,i,r,s));return o}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=i=>{let r=i.properties;if(r)for(const o in r)this.updateSchema(o,r[o]);let s=i.allOf;s&&s.forEach(t)};t(e)}updateSchema(e,t){switch(d8.properties[e]=t,t.scope){case 1:h8.properties[e]=t;break;case 2:f8.properties[e]=t;break;case 6:g8.properties[e]=t;break;case 3:p8.properties[e]=t;break;case 4:IT.properties[e]=t;break;case 5:IT.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:L("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:L("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:BS};this.updatePropertyDefaultValue(t,i),d8.properties[t]=i,h8.properties[t]=i,f8.properties[t]=i,g8.properties[t]=i,p8.properties[t]=i,IT.properties[t]=i}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const e={type:"object",description:L("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:L("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:BS};d8.patternProperties[a0]=e,h8.patternProperties[a0]=e,f8.patternProperties[a0]=e,g8.patternProperties[a0]=e,p8.patternProperties[a0]=e,IT.patternProperties[a0]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let r=i==null?void 0:i.value,s=i==null?void 0:i.source;Qa(r)&&(r=t.defaultDefaultValue,s=void 0),Qa(r)&&(r=Rpt(t.type)),t.default=r,t.defaultValueSource=s}}const uve="\\[([^\\]]+)\\]",yie=new RegExp(uve,"g"),a0=`^(${uve})+$`,Pk=new RegExp(a0);function cve(n){const e=[];if(Pk.test(n)){let t=yie.exec(n);for(;t==null?void 0:t.length;){const i=t[1].trim();i&&e.push(i),t=yie.exec(n)}}return Um(e)}function Rpt(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const dve=new Apt;jr.add(A1.Configuration,dve);function Opt(n){return n.trim()?Pk.test(n)?L("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):dve.getConfigurationProperties()[n]!==void 0?L("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):null:L("config.property.empty","Cannot register an empty property")}const Ppt={ModesRegistry:"editor.modesRegistry"};class Fpt{constructor(){this._onDidChangeLanguages=new Le,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}const Jy=new Fpt;jr.add(Ppt.ModesRegistry,Jy);const _f="plaintext",Bpt=".txt";Jy.registerLanguage({id:_f,extensions:[Bpt],aliases:[L("plainText.alias","Plain Text"),"text"],mimetypes:[pd.text]});cs.register(_f,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0);jr.as(A1.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);var $pt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const wie={getInitialState:()=>Hy,tokenizeEncoded:(n,e,t)=>gj(0,t)};function Vpt(n,e,t){return $pt(this,void 0,void 0,function*(){if(!t)return Sie(e,n.languageIdCodec,wie);const i=yield dr.getOrCreate(t);return Sie(e,n.languageIdCodec,i||wie)})}function Wpt(n,e,t,i,r,s,o){let a="<div>",l=i,u=0,c=!0;for(let d=0,h=e.getCount();d<h;d++){const f=e.getEndOffset(d);if(f<=i)continue;let g="";for(;l<f&&l<r;l++){const p=n.charCodeAt(l);switch(p){case 9:{let m=s-(l+u)%s;for(u+=m-1;m>0;)o&&c?(g+="&#160;",c=!1):(g+=" ",c=!0),m--;break}case 60:g+="&lt;",c=!1;break;case 62:g+="&gt;",c=!1;break;case 38:g+="&amp;",c=!1;break;case 0:g+="&#00;",c=!1;break;case 65279:case 8232:case 8233:case 133:g+="\uFFFD",c=!1;break;case 13:g+="&#8203",c=!1;break;case 32:o&&c?(g+="&#160;",c=!1):(g+=" ",c=!0);break;default:g+=String.fromCharCode(p),c=!1}}if(a+=`<span style="${e.getInlineStyle(d,t)}">${g}</span>`,f>r||l>=r)break}return a+="</div>",a}function Sie(n,e,t){let i='<div class="monaco-tokenized-source">';const r=ef(n);let s=t.getInitialState();for(let o=0,a=r.length;o<a;o++){const l=r[o];o>0&&(i+="<br/>");const u=t.tokenizeEncoded(l,!0,s);vs.convertToEndOffset(u.tokens,l.length);const d=new vs(u.tokens,l,e).inflate();let h=0;for(let f=0,g=d.getCount();f<g;f++){const p=d.getClassName(f),m=d.getEndOffset(f);i+=`<span class="${p}">${YU(l.substring(h,m))}</span>`,h=m}s=u.endState}return i+="</div>",i}class Hpt{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,r=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,r)}}class zpt{constructor(e,t,i,r,s){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=r,this.minWidth=s,this.prefixSum=0}}class Fk{constructor(e,t,i,r){this._instanceId=qge(++Fk.INSTANCE_COUNT),this._pendingChanges=new Hpt,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=r}static findInsertionIndex(e,t,i){let r=0,s=e.length;for(;r<s;){const o=r+s>>>1;t===e[o].afterLineNumber?i<e[o].ordinal?s=o:r=o+1:t<e[o].afterLineNumber?s=o:r=o+1}return r}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(r,s,o,a)=>{t=!0,r=r|0,s=s|0,o=o|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new zpt(l,r,s,o,a)),l},changeOneWhitespace:(r,s,o)=>{t=!0,s=s|0,o=o|0,this._pendingChanges.change({id:r,newAfterLineNumber:s,newHeight:o})},removeWhitespace:r=>{t=!0,this._pendingChanges.remove({id:r})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const u=this._findWhitespaceIndex(l.id);u!==-1&&this._removeWhitespace(u)}return}const r=new Set;for(const l of i)r.add(l.id);const s=new Map;for(const l of t)s.set(l.id,l);const o=l=>{const u=[];for(const c of l)if(!r.has(c.id)){if(s.has(c.id)){const d=s.get(c.id);c.afterLineNumber=d.newAfterLineNumber,c.height=d.newHeight}u.push(c)}return u},a=o(this._arr).concat(o(e));a.sort((l,u)=>l.afterLineNumber===u.afterLineNumber?l.ordinal-u.ordinal:l.afterLineNumber-u.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=Fk.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,r=t.length;i<r;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const r=this._findWhitespaceIndex(e);if(r!==-1&&(this._arr[r].height!==i&&(this._arr[r].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)),this._arr[r].afterLineNumber!==t)){const s=this._arr[r];this._removeWhitespace(r),s.afterLineNumber=t,this._insertWhitespace(s)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const s=this._arr[i].afterLineNumber;e<=s&&s<=t?this._arr[i].afterLineNumber=e-1:s>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const s=this._arr[i].afterLineNumber;e<=s&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,r=t.length-1;for(;i<=r;){const o=(r-i|0)/2|0,a=i+o|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else r=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let t;e>1?t=this._lineHeight*(e-1):t=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return t+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let r=1,s=t;for(;r<s;){const o=(r+s)/2|0,a=this.getVerticalOffsetForLineNumber(o)|0;if(e>=a+i)r=o+1;else{if(e>=a)return o;s=o}}return r>t?t:r}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,r=this.getLineNumberAtOrAfterVerticalOffset(e)|0,s=this.getVerticalOffsetForLineNumber(r)|0;let o=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(r)|0;const l=this.getWhitespacesCount()|0;let u,c;a===-1?(a=l,c=o+1,u=0):(c=this.getAfterLineNumberForWhitespaceIndex(a)|0,u=this.getHeightForWhitespaceIndex(a)|0);let d=s,h=d;const f=5e5;let g=0;s>=f&&(g=Math.floor(s/f)*f,g=Math.floor(g/i)*i,h-=g);const p=[],m=e+(t-e)/2;let b=-1;for(let S=r;S<=o;S++){if(b===-1){const D=d,E=d+i;(D<=m&&m<E||D>m)&&(b=S)}for(d+=i,p[S-r]=h,h+=i;c===S;)h+=u,d+=u,a++,a>=l?c=o+1:(c=this.getAfterLineNumberForWhitespaceIndex(a)|0,u=this.getHeightForWhitespaceIndex(a)|0);if(d>=t){o=S;break}}b===-1&&(b=o);const _=this.getVerticalOffsetForLineNumber(o)|0;let C=r,w=o;return C<w&&s<e&&C++,C<w&&_+i>t&&w--,{bigNumbersDelta:g,startLineNumber:r,endLineNumber:o,relativeVerticalOffset:p,centeredLineNumber:b,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:w}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let r;return e>0?r=this.getWhitespacesAccumulatedHeight(e-1):r=0,i+r+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const r=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(e>=r+s)return-1;for(;t<i;){const o=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(o),l=this.getHeightForWhitespaceIndex(o);if(e>=a+l)t=o+1;else{if(e>=a)return o;i=o}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const r=this.getHeightForWhitespaceIndex(t),s=this.getIdForWhitespaceIndex(t),o=this.getAfterLineNumberForWhitespaceIndex(t);return{id:s,afterLineNumber:o,verticalOffset:i,height:r}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),r=this.getWhitespacesCount()-1;if(i<0)return[];const s=[];for(let o=i;o<=r;o++){const a=this.getVerticalOffsetForWhitespaceIndex(o),l=this.getHeightForWhitespaceIndex(o);if(a>=t)break;s.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:a,height:l})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}Fk.INSTANCE_COUNT=0;const Upt=125;class d2{constructor(e,t,i,r){e=e|0,t=t|0,i=i|0,r=r|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),r<0&&(r=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=r,this.scrollHeight=Math.max(i,r)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class jpt extends ze{constructor(e,t){super();this._onDidContentSizeChange=this._register(new Le),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new d2(0,0,0,0),this._scrollable=this._register(new cD({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,r=t.contentHeight!==e.contentHeight;(i||r)&&this._onDidContentSizeChange.fire(new aK(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class Kpt extends ze{constructor(e,t,i){super();this._configuration=e;const r=this._configuration.options,s=r.get(131),o=r.get(75);this._linesLayout=new Fk(t,r.get(59),o.top,o.bottom),this._scrollable=this._register(new jpt(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new d2(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?Upt:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(59)&&this._linesLayout.setLineHeight(t.get(59)),e.hasChanged(75)){const i=t.get(75);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(131)){const i=t.get(131),r=i.contentWidth,s=i.height,o=this._scrollable.getScrollDimensions(),a=o.contentWidth;this._scrollable.setScrollDimensions(new d2(r,o.contentWidth,s,this._getContentHeight(r,s,a)))}else this._updateHeight();e.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const r=this._configuration.options.get(92);return r.horizontal===2||e>=t?0:r.horizontalScrollbarSize}_getContentHeight(e,t,i){const r=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return r.get(94)?s+=Math.max(0,t-r.get(59)-r.get(75).bottom):s+=this._getHorizontalScrollbarHeight(e,i),s}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,r=e.contentWidth;this._scrollable.setScrollDimensions(new d2(t,e.contentWidth,i,this._getContentHeight(t,i,r)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new cne(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new cne(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(132),r=t.get(44);if(i.isViewportWrapping){const s=t.get(131),o=t.get(65);return e>s.contentWidth+r.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?e+s.verticalScrollbarWidth:e}else{const s=t.get(93)*r.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+s,o)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new d2(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-r,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class Gpt{constructor(e,t,i,r,s){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=r,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const r=e.range,s=e.options;let o;if(s.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new Ae(r.startLineNumber,1),0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new Ae(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);o=new Y(a.lineNumber,a.column,l.lineNumber,l.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(r,1);i=new Dpe(o,s),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,GM(this.configuration.options)),i=e.startLineNumber,r=e.endLineNumber,s=[];let o=0;const a=[];for(let l=i;l<=r;l++)a[l-i]=[];for(let l=0,u=t.length;l<u;l++){const c=t[l],d=c.options;if(!cK(this.model,c))continue;const h=this._getOrCreateViewModelDecoration(c),f=h.range;if(s[o++]=h,d.inlineClassName){const g=new U2(f,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),p=Math.max(i,f.startLineNumber),m=Math.min(r,f.endLineNumber);for(let b=p;b<=m;b++)a[b-i].push(g)}if(d.beforeContentClassName&&i<=f.startLineNumber&&f.startLineNumber<=r){const g=new U2(new Y(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),d.beforeContentClassName,1);a[f.startLineNumber-i].push(g)}if(d.afterContentClassName&&i<=f.endLineNumber&&f.endLineNumber<=r){const g=new U2(new Y(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),d.afterContentClassName,2);a[f.endLineNumber-i].push(g)}}return{decorations:s,inlineDecorations:a}}}function cK(n,e){return!(e.options.hideInCommentTokens&&dK(n,e)||e.options.hideInStringTokens&&hK(n,e))}function dK(n,e){return hve(n,e.range,t=>t===1)}function hK(n,e){return hve(n,e.range,t=>t===2)}function hve(n,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const r=n.getLineTokens(i),s=i===e.startLineNumber,o=i===e.endLineNumber;let a=s?r.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<r.getCount()&&!(o&&r.getStartOffset(a)>e.endColumn-1);){if(!t(r.getStandardTokenType(a)))return!1;a++}}return!0}function m8(n,e){return n===null?e?VA.INSTANCE:WA.INSTANCE:new qpt(n,e)}class qpt{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const r=i>0?this._projectionData.breakOffsets[i-1]:0,s=this._projectionData.breakOffsets[i];let o;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((u,c)=>new Pd(0,0,u+1,this._projectionData.injectionOptions[c],0));o=Pd.applyInjectedText(e.getLineContent(t),a).substring(r,s)}else o=e.getValueInRange({startLineNumber:t,startColumn:r+1,endLineNumber:t,endColumn:s+1});return i>0&&(o=Lie(this._projectionData.wrappedTextIndentLength)+o),o}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const r=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],r),r[0]}getViewLinesData(e,t,i,r,s,o,a){this._assertVisible();const l=this._projectionData,u=l.injectionOffsets,c=l.injectionOptions;let d=null;if(u){d=[];let f=0,g=0;for(let p=0;p<l.getOutputLineCount();p++){const m=new Array;d[p]=m;const b=p>0?l.breakOffsets[p-1]:0,_=l.breakOffsets[p];for(;g<u.length;){const C=c[g].content.length,w=u[g]+f,S=w+C;if(w>_)break;if(b<S){const D=c[g];if(D.inlineClassName){const E=p>0?l.wrappedTextIndentLength:0,I=E+Math.max(w-b,0),T=E+Math.min(S-b,_);I!==T&&m.push(new out(I,T,D.inlineClassName,D.inlineClassNameAffectsLetterSpacing))}}if(S<=_)f+=C,g++;else break}}}let h;u?h=e.getLineTokens(t).withInserted(u.map((f,g)=>({offset:f,text:c[g].content,tokenMetadata:vs.defaultTokenMetadata}))):h=e.getLineTokens(t);for(let f=i;f<i+r;f++){const g=s+f-i;if(!o[g]){a[g]=null;continue}a[g]=this._getViewLineData(h,d?d[f]:null,f)}}_getViewLineData(e,t,i){this._assertVisible();const r=this._projectionData,s=i>0?r.wrappedTextIndentLength:0,o=i>0?r.breakOffsets[i-1]:0,a=r.breakOffsets[i],l=e.sliceAndInflate(o,a,s);let u=l.getLineContent();i>0&&(u=Lie(r.wrappedTextIndentLength)+u);const c=this._projectionData.getMinOutputOffset(i)+1,d=u.length+1,h=i+1<this.getViewLineCount(),f=i===0?0:r.breakOffsetsVisibleColumn[i-1];return new yj(u,h,c,d,f,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();const i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){const r=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(r)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class VA{constructor(){}isVisible(){return!0}setVisible(e){return e?this:WA.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const r=e.getLineTokens(t),s=r.getLineContent();return new yj(s,!1,1,s.length+1,0,r.inflate(),null)}getViewLinesData(e,t,i,r,s,o,a){if(!o[s]){a[s]=null;return}a[s]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Ae(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}}VA.INSTANCE=new VA;class WA{constructor(){}isVisible(){return!1}setVisible(e){return e?VA.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,r,s,o,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}WA.INSTANCE=new WA;let v8=[""];function Lie(n){if(n>=v8.length)for(let e=1;e<=n;e++)v8[e]=Ypt(e);return v8[n]}function Ypt(n){return new Array(n+1).join(" ")}class Xpt{constructor(e,t,i,r,s,o,a,l,u){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=s,this.tabSize=o,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=u,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Qpt(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),r=this.model.getInjectedTextDecorations(this._editorId),s=i.length,o=this.createLineBreaksComputer(),a=new Oy(Pd.fromDecorations(r));for(let p=0;p<s;p++){const m=a.takeWhile(b=>b.lineNumber===p+1);o.addRequest(i[p],m,t?t[p]:null)}const l=o.finalize(),u=[],c=this.hiddenAreasDecorationIds.map(p=>this.model.getDecorationRange(p)).sort(Y.compareRangesUsingStarts);let d=1,h=0,f=-1,g=f+1<c.length?h+1:s+2;for(let p=0;p<s;p++){const m=p+1;m===g&&(f++,d=c[f].startLineNumber,h=c[f].endLineNumber,g=f+1<c.length?h+1:s+2);const b=m>=d&&m<=h,_=m8(l[p],!b);u[p]=_.getViewLineCount(),this.modelLineProjections[p]=_}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Slt(u)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(h=>this.model.validateRange(h)),i=Zpt(t),r=this.hiddenAreasDecorationIds.map(h=>this.model.getDecorationRange(h)).sort(Y.compareRangesUsingStarts);if(i.length===r.length){let h=!1;for(let f=0;f<i.length;f++)if(!i[f].equalsRange(r[f])){h=!0;break}if(!h)return!1}const s=i.map(h=>({range:h,options:dn.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,s);const o=i;let a=1,l=0,u=-1,c=u+1<o.length?l+1:this.modelLineProjections.length+2,d=!1;for(let h=0;h<this.modelLineProjections.length;h++){const f=h+1;f===c&&(u++,a=o[u].startLineNumber,l=o[u].endLineNumber,c=u+1<o.length?l+1:this.modelLineProjections.length+2);let g=!1;if(f>=a&&f<=l?this.modelLineProjections[h].isVisible()&&(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!1),g=!0):(d=!0,this.modelLineProjections[h].isVisible()||(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!0),g=!0)),g){const p=this.modelLineProjections[h].getViewLineCount();this.projectedModelLineLineCounts.setValue(h,p)}}return d||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,r){const s=this.fontInfo.equals(e),o=this.wrappingStrategy===t,a=this.wrappingColumn===i,l=this.wrappingIndent===r;if(s&&o&&a&&l)return!1;const u=s&&o&&!a&&l;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=r;let c=null;if(u){c=[];for(let d=0,h=this.modelLineProjections.length;d<h;d++)c[d]=this.modelLineProjections[d].getProjectionData()}return this._constructLines(!1,c),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const r=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,s=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new u$(r,s)}onModelLinesInserted(e,t,i,r){if(!e||e<=this._validModelVersionId)return null;const s=t>2&&!this.modelLineProjections[t-2].isVisible(),o=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],u=[];for(let c=0,d=r.length;c<d;c++){const h=m8(r[c],!s);l.push(h);const f=h.getViewLineCount();a+=f,u[c]=f}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,u),new c$(o,o+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const r=t-1,s=this.modelLineProjections[r].getViewLineCount(),o=this.modelLineProjections[r].isVisible(),a=m8(i,o);this.modelLineProjections[r]=a;const l=this.modelLineProjections[r].getViewLineCount();let u=!1,c=0,d=-1,h=0,f=-1,g=0,p=-1;s>l?(c=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=c+l-1,g=d+1,p=g+(s-l)-1,u=!0):s<l?(c=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=c+s-1,h=d+1,f=h+(l-s)-1,u=!0):(c=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,d=c+l-1),this.projectedModelLineLineCounts.setValue(r,l);const m=c<=d?new ave(c,d):null,b=h<=f?new c$(h,f):null,_=g<=p?new u$(g,p):null;return[u,m,b,_]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(r.lineNumber,s.lineNumber,o.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),u=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:u.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,r=t.remainder;return new kie(i+1,r)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Ae(e.modelLineNumber,r)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Ae(e.modelLineNumber,r)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),r=this.getViewLineInfo(t),s=new Array;let o=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=r.modelLineNumber;l++){const u=this.modelLineProjections[l-1];if(u.isVisible()){const c=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,d=l===r.modelLineNumber?r.modelLineWrappedLineIdx+1:u.getViewLineCount();for(let h=c;h<d;h++)a.push(new kie(l,h))}if(!u.isVisible()&&o){const c=new Ae(l-1,this.model.getLineMaxColumn(l-1)+1),d=Y.fromPositions(o,c);s.push(new Eie(d,a)),a=[],o=null}else u.isVisible()&&!o&&(o=new Ae(l,1))}if(o){const l=Y.fromPositions(o,this.getModelEndPositionOfViewLine(r));s.push(new Eie(l,a))}return s}getViewLinesBracketGuides(e,t,i,r){const s=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,o=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,u=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,s,r);for(const c of a.viewLines)if(c.isWrappedLineContinuation&&this.getMinColumnOfViewLine(c)===1)o.push([]);else{let d=u[c.modelLineNumber-l];d=d.map(h=>h.horizontalLine?new vC(h.visibleColumn,h.className,new s$(h.horizontalLine.top,this.convertModelPositionToViewPosition(c.modelLineNumber,h.horizontalLine.endColumn).column)):h),o.push(d)}}return o}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let s=[];const o=[],a=[],l=i.lineNumber-1,u=r.lineNumber-1;let c=null;for(let g=l;g<=u;g++){const p=this.modelLineProjections[g];if(p.isVisible()){const m=p.getViewLineNumberOfModelPosition(0,g===l?i.column:1),b=p.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),_=b-m+1;let C=0;_>1&&p.getViewLineMinColumn(this.model,g+1,b)===1&&(C=m===0?1:2),o.push(_),a.push(C),c===null&&(c=new Ae(g+1,0))}else c!==null&&(s=s.concat(this.model.guides.getLinesIndentGuides(c.lineNumber,g)),c=null)}c!==null&&(s=s.concat(this.model.guides.getLinesIndentGuides(c.lineNumber,r.lineNumber)),c=null);const d=t-e+1,h=new Array(d);let f=0;for(let g=0,p=s.length;g<p;g++){let m=s[g];const b=Math.min(d-f,o[g]),_=a[g];let C;_===2?C=0:_===1?C=1:C=b;for(let w=0;w<b;w++)w===C&&(m=0),h[f++]=m}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const r=this.projectedModelLineLineCounts.getIndexOf(e-1);let s=e;const o=r.index,a=r.remainder,l=[];for(let u=o,c=this.model.getLineCount();u<c;u++){const d=this.modelLineProjections[u];if(!d.isVisible())continue;const h=u===o?a:0;let f=d.getViewLineCount()-h,g=!1;if(s+f>t&&(g=!0,f=t-s+1),d.getViewLinesData(this.model,u+1,h,f,s-e,i,l),s+=f,g)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const r=this.projectedModelLineLineCounts.getIndexOf(e-1),s=r.index,o=r.remainder,a=this.modelLineProjections[s],l=a.getViewLineMinColumn(this.model,s+1,o),u=a.getViewLineMaxColumn(this.model,s+1,o);t<l&&(t=l),t>u&&(t=u);const c=a.getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new Ae(s+1,c)).equals(i)?new Ae(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),r=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new Y(i.lineNumber,i.column,r.lineNumber,r.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),r=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new Ae(i.modelLineNumber,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Y(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const r=this.model.validatePosition(new Ae(e,t)),s=r.lineNumber,o=r.column;let a=s-1,l=!1;for(;a>0&&!this.modelLineProjections[a].isVisible();)a--,l=!0;if(a===0&&!this.modelLineProjections[a].isVisible())return new Ae(1,1);const u=1+this.projectedModelLineLineCounts.getPrefixSum(a);let c;return l?c=this.modelLineProjections[a].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(a+1),i):c=this.modelLineProjections[s-1].getViewPositionOfModelPosition(u,o,i),c}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return Y.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),r=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Y(i.lineNumber,i.column,r.lineNumber,r.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const s=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(s,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;const r=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){const r=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),s=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(s.lineNumber-r.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Y(r.lineNumber,1,s.lineNumber,s.column),t,i);let o=[];const a=r.lineNumber-1,l=s.lineNumber-1;let u=null;for(let f=a;f<=l;f++)if(this.modelLineProjections[f].isVisible())u===null&&(u=new Ae(f+1,f===a?r.column:1));else if(u!==null){const p=this.model.getLineMaxColumn(f);o=o.concat(this.model.getDecorationsInRange(new Y(u.lineNumber,u.column,f,p),t,i)),u=null}u!==null&&(o=o.concat(this.model.getDecorationsInRange(new Y(u.lineNumber,u.column,s.lineNumber,s.column),t,i)),u=null),o.sort((f,g)=>{const p=Y.compareRangesUsingStarts(f.range,g.range);return p===0?f.id<g.id?-1:f.id>g.id?1:0:p});let c=[],d=0,h=null;for(const f of o){const g=f.id;h!==g&&(h=g,c[d++]=f)}return c}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function Zpt(n){if(n.length===0)return[];const e=n.slice();e.sort(Y.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,r=e[0].endLineNumber;for(let s=1,o=e.length;s<o;s++){const a=e[s];a.startLineNumber>r+1?(t.push(new Y(i,1,r,1)),i=a.startLineNumber,r=a.endLineNumber):a.endLineNumber>r&&(r=a.endLineNumber)}return t.push(new Y(i,1,r,1)),t}class kie{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class Eie{constructor(e,t){this.modelRange=e,this.viewLines=t}}class Qpt{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class Jpt{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new emt(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,r){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,r)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new u$(t,i)}onModelLinesInserted(e,t,i,r){return new c$(t,i)}onModelLineChanged(e,t,i){return[!1,new ave(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,r=new Array(i);for(let s=0;s<i;s++)r[s]=0;return r}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.getLineTokens(e),i=t.getLineContent();return new yj(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const r=this.model.getLineCount();e=Math.min(Math.max(1,e),r),t=Math.min(Math.max(1,t),r);const s=[];for(let o=e;o<=t;o++){const a=o-e;s[a]=i[a]?this.getViewLineData(o):null}return s}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class emt{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class tmt extends ze{constructor(e,t,i,r,s,o,a){super();if(this.languageConfigurationService=a,this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new Tpt,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Eb(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new Ni(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Ni(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new Jpt(this.model);else{const l=this._configuration.options,u=l.get(44),c=l.get(125),d=l.get(132),h=l.get(124);this._lines=new Xpt(this._editorId,this.model,r,s,u,this.model.getOptions().tabSize,c,d.wrappingColumn,h)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Qy(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Kpt(this._configuration,this.getLineCount(),o)),this._register(this.viewLayout.onDidScroll(l=>{l.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Lpt(l)),this._eventDispatcher.emitOutgoingEvent(new uK(l.oldScrollWidth,l.oldScrollLeft,l.oldScrollHeight,l.oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(l=>{this._eventDispatcher.emitOutgoingEvent(l)})),this._decorations=new Gpt(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(l=>{try{const u=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(u,l)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(hD.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Dpt)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=new Y(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(const r of i)this.model.tokenizeViewport(r.startLineNumber,r.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new wpt(e)),this._eventDispatcher.emitOutgoingEvent(new lK(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new _pt)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new bpt)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new kpt)}_onConfigurationChanged(e,t){let i=null;if(this._viewportStartLine!==-1){const c=new Ae(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(c)}let r=!1;const s=this._configuration.options,o=s.get(44),a=s.get(125),l=s.get(132),u=s.get(124);if(this._lines.setWrappingSettings(o,a,l.wrappingColumn,u)&&(e.emitViewEvent(new ET),e.emitViewEvent(new DT),e.emitViewEvent(new Db(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(r=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(81)&&(this._decorations.reset(),e.emitViewEvent(new Db(null))),e.emitViewEvent(new Cpt(t)),this.viewLayout.onConfigurationChanged(t),r&&i){const c=this.coordinatesConverter.convertModelPositionToViewPosition(i),d=this.viewLayout.getVerticalOffsetForLineNumber(c.lineNumber);this.viewLayout.setScrollPosition({scrollTop:d+this._viewportStartLineDelta},1)}Eb.shouldRecreate(t)&&(this.cursorConfig=new Eb(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,r=!1;const s=e.changes,o=e instanceof m_?e.versionId:null,a=this._lines.createLineBreaksComputer();for(const c of s)switch(c.changeType){case 4:{for(let d=0;d<c.detail.length;d++){const h=c.detail[d];let f=c.injectedTexts[d];f&&(f=f.filter(g=>!g.ownerId||g.ownerId===this._editorId)),a.addRequest(h,f,null)}break}case 2:{let d=null;c.injectedText&&(d=c.injectedText.filter(h=>!h.ownerId||h.ownerId===this._editorId)),a.addRequest(c.detail,d,null);break}}const l=a.finalize(),u=new Oy(l);for(const c of s)switch(c.changeType){case 1:{this._lines.onModelFlushed(),t.emitViewEvent(new ET),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break}case 3:{const d=this._lines.onModelLinesDeleted(o,c.fromLineNumber,c.toLineNumber);d!==null&&(t.emitViewEvent(d),this.viewLayout.onLinesDeleted(d.fromLineNumber,d.toLineNumber)),i=!0;break}case 4:{const d=u.takeCount(c.detail.length),h=this._lines.onModelLinesInserted(o,c.fromLineNumber,c.toLineNumber,d);h!==null&&(t.emitViewEvent(h),this.viewLayout.onLinesInserted(h.fromLineNumber,h.toLineNumber)),i=!0;break}case 2:{const d=u.dequeue(),[h,f,g,p]=this._lines.onModelLineChanged(o,c.lineNumber,d);r=h,f&&t.emitViewEvent(f),g&&(t.emitViewEvent(g),this.viewLayout.onLinesInserted(g.fromLineNumber,g.toLineNumber)),p&&(t.emitViewEvent(p),this.viewLayout.onLinesDeleted(p.fromLineNumber,p.toLineNumber));break}case 5:break}o!==null&&this._lines.acceptVersionId(o),this.viewLayout.onHeightMaybeChanged(),!i&&r&&(t.emitViewEvent(new DT),t.emitViewEvent(new Db(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const t=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(t){const i=this.coordinatesConverter.convertModelPositionToViewPosition(t.getStartPosition()),r=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber);this.viewLayout.setScrollPosition({scrollTop:r+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,r=e.ranges.length;i<r;i++){const s=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new Ae(s.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new Ae(s.toLineNumber,this.model.getLineMaxColumn(s.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new Ept(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new Spt),this.cursorConfig=new Eb(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Eb(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new ET),t.emitViewEvent(new DT),t.emitViewEvent(new Db(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Eb(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Db(e))}))}setHiddenAreas(e){let t=!1;try{const i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new ET),i.emitViewEvent(new DT),i.emitViewEvent(new Db(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new _ie)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(131),t=this._configuration.options.get(59),i=Math.max(20,Math.round(e.height/t)),r=this.viewLayout.getLinesViewportData(),s=Math.max(1,r.completelyVisibleStartLineNumber-i),o=Math.min(this.getLineCount(),r.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new Y(s,this.getLineMinColumn(s),o,this.getLineMaxColumn(o)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];const r=[];let s=0,o=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,u=t.endColumn;for(let c=0,d=i.length;c<d;c++){const h=i[c].startLineNumber,f=i[c].endLineNumber;f<o||h>l||(o<h&&(r[s++]=new Y(o,a,h-1,this.model.getLineMaxColumn(h-1))),o=f+1,a=1)}return(o<l||o===l&&a<u)&&(r[s++]=new Y(o,a,l,u)),r}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new Y(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,r=t.completelyVisibleEndLineNumber;return new Y(i,this.getLineMinColumn(i),r,this.getLineMaxColumn(r))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),r=this.coordinatesConverter.convertViewPositionToModelPosition(new Ae(i,this.getLineMinColumn(i))),s=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:r,firstPositionDeltaTop:s}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),r=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:r}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;const r=this.coordinatesConverter.convertViewPositionToModelPosition(new Ae(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Y(r.lineNumber,r.column,r.lineNumber,r.column),1);const s=this.viewLayout.getVerticalOffsetForLineNumber(e),o=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=o-s}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,r){return this._lines.getViewLinesBracketGuides(e,t,i,r)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=oa(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=jh(this.getLineContent(e));return t===-1?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),o=this._lines.getViewLineData(t);let l=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return o.inlineDecorations&&(l=[...l,...o.inlineDecorations.map(u=>u.toInlineDecoration(t))]),new jl(o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,i,r,o.tokens,l,s,o.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const r=this._lines.getViewLinesData(e,t,i);return new sut(this.getTabSize(),r)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,GM(this._configuration.options)),i=new nmt;for(const r of t){const s=r.options,o=s.overviewRuler;if(!o)continue;const a=o.position;if(a===0)continue;const l=o.getColor(e.value),u=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.startLineNumber,r.range.startColumn),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.endLineNumber,r.range.endColumn);i.accept(l,s.zIndex,u,c,a)}return i.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i&&i.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const i=t.options.minimap;i&&i.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const r=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(r)+t;return this.model.getPositionAt(o)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const r=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Y.compareRangesUsingStarts);let s=!1,o=!1;for(const l of e)l.isEmpty()?s=!0:o=!0;if(!o){if(!t)return"";const l=e.map(c=>c.startLineNumber);let u="";for(let c=0;c<l.length;c++)c>0&&l[c-1]===l[c]||(u+=this.model.getLineContent(l[c])+r);return u}if(s&&t){const l=[];let u=0;for(const c of e){const d=c.startLineNumber;c.isEmpty()?d!==u&&l.push(this.model.getLineContent(d)):l.push(this.model.getValueInRange(c,i?2:0)),u=d}return l.length===1?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===_f||e.length!==1)return null;let r=e[0];if(r.isEmpty()){if(!t)return null;const c=r.startLineNumber;r=new Y(c,this.model.getLineMinColumn(c),c,this.model.getLineMaxColumn(c))}const s=this._configuration.options.get(44),o=this._getColorMap(),l=/[:;\\\/<>]/.test(s.fontFamily)||s.fontFamily===jo.fontFamily;let u;return l?u=jo.fontFamily:(u=s.fontFamily,u=u.replace(/"/g,"'"),/[,']/.test(u)||/[+ ]/.test(u)&&(u=`'${u}'`),u=`${u}, ${jo.fontFamily}`),{mode:i,html:`<div style="color: ${o[1]};background-color: ${o[2]};font-family: ${u};font-weight: ${s.fontWeight};font-size: ${s.fontSize}px;line-height: ${s.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(r,o)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,a=this.getTabSize();let l="";for(let u=i;u<=s;u++){const c=this.model.getLineTokens(u),d=c.getLineContent(),h=u===i?r-1:0,f=u===s?o-1:d.length;d===""?l+="<br>":l+=Wpt(d,c.inflate(),t,h,f,a,Gs)}return l}_getColorMap(){const e=dr.getColorMap(),t=["#000000"];if(e)for(let i=1,r=e.length;i<r;i++)t[i]=We.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(r=>this._cursor.setStates(r,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(r=>this._cursor.setSelections(r,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new xpt);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(r=>this._cursor.executeEdits(r,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,r,s){this._executeCursorEdit(o=>this._cursor.compositionType(o,e,t,i,r,s))}paste(e,t,i,r){this._executeCursorEdit(s=>this._cursor.paste(s,e,t,i,r))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(r=>this._cursor.revealPrimary(r,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new Y(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new Dx(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new Y(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new Dx(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,r,s){this._withViewEventsCollector(o=>o.emitViewEvent(new Dx(e,!1,i,null,r,t,s)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Ipt),this._eventDispatcher.emitOutgoingEvent(new _ie))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class nmt{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,r,s){const o=this._asMap[e];if(o){const a=o.data,l=a[a.length-3],u=a[a.length-1];if(l===s&&u+1>=i){r>u&&(a[a.length-1]=r);return}a.push(s,i,r)}else{const a=new Ipe(e,t,[s,i,r]);this._asMap[e]=a,this.asArray.push(a)}}}class T4{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}var Bk;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(Bk||(Bk={}));(function(n){const e="error",t="warning",i="warn",r="info",s="ignore";function o(l){return l?cC(e,l)?n.Error:cC(t,l)||cC(i,l)?n.Warning:cC(r,l)?n.Info:n.Ignore:n.Ignore}n.fromValue=o;function a(l){switch(l){case n.Error:return e;case n.Warning:return t;case n.Info:return r;default:return s}}n.toString=a})(Bk||(Bk={}));var cr=Bk,fve=cr;const Kr=Pn("notificationService");class imt{}class aL{constructor(e,t,i,r,s){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let r=this.breakOffsets[e]-t;return e>0&&(r+=this.wrappedTextIndentLength),r}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let r=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let s=0;s<this.injectionOffsets.length&&r>this.injectionOffsets[s];s++)r<this.injectionOffsets[s]+this.injectionOptions[s].content.length?r=this.injectionOffsets[s]:r-=this.injectionOptions[s].content.length;return r}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(e<this.injectionOffsets[r]||t!==1&&e===this.injectionOffsets[r]);r++)i+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,r=this.breakOffsets.length-1,s=0,o=0;for(;i<=r;){s=i+(r-i)/2|0;const l=this.breakOffsets[s];if(o=s>0?this.breakOffsets[s-1]:0,t===0)if(e<=o)r=s-1;else if(e>l)i=s+1;else break;else if(e<o)r=s-1;else if(e>=l)i=s+1;else break}let a=e-o;return s>0&&(a+=this.wrappedTextIndentLength),new TT(s,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){const r=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,i);if(s!==r)return this.offsetInInputWithInjectionsToOutputPosition(s,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new TT(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){const r=this.getOutputLineCount()-1;if(e<r&&t===this.getMaxOutputOffset(e))return new TT(e+1,this.getMinOutputOffset(e+1))}return new TT(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&Die(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let r=i.offsetInInputWithInjections;if(Iie(this.injectionOptions[i.injectedTextIndex].cursorStops))return r;let s=i.injectedTextIndex-1;for(;s>=0&&this.injectionOffsets[s]===this.injectionOffsets[i.injectedTextIndex]&&!(Die(this.injectionOptions[s].cursorStops)||(r-=this.injectionOptions[s].content.length,Iie(this.injectionOptions[s].cursorStops)));)s--;return r}}else if(t===1){let r=i.offsetInInputWithInjections+i.length,s=i.injectedTextIndex;for(;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)r+=this.injectionOptions[s+1].content.length,s++;return r}else if(t===0){let r=i.offsetInInputWithInjections,s=i.injectedTextIndex;for(;s-1>=0&&this.injectionOffsets[s-1]===this.injectionOffsets[s];)r-=this.injectionOptions[s-1].content.length,s--;return r}VU()}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.getInjectedTextAtOffset(i);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let r=0;for(let s=0;s<t.length;s++){const o=i[s].content.length,a=t[s]+r,l=t[s]+r+o;if(a>e)break;if(e<=l)return{injectedTextIndex:s,offsetInInputWithInjections:a,length:o};r+=o}}}}function Die(n){return n==null?!0:n===Fh.Right||n===Fh.Both}function Iie(n){return n==null?!0:n===Fh.Left||n===Fh.Both}class TT{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new Ae(e+this.outputLineIndex,this.outputOffset+1)}}class fK{constructor(e,t){this.classifier=new rmt(e,t)}static create(e){return new fK(e.get(120),e.get(119))}createLineBreaksComputer(e,t,i,r){const s=[],o=[],a=[];return{addRequest:(l,u,c)=>{s.push(l),o.push(u),a.push(c)},finalize:()=>{const l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,u=[];for(let c=0,d=s.length;c<d;c++){const h=o[c],f=a[c];f&&!f.injectionOptions&&!h?u[c]=smt(this.classifier,f,s[c],t,i,l,r):u[c]=omt(this.classifier,s[c],h,t,i,l,r)}return d$.length=0,h$.length=0,u}}}}class rmt extends $w{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let d$=[],h$=[];function smt(n,e,t,i,r,s,o){if(r===-1)return null;const a=t.length;if(a<=1)return null;const l=e.breakOffsets,u=e.breakOffsetsVisibleColumn,c=gve(t,i,r,s,o),d=r-c,h=d$,f=h$;let g=0,p=0,m=0,b=r;const _=l.length;let C=0;if(C>=0){let w=Math.abs(u[C]-b);for(;C+1<_;){const S=Math.abs(u[C+1]-b);if(S>=w)break;w=S,C++}}for(;C<_;){let w=C<0?0:l[C],S=C<0?0:u[C];p>w&&(w=p,S=m);let D=0,E=0,I=0,T=0;if(S<=b){let A=S,O=w===0?0:t.charCodeAt(w-1),F=w===0?0:n.get(O),U=!0;for(let V=w;V<a;V++){const G=V,j=t.charCodeAt(V);let X,ie;if(ps(j)?(V++,X=0,ie=2):(X=n.get(j),ie=lL(j,A,i,s)),G>p&&f$(O,F,j,X)&&(D=G,E=A),A+=ie,A>b){G>p?(I=G,T=A-ie):(I=V+1,T=A),A-E>d&&(D=0),U=!1;break}O=j,F=X}if(U){g>0&&(h[g]=l[l.length-1],f[g]=u[l.length-1],g++);break}}if(D===0){let A=S,O=t.charCodeAt(w),F=n.get(O),U=!1;for(let V=w-1;V>=p;V--){const G=V+1,j=t.charCodeAt(V);if(j===9){U=!0;break}let X,ie;if(x_(j)?(V--,X=0,ie=2):(X=n.get(j),ie=Km(j)?s:1),A<=b){if(I===0&&(I=G,T=A),A<=b-d)break;if(f$(j,X,O,F)){D=G,E=A;break}}A-=ie,O=j,F=X}if(D!==0){const V=d-(T-E);if(V<=i){const G=t.charCodeAt(I);let j;ps(G)?j=2:j=lL(G,T,i,s),V-j<0&&(D=0)}}if(U){C--;continue}}if(D===0&&(D=I,E=T),D<=p){const A=t.charCodeAt(p);ps(A)?(D=p+2,E=m+2):(D=p+1,E=m+lL(A,m,i,s))}for(p=D,h[g]=D,m=E,f[g]=E,g++,b=E+d;C<0||C<_&&u[C]<E;)C++;let M=Math.abs(u[C]-b);for(;C+1<_;){const A=Math.abs(u[C+1]-b);if(A>=M)break;M=A,C++}}return g===0?null:(h.length=g,f.length=g,d$=e.breakOffsets,h$=e.breakOffsetsVisibleColumn,e.breakOffsets=h,e.breakOffsetsVisibleColumn=f,e.wrappedTextIndentLength=c,e)}function omt(n,e,t,i,r,s,o){const a=Pd.applyInjectedText(e,t);let l,u;if(t&&t.length>0?(l=t.map(E=>E.options),u=t.map(E=>E.column-1)):(l=null,u=null),r===-1)return l?new aL(u,l,[a.length],[],0):null;const c=a.length;if(c<=1)return l?new aL(u,l,[a.length],[],0):null;const d=gve(a,i,r,s,o),h=r-d,f=[],g=[];let p=0,m=0,b=0,_=r,C=a.charCodeAt(0),w=n.get(C),S=lL(C,0,i,s),D=1;ps(C)&&(S+=1,C=a.charCodeAt(1),w=n.get(C),D++);for(let E=D;E<c;E++){const I=E,T=a.charCodeAt(E);let M,A;ps(T)?(E++,M=0,A=2):(M=n.get(T),A=lL(T,S,i,s)),f$(C,w,T,M)&&(m=I,b=S),S+=A,S>_&&((m===0||S-b>h)&&(m=I,b=S-A),f[p]=m,g[p]=b,p++,_=b+h,m=0),C=T,w=M}return p===0&&(!t||t.length===0)?null:(f[p]=c,g[p]=S,new aL(u,l,f,g,d))}function lL(n,e,t,i){return n===9?t-e%t:Km(n)||n<32?i:1}function Tie(n,e){return e-n%e}function f$(n,e,t,i){return t!==32&&(e===2||e===3&&i!==2||i===1||i===3&&e!==1)}function gve(n,e,t,i,r){let s=0;if(r!==0){const o=oa(n);if(o!==-1){for(let l=0;l<o;l++)s+=n.charCodeAt(l)===9?Tie(s,e):1;const a=r===3?2:r===2?1:0;for(let l=0;l<a;l++)s+=Tie(s,e);s+i>t&&(s=0)}}return s}var _8;const b8=(_8=window.trustedTypes)===null||_8===void 0?void 0:_8.createPolicy("domLineBreaksComputer",{createHTML:n=>n});class gK{static create(){return new gK}constructor(){}createLineBreaksComputer(e,t,i,r){const s=[],o=[];return{addRequest:(a,l,u)=>{s.push(a),o.push(l)},finalize:()=>amt(s,e,t,i,r,o)}}}function amt(n,e,t,i,r,s){var o;function a(I){const T=s[I];if(T){const M=Pd.applyInjectedText(n[I],T),A=T.map(F=>F.options),O=T.map(F=>F.column-1);return new aL(O,A,[M.length],[],0)}else return null}if(i===-1){const I=[];for(let T=0,M=n.length;T<M;T++)I[T]=a(T);return I}const l=Math.round(i*e.typicalHalfwidthCharacterWidth),c=Math.round(t*(r===3?2:r===2?1:0)),d=Math.ceil(e.spaceWidth*c),h=document.createElement("div");oo(h,e);const f=M_(1e4),g=[],p=[],m=[],b=[],_=[];for(let I=0;I<n.length;I++){const T=Pd.applyInjectedText(n[I],s[I]);let M=0,A=0,O=l;if(r!==0)if(M=oa(T),M===-1)M=0;else{for(let G=0;G<M;G++)A+=T.charCodeAt(G)===9?t-A%t:1;const V=Math.ceil(e.spaceWidth*A);V+e.typicalFullwidthCharacterWidth>l?(M=0,A=0):O=l-V}const F=T.substr(M),U=lmt(F,A,t,O,f,d);g[I]=M,p[I]=A,m[I]=F,b[I]=U[0],_[I]=U[1]}const C=f.build(),w=(o=b8==null?void 0:b8.createHTML(C))!==null&&o!==void 0?o:C;h.innerHTML=w,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);const S=document.createRange(),D=Array.prototype.slice.call(h.children,0),E=[];for(let I=0;I<n.length;I++){const T=D[I],M=umt(S,T,m[I],b[I]);if(M===null){E[I]=a(I);continue}const A=g[I],O=p[I]+c,F=_[I],U=[];for(let X=0,ie=M.length;X<ie;X++)U[X]=F[M[X]];if(A!==0)for(let X=0,ie=M.length;X<ie;X++)M[X]+=A;let V,G;const j=s[I];j?(V=j.map(X=>X.options),G=j.map(X=>X.column-1)):(V=null,G=null),E[I]=new aL(G,V,M,U,O)}return document.body.removeChild(h),E}function lmt(n,e,t,i,r,s){if(s!==0){const h=String(s);r.appendASCIIString('<div style="text-indent: -'),r.appendASCIIString(h),r.appendASCIIString("px; padding-left: "),r.appendASCIIString(h),r.appendASCIIString("px; box-sizing: border-box; width:")}else r.appendASCIIString('<div style="width:');r.appendASCIIString(String(i)),r.appendASCIIString('px;">');const o=n.length;let a=e,l=0;const u=[],c=[];let d=0<o?n.charCodeAt(0):0;r.appendASCIIString("<span>");for(let h=0;h<o;h++){h!==0&&h%16384===0&&r.appendASCIIString("</span><span>"),u[h]=l,c[h]=a;const f=d;d=h+1<o?n.charCodeAt(h+1):0;let g=1,p=1;switch(f){case 9:g=t-a%t,p=g;for(let m=1;m<=g;m++)m<g?r.write1(160):r.appendASCII(32);break;case 32:d===32?r.write1(160):r.appendASCII(32);break;case 60:r.appendASCIIString("&lt;");break;case 62:r.appendASCIIString("&gt;");break;case 38:r.appendASCIIString("&amp;");break;case 0:r.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.write1(65533);break;default:Km(f)&&p++,f<32?r.write1(9216+f):r.write1(f)}l+=g,a+=p}return r.appendASCIIString("</span>"),u[n.length]=l,c[n.length]=a,r.appendASCIIString("</div>"),[u,c]}function umt(n,e,t,i){if(t.length<=1)return null;const r=Array.prototype.slice.call(e.children,0),s=[];try{g$(n,r,i,0,null,t.length-1,null,s)}catch(o){return console.log(o),null}return s.length===0?null:(s.push(t.length),s)}function g$(n,e,t,i,r,s,o,a){if(i===s||(r=r||C8(n,e,t[i],t[i+1]),o=o||C8(n,e,t[s],t[s+1]),Math.abs(r[0].top-o[0].top)<=.1))return;if(i+1===s){a.push(s);return}const l=i+(s-i)/2|0,u=C8(n,e,t[l],t[l+1]);g$(n,e,t,i,r,l,u,a),g$(n,e,t,l,u,s,o,a)}function C8(n,e,t,i){return n.setStart(e[t/16384|0].firstChild,t%16384),n.setEnd(e[i/16384|0].firstChild,i%16384),n.getClientRects()}var cmt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Tp=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let dmt=0;class hmt{constructor(e,t,i,r,s){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=r,this.listenersToRemove=s}dispose(){jn(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let $k=class Ix extends ze{constructor(e,t,i,r,s,o,a,l,u,c,d){super();this.languageConfigurationService=d,this._onDidDispose=this._register(new Le),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new Le),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new Le),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new Le),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new Le),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new Le),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new Le),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new Le),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new Le),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new Le),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Le),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new Le),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Nie),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Nie),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Le),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Le),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Le),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Le),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Le),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Le),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Le),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Le),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Le),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Le),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new Le),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Le),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Le),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Le),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Le),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Le),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new Le),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new Le),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new Le),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new Le),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const h=Object.assign({},t);this._domElement=e,this._overflowWidgetsDomNode=h.overflowWidgetsDomNode,delete h.overflowWidgetsDomNode,this._id=++dmt,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,h,c)),this._register(this._configuration.onDidChange(g=>{this._onDidChangeConfiguration.fire(g);const p=this._configuration.options;if(g.hasChanged(131)){const m=p.get(131);this._onDidLayoutChange.fire(m)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=u,this._codeEditorService=s,this._commandService=o,this._themeService=l,this._register(new fmt(this,this._contextKeyService)),this._register(new gmt(this,this._contextKeyService)),this._instantiationService=r.createChild(new T4([Zt,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new pmt(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let f;Array.isArray(i.contributions)?f=i.contributions:f=l_.getEditorContributions();for(const g of f){if(this._contributions[g.id]){Qt(new Error(`Cannot have two contributions with the same id ${g.id}`));continue}try{const p=this._instantiationService.createInstance(g.ctor,this);this._contributions[g.id]=p}catch(p){Qt(p)}}l_.getEditorActions().forEach(g=>{if(this._actions[g.id]){Qt(new Error(`Cannot have two actions with the same id ${g.id}`));return}const p=new lve(g.id,g.label,g.alias,Ja(g.precondition),()=>this._instantiationService.invokeFunction(m=>Promise.resolve(g.runEditorCommand(m,this,null))),this._contextKeyService);this._actions[p.id]=p}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,t,i){return new K7(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return rD.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const r=e[t];this._contributions[r].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Wn.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){!this._modelData||this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),r=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const s={oldModelUrl:r?r.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(s),this._postDetachModelCleanup(r)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){const r=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)}getTopForLineNumber(e){return this._modelData?Ix._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,t){return this._modelData?Ix._getVerticalOffsetForPosition(this._modelData,e,t):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(t=>Y.lift(t)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return gs.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(!!this._modelData){if(!Ae.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,r){if(!this._modelData)return;if(!Y.isIRange(e))throw new Error("Invalid arguments");const s=this._modelData.model.validateRange(e),o=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.viewModel.revealRange("api",i,o,t,r)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Y(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,r){if(!Ae.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Y(e.lineNumber,e.column,e.lineNumber,e.column),t,i,r)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=vt.isISelection(e),i=Y.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){const r={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(r)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new vt(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,r){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Y(e,1,t,1),i,!1,r)}revealRange(e,t=0,i=!1,r=!0){this._revealRange(e,i?1:0,r,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,r){if(!Y.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Y.lift(e),t,i,r)}setSelections(e,t="api",i=0){if(!!this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let r=0,s=e.length;r<s;r++)if(!vt.isISelection(e[r]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){!this._modelData||this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const s of t){const o=this._contributions[s];typeof o.saveViewState=="function"&&(e[s]=o.saveViewState())}const i=this._modelData.viewModel.saveCursorState(),r=this._modelData.viewModel.saveState();return{cursorState:i,viewState:r,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]);const r=t.contributionsState||{},s=Object.keys(this._contributions);for(let a=0,l=s.length;a<l;a++){const u=s[a],c=this._contributions[u];typeof c.restoreViewState=="function"&&c.restoreViewState(r[u])}const o=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(o)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push(this._actions[s])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const s=i;this._type(e,s.text||"");return}case"replacePreviousChar":{const s=i;this._compositionType(e,s.text||"",s.replaceCharCnt||0,0,0);return}case"compositionType":{const s=i;this._compositionType(e,s.text||"",s.replacePrevCharCnt||0,s.replaceNextCharCnt||0,s.positionDelta||0);return}case"paste":{const s=i;this._paste(e,s.text||"",s.pasteOnNewLine||!1,s.multicursorText||null,s.mode||null);return}case"cut":this._cut(e);return}const r=this.getAction(t);if(r){Promise.resolve(r.run()).then(void 0,Qt);return}!this._modelData||this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i)}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){!this._modelData||(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,r,s){!this._modelData||this._modelData.viewModel.compositionType(t,i,r,s,e)}_paste(e,t,i,r,s){if(!this._modelData||t.length===0)return;const o=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,r,e);const a=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Y(o.lineNumber,o.column,a.lineNumber,a.column),languageId:s})}_cut(e){!this._modelData||this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const r=l_.getEditorCommand(t);return r?(i=i||{},i.source=e,this._instantiationService.invokeFunction(s=>{Promise.resolve(r.runEditorCommand(s,this,i)).then(void 0,Qt)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(81))return!1;let r;return i?Array.isArray(i)?r=()=>i:r=i:r=()=>null,this._modelData.viewModel.executeEdits(e,t,r),!0}executeCommand(e,t){!this._modelData||this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){!this._modelData||this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,GM(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,GM(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,r=i.get(131),s=Ix._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),o=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft();return{top:s,left:o,height:i.get(59)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){oo(e,this._configuration.options.get(44))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();const i=new tmt(this._id,this._configuration,e,gK.create(),fK.create(this._configuration.options),o=>Od(o),this.languageConfigurationService);t.push(e.onDidChangeDecorations(o=>this._onDidChangeModelDecorations.fire(o))),t.push(e.onDidChangeLanguage(o=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(o)})),t.push(e.onDidChangeLanguageConfiguration(o=>this._onDidChangeModelLanguageConfiguration.fire(o))),t.push(e.onDidChangeContent(o=>this._onDidChangeModelContent.fire(o))),t.push(e.onDidChangeOptions(o=>this._onDidChangeModelOptions.fire(o))),t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(o=>{switch(o.kind){case 0:this._onDidContentSizeChange.fire(o);break;case 1:this._editorTextFocus.setValue(o.hasFocus);break;case 2:this._onDidScrollChange.fire(o);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{o.reachedMaxCursorCount&&this._notificationService.warn(L("cursors.maximum","The number of cursors has been limited to {0}.",Qy.MAX_CURSOR_COUNT));const a=[];for(let c=0,d=o.selections.length;c<d;c++)a[c]=o.selections[c].getPosition();const l={position:a[0],secondaryPositions:a.slice(1),reason:o.reason,source:o.source};this._onDidChangeCursorPosition.fire(l);const u={selection:o.selections[0],secondarySelections:o.selections.slice(1),modelVersionId:o.modelVersionId,oldSelections:o.oldSelections,oldModelVersionId:o.oldModelVersionId,source:o.source,reason:o.reason};this._onDidChangeCursorSelection.fire(u);break}}}));const[r,s]=this._createView(i);if(s){this._domElement.appendChild(r.domNode.domNode);let o=Object.keys(this._contentWidgets);for(let a=0,l=o.length;a<l;a++){const u=o[a];r.addContentWidget(this._contentWidgets[u])}o=Object.keys(this._overlayWidgets);for(let a=0,l=o.length;a<l;a++){const u=o[a];r.addOverlayWidget(this._overlayWidgets[u])}r.render(!1,!0),r.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new hmt(e,i,r,s,t)}_createView(e){let t;this.isSimpleWidget?t={paste:(s,o,a,l)=>{this._paste("keyboard",s,o,a,l)},type:s=>{this._type("keyboard",s)},compositionType:(s,o,a,l)=>{this._compositionType("keyboard",s,o,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(s,o,a,l)=>{const u={text:s,pasteOnNewLine:o,multicursorText:a,mode:l};this._commandService.executeCommand("paste",u)},type:s=>{const o={text:s};this._commandService.executeCommand("type",o)},compositionType:(s,o,a,l)=>{if(a||l){const u={text:s,replacePrevCharCnt:o,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",u)}else{const u={text:s,replaceCharCnt:o};this._commandService.executeCommand("replacePreviousChar",u)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new D4(e.coordinatesConverter);return i.onKeyDown=s=>this._onKeyDown.fire(s),i.onKeyUp=s=>this._onKeyUp.fire(s),i.onContextMenu=s=>this._onContextMenu.fire(s),i.onMouseMove=s=>this._onMouseMove.fire(s),i.onMouseLeave=s=>this._onMouseLeave.fire(s),i.onMouseDown=s=>this._onMouseDown.fire(s),i.onMouseUp=s=>this._onMouseUp.fire(s),i.onMouseDrag=s=>this._onMouseDrag.fire(s),i.onMouseDrop=s=>this._onMouseDrop.fire(s),i.onMouseDropCanceled=s=>this._onMouseDropCanceled.fire(s),i.onMouseWheel=s=>this._onMouseWheel.fire(s),[new mpt(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};$k=cmt([Tp(3,Mn),Tp(4,ci),Tp(5,Pr),Tp(6,Zt),Tp(7,Ki),Tp(8,Kr),Tp(9,ul),Tp(10,fo)],$k);class Nie extends ze{constructor(){super();this._onDidChangeToTrue=this._register(new Le),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new Le),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class fmt extends ze{constructor(e,t){super();this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=ue.editorSimpleInput.bindTo(t),this._editorFocus=ue.focus.bindTo(t),this._textInputFocus=ue.textInputFocus.bindTo(t),this._editorTextFocus=ue.editorTextFocus.bindTo(t),this._editorTabMovesFocus=ue.tabMovesFocus.bindTo(t),this._editorReadonly=ue.readOnly.bindTo(t),this._inDiffEditor=ue.inDiffEditor.bindTo(t),this._editorColumnSelection=ue.columnSelection.bindTo(t),this._hasMultipleSelections=ue.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=ue.hasNonEmptySelection.bindTo(t),this._canUndo=ue.canUndo.bindTo(t),this._canRedo=ue.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(130)),this._editorReadonly.set(e.get(81)),this._inDiffEditor.set(e.get(54)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class gmt extends ze{constructor(e,t){super();this._editor=e,this._contextKeyService=t,this._langId=ue.languageId.bindTo(t),this._hasCompletionItemProvider=ue.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=ue.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=ue.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=ue.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=ue.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=ue.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=ue.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=ue.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=ue.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=ue.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=ue.hasReferenceProvider.bindTo(t),this._hasRenameProvider=ue.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=ue.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=ue.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=ue.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=ue.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=ue.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=ue.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=ue.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(fd.onDidChange(i)),this._register(qh.onDidChange(i)),this._register(dg.onDidChange(i)),this._register(pk.onDidChange(i)),this._register(sA.onDidChange(i)),this._register(oA.onDidChange(i)),this._register(aA.onDidChange(i)),this._register(By.onDidChange(i)),this._register($y.onDidChange(i)),this._register(kc.onDidChange(i)),this._register(nA.onDidChange(i)),this._register(iA.onDidChange(i)),this._register(H2.onDidChange(i)),this._register(gd.onDidChange(i)),this._register(r_.onDidChange(i)),this._register(s_.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(fd.has(e)),this._hasCodeActionsProvider.set(qh.has(e)),this._hasCodeLensProvider.set(dg.has(e)),this._hasDefinitionProvider.set(pk.has(e)),this._hasDeclarationProvider.set(sA.has(e)),this._hasImplementationProvider.set(oA.has(e)),this._hasTypeDefinitionProvider.set(aA.has(e)),this._hasHoverProvider.set(By.has(e)),this._hasDocumentHighlightProvider.set($y.has(e)),this._hasDocumentSymbolProvider.set(kc.has(e)),this._hasReferenceProvider.set(nA.has(e)),this._hasRenameProvider.set(iA.has(e)),this._hasSignatureHelpProvider.set(r_.has(e)),this._hasInlayHintsProvider.set(s_.has(e)),this._hasDocumentFormattingProvider.set(H2.has(e)||gd.has(e)),this._hasDocumentSelectionFormattingProvider.set(gd.has(e)),this._hasMultipleDocumentFormattingProvider.set(H2.all(e).length+gd.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(gd.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===on.walkThroughSnippet)})}}class pmt extends ze{constructor(e){super();this._onChange=this._register(new Le),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Uy(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const mmt=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),vmt=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function y8(n){return mmt+encodeURIComponent(n.toString())+vmt}const _mt=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),bmt=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Cmt(n){return _mt+encodeURIComponent(n.toString())+bmt}Hi((n,e)=>{const t=n.getColor(pme);t&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${t}; }`);const i=n.getColor(Sm);i&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${y8(i)}") repeat-x bottom left; }`);const r=n.getColor(Lct);r&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${r}; }`);const s=n.getColor(_4);s&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${s}; }`);const o=n.getColor(Nc);o&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${y8(o)}") repeat-x bottom left; }`);const a=n.getColor(kct);a&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=n.getColor(Pj);l&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const u=n.getColor(Wl);u&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${y8(u)}") repeat-x bottom left; }`);const c=n.getColor(Ect);c&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${c}; }`);const d=n.getColor(Ict);d&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${d}; }`);const h=n.getColor(Dct);h&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Cmt(h)}") no-repeat bottom left; }`);const f=n.getColor(Sht);f&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${f.rgba.a}; }`);const g=n.getColor(wht);g&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${g}; }`);const p=n.getColor(Lm)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${p}}`)});class Ci{constructor(e,t,i){const r=s=>this.emitter.fire(s);this.emitter=new Le({onFirstListenerAdd:()=>e.addEventListener(t,r,i),onLastListenerRemove:()=>e.removeEventListener(t,r,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function xie(n){return n.preventDefault(),n.stopPropagation(),n}var Kw=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};let ymt=!1;var HA;(function(n){n.North="north",n.South="south",n.East="east",n.West="west"})(HA||(HA={}));let wmt=4;const Smt=new Le;let Lmt=300;const kmt=new Le;class pK{constructor(){this.disposables=new it}get onPointerMove(){return this.disposables.add(new Ci(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new Ci(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Kw([ds],pK.prototype,"onPointerMove",null);Kw([ds],pK.prototype,"onPointerUp",null);class mK{constructor(e){this.el=e,this.disposables=new it}get onPointerMove(){return this.disposables.add(new Ci(this.el,$i.Change)).event}get onPointerUp(){return this.disposables.add(new Ci(this.el,$i.End)).event}dispose(){this.disposables.dispose()}}Kw([ds],mK.prototype,"onPointerMove",null);Kw([ds],mK.prototype,"onPointerUp",null);class zA{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Kw([ds],zA.prototype,"onPointerMove",null);Kw([ds],zA.prototype,"onPointerUp",null);const Mie="pointer-events-disabled";class wo extends ze{constructor(e,t,i){super();this.hoverDelay=Lmt,this.hoverDelayer=this._register(new Jh(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new Le),this._onDidStart=this._register(new Le),this._onDidChange=this._register(new Le),this._onDidReset=this._register(new Le),this._onDidEnd=this._register(new Le),this.orthogonalStartSashDisposables=this._register(new it),this.orthogonalStartDragHandleDisposables=this._register(new it),this.orthogonalEndSashDisposables=this._register(new it),this.orthogonalEndDragHandleDisposables=this._register(new it),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=qe(e,et(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),kn&&this.el.classList.add("mac");const r=this._register(new Ci(this.el,"mousedown")).event;this._register(r(d=>this.onPointerStart(d,new pK),this));const s=this._register(new Ci(this.el,"dblclick")).event;this._register(s(this.onPointerDoublePress,this));const o=this._register(new Ci(this.el,"mouseenter")).event;this._register(o(()=>wo.onMouseEnter(this)));const a=this._register(new Ci(this.el,"mouseleave")).event;this._register(a(()=>wo.onMouseLeave(this))),this._register(hi.addTarget(this.el));const l=xt.map(this._register(new Ci(this.el,$i.Start)).event,d=>{var h;return Object.assign(Object.assign({},d),{target:(h=d.initialTarget)!==null&&h!==void 0?h:null})});this._register(l(d=>this.onPointerStart(d,new mK(this.el)),this));const u=this._register(new Ci(this.el,$i.Tap)).event,c=xt.map(xt.filter(xt.debounce(u,(d,h)=>{var f;return{event:h,count:((f=d==null?void 0:d.count)!==null&&f!==void 0?f:0)+1}},250),({count:d})=>d===2),({event:d})=>{var h;return Object.assign(Object.assign({},d),{target:(h=d.initialTarget)!==null&&h!==void 0?h:null})});this._register(c(this.onPointerDoublePress,this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=wmt,this._register(Smt.event(d=>{this.size=d,this.layout()}))),this._register(kmt.event(d=>this.hoverDelay=d)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",ymt),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=qe(this.el,et(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(_n(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Ci(this._orthogonalStartDragHandle,"mouseenter")).event(()=>wo.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Ci(this._orthogonalStartDragHandle,"mouseleave")).event(()=>wo.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=qe(this.el,et(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(_n(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Ci(this._orthogonalEndDragHandle,"mouseenter")).event(()=>wo.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Ci(this._orthogonalEndDragHandle,"mouseleave")).event(()=>wo.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){ui.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const g=this.getOrthogonalSash(e);g&&(i=!0,e.__orthogonalSashEvent=!0,g.onPointerStart(e,new zA(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new zA(t))),!this.state)return;const r=Vut("iframe");for(const g of r)g.classList.add(Mie);const s=e.pageX,o=e.pageY,a=e.altKey,l={startX:s,currentX:s,startY:o,currentY:o,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const u=$u(this.el),c=()=>{let g="";i?g="all-scroll":this.orientation===1?this.state===1?g="s-resize":this.state===2?g="n-resize":g=kn?"row-resize":"ns-resize":this.state===1?g="e-resize":this.state===2?g="w-resize":g=kn?"col-resize":"ew-resize",u.textContent=`* { cursor: ${g} !important; }`},d=new it;c(),i||this.onDidEnablementChange.event(c,null,d);const h=g=>{ui.stop(g,!1);const p={startX:s,currentX:g.pageX,startY:o,currentY:g.pageY,altKey:a};this._onDidChange.fire(p)},f=g=>{ui.stop(g,!1),this.el.removeChild(u),this.el.classList.remove("active"),this._onDidEnd.fire(),d.dispose();for(const p of r)p.classList.remove(Mie)};t.onPointerMove(h,null,d),t.onPointerUp(f,null,d),d.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&wo.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&wo.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){wo.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){if(!(!e.target||!(e.target instanceof HTMLElement))&&e.target.classList.contains("orthogonal-drag-handle"))return e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}class nv{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(e.getScrollTop()!==0){const r=e.getVisibleRanges();if(r.length>0){t=r[0].getStartPosition();const s=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-s}}return new nv(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}const pve={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:pd.text,TERMINALS:"Terminals"};class Emt{constructor(e){this.data=e}update(){}getData(){return this.data}}const Xf={CurrentDragAndDropData:void 0};class yh extends ze{constructor(e,t,i={}){super();this.options=i,this._context=e||this,this._action=t,t instanceof il&&this._register(t.onDidChange(r=>{!this.element||this.handleActionChangeEvent(r)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new jy)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(hi.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,Ul&&this._register(nt(e,Bt.DRAG_START,r=>{var s;return(s=r.dataTransfer)===null||s===void 0?void 0:s.setData(pve.TEXT,this._action.label)}))),this._register(nt(t,$i.Tap,r=>this.onClick(r,!0))),this._register(nt(t,Bt.MOUSE_DOWN,r=>{i||ui.stop(r,!0),this._action.enabled&&r.button===0&&t.classList.add("active")})),kn&&this._register(nt(t,Bt.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(nt(t,Bt.CLICK,r=>{ui.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(nt(t,Bt.DBLCLICK,r=>{ui.stop(r,!0)})),[Bt.MOUSE_UP,Bt.MOUSE_OUT].forEach(r=>{this._register(nt(t,r,s=>{ui.stop(s),t.classList.remove("active")}))})}onClick(e,t=!1){var i;ui.stop(e,!0);const r=El(this._context)?((i=this.options)===null||i===void 0?void 0:i.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class Vk extends yh{constructor(e,t,i={}){super(e,t,i);this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=qe(this.element,et("a.action-label"))),this.label&&(this._action.id===xu.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(qe(this.element,et("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=L({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var Dmt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class sf extends ze{constructor(e,t={}){var i,r,s,o,a,l;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new Le),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new Le({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new Le),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new Le),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(r=this.options.orientation)!==null&&r!==void 0?r:0,this._triggerKeys={keyDown:(o=(s=this.options.triggerKeys)===null||s===void 0?void 0:s.keyDown)!==null&&o!==void 0?o:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new jy,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(d=>this._onDidRun.fire(d))),this._register(this._actionRunner.onBeforeRun(d=>this._onBeforeRun.fire(d))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let u,c;switch(this._orientation){case 0:u=[15],c=[17];break;case 1:u=[16],c=[18],this.domNode.className+=" vertical";break}this._register(nt(this.domNode,Bt.KEY_DOWN,d=>{const h=new Yi(d);let f=!0;const g=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;u&&(h.equals(u[0])||h.equals(u[1]))?f=this.focusPrevious():c&&(h.equals(c[0])||h.equals(c[1]))?f=this.focusNext():h.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():h.equals(14)?f=this.focusFirst():h.equals(13)?f=this.focusLast():h.equals(2)&&g instanceof yh&&g.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(h)?this._triggerKeys.keyDown?this.doTrigger(h):this.triggerKeyDown=!0:f=!1,f&&(h.preventDefault(),h.stopPropagation())})),this._register(nt(this.domNode,Bt.KEY_UP,d=>{const h=new Yi(d);this.isTriggerKeyEvent(h)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(h)),h.preventDefault(),h.stopPropagation()):(h.equals(2)||h.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(Uy(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(jC()===this.domNode||!Eg(jC(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof yh&&i.isEnabled());t instanceof yh&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof yh&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(Eg(jC(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let r=T_(t.index)?t.index:null;i.forEach(s=>{const o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(nt(o,Bt.CONTEXT_MENU,l=>{ui.stop(l,!0)}));let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(s)),a||(a=new Vk(this.context,s,t)),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(o),this.focusable&&a instanceof yh&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(o),this.viewItems.push(a),this._actionIds.push(s.id)):(this.actionsList.insertBefore(o,this.actionsList.children[r]),this.viewItems.splice(r,0,a),this._actionIds.splice(r,0,s.id),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){jn(this.viewItems),this.viewItems=[],this._actionIds=[],_s(this.actionsList)}length(){return this.viewItems.length}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem=="undefined"){const r=this.viewItems.findIndex(s=>s.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!i.isEnabled());return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!i.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var r;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((r=this.viewItems[this.previouslyFocusedItem])===null||r===void 0||r.blur());const s=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(s){let o=!0;KM(s.focus)||(o=!1),this.options.focusOnlyEnabledItems&&KM(s.isEnabled)&&!s.isEnabled()&&(o=!1),o?(i||this.previouslyFocusedItem!==this.focusedItem)&&(s.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(typeof this.focusedItem=="undefined")return;const t=this.viewItems[this.focusedItem];if(t instanceof yh){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}run(e,t){return Dmt(this,void 0,void 0,function*(){yield this._actionRunner.run(e,t)})}dispose(){jn(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const Imt={IconContribution:"base.contributions.icons"};var Aie;(function(n){function e(t,i){let r=t.defaults;for(;Ti.isThemeIcon(r);){const s=R1.getIcon(r.id);if(!s)return;r=s.defaults}return r}n.getDefinition=e})(Aie||(Aie={}));class Tmt{constructor(){this._onDidChange=new Le,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:L("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:L("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${ia.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,r){const s=this.iconsById[e];if(s){if(i&&!s.description){s.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return s}let o={id:e,description:i,defaults:t,deprecationMessage:r};this.iconsById[e]=o;let a={$ref:"#/definitions/icons"};return r&&(a.deprecationMessage=r),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(s,o)=>s.id.localeCompare(o.id),t=s=>{for(;Ti.isThemeIcon(s.defaults);)s=this.iconsById[s.defaults.id];return`codicon codicon-${s?s.id:""}`};let i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const r=Object.keys(this.iconsById).map(s=>this.iconsById[s]);for(const s of r.filter(o=>!!o.description).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|${Ti.isThemeIcon(s.defaults)?s.defaults.id:s.id}|${s.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const s of r.filter(o=>!Ti.isThemeIcon(o.defaults)).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|`);return i.join(`
`)}}const R1=new Tmt;jr.add(Imt.IconContribution,R1);function ws(n,e,t,i){return R1.registerIcon(n,e,t,i)}function mve(){return R1}function Nmt(){for(const n of k.getAll())R1.registerIcon(n.id,n.definition,n.description)}Nmt();const vve="vscode://schemas/icons";let _ve=jr.as(g4.JSONContribution);_ve.registerSchema(vve,R1.getIconSchema());const Rie=new Ni(()=>_ve.notifySchemaChanged(vve),200);R1.onDidChange(()=>{Rie.isScheduled()||Rie.schedule()});const bve=ws("widget-close",k.close,L("widgetClose","Icon for the close action in widgets."));ws("goto-previous-location",k.arrowUp,L("previousChangeIcon","Icon for goto previous editor location."));ws("goto-next-location",k.arrowDown,L("nextChangeIcon","Icon for goto next editor location."));Ti.modify(k.sync,"spin");Ti.modify(k.loading,"spin");var xmt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Mmt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Amt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},w8;const NT=3;class $S{constructor(e,t,i,r){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=r}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class S8{constructor(e){this.entries=e}}const Rmt=ws("diff-review-insert",k.add,L("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),Omt=ws("diff-review-remove",k.remove,L("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Pmt=ws("diff-review-close",k.close,L("diffReviewCloseIcon","Icon for 'Close' in diff review."));let UA=class l0 extends ze{constructor(e,t){super();this._languageService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=Un(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=Un(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new sf(this.actionBarContainer.domNode)),this._actionBar.push(new il("diffreview.close",L("label.close","Close"),"close-diff-review "+Ti.asClassName(Pmt),!0,()=>Amt(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=Un(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=Un(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new dD(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Ks(this.domNode.domNode,"click",i=>{i.preventDefault();const r=Bpe(i.target,"diff-review-row");r&&this._goToRow(r)})),this._register(Ks(this.domNode.domNode,"keydown",i=>{(i.equals(18)||i.equals(2066)||i.equals(530))&&(i.preventDefault(),this._goToRow(this._getNextRow())),(i.equals(16)||i.equals(2064)||i.equals(528))&&(i.preventDefault(),this._goToRow(this._getPrevRow())),(i.equals(9)||i.equals(2057)||i.equals(521)||i.equals(1033))&&(i.preventDefault(),this.hide()),(i.equals(10)||i.equals(3))&&(i.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let r=0,s=this._diffs.length;r<s;r++)if(this._diffs[r]===this._currentDiff){i=r;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Ae(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let r=0,s=this._diffs.length;r<s;r++)if(this._diffs[r]===this._currentDiff){i=r;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Ae(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1;const t=this._getCurrentFocusedRow();if(t){const i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),e!==-1&&(this._diffEditor.setPosition(new Ae(e,1)),this._diffEditor.revealPosition(new Ae(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){const e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){const t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||e.length===0)return[];const t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return!t||!i?[]:l0._mergeAdjacent(e,t.getLineCount(),i.getLineCount())}static _mergeAdjacent(e,t,i){if(!e||e.length===0)return[];const r=[];let s=0;for(let u=0,c=e.length;u<c;u++){const d=e[u],h=d.originalStartLineNumber,f=d.originalEndLineNumber,g=d.modifiedStartLineNumber,p=d.modifiedEndLineNumber,m=[];let b=0;{const _=f===0?h:h-1,C=p===0?g:g-1;let w=1,S=1;if(u>0){const I=e[u-1];I.originalEndLineNumber===0?w=I.originalStartLineNumber+1:w=I.originalEndLineNumber+1,I.modifiedEndLineNumber===0?S=I.modifiedStartLineNumber+1:S=I.modifiedEndLineNumber+1}let D=_-NT+1,E=C-NT+1;if(D<w){const I=w-D;D=D+I,E=E+I}if(E<S){const I=S-E;D=D+I,E=E+I}m[b++]=new $S(D,_,E,C)}f!==0&&(m[b++]=new $S(h,f,0,0)),p!==0&&(m[b++]=new $S(0,0,g,p));{const _=f===0?h+1:f+1,C=p===0?g+1:p+1;let w=t,S=i;if(u+1<c){const I=e[u+1];I.originalEndLineNumber===0?w=I.originalStartLineNumber:w=I.originalStartLineNumber-1,I.modifiedEndLineNumber===0?S=I.modifiedStartLineNumber:S=I.modifiedStartLineNumber-1}let D=_+NT-1,E=C+NT-1;if(D>w){const I=w-D;D=D+I,E=E+I}if(E>S){const I=S-E;D=D+I,E=E+I}m[b++]=new $S(_,D,C,E)}r[s++]=new S8(m)}let o=r[0].entries;const a=[];let l=0;for(let u=1,c=r.length;u<c;u++){const d=r[u].entries,h=o[o.length-1],f=d[0];if(h.getType()===0&&f.getType()===0&&f.originalLineStart<=h.originalLineEnd){o[o.length-1]=new $S(h.originalLineStart,f.originalLineEnd,h.modifiedLineStart,f.modifiedLineEnd),o=o.concat(d.slice(1));continue}a[l++]=new S8(o),o=d}return a[l++]=new S8(o),a}_findDiffIndex(e){const t=e.lineNumber;for(let i=0,r=this._diffs.length;i<r;i++){const s=this._diffs[i].entries,o=s[s.length-1].modifiedLineEnd;if(t<=o)return i}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),s=i.getOptions(),o=r.getOptions();if(!this._isVisible||!i||!r){_s(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const l=this._diffs[a].entries,u=document.createElement("div");u.className="diff-review-table",u.setAttribute("role","list"),u.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),oo(u,t.get(44));let c=0,d=0,h=0,f=0;for(let E=0,I=l.length;E<I;E++){const T=l[E],M=T.originalLineStart,A=T.originalLineEnd,O=T.modifiedLineStart,F=T.modifiedLineEnd;M!==0&&(c===0||M<c)&&(c=M),A!==0&&(d===0||A>d)&&(d=A),O!==0&&(h===0||O<h)&&(h=O),F!==0&&(f===0||F>f)&&(f=F)}const g=document.createElement("div");g.className="diff-review-row";const p=document.createElement("div");p.className="diff-review-cell diff-review-summary";const m=d-c+1,b=f-h+1;p.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${c},${m} +${h},${b} @@`)),g.setAttribute("data-line",String(h));const _=E=>E===0?L("no_lines_changed","no lines changed"):E===1?L("one_line_changed","1 line changed"):L("more_lines_changed","{0} lines changed",E),C=_(m),w=_(b);g.setAttribute("aria-label",L({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,c,C,h,w)),g.appendChild(p),g.setAttribute("role","listitem"),u.appendChild(g);const S=t.get(59);let D=h;for(let E=0,I=l.length;E<I;E++){const T=l[E];l0._renderSection(u,T,D,S,this._width,e,i,s,t,r,o,this._languageService.languageIdCodec),T.modifiedLineStart!==0&&(D=T.modifiedLineEnd)}_s(this._content.domNode),this._content.domNode.appendChild(u),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,r,s,o,a,l,u,c,d,h){const f=t.getType();let g="diff-review-row",p="";const m="diff-review-spacer";let b=null;switch(f){case 1:g="diff-review-row line-insert",p=" char-insert",b=Rmt;break;case 2:g="diff-review-row line-delete",p=" char-delete",b=Omt;break}const _=t.originalLineStart,C=t.originalLineEnd,w=t.modifiedLineStart,S=t.modifiedLineEnd,D=Math.max(S-w,C-_),E=o.get(131),I=E.glyphMarginWidth+E.lineNumbersWidth,T=u.get(131),M=10+T.glyphMarginWidth+T.lineNumbersWidth;for(let A=0;A<=D;A++){const O=_===0?0:_+A,F=w===0?0:w+A,U=document.createElement("div");U.style.minWidth=s+"px",U.className=g,U.setAttribute("role","listitem"),F!==0&&(i=F),U.setAttribute("data-line",String(i));const V=document.createElement("div");V.className="diff-review-cell",V.style.height=`${r}px`,U.appendChild(V);const G=document.createElement("span");G.style.width=I+"px",G.style.minWidth=I+"px",G.className="diff-review-line-number"+p,O!==0?G.appendChild(document.createTextNode(String(O))):G.innerText="\xA0",V.appendChild(G);const j=document.createElement("span");j.style.width=M+"px",j.style.minWidth=M+"px",j.style.paddingRight="10px",j.className="diff-review-line-number"+p,F!==0?j.appendChild(document.createTextNode(String(F))):j.innerText="\xA0",V.appendChild(j);const X=document.createElement("span");if(X.className=m,b){const Be=document.createElement("span");Be.className=Ti.asClassName(b),Be.innerText="\xA0\xA0",X.appendChild(Be)}else X.innerText="\xA0\xA0";V.appendChild(X);let ie;if(F!==0){let Be=this._renderLine(c,u,d.tabSize,F,h);l0._ttPolicy&&(Be=l0._ttPolicy.createHTML(Be)),V.insertAdjacentHTML("beforeend",Be),ie=c.getLineContent(F)}else{let Be=this._renderLine(a,o,l.tabSize,O,h);l0._ttPolicy&&(Be=l0._ttPolicy.createHTML(Be)),V.insertAdjacentHTML("beforeend",Be),ie=a.getLineContent(O)}ie.length===0&&(ie=L("blankLine","blank"));let Ce="";switch(f){case 0:O===F?Ce=L({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",ie,O):Ce=L("equalLine","{0} original line {1} modified line {2}",ie,O,F);break;case 1:Ce=L("insertLine","+ {0} modified line {1}",ie,F);break;case 2:Ce=L("deleteLine","- {0} original line {1}",ie,O);break}U.setAttribute("aria-label",Ce),e.appendChild(U)}}static _renderLine(e,t,i,r,s){const o=e.getLineContent(r),a=t.get(44),l=vs.createEmpty(o,s),u=jl.isBasicASCII(o,e.mightContainNonBasicASCII()),c=jl.containsRTL(o,u,e.mightContainRTL());return t4(new I1(a.isMonospace&&!t.get(29),a.canUseHalfwidthRightwardsArrow,o,!1,u,c,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(105),t.get(88),t.get(83),t.get(45)!==Dl.OFF,null)).html}};UA._ttPolicy=(w8=window.trustedTypes)===null||w8===void 0?void 0:w8.createPolicy("diffReview",{createHTML:n=>n});UA=xmt([Mmt(1,fr)],UA);Hi((n,e)=>{const t=n.getColor(Ime);t&&e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);const i=n.getColor(Hw);i&&e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)});class Fmt extends Et{constructor(){super({id:"editor.action.diffReview.next",label:L("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:_t.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=Cve(e);i&&i.diffReviewNext()}}class Bmt extends Et{constructor(){super({id:"editor.action.diffReview.prev",label:L("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:_t.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=Cve(e);i&&i.diffReviewPrev()}}function Cve(n){const e=n.get(ci),t=e.listDiffEditors(),i=e.getActiveCodeEditor();if(!i)return null;for(let r=0,s=t.length;r<s;r++){const o=t[r];if(o.getModifiedEditor().getId()===i.getId()||o.getOriginalEditor().getId()===i.getId())return o}return null}ut(Fmt);ut(Bmt);const $mt="editorWorkerService",ju=Pn($mt),fD=Pn("contextViewService"),Ev=Pn("contextMenuService");var L8=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Vmt extends ze{constructor(e,t,i,r,s,o){super();this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=r,this._contextMenuService=s,this._clipboardService=o,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=k.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=i.getOption(59),l=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);const u=[],c=r.modifiedEndLineNumber===0;u.push(new il("diff.clipboard.copyDeletedContent",c?r.originalEndLineNumber>r.modifiedStartLineNumber?L("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):L("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):r.originalEndLineNumber>r.modifiedStartLineNumber?L("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):L("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>L8(this,void 0,void 0,function*(){const p=new Y(r.originalStartLineNumber,1,r.originalEndLineNumber+1,1),m=r.originalModel.getValueInRange(p);yield this._clipboardService.writeText(m)})));let d=0,h;r.originalEndLineNumber>r.modifiedStartLineNumber&&(h=new il("diff.clipboard.copyDeletedLineContent",c?L("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.originalStartLineNumber):L("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.originalStartLineNumber),void 0,!0,()=>L8(this,void 0,void 0,function*(){const p=r.originalModel.getLineContent(r.originalStartLineNumber+d);if(p===""){const m=r.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(m===0?`
`:`\r
`)}else yield this._clipboardService.writeText(p)})),u.push(h)),i.getOption(81)||u.push(new il("diff.inline.revertChange",L("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>L8(this,void 0,void 0,function*(){const p=new Y(r.originalStartLineNumber,1,r.originalEndLineNumber,r.originalModel.getLineMaxColumn(r.originalEndLineNumber)),m=r.originalModel.getValueInRange(p);if(r.modifiedEndLineNumber===0){const b=i.getModel().getLineMaxColumn(r.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new Y(r.modifiedStartLineNumber,b,r.modifiedStartLineNumber,b),text:l+m}])}else{const b=i.getModel().getLineMaxColumn(r.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new Y(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,b),text:m}])}})));const g=(p,m)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:p,y:m}),getActions:()=>(h&&(h.label=c?L("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.originalStartLineNumber+d):L("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.originalStartLineNumber+d)),u),autoSelectFirstItem:!0})};this._register(Ks(this._diffActions,"mousedown",p=>{const{top:m,height:b}=io(this._diffActions),_=Math.floor(a/3);p.preventDefault(),g(p.posx,m+b+_)})),this._register(i.onMouseMove(p=>{p.target.type===8||p.target.type===5?p.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,d=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,a)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(p=>{!p.event.rightButton||(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._viewZoneId&&(p.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,a),g(p.event.posx,p.event.posy+a))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,e?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(e,t,i){const{top:r}=io(e),s=t-r,o=Math.floor(s/i),a=o*i;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let l=0;for(let u=0;u<this.diff.viewLineCounts.length;u++)if(l+=this.diff.viewLineCounts[u],o<l)return u}return o}}const O1=Pn("clipboardService");Object.freeze({total(){},worked(){},done(){}});class P1{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}P1.None=Object.freeze({report(){}});const Dv=Pn("editorProgressService");var Wmt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$f=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},k8;class Oie{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(t=>!this._zonesMap[String(t.id)])}clean(e){this._zones.length>0&&e.changeViewZones(t=>{for(const i of this._zones)t.removeZone(i)}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,r){const s=r?nv.capture(e):null;e.changeViewZones(o=>{var a;for(const l of this._zones)o.removeZone(l);for(const l of this._inlineDiffMargins)l.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let l=0,u=i.zones.length;l<u;l++){const c=i.zones[l];c.suppressMouseDown=!0;const d=o.addZone(c);this._zones.push(d),this._zonesMap[String(d)]=!0,i.zones[l].diff&&c.marginDomNode&&(c.suppressMouseDown=!1,((a=i.zones[l].diff)===null||a===void 0?void 0:a.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new Vmt(d,c.marginDomNode,e,i.zones[l].diff,this._contextMenuService,this._clipboardService)))}}),s&&s.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let Hmt=0;const zmt=ws("diff-insert",k.add,L("diffInsertIcon","Line decoration for inserts in the diff editor.")),yve=ws("diff-remove",k.remove,L("diffRemoveIcon","Line decoration for removals in the diff editor.")),Pie=(k8=window.trustedTypes)===null||k8===void 0?void 0:k8.createPolicy("diffEditorWidget",{createHTML:n=>n});let iv=class _o extends ze{constructor(e,t,i,r,s,o,a,l,u,c,d,h){super();this._editorProgressService=h,this._onDidDispose=this._register(new Le),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new Le),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new Le),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=s,this._codeEditorService=l,this._contextKeyService=this._register(o.createScoped(e)),this._instantiationService=a.createChild(new T4([Zt,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=u,this._notificationService=c,this._id=++Hmt,this._state=0,this._updatingDiffProgress=null,this._domElement=e,t=t||{},this._options=$ie(t,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof t.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",t.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new Ni(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=_o._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=Un(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Ks(this._overviewDomElement,"mousedown",g=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(g)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Oie(d,r),this._modifiedEditorState=new Oie(d,r),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new nme(this._containerDomElement,t.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),t.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(t,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(t,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(UA,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new gg(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Bie(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(u.onDidColorThemeChange(g=>{this._strategy&&this._strategy.applyColors(g)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=_o._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const f=l_.getDiffEditorContributions();for(const g of f)try{this._register(a.createInstance(g.ctor,this))}catch(p){Qt(p)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=wA(e.type),i}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(e,t){const i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),t);this._register(i.onDidScrollChange(s=>{this._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(s=>{!i.getModel()||(s.hasChanged(44)&&this._updateDecorationsRunner.schedule(),s.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const r=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>r.set(!0))),this._register(i.onDidBlurEditorWidget(()=>r.set(!1))),this._register(i.onDidContentSizeChange(s=>{const o=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_o.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:o,contentHeightChanged:s.contentHeightChanged,contentWidthChanged:s.contentWidthChanged})})),i}_createRightHandSideEditor(e,t){const i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),t);this._register(i.onDidScrollChange(s=>{this._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(s=>{!i.getModel()||(s.hasChanged(44)&&this._updateDecorationsRunner.schedule(),s.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(i.onDidChangeModelOptions(s=>{s.tabSize&&this._updateDecorationsRunner.schedule()}));const r=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>r.set(!0))),this._register(i.onDidBlurEditorWidget(()=>r.set(!1))),this._register(i.onDidContentSizeChange(s=>{const o=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_o.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:o,contentHeightChanged:s.contentHeightChanged,contentWidthChanged:s.contentWidthChanged})})),i}_createInnerEditor(e,t,i,r){return e.createInstance($k,t,i,r)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return rD.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(e){const t=$ie(e,this._options),i=Gmt(this._options,t);this._options=t;const r=i.ignoreTrimWhitespace||i.renderIndicators,s=this._isVisible&&(i.maxComputationTime||i.maxFileSize);r?this._beginUpdateDecorations():s&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),i.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new gg(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Bie(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=_o._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),i.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,r=!0){this._modifiedEditor.revealRange(e,t,i,r)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const e=this._originalEditor.saveViewState(),t=this._modifiedEditor.saveViewState();return{original:e,modified:t}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=_o.ENTIRE_DIFF_OVERVIEW_WIDTH-2*_o.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:_o.ONE_OVERVIEW_WIDTH,right:i+_o.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:_o.ONE_OVERVIEW_WIDTH,height:e-t}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),_o.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t?!0:!e||!t?!1:e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const e=this._originalEditor.getModel(),t=this._modifiedEditor.getModel();if(!e||!t)return;this._diffComputationToken++;const i=this._diffComputationToken,r=this._options.maxFileSize*1024*1024,s=o=>{const a=o.getValueLength();return r===0||a<=r};if(!s(e)||!s(t)){(!_o._equals(e.uri,this._lastOriginalWarning)||!_o._equals(t.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=t.uri,this._notificationService.warn(L("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(e.uri,t.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(o=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=o,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},o=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),r=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,r.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,r.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(e){const t=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(t.ariaLabel=e.modifiedAriaLabel),t.wordWrapOverride1=this._options.diffWordWrap,t.revealHorizontalRightPadding=qd.revealHorizontalRightPadding.defaultValue+_o.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),r=this._strategy.layout();this._originalDomNode.style.width=r+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-r+"px",this._modifiedDomNode.style.left=r+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=_o.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-_o.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(_o.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:r,height:t-i}),this._modifiedEditor.layout({width:e-r-(this._options.renderOverviewRuler?_o.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),r=Math.max(0,e.height),s=Math.max(0,r-2*0),o=i>0?s/i:0,a=Math.max(0,Math.floor(e.height*o)),l=Math.floor(t*o);return{height:a,top:l}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(i.length===0||e<t(i[0]))return null;let r=0,s=i.length-1;for(;r<s;){const o=Math.floor((r+s)/2),a=t(i[o]),l=o+1<=s?t(i[o+1]):1073741824;e<a?s=o-1:e>=l?r=o+1:(r=o,s=o)}return i[r]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.originalStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),r=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),s=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-i;return a<=s?r+Math.min(a,o):r+o-s+a}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.modifiedStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),r=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),s=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-r;return a<=o?i+Math.min(a,s):i+s-o+a}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};iv.ONE_OVERVIEW_WIDTH=15;iv.ENTIRE_DIFF_OVERVIEW_WIDTH=30;iv.UPDATE_DIFF_DECORATIONS_DELAY=200;iv=Wmt([$f(3,O1),$f(4,ju),$f(5,Zt),$f(6,Mn),$f(7,ci),$f(8,Ki),$f(9,Kr),$f(10,Ev),$f(11,Dv)],iv);class wve extends ze{constructor(e){super();this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(mme)||Z7).transparent(2),i=(e.getColor(vme)||Q7).transparent(2),r=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,r}getEditorsDiffDecorations(e,t,i,r,s){s=s.sort((u,c)=>u.afterLineNumber-c.afterLineNumber),r=r.sort((u,c)=>u.afterLineNumber-c.afterLineNumber);const o=this._getViewZones(e,r,s,i),a=this._getOriginalEditorDecorations(e,t,i),l=this._getModifiedEditorDecorations(e,t,i);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:o.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:o.modified}}}}class Fie{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class H0{constructor(e,t,i,r,s){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=r,this._modifiedEditor=s}static _getViewLineCount(e,t,i){const r=e.getModel(),s=e._getViewModel();if(r&&s){const o=Wk(r,s,t,i);return o.endLineNumber-o.startLineNumber+1}return i-t+1}getViewZones(){const e=this._originalEditor.getOption(59),t=this._modifiedEditor.getOption(59),i=this._originalEditor.getOption(132).wrappingColumn!==-1,r=this._modifiedEditor.getOption(132).wrappingColumn!==-1,s=i||r,o=this._originalEditor.getModel(),a=this._originalEditor._getViewModel().coordinatesConverter,l=this._modifiedEditor._getViewModel().coordinatesConverter,u={original:[],modified:[]};let c=0,d=0,h=0,f=0,g=0,p=0;const m=(D,E)=>D.afterLineNumber-E.afterLineNumber,b=(D,E)=>{if(E.domNode===null&&D.length>0){const I=D[D.length-1];if(I.afterLineNumber===E.afterLineNumber&&I.domNode===null){I.heightInLines+=E.heightInLines;return}}D.push(E)},_=new Fie(this._modifiedForeignVZ),C=new Fie(this._originalForeignVZ);let w=1,S=1;for(let D=0,E=this._lineChanges.length;D<=E;D++){const I=D<E?this._lineChanges[D]:null;I!==null?(h=I.originalStartLineNumber+(I.originalEndLineNumber>0?-1:0),f=I.modifiedStartLineNumber+(I.modifiedEndLineNumber>0?-1:0),d=I.originalEndLineNumber>0?H0._getViewLineCount(this._originalEditor,I.originalStartLineNumber,I.originalEndLineNumber):0,c=I.modifiedEndLineNumber>0?H0._getViewLineCount(this._modifiedEditor,I.modifiedStartLineNumber,I.modifiedEndLineNumber):0,g=Math.max(I.originalStartLineNumber,I.originalEndLineNumber),p=Math.max(I.modifiedStartLineNumber,I.modifiedEndLineNumber)):(h+=1e7+d,f+=1e7+c,g=h,p=f);let T=[],M=[];if(s){let F;I?I.originalEndLineNumber>0?F=I.originalStartLineNumber-w:F=I.modifiedStartLineNumber-S:F=o.getLineCount()-w;for(let U=0;U<F;U++){const V=w+U,G=S+U,j=a.getModelLineViewLineCount(V),X=l.getModelLineViewLineCount(G);j<X?T.push({afterLineNumber:V,heightInLines:X-j,domNode:null,marginDomNode:null}):j>X&&M.push({afterLineNumber:G,heightInLines:j-X,domNode:null,marginDomNode:null})}I&&(w=(I.originalEndLineNumber>0?I.originalEndLineNumber:I.originalStartLineNumber)+1,S=(I.modifiedEndLineNumber>0?I.modifiedEndLineNumber:I.modifiedStartLineNumber)+1)}for(;_.current&&_.current.afterLineNumber<=p;){let F;_.current.afterLineNumber<=f?F=h-f+_.current.afterLineNumber:F=g;let U=null;I&&I.modifiedStartLineNumber<=_.current.afterLineNumber&&_.current.afterLineNumber<=I.modifiedEndLineNumber&&(U=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),T.push({afterLineNumber:F,heightInLines:_.current.height/t,domNode:null,marginDomNode:U}),_.advance()}for(;C.current&&C.current.afterLineNumber<=g;){let F;C.current.afterLineNumber<=h?F=f-h+C.current.afterLineNumber:F=p,M.push({afterLineNumber:F,heightInLines:C.current.height/e,domNode:null}),C.advance()}if(I!==null&&ty(I)){const F=this._produceOriginalFromDiff(I,d,c);F&&T.push(F)}if(I!==null&&ny(I)){const F=this._produceModifiedFromDiff(I,d,c);F&&M.push(F)}let A=0,O=0;for(T=T.sort(m),M=M.sort(m);A<T.length&&O<M.length;){const F=T[A],U=M[O],V=F.afterLineNumber-h,G=U.afterLineNumber-f;V<G?(b(u.original,F),A++):G<V?(b(u.modified,U),O++):F.shouldNotShrink?(b(u.original,F),A++):U.shouldNotShrink?(b(u.modified,U),O++):F.heightInLines>=U.heightInLines?(F.heightInLines-=U.heightInLines,O++):(U.heightInLines-=F.heightInLines,A++)}for(;A<T.length;)b(u.original,T[A]),A++;for(;O<M.length;)b(u.modified,M[O]),O++}return{original:H0._ensureDomNodes(u.original),modified:H0._ensureDomNodes(u.modified)}}static _ensureDomNodes(e){return e.map(t=>(t.domNode||(t.domNode=Sve()),t))}}function rg(n,e,t,i,r){return{range:new Y(n,e,t,i),options:r}}const Ca={charDelete:dn.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:dn.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:dn.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:dn.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:dn.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:dn.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Ti.asClassName(zmt),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:dn.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:dn.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Ti.asClassName(yve),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:dn.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class gg extends wve{constructor(e,t){super(e);this._disableSash=t===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new wo(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(i=>this._onSashDrag(i)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){const t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?iv.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let r=Math.floor((e||.5)*i);const s=Math.floor(.5*i);return r=this._disableSash?s:r||s,i>gg.MINIMUM_EDITOR_WIDTH*2?(r<gg.MINIMUM_EDITOR_WIDTH&&(r=gg.MINIMUM_EDITOR_WIDTH),r>i-gg.MINIMUM_EDITOR_WIDTH&&(r=i-gg.MINIMUM_EDITOR_WIDTH)):r=s,this._sashPosition!==r&&(this._sashPosition=r,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?iv.ENTIRE_DIFF_OVERVIEW_WIDTH:0),r=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=r/i,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){const r=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new Umt(e,t,i,r,s).getViewZones()}_getOriginalEditorDecorations(e,t,i){const r=this._dataSource.getOriginalEditor(),s=String(this._removeColor),o={decorations:[],overviewZones:[]},a=r.getModel(),l=r._getViewModel();for(const u of e)if(ny(u)){o.decorations.push({range:new Y(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:i?Ca.lineDeleteWithSign:Ca.lineDelete}),(!ty(u)||!u.charChanges)&&o.decorations.push(rg(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824,Ca.charDeleteWholeLine));const c=Wk(a,l,u.originalStartLineNumber,u.originalEndLineNumber);if(o.overviewZones.push(new Rk(c.startLineNumber,c.endLineNumber,s)),u.charChanges){for(const d of u.charChanges)if(ny(d))if(t)for(let h=d.originalStartLineNumber;h<=d.originalEndLineNumber;h++){let f,g;h===d.originalStartLineNumber?f=d.originalStartColumn:f=a.getLineFirstNonWhitespaceColumn(h),h===d.originalEndLineNumber?g=d.originalEndColumn:g=a.getLineLastNonWhitespaceColumn(h),o.decorations.push(rg(h,f,h,g,Ca.charDelete))}else o.decorations.push(rg(d.originalStartLineNumber,d.originalStartColumn,d.originalEndLineNumber,d.originalEndColumn,Ca.charDelete))}}return o}_getModifiedEditorDecorations(e,t,i){const r=this._dataSource.getModifiedEditor(),s=String(this._insertColor),o={decorations:[],overviewZones:[]},a=r.getModel(),l=r._getViewModel();for(const u of e)if(ty(u)){o.decorations.push({range:new Y(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?Ca.lineInsertWithSign:Ca.lineInsert}),(!ny(u)||!u.charChanges)&&o.decorations.push(rg(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,Ca.charInsertWholeLine));const c=Wk(a,l,u.modifiedStartLineNumber,u.modifiedEndLineNumber);if(o.overviewZones.push(new Rk(c.startLineNumber,c.endLineNumber,s)),u.charChanges){for(const d of u.charChanges)if(ty(d))if(t)for(let h=d.modifiedStartLineNumber;h<=d.modifiedEndLineNumber;h++){let f,g;h===d.modifiedStartLineNumber?f=d.modifiedStartColumn:f=a.getLineFirstNonWhitespaceColumn(h),h===d.modifiedEndLineNumber?g=d.modifiedEndColumn:g=a.getLineLastNonWhitespaceColumn(h),o.decorations.push(rg(h,f,h,g,Ca.charInsert))}else o.decorations.push(rg(d.modifiedStartLineNumber,d.modifiedStartColumn,d.modifiedEndLineNumber,d.modifiedEndColumn,Ca.charInsert))}}return o}}gg.MINIMUM_EDITOR_WIDTH=100;class Umt extends H0{constructor(e,t,i,r,s){super(e,t,i,r,s)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class Bie extends wve{constructor(e,t){super(e);this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(i=>{this._decorationsLeft!==i.decorationsLeft&&(this._decorationsLeft=i.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,r){const s=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new jmt(e,t,i,s,o,r).getViewZones()}_getOriginalEditorDecorations(e,t,i){const r=String(this._removeColor),s={decorations:[],overviewZones:[]},o=this._dataSource.getOriginalEditor(),a=o.getModel(),l=o._getViewModel();for(const u of e)if(ny(u)){s.decorations.push({range:new Y(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:Ca.lineDeleteMargin});const c=Wk(a,l,u.originalStartLineNumber,u.originalEndLineNumber);s.overviewZones.push(new Rk(c.startLineNumber,c.endLineNumber,r))}return s}_getModifiedEditorDecorations(e,t,i){const r=this._dataSource.getModifiedEditor(),s=String(this._insertColor),o={decorations:[],overviewZones:[]},a=r.getModel(),l=r._getViewModel();for(const u of e)if(ty(u)){o.decorations.push({range:new Y(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?Ca.lineInsertWithSign:Ca.lineInsert});const c=Wk(a,l,u.modifiedStartLineNumber,u.modifiedEndLineNumber);if(o.overviewZones.push(new Rk(c.startLineNumber,c.endLineNumber,s)),u.charChanges){for(const d of u.charChanges)if(ty(d))if(t)for(let h=d.modifiedStartLineNumber;h<=d.modifiedEndLineNumber;h++){let f,g;h===d.modifiedStartLineNumber?f=d.modifiedStartColumn:f=a.getLineFirstNonWhitespaceColumn(h),h===d.modifiedEndLineNumber?g=d.modifiedEndColumn:g=a.getLineLastNonWhitespaceColumn(h),o.decorations.push(rg(h,f,h,g,Ca.charInsert))}else o.decorations.push(rg(d.modifiedStartLineNumber,d.modifiedStartColumn,d.modifiedEndLineNumber,d.modifiedEndColumn,Ca.charInsert))}else o.decorations.push(rg(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,Ca.charInsertWholeLine))}return o}layout(){return Math.max(5,this._decorationsLeft)}}class jmt extends H0{constructor(e,t,i,r,s,o){super(e,t,i,r,s);this._originalModel=r.getModel(),this._renderIndicators=o,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const r=document.createElement("div");return r.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:r}}_produceModifiedFromDiff(e,t,i){const r=document.createElement("div");r.className=`view-lines line-delete ${g_}`;const s=document.createElement("div");s.className="inline-deleted-margin-view-zone";const o={shouldNotShrink:!0,afterLineNumber:e.modifiedEndLineNumber===0?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:r,marginDomNode:s,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(o),o}_finalize(e){const t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,r=t.get(44),s=t.get(29),o=r.typicalHalfwidthCharacterWidth,a=t.get(93),l=this._originalModel.mightContainNonBasicASCII(),u=this._originalModel.mightContainRTL(),c=t.get(59),h=t.get(131).decorationsWidth,f=t.get(105),g=t.get(88),p=t.get(83),m=t.get(45),b=this._lineBreaksComputer.finalize();let _=0;for(let C=0;C<this._pendingLineChange.length;C++){const w=this._pendingLineChange[C],S=this._pendingViewZones[C],D=S.domNode;oo(D,r);const E=S.marginDomNode;oo(E,r);const I=[];if(w.charChanges)for(const G of w.charChanges)ny(G)&&I.push(new U2(new Y(G.originalStartLineNumber,G.originalStartColumn,G.originalEndLineNumber,G.originalEndColumn),"char-delete",0));const T=I.length>0,M=M_(1e4);let A=0,O=0,F=null;for(let G=w.originalStartLineNumber;G<=w.originalEndLineNumber;G++){const j=G-w.originalStartLineNumber,X=this._originalModel.getLineTokens(G),ie=X.getLineContent(),Ce=b[_++],Be=Al.filter(I,G,1,ie.length+1);if(Ce){let we=0;for(const Se of Ce.breakOffsets){const fe=X.sliceAndInflate(we,Se,0),pe=ie.substring(we,Se);A=Math.max(A,this._renderOriginalLine(O++,pe,fe,Al.extractWrapped(Be,we,Se),T,l,u,r,s,c,h,f,g,p,m,i,M,E)),we=Se}for(F||(F=[]);F.length<j;)F[F.length]=1;F[j]=Ce.breakOffsets.length,S.heightInLines+=Ce.breakOffsets.length-1;const ke=document.createElement("div");ke.className="line-delete",e.original.push({afterLineNumber:G,afterColumn:0,heightInLines:Ce.breakOffsets.length-1,domNode:Sve(),marginDomNode:ke})}else A=Math.max(A,this._renderOriginalLine(O++,ie,X,Be,T,l,u,r,s,c,h,f,g,p,m,i,M,E))}A+=a;const U=M.build(),V=Pie?Pie.createHTML(U):U;if(D.innerHTML=V,S.minWidthInPx=A*o,F){const G=w.originalEndLineNumber-w.originalStartLineNumber;for(;F.length<=G;)F[F.length]=1}S.diff.viewLineCounts=F}e.original.sort((C,w)=>C.afterLineNumber-w.afterLineNumber)}_renderOriginalLine(e,t,i,r,s,o,a,l,u,c,d,h,f,g,p,m,b,_){b.appendASCIIString('<div class="view-line'),s||b.appendASCIIString(" char-delete"),b.appendASCIIString('" style="top:'),b.appendASCIIString(String(e*c)),b.appendASCIIString('px;width:1000000px;">');const C=jl.isBasicASCII(t,o),w=jl.containsRTL(t,C,a),S=e4(new I1(l.isMonospace&&!u,l.canUseHalfwidthRightwardsArrow,t,!1,C,w,0,i,r,m,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,h,f,g,p!==Dl.OFF,null),b);if(b.appendASCIIString("</div>"),this._renderIndicators){const D=document.createElement("div");D.className=`delete-sign ${Ti.asClassName(yve)}`,D.setAttribute("style",`position:absolute;top:${e*c}px;width:${d}px;height:${c}px;right:0;`),_.appendChild(D)}return S.characterMapping.getAbsoluteOffset(S.characterMapping.length)}}function Kmt(n,e){return La(n,e,["off","on","inherit"])}function ty(n){return n.modifiedEndLineNumber>0}function ny(n){return n.originalEndLineNumber>0}function Sve(){const n=document.createElement("div");return n.className="diagonal-fill",n}function Wk(n,e,t,i){const r=n.getLineCount();return t=Math.min(r,Math.max(1,t)),i=Math.min(r,Math.max(1,i)),e.coordinatesConverter.convertModelRangeToViewRange(new Y(t,n.getLineMinColumn(t),i,n.getLineMaxColumn(i)))}function $ie(n,e){return{enableSplitViewResizing:$t(n.enableSplitViewResizing,e.enableSplitViewResizing),renderSideBySide:$t(n.renderSideBySide,e.renderSideBySide),maxComputationTime:T9(n.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:T9(n.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:$t(n.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:$t(n.renderIndicators,e.renderIndicators),originalEditable:$t(n.originalEditable,e.originalEditable),diffCodeLens:$t(n.diffCodeLens,e.diffCodeLens),renderOverviewRuler:$t(n.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:Kmt(n.diffWordWrap,e.diffWordWrap)}}function Gmt(n,e){return{enableSplitViewResizing:n.enableSplitViewResizing!==e.enableSplitViewResizing,renderSideBySide:n.renderSideBySide!==e.renderSideBySide,maxComputationTime:n.maxComputationTime!==e.maxComputationTime,maxFileSize:n.maxFileSize!==e.maxFileSize,ignoreTrimWhitespace:n.ignoreTrimWhitespace!==e.ignoreTrimWhitespace,renderIndicators:n.renderIndicators!==e.renderIndicators,originalEditable:n.originalEditable!==e.originalEditable,diffCodeLens:n.diffCodeLens!==e.diffCodeLens,renderOverviewRuler:n.renderOverviewRuler!==e.renderOverviewRuler,diffWordWrap:n.diffWordWrap!==e.diffWordWrap}}Hi((n,e)=>{const t=n.getColor(mme);t&&(e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${t}; }`));const i=n.getColor(vme);i&&(e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${i}; }`),e.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${i}; }`),e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${i}; }`));const r=n.getColor(Qct);r&&e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${n.type==="hc"?"dashed":"solid"} ${r}; }`);const s=n.getColor(Jct);s&&e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${n.type==="hc"?"dashed":"solid"} ${s}; }`);const o=n.getColor(Hw);o&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${o}; }`);const a=n.getColor(edt);a&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=n.getColor(GC);l&&e.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${l};
			}
		`);const u=n.getColor(qC);u&&e.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${u};
			}
		`);const c=n.getColor(YC);c&&e.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${c};
			}
		`);const d=n.getColor(tdt);e.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${d} 12.5%,
			#0000 12.5%, #0000 50%,
			${d} 50%, ${d} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var qmt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ymt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let p$=class extends ze{constructor(e){super();this._themeService=e,this._onCodeEditorAdd=this._register(new Le),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Le),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Le),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Le),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorations(e))))}setModelProperty(e,t,i){const r=e.toString();let s;this._modelProperties.has(r)?s=this._modelProperties.get(r):(s=new Map,this._modelProperties.set(r,s)),s.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}};p$=qmt([Ymt(0,Ki)],p$);var Xmt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vie=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let jA=class extends p${constructor(e,t){super(t);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const s=t.resource.scheme;if(s===on.http||s===on.https)return zpe(t.resource.toString()),e}return null}const r=t.options?t.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")e.setSelection(r),e.revealRangeInCenter(r,1);else{const s={lineNumber:r.startLineNumber,column:r.startColumn};e.setPosition(s),e.revealPositionInCenter(s,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};jA=Xmt([Vie(0,Zt),Vie(1,Ki)],jA);qn(ci,jA);const gD=Pn("layoutService");var Lve=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},kve=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let KA=class{constructor(e){this._codeEditorService=e,this.onDidLayout=xt.None}get dimension(){return this._dimension||(this._dimension=i4(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}};KA=Lve([kve(0,ci)],KA);let m$=class extends KA{constructor(e,t){super(t);this._container=e}get hasContainer(){return!1}get container(){return this._container}};m$=Lve([kve(1,ci)],m$);qn(gD,KA);const pD=Pn("dialogService");var Zmt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Wie=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},xT=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function MT(n){return n.scheme===on.file?n.fsPath:n.path}let Eve=0;class AT{constructor(e,t,i,r,s,o,a){this.id=++Eve,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Hie{constructor(e,t){this.resourceLabel=e,this.reason=t}}class zie{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,r]of this.elements)(r.reason===0?e:t).push(r.resourceLabel);let i=[];return e.length>0&&i.push(L({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(L({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Qmt{constructor(e,t,i,r,s,o,a){this.id=++Eve,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new zie),this.removedResources.has(t)||this.removedResources.set(t,new Hie(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new zie),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new Hie(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Dve{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,r=this._past.length;i<r;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new Qme(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,r=0,s=-1;for(let a=0,l=this._past.length;a<l;a++,r++){const u=this._past[a];i&&(r>=t||u.id!==e.elements[r])&&(i=!1,s=0),!i&&u.type===1&&u.removeResource(this.resourceLabel,this.strResource,0)}let o=-1;for(let a=this._future.length-1;a>=0;a--,r++){const l=this._future[a];i&&(r>=t||l.id!==e.elements[r])&&(i=!1,o=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}s!==-1&&(this._past=this._past.slice(0,s)),o!==-1&&(this._future=this._future.slice(o+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class E8{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const Ive=new Dve("","");Ive.locked=!0;let v$=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=Xy.None,i=Th.None){if(e.type===0){const r=MT(e.resource),s=this.getUriComparisonKey(e.resource);this._pushElement(new AT(e,r,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const r=new Set,s=[],o=[];for(const a of e.resources){const l=MT(a),u=this.getUriComparisonKey(a);r.has(u)||(r.add(u),s.push(l),o.push(u))}s.length===1?this._pushElement(new AT(e,s[0],o[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Qmt(e,s,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const r=e.resourceLabels[t],s=e.strResources[t];let o;this._editStacks.has(s)?o=this._editStacks.get(s):(o=new Dve(r,s),this._editStacks.set(s,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const r=i.getClosestPastElement();return r?r.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const s of i){const o=MT(s.resource),a=this.getUriComparisonKey(s.resource),l=new AT(s,o,a,0,0,0,0);r.set(l.strResource,l)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitPastWorkspaceElement(e,r)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const s of i){const o=MT(s.resource),a=this.getUriComparisonKey(s.resource),l=new AT(s,o,a,0,0,0,0);r.set(l.strResource,l)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitFutureWorkspaceElement(e,r)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const r=this.getUriComparisonKey(e);this._editStacks.has(r)&&this._editStacks.get(r).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new Qme(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();!o||o.sourceId===e&&(!t||o.sourceOrder>t.sourceOrder)&&(t=o,i=r)}return[t,i]}canUndo(e){if(e instanceof Th){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){Qt(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,r,s){const o=this._acquireLocks(i);let a;try{a=t()}catch(l){return o(),r.dispose(),this._onError(l,e)}return a?a.then(()=>(o(),r.dispose(),s()),l=>(o(),r.dispose(),this._onError(l,e))):(o(),r.dispose(),s())}_invokeWorkspacePrepare(e){return xT(this,void 0,void 0,function*(){if(typeof e.actual.prepareUndoRedo=="undefined")return ze.None;const t=e.actual.prepareUndoRedo();return typeof t=="undefined"?ze.None:t})}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo=="undefined")return t(ze.None);const i=e.actual.prepareUndoRedo();return i?HU(i)?t(i):i.then(r=>t(r)):t(ze.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||Ive);return new E8(t)}_tryToSplitAndUndo(e,t,i,r){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(r),new RT(this._undo(e,0,!0));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new RT}_checkWorkspaceUndo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,L({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,L({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,t,null,L({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndUndo(e,t,null,L({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,L({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const r=this._getAffectedEditStacks(t),s=this._checkWorkspaceUndo(e,t,r,!1);return s?s.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,r,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(!!i){if(i===e){const r=t.getSecondClosestPastElement();if(r&&r.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,r){return xT(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const a=yield this._dialogService.show(cr.Info,L("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[L({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),L("nok","Undo this File"),L("cancel","Cancel")],{cancelId:2});if(a.choice===2)return;if(a.choice===1)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const l=this._checkWorkspaceUndo(e,t,i,!1);if(l)return l.returnValue;r=!0}let s;try{s=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const o=this._checkWorkspaceUndo(e,t,i,!0);if(o)return s.dispose(),o.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,s,()=>this._continueUndoInGroup(t.groupId,r))})}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const r=L({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(r);return}return this._invokeResourcePrepare(t,r=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new E8([e]),r,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();!o||o.groupId===e&&(!t||o.groupOrder>t.groupOrder)&&(t=o,i=r)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof Th){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const r=this._editStacks.get(e),s=r.getClosestPastElement();if(!s)return;if(s.groupId){const[a,l]=this._findClosestUndoElementInGroup(s.groupId);if(s!==a&&l)return this._undo(l,t,i)}if((s.sourceId!==t||s.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,s);try{return s.type===1?this._workspaceUndo(e,s,i):this._resourceUndo(r,s,i)}finally{}}_confirmAndContinueUndo(e,t,i){return xT(this,void 0,void 0,function*(){if((yield this._dialogService.show(cr.Info,L("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[L("confirmDifferentSource.yes","Yes"),L("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();!o||o.sourceId===e&&(!t||o.sourceOrder<t.sourceOrder)&&(t=o,i=r)}return[t,i]}canRedo(e){if(e instanceof Th){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,r){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(r),new RT(this._redo(e));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new RT}_checkWorkspaceRedo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,L({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,L({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,t,null,L({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndRedo(e,t,null,L({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,L({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),r=this._checkWorkspaceRedo(e,t,i,!1);return r?r.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return xT(this,void 0,void 0,function*(){let r;try{r=yield this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}const s=this._checkWorkspaceRedo(e,t,i,!0);if(s)return r.dispose(),s.returnValue;for(const o of i.editStacks)o.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,r,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=L({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new E8([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();!o||o.groupId===e&&(!t||o.groupOrder<t.groupOrder)&&(t=o,i=r)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof Th){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(!!i){if(i.groupId){const[r,s]=this._findClosestRedoElementInGroup(i.groupId);if(i!==r&&s)return this._redo(s)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};v$=Zmt([Wie(0,pD),Wie(1,Kr)],v$);class RT{constructor(e){this.returnValue=e}}qn(k4,v$);function qa(n,e,t){return Math.min(Math.max(n,e),t)}class Tve{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Jmt{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}var evt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},tvt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const sp=Pn("ILanguageFeatureDebounceService");var GA;(function(n){const e=new WeakMap;let t=0;function i(r){let s=e.get(r);return s===void 0&&(s=++t,e.set(r,s)),s}n.of=i})(GA||(GA={}));class nvt{constructor(e,t,i,r,s,o){this._logService=e,this._name=t,this._registry=i,this._default=r,this._min=s,this._max=o,this._cache=new kv(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>QO(GA.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?qa(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let r=this._cache.get(i);r||(r=new Jmt(6),this._cache.set(i,r));const s=qa(r.update(t),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${s}ms`),s}_overall(){const e=new Tve;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=this._overall()|0||this._default;return qa(e,this._min,this._max)}}let _$=class{constructor(e){this._logService=e,this._data=new Map}for(e,t,i){var r,s,o;const a=(r=i==null?void 0:i.min)!==null&&r!==void 0?r:50,l=(s=i==null?void 0:i.max)!==null&&s!==void 0?s:Math.pow(a,2),u=(o=i==null?void 0:i.key)!==null&&o!==void 0?o:void 0,c=`${GA.of(e)},${a}${u?","+u:""}`;let d=this._data.get(c);return d||(d=new nvt(this._logService,t,e,this._overallAverage()|0||a*1.5,a,l),this._data.set(c,d)),d}_overallAverage(){let e=new Tve;for(let t of this._data.values())e.update(t.default());return e.value}};_$=evt([tvt(0,Uc)],_$);qn(sp,_$,!0);const vK=Pn("IWorkspaceEditService");function ivt(n){return Da(n)&&(Boolean(n.newUri)||Boolean(n.oldUri))}function rvt(n){return Da(n)&&zt.isUri(n.resource)&&Da(n.edit)}class N4{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(rvt(t))return new Nve(t.resource,t.edit,t.modelVersionId,t.metadata);if(ivt(t))return new svt(t.oldUri,t.newUri,t.options,t.metadata);throw new Error("Unsupported edit")})}}class Nve extends N4{constructor(e,t,i,r){super(r);this.resource=e,this.textEdit=t,this.versionId=i}}class svt extends N4{constructor(e,t,i,r){super(r);this.oldResource=e,this.newResource=t,this.options=i}}const ovt=Object.freeze({id:"editor",order:5,type:"object",title:L("editorConfigurationTitle","Editor"),scope:5}),qA=Object.assign(Object.assign({},ovt),{properties:{"editor.tabSize":{type:"number",default:Wo.tabSize,minimum:1,markdownDescription:L("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Wo.insertSpaces,markdownDescription:L("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Wo.detectIndentation,markdownDescription:L("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Wo.trimAutoWhitespace,description:L("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Wo.largeFileOptimizations,description:L("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:L("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[L("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),L("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),L("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:L("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[L("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),L("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),L("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:L("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:L("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:L("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:L("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:L("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:L("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:L("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:L("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:L("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:L("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:L("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:L("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:L("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:L("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:L("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[L("wordWrap.off","Lines will never wrap."),L("wordWrap.on","Lines will wrap at the viewport width."),L("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function avt(n){return typeof n.type!="undefined"||typeof n.anyOf!="undefined"}for(const n of uC){const e=n.schema;if(typeof e!="undefined")if(avt(e))qA.properties[`editor.${n.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(qA.properties[t]=e[t])}let OT=null;function xve(){return OT===null&&(OT=Object.create(null),Object.keys(qA.properties).forEach(n=>{OT[n]=!0})),OT}function lvt(n){return xve()[`editor.${n}`]||!1}function uvt(n){return xve()[`diffEditor.${n}`]||!1}const cvt=jr.as(A1.Configuration);cvt.registerConfiguration(qA);class Sr{static insert(e,t){return{range:new Y(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}class du{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?Ute(this.contents,e):this.contents}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?Ute(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=tg(this.contents),i=tg(this.overrides),r=[...this.keys];for(const s of e){this.mergeContents(t,s.contents);for(const o of s.overrides){const[a]=i.filter(l=>$l(l.identifiers,o.identifiers));a?(this.mergeContents(a.contents,o.contents),a.keys.push(...o.keys),a.keys=Um(a.keys)):i.push(tg(o))}for(const o of s.keys)r.indexOf(o)===-1&&r.push(o)}return new du(t,r,i)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;let i={};for(const r of Um([...Object.keys(this.contents),...Object.keys(t)])){let s=this.contents[r],o=t[r];o&&(typeof s=="object"&&typeof o=="object"?(s=tg(s),this.mergeContents(s,o)):s=o),i[r]=s}return new du(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&Da(e[i])&&Da(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=tg(t[i])}}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?cst(e):e}getContentsForOverrideIdentifer(e){let t=null,i=null;const r=s=>{s&&(i?this.mergeContents(i,s):i=tg(s))};for(const s of this.overrides)$l(s.identifiers,[e])?t=s.contents:s.identifiers.includes(e)&&r(s.contents);return r(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),fj(this.contents,e,t,i=>{throw new Error(i)})}removeValue(e){this.removeKey(e)&&Xat(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)e.indexOf(this.keys[i])===0&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1}}class dvt extends du{constructor(e={}){const t=jr.as(A1.Configuration).getConfigurationProperties(),i=Object.keys(t),r=Object.create(null),s=[];for(const o in t){const a=e[o],l=a!==void 0?a:t[o].default;fj(r,o,l,u=>console.error(`Conflict in default settings: ${u}`))}for(const o of Object.keys(r))Pk.test(o)&&s.push({identifiers:cve(o),keys:Object.keys(r[o]),contents:fpe(r[o],a=>console.error(`Conflict in default settings file: ${a}`))});super(r,i,s)}}class x4{constructor(e,t,i=new du,r=new du,s=new na,o=new du,a=new na,l=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=r,this._folderConfigurations=s,this._memoryConfiguration=o,this._memoryConfigurationByResource=a,this._freeze=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new na,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let r;i.resource?(r=this._memoryConfigurationByResource.get(i.resource),r||(r=new du,this._memoryConfigurationByResource.set(i.resource,r))):r=this._memoryConfiguration,t===void 0?r.removeValue(e):r.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const r=this.getConsolidateConfigurationModel(t,i),s=this.getFolderConfigurationModelForResource(t.resource,i),o=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),l=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),u=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),c=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),d=i?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,h=s?t.overrideIdentifier?s.freeze().override(t.overrideIdentifier).getValue(e):s.freeze().getValue(e):void 0,f=t.overrideIdentifier?o.override(t.overrideIdentifier).getValue(e):o.getValue(e),g=r.getValue(e),p=Um(FU(r.overrides.map(m=>m.identifiers))).filter(m=>r.getOverrideValue(e,m)!==void 0);return{defaultValue:a,userValue:l,userLocalValue:u,userRemoteValue:c,workspaceValue:d,workspaceFolderValue:h,memoryValue:f,value:g,default:a!==void 0?{value:this._defaultConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,user:l!==void 0?{value:this.userConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userLocal:u!==void 0?{value:this.localUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userRemote:c!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspace:d!==void 0?{value:this._workspaceConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspaceFolder:h!==void 0?{value:s==null?void 0:s.freeze().getValue(e),override:t.overrideIdentifier?s==null?void 0:s.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,memory:f!==void 0?{value:o.getValue(e),override:t.overrideIdentifier?o.getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:p.length?p:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const r=t.getFolder(e);r&&(i=this.getFolderConsolidatedConfiguration(r.uri)||i);const s=this._memoryConfigurationByResource.get(e);s&&(i=i.merge(s))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=i.merge(r),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:r,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:r,keys:s}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),r=this.parseConfigurationModel(e.workspace),s=e.folders.reduce((o,a)=>(o.set(zt.revive(a[0]),this.parseConfigurationModel(a[1])),o),new na);return new x4(t,i,new du,r,s,new du,new na,!1)}static parseConfigurationModel(e){return new du(e.contents,e.keys,e.overrides).freeze()}}class hvt{constructor(e,t,i,r){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=r,this._previousConfiguration=void 0;const s=new Set;e.keys.forEach(a=>s.add(a)),e.overrides.forEach(([,a])=>a.forEach(l=>s.add(l))),this.affectedKeys=[...s.values()];const o=new du;this.affectedKeys.forEach(a=>o.setValue(a,{})),this.affectedKeysTree=o.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=x4.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const r=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,s=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!Tu(r,s)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i=fpe({[t]:!0},()=>{}),r;for(;typeof i=="object"&&(r=Object.keys(i)[0]);){if(e=e[r],!e)return!1;i=i[r]}return!0}}const fvt=/^(cursor|delete)/;class gvt extends ze{constructor(e,t,i,r,s){super();this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=r,this._logService=s,this._onDidUpdateKeybindings=this._register(new Le),this._currentChord=null,this._currentChordChecker=new tD,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=bC.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Ra,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:xt.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[r]=i.getDispatchParts();if(r===null)return null;const s=this._contextKeyService.getContext(t),o=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,o,r)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(L("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[r]=i.getSingleModifierDispatchParts();if(r)return this._ignoreSingleModifiers.has(r)?(this._log(`+ Ignoring single modifier ${r} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=bC.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=bC.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=i.getParts();return this._ignoreSingleModifiers=new bC(s),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let r=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let s=null,o=null;if(i){const[c]=e.getSingleModifierDispatchParts();s=c,o=c}else[s]=e.getDispatchParts(),o=this._currentChord?this._currentChord.keypress:null;if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const a=this._contextKeyService.getContext(t),l=e.getLabel(),u=this._getResolver().resolve(a,o,s);return this._logService.trace("KeybindingService#dispatch",l,u==null?void 0:u.commandId),u&&u.enterChord?(r=!0,this._enterChordMode(s,l),r):(this._currentChord&&(!u||!u.commandId)&&(this._notificationService.status(L("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:10*1e3}),r=!0),this._leaveChordMode(),u&&u.commandId&&(u.bubble||(r=!0),typeof u.commandArgs=="undefined"?this._commandService.executeCommand(u.commandId).then(void 0,c=>this._notificationService.warn(c)):this._commandService.executeCommand(u.commandId,u.commandArgs).then(void 0,c=>this._notificationService.warn(c)),fvt.test(u.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:u.commandId,from:"keybinding"})),r)}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}class bC{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}bC.EMPTY=new bC(null);const Dr=Pn("keybindingService");class uL{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const r of e){const s=r.command;s&&s.charAt(0)!=="-"&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=uL.handleRemovals([].concat(e).concat(t));for(let r=0,s=this._keybindings.length;r<s;r++){let o=this._keybindings[r];o.keypressParts.length!==0&&(o.when&&o.when.type===0||this._addKeyPress(o.keypressParts[0],o))}}static _isTargetedForRemoval(e,t,i,r){return!(t&&e.keypressParts[0]!==t||i&&e.keypressParts[1]!==i||r&&(!e.when||!jut(r,e.when)))}static handleRemovals(e){const t=new Map;for(let r=0,s=e.length;r<s;r++){const o=e[r];if(o.command&&o.command.charAt(0)==="-"){const a=o.command.substring(1);t.has(a)?t.get(a).push(o):t.set(a,[o])}}if(t.size===0)return e;const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];if(!o.command||o.command.length===0){i.push(o);continue}if(o.command.charAt(0)==="-")continue;const a=t.get(o.command);if(!a||!o.isDefault){i.push(o);continue}let l=!1;for(const u of a){const c=u.keypressParts[0],d=u.keypressParts[1],h=u.when;if(this._isTargetedForRemoval(o,c,d,h)){l=!0;break}}if(!l){i.push(o);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i=="undefined"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let r=i.length-1;r>=0;r--){let s=i[r];if(s.command===t.command)continue;const o=s.keypressParts.length>1,a=t.keypressParts.length>1;o&&a&&s.keypressParts[1]!==t.keypressParts[1]||uL.whenIsEntirelyIncluded(s.when,t.when)&&this._removeFromLookupMap(s)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t=="undefined"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(typeof t!="undefined"){for(let i=0,r=t.length;i<r;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:Kpe(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i=="undefined"||i.length===0)return null;if(i.length===1)return i[0];for(let r=i.length-1;r>=0;r--){const s=i[r];if(t.contextMatchesRules(s.when))return s}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let r=null;if(t!==null){const o=this._map.get(t);if(typeof o=="undefined")return this._log("\\ No keybinding entries."),null;r=[];for(let a=0,l=o.length;a<l;a++){let u=o[a];u.keypressParts[1]===i&&r.push(u)}}else{const o=this._map.get(i);if(typeof o=="undefined")return this._log("\\ No keybinding entries."),null;r=o}let s=this._findCommand(e,r);return s?t===null&&s.keypressParts.length>1&&s.keypressParts[1]!==null?(this._log(`\\ From ${r.length} keybinding entries, matched chord, when: ${Uie(s.when)}, source: ${jie(s)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${r.length} keybinding entries, matched ${s.command}, when: ${Uie(s.when)}, source: ${jie(s)}.`),{enterChord:!1,leaveChord:s.keypressParts.length>1,commandId:s.command,commandArgs:s.commandArgs,bubble:s.bubble}):(this._log(`\\ From ${r.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let r=t[i];if(!!uL._contextMatchesRules(e,r.when))return r}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function Uie(n){return n?`${n.serialize()}`:"no when condition"}function jie(n){return n.extensionId?n.isBuiltinExtension?`built-in extension ${n.extensionId}`:`user extension ${n.extensionId}`:n.isDefault?"built-in":"user"}class Kie{constructor(e,t,i,r,s,o,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?b$(e.getDispatchParts()):[],e&&this.keypressParts.length===0&&(this.keypressParts=b$(e.getSingleModifierDispatchParts())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=r,this.isDefault=s,this.extensionId=o,this.isBuiltinExtension=a}}function b$(n){let e=[];for(let t=0,i=n.length;t<i;t++){const r=n[t];if(!r)return e;e.push(r)}return e}class M4{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=i(a);if(l===null)return null;r[s]=vvt(a,l,this.modifierLabels[e])}return r.join(" ")}}const _K=new M4({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:L({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:L({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:L({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:L({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:L({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:L({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:L({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:L({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),pvt=new M4({ctrlKey:L({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:L({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:L({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:L({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:L({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:L({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:L({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:L({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:L({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:L({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:L({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:L({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),mvt=new M4({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});new M4({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function vvt(n,e,t){if(e===null)return"";const i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class _vt extends vut{constructor(e,t){super();if(t.length===0)throw kd("parts");this._os=e,this._parts=t}getLabel(){return _K.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return pvt.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:mvt.toLabel(this._os,this._parts,e=>this._getElectronAccelerator(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new mut(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}}class Hk extends _vt{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return B0.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":B0.toString(e.keyCode)}_getElectronAccelerator(e){return B0.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return Hk.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=B0.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=jU[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof R_)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new R_(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const i=b$(e.map(r=>this._resolveSimpleUserBinding(r)));return i.length>0?[new Hk(new pA(i),t)]:[]}}const mD=Pn("labelService"),Mve=Pn("contextService");class bvt{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var Yr;(function(n){n.noSelection=L("noSelection","No selection"),n.singleSelectionRange=L("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),n.singleSelection=L("singleSelection","Line {0}, Column {1}"),n.multiSelectionRange=L("multiSelectionRange","{0} selections ({1} characters selected)"),n.multiSelection=L("multiSelection","{0} selections"),n.emergencyConfOn=L("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),n.openingDocs=L("openingDocs","Now opening the Editor Accessibility documentation page."),n.readonlyDiffEditor=L("readonlyDiffEditor"," in a read-only pane of a diff editor."),n.editableDiffEditor=L("editableDiffEditor"," in a pane of a diff editor."),n.readonlyEditor=L("readonlyEditor"," in a read-only code editor"),n.editableEditor=L("editableEditor"," in a code editor"),n.changeConfigToOnMac=L("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),n.changeConfigToOnWinLinux=L("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),n.auto_on=L("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),n.auto_off=L("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),n.tabFocusModeOnMsg=L("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),n.tabFocusModeOnMsgNoKb=L("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),n.tabFocusModeOffMsg=L("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),n.tabFocusModeOffMsgNoKb=L("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),n.openDocMac=L("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),n.openDocWinLinux=L("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),n.outroMsg=L("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),n.showAccessibilityHelpAction=L("showAccessibilityHelpAction","Show Accessibility Help")})(Yr||(Yr={}));var C$;(function(n){n.inspectTokensAction=L("inspectTokens","Developer: Inspect Tokens")})(C$||(C$={}));var YA;(function(n){n.gotoLineActionLabel=L("gotoLineActionLabel","Go to Line/Column...")})(YA||(YA={}));var y$;(function(n){n.helpQuickAccessActionLabel=L("helpQuickAccess","Show all Quick Access Providers")})(y$||(y$={}));var XA;(function(n){n.quickCommandActionLabel=L("quickCommandActionLabel","Command Palette"),n.quickCommandHelp=L("quickCommandActionHelp","Show And Run Commands")})(XA||(XA={}));var zk;(function(n){n.quickOutlineActionLabel=L("quickOutlineActionLabel","Go to Symbol..."),n.quickOutlineByCategoryActionLabel=L("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(zk||(zk={}));var ZA;(function(n){n.editorViewAccessibleLabel=L("editorViewAccessibleLabel","Editor content"),n.accessibilityHelpMessage=L("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(ZA||(ZA={}));var w$;(function(n){n.toggleHighContrast=L("toggleHighContrast","Toggle High Contrast Theme")})(w$||(w$={}));var S$;(function(n){n.bulkEditServiceSummary=L("bulkEditServiceSummary","Made {0} edits in {1} files")})(S$||(S$={}));const Ave=Pn("workspaceTrustManagementService");var Co;(function(n){function e(s,o){if(s.start>=o.end||o.start>=s.end)return{start:0,end:0};const a=Math.max(s.start,o.start),l=Math.min(s.end,o.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}n.intersect=e;function t(s){return s.end-s.start<=0}n.isEmpty=t;function i(s,o){return!t(e(s,o))}n.intersects=i;function r(s,o){const a=[],l={start:s.start,end:Math.min(o.start,s.end)},u={start:Math.max(o.end,s.start),end:s.end};return t(l)||a.push(l),t(u)||a.push(u),a}n.relativeComplement=r})(Co||(Co={}));var im;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(im||(im={}));function CC(n,e,t){const i=t.mode===im.ALIGN?t.offset:t.offset+t.size,r=t.mode===im.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=n-i?i:e<=r?r-e:Math.max(n-e,0):e<=r?r-e:e<=n-i?i:0}class ew extends ze{constructor(e,t){super();this.container=null,this.delegate=null,this.toDisposeOnClean=ze.None,this.toDisposeOnSetContainer=ze.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=et(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ka(this.view),this.setContainer(e,t),this._register(_n(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=et(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=Cvt,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(et("slot"))}else this.container.appendChild(this.view);const r=new it;ew.BUBBLE_UP_EVENTS.forEach(s=>{r.add(Ks(this.container,s,o=>{this.onDOMEvent(o,!1)}))}),ew.BUBBLE_DOWN_EVENTS.forEach(s=>{r.add(Ks(this.container,s,o=>{this.onDOMEvent(o,!0)},!0))}),this.toDisposeOnSetContainer=r}}show(e){this.isVisible()&&this.hide(),_s(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Il(this.view),this.toDisposeOnClean=e.render(this.view)||ze.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(Ad&&n4.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let e=this.delegate.getAnchor(),t;if(Wpe(e)){let d=io(e);t={top:d.top,left:d.left,width:d.width,height:d.height}}else t={top:e.y,left:e.x,width:e.width||1,height:e.height||2};const i=cc(this.view),r=W7(this.view),s=this.delegate.anchorPosition||0,o=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,u;if(a===0){const d={offset:t.top-window.pageYOffset,size:t.height,position:s===0?0:1},h={offset:t.left,size:t.width,position:o===0?0:1,mode:im.ALIGN};l=CC(window.innerHeight,r,d)+window.pageYOffset,Co.intersects({start:l,end:l+r},{start:d.offset,end:d.offset+d.size})&&(h.mode=im.AVOID),u=CC(window.innerWidth,i,h)}else{const d={offset:t.left,size:t.width,position:o===0?0:1},h={offset:t.top,size:t.height,position:s===0?0:1,mode:im.ALIGN};u=CC(window.innerWidth,i,d),Co.intersects({start:u,end:u+i},{start:d.offset,end:d.offset+d.size})&&(h.mode=im.AVOID),l=CC(window.innerHeight,r,h)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(o===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const c=io(this.container);this.view.style.top=`${l-(this.useFixedPosition?io(this.view).top:c.top)}px`,this.view.style.left=`${u-(this.useFixedPosition?io(this.view).left:c.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(t==null?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),ka(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Eg(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}ew.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];ew.BUBBLE_DOWN_EVENTS=["click"];let Cvt=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var yvt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},wvt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let L$=class extends ze{constructor(e){super();this.layoutService=e,this.currentViewDisposable=ze.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new ew(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const r=_n(()=>{this.currentViewDisposable===r&&this.hideContextView()});return this.currentViewDisposable=r,r}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};L$=yvt([wvt(0,gD)],L$);let v_=[],bK=[],QA=[];function PT(n,e=!1){const t=Svt(n);v_.push(t),t.userConfigured?QA.push(t):bK.push(t),e&&!t.userConfigured&&v_.forEach(i=>{i.mime===t.mime||i.userConfigured||(t.extension&&i.extension===t.extension&&console.warn(`Overwriting extension <<${t.extension}>> to now point to mime <<${t.mime}>>`),t.filename&&i.filename===t.filename&&console.warn(`Overwriting filename <<${t.filename}>> to now point to mime <<${t.mime}>>`),t.filepattern&&i.filepattern===t.filepattern&&console.warn(`Overwriting filepattern <<${t.filepattern}>> to now point to mime <<${t.mime}>>`),t.firstline&&i.firstline===t.firstline&&console.warn(`Overwriting firstline <<${t.firstline}>> to now point to mime <<${t.mime}>>`))})}function Svt(n){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:n.userConfigured,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?Jge(n.filepattern.toLowerCase()):void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(zr.sep)>=0:!1}}function Lvt(n){n?(v_=v_.filter(e=>!e.userConfigured),QA=[]):(v_=[],bK=[],QA=[])}function kvt(n,e){let t;if(n)switch(n.scheme){case on.file:t=n.fsPath;break;case on.data:{t=ev.parseMetaData(n).get(ev.META_DATA_LABEL);break}default:t=n.path}if(!t)return[pd.unknown];t=t.toLowerCase();const i=i_(t),r=Gie(t,i,QA);if(r)return[r,pd.text];const s=Gie(t,i,bK);if(s)return[s,pd.text];if(e){const o=Evt(e);if(o)return[o,pd.text]}return[pd.unknown]}function Gie(n,e,t){var i;let r,s,o;for(let a=t.length-1;a>=0;a--){const l=t[a];if(e===l.filenameLowercase){r=l;break}if(l.filepattern&&(!s||l.filepattern.length>s.filepattern.length)){const u=l.filepatternOnPath?n:e;((i=l.filepatternLowercase)===null||i===void 0?void 0:i.call(l,u))&&(s=l)}l.extension&&(!o||l.extension.length>o.extension.length)&&e.endsWith(l.extensionLowercase)&&(o=l)}if(r)return r.mime;if(s)return s.mime;if(o)return o.mime}function Evt(n){if(rj(n)&&(n=n.substr(1)),n.length>0)for(let e=v_.length-1;e>=0;e--){const t=v_[e];if(!t.firstline)continue;const i=n.match(t.firstline);if(i&&i.length>0)return t.mime}}const FT=Object.prototype.hasOwnProperty,qie="vs.editor.nullLanguage";class Dvt{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(qie,0),this._register(_f,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||qie}}class Uk extends ze{constructor(e=!0,t=!1){super();this._onDidChange=this._register(new Le),this.onDidChange=this._onDidChange.event,Uk.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new Dvt,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(Jy.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){Uk.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Lvt();const e=[].concat(Jy.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{const i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=i.identifier}),i.mimetypes.forEach(r=>{this._mimeTypesMap[r]=i.identifier})}),jr.as(A1.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;FT.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),r=t.mimetypes[0]),r||(r=`text/x-${i}`,e.mimetypes.push(r)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let a of t.extensions)PT({id:i,mime:r,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)PT({id:i,mime:r,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)PT({id:i,mime:r,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);Pot(l)||PT({id:i,mime:r,firstline:l},this._warnOnOverwrite)}catch(l){Qt(l)}}e.aliases.push(i);let s=null;if(typeof t.aliases!="undefined"&&Array.isArray(t.aliases)&&(t.aliases.length===0?s=[null]:s=t.aliases),s!==null)for(const a of s)!a||a.length===0||e.aliases.push(a);const o=s!==null&&s.length>0;if(!(o&&s[0]===null)){const a=(o?s[0]:null)||i;(o||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?FT.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return FT.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&FT.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){if(!e&&!t)return[];const i=kvt(e,t);return L1(i.map(r=>this.getLanguageIdByMimeType(r)))}}Uk.instanceCount=0;class jk extends ze{constructor(e=!1){super();this._onDidEncounterLanguage=this._register(new Le),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new Le({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,jk.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Uk(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){jk.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return wge(i,null)}createById(e){return new Yie(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new Yie(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=_f),this._encounteredLanguages.has(e)||(this._encounteredLanguages.add(e),dr.getOrCreate(e),this._onDidEncounterLanguage.fire(e)),e}}jk.instanceCount=0;class Yie{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new Le({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const e=this._selector();e!==this.languageId&&(this.languageId=e,this._emitter&&this._emitter.fire(this.languageId))}}function Xie(n){let e=n.definition;for(;e instanceof k;)e=e.definition;return`.codicon-${n.id}:before { content: '${e.fontCharacter}'; }`}function CK(...n){return function(e,t){for(let i=0,r=n.length;i<r;i++){const s=n[i](e,t);if(s)return s}return null}}Rve.bind(void 0,!1);const A4=Rve.bind(void 0,!0);function Rve(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=QU(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function Ove(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function Ivt(n,e){return k$(n.toLowerCase(),e.toLowerCase(),0,0)}function k$(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let r=null;return(r=k$(n,e,t+1,i+1))?SK({start:i,end:i+1},r):null}return k$(n,e,t,i+1)}function yK(n){return 97<=n&&n<=122}function R4(n){return 65<=n&&n<=90}function wK(n){return 48<=n&&n<=57}function Pve(n){return n===32||n===9||n===10||n===13}const Fve=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>Fve.add(n.charCodeAt(0)));function JA(n){return Pve(n)||Fve.has(n)}function Tvt(n,e){return n===e||JA(n)&&JA(e)}function Bve(n){return yK(n)||R4(n)||wK(n)}function SK(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function $ve(n,e){for(let t=e;t<n.length;t++){const i=n.charCodeAt(t);if(R4(i)||wK(i)||t>0&&!Bve(n.charCodeAt(t-1)))return t}return n.length}function E$(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let r=null,s=i+1;for(r=E$(n,e,t+1,i+1);!r&&(s=$ve(e,s))<e.length;)r=E$(n,e,t+1,s),s++;return r===null?null:SK({start:i,end:i+1},r)}}function Nvt(n){let e=0,t=0,i=0,r=0,s=0;for(let c=0;c<n.length;c++)s=n.charCodeAt(c),R4(s)&&e++,yK(s)&&t++,Bve(s)&&i++,wK(s)&&r++;const o=e/n.length,a=t/n.length,l=i/n.length,u=r/n.length;return{upperPercent:o,lowerPercent:a,alphaPercent:l,numericPercent:u}}function xvt(n){const{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function Mvt(n){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:r}=n;return t>.2&&e<.8&&i>.6&&r<.2}function Avt(n){let e=0,t=0,i=0,r=0;for(let s=0;s<n.length;s++)i=n.charCodeAt(s),R4(i)&&e++,yK(i)&&t++,Pve(i)&&r++;return(e===0||t===0)&&r===0?n.length<=30:e<=5}function Vve(n,e){if(!e||(e=e.trim(),e.length===0)||!Avt(n)||e.length>60)return null;const t=Nvt(e);if(!Mvt(t)){if(!xvt(t))return null;e=e.toLowerCase()}let i=null,r=0;for(n=n.toLowerCase();r<e.length&&(i=E$(n,e,0,r))===null;)r=$ve(e,r+1);return i}function Rvt(n,e,t=!1){if(!e||e.length===0)return null;let i=null,r=0;for(n=n.toLowerCase(),e=e.toLowerCase();r<e.length&&(i=D$(n,e,0,r,t))===null;)r=Wve(e,r+1);return i}function D$(n,e,t,i,r){if(t===n.length)return[];if(i===e.length)return null;if(Tvt(n.charCodeAt(t),e.charCodeAt(i))){let s=null,o=i+1;if(s=D$(n,e,t+1,i+1,r),!r)for(;!s&&(o=Wve(e,o))<e.length;)s=D$(n,e,t+1,o,r),o++;return s===null?null:SK({start:i,end:i+1},s)}else return null}function Wve(n,e){for(let t=e;t<n.length;t++)if(JA(n.charCodeAt(t))||t>0&&JA(n.charCodeAt(t-1)))return t;return n.length}const Ovt=CK(A4,Vve,Ove),Pvt=CK(A4,Vve,Ivt),Zie=new kv(1e4);function Qie(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=Zie.get(n);i||(i=new RegExp(Rot(n),"i"),Zie.set(n,i));const r=i.exec(e);return r?[{start:r.index,end:r.index+r[0].length}]:t?Pvt(n,e):Ovt(n,e)}function Fvt(n,e,t,i,r,s){const o=Math.min(13,n.length);for(;t<o;t++){const a=tw(n,e,t,i,r,s,!1);if(a)return a}return[0,s]}function O4(n){if(typeof n=="undefined")return[];const e=[],t=n[1];for(let i=n.length-1;i>1;i--){const r=n[i]+t,s=e[e.length-1];s&&s.end===r?s.end=r+1:e.push({start:r,end:r+1})}return e}const rm=128;function LK(){const n=[],e=[];for(let t=0;t<=rm;t++)e[t]=0;for(let t=0;t<=rm;t++)n.push(e.slice(0));return n}function Hve(n){const e=[];for(let t=0;t<=n;t++)e[t]=0;return e}const zve=Hve(2*rm),I$=Hve(2*rm),Vf=LK(),qv=LK(),BT=LK();function $T(n,e){if(e<0||e>=n.length)return!1;const t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!ij(t)}}function Jie(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function Tx(n,e,t){return e[n]!==t[n]}function Bvt(n,e,t,i,r,s,o=!1){for(;e<t&&r<s;)n[e]===i[r]&&(o&&(zve[e]=r),e+=1),r+=1;return e===t}var Ed;(function(n){n.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}n.isDefault=e})(Ed||(Ed={}));function tw(n,e,t,i,r,s,o){const a=n.length>rm?rm:n.length,l=i.length>rm?rm:i.length;if(t>=a||s>=l||a-t>l-s||!Bvt(e,t,a,r,s,l,!0))return;$vt(a,l,t,s,e,r);let u=1,c=1,d=t,h=s;const f=[!1];for(u=1,d=t;d<a;u++,d++){const _=zve[d],C=I$[d],w=d+1<a?I$[d+1]:l;for(c=_-s+1,h=_;h<w;c++,h++){let S=Number.MIN_SAFE_INTEGER,D=!1;h<=C&&(S=Vvt(n,e,d,t,i,r,h,l,s,Vf[u-1][c-1]===0,f));let E=0;S!==Number.MAX_SAFE_INTEGER&&(D=!0,E=S+qv[u-1][c-1]);const I=h>_,T=I?qv[u][c-1]+(Vf[u][c-1]>0?-5:0):0,M=h>_+1&&Vf[u][c-1]>0,A=M?qv[u][c-2]+(Vf[u][c-2]>0?-5:0):0;if(M&&(!I||A>=T)&&(!D||A>=E))qv[u][c]=A,BT[u][c]=3,Vf[u][c]=0;else if(I&&(!D||T>=E))qv[u][c]=T,BT[u][c]=2,Vf[u][c]=0;else if(D)qv[u][c]=E,BT[u][c]=1,Vf[u][c]=Vf[u-1][c-1]+1;else throw new Error("not possible")}}if(!f[0]&&!o)return;u--,c--;const g=[qv[u][c],s];let p=0,m=0;for(;u>=1;){let _=c;do{const C=BT[u][_];if(C===3)_=_-2;else if(C===2)_=_-1;else break}while(_>=1);p>1&&e[t+u-1]===r[s+c-1]&&!Tx(_+s-1,i,r)&&p+1>Vf[u][_]&&(_=c),_===c?p++:p=1,m||(m=_),u--,c=_-1,g.push(c)}l===a&&(g[0]+=2);const b=m-a;return g[0]-=b,g}function $vt(n,e,t,i,r,s){let o=n-1,a=e-1;for(;o>=t&&a>=i;)r[o]===s[a]&&(I$[o]=a,o--),a--}function Vvt(n,e,t,i,r,s,o,a,l,u,c){if(e[t]!==s[o])return Number.MIN_SAFE_INTEGER;let d=1,h=!1;return o===t-i?d=n[t]===r[o]?7:5:Tx(o,r,s)&&(o===0||!Tx(o-1,r,s))?(d=n[t]===r[o]?7:5,h=!0):$T(s,o)&&(o===0||!$T(s,o-1))?d=5:($T(s,o-1)||Jie(s,o-1))&&(d=5,h=!0),d>1&&t===i&&(c[0]=!0),h||(h=Tx(o,r,s)||$T(s,o-1)||Jie(s,o-1)),t===i?o>l&&(d-=h?3:5):u?d+=h?2:0:d+=h?0:1,o+1===a&&(d-=h?3:5),d}function Wvt(n,e,t,i,r,s,o){return Hvt(n,e,t,i,r,s,!0,o)}function Hvt(n,e,t,i,r,s,o,a){let l=tw(n,e,t,i,r,s,a);if(l&&!o)return l;if(n.length>=3){const u=Math.min(7,n.length-1);for(let c=t+1;c<u;c++){const d=zvt(n,c);if(d){const h=tw(d,d.toLowerCase(),t,i,r,s,a);h&&(h[0]-=3,(!l||h[0]>l[0])&&(l=h))}}}return l}function zvt(n,e){if(e+1>=n.length)return;const t=n[e],i=n[e+1];if(t!==i)return n.slice(0,e)+i+t+n.slice(e+2)}const cL="$(",kK=new RegExp(`\\$\\(${ia.iconNameExpression}(?:${ia.iconModifierExpression})?\\)`,"g"),Uvt=new RegExp(ia.iconNameCharacter),jvt=new RegExp(`(\\\\)?${kK.source}`,"g");function Kvt(n){return n.replace(jvt,(e,t)=>t?e:`\\${e}`)}const Gvt=new RegExp(`\\\\${kK.source}`,"g");function qvt(n){return n.replace(Gvt,e=>`\\${e}`)}const Yvt=new RegExp(`(\\s)?(\\\\)?${kK.source}(\\s)?`,"g");function EK(n){return n.indexOf(cL)===-1?n:n.replace(Yvt,(e,t,i,r)=>i?e:t||r||"")}function VT(n){const e=n.indexOf(cL);return e===-1?{text:n}:Xvt(n,e)}function Xvt(n,e){const t=[];let i="";function r(h){if(h){i+=h;for(const f of h)t.push(a)}}let s=-1,o="",a=0,l,u,c=e;const d=n.length;for(r(n.substr(0,e));c<d;)l=n[c],u=n[c+1],l===cL[0]&&u===cL[1]?(s=c,r(o),o=cL,c++):l===")"&&s!==-1?(a+=c-s+1,s=-1,o=""):s!==-1?Uvt.test(l)?o+=l:(r(o),s=-1,o=""):r(l),c++;return r(o),{text:i,iconOffsets:t}}function WT(n,e,t=!1){const{text:i,iconOffsets:r}=e;if(!r||r.length===0)return Qie(n,i,t);const s=XU(i," "),o=i.length-s.length,a=Qie(n,s,t);if(a)for(const l of a){const u=r[l.start+o]+o;l.start+=u,l.end+=u}return a}const T$=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,D8=/(&amp;)?(&amp;)([^\s&])/g;var eR;(function(n){n[n.Right=0]="Right",n[n.Left=1]="Left"})(eR||(eR={}));class iy extends sf{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const r=document.createElement("div");r.classList.add("monaco-menu"),r.setAttribute("role","presentation");super(r,{orientation:1,actionViewItemProvider:a=>this.doGetActionViewItem(a,i,s),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...kn||Ao?[10]:[]],keyDown:!0}});this.menuElement=r,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new it),this.initializeOrUpdateStyleSheet(e,{}),this._register(hi.addTarget(r)),nt(r,Bt.KEY_DOWN,a=>{new Yi(a).equals(2)&&a.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(nt(r,Bt.KEY_DOWN,a=>{const l=a.key.toLocaleLowerCase();if(this.mnemonics.has(l)){ui.stop(a,!0);const u=this.mnemonics.get(l);if(u.length===1&&(u[0]instanceof ere&&u[0].container&&this.focusItemByElement(u[0].container),u[0].onClick(a)),u.length>1){const c=u.shift();c&&c.container&&(this.focusItemByElement(c.container),u.push(c)),this.mnemonics.set(l,u)}}})),Ao&&this._register(nt(r,Bt.KEY_DOWN,a=>{const l=new Yi(a);l.equals(14)||l.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ui.stop(a,!0)):(l.equals(13)||l.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ui.stop(a,!0))})),this._register(nt(this.domNode,Bt.MOUSE_OUT,a=>{let l=a.relatedTarget;Eg(l,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),a.stopPropagation())})),this._register(nt(this.actionsList,Bt.MOUSE_OVER,a=>{let l=a.target;if(!(!l||!Eg(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(l),u!==this.focusedItem&&this.updateFocus()}}})),this._register(hi.addTarget(this.actionsList)),this._register(nt(this.actionsList,$i.Tap,a=>{let l=a.initialTarget;if(!(!l||!Eg(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(l),u!==this.focusedItem&&this.updateFocus()}}}));let s={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new dD(r,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const o=this.scrollableElement.getDomNode();o.style.position="",this._register(nt(r,$i.Change,a=>{ui.stop(a,!0);const l=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:l-a.translationY})})),this._register(nt(o,Bt.MOUSE_UP,a=>{a.preventDefault()})),r.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(a=>{var l;return((l=i.submenuIds)===null||l===void 0?void 0:l.has(a.id))?(console.warn(`Found submenu cycle: ${a.id}`),!1):!0}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(a=>!(a instanceof I8)).forEach((a,l,u)=>{a.updatePositionInSet(l+1,u.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(r4(e)?this.styleSheet=$u(e):(iy.globalStyleSheet||(iy.globalStyleSheet=$u()),this.styleSheet=iy.globalStyleSheet)),this.styleSheet.textContent=Qvt(t)}style(e){const t=this.getContainer();this.initializeOrUpdateStyleSheet(t,e);const i=e.foregroundColor?`${e.foregroundColor}`:"",r=e.backgroundColor?`${e.backgroundColor}`:"",s=e.borderColor?`1px solid ${e.borderColor}`:"",o=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=s,this.domNode.style.color=i,this.domNode.style.backgroundColor=r,t.style.boxShadow=o,this.viewItems&&this.viewItems.forEach(a=>{(a instanceof N$||a instanceof I8)&&a.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){let i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof xu)return new I8(t.context,e,{icon:!0});if(e instanceof s4){const r=new ere(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const s=r.getMnemonic();if(s&&r.isEnabled()){let o=[];this.mnemonics.has(s)&&(o=this.mnemonics.get(s)),o.push(r),this.mnemonics.set(s,o)}}return r}else{const r={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const o=t.getKeyBinding(e);if(o){const a=o.getLabel();a&&(r.keybinding=a)}}const s=new N$(t.context,e,r);if(t.enableMnemonics){const o=s.getMnemonic();if(o&&s.isEnabled()){let a=[];this.mnemonics.has(o)&&(a=this.mnemonics.get(o)),a.push(s),this.mnemonics.set(o,a)}}return s}}}class N$ extends yh{constructor(e,t,i={}){i.isMenu=!0;super(t,t,i);if(this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){let r=this.getAction().label;if(r){let s=T$.exec(r);s&&(this.mnemonic=(s[1]?s[1]:s[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ni(()=>{!this.element||(this._register(nt(this.element,Bt.MOUSE_UP,r=>{if(ui.stop(r,!0),Ul){if(new Lu(r).rightButton)return;this.onClick(r)}else setTimeout(()=>{this.onClick(r)},0)})),this._register(nt(this.element,Bt.CONTEXT_MENU,r=>{ui.stop(r,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),!!this.element&&(this.container=e,this.item=qe(this.element,et("a.action-menu-item")),this._action.id===xu.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=qe(this.item,et("span.menu-item-check"+k.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=qe(this.item,et("span.action-label")),this.options.label&&this.options.keybinding&&(qe(this.item,et("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(!!this.label&&this.options.label){_s(this.label);let e=EK(this.getAction().label);if(e){const t=Zvt(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const i=T$.exec(e);if(i){e=YU(e),D8.lastIndex=0;let r=D8.exec(e);for(;r&&r[1];)r=D8.exec(e);const s=o=>o.replace(/&amp;&amp;/g,"&amp;");r?this.label.append(XU(s(e.substr(0,r.index))," "),et("u",{"aria-hidden":"true"},r[3]),zge(s(e.substr(r.index+r[0].length))," ")):this.label.innerText=s(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.getAction().checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,r=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=r)}style(e){this.menuStyle=e,this.applyStyle()}}class ere extends N${constructor(e,t,i,r){super(e,e,r);this.submenuActions=t,this.parentData=i,this.submenuOptions=r,this.mysubmenu=null,this.submenuDisposables=this._register(new it),this.mouseOver=!1,this.expandDirection=r&&r.expandDirection!==void 0?r.expandDirection:eR.Right,this.showScheduler=new Ni(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Ni(()=>{this.element&&!Eg(jC(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=qe(this.item,et("span.submenu-indicator"+k.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(nt(this.element,Bt.KEY_UP,t=>{let i=new Yi(t);(i.equals(17)||i.equals(3))&&(ui.stop(t,!0),this.createSubmenu(!0))})),this._register(nt(this.element,Bt.KEY_DOWN,t=>{let i=new Yi(t);jC()===this.item&&(i.equals(17)||i.equals(3))&&ui.stop(t,!0)})),this._register(nt(this.element,Bt.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(nt(this.element,Bt.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(nt(this.element,Bt.FOCUS_OUT,t=>{this.element&&!Eg(jC(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(e){ui.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,r){const s={top:0,left:0};return s.left=CC(e.width,t.width,{position:r===eR.Right?0:1,offset:i.left,size:i.width}),s.left>=i.left&&s.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(s.left=i.left+10),i.top+=10,i.height=0),s.top=CC(e.height,t.height,{position:0,offset:i.top,size:0}),s.top+t.height===i.top&&s.top+i.height+t.height<=e.height&&(s.top+=i.height),s}createSubmenu(e=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=qe(this.element,et("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new iy(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new o4],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const r=this.element.getBoundingClientRect(),s={top:r.top-i,left:r.left,height:r.height+2*i,width:r.width},o=this.submenuContainer.getBoundingClientRect(),{top:a,left:l}=this.calculateSubmenuMenuLayout(new Ei(window.innerWidth,window.innerHeight),Ei.lift(o),s,this.expandDirection);this.submenuContainer.style.left=`${l-o.left}px`,this.submenuContainer.style.top=`${a-o.top}px`,this.submenuDisposables.add(nt(this.submenuContainer,Bt.KEY_UP,u=>{new Yi(u).equals(15)&&(ui.stop(u,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(nt(this.submenuContainer,Bt.KEY_DOWN,u=>{new Yi(u).equals(15)&&ui.stop(u,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t?`${t}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class I8 extends Vk{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}function Zvt(n){const e=T$,t=e.exec(n);if(!t)return n;const i=!t[1];return n.replace(e,i?"$2$3":"").trim()}function Qvt(n){let e=`
.monaco-menu {
	font-size: 13px;

}

${Xie(k.menuSelection)}
${Xie(k.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
`;const t=n.scrollbarShadow;t&&(e+=`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);const i=n.scrollbarSliderBackground;i&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);const r=n.scrollbarSliderHoverBackground;r&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${r};
			}
		`);const s=n.scrollbarSliderActiveBackground;return s&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${s};
			}
		`),e}function ad(n,e){const t=Object.create(null);for(let i in e){const r=e[i];r&&(t[i]=Gf(r,n))}return t}function DK(n,e,t){function i(){const r=ad(n.getColorTheme(),e);typeof t=="function"?t(r):t.style(r)}return i(),n.onDidColorThemeChange(i)}function Jvt(n,e,t){return DK(e,{badgeBackground:(t==null?void 0:t.badgeBackground)||G2,badgeForeground:(t==null?void 0:t.badgeForeground)||q2,badgeBorder:rr},n)}function U_(n,e,t){return DK(e,Object.assign(Object.assign({},P4),t||{}),n)}const P4={listFocusBackground:ndt,listFocusForeground:idt,listFocusOutline:rdt,listActiveSelectionBackground:Dm,listActiveSelectionForeground:Im,listActiveSelectionIconForeground:Cx,listFocusAndSelectionBackground:Dm,listFocusAndSelectionForeground:Im,listInactiveSelectionBackground:sdt,listInactiveSelectionIconForeground:adt,listInactiveSelectionForeground:odt,listInactiveFocusBackground:ldt,listInactiveFocusOutline:udt,listHoverBackground:cdt,listHoverForeground:ddt,listDropBackground:hdt,listSelectionOutline:Go,listHoverOutline:Go,listFilterWidgetBackground:fdt,listFilterWidgetOutline:gdt,listFilterWidgetNoMatchesOutline:pdt,listMatchesShadow:Qm,treeIndentGuidesStroke:mdt,tableColumnsBorder:vdt,tableOddRowsBackgroundColor:_dt},e0t={shadowColor:Qm,borderColor:bdt,foregroundColor:Cdt,backgroundColor:ydt,selectionForegroundColor:wdt,selectionBackgroundColor:Sdt,selectionBorderColor:Ldt,separatorColor:kdt,scrollbarShadow:Hw,scrollbarSliderBackground:GC,scrollbarSliderHoverBackground:qC,scrollbarSliderActiveBackground:YC};function t0t(n,e,t){return DK(e,Object.assign(Object.assign({},e0t),t),n)}class n0t{constructor(e,t,i,r,s){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=r,this.themeService=s,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i,r=Wpe(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:s=>{let o=e.getMenuClassName?e.getMenuClassName():"";o&&(s.className+=" "+o),this.options.blockMouse&&(this.block=s.appendChild(et(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",nt(this.block,Bt.MOUSE_DOWN,u=>u.stopPropagation()));const a=new it,l=e.actionRunner||new jy;return l.onBeforeRun(this.onActionRun,this,a),l.onDidRun(this.onDidActionRun,this,a),i=new iy(s,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:u=>this.keybindingService.lookupKeybinding(u.id)}),a.add(t0t(i,this.themeService)),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add(nt(window,Bt.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(nt(window,Bt.MOUSE_DOWN,u=>{if(u.defaultPrevented)return;let c=new Lu(u),d=c.target;if(!c.rightButton){for(;d;){if(d===s)return;d=d.parentElement}this.contextViewService.hideContextView(!0)}})),vm(a,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:s=>{e.onHide&&e.onHide(!!s),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},r,!!r)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!pf(e.error)&&this.notificationService.error(e.error)}}var i0t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},VS=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let x$=class extends ze{constructor(e,t,i,r,s){super();this._onDidShowContextMenu=new Le,this._onDidHideContextMenu=new Le,this.contextMenuHandler=new n0t(i,e,t,r,s)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{e.onHide&&e.onHide(t),this._onDidHideContextMenu.fire()}})),$0.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};x$=i0t([VS(0,mf),VS(1,Kr),VS(2,fD),VS(3,Dr),VS(4,Ki)],x$);function M$(n){let e=JSON.parse(n);return e=A$(e),e}function A$(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return zt.revive(n);case 2:return new RegExp(n.source,n.flags);case 14:return new Date(n.source)}if(n instanceof qO||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=A$(n[t],e+1);else for(const t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=A$(n[t],e+1))}return n}var tR;(function(n){n[n.API=0]="API",n[n.USER=1]="USER"})(tR||(tR={}));var tre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const Ku=Pn("openerService"),r0t=Object.freeze({_serviceBrand:void 0,registerOpener(){return ze.None},registerValidator(){return ze.None},registerExternalUriResolver(){return ze.None},setDefaultExternalOpener(){},registerExternalOpener(){return ze.None},open(){return tre(this,void 0,void 0,function*(){return!1})},resolveExternalUri(n){return tre(this,void 0,void 0,function*(){return{resolved:n,dispose(){}}})}});function Uve(n,e){return zt.isUri(n)?cC(n.scheme,e):QU(n,e+":")}function nre(n,...e){return e.some(t=>Uve(n,t))}function s0t(n){let e;const t=/^L?(\d+)(?:,(\d+))?/.exec(n.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1}),e}var IK=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},nR=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},y0=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let R$=class{constructor(e){this._commandService=e}open(e,t){return y0(this,void 0,void 0,function*(){if(!Uve(e,on.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof e=="string"&&(e=zt.parse(e));let i=[];try{i=M$(decodeURIComponent(e.query))}catch{try{i=M$(e.query)}catch{}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0})}};R$=IK([nR(0,Pr)],R$);let O$=class{constructor(e){this._editorService=e}open(e,t){return y0(this,void 0,void 0,function*(){typeof e=="string"&&(e=zt.parse(e));const i=s0t(e);return i&&(e=e.with({fragment:""})),e.scheme===on.file&&(e=yft(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,context:(t==null?void 0:t.fromUserGesture)?tR.USER:tR.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};O$=IK([nR(0,ci)],O$);let P$=class{constructor(e,t){this._openers=new Ml,this._validators=new Ml,this._resolvers=new Ml,this._resolvedUriTargets=new na(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Ml,this._defaultExternalOpener={openExternal:i=>y0(this,void 0,void 0,function*(){return nre(i,on.http,on.https)?zpe(i):window.location.href=i,!0})},this._openers.push({open:(i,r)=>y0(this,void 0,void 0,function*(){return(r==null?void 0:r.openExternal)||nre(i,on.mailto,on.http,on.https,on.vsls)?(yield this._doOpenExternal(i,r),!0):!1})}),this._openers.push(new R$(t)),this._openers.push(new O$(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return y0(this,void 0,void 0,function*(){const r=typeof e=="string"?zt.parse(e):e,s=(i=this._resolvedUriTargets.get(r))!==null&&i!==void 0?i:e;for(const o of this._validators)if(!(yield o.shouldOpen(s)))return!1;for(const o of this._openers)if(yield o.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return y0(this,void 0,void 0,function*(){for(const i of this._resolvers)try{const r=yield i.resolveExternalUri(e,t);if(r)return this._resolvedUriTargets.has(r.resolved)||this._resolvedUriTargets.set(r.resolved,e),r}catch{}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return y0(this,void 0,void 0,function*(){const i=typeof e=="string"?zt.parse(e):e;let r;try{r=(yield this.resolveExternalUri(i,t)).resolved}catch{r=i}let s;if(typeof e=="string"&&i.toString()===r.toString()?s=e:s=encodeURI(r.toString(!0)),t==null?void 0:t.allowContributedOpeners){const o=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(yield a.openExternal(s,{sourceUri:i,preferredOpenerId:o},En.None))return!0}return this._defaultExternalOpener.openExternal(s,{sourceUri:i},En.None)})}dispose(){this._validators.clear()}};P$=IK([nR(0,ci),nR(1,Pr)],P$);var hr;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(hr||(hr={}));(function(n){function e(o,a){return a-o}n.compare=e;const t=Object.create(null);t[n.Error]=L("sev.error","Error"),t[n.Warning]=L("sev.warning","Warning"),t[n.Info]=L("sev.info","Info");function i(o){return t[o]||""}n.toString=i;function r(o){switch(o){case cr.Error:return n.Error;case cr.Warning:return n.Warning;case cr.Info:return n.Info;case cr.Ignore:return n.Hint}}n.fromSeverity=r;function s(o){switch(o){case n.Error:return cr.Error;case n.Warning:return cr.Warning;case n.Info:return cr.Info;case n.Hint:return cr.Ignore}}n.toSeverity=s})(hr||(hr={}));var iR;(function(n){const e="";function t(r){return i(r,!0)}n.makeKey=t;function i(r,s){let o=[e];return r.source?o.push(r.source.replace("\xA6","\\\xA6")):o.push(e),r.code?typeof r.code=="string"?o.push(r.code.replace("\xA6","\\\xA6")):o.push(r.code.value.replace("\xA6","\\\xA6")):o.push(e),r.severity!==void 0&&r.severity!==null?o.push(hr.toString(r.severity)):o.push(e),r.message&&s?o.push(r.message.replace("\xA6","\\\xA6")):o.push(e),r.startLineNumber!==void 0&&r.startLineNumber!==null?o.push(r.startLineNumber.toString()):o.push(e),r.startColumn!==void 0&&r.startColumn!==null?o.push(r.startColumn.toString()):o.push(e),r.endLineNumber!==void 0&&r.endLineNumber!==null?o.push(r.endLineNumber.toString()):o.push(e),r.endColumn!==void 0&&r.endColumn!==null?o.push(r.endColumn.toString()):o.push(e),o.push(e),o.join("\xA6")}n.makeKeyOptionalMessage=i})(iR||(iR={}));const op=Pn("markerService");var o0t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ire=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class a0t extends ze{constructor(e){super();this.model=e,this._markersData=new Map,this._register(_n(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const r=this.model.deltaDecorations(i,t);for(let s=0;s<r.length;s++)this._markersData.set(r[s],e[s]);return i.length!==0||r.length!==0}getMarker(e){return this._markersData.get(e.id)}}let F$=class extends ze{constructor(e,t){super();this._markerService=t,this._onDidChangeMarker=this._register(new Le),this._markerDecorations=new na,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new a0t(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===on.inMemory||e.uri.scheme===on.internal||e.uri.scheme===on.vscode)&&this._markerService&&this._markerService.read({resource:e.uri}).map(i=>i.owner).forEach(i=>this._markerService.remove(i,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500}),i=t.map(r=>({range:this._createDecorationRange(e.model,r),options:this._createDecorationOption(r)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=Y.lift(t);return t.severity===hr.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),e.validateRange(i)}_createDecorationOption(e){let t,i,r,s,o;switch(e.severity){case hr.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",r=0;break;case hr.Warning:t="squiggly-warning",i=wr(Tht),r=20,o={color:wr(Ddt),position:Nu.Inline};break;case hr.Info:t="squiggly-info",i=wr(Nht),r=10;break;case hr.Error:default:t="squiggly-error",i=wr(Iht),r=30,o={color:wr(Edt),position:Nu.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(s="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(s="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:Pu.Right},minimap:o,zIndex:r,inlineClassName:s}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}};F$=o0t([ire(0,sr),ire(1,op)],F$);class dL{constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(e,t){return new dL(e,new rR(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){const e=this._tokens.getRange();return e&&new Y(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[r,s,o]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new dL(this._startLineNumber,r),new dL(this._startLineNumber+o,s)]}applyEdit(e,t){const[i,r,s]=W_(t);this.acceptEdit(e,i,r,s,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,r,s){this._acceptDeleteRange(e),this._acceptInsertText(new Ae(e.startLineNumber,e.startColumn),t,i,r,s),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){const s=i-t;this._startLineNumber-=s;return}const r=this._tokens.getMaxDeltaLine();if(!(t>=r+1)){if(t<0&&i>=r+1){this._startLineNumber=0,this._tokens.clear();return}if(t<0){const s=-t;this._startLineNumber-=s,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,r,s){if(t===0&&i===0)return;const o=e.lineNumber-this._startLineNumber;if(o<0){this._startLineNumber+=t;return}const a=this._tokens.getMaxDeltaLine();o>=a+1||this._tokens.acceptInsertText(o,e.column-1,t,i,r,s)}}class rR{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){const t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(e===0)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),r=this._getEndCharacter(e-1);return new Y(0,t+1,i,r+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const r=t+Math.floor((i-t)/2),s=this._getDeltaLine(r);if(s<e)t=r+1;else if(s>e)i=r-1;else{let o=r;for(;o>t&&this._getDeltaLine(o-1)===e;)o--;let a=r;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new rre(this._tokens.subarray(4*o,4*a+4))}}return this._getDeltaLine(t)===e?new rre(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,r){const s=this._tokens,o=this._tokenCount;let a=0,l=!1,u=0;for(let c=0;c<o;c++){const d=4*c,h=s[d],f=s[d+1],g=s[d+2],p=s[d+3];if((h>e||h===e&&g>=t)&&(h<i||h===i&&f<=r))l=!0;else{if(a===0&&(u=h),l){const m=4*a;s[m]=h-u,s[m+1]=f,s[m+2]=g,s[m+3]=p}a++}}return this._tokenCount=a,u}split(e,t,i,r){const s=this._tokens,o=this._tokenCount,a=[],l=[];let u=a,c=0,d=0;for(let h=0;h<o;h++){const f=4*h,g=s[f],p=s[f+1],m=s[f+2],b=s[f+3];if(g>e||g===e&&m>=t){if(g<i||g===i&&p<=r)continue;u!==l&&(u=l,c=0,d=g)}u[c++]=g-d,u[c++]=p,u[c++]=m,u[c++]=b}return[new rR(new Uint32Array(a)),new rR(new Uint32Array(l)),d]}acceptDeleteRange(e,t,i,r,s){const o=this._tokens,a=this._tokenCount,l=r-t;let u=0,c=!1;for(let d=0;d<a;d++){const h=4*d;let f=o[h],g=o[h+1],p=o[h+2];const m=o[h+3];if(f<t||f===t&&p<=i){u++;continue}else if(f===t&&g<i)f===r&&p>s?p-=s-i:p=i;else if(f===t&&g===i)if(f===r&&p>s)p-=s-i;else{c=!0;continue}else if(f<r||f===r&&g<s)if(f===r&&p>s)f===t?(g=i,p=g+(p-s)):(g=0,p=g+(p-s));else{c=!0;continue}else if(f>r){if(l===0&&!c){u=a;break}f-=l}else if(f===r&&g>=s)e&&f===0&&(g+=e,p+=e),f-=l,g-=s-i,p-=s-i;else throw new Error("Not possible!");const b=4*u;o[b]=f,o[b+1]=g,o[b+2]=p,o[b+3]=m,u++}this._tokenCount=u}acceptInsertText(e,t,i,r,s,o){const a=i===0&&r===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),l=this._tokens,u=this._tokenCount;for(let c=0;c<u;c++){const d=4*c;let h=l[d],f=l[d+1],g=l[d+2];if(!(h<e||h===e&&g<t)){if(h===e&&g===t)if(a)g+=1;else continue;else if(h===e&&f<t&&t<g)i===0?g+=r:g=t;else{if(h===e&&f===t&&a)continue;if(h===e)if(h+=i,i===0)f+=r,g+=r;else{const p=g-f;f=s+(f-t),g=f+p}else h+=i}l[d]=h,l[d+1]=f,l[d+2]=g}}}}class rre{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}var l0t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},T8=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let B$=class{constructor(e,t,i,r){this._legend=e,this._themeService=t,this._languageService=i,this._logService=r,this._hashTable=new sg,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){const r=this._languageService.languageIdCodec.encodeLanguageId(i),s=this._hashTable.get(e,t,r);let o;if(s)o=s.metadata,this._logService.getLevel()===vd.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${ko.getForeground(o)}, fontStyle ${ko.getFontStyle(o).toString(2)}`);else{let a=this._legend.tokenTypes[e];const l=[];if(a){let u=t;for(let d=0;u>0&&d<this._legend.tokenModifiers.length;d++)u&1&&l.push(this._legend.tokenModifiers[d]),u=u>>1;u>0&&this._logService.getLevel()===vd.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const c=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);typeof c=="undefined"?o=2147483647:(o=0,typeof c.italic!="undefined"&&(o|=(c.italic?1:0)<<10|1),typeof c.bold!="undefined"&&(o|=(c.bold?2:0)<<10|2),typeof c.underline!="undefined"&&(o|=(c.underline?4:0)<<10|4),typeof c.strikethrough!="undefined"&&(o|=(c.strikethrough?8:0)<<10|8),c.foreground&&(o|=c.foreground<<14|16),o===0&&(o=2147483647))}else this._logService.getLevel()===vd.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),o=2147483647,a="not-in-legend";this._hashTable.add(e,t,r,o),this._logService.getLevel()===vd.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${ko.getForeground(o)}, fontStyle ${ko.getFontStyle(o).toString(2)}`)}return o}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};B$=l0t([T8(1,Ki),T8(2,fr),T8(3,Uc)],B$);function jve(n,e,t){const i=n.data,r=n.data.length/5|0,s=Math.max(Math.ceil(r/1024),400),o=[];let a=0,l=1,u=0;for(;a<r;){const c=a;let d=Math.min(c+s,r);if(d<r){let C=d;for(;C-1>c&&i[5*C]===0;)C--;if(C-1===c){let w=d;for(;w+1<r&&i[5*w]===0;)w++;d=w}else d=C}let h=new Uint32Array((d-c)*4),f=0,g=0,p=0,m=0,b=0;for(;a<d;){const C=5*a,w=i[C],S=i[C+1],D=l+w|0,E=w===0?u+S|0:S,I=i[C+2],T=i[C+3],M=i[C+4],A=e.getMetadata(T,M,t);A!==2147483647&&(g===0&&(g=D),p===D&&b>E&&(e.warnOverlappingSemanticTokens(D,E+1),m<E?h[f-4+2]=E:f-=4),h[f]=D-g,h[f+1]=E,h[f+2]=E+I,h[f+3]=A,f+=4,p=D,m=E,b=E+I),l=D,u=E,a++}f!==h.length&&(h=h.subarray(0,f));const _=dL.create(g,h);o.push(_)}return o}class u0t{constructor(e,t,i,r){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=r,this.next=null}}class sg{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=sg._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<sg._SIZES.length?2/3*this._currentLength:0),this._elements=[],sg._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const r=this._hashFunc(e,t,i);let s=this._elements[r];for(;s;){if(s.tokenTypeIndex===e&&s.tokenModifierSet===t&&s.languageId===i)return s;s=s.next}return null}add(e,t,i,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const s=this._elements;this._currentLengthIndex++,this._currentLength=sg._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<sg._SIZES.length?2/3*this._currentLength:0),this._elements=[],sg._nullOutEntries(this._elements,this._currentLength);for(const o of s){let a=o;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new u0t(e,t,i,r))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}sg._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];function c0t(n){for(let e=0,t=n.length;e<t;e+=4){const i=n[e+0],r=n[e+1],s=n[e+2],o=n[e+3];n[e+0]=o,n[e+1]=s,n[e+2]=r,n[e+3]=i}}function d0t(n){const e=new Uint8Array(n.buffer,n.byteOffset,n.length*4);return pge()||c0t(e),qO.wrap(e)}function Kve(n){const e=new Uint32Array(h0t(n));let t=0;if(e[t++]=n.id,n.type==="full")e[t++]=1,e[t++]=n.data.length,e.set(n.data,t),t+=n.data.length;else{e[t++]=2,e[t++]=n.deltas.length;for(const i of n.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return d0t(e)}function h0t(n){let e=0;if(e+=1+1,n.type==="full")e+=1+n.data.length;else{e+=1,e+=(1+1+1)*n.deltas.length;for(const t of n.deltas)t.data&&(e+=t.data.length)}return e}var rv=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function F4(n){return n&&!!n.data}function Gve(n){return n&&Array.isArray(n.edits)}class f0t{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function qve(n){return o_.has(n)}function g0t(n){const e=o_.orderedGroups(n);return e.length>0?e[0]:[]}function Yve(n,e,t,i){return rv(this,void 0,void 0,function*(){const r=g0t(n),s=yield Promise.all(r.map(o=>rv(this,void 0,void 0,function*(){let a,l=null;try{a=yield o.provideDocumentSemanticTokens(n,o===e?t:null,i)}catch(u){l=u,a=null}return(!a||!F4(a)&&!Gve(a))&&(a=null),new f0t(o,a,l)})));for(const o of s){if(o.error)throw o.error;if(o.tokens)return o}return s.length>0?s[0]:null})}function p0t(n){const e=o_.orderedGroups(n);return e.length>0?e[0]:null}class m0t{constructor(e,t){this.provider=e,this.tokens=t}}function v0t(n){return vk.has(n)}function Xve(n){const e=vk.orderedGroups(n);return e.length>0?e[0]:[]}function TK(n,e,t){return rv(this,void 0,void 0,function*(){const i=Xve(n),r=yield Promise.all(i.map(s=>rv(this,void 0,void 0,function*(){let o;try{o=yield s.provideDocumentRangeSemanticTokens(n,e,t)}catch(a){Ys(a),o=null}return(!o||!F4(o))&&(o=null),new m0t(s,o)})));for(const s of r)if(s.tokens)return s;return r.length>0?r[0]:null})}Vn.registerCommand("_provideDocumentSemanticTokensLegend",(n,...e)=>rv(void 0,void 0,void 0,function*(){const[t]=e;Ii(t instanceof zt);const i=n.get(sr).getModel(t);if(!i)return;const r=p0t(i);return r?r[0].getLegend():n.get(Pr).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}));Vn.registerCommand("_provideDocumentSemanticTokens",(n,...e)=>rv(void 0,void 0,void 0,function*(){const[t]=e;Ii(t instanceof zt);const i=n.get(sr).getModel(t);if(!i)return;if(!qve(i))return n.get(Pr).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const r=yield Yve(i,null,null,En.None);if(!r)return;const{provider:s,tokens:o}=r;if(!o||!F4(o))return;const a=Kve({id:0,type:"full",data:o.data});return o.resultId&&s.releaseDocumentSemanticTokens(o.resultId),a}));Vn.registerCommand("_provideDocumentRangeSemanticTokensLegend",(n,...e)=>rv(void 0,void 0,void 0,function*(){const[t,i]=e;Ii(t instanceof zt);const r=n.get(sr).getModel(t);if(!r)return;const s=Xve(r);if(s.length===0)return;if(s.length===1)return s[0].getLegend();if(!i||!Y.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();const o=yield TK(r,Y.lift(i),En.None);if(!!o)return o.provider.getLegend()}));Vn.registerCommand("_provideDocumentRangeSemanticTokens",(n,...e)=>rv(void 0,void 0,void 0,function*(){const[t,i]=e;Ii(t instanceof zt),Ii(Y.isIRange(i));const r=n.get(sr).getModel(t);if(!r)return;const s=yield TK(r,Y.lift(i),En.None);if(!(!s||!s.tokens))return Kve({id:0,type:"full",data:s.tokens.data})}));var NK=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ll=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function Np(n){return n.toString()}function sre(n){const e=new JO,t=n.createSnapshot();let i;for(;i=t.read();)e.update(i);return e.digest()}class _0t{constructor(e,t,i){this._modelEventListeners=new it,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>i(e,r)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}}const b0t=Ao||kn?1:2;class C0t{constructor(e,t,i,r,s,o,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=r,this.heapSize=s,this.sha1=o,this.versionId=a,this.alternativeVersionId=l}}let sR=class h2 extends ze{constructor(e,t,i,r,s,o,a,l){super();this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=r,this._undoRedoService=s,this._languageService=o,this._languageConfigurationService=a,this._languageFeatureDebounceService=l,this._onModelAdded=this._register(new Le),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Le),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Le),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new y0t(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new V$(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService))}static _readModelOptions(e,t){var i;let r=Wo.tabSize;if(e.editor&&typeof e.editor.tabSize!="undefined"){const f=parseInt(e.editor.tabSize,10);isNaN(f)||(r=f),r<1&&(r=1)}let s=r;if(e.editor&&typeof e.editor.indentSize!="undefined"&&e.editor.indentSize!=="tabSize"){const f=parseInt(e.editor.indentSize,10);isNaN(f)||(s=f),s<1&&(s=1)}let o=Wo.insertSpaces;e.editor&&typeof e.editor.insertSpaces!="undefined"&&(o=e.editor.insertSpaces==="false"?!1:Boolean(e.editor.insertSpaces));let a=b0t;const l=e.eol;l===`\r
`?a=2:l===`
`&&(a=1);let u=Wo.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace!="undefined"&&(u=e.editor.trimAutoWhitespace==="false"?!1:Boolean(e.editor.trimAutoWhitespace));let c=Wo.detectIndentation;e.editor&&typeof e.editor.detectIndentation!="undefined"&&(c=e.editor.detectIndentation==="false"?!1:Boolean(e.editor.detectIndentation));let d=Wo.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations!="undefined"&&(d=e.editor.largeFileOptimizations==="false"?!1:Boolean(e.editor.largeFileOptimizations));let h=Wo.bracketPairColorizationOptions;return((i=e.editor)===null||i===void 0?void 0:i.bracketPairColorization)&&typeof e.editor.bracketPairColorization=="object"&&(h={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:r,indentSize:s,insertSpaces:o,detectIndentation:c,defaultEOL:a,trimAutoWhitespace:u,largeFileOptimizations:d,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:mu===3||mu===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){let r=this._modelCreationOptionsByLanguageAndResource[e+t];if(!r){const s=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:t}),o=this._getEOL(t,e);r=h2._readModelOptions({editor:s,eol:o},i),this._modelCreationOptionsByLanguageAndResource[e+t]=r}return r}_updateModelOptions(){const e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const s=t[i],o=this._models[s],a=o.model.getLanguageId(),l=o.model.uri,u=e[a+l],c=this.getCreationOptions(a,l,o.model.isForSimpleWidget);h2._setModelOptionsForModel(o.model,c,u)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&Tu(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(Np(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(Np(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(Np(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,r)=>i.time-r.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,r){const s=this.getCreationOptions(t,i,r),o=new Vc(e,t,s,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(Np(i))){const u=this._removeDisposedModel(i),c=this._undoRedoService.getElements(i),d=sre(o)===u.sha1;if(d||u.sharesUndoRedoStack){for(const h of c.past)ig(h)&&h.matchesResource(i)&&h.setModel(o);for(const h of c.future)ig(h)&&h.matchesResource(i)&&h.setModel(o);this._undoRedoService.setElementsValidFlag(i,!0,h=>ig(h)&&h.matchesResource(i)),d&&(o._overwriteVersionId(u.versionId),o._overwriteAlternativeVersionId(u.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(u.initialUndoRedoSnapshot))}else u.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(u.initialUndoRedoSnapshot)}const a=Np(o.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new _0t(o,u=>this._onWillDispose(u),(u,c)=>this._onDidChangeLanguage(u,c));return this._models[a]=l,l}createModel(e,t,i,r=!1){let s;return t?(s=this._createModelData(e,t.languageId,i,r),this.setMode(s.model,t)):s=this._createModelData(e,_f,i,r),this._onModelAdded.fire(s.model),s.model}setMode(e,t){if(!t)return;const i=this._models[Np(e.uri)];!i||i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push(this._models[s].model)}return e}getModel(e){const t=Np(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===on.file||e.scheme===on.vscodeRemote||e.scheme===on.userData||e.scheme===on.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=Np(e.uri),i=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const l=this._undoRedoService.getElements(e.uri);if(l.past.length>0||l.future.length>0){for(const u of l.past)ig(u)&&u.matchesResource(e.uri)&&(s=!0,o+=u.heapSize(e.uri),u.setModel(e.uri));for(const u of l.future)ig(u)&&u.matchesResource(e.uri)&&(s=!0,o+=u.heapSize(e.uri),u.setModel(e.uri))}}const a=h2.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(s)if(!r&&o>a){const l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}else this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(e.uri,!1,l=>ig(l)&&l.matchesResource(e.uri)),this._insertDisposedModel(new C0t(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,sre(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!r){const l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,r=e.getLanguageId(),s=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),o=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);h2._setModelOptionsForModel(e,o,s),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}};sR.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;sR=NK([Ll(0,Mi),Ll(1,Spe),Ll(2,Ki),Ll(3,Uc),Ll(4,k4),Ll(5,fr),Ll(6,fo),Ll(7,sp)],sR);const xK="editor.semanticHighlighting";function $$(n,e,t){var i;const r=(i=t.getValue(xK,{overrideIdentifier:n.getLanguageId(),resource:n.uri}))===null||i===void 0?void 0:i.enabled;return typeof r=="boolean"?r:e.getColorTheme().semanticHighlighting}let V$=class extends ze{constructor(e,t,i,r,s){super();this._watchers=Object.create(null),this._semanticStyling=e;const o=u=>{this._watchers[u.uri.toString()]=new Kk(u,this._semanticStyling,i,s)},a=(u,c)=>{c.dispose(),delete this._watchers[u.uri.toString()]},l=()=>{for(let u of t.getModels()){const c=this._watchers[u.uri.toString()];$$(u,i,r)?c||o(u):c&&a(u,c)}};this._register(t.onModelAdded(u=>{$$(u,i,r)&&o(u)})),this._register(t.onModelRemoved(u=>{const c=this._watchers[u.uri.toString()];c&&a(u,c)})),this._register(r.onDidChangeConfiguration(u=>{u.affectsConfiguration(xK)&&l()})),this._register(i.onDidColorThemeChange(l))}};V$=NK([Ll(1,sr),Ll(2,Ki),Ll(3,Mi),Ll(4,sp)],V$);class y0t extends ze{constructor(e,t,i){super();this._themeService=e,this._languageService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new B$(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}}class w0t{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let Kk=class u0 extends ze{constructor(e,t,i,r){super();this._isDisposed=!1,this._model=e,this._semanticStyling=t,this._debounceInformation=r.for(o_,"DocumentSemanticTokens",{min:u0.REQUEST_MIN_DELAY,max:u0.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new Ni(()=>this._fetchDocumentSemanticTokensNow(),u0.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const s=()=>{jn(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const o of o_.all(e))typeof o.onDidChange=="function"&&this._documentProvidersChangeListeners.push(o.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};s(),this._register(o_.onDidChange(()=>{s(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(o=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!qve(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const e=new co,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,r=Yve(this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;const s=[],o=this._model.onDidChangeContent(l=>{s.push(l)}),a=new Ou(!1);r.then(l=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,o.dispose(),!l)this._setDocumentSemanticTokens(null,null,null,s);else{const{provider:u,tokens:c}=l,d=this._semanticStyling.get(u);this._setDocumentSemanticTokens(u,c||null,d,s)}},l=>{l&&(pf(l)||typeof l.message=="string"&&l.message.indexOf("busy")!==-1)||Qt(l),this._currentDocumentRequestCancellationTokenSource=null,o.dispose(),s.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[t+o]}_setDocumentSemanticTokens(e,t,i,r){const s=this._currentDocumentResponse,o=()=>{r.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.setSemanticTokens(null,!1);return}if(!t){this._model.setSemanticTokens(null,!0),o();return}if(Gve(t)){if(!s){this._model.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:s.data};else{let a=0;for(const h of t.edits)a+=(h.data?h.data.length:0)-h.deleteCount;const l=s.data,u=new Uint32Array(l.length+a);let c=l.length,d=u.length;for(let h=t.edits.length-1;h>=0;h--){const f=t.edits[h],g=c-(f.start+f.deleteCount);g>0&&(u0._copy(l,c-g,u,d-g,g),d-=g),f.data&&(u0._copy(f.data,0,u,d-f.data.length,f.data.length),d-=f.data.length),c=f.start}c>0&&u0._copy(l,0,u,0,c),t={resultId:t.resultId,data:u}}}if(F4(t)){this._currentDocumentResponse=new w0t(e,t.resultId,t.data);const a=jve(t,i,this._model.getLanguageId());if(r.length>0)for(const l of r)for(const u of a)for(const c of l.changes)u.applyEdit(c.range,c.text);this._model.setSemanticTokens(a,!0)}else this._model.setSemanticTokens(null,!0);o()}};Kk.REQUEST_MIN_DELAY=300;Kk.REQUEST_MAX_DELAY=2e3;Kk=NK([Ll(2,Ki),Ll(3,sp)],Kk);const S0t=new RegExp(`(\\\\)?\\$\\((${ia.iconNameExpression}(?:${ia.iconModifierExpression})?)\\)`,"g");function __(n){const e=new Array;let t,i=0,r=0;for(;(t=S0t.exec(n))!==null;){r=t.index||0,e.push(n.substring(i,r)),i=(t.index||0)+t[0].length;const[,s,o]=t;e.push(s?`$(${o})`:L0t({id:o}))}return i<n.length&&e.push(n.substring(i)),e}function L0t(n){const e=et("span");return e.classList.add(...ia.asClassNameArray(n)),e}const k0t={buttonBackground:We.fromHex("#0E639C"),buttonHoverBackground:We.fromHex("#006BB3"),buttonForeground:We.white};class ore extends ze{constructor(e,t){super();this._onDidClick=this._register(new Le),this.options=t||Object.create(null),gf(this.options,k0t,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(hi.addTarget(this._element)),[Bt.CLICK,$i.Tap].forEach(i=>{this._register(nt(this._element,i,r=>{if(!this.enabled){ui.stop(r);return}this._onDidClick.fire(r)}))}),this._register(nt(this._element,Bt.KEY_DOWN,i=>{const r=new Yi(i);let s=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(i),s=!0):r.equals(9)&&(this._element.blur(),s=!0),s&&ui.stop(r,!0)})),this._register(nt(this._element,Bt.MOUSE_OVER,i=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(nt(this._element,Bt.MOUSE_OUT,i=>{this.applyStyles()})),this.focusTracker=this._register(Uy(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;this.options.secondary?e=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?Ym(this._element,...__(e)):this._element.textContent=e,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}const E0t={badgeBackground:We.fromHex("#4D4D4D"),badgeForeground:We.fromHex("#FFFFFF")};class W${constructor(e,t){this.count=0,this.options=t||Object.create(null),gf(this.options,E0t,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=qe(e,et(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Su(this.countFormat,this.count),this.element.title=Su(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}const are="done",lre="active",N8="infinite",x8="infinite-long-running",ure="discrete",D0t={progressBarBackground:We.fromHex("#0E70C0")};class B4 extends ze{constructor(e,t){super();this.options=t||Object.create(null),gf(this.options,D0t,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new Ni(()=>Il(this.element),0)),this.longRunningScheduler=this._register(new Ni(()=>this.infiniteLongRunning(),B4.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(lre,N8,x8,ure),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(are),this.element.classList.contains(N8)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(ure,are,x8),this.element.classList.add(lre,N8),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(x8)}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}B4.LONG_RUNNING_INFINITE_THRESHOLD=1e4;class MK{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const Zve=new MK("id#");const M8={},I0t=new MK("quick-input-button-icon-");function H$(n){if(!n)return;let e;const t=n.dark.toString();return M8[t]?e=M8[t]:(e=I0t.nextId(),H7(`.${e}`,`background-image: ${O_(n.light||n.dark)}`),H7(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${O_(n.dark)}`),M8[t]=e),e}const T0t={ctrlCmd:!1,alt:!1};var Gk;(function(n){n[n.Blur=1]="Blur",n[n.Gesture=2]="Gesture",n[n.Other=3]="Other"})(Gk||(Gk={}));var od;(function(n){n[n.NONE=0]="NONE",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.LAST=3]="LAST"})(od||(od={}));function N0t(n,e={}){const t=AK(e);return t.textContent=n,t}function Qve(n,e={}){const t=AK(e);return Jve(t,M0t(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function AK(n){const e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}class x0t{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function Jve(n,e,t,i){let r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===7&&i)r=document.createElement("code");else if(e.type===5&&t){const s=document.createElement("a");t.disposables.add(Ks(s,"click",o=>{t.callback(String(e.index),o)})),r=s}else e.type===8?r=document.createElement("br"):e.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(s=>{Jve(r,s,t,i)})}function M0t(n,e){const t={type:1,children:[]};let i=0,r=t;const s=[],o=new x0t(n);for(;!o.eos();){let a=o.next();const l=a==="\\"&&z$(o.peek(),e)!==0;if(l&&(a=o.next()),!l&&A0t(a,e)&&a===o.peek()){o.advance(),r.type===2&&(r=s.pop());const u=z$(a,e);if(r.type===u||r.type===5&&u===6)r=s.pop();else{const c={type:u,children:[]};u===5&&(c.index=i,i++),r.children.push(c),s.push(r),r=c}}else if(a===`
`)r.type===2&&(r=s.pop()),r.children.push({type:8});else if(r.type!==2){const u={type:2,content:a};r.children.push(u),s.push(r),r=u}else r.content+=a}return r.type===2&&(r=s.pop()),t}function A0t(n,e){return z$(n,e)!==0}function z$(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}class R0t{constructor(e,t=0,i=e.length,r=t-1){this.items=e,this.start=t,this.end=i,this.index=r}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class O0t{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new R0t(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const WS=et,P0t={inputBackground:We.fromHex("#3C3C3C"),inputForeground:We.fromHex("#CCCCCC"),inputValidationInfoBorder:We.fromHex("#55AAFF"),inputValidationInfoBackground:We.fromHex("#063B49"),inputValidationWarningBorder:We.fromHex("#B89500"),inputValidationWarningBackground:We.fromHex("#352A05"),inputValidationErrorBorder:We.fromHex("#BE1100"),inputValidationErrorBackground:We.fromHex("#5A1D1D")};class e0e extends jc{constructor(e,t,i){var r;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new Le),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new Le),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),gf(this.options,P0t,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(r=this.options.tooltip)!==null&&r!==void 0?r:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=qe(e,WS(".monaco-inputbox.idle"));let s=this.options.flexibleHeight?"textarea":"input",o=qe(this.element,WS(".ibwrapper"));if(this.input=qe(o,WS(s+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=qe(o,WS("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new ove(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),qe(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(u=>this.input.scrollTop=u.scrollTop));const a=this._register(new Ci(document,"selectionchange")),l=xt.filter(a.event,()=>{const u=document.getSelection();return(u==null?void 0:u.anchorNode)===o});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new sf(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:W7(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return cc(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){const i=parseFloat(this.mirror.style.paddingLeft||"")||0,r=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+r}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=cc(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:r=>{if(!this.message)return null;e=qe(r,WS(".monaco-inputbox-container")),t();const s={inline:!0,className:"monaco-inputbox-message"},o=this.message.formatContent?Qve(this.message.content,s):N0t(this.message.content,s);o.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return o.style.backgroundColor=a.background?a.background.toString():"",o.style.color=a.foreground?a.foreground.toString():"",o.style.border=a.border?`1px solid ${a.border}`:"",qe(e,o),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=L("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=L("alertWarningMessage","Warning: {0}",this.message.content):i=L("alertInfoMessage","Info: {0}",this.message.content),ro(i),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="\xA0",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=W7(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,r=t.selectionEnd,s=t.value;i!==null&&r!==null&&(this.value=s.substr(0,i)+e+s.substr(r),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class t0e extends e0e{constructor(e,t,i){const r=L({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),s=` or \u21C5 ${r}`,o=` (\u21C5 ${r})`;super(e,t,i);this.history=new O0t(i.history,100);const a=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(s)&&!this.placeholder.endsWith(o)&&this.history.getHistory().length){const l=this.placeholder.endsWith(")")?s:o,u=this.placeholder+l;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=u:this.setPlaceHolder(u)}};this.observer=new MutationObserver((l,u)=>{l.forEach(c=>{c.target.textContent||a()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>a()),this.onblur(this.input,()=>{const l=u=>{if(this.placeholder.endsWith(u)){const c=this.placeholder.slice(0,this.placeholder.length-u.length);return i.showPlaceholderOnFocus?this.placeholder=c:this.setPlaceHolder(c),!0}else return!1};l(o)||l(s)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,vA(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,vA(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const F0t=et;class B0t extends ze{constructor(e){super();this.parent=e,this.onKeyDown=t=>nt(this.inputBox.inputElement,Bt.KEY_DOWN,i=>{t(new Yi(i))}),this.onMouseDown=t=>nt(this.inputBox.inputElement,Bt.MOUSE_DOWN,i=>{t(new Lu(i))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=qe(this.parent,F0t(".quick-input-box")),this.inputBox=this._register(new e0e(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return this.inputBox.inputElement.type==="password"}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===cr.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===cr.Info?1:e===cr.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===cr.Info?1:e===cr.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}class j_{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(i=t==null?void 0:t.supportIcons)!==null&&i!==void 0?i:!1,this.domNode=qe(e,et("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",r){e||(e=""),r&&(e=j_.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&Tu(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const o=this.text.substring(t,i.start);e.push(et("span",void 0,...this.supportIcons?__(o):[o])),t=i.end}const r=this.text.substring(i.start,i.end),s=et("span.highlight",void 0,...this.supportIcons?__(r):[r]);i.extraClasses&&s.classList.add(...i.extraClasses),e.push(s),t=i.end}if(t<this.text.length){const i=this.text.substring(t);e.push(et("span",void 0,...this.supportIcons?__(i):[i]))}Ym(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,r=0;return e.replace(/\r\n|\r|\n/g,(s,o)=>{r=s===`\r
`?-1:0,o+=i;for(const a of t)a.end<=o||(a.start>=o&&(a.start+=r),a.end>=o&&(a.end+=r));return i+=r,"\u23CE"})}}class Fd{constructor(e="",t=!1){var i,r,s;if(this.value=e,typeof this.value!="string")throw kd("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=t.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(r=t.supportThemeIcons)!==null&&r!==void 0?r:!1,this.supportHtml=(s=t.supportHtml)!==null&&s!==void 0?s:!1)}appendText(e,t=0){return this.value+=$0t(this.supportThemeIcons?Kvt(e):e).replace(/([ \t]+)/g,(i,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}}function nw(n){return n0e(n)?!n.value:Array.isArray(n)?n.every(nw):!0}function n0e(n){return n instanceof Fd?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function $0t(n){return n.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function A8(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function V0t(n){const e=[],t=n.split("|").map(r=>r.trim());n=t[0];const i=t[1];if(i){const r=/height=(\d+)/.exec(i),s=/width=(\d+)/.exec(i),o=r?r[1]:"",a=s?s[1]:"",l=isFinite(parseInt(a)),u=isFinite(parseInt(o));l&&e.push(`width="${a}"`),u&&e.push(`height="${o}"`)}return{href:n,dimensions:e}}var U$=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function W0t(n,e){Ru(e)?n.title=EK(e):(e==null?void 0:e.markdownNotSupportedFallback)?n.title=e.markdownNotSupportedFallback:n.removeAttribute("title")}class H0t{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t){var i;return U$(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(e===void 0||Ru(e)||e instanceof HTMLElement)r=e;else if(!KM(e.markdown))r=(i=e.markdown)!==null&&i!==void 0?i:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(L("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new co;const s=this._cancellationTokenSource.token;if(r=yield e.markdown(s),this.isDisposed||s.isCancellationRequested)return}this.show(r,t)})}show(e,t){const i=this._hoverWidget;if(this.hasContent(e)){const r={content:e,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!i};this._hoverWidget=this.hoverDelegate.showHover(r,t)}i==null||i.dispose()}hasContent(e){return e?n0e(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}}function z0t(n,e,t){let i,r;const s=(c,d)=>{var h;c&&(r==null||r.dispose(),r=void 0),d&&(i==null||i.dispose(),i=void 0),(h=n.onDidHideHover)===null||h===void 0||h.call(n)},o=(c,d,h)=>new Ra(()=>U$(this,void 0,void 0,function*(){(!r||r.isDisposed)&&(r=new H0t(n,h||e,c>0),yield r.update(t,d))}),c),a=()=>{if(i)return;const c=new it,d=g=>s(!1,g.fromElement===e);c.add(nt(e,Bt.MOUSE_LEAVE,d,!0));const h=()=>s(!0,!0);c.add(nt(e,Bt.MOUSE_DOWN,h,!0));const f={targetElements:[e],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const g=p=>f.x=p.x+10;c.add(nt(e,Bt.MOUSE_MOVE,g,!0))}c.add(o(n.delay,!1,f)),i=c},l=nt(e,Bt.MOUSE_OVER,a,!0);return{show:c=>{s(!1,!0),o(0,c)},hide:()=>{s(!0,!0)},update:c=>U$(this,void 0,void 0,function*(){t=c,yield r==null?void 0:r.update(t)}),dispose:()=>{l.dispose(),s(!0,!0)}}}class R8{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class oR extends ze{constructor(e,t){super();this.customHovers=new Map,this.domNode=this._register(new R8(qe(e,et(".monaco-icon-label")))),this.labelContainer=qe(this.domNode.element,et(".monaco-icon-label-container"));const i=qe(this.labelContainer,et("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new R8(qe(this.labelContainer,et("span.monaco-icon-description-container")))),(t==null?void 0:t.supportHighlights)||(t==null?void 0:t.supportIcons)?this.nameNode=new K0t(i,!!t.supportIcons):this.nameNode=new U0t(i),(t==null?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new j_(qe(this.descriptionContainer.element,et("span.label-description")),{supportIcons:!!t.supportIcons}):this.descriptionNodeFactory=()=>this._register(new R8(qe(this.descriptionContainer.element,et("span.label-description")))),this.hoverDelegate=t==null?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){const r=["monaco-icon-label"];i&&(i.extraClasses&&r.push(...i.extraClasses),i.italic&&r.push("italic"),i.strikethrough&&r.push("strikethrough")),this.domNode.className=r.join(" "),this.setupHover((i==null?void 0:i.descriptionTitle)?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof j_?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,i==null?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(i==null?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)W0t(e,t);else{const r=z0t(this.hoverDelegate,e,t);r&&this.customHovers.set(e,r)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class U0t{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Tu(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=qe(this.container,et("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const r=e[i],s=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;qe(this.container,et("a.label-name",{id:s,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},r)),i<e.length-1&&qe(this.container,et("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function j0t(n,e,t){if(!t)return;let i=0;return n.map(r=>{const s={start:i,end:i+r.length},o=t.map(a=>Co.intersect(s,a)).filter(a=>!Co.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=s.end+e.length,o})}class K0t{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Tu(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new j_(qe(this.container,et("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",r=j0t(e,i,t==null?void 0:t.matches);for(let s=0;s<e.length;s++){const o=e[s],a=r?r[s]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${s}`,u=et("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":s,role:"treeitem"});new j_(qe(this.container,u),{supportIcons:this.supportIcons}).set(o,a,void 0,t==null?void 0:t.labelEscapeNewLines),s<e.length-1&&qe(u,et("span.label-separator",void 0,i))}}}}const HT=et;class RK{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=qe(e,HT(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&RK.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(qe(this.domNode,HT("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){_s(this.domNode),this.keyElements.clear()}renderPart(e,t,i){const r=_K.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,r.ctrlKey,Boolean(i==null?void 0:i.ctrlKey),r.separator),t.shiftKey&&this.renderKey(e,r.shiftKey,Boolean(i==null?void 0:i.shiftKey),r.separator),t.altKey&&this.renderKey(e,r.altKey,Boolean(i==null?void 0:i.altKey),r.separator),t.metaKey&&this.renderKey(e,r.metaKey,Boolean(i==null?void 0:i.metaKey),r.separator);const s=t.keyLabel;s&&this.renderKey(e,s,Boolean(i==null?void 0:i.keyCode),"")}renderKey(e,t,i,r){qe(e,this.createKeyElement(t,i?".highlight":"")),r&&qe(e,HT("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(e){qe(e,this.createKeyElement(L("unbound","Unbound")))}createKeyElement(e,t=""){const i=HT("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=(e=this.labelBackground)===null||e===void 0?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&Tu(e.firstPart,t.firstPart)&&Tu(e.chordPart,t.chordPart)}}const cre=new bm(()=>{const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}});new bm(()=>({collator:new Intl.Collator(void 0,{numeric:!0})}));new bm(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function G0t(n,e,t=!1){const i=n||"",r=e||"",s=cre.value.collator.compare(i,r);return cre.value.collatorIsNumeric&&s===0&&i!==r?i<r?-1:1:s}function q0t(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),s=Y0t(n,e,t);if(s)return s;const o=i.endsWith(t),a=r.endsWith(t);if(o!==a)return o?-1:1;const l=G0t(i,r);return l!==0?l:i.localeCompare(r)}function Y0t(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),s=i.startsWith(t),o=r.startsWith(t);if(s!==o)return s?-1:1;if(s&&o){if(i.length<r.length)return-1;if(i.length>r.length)return 1}return 0}var i0e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},X0t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const ch=et;class Z0t{constructor(e){this.hidden=!1,this._onChecked=new Le,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class vD{get templateId(){return vD.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=qe(e,ch(".quick-input-list-entry"));const i=qe(t.entry,ch("label.quick-input-list-label"));t.toDisposeTemplate.push(Ks(i,Bt.CLICK,u=>{t.checkbox.offsetParent||u.preventDefault()})),t.checkbox=qe(i,ch("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(Ks(t.checkbox,Bt.CHANGE,u=>{t.element.checked=t.checkbox.checked}));const r=qe(i,ch(".quick-input-list-rows")),s=qe(r,ch(".quick-input-list-row")),o=qe(r,ch(".quick-input-list-row"));t.label=new oR(s,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const a=qe(s,ch(".quick-input-list-entry-keybinding"));t.keybinding=new RK(a,mu);const l=qe(o,ch(".quick-input-list-label-meta"));return t.detail=new oR(l,{supportHighlights:!0,supportIcons:!0}),t.separator=qe(t.entry,ch(".quick-input-list-separator")),t.actionBar=new sf(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=jn(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(u=>i.checkbox.checked=u));const{labelHighlights:r,descriptionHighlights:s,detailHighlights:o}=e,a=Object.create(null);a.matches=r||[],a.descriptionTitle=e.saneDescription,a.descriptionMatches=s||[],a.extraClasses=e.item.iconClasses,a.italic=e.item.italic,a.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,a),i.keybinding.set(e.item.keybinding),e.saneDetail&&i.detail.setLabel(e.saneDetail,void 0,{matches:o,title:e.saneDetail}),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();const l=e.item.buttons;l&&l.length?(i.actionBar.push(l.map((u,c)=>{let d=u.iconClass||(u.iconPath?H$(u.iconPath):void 0);u.alwaysVisible&&(d=d?`${d} always-visible`:"always-visible");const h=new il(`id-${c}`,"",d,!0,()=>X0t(this,void 0,void 0,function*(){e.fireButtonTriggered({button:u,item:e.item})}));return h.tooltip=u.tooltip||"",h}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=jn(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=jn(e.toDisposeElement),e.toDisposeTemplate=jn(e.toDisposeTemplate)}}vD.ID="listelement";class Q0t{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return vD.ID}}var Vr;(function(n){n[n.First=1]="First",n[n.Second=2]="Second",n[n.Last=3]="Last",n[n.Next=4]="Next",n[n.Previous=5]="Previous",n[n.NextPage=6]="NextPage",n[n.PreviousPage=7]="PreviousPage"})(Vr||(Vr={}));class OK{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Le,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Le,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Le,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Le,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Le,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Le,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Le,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=qe(this.parent,ch(".quick-input-list"));const r=new Q0t,s=new e_t;this.list=i.createList("QuickInput",this.container,r,[new vD],{identityProvider:{getId:o=>o.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:s}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(o=>{const a=new Yi(o);switch(a.keyCode){case 10:this.toggleCheckbox();break;case 31:(kn?o.metaKey:o.ctrlKey)&&this.list.setFocus(Qo(this.list.length));break;case 16:{const l=this.list.getFocus();l.length===1&&l[0]===0&&this._onLeave.fire();break}case 18:{const l=this.list.getFocus();l.length===1&&l[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(a)})),this.disposables.push(this.list.onMouseDown(o=>{o.browserEvent.button!==2&&o.browserEvent.preventDefault()})),this.disposables.push(nt(this.container,Bt.CLICK,o=>{(o.x||o.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(o=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(o=>{typeof o.index=="number"&&(o.browserEvent.preventDefault(),this.list.setSelection([o.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return xt.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return xt.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,r=e.length;i<r;i++){const s=e[i];if(!s.hidden)if(s.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,r=t.length;i<r;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,r=t.length;i<r;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=jn(this.elementDisposables);const t=i=>this.fireButtonTriggered(i);this.inputElements=e,this.elements=e.reduce((i,r,s)=>{var o,a,l;if(r.type!=="separator"){const u=s&&e[s-1],c=r.label&&r.label.replace(/\r?\n/g," "),d=r.meta&&r.meta.replace(/\r?\n/g," "),h=r.description&&r.description.replace(/\r?\n/g," "),f=r.detail&&r.detail.replace(/\r?\n/g," "),g=r.ariaLabel||[c,h,f].map(p=>_at(p)).filter(p=>!!p).join(", ");i.push(new Z0t({index:s,item:r,saneLabel:c,saneMeta:d,saneAriaLabel:g,saneDescription:h,saneDetail:f,labelHighlights:(o=r.highlights)===null||o===void 0?void 0:o.label,descriptionHighlights:(a=r.highlights)===null||a===void 0?void 0:a.description,detailHighlights:(l=r.highlights)===null||l===void 0?void 0:l.detail,checked:!1,separator:u&&u.type==="separator"?u:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(i=>i.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((i,r,s)=>(i.set(r.item,s),i),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Vr.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=Vr.First),e===Vr.Previous&&this.list.getFocus()[0]===0&&(e=Vr.Last),e===Vr.Second&&this.list.length<2&&(e=Vr.First),e){case Vr.First:this.list.focusFirst();break;case Vr.Second:this.list.focusNth(1);break;case Vr.Last:this.list.focusLast();break;case Vr.Next:this.list.focusNext();break;case Vr.Previous:this.list.focusPrevious();break;case Vr.NextPage:this.list.focusNextPage();break;case Vr.PreviousPage:this.list.focusPreviousPage();break}const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${Math.floor(e/44)*44}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;const r=i.index&&this.inputElements[i.index-1];i.separator=r&&r.type==="separator"?r:void 0});else{let i;this.elements.forEach(r=>{const s=this.matchOnLabel?Ja(WT(e,VT(r.saneLabel))):void 0,o=this.matchOnDescription?Ja(WT(e,VT(r.saneDescription||""))):void 0,a=this.matchOnDetail?Ja(WT(e,VT(r.saneDetail||""))):void 0,l=this.matchOnMeta?Ja(WT(e,VT(r.saneMeta||""))):void 0;if(s||o||a||l?(r.labelHighlights=s,r.descriptionHighlights=o,r.detailHighlights=a,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=!r.item.alwaysShow),r.separator=void 0,!this.sortByLabel){const u=r.index&&this.inputElements[r.index-1];i=u&&u.type==="separator"?u:i,i&&!r.hidden&&(r.separator=i,i=void 0)}})}const t=this.elements.filter(i=>!i.hidden);if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort((r,s)=>J0t(r,s,i))}return this.elementsToIndexes=t.reduce((i,r,s)=>(i.set(r.item,s),i),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=jn(this.elementDisposables),this.disposables=jn(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}i0e([ds],OK.prototype,"onDidChangeFocus",null);i0e([ds],OK.prototype,"onDidChangeSelection",null);function J0t(n,e,t){const i=n.labelHighlights||[],r=e.labelHighlights||[];return i.length&&!r.length?-1:!i.length&&r.length?1:i.length===0&&r.length===0?0:q0t(n.saneLabel,e.saneLabel,t)}class e_t{getWidgetAriaLabel(){return L("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var dre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const ml=et,j$={iconClass:k.quickInputBack.classNames,tooltip:L("quickInput.back","Back"),handle:-1};class $4 extends ze{constructor(e){super();this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=$4.noPromptMessage,this._severity=cr.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Le),this.onDidHideEmitter=this._register(new Le),this.onDisposeEmitter=this._register(new Le),this.visibleDisposables=this._register(new it),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!Ad;this._ignoreFocusOut=e&&!Ad,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(e=Gk.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new Ra,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const r=this.buttons.filter(o=>o===j$);this.ui.leftActionBar.push(r.map((o,a)=>{const l=new il(`id-${a}`,"",o.iconClass||H$(o.iconPath),!0,()=>dre(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(o)}));return l.tooltip=o.tooltip||"",l}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const s=this.buttons.filter(o=>o!==j$);this.ui.rightActionBar.push(s.map((o,a)=>{const l=new il(`id-${a}`,"",o.iconClass||H$(o.iconPath),!0,()=>dre(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(o)}));return l.tooltip=o.tooltip||"",l}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,Ym(this.ui.message,...__(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?L("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==cr.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}$4.noPromptMessage=L("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class qk extends $4{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new Le),this.onWillAcceptEmitter=this._register(new Le),this.onDidAcceptEmitter=this._register(new Le),this.onDidCustomEmitter=this._register(new Le),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?od.NONE:od.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Le),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Le),this.onDidTriggerItemButtonEmitter=this._register(new Le),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?T0t:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Vr.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Vr.Next),this.canSelectMany&&this.ui.list.domFocus(),ui.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Vr.Previous):this.ui.list.focus(Vr.Last),this.canSelectMany&&this.ui.list.domFocus(),ui.stop(e,!0);break;case 12:this.ui.list.focus(Vr.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ui.stop(e,!0);break;case 11:this.ui.list.focus(Vr.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ui.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Vr.First),ui.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Vr.Last),ui.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&$l(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&$l(e,this._selectedItems,(i,r)=>i===r)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&$l(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return nt(this.ui.container,Bt.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Yi(e),i=t.keyCode;this._quickNavigate.keybindings.some(o=>{const[a,l]=o.getParts();return l?!1:a.shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a.altKey&&i===6||a.ctrlKey&&i===5||a.metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const r=this.ariaLabel||this.placeholder||qk.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==r&&(this.ui.inputBox.ariaLabel=r),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case od.NONE:this._itemActivation=od.FIRST;break;case od.SECOND:this.ui.list.focus(Vr.Second),this._itemActivation=od.FIRST;break;case od.LAST:this.ui.list.focus(Vr.Last),this._itemActivation=od.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Vr.First)),this.keepScrollPosition&&(this.scrollTop=e)}}qk.DEFAULT_ARIA_LABEL=L("quickInputBox.ariaLabel","Type to narrow down results.");class V4 extends ze{constructor(e){super();this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Le),this.onDidCustomEmitter=this._register(new Le),this.onDidTriggerButtonEmitter=this._register(new Le),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Le),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Le),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register(nt(window,Bt.KEY_DOWN,e,!0)),this._register(nt(window,Bt.KEY_UP,e,!0)),this._register(nt(window,Bt.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=qe(this.parentElement,ml(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=$u(e),i=qe(e,ml(".quick-input-titlebar")),r=this._register(new sf(i));r.domNode.classList.add("quick-input-left-action-bar");const s=qe(i,ml(".quick-input-title")),o=this._register(new sf(i));o.domNode.classList.add("quick-input-right-action-bar");const a=qe(e,ml(".quick-input-description")),l=qe(e,ml(".quick-input-header")),u=qe(l,ml("input.quick-input-check-all"));u.type="checkbox",this._register(Ks(u,Bt.CHANGE,M=>{const A=u.checked;E.setAllVisibleChecked(A)})),this._register(nt(u,Bt.CLICK,M=>{(M.x||M.y)&&f.setFocus()}));const c=qe(l,ml(".quick-input-description")),d=qe(l,ml(".quick-input-and-message")),h=qe(d,ml(".quick-input-filter")),f=this._register(new B0t(h));f.setAttribute("aria-describedby",`${this.idPrefix}message`);const g=qe(h,ml(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const p=new W$(g,{countFormat:L({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),m=qe(h,ml(".quick-input-count"));m.setAttribute("aria-live","polite");const b=new W$(m,{countFormat:L({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),_=qe(l,ml(".quick-input-action")),C=new ore(_);C.label=L("ok","OK"),this._register(C.onDidClick(M=>{this.onDidAcceptEmitter.fire()}));const w=qe(l,ml(".quick-input-action")),S=new ore(w);S.label=L("custom","Custom"),this._register(S.onDidClick(M=>{this.onDidCustomEmitter.fire()}));const D=qe(d,ml(`#${this.idPrefix}message.quick-input-message`)),E=this._register(new OK(e,this.idPrefix+"list",this.options));this._register(E.onChangedAllVisibleChecked(M=>{u.checked=M})),this._register(E.onChangedVisibleCount(M=>{p.setCount(M)})),this._register(E.onChangedCheckedCount(M=>{b.setCount(M)})),this._register(E.onLeave(()=>{setTimeout(()=>{f.setFocus(),this.controller instanceof qk&&this.controller.canSelectMany&&E.clearFocus()},0)})),this._register(E.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const I=new B4(e);I.getContainer().classList.add("quick-input-progress");const T=Uy(e);return this._register(T),this._register(nt(e,Bt.FOCUS,M=>{this.previousFocusElement=M.relatedTarget instanceof HTMLElement?M.relatedTarget:void 0},!0)),this._register(T.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Gk.Blur),this.previousFocusElement=void 0})),this._register(nt(e,Bt.FOCUS,M=>{f.setFocus()})),this._register(nt(e,Bt.KEY_DOWN,M=>{const A=new Yi(M);switch(A.keyCode){case 3:ui.stop(M,!0),this.onDidAcceptEmitter.fire();break;case 9:ui.stop(M,!0),this.hide(Gk.Gesture);break;case 2:if(!A.altKey&&!A.ctrlKey&&!A.metaKey){const O=[".action-label.codicon"];e.classList.contains("show-checkboxes")?O.push("input"):O.push("input[type=text]"),this.getUI().list.isDisplayed()&&O.push(".monaco-list");const F=e.querySelectorAll(O.join(", "));A.shiftKey&&A.target===F[0]?(ui.stop(M,!0),F[F.length-1].focus()):!A.shiftKey&&A.target===F[F.length-1]&&(ui.stop(M,!0),F[0].focus())}break}})),this.ui={container:e,styleSheet:t,leftActionBar:r,titleBar:i,title:s,description1:a,description2:c,rightActionBar:o,checkAll:u,filterContainer:h,inputBox:f,visibleCountContainer:g,visibleCount:p,countContainer:m,count:b,okContainer:_,ok:C,message:D,customButtonContainer:w,customButton:S,list:E,progressBar:I,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:M=>this.show(M),hide:()=>this.hide(),setVisibilities:M=>this.setVisibilities(M),setComboboxAccessibility:M=>this.setComboboxAccessibility(M),setEnabled:M=>this.setEnabled(M),setContextKey:M=>this.options.setContextKey(M)},this.updateStyles(),this.ui}pick(e,t={},i=En.None){return new Promise((r,s)=>{let o=c=>{o=r,t.onKeyMods&&t.onKeyMods(a.keyMods),r(c)};if(i.isCancellationRequested){o(void 0);return}const a=this.createQuickPick();let l;const u=[a,a.onDidAccept(()=>{if(a.canSelectMany)o(a.selectedItems.slice()),a.hide();else{const c=a.activeItems[0];c&&(o(c),a.hide())}}),a.onDidChangeActive(c=>{const d=c[0];d&&t.onDidFocus&&t.onDidFocus(d)}),a.onDidChangeSelection(c=>{if(!a.canSelectMany){const d=c[0];d&&(o(d),a.hide())}}),a.onDidTriggerItemButton(c=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},c),{removeItem:()=>{const d=a.items.indexOf(c.item);if(d!==-1){const h=a.items.slice(),f=h.splice(d,1),g=a.activeItems.filter(m=>m!==f[0]),p=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=h,g&&(a.activeItems=g),a.keepScrollPosition=p}}}))),a.onDidChangeValue(c=>{l&&!c&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{jn(u),o(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.autoFocusOnList=t.autoFocusOnList===void 0||t.autoFocusOnList,a.quickNavigate=t.quickNavigate,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([c,d])=>{l=d,a.busy=!1,a.items=c,a.canSelectMany&&(a.selectedItems=c.filter(h=>h.type!=="separator"&&h.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,c=>{s(c),a.hide()})})}createQuickPick(){const e=this.getUI();return new qk(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(cr.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),Ym(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const r=this.options.backKeybindingLabel();j$.tooltip=r?L("quickInput.backWithKeybinding","Back ({0})",r):L("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const i=this.controller;if(i){const r=!((t=this.ui)===null||t===void 0?void 0:t.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!r){let s=this.previousFocusElement;for(;s&&!s.offsetParent;)s=Ja(s.parentElement);(s==null?void 0:s.offsetParent)?(s.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,V4.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:r,widgetShadow:s}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=s?`0 0 8px 2px ${s}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const o=[];this.styles.list.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const a=o.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}}V4.MAX_WIDTH=600;class t_t{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(r=>r.splice(e,t,i))}}class Yv extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function hre(n,e){const t=[];for(let i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;const r=Co.intersect(n,i.range);Co.isEmpty(r)||t.push({range:r,size:i.size})}return t}function K$({start:n,end:e},t){return{start:n+t,end:e+t}}function n_t(n){const e=[];let t=null;for(let i of n){const r=i.range.start,s=i.range.end,o=i.size;if(t&&o===t.size){t.range.end=s;continue}t={range:{start:r,end:s},size:o},e.push(t)}return e}function i_t(...n){return n_t(n.reduce((e,t)=>e.concat(t),[]))}class fre{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const r=i.length-t,s=hre({start:0,end:e},this.groups),o=hre({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:K$(l.range,r),size:l.size})),a=i.map((l,u)=>({range:{start:e+u,end:e+u+1},size:l.size}));this.groups=i_t(s,a,o),this._size=this.groups.reduce((l,u)=>l+u.size*(u.range.end-u.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let r of this.groups){const s=r.range.end-r.range.start,o=i+s*r.size;if(e<o)return t+Math.floor((e-i)/r.size);t+=s,i=o}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let r of this.groups){const s=r.range.end-r.range.start,o=i+s;if(e<o)return t+(e-i)*r.size;t+=s*r.size,i=o}return-1}}function r_t(n){try{n.parentElement&&n.parentElement.removeChild(n)}catch{}}class s_t{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=et(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(i);t={domNode:i,templateId:e,templateData:s}}return t}release(e){!e||this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),r_t(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var F1=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};const ih={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class _D{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class o_t{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class a_t{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function l_t(n,e){return Array.isArray(n)&&Array.isArray(e)?$l(n,e):n===e}class u_t{constructor(e){(e==null?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,r)=>r,(e==null?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,(e==null?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",(e==null?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}class Yd{constructor(e,t,i,r=ih){if(this.virtualDelegate=t,this.domId=`list_id_${++Yd.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Jh(50),this.splicing=!1,this.dragOverAnimationStopDisposable=ze.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=ze.None,this.onDragLeaveTimeout=ze.None,this.disposables=new it,this._onDidChangeContentHeight=new Le,this._horizontalScrolling=!1,r.horizontalScrolling&&r.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new fre;for(const o of i)this.renderers.set(o.templateId,o);this.cache=this.disposables.add(new s_t(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof r.mouseSupport=="boolean"?r.mouseSupport:!0),this._horizontalScrolling=nh(r,o=>o.horizontalScrolling,ih.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof r.additionalScrollHeight=="undefined"?0:r.additionalScrollHeight,this.accessibilityProvider=new u_t(r.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",nh(r,o=>o.transformOptimization,ih.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(hi.addTarget(this.rowsContainer)),this.scrollable=new cD({forceIntegerValues:!0,smoothScrollDuration:nh(r,o=>o.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:o=>Od(o)}),this.scrollableElement=this.disposables.add(new rK(this.rowsContainer,{alwaysConsumeMouseWheel:nh(r,o=>o.alwaysConsumeMouseWheel,ih.alwaysConsumeMouseWheel),horizontal:1,vertical:nh(r,o=>o.verticalScrollMode,ih.verticalScrollMode),useShadows:nh(r,o=>o.useShadows,ih.useShadows),mouseWheelScrollSensitivity:r.mouseWheelScrollSensitivity,fastScrollSensitivity:r.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(nt(this.rowsContainer,$i.Change,o=>this.onTouchChange(o))),this.disposables.add(nt(this.scrollableElement.getDomNode(),"scroll",o=>o.target.scrollTop=0)),this.disposables.add(nt(this.domNode,"dragover",o=>this.onDragOver(this.toDragEvent(o)))),this.disposables.add(nt(this.domNode,"drop",o=>this.onDrop(this.toDragEvent(o)))),this.disposables.add(nt(this.domNode,"dragleave",o=>this.onDragLeave(this.toDragEvent(o)))),this.disposables.add(nt(this.domNode,"dragend",o=>this.onDragEnd(o))),this.setRowLineHeight=nh(r,o=>o.setRowLineHeight,ih.setRowLineHeight),this.setRowHeight=nh(r,o=>o.setRowHeight,ih.setRowHeight),this.supportDynamicHeights=nh(r,o=>o.supportDynamicHeights,ih.supportDynamicHeights),this.dnd=nh(r,o=>o.dnd,ih.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:VF(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling),e.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:e,end:e+t},o=Co.intersect(r,s),a=new Map;for(let D=o.end-1;D>=o.start;D--){const E=this.items[D];if(E.dragStartDisposable.dispose(),E.row){let I=a.get(E.templateId);I||(I=[],a.set(E.templateId,I));const T=this.renderers.get(E.templateId);T&&T.disposeElement&&T.disposeElement(E.element,D,E.row.templateData,E.size),I.push(E.row)}E.row=null}const l={start:e+t,end:this.items.length},u=Co.intersect(l,r),c=Co.relativeComplement(l,r),d=i.map(D=>({id:String(this.itemId++),element:D,templateId:this.virtualDelegate.getTemplateId(D),size:this.virtualDelegate.getHeight(D),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(D),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:ze.None}));let h;e===0&&t>=this.items.length?(this.rangeMap=new fre,this.rangeMap.splice(0,0,d),h=this.items,this.items=d):(this.rangeMap.splice(e,t,d),h=this.items.splice(e,t,...d));const f=i.length-t,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),p=K$(u,f),m=Co.intersect(g,p);for(let D=m.start;D<m.end;D++)this.updateItemInDOM(this.items[D],D);const b=Co.relativeComplement(p,g);for(const D of b)for(let E=D.start;E<D.end;E++)this.removeItemFromDOM(E);const _=c.map(D=>K$(D,f)),w=[{start:e,end:e+i.length},..._].map(D=>Co.intersect(g,D)),S=this.getNextToLastElement(w);for(const D of w)for(let E=D.start;E<D.end;E++){const I=this.items[E],T=a.get(I.templateId),M=T==null?void 0:T.pop();this.insertItemInDOM(E,S,M)}for(const D of a.values())for(const E of D)this.cache.release(E);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(D=>D.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Od(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width!="undefined"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10})}rerender(){if(!!this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:typeof e=="number"?e:Rut(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t!="undefined"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:VF(this.domNode)})}render(e,t,i,r,s,o=!1){const a=this.getRenderRange(t,i),l=Co.relativeComplement(a,e),u=Co.relativeComplement(e,a),c=this.getNextToLastElement(l);if(o){const d=Co.intersect(e,a);for(let h=d.start;h<d.end;h++)this.updateItemInDOM(this.items[h],h)}for(const d of l)for(let h=d.start;h<d.end;h++)this.insertItemInDOM(h,c);for(const d of u)for(let h=d.start;h<d.end;h++)this.removeItemFromDOM(h);r!==void 0&&(this.rowsContainer.style.left=`-${r}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&s!==void 0&&(this.rowsContainer.style.width=`${Math.max(s,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const r=this.items[e];r.row||(r.row=i!=null?i:this.cache.alloc(r.templateId));const s=this.accessibilityProvider.getRole(r.element)||"listitem";r.row.domNode.setAttribute("role",s);const o=this.accessibilityProvider.isChecked(r.element);typeof o!="undefined"&&r.row.domNode.setAttribute("aria-checked",String(!!o)),r.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(r.row.domNode,t):this.rowsContainer.appendChild(r.row.domNode)),this.updateItemInDOM(r,e);const a=this.renderers.get(r.templateId);if(!a)throw new Error(`No renderer found for template id ${r.templateId}`);a&&a.renderElement(r.element,e,r.row.templateData,r.size);const l=this.dnd.getDragURI(r.element);r.dragStartDisposable.dispose(),r.row.domNode.draggable=!!l,l&&(r.dragStartDisposable=nt(r.row.domNode,"dragstart",u=>this.onDragStart(r.element,l,u))),this.horizontalScrolling&&(this.measureItemWidth(r),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=Ul?"-moz-fit-content":"fit-content",e.width=VF(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return xt.map(this.disposables.add(new Ci(this.domNode,"click")).event,e=>this.toMouseEvent(e))}get onMouseDblClick(){return xt.map(this.disposables.add(new Ci(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return xt.filter(xt.map(this.disposables.add(new Ci(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e)),e=>e.browserEvent.button===1)}get onMouseDown(){return xt.map(this.disposables.add(new Ci(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e))}get onContextMenu(){return xt.any(xt.map(this.disposables.add(new Ci(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e)),xt.map(this.disposables.add(new Ci(this.domNode,$i.Contextmenu)).event,e=>this.toGestureEvent(e)))}get onTouchStart(){return xt.map(this.disposables.add(new Ci(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e))}get onTap(){return xt.map(this.disposables.add(new Ci(this.rowsContainer,$i.Tap)).event,e=>this.toGestureEvent(e))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t=="undefined"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t=="undefined"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const r=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(pve.TEXT,t),i.dataTransfer.setDragImage){let s;this.dnd.getDragLabel&&(s=this.dnd.getDragLabel(r,i)),typeof s=="undefined"&&(s=String(r.length));const o=et(".monaco-drag-image");o.textContent=s,document.body.appendChild(o),i.dataTransfer.setDragImage(o,-10,-10),setTimeout(()=>document.body.removeChild(o),0)}this.currentDragData=new _D(r),Xf.CurrentDragAndDropData=new o_t(r),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Xf.CurrentDragAndDropData&&Xf.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Xf.CurrentDragAndDropData)this.currentDragData=Xf.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new a_t}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect===0?"copy":"move";let i;if(typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index=="undefined"?i=[-1]:i=[e.index],i=Um(i).filter(r=>r>=-1&&r<this.length).sort((r,s)=>r-s),i=i[0]===-1?[-1]:i,l_t(this.currentDragFeedback,i))return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=_n(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const r of i){const s=this.items[r];s.dropTarget=!0,s.row&&s.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=_n(()=>{for(const r of i){const s=this.items[r];s.dropTarget=!1,s.row&&s.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=N_(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Xf.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Xf.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=ze.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=Fpe(this.domNode).top;this.dragOverAnimationDisposable=Wut(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=N_(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const r=i.getAttribute("data-index");if(r){const s=Number(r);if(!isNaN(s))return s}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const r=this.getRenderRange(e,t);let s,o;e===this.elementTop(r.start)?(s=r.start,o=0):r.end-r.start>1&&(s=r.start+1,o=this.elementTop(s)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let u=!1;for(let c=l.start;c<l.end;c++){const d=this.probeDynamicHeight(c);d!==0&&this.rangeMap.splice(c,1,[this.items[c]]),a+=d,u=u||d!==0}if(!u){a!==0&&this.eventuallyUpdateScrollDimensions();const c=Co.relativeComplement(r,l);for(const h of c)for(let f=h.start;f<h.end;f++)this.items[f].row&&this.removeItemFromDOM(f);const d=Co.relativeComplement(l,r);for(const h of d)for(let f=h.start;f<h.end;f++){const g=f+1,p=g<this.items.length?this.items[g].row:null,m=p?p.domNode:null;this.insertItemInDOM(f,m)}for(let h=l.start;h<l.end;h++)this.items[h].row&&this.updateItemInDOM(this.items[h],h);if(typeof s=="number"){const h=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(s)-o+h;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const o=this.virtualDelegate.getDynamicHeight(t.element);if(o!==null){const a=t.size;return t.size=o,t.lastDynamicHeightWidth=this.renderWidth,o-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(!this.setRowHeight&&t.row){let o=t.row.domNode.offsetHeight;return t.size=o,t.lastDynamicHeightWidth=this.renderWidth,o-i}const r=this.cache.alloc(t.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const s=this.renderers.get(t.templateId);return s&&(s.renderElement(t.element,e,r.templateData,void 0),s.disposeElement&&s.disposeElement(t.element,e,r.templateData,void 0)),t.size=r.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(r.domNode),this.cache.release(r),t.size-i}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return!i||!i.row?null:i.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),jn(this.disposables)}}Yd.InstanceCount=0;F1([ds],Yd.prototype,"onMouseClick",null);F1([ds],Yd.prototype,"onMouseDblClick",null);F1([ds],Yd.prototype,"onMouseMiddleClick",null);F1([ds],Yd.prototype,"onMouseDown",null);F1([ds],Yd.prototype,"onContextMenu",null);F1([ds],Yd.prototype,"onTouchStart",null);F1([ds],Yd.prototype,"onTap",null);var B1=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},gre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class c_t{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,i){const r=this.renderedElements.findIndex(s=>s.templateData===i);if(r>=0){const s=this.renderedElements[r];this.trait.unrender(i),s.index=t}else{const s={index:t,templateData:i};this.renderedElements.push(s)}this.trait.renderIndex(t,i)}splice(e,t,i){const r=[];for(const s of this.renderedElements)s.index<e?r.push(s):s.index>=e+t&&r.push({index:s.index+i-t,templateData:s.templateData});this.renderedElements=r}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}class aR{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new Le,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new c_t(this)}splice(e,t,i){var r;t=Math.max(0,Math.min(t,this.length-e));const s=i.length-t,o=e+t,a=[...this.sortedIndexes.filter(u=>u<e),...i.map((u,c)=>u?c+e:-1).filter(u=>u!==-1),...this.sortedIndexes.filter(u=>u>=o).map(u=>u+s)],l=this.length+s;if(this.sortedIndexes.length>0&&a.length===0&&l>0){const u=(r=this.sortedIndexes.find(c=>c>=e))!==null&&r!==void 0?r:l-1;a.push(Math.min(u,l-1))}this.renderer.splice(e,t,i.length),this._set(a,a),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(mre),t)}_set(e,t,i){const r=this.indexes,s=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const o=G$(s,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:i}),r}get(){return this.indexes}contains(e){return PU(this.sortedIndexes,e,mre)>=0}dispose(){jn(this._onChange)}}B1([ds],aR.prototype,"renderer",null);class d_t extends aR{constructor(e){super("selected");this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class O8{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));const r=this.trait.get().map(o=>this.identityProvider.getId(this.view.element(o)).toString()),s=i.map(o=>r.indexOf(this.identityProvider.getId(o).toString())>-1);this.trait.splice(e,t,s)}}function sv(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function yC(n){return n.classList.contains("monaco-editor")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:yC(n.parentElement)}class r0e{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new it,this.multipleSelectionDisposables=new it,this.onKeyDown.filter(r=>r.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===9).on(this.onEscape,this,this.disposables),i.multipleSelectionSupport!==!1&&this.onKeyDown.filter(r=>(kn?r.metaKey:r.ctrlKey)&&r.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return xt.chain(this.disposables.add(new Ci(this.view.domNode,"keydown")).event).filter(e=>!sv(e.target)).map(e=>new Yi(e))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(t=>(kn?t.metaKey:t.ctrlKey)&&t.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Qo(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}B1([ds],r0e.prototype,"onKeyDown",null);var wC;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(wC||(wC={}));const s0e=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=93&&n.keyCode<=102||n.keyCode>=80&&n.keyCode<=90}};class h_t{constructor(e,t,i,r){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=r,this.enabled=!1,this.state=wC.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new it,this.disposables=new it,this.updateOptions(e.options)}updateOptions(e){(typeof e.enableKeyboardNavigation=="undefined"?!0:!!e.enableKeyboardNavigation)?this.enable():this.disable(),typeof e.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=xt.chain(this.enabledDisposables.add(new Ci(this.view.domNode,"keydown")).event).filter(r=>!sv(r.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(r=>new Yi(r)).filter(r=>this.delegate.mightProducePrintableCharacter(r)).forEach(r=>r.preventDefault()).map(r=>r.browserEvent.key).event,t=xt.debounce(e,()=>null,800);xt.reduce(xt.any(e,t),(r,s)=>s===null?null:(r||"")+s)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&ro(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=wC.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,r=this.state===wC.Idle?1:0;this.state=wC.Typing;for(let s=0;s<this.list.length;s++){const o=(i+s+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),l=a&&a.toString();if(typeof l=="undefined"||A4(e,l)){this.previouslyFocused=i,this.list.setFocus([o]),this.list.reveal(o);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class f_t{constructor(e,t){this.list=e,this.view=t,this.disposables=new it,xt.chain(this.disposables.add(new Ci(t.domNode,"keydown")).event).filter(r=>!sv(r.target)).map(r=>new Yi(r)).filter(r=>r.keyCode===2&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const r=i.querySelector("[tabIndex]");if(!r||!(r instanceof HTMLElement)||r.tabIndex===-1)return;const s=window.getComputedStyle(r);s.visibility==="hidden"||s.display==="none"||(e.preventDefault(),e.stopPropagation(),r.focus())}dispose(){this.disposables.dispose()}}function o0e(n){return kn?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function a0e(n){return n.browserEvent.shiftKey}function g_t(n){return n instanceof MouseEvent&&n.button===2}const pre={isSelectionSingleChangeEvent:o0e,isSelectionRangeChangeEvent:a0e};class l0e{constructor(e){this.list=e,this.disposables=new it,this._onPointer=new Le,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||pre),this.mouseSupport=typeof e.options.mouseSupport=="undefined"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(hi.addTarget(e.getHTMLElement()))),xt.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||pre))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){yC(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(yC(e.browserEvent.target))return;const t=typeof e.index=="undefined"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||sv(e.browserEvent.target)||yC(e.browserEvent.target))return;const t=e.index;if(typeof t=="undefined"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(e))return this.changeSelection(e);if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),g_t(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(sv(e.browserEvent.target)||yC(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i=="undefined"){const c=this.list.getFocus()[0];i=c!=null?c:t,this.list.setAnchor(i)}const r=Math.min(i,t),s=Math.max(i,t),o=Qo(r,s+1),a=this.list.getSelection(),l=v_t(G$(a,[i]),i);if(l.length===0)return;const u=G$(o,__t(a,l));this.list.setSelection(u,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const r=this.list.getSelection(),s=r.filter(o=>o!==t);this.list.setFocus([t]),this.list.setAnchor(t),r.length===s.length?this.list.setSelection([...s,t],e.browserEvent):this.list.setSelection(s,e.browserEvent)}}dispose(){this.disposables.dispose()}}class u0e{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):kn||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
			}`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}}const p_t={listFocusBackground:We.fromHex("#7FB0D0"),listActiveSelectionBackground:We.fromHex("#0E639C"),listActiveSelectionForeground:We.fromHex("#FFFFFF"),listActiveSelectionIconForeground:We.fromHex("#FFFFFF"),listFocusAndSelectionBackground:We.fromHex("#094771"),listFocusAndSelectionForeground:We.fromHex("#FFFFFF"),listInactiveSelectionBackground:We.fromHex("#3F3F46"),listInactiveSelectionIconForeground:We.fromHex("#FFFFFF"),listHoverBackground:We.fromHex("#2A2D2E"),listDropBackground:We.fromHex("#383B3D"),treeIndentGuidesStroke:We.fromHex("#a9a9a9"),tableColumnsBorder:We.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:We.fromHex("#cccccc").transparent(.04)},m_t={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function v_t(n,e){const t=n.indexOf(e);if(t===-1)return[];const i=[];let r=t-1;for(;r>=0&&n[r]===e-(t-r);)i.push(n[r--]);for(i.reverse(),r=t;r<n.length&&n[r]===e+(r-t);)i.push(n[r++]);return i}function G$(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){t.push(n[i]),i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):t.push(e[r++]);return t}function __t(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):r++;return t}const mre=(n,e)=>n-e;class b_t{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,r){let s=0;for(const o of this.renderers)o.renderElement(e,t,i[s++],r)}disposeElement(e,t,i,r){let s=0;for(const o of this.renderers)o.disposeElement&&o.disposeElement(e,t,i[s],r),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class C_t{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const r=this.accessibilityProvider.getAriaLabel(e);r?i.setAttribute("aria-label",r):i.removeAttribute("aria-label");const s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof s=="number"?i.setAttribute("aria-level",`${s}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class y_t{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,r){return this.dnd.onDragOver(e,t,i,r)}onDragLeave(e,t,i,r){var s,o;(o=(s=this.dnd).onDragLeave)===null||o===void 0||o.call(s,e,t,i,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,r){this.dnd.drop(e,t,i,r)}}class bf{constructor(e,t,i,r,s=m_t){var o;this.user=e,this._options=s,this.focus=new aR("focused"),this.anchor=new aR("anchor"),this.eventBufferer=new zU,this._ariaLabel="",this.disposables=new it,this._onDidDispose=new Le,this.onDidDispose=this._onDidDispose.event;const a=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(o=this._options.accessibilityProvider)===null||o===void 0?void 0:o.getWidgetRole():"list";this.selection=new d_t(a!=="listbox"),gf(s,p_t,!1);const l=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(l.push(new C_t(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map(c=>new b_t(c.templateId,[...l,c]));const u=Object.assign(Object.assign({},s),{dnd:s.dnd&&new y_t(this,s.dnd)});if(this.view=new Yd(t,i,r,u),this.view.domNode.setAttribute("role",a),s.styleController)this.styleController=s.styleController(this.view.domId);else{const c=$u(this.view.domNode);this.styleController=new u0e(c,this.view.domId)}if(this.spliceable=new t_t([new O8(this.focus,this.view,s.identityProvider),new O8(this.selection,this.view,s.identityProvider),new O8(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new f_t(this,this.view)),(typeof s.keyboardSupport!="boolean"||s.keyboardSupport)&&(this.keyboardController=new r0e(this,this.view,s),this.disposables.add(this.keyboardController)),s.keyboardNavigationLabelProvider){const c=s.keyboardNavigationDelegate||s0e;this.typeLabelController=new h_t(this,this.view,s.keyboardNavigationLabelProvider,c),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return xt.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return xt.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=xt.chain(this.disposables.add(new Ci(this.view.domNode,"keydown")).event).map(s=>new Yi(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(xie).filter(()=>!1).event,i=xt.chain(this.disposables.add(new Ci(this.view.domNode,"keyup")).event).forEach(()=>e=!1).map(s=>new Yi(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(xie).map(({browserEvent:s})=>{const o=this.getFocus(),a=o.length?o[0]:void 0,l=typeof a!="undefined"?this.view.element(a):void 0,u=typeof a!="undefined"?this.view.domElement(a):this.view.domNode;return{index:a,element:l,anchor:u,browserEvent:s}}).event,r=xt.chain(this.view.onContextMenu).filter(s=>!e).map(({element:s,index:o,browserEvent:a})=>({element:s,index:o,anchor:{x:a.pageX+1,y:a.pageY},browserEvent:a})).event;return xt.any(t,i,r)}get onKeyDown(){return this.disposables.add(new Ci(this.view.domNode,"keydown")).event}get onDidFocus(){return xt.signal(this.disposables.add(new Ci(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new l0e(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(t=this.keyboardController)===null||t===void 0||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Yv(this.user,`Invalid start index: ${e}`);if(t<0)throw new Yv(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new Yv(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e=="undefined"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Yv(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return wge(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e=="undefined"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new Yv(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,r){if(this.length===0)return;const s=this.focus.get(),o=this.findNextIndex(s.length>0?s[0]+e:0,t,r);o>-1&&this.setFocus([o],i)}focusPrevious(e=1,t=!1,i,r){if(this.length===0)return;const s=this.focus.get(),o=this.findPreviousIndex(s.length>0?s[0]-e:0,t,r);o>-1&&this.setFocus([o],i)}focusNextPage(e,t){return gre(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const r=this.view.element(i),s=this.getFocusedElements()[0];if(s!==r){const o=this.findPreviousIndex(i,!1,t);o>-1&&s!==this.view.element(o)?this.setFocus([o],e):this.setFocus([i],e)}else{const o=this.view.getScrollTop();this.view.setScrollTop(o+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==o&&(this.setFocus([]),yield jm(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return gre(this,void 0,void 0,function*(){let i;const r=this.view.getScrollTop();r===0?i=this.view.indexAt(r):i=this.view.indexAfter(r-1);const s=this.view.element(i),o=this.getFocusedElements()[0];if(o!==s){const a=this.findNextIndex(i,!1,t);a>-1&&o!==this.view.element(a)?this.setFocus([a],e):this.setFocus([i],e)}else{const a=r;this.view.setScrollTop(r-this.view.renderHeight),this.view.getScrollTop()!==a&&(this.setFocus([]),yield jm(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const r=this.findNextIndex(e,!1,i);r>-1&&this.setFocus([r],t)}findNextIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new Yv(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(T_(t)){const o=s-this.view.renderHeight;this.view.setScrollTop(o*qa(t,0,1)+r)}else{const o=r+s,a=i+this.view.renderHeight;r<i&&o>=a||(r<i||o>=a&&s>=this.view.renderHeight?this.view.setScrollTop(r):o>=a&&this.view.setScrollTop(o-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new Yv(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),i=this.view.elementTop(e),r=this.view.elementHeight(e);if(i<t||i+r>t+this.view.renderHeight)return null;const s=r-this.view.renderHeight;return Math.abs((t-i)/s)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;((e=this.accessibilityProvider)===null||e===void 0?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}B1([ds],bf.prototype,"onDidChangeFocus",null);B1([ds],bf.prototype,"onDidChangeSelection",null);B1([ds],bf.prototype,"onContextMenu",null);B1([ds],bf.prototype,"onKeyDown",null);B1([ds],bf.prototype,"onDidFocus",null);class w_t{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:ze.None}}renderElement(e,t,i,r){if(i.disposable&&i.disposable.dispose(),!i.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,i.data,r);const o=new co,a=s.resolve(e,o.token);i.disposable={dispose:()=>o.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,r))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class S_t{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function L_t(n,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new S_t(n,e.accessibilityProvider)})}class k_t{constructor(e,t,i,r,s={}){const o=()=>this.model,a=r.map(l=>new w_t(l,o));this.list=new bf(e,t,i,a,L_t(o,s))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return xt.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return xt.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return xt.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(r=>this._model.get(r)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Qo(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}const E_t={separatorBorder:We.transparent};class c0e{constructor(e,t,i,r){this.container=e,this.view=t,this.disposable=r,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(e,t){e!==this.visible&&(e?(this.size=qa(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class D_t extends c0e{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class I_t extends c0e{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Zf;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(Zf||(Zf={}));var lR;(function(n){n.Distribute={type:"distribute"};function e(i){return{type:"split",index:i}}n.Split=e;function t(i){return{type:"invisible",cachedVisibleSize:i}}n.Invisible=t})(lR||(lR={}));class d0e extends ze{constructor(e,t={}){var i,r,s,o,a;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Zf.Idle,this._onDidSashChange=this._register(new Le),this._onDidSashReset=this._register(new Le),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(i=t.orientation)!==null&&i!==void 0?i:0,this.inverseAltBehavior=(r=t.inverseAltBehavior)!==null&&r!==void 0?r:!1,this.proportionalLayout=(s=t.proportionalLayout)!==null&&s!==void 0?s:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=qe(this.el,et(".sash-container")),this.viewContainer=et(".split-view-container"),this.scrollable=new cD({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:Od}),this.scrollableElement=this._register(new rK(this.viewContainer,{vertical:this.orientation===0?(o=t.scrollbarVisibility)!==null&&o!==void 0?o:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(l=>{this.viewContainer.scrollTop=l.scrollTop,this.viewContainer.scrollLeft=l.scrollLeft})),qe(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||E_t),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((l,u)=>{const c=Qa(l.visible)||l.visible?l.size:{type:"invisible",cachedVisibleSize:l.size},d=l.view;this.doAddView(d,c,u,!0)}),this.contentSize=this.viewItems.reduce((l,u)=>l+u.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,r){this.doAddView(e,t,i,r)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let r=0;r<this.viewItems.length;r++){const s=this.viewItems[r];s.size=qa(Math.round(this.proportions[r]*e),s.minimumSize,s.maximumSize)}else{const r=Qo(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const r=this.sashItems.findIndex(a=>a.sash===e),s=vm(nt(document.body,"keydown",a=>o(this.sashDragState.current,a.altKey)),nt(document.body,"keyup",()=>o(this.sashDragState.current,!1))),o=(a,l)=>{const u=this.viewItems.map(g=>g.size);let c=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(r===this.sashItems.length-1){const p=this.viewItems[r];c=(p.minimumSize-p.size)/2,d=(p.maximumSize-p.size)/2}else{const p=this.viewItems[r+1];c=(p.size-p.maximumSize)/2,d=(p.size-p.minimumSize)/2}let h,f;if(!l){const g=Qo(r,-1),p=Qo(r+1,this.viewItems.length),m=g.reduce((I,T)=>I+(this.viewItems[T].minimumSize-u[T]),0),b=g.reduce((I,T)=>I+(this.viewItems[T].viewMaximumSize-u[T]),0),_=p.length===0?Number.POSITIVE_INFINITY:p.reduce((I,T)=>I+(u[T]-this.viewItems[T].minimumSize),0),C=p.length===0?Number.NEGATIVE_INFINITY:p.reduce((I,T)=>I+(u[T]-this.viewItems[T].viewMaximumSize),0),w=Math.max(m,C),S=Math.min(_,b),D=this.findFirstSnapIndex(g),E=this.findFirstSnapIndex(p);if(typeof D=="number"){const I=this.viewItems[D],T=Math.floor(I.viewMinimumSize/2);h={index:D,limitDelta:I.visible?w-T:w+T,size:I.size}}if(typeof E=="number"){const I=this.viewItems[E],T=Math.floor(I.viewMinimumSize/2);f={index:E,limitDelta:I.visible?S+T:S-T,size:I.size}}}this.sashDragState={start:a,current:a,index:r,sizes:u,minDelta:c,maxDelta:d,alt:l,snapBefore:h,snapAfter:f,disposable:s}};o(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:r,alt:s,minDelta:o,maxDelta:a,snapBefore:l,snapAfter:u}=this.sashDragState;this.sashDragState.current=e;const c=e-i,d=this.resize(t,c,r,void 0,void 0,o,a,l,u);if(s){const h=t===this.sashItems.length-1,f=this.viewItems.map(C=>C.size),g=h?t:t+1,p=this.viewItems[g],m=p.size-p.maximumSize,b=p.size-p.minimumSize,_=h?t-1:t+1;this.resize(_,-d,f,void 0,void 0,m,b)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=qa(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==Zf.Idle)throw new Error("Cant modify splitview");if(this.state=Zf.Busy,e<0||e>=this.viewItems.length)return;const i=Qo(this.viewItems.length).filter(a=>a!==e),r=[...i.filter(a=>this.viewItems[a].priority===1),e],s=i.filter(a=>this.viewItems[a].priority===2),o=this.viewItems[e];t=Math.round(t),t=qa(t,o.minimumSize,Math.min(o.maximumSize,this.size)),o.size=t,this.relayout(r,s),this.state=Zf.Idle}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=qa(i,a.minimumSize,a.maximumSize);const r=Qo(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.relayout(s,o)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,r){if(this.state!==Zf.Idle)throw new Error("Cant modify splitview");this.state=Zf.Busy;const s=et(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(i));const o=e.onDidChange(h=>this.onViewChange(c,h)),a=_n(()=>this.viewContainer.removeChild(s)),l=vm(o,a);let u;typeof t=="number"?u=t:t.type==="split"?u=this.getViewSize(t.index)/2:t.type==="invisible"?u={cachedVisibleSize:t.cachedVisibleSize}:u=e.minimumSize;const c=this.orientation===0?new D_t(s,e,u,l):new I_t(s,e,u,l);if(this.viewItems.splice(i,0,c),this.viewItems.length>1){let h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const f=this.orientation===0?new wo(this.sashContainer,{getHorizontalSashTop:I=>this.getSashPosition(I),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},h),{orientation:1})):new wo(this.sashContainer,{getVerticalSashLeft:I=>this.getSashPosition(I),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},h),{orientation:0})),g=this.orientation===0?I=>({sash:f,start:I.startY,current:I.currentY,alt:I.altKey}):I=>({sash:f,start:I.startX,current:I.currentX,alt:I.altKey}),m=xt.map(f.onDidStart,g)(this.onSashStart,this),_=xt.map(f.onDidChange,g)(this.onSashChange,this),w=xt.map(f.onDidEnd,()=>this.sashItems.findIndex(I=>I.sash===f))(this.onSashEnd,this),S=f.onDidReset(()=>{const I=this.sashItems.findIndex(F=>F.sash===f),T=Qo(I,-1),M=Qo(I+1,this.viewItems.length),A=this.findFirstSnapIndex(T),O=this.findFirstSnapIndex(M);typeof A=="number"&&!this.viewItems[A].visible||typeof O=="number"&&!this.viewItems[O].visible||this._onDidSashReset.fire(I)}),D=vm(m,_,w,S,f),E={sash:f,disposable:D};this.sashItems.splice(i-1,0,E)}s.appendChild(e.element);let d;typeof t!="number"&&t.type==="split"&&(d=[t.index]),r||this.relayout([i],d),this.state=Zf.Idle,!r&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce((r,s)=>r+s.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(c=>c.size),r,s,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,u){if(e<0||e>=this.viewItems.length)return 0;const c=Qo(e,-1),d=Qo(e+1,this.viewItems.length);if(s)for(const E of s)bF(c,E),bF(d,E);if(r)for(const E of r)sT(c,E),sT(d,E);const h=c.map(E=>this.viewItems[E]),f=c.map(E=>i[E]),g=d.map(E=>this.viewItems[E]),p=d.map(E=>i[E]),m=c.reduce((E,I)=>E+(this.viewItems[I].minimumSize-i[I]),0),b=c.reduce((E,I)=>E+(this.viewItems[I].maximumSize-i[I]),0),_=d.length===0?Number.POSITIVE_INFINITY:d.reduce((E,I)=>E+(i[I]-this.viewItems[I].minimumSize),0),C=d.length===0?Number.NEGATIVE_INFINITY:d.reduce((E,I)=>E+(i[I]-this.viewItems[I].maximumSize),0),w=Math.max(m,C,o),S=Math.min(_,b,a);let D=!1;if(l){const E=this.viewItems[l.index],I=t>=l.limitDelta;D=I!==E.visible,E.setVisible(I,l.size)}if(!D&&u){const E=this.viewItems[u.index],I=t<u.limitDelta;D=I!==E.visible,E.setVisible(I,u.size)}if(D)return this.resize(e,t,i,r,s,o,a);t=qa(t,w,S);for(let E=0,I=t;E<h.length;E++){const T=h[E],M=qa(f[E]+I,T.minimumSize,T.maximumSize);I-=M-f[E],T.size=M}for(let E=0,I=t;E<g.length;E++){const T=g[E],M=qa(p[E]-I,T.minimumSize,T.maximumSize);I+=M-p[E],T.size=M}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const r=Qo(this.viewItems.length-1,-1),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);for(const a of o)bF(r,a);for(const a of s)sT(r,a);typeof e=="number"&&sT(r,e);for(let a=0;i!==0&&a<r.length;a++){const l=this.viewItems[r[a]],u=qa(l.size+i,l.minimumSize,l.maximumSize);i-=u-l.size,l.size=u}}layoutViews(){this.contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),r=[...this.viewItems].reverse();e=!1;const s=r.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const o=r.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:u}=this.sashItems[l];a+=this.viewItems[l].size;const d=!(t[l]&&o[l+1]),h=!(i[l]&&s[l+1]);if(d&&h){const f=Qo(l,-1),g=Qo(l+1,this.viewItems.length),p=this.findFirstSnapIndex(f),m=this.findFirstSnapIndex(g),b=typeof p=="number"&&!this.viewItems[p].visible,_=typeof m=="number"&&!this.viewItems[m].visible;b&&s[l]&&(a>0||this.startSnappingEnabled)?u.state=1:_&&t[l]&&(a<this.contentSize||this.endSnappingEnabled)?u.state=2:u.state=0}else d&&!h?u.state=1:!d&&h?u.state=2:u.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(!!i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach(e=>e.dispose()),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}}class bD{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=bD.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(s=>[s.templateId,s]));this.renderers=[];for(const s of e){const o=r.get(s.templateId);if(!o)throw new Error(`Table cell renderer for template id ${s.templateId} not found.`);this.renderers.push(o)}}renderTemplate(e){const t=qe(e,et(".monaco-table-tr")),i=[],r=[];for(let o=0;o<this.columns.length;o++){const a=this.renderers[o],l=qe(t,et(".monaco-table-td",{"data-col-index":o}));l.style.width=`${this.getColumnSize(o)}px`,i.push(l),r.push(a.renderTemplate(l))}const s={container:e,cellContainers:i,cellTemplateData:r};return this.renderedTemplates.add(s),s}renderElement(e,t,i,r){for(let s=0;s<this.columns.length;s++){const a=this.columns[s].project(e);this.renderers[s].renderElement(a,t,i.cellTemplateData[s],r)}}disposeElement(e,t,i,r){for(let s=0;s<this.columns.length;s++){const o=this.renderers[s];if(o.disposeElement){const l=this.columns[s].project(e);o.disposeElement(l,t,i.cellTemplateData[s],r)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);_s(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}bD.TemplateId="row";function T_t(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return bD.TemplateId}}}class N_t{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new Le,this.onDidLayout=this._onDidLayout.event,this.element=et(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:xt.None}layout(e){this._onDidLayout.fire([this.index,e])}}class W4{constructor(e,t,i,r,s,o){this.virtualDelegate=i,this.domId=`table_id_${++W4.InstanceCount}`,this.disposables=new it,this.cachedWidth=0,this.cachedHeight=0,this.domNode=qe(t,et(`.monaco-table.${this.domId}`));const a=r.map((c,d)=>new N_t(c,d)),l={size:a.reduce((c,d)=>c+d.column.weight,0),views:a.map(c=>({size:c.column.weight,view:c}))};this.splitview=this.disposables.add(new d0e(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const u=new bD(r,s,c=>this.splitview.getViewSize(c));this.list=this.disposables.add(new bf(e,this.domNode,T_t(i),[u],o)),xt.any(...a.map(c=>c.onDidLayout))(([c,d])=>u.layoutColumn(c,d),null,this.disposables),this.splitview.onDidSashReset(c=>{const d=r.reduce((f,g)=>f+g.weight,0),h=r[c].weight/d*this.cachedWidth;this.splitview.resizeView(c,h)},null,this.disposables),this.styleElement=$u(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}W4.InstanceCount=0;var hL;(function(n){n[n.Unknown=0]="Unknown",n[n.Twistie=1]="Twistie",n[n.Element=2]="Element"})(hL||(hL={}));class bu extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class PK{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function FK(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function Yk(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function P8(n){return typeof n.collapsible=="boolean"}class x_t{constructor(e,t,i,r={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new zU,this._onDidChangeCollapseState=new Le,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Le,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Le,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Jh($ge),this.collapseByDefault=typeof r.collapseByDefault=="undefined"?!1:r.collapseByDefault,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren=="undefined"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=Fn.empty(),r={}){if(e.length===0)throw new bu(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,e,t,i,r):this.spliceSimple(e,t,i,r)}spliceSmart(e,t,i,r,s,o){var a;r===void 0&&(r=Fn.empty()),o===void 0&&(o=(a=s.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,r,s);const u=[...r],c=t[t.length-1],d=new Dh({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,c),...u,...l.children.slice(c+i)].map(m=>e.getId(m.element).toString())}).ComputeDiff(!1);if(d.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,u,s);const h=t.slice(0,-1),f=(m,b,_)=>{if(o>0)for(let C=0;C<_;C++)m--,b--,this.spliceSmart(e,[...h,m,0],Number.MAX_SAFE_INTEGER,u[b].children,s,o-1)};let g=Math.min(l.children.length,c+i),p=u.length;for(const m of d.changes.sort((b,_)=>_.originalStart-b.originalStart))f(g,p,g-(m.originalStart+m.originalLength)),g=m.originalStart,p=m.modifiedStart-c,this.spliceSimple([...h,g],m.originalLength,Fn.slice(u,p,p+m.modifiedLength),s);f(g,p,g)}spliceSimple(e,t,i=Fn.empty(),{onDidCreateNode:r,onDidDeleteNode:s,diffIdentityProvider:o}){const{parentNode:a,listIndex:l,revealed:u,visible:c}=this.getParentNodeWithListIndex(e),d=[],h=Fn.map(i,E=>this.createTreeNode(E,a,a.visible?1:0,u,d,r)),f=e[e.length-1],g=a.children.length>0;let p=0;for(let E=f;E>=0&&E<a.children.length;E--){const I=a.children[E];if(I.visible){p=I.visibleChildIndex;break}}const m=[];let b=0,_=0;for(const E of h)m.push(E),_+=E.renderNodeCount,E.visible&&(E.visibleChildIndex=p+b++);const C=yte(a.children,f,t,m);o?a.lastDiffIds?yte(a.lastDiffIds,f,t,m.map(E=>o.getId(E.element).toString())):a.lastDiffIds=a.children.map(E=>o.getId(E.element).toString()):a.lastDiffIds=void 0;let w=0;for(const E of C)E.visible&&w++;if(w!==0)for(let E=f+m.length;E<a.children.length;E++){const I=a.children[E];I.visible&&(I.visibleChildIndex-=w)}if(a.visibleChildrenCount+=b-w,u&&c){const E=C.reduce((I,T)=>I+(T.visible?T.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,_-E),this.list.splice(l,E,d)}if(C.length>0&&s){const E=I=>{s(I),I.children.forEach(E)};C.forEach(E)}const S=a.children.length>0;g!==S&&this.setCollapsible(e.slice(0,-1),S),this._onDidSplice.fire({insertedNodes:m,deletedNodes:C});let D=a;for(;D;){if(D.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}D=D.parent}}rerender(e){if(e.length===0)throw new bu(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:r}=this.getTreeNodeWithListIndex(e);t.visible&&r&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:r}=this.getTreeNodeWithListIndex(e);return i&&r?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t=="undefined"&&(t=!i.collapsible);const r={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const r=this.getTreeNode(e);typeof t=="undefined"&&(t=!r.collapsed);const s={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,s))}_setCollapseState(e,t){const{node:i,listIndex:r,revealed:s}=this.getTreeNodeWithListIndex(e),o=this._setListNodeCollapseState(i,r,s,t);if(i!==this.root&&this.autoExpandSingleChildren&&o&&!P8(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return o}_setListNodeCollapseState(e,t,i,r){const s=this._setNodeCollapseState(e,r,!1);if(!i||!e.visible||!s)return s;const o=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=o-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),s}_setNodeCollapseState(e,t,i){let r;if(e===this.root?r=!1:(P8(t)?(r=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(r=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!P8(t)&&t.recursive)for(const s of e.children)r=this._setNodeCollapseState(s,t,!0)||r;return r}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,r,s,o){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed!="undefined",collapsed:typeof e.collapsed=="undefined"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,r&&s.push(a);const u=e.children||Fn.empty(),c=r&&l!==0&&!a.collapsed,d=Fn.map(u,g=>this.createTreeNode(g,a,l,c,s,o));let h=0,f=1;for(const g of d)a.children.push(g),f+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=h++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=h,a.visible=l===2?h>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=f):(a.renderNodeCount=0,r&&s.pop()),o&&o(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,r=!0){let s;if(e!==this.root){if(s=this._filterNode(e,t),s===0)return e.visible=!1,e.renderNodeCount=0,!1;r&&i.push(e)}const o=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||s!==0){let l=0;for(const u of e.children)a=this._updateNodeAfterFilterChange(u,s,i,r&&!e.collapsed)||a,u.visible&&(u.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=s===2?a:s===1,e.visibility=s),e.visible?e.collapsed||(e.renderNodeCount+=i.length-o):(e.renderNodeCount=0,r&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):FK(i)?(e.filterData=i.data,Yk(i.visibility)):(e.filterData=void 0,Yk(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...r]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(r,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...r]=e;if(i<0||i>t.children.length)throw new bu(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:r,visible:s}=this.getParentNodeWithListIndex(e),o=e[e.length-1];if(o<0||o>t.children.length)throw new bu(this.user,"Invalid tree location");const a=t.children[o];return{node:a,listIndex:i,revealed:r,visible:s&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,r=!0,s=!0){const[o,...a]=e;if(o<0||o>t.children.length)throw new bu(this.user,"Invalid tree location");for(let l=0;l<o;l++)i+=t.children[l].renderNodeCount;return r=r&&!t.collapsed,s=s&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:r,visible:s}:this.getParentNodeWithListIndex(a,t.children[o],i+1,r,s)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Qrt(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class M_t extends _D{constructor(e){super(e.elements.map(t=>t.element));this.data=e}}function F8(n){return n instanceof _D?new M_t(n):n}class A_t{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=ze.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(F8(e),t)}onDragOver(e,t,i,r,s=!0){const o=this.dnd.onDragOver(F8(e),t&&t.element,i,r),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t=="undefined")return o;if(a&&typeof o!="boolean"&&o.autoExpand&&(this.autoExpandDisposable=N_(()=>{const h=this.modelProvider(),f=h.getNodeLocation(t);h.isCollapsed(f)&&h.setCollapsed(f,!1),this.autoExpandNode=void 0},500)),typeof o=="boolean"||!o.accept||typeof o.bubble=="undefined"||o.feedback){if(!s){const h=typeof o=="boolean"?o:o.accept,f=typeof o=="boolean"?void 0:o.effect;return{accept:h,effect:f,feedback:[i]}}return o}if(o.bubble===1){const h=this.modelProvider(),f=h.getNodeLocation(t),g=h.getParentNodeLocation(f),p=h.getNode(g),m=g&&h.getListIndex(g);return this.onDragOver(e,p,m,r,!1)}const l=this.modelProvider(),u=l.getNodeLocation(t),c=l.getListIndex(u),d=l.getListRenderCount(u);return Object.assign(Object.assign({},o),{feedback:Qo(c,c+d)})}drop(e,t,i,r){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(F8(e),t&&t.element,i,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function R_t(n,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new A_t(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){const i=n(),r=i.getNodeLocation(t),s=i.getParentNodeLocation(r);return i.getNode(s).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),enableKeyboardNavigation:e.simpleKeyboardNavigation})}class BK{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}var Xk;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(Xk||(Xk={}));class O_t{constructor(e,t=[]){this._elements=t,this.onDidChange=xt.forEach(e,i=>this._elements=i)}get elements(){return this._elements}}class Zk{constructor(e,t,i,r,s={}){this.renderer=e,this.modelProvider=t,this.activeNodes=r,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Zk.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new oct,this.activeIndentNodes=new Set,this.indentGuidesDisposable=ze.None,this.disposables=new it,this.templateId=e.templateId,this.updateOptions(s),xt.map(i,o=>o.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent!="undefined"&&(this.indent=qa(e.indent,0,40)),typeof e.renderIndentGuides!="undefined"){const t=e.renderIndentGuides!==Xk.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const i=new it;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof e.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=qe(e,et(".monaco-tl-row")),i=qe(t,et(".monaco-tl-indent")),r=qe(t,et(".monaco-tl-twistie")),s=qe(t,et(".monaco-tl-contents")),o=this.renderer.renderTemplate(s);return{container:e,indent:i,twistie:r,indentGuidesDisposable:ze.None,templateData:o}}renderElement(e,t,i,r){typeof r=="number"&&(this.renderedNodes.set(e,{templateData:i,height:r}),this.renderedElements.set(e.element,e));const s=Zk.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${s}px`,i.indent.style.width=`${s+this.indent-16}px`,this.renderTwistie(e,i),typeof r=="number"&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,r)}disposeElement(e,t,i,r){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,r),typeof r=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);!t||this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);!t||(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...k.treeItemExpanded.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...k.treeItemExpanded.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(_s(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new it,r=this.modelProvider();let s=e;for(;;){const o=r.getNodeLocation(s),a=r.getParentNodeLocation(o);if(!a)break;const l=r.getNode(a),u=et(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&u.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(u):t.indent.insertBefore(u,t.indent.firstElementChild),this.renderedIndentGuides.add(l,u),i.add(_n(()=>this.renderedIndentGuides.delete(l,u))),s=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(r=>{const s=i.getNodeLocation(r);try{const o=i.getParentNodeLocation(s);r.collapsible&&r.children.length>0&&!r.collapsed?t.add(r):o&&t.add(i.getNode(o))}catch{}}),this.activeIndentNodes.forEach(r=>{t.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.remove("active"))}),t.forEach(r=>{this.activeIndentNodes.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),jn(this.disposables)}}Zk.DefaultIndent=8;class P_t{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new it,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const s=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return s;let o;if(typeof s=="boolean"?o=s?1:0:FK(s)?o=Yk(s.visibility):o=s,o===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:Ed.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(i)?i:[i];for(const s of r){const o=s&&s.toString();if(typeof o=="undefined")return{data:Ed.Default,visibility:!0};const a=tw(this._pattern,this._lowercasePattern,0,o,o.toLowerCase(),0,!0);if(a)return this._matchCount++,r.length===1?{data:a,visibility:!0}:{data:{label:o,score:a},visibility:!0}}return this.tree.options.filterOnType?2:{data:Ed.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){jn(this.disposables)}}class F_t{constructor(e,t,i,r,s){this.tree=e,this.view=i,this.filter=r,this.keyboardNavigationDelegate=s,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new Le,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new Le,this.enabledDisposables=new it,this.disposables=new it,this.domNode=et(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(nt(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=qe(i.getHTMLElement(),et(".monaco-list-type-filter-message")),this.labelDomNode=qe(this.domNode,et("span.label"));const o=qe(this.domNode,et(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=qe(o,et("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(nt(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=qe(o,et("button.clear"+k.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=L("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),typeof e.filterOnType!="undefined"&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof e.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new Ci(this.view.getHTMLElement(),"keydown")),t=xt.chain(e.event).filter(r=>!sv(r.target)||r.target===this.filterOnTypeDomNode).filter(r=>r.key!=="Dead"&&!/^Media/.test(r.key)).map(r=>new Yi(r)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(r=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(r)&&!(r.keyCode===18||r.keyCode===16||r.keyCode===15||r.keyCode===17)||(this.pattern.length>0||this.triggered)&&(r.keyCode===9||r.keyCode===1)&&!r.altKey&&!r.ctrlKey&&!r.metaKey||r.keyCode===1&&(kn?r.altKey&&!r.metaKey:r.ctrlKey)&&!r.shiftKey).forEach(r=>{r.stopPropagation(),r.preventDefault()}).event,i=this.enabledDisposables.add(new Ci(this.clearDomNode,"click"));xt.chain(xt.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){typeof e=="string"?this.onInput(e):e instanceof MouseEvent||e.keyCode===9||e.keyCode===1&&(kn?e.altKey:e.ctrlKey)?this.onInput(""):e.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,r=>!Ed.isDefault(r.filterData));const i=this.tree.getFocus();if(i.length>0){const r=i[0];this.tree.getRelativeTop(r)===null&&this.tree.reveal(r,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=io(e),i=e.clientWidth,r=i/2,s=this.domNode.clientWidth,o=new it;let a=this.positionClassName;const l=()=>{switch(a){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${i-s-6}px`;break}},u=d=>{d.preventDefault();const h=d.clientX-t;d.dataTransfer&&(d.dataTransfer.dropEffect="none"),h<r?a="nw":a="ne",l()},c=()=>{this.positionClassName=a,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",jn(o)};l(),this.domNode.classList.remove(a),this.domNode.classList.add("dragging"),o.add(_n(()=>this.domNode.classList.remove("dragging"))),o.add(nt(document,"dragover",d=>u(d))),o.add(nt(this.domNode,"dragend",()=>c())),Xf.CurrentDragAndDropData=new Emt("vscode-ui"),o.add(_n(()=>Xf.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...k.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...k.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=L("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...k.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...k.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=L("enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=L("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=L("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Ed.isDefault(e.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),jn(this.disposables)}}function vre(n){let e=hL.Unknown;return gne(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=hL.Twistie:gne(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(e=hL.Element),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function Nx(n,e){e(n),n.children.forEach(t=>Nx(t,e))}class B8{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new Le,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!(t==null?void 0:t.__forceEvent)&&$l(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const r=this;this._onDidChange.fire({get elements(){return r.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),u=c=>l.delete(c);t.forEach(c=>Nx(c,u)),this.set([...l.values()]);return}const i=new Set,r=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>Nx(l,r));const s=new Map,o=l=>s.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>Nx(l,o));const a=[];for(const l of this.nodes){const u=this.identityProvider.getId(l.element).toString();if(!i.has(u))a.push(l);else{const d=s.get(u);d&&a.push(d)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class B_t extends l0e{constructor(e,t){super(e);this.tree=t}onViewPointer(e){if(sv(e.browserEvent.target)||yC(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,r=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let s=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?s=this.tree.expandOnlyOnTwistieClick(t.element):s=!!this.tree.expandOnlyOnTwistieClick,s&&!r&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e);if(t.collapsible){const o=this.tree.model,a=o.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),o.setCollapsed(a,void 0,l),s&&r)return}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(e)}}class $_t extends bf{constructor(e,t,i,r,s,o,a,l){super(e,t,i,r,l);this.focusTrait=s,this.selectionTrait=o,this.anchorTrait=a}createMouseController(e){return new B_t(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const r=[],s=[];let o;i.forEach((a,l)=>{this.focusTrait.has(a)&&r.push(e+l),this.selectionTrait.has(a)&&s.push(e+l),this.anchorTrait.has(a)&&(o=e+l)}),r.length>0&&super.setFocus(Um([...super.getFocus(),...r])),s.length>0&&super.setSelection(Um([...super.getSelection(),...s])),typeof o=="number"&&super.setAnchor(o)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(r=>this.element(r)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(r=>this.element(r)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class h0e{constructor(e,t,i,r,s={}){this._user=e,this._options=s,this.eventBufferer=new zU,this.disposables=new it,this._onWillRefilter=new Le,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Le;const o=new BK(i),a=new Lte,l=new Lte,u=new O_t(l.event);this.renderers=r.map(h=>new Zk(h,()=>this.model,a.event,u,s));for(let h of this.renderers)this.disposables.add(h);let c;s.keyboardNavigationLabelProvider&&(c=new P_t(this,s.keyboardNavigationLabelProvider,s.filter),s=Object.assign(Object.assign({},s),{filter:c}),this.disposables.add(c)),this.focus=new B8(()=>this.view.getFocusedElements()[0],s.identityProvider),this.selection=new B8(()=>this.view.getSelectedElements()[0],s.identityProvider),this.anchor=new B8(()=>this.view.getAnchorElement(),s.identityProvider),this.view=new $_t(e,t,o,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},R_t(()=>this.model,s)),{tree:this})),this.model=this.createModel(e,this.view,s),a.input=this.model.onDidChangeCollapseState;const d=xt.forEach(this.model.onDidSplice,h=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(h),this.selection.onDidModelSplice(h)})});if(d(()=>null,null,this.disposables),l.input=xt.chain(xt.any(d,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const h=new Set;for(const f of this.focus.getNodes())h.add(f);for(const f of this.selection.getNodes())h.add(f);return[...h.values()]}).event,s.keyboardSupport!==!1){const h=xt.chain(this.view.onKeyDown).filter(f=>!sv(f.target)).map(f=>new Yi(f));h.filter(f=>f.keyCode===15).on(this.onLeftArrow,this,this.disposables),h.filter(f=>f.keyCode===17).on(this.onRightArrow,this,this.disposables),h.filter(f=>f.keyCode===10).on(this.onSpace,this,this.disposables)}if(s.keyboardNavigationLabelProvider){const h=s.keyboardNavigationDelegate||s0e;this.typeFilterController=new F_t(this,this.model,this.view,c,h),this.focusNavigationFilter=f=>this.typeFilterController.shouldAllowFocus(f),this.disposables.add(this.typeFilterController)}this.styleElement=$u(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Xk.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return xt.map(this.view.onMouseDblClick,vre)}get onPointer(){return xt.map(this.view.onPointer,vre)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return xt.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Xk.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map(s=>this.model.getNode(s));this.selection.set(i,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setSelection(r,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map(s=>this.model.getNode(s));this.focus.set(i,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setFocus(r,t,!0)}focusNext(e=1,t=!1,i,r=this.focusNavigationFilter){this.view.focusNext(e,t,i,r)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);i!==-1&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return t===-1?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!0)){const o=this.model.getParentNodeLocation(r);if(!o)return;const a=this.model.getListIndex(o);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!1)){if(!i.children.some(l=>l.visible))return;const[o]=this.view.getFocus(),a=o+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i),s=e.browserEvent.altKey;this.model.setCollapsed(r,void 0,s)}dispose(){jn(this.disposables),this.view.dispose()}}class $K{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new x_t(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(r,s){return i.sorter.compare(r.element,s.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=Fn.empty(),i={}){const r=this.getElementLocation(e);this._setChildren(r,this.preserveCollapseState(t),i)}_setChildren(e,t=Fn.empty(),i){const r=new Set,s=new Set,o=l=>{var u;if(l.element===null)return;const c=l;if(r.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();s.add(d),this.nodesByIdentity.set(d,c)}(u=i.onDidCreateNode)===null||u===void 0||u.call(i,c)},a=l=>{var u;if(l.element===null)return;const c=l;if(r.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();s.has(d)||this.nodesByIdentity.delete(d)}(u=i.onDidDeleteNode)===null||u===void 0||u.call(i,c)};this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:o,onDidDeleteNode:a}))}preserveCollapseState(e=Fn.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),Fn.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const o=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(o)}if(!i)return Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children)});const r=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,s=typeof t.collapsed!="undefined"?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:r,collapsed:s,children:this.preserveCollapseState(t.children)})})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getElementLocation(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new bu(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new bu(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new bu(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),r=this.model.getParentNodeLocation(i);return this.model.getNode(r).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new bu(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function xx(n){const e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:Fn.map(Fn.from(n.children),xx),collapsible:n.collapsible,collapsed:n.collapsed}}function Mx(n){const e=[n.element],t=n.incompressible||!1;let i,r;for(;[r,i]=Fn.consume(Fn.from(n.children),2),!(r.length!==1||r[0].incompressible);)n=r[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:Fn.map(Fn.concat(r,i),Mx),collapsible:n.collapsible,collapsed:n.collapsed}}function q$(n,e=0){let t;return e<n.element.elements.length-1?t=[q$(n,e+1)]:t=Fn.map(Fn.from(n.children),i=>q$(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function _re(n){return q$(n,0)}function f0e(n,e,t){return n.element===e?Object.assign(Object.assign({},n),{children:t}):Object.assign(Object.assign({},n),{children:Fn.map(Fn.from(n.children),i=>f0e(i,e,t))})}const V_t=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}});class W_t{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new $K(e,t,i),this.enabled=typeof i.compressionEnabled=="undefined"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=Fn.empty(),i){const r=i.diffIdentityProvider&&V_t(i.diffIdentityProvider);if(e===null){const f=Fn.map(t,this.enabled?Mx:xx);this._setChildren(null,f,{diffIdentityProvider:r,diffDepth:1/0});return}const s=this.nodes.get(e);if(!s)throw new Error("Unknown compressed tree node");const o=this.model.getNode(s),a=this.model.getParentNodeLocation(s),l=this.model.getNode(a),u=_re(o),c=f0e(u,e,t),d=(this.enabled?Mx:xx)(c),h=l.children.map(f=>f===o?d:f);this._setChildren(l.element,h,{diffIdentityProvider:r,diffDepth:o.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,r=Fn.map(i,_re),s=Fn.map(r,e?Mx:xx);this._setChildren(null,s,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const r=new Set,s=a=>{for(const l of a.element.elements)r.add(l),this.nodes.set(l,a.element)},o=a=>{for(const l of a.element.elements)r.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:s,onDidDeleteNode:o}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e=="undefined")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getCompressedNode(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new bu(this.user,`Tree element not found: ${e}`);return t}}const H_t=n=>n[n.length-1];class VK{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new VK(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function z_t(n,e){return{splice(t,i,r){e.splice(t,i,r.map(s=>n.map(s)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function U_t(n,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}})}class j_t{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||H_t;const r=s=>this.elementMapper(s.elements);this.nodeMapper=new PK(s=>new VK(r,s)),this.model=new W_t(e,z_t(this.nodeMapper,t),U_t(r,i))}get onDidSplice(){return xt.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return xt.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return xt.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=Fn.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t=="undefined"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var K_t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class WK extends h0e{constructor(e,t,i,r,s={}){super(e,t,i,r,s);this.user=e}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=Fn.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new $K(e,t,i)}}class g0e{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){const t=this.renderer.renderTemplate(e);return{compressedTreeNode:void 0,data:t}}renderElement(e,t,i,r){const s=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);s.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,r)):(i.compressedTreeNode=s,this.renderer.renderCompressedElements(s,t,i.data,r))}disposeElement(e,t,i,r){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,r):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}K_t([ds],g0e.prototype,"compressedTreeNodeProvider",null);function G_t(n,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}class p0e extends WK{constructor(e,t,i,r,s={}){const o=()=>this,a=r.map(l=>new g0e(o,l));super(e,t,i,a,G_t(o,s))}setChildren(e,t=Fn.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new j_t(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var xp=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function $8(n){return Object.assign(Object.assign({},n),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Y$(n,e){return e.parent?e.parent===n?!0:Y$(n,e.parent):!1}function q_t(n,e){return n===e||Y$(n,e)||Y$(e,n)}class HK{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new HK(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Y_t{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...k.treeItemLoading.classNamesArray),!0):(t.classList.remove(...k.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,r){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function bre(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function Cre(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}class X_t extends _D{constructor(e){super(e.elements.map(t=>t.element));this.data=e}}function V8(n){return n instanceof _D?new X_t(n):n}class Z_t{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(V8(e),t)}onDragOver(e,t,i,r,s=!0){return this.dnd.onDragOver(V8(e),t&&t.element,i,r)}drop(e,t,i,r){this.dnd.drop(V8(e),t&&t.element,i,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function m0e(n){return n&&Object.assign(Object.assign({},n),{collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new Z_t(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:n.accessibilityProvider&&Object.assign(Object.assign({},n.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>{var t;return!!((t=n.accessibilityProvider)===null||t===void 0?void 0:t.isChecked(e.element))}:void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))}),filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},n.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick=="undefined"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:n.additionalScrollHeight})}function X$(n,e){e(n),n.children.forEach(t=>X$(t,e))}class v0e{constructor(e,t,i,r,s,o={}){this.user=e,this.dataSource=s,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Le,this._onDidChangeNodeSlowState=new Le,this.nodeMapper=new PK(a=>new HK(a)),this.disposables=new it,this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren=="undefined"?!1:o.autoExpandSingleChildren,this.sorter=o.sorter,this.collapseByDefault=o.collapseByDefault,this.tree=this.createTree(e,t,i,r,o),this.root=$8({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return xt.map(this.tree.onDidChangeFocus,bre)}get onDidChangeSelection(){return xt.map(this.tree.onDidChangeSelection,bre)}get onMouseDblClick(){return xt.map(this.tree.onMouseDblClick,Cre)}get onPointer(){return xt.map(this.tree.onPointer,Cre)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,r,s){const o=new BK(i),a=r.map(u=>new Y_t(u,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=m0e(s)||{};return new WK(e,t,o,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return xp(this,void 0,void 0,function*(){this.refreshPromises.forEach(r=>r.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,r,s){return xp(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new bu(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield xt.toPromise(this._onDidRender.event));const o=this.getDataNode(e);if(yield this.refreshAndRenderNode(o,t,r,s),i)try{this.tree.rerender(o)}catch{}})}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return xp(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new bu(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield xt.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(yield this.root.refreshPromise,yield xt.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const r=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield xt.toPromise(this._onDidRender.event)),r})}setSelection(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new bu(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,r){return xp(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i,r)})}refreshNode(e,t,i){return xp(this,void 0,void 0,function*(){let r;return this.subTreeRefreshPromises.forEach((s,o)=>{!r&&q_t(o,e)&&(r=s.then(()=>this.refreshNode(e,t,i)))}),r||this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return xp(this,void 0,void 0,function*(){let r;e.refreshPromise=new Promise(s=>r=s),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const s=yield this.doRefreshNode(e,t,i);e.stale=!1,yield P9.settled(s.map(o=>this.doRefreshSubTree(o,t,i)))}finally{r()}})}doRefreshNode(e,t,i){return xp(this,void 0,void 0,function*(){e.hasChildren=!!this.dataSource.hasChildren(e.element);let r;if(!e.hasChildren)r=Promise.resolve(Fn.empty());else{const s=jm(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},o=>null),r=this.doGetChildren(e).finally(()=>s.cancel())}try{const s=yield r;return this.setChildren(e,s,t,i)}catch(s){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),pf(s))return[];throw s}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=qs(()=>xp(this,void 0,void 0,function*(){const i=yield this.dataSource.getChildren(e.element);return this.processChildren(i)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Qt))}setChildren(e,t,i,r){const s=[...t];if(e.children.length===0&&s.length===0)return[];const o=new Map,a=new Map;for(const c of e.children)if(o.set(c.element,c),this.identityProvider){const d=this.tree.isCollapsed(c);a.set(c.id,{node:c,collapsed:d})}const l=[],u=s.map(c=>{const d=!!this.dataSource.hasChildren(c);if(!this.identityProvider){const p=$8({element:c,parent:e,hasChildren:d});return d&&this.collapseByDefault&&!this.collapseByDefault(c)&&(p.collapsedByDefault=!1,l.push(p)),p}const h=this.identityProvider.getId(c).toString(),f=a.get(h);if(f){const p=f.node;return o.delete(p.element),this.nodes.delete(p.element),this.nodes.set(c,p),p.element=c,p.hasChildren=d,i?f.collapsed?(p.children.forEach(m=>X$(m,b=>this.nodes.delete(b.element))),p.children.splice(0,p.children.length),p.stale=!0):l.push(p):d&&this.collapseByDefault&&!this.collapseByDefault(c)&&(p.collapsedByDefault=!1,l.push(p)),p}const g=$8({element:c,parent:e,id:h,hasChildren:d});return r&&r.viewState.focus&&r.viewState.focus.indexOf(h)>-1&&r.focus.push(g),r&&r.viewState.selection&&r.viewState.selection.indexOf(h)>-1&&r.selection.push(g),r&&r.viewState.expanded&&r.viewState.expanded.indexOf(h)>-1?l.push(g):d&&this.collapseByDefault&&!this.collapseByDefault(c)&&(g.collapsedByDefault=!1,l.push(g)),g});for(const c of o.values())X$(c,d=>this.nodes.delete(d.element));for(const c of u)this.nodes.set(c.element,c);return e.children.splice(0,e.children.length,...u),e!==this.root&&this.autoExpandSingleChildren&&u.length===1&&l.length===0&&(u[0].collapsedByDefault=!1,l.push(u[0])),l}render(e,t,i){const r=e.children.map(o=>this.asTreeElement(o,t)),s=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId(o){return i.diffIdentityProvider.getId(o.element)}}});this.tree.setChildren(e===this.root?null:e,r,s),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:i=e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?Fn.map(e.children,r=>this.asTreeElement(r,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class zK{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new zK(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Q_t{constructor(e,t,i,r){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderCompressedElements(e,t,i,r){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...k.treeItemLoading.classNamesArray),!0):(t.classList.remove(...k.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,r){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,r)}disposeCompressedElements(e,t,i,r){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=jn(this.disposables)}}function J_t(n){const e=n&&m0e(n);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}})})}class e1t extends v0e{constructor(e,t,i,r,s,o,a={}){super(e,t,i,s,o,a);this.compressionDelegate=r,this.compressibleNodeMapper=new PK(l=>new zK(l)),this.filter=a.filter}createTree(e,t,i,r,s){const o=new BK(i),a=r.map(u=>new Q_t(u,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=J_t(s)||{};return new p0e(e,t,o,a,l)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=h=>this.identityProvider.getId(h).toString(),r=h=>{const f=new Set;for(const g of h){const p=this.tree.getCompressedTreeNode(g===this.root?null:g);if(!!p.element)for(const m of p.element.elements)f.add(i(m.element))}return f},s=r(this.tree.getSelection()),o=r(this.tree.getFocus());super.render(e,t);const a=this.getSelection();let l=!1;const u=this.getFocus();let c=!1;const d=h=>{const f=h.element;if(f)for(let g=0;g<f.elements.length;g++){const p=i(f.elements[g].element),m=f.elements[f.elements.length-1].element;s.has(p)&&a.indexOf(m)===-1&&(a.push(m),l=!0),o.has(p)&&u.indexOf(m)===-1&&(u.push(m),c=!0)}h.children.forEach(d)};d(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(a),c&&this.setFocus(u)}processChildren(e){return this.filter&&(e=Fn.filter(e,t=>{const i=this.filter.filter(t,1),r=t1t(i);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(e)}}function t1t(n){return typeof n=="boolean"?n?1:0:FK(n)?Yk(n.visibility):Yk(n)}class n1t extends h0e{constructor(e,t,i,r,s,o={}){super(e,t,i,r,o);this.user=e,this.dataSource=s,this.identityProvider=o.identityProvider}createModel(e,t,i){return new $K(e,t,i)}}new St("isMac",kn,L("isMac","Whether the operating system is macOS"));new St("isLinux",Ao,L("isLinux","Whether the operating system is Linux"));const H4=new St("isWindows",Gs,L("isWindows","Whether the operating system is Windows"));new St("isWeb",Lv,L("isWeb","Whether the platform is a web browser"));new St("isMacNative",kn&&!Lv,L("isMacNative","Whether the operating system is macOS on a non-browser platform"));new St("isIOS",Ad,L("isIOS","Whether the operating system is IOS"));new St("isDevelopment",!1,!0);const _0e="inputFocus";new St(_0e,!1,L("inputFocus","Whether keyboard focus is inside an input box"));var Cf=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},yn=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Gu=Pn("listService");let Z$=class{constructor(e){this._themeService=e,this.disposables=new it,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const r=new u0e($u(),"");this.disposables.add(U_(r,this._themeService))}if(this.lists.some(r=>r.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),vm(e.onDidFocus(()=>this.setLastFocusedList(e)),_n(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(r=>r!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Z$=Cf([yn(0,Ki)],Z$);const b0e=new St("listFocus",!0),z4=new St("listSupportsMultiselect",!0),C0e=_t.and(b0e,_t.not(_0e)),UK=new St("listHasSelectionOrFocus",!1),jK=new St("listDoubleSelection",!1),KK=new St("listMultiSelection",!1),U4=new St("listSelectionNavigation",!1),GK=new St("treeElementCanCollapse",!1),i1t=new St("treeElementHasParent",!1),qK=new St("treeElementCanExpand",!1),r1t=new St("treeElementHasChild",!1),y0e="listAutomaticKeyboardNavigation";function j4(n,e){const t=n.createScoped(e.getHTMLElement());return b0e.bindTo(t),t}const $1="workbench.list.multiSelectModifier",Q$="workbench.list.openMode",Mu="workbench.list.horizontalScrolling",uR="workbench.list.keyboardNavigation",YK="workbench.list.automaticKeyboardNavigation",Qk="workbench.tree.indent",cR="workbench.tree.renderIndentGuides",Bd="workbench.list.smoothScrolling",of="workbench.list.mouseWheelScrollSensitivity",af="workbench.list.fastScrollSensitivity",dR="workbench.tree.expandMode";function lf(n){return n.getValue($1)==="alt"}class s1t extends ze{constructor(e){super();this.configurationService=e,this.useAltAsMultipleSelectionModifier=lf(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration($1)&&(this.useAltAsMultipleSelectionModifier=lf(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:o0e(e)}isSelectionRangeChangeEvent(e){return a0e(e)}}function K4(n,e,t){var i;const r=new it;return[Object.assign(Object.assign({},n),{keyboardNavigationDelegate:{mightProducePrintableCharacter(o){return t.mightProducePrintableCharacter(o)}},smoothScrolling:Boolean(e.getValue(Bd)),mouseWheelScrollSensitivity:e.getValue(of),fastScrollSensitivity:e.getValue(af),multipleSelectionController:(i=n.multipleSelectionController)!==null&&i!==void 0?i:r.add(new s1t(e))}),r]}let J$=class extends bf{constructor(e,t,i,r,s,o,a,l,u,c){const d=typeof s.horizontalScrolling!="undefined"?s.horizontalScrolling:Boolean(u.getValue(Mu)),[h,f]=K4(s,u,c);super(e,t,i,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},ad(l.getColorTheme(),P4)),h),{horizontalScrolling:d}));this.disposables.add(f),this.contextKeyService=j4(o,this),this.themeService=l,this.listSupportsMultiSelect=z4.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),U4.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=UK.bindTo(this.contextKeyService),this.listDoubleSelection=jK.bindTo(this.contextKeyService),this.listMultiSelection=KK.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=lf(u),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const p=this.getSelection(),m=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(p.length>0||m.length>0),this.listMultiSelection.set(p.length>1),this.listDoubleSelection.set(p.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const p=this.getSelection(),m=this.getFocus();this.listHasSelectionOrFocus.set(p.length>0||m.length>0)})),this.disposables.add(u.onDidChangeConfiguration(p=>{p.affectsConfiguration($1)&&(this._useAltAsMultipleSelectionModifier=lf(u));let m={};if(p.affectsConfiguration(Mu)&&this.horizontalScrolling===void 0){const b=Boolean(u.getValue(Mu));m=Object.assign(Object.assign({},m),{horizontalScrolling:b})}if(p.affectsConfiguration(Bd)){const b=Boolean(u.getValue(Bd));m=Object.assign(Object.assign({},m),{smoothScrolling:b})}if(p.affectsConfiguration(of)){const b=u.getValue(of);m=Object.assign(Object.assign({},m),{mouseWheelScrollSensitivity:b})}if(p.affectsConfiguration(af)){const b=u.getValue(af);m=Object.assign(Object.assign({},m),{fastScrollSensitivity:b})}Object.keys(m).length>0&&this.updateOptions(m)})),this.navigator=new w0e(this,Object.assign({configurationService:u},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=U_(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),super.dispose()}};J$=Cf([yn(5,Zt),yn(6,Gu),yn(7,Ki),yn(8,Mi),yn(9,Dr)],J$);let yre=class extends k_t{constructor(e,t,i,r,s,o,a,l,u,c){const d=typeof s.horizontalScrolling!="undefined"?s.horizontalScrolling:Boolean(u.getValue(Mu)),[h,f]=K4(s,u,c);super(e,t,i,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},ad(l.getColorTheme(),P4)),h),{horizontalScrolling:d}));this.disposables=new it,this.disposables.add(f),this.contextKeyService=j4(o,this),this.themeService=l,this.horizontalScrolling=s.horizontalScrolling,this.listSupportsMultiSelect=z4.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),U4.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this._useAltAsMultipleSelectionModifier=lf(u),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),s.overrideStyles&&this.disposables.add(U_(this,l,s.overrideStyles)),this.disposables.add(u.onDidChangeConfiguration(p=>{p.affectsConfiguration($1)&&(this._useAltAsMultipleSelectionModifier=lf(u));let m={};if(p.affectsConfiguration(Mu)&&this.horizontalScrolling===void 0){const b=Boolean(u.getValue(Mu));m=Object.assign(Object.assign({},m),{horizontalScrolling:b})}if(p.affectsConfiguration(Bd)){const b=Boolean(u.getValue(Bd));m=Object.assign(Object.assign({},m),{smoothScrolling:b})}if(p.affectsConfiguration(of)){const b=u.getValue(of);m=Object.assign(Object.assign({},m),{mouseWheelScrollSensitivity:b})}if(p.affectsConfiguration(af)){const b=u.getValue(af);m=Object.assign(Object.assign({},m),{fastScrollSensitivity:b})}Object.keys(m).length>0&&this.updateOptions(m)})),this.navigator=new w0e(this,Object.assign({configurationService:u},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=U_(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};yre=Cf([yn(5,Zt),yn(6,Gu),yn(7,Ki),yn(8,Mi),yn(9,Dr)],yre);let wre=class extends W4{constructor(e,t,i,r,s,o,a,l,u,c,d){const h=typeof o.horizontalScrolling!="undefined"?o.horizontalScrolling:Boolean(c.getValue(Mu)),[f,g]=K4(o,c,d);super(e,t,i,r,s,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},ad(u.getColorTheme(),P4)),f),{horizontalScrolling:h}));this.disposables.add(g),this.contextKeyService=j4(a,this),this.themeService=u,this.listSupportsMultiSelect=z4.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),U4.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=UK.bindTo(this.contextKeyService),this.listDoubleSelection=jK.bindTo(this.contextKeyService),this.listMultiSelection=KK.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=lf(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const m=this.getSelection(),b=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(m.length>0||b.length>0),this.listMultiSelection.set(m.length>1),this.listDoubleSelection.set(m.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const m=this.getSelection(),b=this.getFocus();this.listHasSelectionOrFocus.set(m.length>0||b.length>0)})),this.disposables.add(c.onDidChangeConfiguration(m=>{m.affectsConfiguration($1)&&(this._useAltAsMultipleSelectionModifier=lf(c));let b={};if(m.affectsConfiguration(Mu)&&this.horizontalScrolling===void 0){const _=Boolean(c.getValue(Mu));b=Object.assign(Object.assign({},b),{horizontalScrolling:_})}if(m.affectsConfiguration(Bd)){const _=Boolean(c.getValue(Bd));b=Object.assign(Object.assign({},b),{smoothScrolling:_})}if(m.affectsConfiguration(of)){const _=c.getValue(of);b=Object.assign(Object.assign({},b),{mouseWheelScrollSensitivity:_})}if(m.affectsConfiguration(af)){const _=c.getValue(af);b=Object.assign(Object.assign({},b),{fastScrollSensitivity:_})}Object.keys(b).length>0&&this.updateOptions(b)})),this.navigator=new o1t(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=U_(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};wre=Cf([yn(6,Zt),yn(7,Gu),yn(8,Ki),yn(9,Mi),yn(10,Dr)],wre);class XK extends ze{constructor(e,t){var i;super();this.widget=e,this._onDidOpen=this._register(new Le),this.onDidOpen=this._onDidOpen.event,this._register(xt.filter(this.widget.onDidChangeSelection,r=>r.browserEvent instanceof KeyboardEvent)(r=>this.onSelectionFromKeyboard(r))),this._register(this.widget.onPointer(r=>this.onPointer(r.element,r.browserEvent))),this._register(this.widget.onMouseDblClick(r=>this.onMouseDblClick(r.element,r.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t==null?void 0:t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(Q$))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(Q$))!=="doubleClick"}))):this.openOnSingleClick=(i=t==null?void 0:t.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,r=typeof t.pinned=="boolean"?t.pinned:!i,s=!1;this._open(this.getSelectedElement(),i,r,s,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const r=t.button===1,s=!0,o=r,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const s=!1,o=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}_open(e,t,i,r,s){!e||this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:r,element:e,browserEvent:s})}}class w0e extends XK{constructor(e,t){super(e,t);this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class o1t extends XK{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class a1t extends XK{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}}function l1t(n,e){let t=!1;return i=>{if(i.toKeybinding().isModifierKey())return!1;if(t)return t=!1,!1;const r=e.softDispatch(i,n);return r&&r.enterChord?(t=!0,!1):(t=!1,!0)}}let Sre=class extends WK{constructor(e,t,i,r,s,o,a,l,u,c,d){const{options:h,getAutomaticKeyboardNavigation:f,disposable:g}=CD(t,s,o,u,c,d);super(e,t,i,r,h);this.disposables.add(g),this.internals=new K_(this,s,f,s.overrideStyles,o,a,l,u,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Sre=Cf([yn(5,Zt),yn(6,Gu),yn(7,Ki),yn(8,Mi),yn(9,Dr),yn(10,ul)],Sre);let Lre=class extends p0e{constructor(e,t,i,r,s,o,a,l,u,c,d){const{options:h,getAutomaticKeyboardNavigation:f,disposable:g}=CD(t,s,o,u,c,d);super(e,t,i,r,h);this.disposables.add(g),this.internals=new K_(this,s,f,s.overrideStyles,o,a,l,u,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Lre=Cf([yn(5,Zt),yn(6,Gu),yn(7,Ki),yn(8,Mi),yn(9,Dr),yn(10,ul)],Lre);let kre=class extends n1t{constructor(e,t,i,r,s,o,a,l,u,c,d,h){const{options:f,getAutomaticKeyboardNavigation:g,disposable:p}=CD(t,o,a,c,d,h);super(e,t,i,r,s,f);this.disposables.add(p),this.internals=new K_(this,o,g,o.overrideStyles,a,l,u,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};kre=Cf([yn(6,Zt),yn(7,Gu),yn(8,Ki),yn(9,Mi),yn(10,Dr),yn(11,ul)],kre);let eV=class extends v0e{constructor(e,t,i,r,s,o,a,l,u,c,d,h){const{options:f,getAutomaticKeyboardNavigation:g,disposable:p}=CD(t,o,a,c,d,h);super(e,t,i,r,s,f);this.disposables.add(p),this.internals=new K_(this,o,g,o.overrideStyles,a,l,u,c,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};eV=Cf([yn(6,Zt),yn(7,Gu),yn(8,Ki),yn(9,Mi),yn(10,Dr),yn(11,ul)],eV);let Ere=class extends e1t{constructor(e,t,i,r,s,o,a,l,u,c,d,h,f){const{options:g,getAutomaticKeyboardNavigation:p,disposable:m}=CD(t,a,l,d,h,f);super(e,t,i,r,s,o,g);this.disposables.add(m),this.internals=new K_(this,a,p,a.overrideStyles,l,u,c,d,f),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Ere=Cf([yn(7,Zt),yn(8,Gu),yn(9,Ki),yn(10,Mi),yn(11,Dr),yn(12,ul)],Ere);function CD(n,e,t,i,r,s){var o;const a=()=>{let g=Boolean(t.getContextKeyValue(y0e));return g&&(g=Boolean(i.getValue(YK))),g},l=s.isScreenReaderOptimized(),u=e.simpleKeyboardNavigation||l?"simple":i.getValue(uR),c=e.horizontalScrolling!==void 0?e.horizontalScrolling:Boolean(i.getValue(Mu)),[d,h]=K4(e,i,r),f=e.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:h,options:Object.assign(Object.assign({keyboardSupport:!1},d),{indent:typeof i.getValue(Qk)=="number"?i.getValue(Qk):void 0,renderIndentGuides:i.getValue(cR),smoothScrolling:Boolean(i.getValue(Bd)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:u==="simple",filterOnType:u==="filter",horizontalScrolling:c,keyboardNavigationEventFilter:l1t(n,r),additionalScrollHeight:f,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(o=e.expandOnlyOnTwistieClick)!==null&&o!==void 0?o:i.getValue(dR)==="doubleClick"})}}let K_=class{constructor(e,t,i,r,s,o,a,l,u){this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=j4(s,e),this.listSupportsMultiSelect=z4.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),U4.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=UK.bindTo(this.contextKeyService),this.hasDoubleSelection=jK.bindTo(this.contextKeyService),this.hasMultiSelection=KK.bindTo(this.contextKeyService),this.treeElementCanCollapse=GK.bindTo(this.contextKeyService),this.treeElementHasParent=i1t.bindTo(this.contextKeyService),this.treeElementCanExpand=qK.bindTo(this.contextKeyService),this.treeElementHasChild=r1t.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=lf(l);const d=new Set;d.add(y0e);const h=()=>{const p=u.isScreenReaderOptimized()?"simple":l.getValue(uR);e.updateOptions({simpleKeyboardNavigation:p==="simple",filterOnType:p==="filter"})};this.updateStyleOverrides(r);const f=()=>{const g=e.getFocus()[0];if(!g)return;const p=e.getNode(g);this.treeElementCanCollapse.set(p.collapsible&&!p.collapsed),this.treeElementHasParent.set(!!e.getParentElement(g)),this.treeElementCanExpand.set(p.collapsible&&p.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(g))};this.disposables.push(this.contextKeyService,o.register(e),e.onDidChangeSelection(()=>{const g=e.getSelection(),p=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(g.length>0||p.length>0),this.hasMultiSelection.set(g.length>1),this.hasDoubleSelection.set(g.length===2)})}),e.onDidChangeFocus(()=>{const g=e.getSelection(),p=e.getFocus();this.hasSelectionOrFocus.set(g.length>0||p.length>0),f()}),e.onDidChangeCollapseState(f),e.onDidChangeModel(f),l.onDidChangeConfiguration(g=>{let p={};if(g.affectsConfiguration($1)&&(this._useAltAsMultipleSelectionModifier=lf(l)),g.affectsConfiguration(Qk)){const m=l.getValue(Qk);p=Object.assign(Object.assign({},p),{indent:m})}if(g.affectsConfiguration(cR)){const m=l.getValue(cR);p=Object.assign(Object.assign({},p),{renderIndentGuides:m})}if(g.affectsConfiguration(Bd)){const m=Boolean(l.getValue(Bd));p=Object.assign(Object.assign({},p),{smoothScrolling:m})}if(g.affectsConfiguration(uR)&&h(),g.affectsConfiguration(YK)&&(p=Object.assign(Object.assign({},p),{automaticKeyboardNavigation:i()})),g.affectsConfiguration(Mu)&&t.horizontalScrolling===void 0){const m=Boolean(l.getValue(Mu));p=Object.assign(Object.assign({},p),{horizontalScrolling:m})}if(g.affectsConfiguration(dR)&&t.expandOnlyOnTwistieClick===void 0&&(p=Object.assign(Object.assign({},p),{expandOnlyOnTwistieClick:l.getValue(dR)==="doubleClick"})),g.affectsConfiguration(of)){const m=l.getValue(of);p=Object.assign(Object.assign({},p),{mouseWheelScrollSensitivity:m})}if(g.affectsConfiguration(af)){const m=l.getValue(af);p=Object.assign(Object.assign({},p),{fastScrollSensitivity:m})}Object.keys(p).length>0&&e.updateOptions(p)}),this.contextKeyService.onDidChangeContext(g=>{g.affectsSome(d)&&e.updateOptions({automaticKeyboardNavigation:i()})}),u.onDidChangeScreenReaderOptimized(()=>h())),this.navigator=new a1t(e,Object.assign({configurationService:l},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){jn(this.styler),this.styler=e?U_(this.tree,this.themeService,e):ze.None}dispose(){this.disposables=jn(this.disposables),jn(this.styler),this.styler=void 0}};K_=Cf([yn(4,Zt),yn(5,Gu),yn(6,Ki),yn(7,Mi),yn(8,ul)],K_);const u1t=jr.as(A1.Configuration);u1t.registerConfiguration({id:"workbench",order:7,title:L("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[$1]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[L("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),L("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:L({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Q$]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:L({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Mu]:{type:"boolean",default:!1,description:L("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Qk]:{type:"number",default:8,minimum:4,maximum:40,description:L("tree indent setting","Controls tree indentation in pixels.")},[cR]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:L("render tree indent guides","Controls whether the tree should render indent guides.")},[Bd]:{type:"boolean",default:!1,description:L("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[of]:{type:"number",default:1,description:L("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[af]:{type:"number",default:5,description:L("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[uR]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[L("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),L("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),L("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:L("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[YK]:{type:"boolean",default:!0,markdownDescription:L("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[dR]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:L("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});var tV;(function(n){n[n.PRESERVE=0]="PRESERVE",n[n.LAST=1]="LAST"})(tV||(tV={}));const V1={Quickaccess:"workbench.contributions.quickaccess"};class c1t{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),_n(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return L1([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}jr.add(V1.Quickaccess,new c1t);const ap=Pn("quickInputService");var d1t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Dre=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let nV=class extends ze{constructor(e,t){super();this.quickInputService=e,this.instantiationService=t,this.registry=jr.as(V1.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var r;const[s,o]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a==null?void 0:a.descriptor;if(a&&o&&l===o){e!==o.prefix&&!(i==null?void 0:i.preserveValue)&&(a.picker.value=e),this.adjustValueSelection(a.picker,o,i);return}if(o&&!(i==null?void 0:i.preserveValue)){let f;if(a&&l&&l!==o){const g=a.value.substr(l.prefix.length);g&&(f=`${o.prefix}${g}`)}if(!f){const g=s==null?void 0:s.defaultFilterValue;g===tV.LAST?f=this.lastAcceptedPickerValues.get(o):typeof g=="string"&&(f=`${o.prefix}${g}`)}typeof f=="string"&&(e=f)}const u=new it,c=u.add(this.quickInputService.createQuickPick());c.value=e,this.adjustValueSelection(c,o,i),c.placeholder=o==null?void 0:o.placeholder,c.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!a,(typeof(i==null?void 0:i.itemActivation)=="number"||(i==null?void 0:i.quickNavigateConfiguration))&&(c.itemActivation=(r=i==null?void 0:i.itemActivation)!==null&&r!==void 0?r:od.SECOND),c.contextKey=o==null?void 0:o.contextKey,c.filterValue=f=>f.substring(o?o.prefix.length:0),(o==null?void 0:o.placeholder)&&(c.ariaLabel=o==null?void 0:o.placeholder);let d;t&&(d=new qU,u.add(Gg(c.onWillAccept)(f=>{f.veto(),c.hide()}))),u.add(this.registerPickerListeners(c,s,o,e));const h=u.add(new co);if(s&&u.add(s.provide(c,h.token)),Gg(c.onDidHide)(()=>{c.selectedItems.length===0&&h.cancel(),u.dispose(),d==null||d.complete(c.selectedItems.slice(0))}),c.show(),t)return d==null?void 0:d.p}adjustValueSelection(e,t,i){var r;let s;(i==null?void 0:i.preserveValue)?s=[e.value.length,e.value.length]:s=[(r=t==null?void 0:t.prefix.length)!==null&&r!==void 0?r:0,e.value.length],e.valueSelection=s}registerPickerListeners(e,t,i,r){const s=new it,o=this.visibleQuickAccess={picker:e,descriptor:i,value:r};return s.add(_n(()=>{o===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),s.add(e.onDidChangeValue(a=>{const[l]=this.getOrInstantiateProvider(a);l!==t?this.show(a,{preserveValue:!0}):o.value=a})),i&&s.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),s}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};nV=d1t([Dre(0,ap),Dre(1,Mn)],nV);var h1t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},HS=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let iV=class extends Yut{constructor(e,t,i,r,s){super(i);this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=r,this.layoutService=s,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(nV))),this._quickAccess}createController(e=this.layoutService,t){var i,r;const s={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),returnFocus:()=>e.focus(),createList:(a,l,u,c,d)=>this.instantiationService.createInstance(J$,a,l,u,c,d),styles:this.computeStyles()},o=this._register(new V4(Object.assign(Object.assign({},s),t)));return o.layout(e.dimension,(r=(i=e.offset)===null||i===void 0?void 0:i.top)!==null&&r!==void 0?r:0),this._register(e.onDidLayout(a=>{var l,u;return o.layout(a,(u=(l=e.offset)===null||l===void 0?void 0:l.top)!==null&&u!==void 0?u:0)})),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new St(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=En.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},ad(this.theme,{quickInputBackground:wne,quickInputForeground:Nct,quickInputTitleBackground:xct,contrastBorder:rr,widgetShadow:Qm})),inputBox:ad(this.theme,{inputForeground:Rj,inputBackground:Aj,inputBorder:Oj,inputValidationInfoBackground:ome,inputValidationInfoForeground:ame,inputValidationInfoBorder:lme,inputValidationWarningBackground:ume,inputValidationWarningForeground:cme,inputValidationWarningBorder:dme,inputValidationErrorBackground:hme,inputValidationErrorForeground:fme,inputValidationErrorBorder:gme}),countBadge:ad(this.theme,{badgeBackground:G2,badgeForeground:q2,badgeBorder:rr}),button:ad(this.theme,{buttonForeground:yct,buttonBackground:X7,buttonHoverBackground:wct,buttonBorder:rr}),progressBar:ad(this.theme,{progressBarBackground:Sct}),keybindingLabel:ad(this.theme,{keybindingLabelBackground:Rct,keybindingLabelForeground:Oct,keybindingLabelBorder:Pct,keybindingLabelBottomBorder:Fct,keybindingLabelShadow:Qm}),list:ad(this.theme,{listBackground:wne,listInactiveFocusForeground:yx,listInactiveSelectionIconForeground:wx,listInactiveFocusBackground:Sx,listFocusOutline:Go,listInactiveFocusOutline:Go,pickerGroupBorder:Act,pickerGroupForeground:Mct})}}};iV=h1t([HS(0,Mn),HS(1,Zt),HS(2,Ki),HS(3,ul),HS(4,gD)],iV);var S0e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},w0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let rV=class extends iV{constructor(e,t,i,r,s,o){super(t,i,r,s,new m$(e.getContainerDomNode(),o));this.host=void 0;const a=iw.get(e);if(a){const l=a.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return l.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};rV=S0e([w0(1,Mn),w0(2,Zt),w0(3,Ki),w0(4,ul),w0(5,ci)],rV);let sV=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(rV,e);this.mapEditorToService.set(e,t),Gg(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=En.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};sV=S0e([w0(0,Mn),w0(1,ci)],sV);class iw{constructor(e){this.editor=e,this.widget=new G4(this.editor)}static get(e){return e.getContribution(iw.ID)}dispose(){this.widget.dispose()}}iw.ID="editor.controller.quickInput";class G4{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return G4.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}G4.ID="editor.contrib.quickInputWidget";oi(iw.ID,iw);class f1t{constructor(e,t,i,r,s){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=r,this.background=s}}function g1t(n){if(!n||!Array.isArray(n))return[];const e=[];let t=0;for(let i=0,r=n.length;i<r;i++){const s=n[i];let o=-1;if(typeof s.fontStyle=="string"){o=0;const u=s.fontStyle.split(" ");for(let c=0,d=u.length;c<d;c++)switch(u[c]){case"italic":o=o|1;break;case"bold":o=o|2;break;case"underline":o=o|4;break;case"strikethrough":o=o|8;break}}let a=null;typeof s.foreground=="string"&&(a=s.foreground);let l=null;typeof s.background=="string"&&(l=s.background),e[t++]=new f1t(s.token||"",i,o,a,l)}return e}function p1t(n,e){n.sort((c,d)=>{const h=C1t(c.token,d.token);return h!==0?h:c.index-d.index});let t=0,i="000000",r="ffffff";for(;n.length>=1&&n[0].token==="";){const c=n.shift();c.fontStyle!==-1&&(t=c.fontStyle),c.foreground!==null&&(i=c.foreground),c.background!==null&&(r=c.background)}const s=new v1t;for(let c of e)s.getId(c);const o=s.getId(i),a=s.getId(r),l=new ZK(t,o,a),u=new QK(l);for(let c=0,d=n.length;c<d;c++){const h=n[c];u.insert(h.token,h.fontStyle,s.getId(h.foreground),s.getId(h.background))}return new L0e(s,u)}const m1t=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class v1t{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(m1t);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=We.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class L0e{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(g1t(e),t)}static createFromParsedTokenTheme(e,t){return p1t(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i=="undefined"){const r=this._match(t),s=b1t(t);i=(r.metadata|s<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const _1t=/\b(comment|string|regex|regexp)\b/;function b1t(n){const e=n.match(_1t);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function C1t(n,e){return n<e?-1:n>e?1:0}class ZK{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new ZK(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}class QK{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;const t=e.indexOf(".");let i,r;t===-1?(i=e,r=""):(i=e.substring(0,t),r=e.substring(t+1));const s=this._children.get(i);return typeof s!="undefined"?s.match(r):this._mainRule}insert(e,t,i,r){if(e===""){this._mainRule.acceptOverwrite(t,i,r);return}const s=e.indexOf(".");let o,a;s===-1?(o=e,a=""):(o=e.substring(0,s),a=e.substring(s+1));let l=this._children.get(o);typeof l=="undefined"&&(l=new QK(this._mainRule.clone()),this._children.set(o,l)),l.insert(a,t,i,r)}}function y1t(n){const e=[];for(let t=1,i=n.length;t<i;t++){const r=n[t];e[t]=`.mtk${t} { color: ${r}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}const w1t={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Ta]:"#FFFFFE",[Lm]:"#000000",[Fj]:"#E5EBF1",[w4]:"#D3D3D3",[S4]:"#939393",[Bj]:"#ADD6FF4D"}},S1t={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ta]:"#1E1E1E",[Lm]:"#D4D4D4",[Fj]:"#3A3D41",[w4]:"#404040",[S4]:"#707070",[Bj]:"#ADD6FF26"}},L1t={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ta]:"#000000",[Lm]:"#FFFFFF",[w4]:"#FFFFFF",[S4]:"#FFFFFF"}};function k1t(n){const e=new Le,t=mve();return t.onDidChange(()=>e.fire()),n==null||n.onDidProductIconThemeChange(()=>e.fire()),{onDidChange:e.event,getCSS(){const i=n?n.getProductIconTheme():new k0e,r={},s=a=>{const l=i.getIcon(a);if(!l)return;const u=l.font;return u?(r[u.id]=u.getDefinition(),`.codicon-${a.id}:before { content: '${l.fontCharacter}'; font-family: ${vne(u.id)}; }`):`.codicon-${a.id}:before { content: '${l.fontCharacter}'; }`},o=[];for(let a of t.getIcons()){const l=s(a);l&&o.push(l)}for(let a in r){const l=r[a];if(l){const u=l.weight?`font-weight: ${l.weight};`:"",c=l.style?`font-style: ${l.style};`:"",d=l.src.map(h=>`${O_(h.location)} format('${h.format}')`).join(", ");o.push(`@font-face { src: ${d}; font-family: ${vne(a)};${u}${c} font-display: block; }`)}}return o.join(`
`)}}}class k0e{getIcon(e){const t=mve();let i=e.defaults;for(;Ti.isThemeIcon(i);){const r=t.getIcon(i.id);if(!r)return;i=r.defaults}return i}}const z0="vs",hR="vs-dark",ry="hc-black",E0e=jr.as(rme.ColorContribution),E1t=jr.as(Gpe.ThemingContribution);class D0e{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(Ax(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,We.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=oV(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,We.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=E0e.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case z0:return Tc.LIGHT;case ry:return Tc.HIGH_CONTRAST;default:return Tc.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const s=oV(this.themeData.base);e=s.rules,s.encodedTokensColors&&(t=s.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],r=this.themeData.colors["editor.background"];if(i||r){const s={token:""};i&&(s.foreground=i),r&&(s.background=r),e.push(s)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=L0e.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const s=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=ko.getForeground(s),a=ko.getFontStyle(s);return{foreground:o,italic:Boolean(a&1),bold:Boolean(a&2),underline:Boolean(a&4),strikethrough:Boolean(a&8)}}}function Ax(n){return n===z0||n===hR||n===ry}function oV(n){switch(n){case z0:return w1t;case hR:return S1t;case ry:return L1t}}function W8(n){const e=oV(n);return new D0e(n,e)}class D1t extends ze{constructor(){super();this._onColorThemeChange=this._register(new Le),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new Le),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new k0e,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(z0,W8(z0)),this._knownThemes.set(hR,W8(hR)),this._knownThemes.set(ry,W8(ry));const e=k1t(this);this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(z0),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),Hut("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return r4(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=$u(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),ze.None}_registerShadowDomContainer(e){const t=$u(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Ax(t.base)&&!Ax(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new D0e(e,t)),Ax(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(z0),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(ry):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:o=>{t[o]||(e.push(o),t[o]=!0)}};E1t.getThemingParticipants().forEach(o=>o(this._theme,i,this._environment));const r=[];for(const o of E0e.getColors()){const a=this._theme.getColor(o.id,!0);a&&r.push(`${ime(o.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor { ${r.join(`
`)} }`);const s=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(y1t(s)),this._themeCSS=e.join(`
`),this._updateCSS(),dr.setColorMap(s),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const Jl=Pn("themeService");var I1t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ire=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let aV=class extends ze{constructor(e,t){super();this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Le,this._accessibilityModeEnabledContext=aD.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};aV=I1t([Ire(0,Zt),Ire(1,Mi)],aV);var I0e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Rx=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let lV=class{constructor(e){this._commandService=e}createMenu(e,t,i){return new uV(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};lV=I0e([Rx(0,Pr)],lV);let uV=class Jb{constructor(e,t,i,r,s){this._id=e,this._options=t,this._commandService=i,this._contextKeyService=r,this._menuService=s,this._disposables=new it,this._menuGroups=[],this._contextKeys=new Set,this._build();const o=new Ni(()=>{this._build(),this._onDidChange.fire(this)},t.eventDebounceDelay);this._disposables.add(o),this._disposables.add(Vl.onDidChangeMenu(u=>{u.has(e)&&o.schedule()}));const a=this._disposables.add(new it),l=()=>{const u=new Ni(()=>this._onDidChange.fire(this),t.eventDebounceDelay);a.add(u),a.add(r.onDidChangeContext(c=>{c.affectsSome(this._contextKeys)&&u.schedule()}))};this._onDidChange=new Le({onFirstListenerAdd:l,onLastListenerRemove:a.clear.bind(a)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const e=Vl.getMenuItems(this._id);let t;e.sort(Jb._compareMenuItems);for(const i of e){const r=i.group||"";(!t||t[0]!==r)&&(t=[r,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(Jb._fillInKbExprKeys(e.when,this._contextKeys),pC(e)){if(e.command.precondition&&Jb._fillInKbExprKeys(e.command.precondition,this._contextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;Jb._fillInKbExprKeys(t,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&Vl.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let i of this._menuGroups){const[r,s]=i,o=[];for(const a of s)if(this._contextKeyService.contextMatchesRules(a.when)){const l=pC(a)?new Zm(a.command,a.alt,e,this._contextKeyService,this._commandService):new Mj(a,this._menuService,this._contextKeyService,e);o.push(l)}o.length>0&&t.push([r,o])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(e,t){let i=e.group,r=t.group;if(i!==r){if(i){if(!r)return-1}else return 1;if(i==="navigation")return-1;if(r==="navigation")return 1;let a=i.localeCompare(r);if(a!==0)return a}let s=e.order||0,o=t.order||0;return s<o?-1:s>o?1:Jb._compareTitles(pC(e)?e.command.title:e.title,pC(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,r=typeof t=="string"?t:t.original;return i.localeCompare(r)}};uV=I0e([Rx(2,Pr),Rx(3,Zt),Rx(4,N1)],uV);var T1t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Tre=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},zS=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let cV=class extends ze{constructor(e,t){super();this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",($c||uj)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const t=new qU;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>zS(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register(nt(this.layoutService.container,"click",e)),this._register(nt(this.layoutService.container,"keydown",e)))}writeText(e,t){return zS(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(s){console.error(s)}const i=document.activeElement,r=document.body.appendChild(et("textarea",{"aria-hidden":!0}));r.style.height="1px",r.style.width="1px",r.style.position="absolute",r.value=e,r.focus(),r.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(r)})}readText(e){return zS(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return zS(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return zS(this,void 0,void 0,function*(){this.findText=e})}};cV=T1t([Tre(0,gD),Tre(1,Uc)],cV);var N1t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},x1t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const fL="data-keybinding-context";class JK{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t=="undefined"&&this._parent?this._parent.getValue(e):t}}class rw extends JK{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}rw.INSTANCE=new rw;class Jk extends JK{constructor(e,t,i){super(e,null);this._configurationService=t,this._values=zC.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(r=>{if(r.source===6){const s=Array.from(Fn.map(this._values,([o])=>o));this._values.clear(),i.fire(new xre(s))}else{const s=[];for(const o of r.affectedKeys){const a=`config.${o}`,l=this._values.findSuperstr(a);l!==void 0&&(s.push(...Fn.map(l,([u])=>u)),this._values.deleteSuperstr(a)),this._values.has(a)&&(s.push(a),this._values.delete(a))}i.fire(new xre(s))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(Jk._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(Jk._keyPrefix.length),i=this._configurationService.getValue(t);let r;switch(typeof i){case"number":case"boolean":case"string":r=i;break;default:Array.isArray(i)?r=JSON.stringify(i):r=i}return this._values.set(e,r),r}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}Jk._keyPrefix="config.";class M1t{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Nre{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class xre{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class A1t{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class T0e{constructor(e){this._onDidChangeContext=new YM({merge:t=>new A1t(t)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new M1t(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new R1t(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);!i||i.setValue(e,t)&&this._onDidChangeContext.fire(new Nre(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Nre(e))}getContext(e){return this._isDisposed?rw.INSTANCE:this.getContextValuesContainer(O1t(e))}}let dV=class extends T0e{constructor(e){super(0);this._contexts=new Map,this._toDispose=new it,this._lastContextId=0;const t=new Jk(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?rw.INSTANCE:this._contexts.get(e)||rw.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new JK(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};dV=N1t([x1t(0,Mi)],dV);class R1t extends T0e{constructor(e,t){super(e.createChildContext());if(this._parentChangeListener=new da,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(fL)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(fL,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(fL),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?rw.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function O1t(n){for(;n;){if(n.hasAttribute(fL)){const e=n.getAttribute(fL);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}Vn.registerCommand(Kut,function(n,e,t){n.get(Zt).createKey(String(e),t)});Vn.registerCommand({id:"getContextKeyInfo",handler(){return[...St.all()].sort((n,e)=>n.key.localeCompare(e.key))},description:{description:L("getContextKeyInfo","A command that returns information about context keys"),args:[]}});Vn.registerCommand("_generateContextKeyInfo",function(){const n=[],e=new Set;for(let t of St.all())e.has(t.key)||(e.add(t.key),n.push(t));n.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(n,void 0,2))});class P1t{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class F1t{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),r),r.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new P1t(e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join(`
`)}findCycleSlow(){for(let[e,t]of this._nodes){const i=new Set([e]),r=this._findCycle(t,i);if(r)return r}}_findCycle(e,t){for(let[i,r]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const s=this._findCycle(r,t);if(s)return s;t.delete(i)}}}class Mre extends Error{constructor(e){var t;super("cyclic dependency between services");this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class eG{constructor(e=new T4,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(Mn,this)}createChild(e){return new eG(e,this._strict,this)}invokeFunction(e,...t){let i=bc.traceInvocation(e),r=!1;try{return e({get:o=>{if(r)throw Yst("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(o,i);if(!a)throw new Error(`[invokeFunction] unknown service '${o}'`);return a}},...t)}finally{r=!0,i.stop()}}createInstance(e,...t){let i,r;return e instanceof bh?(i=bc.traceCreation(e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=bc.traceCreation(e),r=this._createInstance(e,t,i)),i.stop(),r}_createInstance(e,t=[],i){let r=md.getServiceDependencies(e).sort((a,l)=>a.index-l.index),s=[];for(const a of r){let l=this._getOrCreateServiceInstance(a.id,i);if(!l&&this._strict&&!a.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`);s.push(l)}let o=r.length>0?r[0].index:t.length;if(t.length!==o){console.warn(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);let a=o-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,o)}return new e(...[...t,...s])}_setServiceInstance(e,t){if(this._services.get(e)instanceof bh)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof bh?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const r=new F1t(a=>a.id.toString());let s=0;const o=[{id:e,desc:t,_trace:i}];for(;o.length;){const a=o.pop();if(r.lookupOrInsertNode(a),s++>1e3)throw new Mre(r);for(let l of md.getServiceDependencies(a.desc.ctor)){let u=this._getServiceInstanceOrDescriptor(l.id);if(!u&&!l.optional&&console.warn(`[createInstance] ${e} depends on ${l.id} which is NOT registered.`),u instanceof bh){const c={id:l.id,desc:u,_trace:a._trace.branch(l.id,!0)};r.insertEdge(a,c),o.push(c)}}}for(;;){const a=r.roots();if(a.length===0){if(!r.isEmpty())throw new Mre(r);break}for(const{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof bh){const c=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,c)}r.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],r,s){if(this._services.get(e)instanceof bh)return this._createServiceInstance(t,i,r,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,r,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,r){if(i){const s=new bm(()=>this._createInstance(e,t,r));return new Proxy(Object.create(null),{get(o,a){if(a in o)return o[a];let l=s.value,u=l[a];return typeof u!="function"||(u=u.bind(l),o[a]=u),u},set(o,a,l){return s.value[a]=l,!0}})}else return this._createInstance(e,t,r)}}class bc{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return bc._None}static traceCreation(e){return bc._None}branch(e,t){let i=new bc(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;bc._totals+=e;let t=!1;function i(s,o){let a=[],l=new Array(s+1).join("	");for(const[u,c,d]of o._dep)if(c&&d){t=!0,a.push(`${l}CREATES -> ${u}`);let h=i(s+1,d);h&&a.push(h)}else a.push(`${l}uses -> ${u}`);return a.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${bc._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(r.join(`
`))}}bc._None=new class extends bc{constructor(){super(-1,null)}stop(){}branch(){return this}};bc._totals=0;class B1t{constructor(){this._byResource=new na,this._byOwner=new Map}set(e,t,i){let r=this._byResource.get(e);r||(r=new Map,this._byResource.set(e,r)),r.set(t,i);let s=this._byOwner.get(t);s||(s=new na,this._byOwner.set(t,s)),s.set(e,i)}get(e,t){let i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,r=!1,s=this._byResource.get(e);s&&(i=s.delete(t));let o=this._byOwner.get(t);if(o&&(r=o.delete(e)),i!==r)throw new Error("illegal state");return i&&r}values(e){var t,i,r,s;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:Fn.empty():zt.isUri(e)?(s=(r=this._byResource.get(e))===null||r===void 0?void 0:r.values())!==null&&s!==void 0?s:Fn.empty():Fn.map(Fn.concat(...this._byOwner.values()),o=>o[1])}}class $1t{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new na,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const r=this._resourceStats(t);this._add(r),this._data.set(t,r)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===on.inMemory||e.scheme===on.walkThrough||e.scheme===on.walkThroughSnippet)return t;for(const{severity:i}of this._service.read({resource:e}))i===hr.Error?t.errors+=1:i===hr.Warning?t.warnings+=1:i===hr.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class S0{constructor(){this._onMarkerChanged=new eot({delay:0,merge:S0._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new B1t,this._stats=new $1t(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(yge(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const r=[];for(const s of i){const o=S0._toMarker(e,t,s);o&&r.push(o)}this._data.set(t,e,r),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:r,severity:s,message:o,source:a,startLineNumber:l,startColumn:u,endLineNumber:c,endColumn:d,relatedInformation:h,tags:f}=i;if(!!o)return l=l>0?l:1,u=u>0?u:1,c=c>=l?c:l,d=d>0?d:u,{resource:t,owner:e,code:r,severity:s,message:o,source:a,startLineNumber:l,startColumn:u,endLineNumber:c,endColumn:d,relatedInformation:h,tags:f}}read(e=Object.create(null)){let{owner:t,resource:i,severities:r,take:s}=e;if((!s||s<0)&&(s=-1),t&&i){const o=this._data.get(i,t);if(o){const a=[];for(const l of o)if(S0._accept(l,r)){const u=a.push(l);if(s>0&&u===s)break}return a}else return[]}else if(!t&&!i){const o=[];for(let a of this._data.values())for(let l of a)if(S0._accept(l,r)){const u=o.push(l);if(s>0&&u===s)return o}return o}else{const o=this._data.values(i!=null?i:t),a=[];for(const l of o)for(const u of l)if(S0._accept(u,r)){const c=a.push(u);if(s>0&&c===s)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new na;for(let i of e)for(let r of i)t.set(r,!0);return Array.from(t.keys())}}var f2=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},SC;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(SC||(SC={}));class eE extends ze{constructor(e,t=Object.create(null)){super();this.database=e,this.options=t,this._onDidChangeStorage=this._register(new Le),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=SC.None,this.cache=new Map,this.flushDelayer=new Iot(eE.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;(t=e.changed)===null||t===void 0||t.forEach((r,s)=>this.accept(s,r)),(i=e.deleted)===null||i===void 0||i.forEach(r=>this.accept(r,void 0))}accept(e,t){if(this.state===SC.Closed)return;let i=!1;El(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire(e)}get(e,t){const i=this.cache.get(e);return El(i)?t:i}getBoolean(e,t){const i=this.get(e);return El(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return El(i)?t:parseInt(i,10)}set(e,t){return f2(this,void 0,void 0,function*(){if(this.state===SC.Closed)return;if(El(t))return this.delete(e);const i=String(t);if(this.cache.get(e)!==i)return this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}delete(e){return f2(this,void 0,void 0,function*(){if(!(this.state===SC.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return f2(this,void 0,void 0,function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(e){return f2(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),e)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}eE.DEFAULT_FLUSH_DELAY=100;class Are{constructor(){this.onDidChangeItemsExternal=xt.None,this.items=new Map}updateItems(e){return f2(this,void 0,void 0,function*(){e.insert&&e.insert.forEach((t,i)=>this.items.set(i,t)),e.delete&&e.delete.forEach(t=>this.items.delete(t))})}}const zT="__$__targetStorageMarker",yf=Pn("storageService");var fR;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(fR||(fR={}));class q4 extends ze{constructor(e={flushInterval:q4.DEFAULT_FLUSH_INTERVAL}){super();this.options=e,this._onDidChangeValue=this._register(new YM),this._onDidChangeTarget=this._register(new YM),this._onWillSaveState=this._register(new Le),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===zT?(e===0?this._globalKeyTargets=void 0:e===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.get(e,i)}getBoolean(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getBoolean(e,i)}getNumber(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getNumber(e,i)}store(e,t,i,r){if(El(t)){this.remove(e,i);return}this.withPausedEmitters(()=>{var s;this.updateKeyTarget(e,i,r),(s=this.getStorage(i))===null||s===void 0||s.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var i;this.updateKeyTarget(e,t,void 0),(i=this.getStorage(t))===null||i===void 0||i.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var r,s;const o=this.getKeyTargets(t);typeof i=="number"?o[e]!==i&&(o[e]=i,(r=this.getStorage(t))===null||r===void 0||r.set(zT,JSON.stringify(o))):typeof o[e]=="number"&&(delete o[e],(s=this.getStorage(t))===null||s===void 0||s.set(zT,JSON.stringify(o)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return e===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){const t=this.get(zT,e);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}q4.DEFAULT_FLUSH_INTERVAL=60*1e3;class V1t extends q4{constructor(){super();this.globalStorage=this._register(new eE(new Are)),this.workspaceStorage=this._register(new eE(new Are)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.globalStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e)))}getStorage(e){return e===0?this.globalStorage:this.workspaceStorage}}var Iv=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ho=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},N0e=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class W1t{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new Le}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let hV=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new Qst(new W1t(t))):Promise.reject(new Error("Model not found"))}};hV=Iv([Ho(0,sr)],hV);class Y4{show(){return Y4.NULL_PROGRESS_RUNNER}showWhile(e,t){return N0e(this,void 0,void 0,function*(){yield e})}}Y4.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class H1t{confirm(e){return this.doConfirm(e).then(t=>({confirmed:t,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+`

`+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,r){return Promise.resolve({choice:0})}}class X4{info(e){return this.notify({severity:cr.Info,message:e})}warn(e){return this.notify({severity:cr.Warning,message:e})}error(e){return this.notify({severity:cr.Error,message:e})}notify(e){switch(e.severity){case cr.Error:console.error(e.message);break;case cr.Warning:console.warn(e.message);break;default:console.log(e.message);break}return X4.NO_OP}status(e,t){return ze.None}}X4.NO_OP=new imt;let fV=class{constructor(e){this._onWillExecuteCommand=new Le,this._onDidExecuteCommand=new Le,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=Vn.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const r=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(r)}catch(r){return Promise.reject(r)}}};fV=Iv([Ho(0,Mn)],fV);let gR=class extends gvt{constructor(e,t,i,r,s,o){super(e,t,i,r,s);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=f=>{const g=new it;g.add(nt(f,Bt.KEY_DOWN,p=>{const m=new Yi(p);this._dispatch(m,m.target)&&(m.preventDefault(),m.stopPropagation())})),g.add(nt(f,Bt.KEY_UP,p=>{const m=new Yi(p);this._singleModifierDispatch(m,m.target)&&m.preventDefault()})),this._domNodeListeners.push(new z1t(f,g))},l=f=>{for(let g=0;g<this._domNodeListeners.length;g++){const p=this._domNodeListeners[g];p.domNode===f&&(this._domNodeListeners.splice(g,1),p.dispose())}},u=f=>{f.getOption(54)||a(f.getContainerDomNode())},c=f=>{f.getOption(54)||l(f.getContainerDomNode())};this._register(o.onCodeEditorAdd(u)),this._register(o.onCodeEditorRemove(c)),o.listCodeEditors().forEach(u);const d=f=>{a(f.getContainerDomNode())},h=f=>{l(f.getContainerDomNode())};this._register(o.onDiffEditorAdd(d)),this._register(o.onDiffEditorRemove(h)),o.listDiffEditors().forEach(d)}addDynamicKeybinding(e,t,i,r){const s=B7(t,mu),o=new it;return s&&(this._dynamicKeybindings.push({keybinding:s.parts,command:e,when:r,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),o.add(_n(()=>{for(let a=0;a<this._dynamicKeybindings.length;a++)if(this._dynamicKeybindings[a].command===e){this._dynamicKeybindings.splice(a,1),this.updateResolver({source:1});return}}))),o.add(Vn.registerCommand(e,i)),this.updateResolver({source:1}),o}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(ha.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new uL(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let r=0;for(const s of e){const o=s.when||void 0,a=s.keybinding;if(!a)i[r++]=new Kie(void 0,s.command,s.commandArgs,o,t,null,!1);else{const l=Hk.resolveUserBinding(a,mu);for(const u of l)i[r++]=new Kie(u,s.command,s.commandArgs,o,t,null,!1)}}return i}resolveKeyboardEvent(e){const t=new R_(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new Hk(t,mu)}};gR=Iv([Ho(0,Zt),Ho(1,Pr),Ho(2,mf),Ho(3,Kr),Ho(4,Uc),Ho(5,ci)],gR);class z1t extends ze{constructor(e,t){super();this.domNode=e,this._register(t)}}function Rre(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof zt)}class x0e{constructor(){this._onDidChangeConfiguration=new Le,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new x4(new dvt,new du)}getValue(e,t){const i=typeof e=="string"?e:void 0,r=Rre(e)?e:Rre(t)?t:{};return this._configuration.getValue(i,r,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const r of e){const[s,o]=r;this.getValue(s)!==o&&(this._configuration.updateValue(s,o),i.push(s))}if(i.length>0){const r=new hvt({keys:i,overrides:[]},t,this._configuration);r.source=7,r.sourceConfig=null,this._onDidChangeConfiguration.fire(r)}return Promise.resolve()}updateValue(e,t,i,r){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}}let gV=class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new Le,this.configurationService.onDidChangeConfiguration(t=>{this._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:(i,r)=>t.affectsConfiguration(r)})})}getValue(e,t,i){const s=(Ae.isIPosition(t)?t:null)?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0;return typeof s=="undefined"?this.configurationService.getValue():this.configurationService.getValue(s)}};gV=Iv([Ho(0,Mi)],gV);let pV=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:Ao||kn?`
`:`\r
`}};pV=Iv([Ho(0,Mi)],pV);class U1t{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class Z4{constructor(){const e=zt.from({scheme:Z4.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new bvt({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}Z4.SCHEME="inmemory";function pR(n,e,t){if(!e||!(n instanceof x0e))return;const i=[];Object.keys(e).forEach(r=>{lvt(r)&&i.push([`editor.${r}`,e[r]]),t&&uvt(r)&&i.push([`diffEditor.${r}`,e[r]])}),i.length>0&&n.updateValues(i)}let mV=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return N0e(this,void 0,void 0,function*(){const i=new Map;for(let o of e){if(!(o instanceof Nve))throw new Error("bad edit - only text edits are supported");const a=this._modelService.getModel(o.resource);if(!a)throw new Error("bad edit - model not found");if(typeof o.versionId=="number"&&a.getVersionId()!==o.versionId)throw new Error("bad state - model changed in the meantime");let l=i.get(a);l||(l=[],i.set(a,l)),l.push(Sr.replaceMove(Y.lift(o.textEdit.range),o.textEdit.text))}let r=0,s=0;for(const[o,a]of i)o.pushStackElement(),o.pushEditOperations([],a,()=>[]),o.pushStackElement(),s+=1,r+=a.length;return{ariaSummary:Su(S$.bulkEditServiceSummary,r,s)}})}};mV=Iv([Ho(0,sr)],mV);class j1t{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}}let vV=class extends L${constructor(e,t){super(e);this._codeEditorService=t}showContextView(e,t,i){if(!t){const r=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();r&&(t=r.getContainerDomNode())}return super.showContextView(e,t,i)}};vV=Iv([Ho(0,gD),Ho(1,ci)],vV);class K1t{constructor(){this._neverEmitter=new Le,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class G1t extends jk{constructor(){super()}}class q1t extends Vlt{constructor(){super(new $lt)}}let _V=class extends x${constructor(e,t,i,r,s){super(e,t,i,r,s);this.configure({blockMouse:!1})}};_V=Iv([Ho(0,mf),Ho(1,Kr),Ho(2,fD),Ho(3,Dr),Ho(4,Ki)],_V);qn(Mi,x0e);qn(_j,gV);qn(Spe,pV);qn(Mve,Z4);qn(mD,j1t);qn(mf,U1t);qn(pD,H1t);qn(Kr,X4);qn(op,S0);qn(fr,G1t);qn(Jl,D1t);qn(Uc,q1t);qn(sr,sR);qn(Ij,F$);qn(Zt,dV);qn(Dv,Y4);qn(yf,V1t);qn(ju,P7);qn(vK,mV);qn(Ave,K1t);qn(Oa,hV);qn(ul,aV);qn(Gu,Z$);qn(Pr,fV);qn(Dr,gR);qn(ap,sV);qn(fD,vV);qn(Ku,P$);qn(O1,cV);qn(Ev,_V);qn(N1,lV);var pi;(function(n){const e=new T4;for(const[o,a]of jte())e.set(o,a);const t=new eG(e,!0);e.set(Mn,t);function i(o){const a=e.get(o);if(!a)throw new Error("Missing service "+o);return a instanceof bh?t.invokeFunction(l=>l.get(o)):a}n.get=i;let r=!1;function s(o){if(r)return t;r=!0;for(const[a,l]of jte())e.get(a)||e.set(a,l);for(const a in o)if(o.hasOwnProperty(a)){const l=Pn(a);e.get(l)instanceof bh&&e.set(l,o[a])}return t}n.initialize=s})(pi||(pi={}));var tG=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},er=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let Y1t=0,Ore=!1;function X1t(n){if(!n){if(Ore)return;Ore=!0}zut(n||document.body)}let mR=class extends $k{constructor(e,t,i,r,s,o,a,l,u,c,d){const h=Object.assign({},t);h.ariaLabel=h.ariaLabel||ZA.editorViewAccessibleLabel,h.ariaLabel=h.ariaLabel+";"+ZA.accessibilityHelpMessage;super(e,h,{},i,r,s,o,l,u,c,d);a instanceof gR?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,X1t(h.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const r="DYNAMIC_"+ ++Y1t,s=_t.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(r,e,t,s),r}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ze.None;const t=e.id,i=e.label,r=_t.and(_t.equals("editorId",this.getId()),_t.deserialize(e.precondition)),s=e.keybindings,o=_t.and(r,_t.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,u=(f,...g)=>Promise.resolve(e.run(this,...g)),c=new it,d=this.getId()+":"+t;if(c.add(Vn.registerCommand(d,u)),a){const f={command:{id:d,title:i},when:r,group:a,order:l};c.add(Vl.appendMenuItem(_e.EditorContext,f))}if(Array.isArray(s))for(const f of s)c.add(this._standaloneKeybindingService.addDynamicKeybinding(d,f,u,o));const h=new lve(d,i,i,r,u,this._contextKeyService);return this._actions[t]=h,c.add(_n(()=>{delete this._actions[t]})),c}_triggerCommand(e,t){if(this._codeEditorService instanceof jA)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};mR=tG([er(2,Mn),er(3,ci),er(4,Pr),er(5,Zt),er(6,Dr),er(7,Ki),er(8,Kr),er(9,ul),er(10,fo)],mR);let bV=class extends mR{constructor(e,t,i,r,s,o,a,l,u,c,d,h,f,g){const p=Object.assign({},t);pR(c,p,!1);const m=l.registerEditorContainer(e);typeof p.theme=="string"&&l.setTheme(p.theme),typeof p.autoDetectHighContrast!="undefined"&&l.setAutoDetectHighContrast(Boolean(p.autoDetectHighContrast));const b=p.model;delete p.model;super(e,p,i,r,s,o,a,l,u,d,g);this._configurationService=c,this._standaloneThemeService=l,this._register(m);let _;if(typeof b=="undefined"){const C=f.getLanguageIdByMimeType(p.language)||p.language||_f;_=M0e(h,f,p.value||"",C,void 0),this._ownsModel=!0}else _=b,this._ownsModel=!1;if(this._attachModel(_),_){const C={oldModelUrl:null,newModelUrl:_.uri};this._onDidChangeModel.fire(C)}}dispose(){super.dispose()}updateOptions(e){pR(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};bV=tG([er(2,Mn),er(3,ci),er(4,Pr),er(5,Zt),er(6,Dr),er(7,Jl),er(8,Kr),er(9,Mi),er(10,ul),er(11,sr),er(12,fr),er(13,fo)],bV);let CV=class extends iv{constructor(e,t,i,r,s,o,a,l,u,c,d,h){const f=Object.assign({},t);pR(u,f,!0);const g=a.registerEditorContainer(e);typeof f.theme=="string"&&a.setTheme(f.theme),typeof f.autoDetectHighContrast!="undefined"&&a.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast));super(e,f,{},h,s,r,i,o,a,l,c,d);this._configurationService=u,this._standaloneThemeService=a,this._register(g)}dispose(){super.dispose()}updateOptions(e){pR(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(mR,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};CV=tG([er(2,Mn),er(3,Zt),er(4,ju),er(5,ci),er(6,Jl),er(7,Kr),er(8,Mi),er(9,Ev),er(10,Dv),er(11,O1)],CV);function M0e(n,e,t,i,r){if(t=t||"",!i){const s=t.indexOf(`
`);let o=t;return s!==-1&&(o=t.substring(0,s)),Pre(n,t,e.createByFilepathOrFirstLine(r||null,o),r)}return Pre(n,t,e.createById(i),r)}function Pre(n,e,t,i){return n.createModel(e,t,i)}function Z1t(n,e,t){return pi.initialize(t||{}).createInstance(bV,n,e)}function Q1t(n){return pi.get(ci).onCodeEditorAdd(t=>{n(t)})}function J1t(n,e,t){return pi.initialize(t||{}).createInstance(CV,n,e)}function ebt(n,e){return new Mat(n,e)}function tbt(n,e,t){const i=pi.get(fr),r=i.getLanguageIdByMimeType(e)||e;return M0e(pi.get(sr),i,n,r,t)}function nbt(n,e){const t=pi.get(fr);pi.get(sr).setMode(n,t.createById(e))}function ibt(n,e,t){n&&pi.get(op).changeOne(e,n.uri,t)}function rbt(n){return pi.get(op).read(n)}function sbt(n){return pi.get(op).onMarkerChanged(n)}function obt(n){return pi.get(sr).getModel(n)}function abt(){return pi.get(sr).getModels()}function lbt(n){return pi.get(sr).onModelAdded(n)}function ubt(n){return pi.get(sr).onModelRemoved(n)}function cbt(n){return pi.get(sr).onModelLanguageChanged(t=>{n({model:t.model,oldLanguage:t.oldLanguageId})})}function dbt(n){return jlt(pi.get(sr),pi.get(fo),n)}function hbt(n,e){const t=pi.get(fr),i=pi.get(Jl);return i.registerEditorContainer(n),wj.colorizeElement(i,t,n,e)}function fbt(n,e,t){const i=pi.get(fr);return pi.get(Jl).registerEditorContainer(document.body),wj.colorize(i,n,e,t)}function gbt(n,e,t=4){return pi.get(Jl).registerEditorContainer(document.body),wj.colorizeModelLine(n,e,t)}function pbt(n){const e=dr.get(n);return e||{getInitialState:()=>Hy,tokenize:(t,i,r)=>vpe(n,r)}}function mbt(n,e){dr.getOrCreate(e);const t=pbt(e),i=ef(n),r=[];let s=t.getInitialState();for(let o=0,a=i.length;o<a;o++){const l=i[o],u=t.tokenize(l,!0,s);r[o]=u.tokens,s=u.endState}return r}function vbt(n,e){pi.get(Jl).defineTheme(n,e)}function _bt(n){pi.get(Jl).setTheme(n)}function bbt(){D7.clearAllFontInfos()}function Cbt(n,e){return Vn.registerCommand({id:n,handler:e})}function ybt(){return{create:Z1t,onDidCreateEditor:Q1t,createDiffEditor:J1t,createDiffNavigator:ebt,createModel:tbt,setModelLanguage:nbt,setModelMarkers:ibt,getModelMarkers:rbt,onDidChangeMarkers:sbt,getModels:abt,getModel:obt,onDidCreateModel:lbt,onWillDisposeModel:ubt,onDidChangeModelLanguage:cbt,createWebWorker:dbt,colorizeElement:hbt,colorize:fbt,colorizeModelLine:gbt,tokenize:mbt,defineTheme:vbt,setTheme:_bt,remeasureFonts:bbt,registerCommand:Cbt,AccessibilitySupport:H9,ContentWidgetPositionPreference:G9,CursorChangeReason:q9,DefaultEndOfLine:Y9,EditorAutoIndentStrategy:Z9,EditorOption:Q9,EndOfLinePreference:J9,EndOfLineSequence:e7,MinimapPosition:l7,MouseTargetType:u7,OverlayWidgetPositionPreference:c7,OverviewRulerLane:d7,RenderLineNumbersType:f7,RenderMinimap:g7,ScrollbarVisibility:m7,ScrollType:p7,TextEditorCursorBlinkingStyle:y7,TextEditorCursorStyle:w7,TrackedRangeStickiness:S7,WrappingIndent:L7,InjectedTextCursorStops:n7,PositionAffinity:h7,ConfigurationChangedEvent:Ige,BareFontInfo:a_,FontInfo:E7,TextModelResolvedOptions:fx,FindMatch:uk,ApplyUpdateResult:V2,EditorType:rD,EditorOptions:qd}}function wbt(n,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!n(t))return!1;return!0}function UT(n,e){return typeof n=="boolean"?n:e}function Fre(n,e){return typeof n=="string"?n:e}function Sbt(n){const e={};for(const t of n)e[t]=!0;return e}function Bre(n,e=!1){e&&(n=n.map(function(i){return i.toLowerCase()}));const t=Sbt(n);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function yV(n,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(s,o){i=!0;let a="";if(typeof n[o]=="string")a=n[o];else if(n[o]&&n[o]instanceof RegExp)a=n[o].source;else throw n[o]===void 0?Fi(n,"language definition does not contain attribute '"+o+"', used at: "+e):Fi(n,"attribute reference '"+o+"' must be a string, used at: "+e);return Xb(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");const r=(n.ignoreCase?"i":"")+(n.unicode?"u":"");return new RegExp(e,r)}function Lbt(n,e,t,i){if(i<0)return n;if(i<e.length)return e[i];if(i>=100){i=i-100;const r=t.split(".");if(r.unshift(t),i<r.length)return r[i]}return null}function kbt(n,e,t,i){let r=-1,s=t,o=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(r=parseInt(o[3]),o[2]&&(r=r+100)),s=o[4]);let a="~",l=s;!s||s.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(o=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(a=o[1],l=o[2]));let u;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){const c=Bre(l.split("|"),n.ignoreCase);u=function(d){return a==="~"?c(d):!c(d)}}else if(a==="@"||a==="!@"){const c=n[l];if(!c)throw Fi(n,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!wbt(function(h){return typeof h=="string"},c))throw Fi(n,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const d=Bre(c,n.ignoreCase);u=function(h){return a==="@"?d(h):!d(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){const c=yV(n,"^"+l+"$");u=function(d){return a==="~"?c.test(d):!c.test(d)}}else u=function(c,d,h,f){return yV(n,"^"+qp(n,l,d,h,f)+"$").test(c)};else if(l.indexOf("$")<0){const c=ym(n,l);u=function(d){return a==="=="?d===c:d!==c}}else{const c=ym(n,l);u=function(d,h,f,g,p){const m=qp(n,c,h,f,g);return a==="=="?d===m:d!==m}}return r===-1?{name:t,value:i,test:function(c,d,h,f){return u(c,c,d,h,f)}}:{name:t,value:i,test:function(c,d,h,f){const g=Lbt(c,d,h,r);return u(g||"",c,d,h,f)}}}function wV(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw Fi(n,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw Fi(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw Fi(n,"the next state must be a string value in rule: "+e);{let r=t.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!cut(n,qp(n,r,"",[],""))))throw Fi(n,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=r}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),i}}else if(Array.isArray(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=wV(n,e,t[r]);return{group:i}}else if(t.cases){const i=[];for(let s in t.cases)if(t.cases.hasOwnProperty(s)){const o=wV(n,e,t.cases[s]);s==="@default"||s==="@"||s===""?i.push({test:void 0,value:o,name:s}):s==="@eos"?i.push({test:function(a,l,u,c){return c},value:o,name:s}):i.push(kbt(n,e,s,o))}const r=n.defaultToken;return{test:function(s,o,a,l){for(const u of i)if(!u.test||u.test(s,o,a,l))return u.value;return r}}}else throw Fi(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class Ebt{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw Fi(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=yV(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=wV(e,this.name,t)}}function A0e(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");const t={};t.languageId=n,t.includeLF=UT(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=UT(e.ignoreCase,!1),t.unicode=UT(e.unicode,!1),t.tokenPostfix=Fre(e.tokenPostfix,"."+t.languageId),t.defaultToken=Fre(e.defaultToken,"source"),t.usesEmbedded=!1;const i=e;i.languageId=n,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function r(o,a,l){for(const u of l){let c=u.include;if(c){if(typeof c!="string")throw Fi(t,"an 'include' attribute must be a string at: "+o);if(c[0]==="@"&&(c=c.substr(1)),!e.tokenizer[c])throw Fi(t,"include target '"+c+"' is not defined at: "+o);r(o+"."+c,a,e.tokenizer[c])}else{const d=new Ebt(o);if(Array.isArray(u)&&u.length>=1&&u.length<=3)if(d.setRegex(i,u[0]),u.length>=3)if(typeof u[1]=="string")d.setAction(i,{token:u[1],next:u[2]});else if(typeof u[1]=="object"){const h=u[1];h.next=u[2],d.setAction(i,h)}else throw Fi(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else d.setAction(i,u[1]);else{if(!u.regex)throw Fi(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);u.name&&typeof u.name=="string"&&(d.name=u.name),u.matchOnlyAtStart&&(d.matchOnlyAtLineStart=UT(u.matchOnlyAtLineStart,!1)),d.setRegex(i,u.regex),d.setAction(i,u.action)}a.push(d)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw Fi(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(let o in e.tokenizer)if(e.tokenizer.hasOwnProperty(o)){t.start||(t.start=o);const a=e.tokenizer[o];t.tokenizer[o]=new Array,r("tokenizer."+o,t.tokenizer[o],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw Fi(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(let o of e.brackets){let a=o;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw Fi(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")s.push({token:a.token+t.tokenPostfix,open:ym(t,a.open),close:ym(t,a.close)});else throw Fi(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=s,t.noThrow=!0,t}var Dbt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function Ibt(n){Jy.registerLanguage(n)}function Tbt(){let n=[];return n=n.concat(Jy.getLanguages()),n}function Nbt(n){return pi.get(fr).languageIdCodec.encodeLanguageId(n)}function xbt(n,e){const i=pi.get(fr).onDidEncounterLanguage(r=>{r===n&&(i.dispose(),e())});return i}function Mbt(n,e){if(!pi.get(fr).isRegisteredLanguageId(n))throw new Error(`Cannot set configuration for unknown language ${n}`);return cs.register(n,e,100)}class Abt{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return tE.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const r=this._actual.tokenizeEncoded(e,i);return new jO(r.tokens,r.endState)}}class tE{constructor(e,t,i,r){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=r}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let r=0;for(let s=0,o=e.length;s<o;s++){const a=e[s];let l=a.startIndex;s===0?l=0:l<r&&(l=r),i[s]=new hk(l,a.scopes,t),r=l}return i}static adaptTokenize(e,t,i,r){const s=t.tokenize(i,r),o=tE._toClassicTokens(s.tokens,e);let a;return s.endState.equals(r)?a=r:a=s.endState,new oj(o,a)}tokenize(e,t,i){return tE.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),r=this._standaloneThemeService.getColorTheme().tokenTheme,s=[];let o=0,a=0;for(let u=0,c=t.length;u<c;u++){const d=t[u],h=r.match(i,d.scopes);if(o>0&&s[o-1]===h)continue;let f=d.startIndex;u===0?f=0:f<a&&(f=a),s[o++]=f,s[o++]=h,a=f}const l=new Uint32Array(o);for(let u=0;u<o;u++)l[u]=s[u];return l}tokenizeEncoded(e,t,i){const r=this._actual.tokenize(e,i),s=this._toBinaryTokens(this._languageService.languageIdCodec,r.tokens);let o;return r.endState.equals(i)?o=i:o=r.endState,new jO(s,o)}}function Rbt(n){return typeof n.getInitialState=="function"}function Obt(n){return"tokenizeEncoded"in n}function R0e(n){return n&&typeof n.then=="function"}function Pbt(n){const e=pi.get(Jl);if(n){const t=[null];for(let i=1,r=n.length;i<r;i++)t[i]=We.fromHex(n[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function O0e(n,e){return Obt(e)?new Abt(n,e):new tE(n,e,pi.get(fr),pi.get(Jl))}function nG(n,e){const t={createTokenizationSupport:()=>Dbt(this,void 0,void 0,function*(){const i=yield Promise.resolve(e.create());return i?Rbt(i)?O0e(n,i):new sD(pi.get(fr),pi.get(Jl),n,A0e(n,i)):null})};return dr.registerFactory(n,t)}function Fbt(n,e){if(!pi.get(fr).isRegisteredLanguageId(n))throw new Error(`Cannot set tokens provider for unknown language ${n}`);return R0e(e)?nG(n,{create:()=>e}):dr.register(n,O0e(n,e))}function Bbt(n,e){const t=i=>new sD(pi.get(fr),pi.get(Jl),n,A0e(n,i));return R0e(e)?nG(n,{create:()=>e}):dr.register(n,t(e))}function $bt(n,e){return nA.register(n,e)}function Vbt(n,e){return iA.register(n,e)}function Wbt(n,e){return r_.register(n,e)}function Hbt(n,e){return By.register(n,{provideHover:(t,i,r)=>{const s=t.getWordAtPosition(i);return Promise.resolve(e.provideHover(t,i,r)).then(o=>{if(!!o)return!o.range&&s&&(o.range=new Y(i.lineNumber,s.startColumn,i.lineNumber,s.endColumn)),o.range||(o.range=new Y(i.lineNumber,i.column,i.lineNumber,i.column)),o})}})}function zbt(n,e){return kc.register(n,e)}function Ubt(n,e){return $y.register(n,e)}function jbt(n,e){return rA.register(n,e)}function Kbt(n,e){return pk.register(n,e)}function Gbt(n,e){return oA.register(n,e)}function qbt(n,e){return aA.register(n,e)}function Ybt(n,e){return dg.register(n,e)}function Xbt(n,e,t){return qh.register(n,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,provideCodeActions:(i,r,s,o)=>{const l=pi.get(op).read({resource:i.uri}).filter(u=>Y.areIntersectingOrTouching(u,r));return e.provideCodeActions(i,r,{markers:l,only:s.only},o)},resolveCodeAction:e.resolveCodeAction})}function Zbt(n,e){return H2.register(n,e)}function Qbt(n,e){return gd.register(n,e)}function Jbt(n,e){return lA.register(n,e)}function eCt(n,e){return mk.register(n,e)}function tCt(n,e){return fd.register(n,e)}function nCt(n,e){return Vy.register(n,e)}function iCt(n,e){return mx.register(n,e)}function rCt(n,e){return sA.register(n,e)}function sCt(n,e){return KO.register(n,e)}function oCt(n,e){return o_.register(n,e)}function aCt(n,e){return vk.register(n,e)}function lCt(n,e){return aj.register(n,e)}function uCt(n,e){return s_.register(n,e)}function cCt(){return{register:Ibt,getLanguages:Tbt,onLanguage:xbt,getEncodedLanguageId:Nbt,setLanguageConfiguration:Mbt,setColorMap:Pbt,registerTokensProviderFactory:nG,setTokensProvider:Fbt,setMonarchTokensProvider:Bbt,registerReferenceProvider:$bt,registerRenameProvider:Vbt,registerCompletionItemProvider:tCt,registerSignatureHelpProvider:Wbt,registerHoverProvider:Hbt,registerDocumentSymbolProvider:zbt,registerDocumentHighlightProvider:Ubt,registerLinkedEditingRangeProvider:jbt,registerDefinitionProvider:Kbt,registerImplementationProvider:Gbt,registerTypeDefinitionProvider:qbt,registerCodeLensProvider:Ybt,registerCodeActionProvider:Xbt,registerDocumentFormattingEditProvider:Zbt,registerDocumentRangeFormattingEditProvider:Qbt,registerOnTypeFormattingEditProvider:Jbt,registerLinkProvider:eCt,registerColorProvider:nCt,registerFoldingRangeProvider:iCt,registerDeclarationProvider:rCt,registerSelectionRangeProvider:sCt,registerDocumentSemanticTokensProvider:oCt,registerDocumentRangeSemanticTokensProvider:aCt,registerInlineCompletionsProvider:lCt,registerInlayHintsProvider:uCt,DocumentHighlightKind:X9,CompletionItemKind:U9,CompletionItemTag:j9,CompletionItemInsertTextRule:z9,SymbolKind:b7,SymbolTag:C7,IndentAction:t7,CompletionTriggerKind:K9,SignatureHelpTriggerKind:_7,InlayHintKind:i7,InlineCompletionTriggerKind:r7,FoldingRangeKind:Rd}}const iG=Pn("IEditorCancelService"),P0e=new St("cancellableOperation",!1,L("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));qn(iG,class{constructor(){this._tokens=new WeakMap}add(n,e){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(r=>{const s=P0e.bindTo(r.get(Zt)),o=new Ml;return{key:s,tokens:o}}),this._tokens.set(n,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(n){const e=this._tokens.get(n);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0);class dCt extends co{constructor(e,t){super(t);this.editor=e,this._unregister=e.invokeWithinContext(i=>i.get(iG).add(e,this))}dispose(){this._unregister(),super.dispose()}}lt(new class extends go{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:P0e})}runEditorCommand(n,e){n.get(iG).cancel(e)}});class nE{constructor(e,t){if(this.flags=t,(this.flags&1)!==0){const i=e.getModel();this.modelVersionId=i?Su("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=e.getPosition():this.position=null,(this.flags&2)!==0?this.selection=e.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof nE))return!1;const t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new nE(e,this.flags))}}class iE extends dCt{constructor(e,t,i,r){super(e,r);this._listener=new it,t&4&&this._listener.add(e.onDidChangeCursorPosition(s=>{(!i||!Y.containsPosition(i,s.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(s=>{(!i||!Y.containsRange(i,s.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(s=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(s=>this.cancel())),this._listener.add(e.onDidChangeModelContent(s=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class rG extends co{constructor(e,t){super(t);this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}function Yg(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===rD.ICodeEditor:!1}function F0e(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===rD.IDiffEditor:!1}function B0e(n){return Yg(n)?n:F0e(n)?n.getModifiedEditor():null}class sw{static _handleEolEdits(e,t){let i,r=[];for(let s of t)typeof s.eol=="number"&&(i=s.eol),s.range&&typeof s.text=="string"&&r.push(s);return typeof i=="number"&&e.hasModel()&&e.getModel().pushEOL(i),r}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),r=i.validateRange(t.range);return i.getFullModelRange().equalsRange(r)}static execute(e,t,i){i&&e.pushUndoStop();const r=sw._handleEolEdits(e,t);r.length===1&&sw._isFullModelReplaceEdit(e,r[0])?e.executeEdits("formatEditsCommand",r.map(s=>Sr.replace(Y.lift(s.range),s.text))):e.executeEdits("formatEditsCommand",r.map(s=>Sr.replaceMove(Y.lift(s.range),s.text))),i&&e.pushUndoStop()}}class H8{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}var $d=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function sG(n){if(n=n.filter(r=>r.range),!n.length)return;let{range:e}=n[0];for(let r=1;r<n.length;r++)e=Y.plusRange(e,n[r].range);const{startLineNumber:t,endLineNumber:i}=e;t===i?n.length===1?ro(L("hint11","Made 1 formatting edit on line {0}",t)):ro(L("hintn1","Made {0} formatting edits on line {1}",n.length,t)):n.length===1?ro(L("hint1n","Made 1 formatting edit between lines {0} and {1}",t,i)):ro(L("hintnn","Made {0} formatting edits between lines {1} and {2}",n.length,t,i))}function $0e(n){const e=[],t=new Set,i=H2.ordered(n);for(const s of i)e.push(s),s.extensionId&&t.add(H8.toKey(s.extensionId));const r=gd.ordered(n);for(const s of r){if(s.extensionId){if(t.has(H8.toKey(s.extensionId)))continue;t.add(H8.toKey(s.extensionId))}e.push({displayName:s.displayName,extensionId:s.extensionId,provideDocumentFormattingEdits(o,a,l){return s.provideDocumentRangeFormattingEdits(o,o.getFullModelRange(),a,l)}})}return e}class G_{static setFormatterSelector(e){return{dispose:G_._selectors.unshift(e)}}static select(e,t,i){return $d(this,void 0,void 0,function*(){if(e.length===0)return;const r=Fn.first(G_._selectors);if(r)return yield r(e,t,i)})}}G_._selectors=new Ml;function V0e(n,e,t,i,r,s){return $d(this,void 0,void 0,function*(){const o=n.get(Mn),a=Yg(e)?e.getModel():e,l=gd.ordered(a),u=yield G_.select(l,a,i);u&&(r.report(u),yield o.invokeFunction(hCt,u,e,t,s))})}function hCt(n,e,t,i,r){return $d(this,void 0,void 0,function*(){const s=n.get(ju);let o,a;Yg(t)?(o=t.getModel(),a=new iE(t,5,void 0,r)):(o=t,a=new rG(t,r));let l=[],u=0;for(let g of BU(i).sort(Y.compareRangesUsingStarts))u>0&&Y.areIntersectingOrTouching(l[u-1],g)?l[u-1]=Y.fromPositions(l[u-1].getStartPosition(),g.getEndPosition()):u=l.push(g);const c=g=>$d(this,void 0,void 0,function*(){return(yield e.provideDocumentRangeFormattingEdits(o,g,o.getFormattingOptions(),a.token))||[]}),d=(g,p)=>{if(!g.length||!p.length)return!1;const m=g.reduce((b,_)=>Y.plusRange(b,_.range),g[0].range);if(!p.some(b=>Y.intersectRanges(m,b.range)))return!1;for(let b of g)for(let _ of p)if(Y.intersectRanges(b.range,_.range))return!0;return!1},h=[],f=[];try{for(let g of l){if(a.token.isCancellationRequested)return!0;f.push(yield c(g))}for(let g=0;g<l.length;++g)for(let p=g+1;p<l.length;++p){if(a.token.isCancellationRequested)return!0;if(d(f[g],f[p])){const m=Y.plusRange(l[g],l[p]),b=yield c(m);l.splice(p,1),l.splice(g,1),l.push(m),f.splice(p,1),f.splice(g,1),f.push(b),g=0,p=0}}for(let g of f){if(a.token.isCancellationRequested)return!0;const p=yield s.computeMoreMinimalEdits(o.uri,g);p&&h.push(...p)}}finally{a.dispose()}if(h.length===0)return!1;if(Yg(t))sw.execute(t,h,!0),sG(h),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{const[{range:g}]=h,p=new vt(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn);o.pushEditOperations([p],h.map(m=>({text:m.text,range:Y.lift(m.range),forceMoveMarkers:!0})),m=>{for(const{range:b}of m)if(Y.areIntersectingOrTouching(b,p))return[new vt(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn)];return null})}return!0})}function fCt(n,e,t,i,r){return $d(this,void 0,void 0,function*(){const s=n.get(Mn),o=Yg(e)?e.getModel():e,a=$0e(o),l=yield G_.select(a,o,t);l&&(i.report(l),yield s.invokeFunction(gCt,l,e,t,r))})}function gCt(n,e,t,i,r){return $d(this,void 0,void 0,function*(){const s=n.get(ju);let o,a;Yg(t)?(o=t.getModel(),a=new iE(t,5,void 0,r)):(o=t,a=new rG(t,r));let l;try{const u=yield e.provideDocumentFormattingEdits(o,o.getFormattingOptions(),a.token);if(l=yield s.computeMoreMinimalEdits(o.uri,u),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||l.length===0)return!1;if(Yg(t))sw.execute(t,l,i!==2),i!==2&&(sG(l),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1));else{const[{range:u}]=l,c=new vt(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn);o.pushEditOperations([c],l.map(d=>({text:d.text,range:Y.lift(d.range),forceMoveMarkers:!0})),d=>{for(const{range:h}of d)if(Y.areIntersectingOrTouching(h,c))return[new vt(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn)];return null})}return!0})}function pCt(n,e,t,i,r){return $d(this,void 0,void 0,function*(){const s=gd.ordered(e);for(const o of s){let a=yield Promise.resolve(o.provideDocumentRangeFormattingEdits(e,t,i,r)).catch(Ys);if(nl(a))return yield n.computeMoreMinimalEdits(e.uri,a)}})}function mCt(n,e,t,i){return $d(this,void 0,void 0,function*(){const r=$0e(e);for(const s of r){let o=yield Promise.resolve(s.provideDocumentFormattingEdits(e,t,i)).catch(Ys);if(nl(o))return yield n.computeMoreMinimalEdits(e.uri,o)}})}function W0e(n,e,t,i,r,s){const o=lA.ordered(e);return o.length===0||o[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(o[0].provideOnTypeFormattingEdits(e,t,i,r,s)).catch(Ys).then(a=>n.computeMoreMinimalEdits(e.uri,a))}Vn.registerCommand("_executeFormatRangeProvider",function(n,...e){return $d(this,void 0,void 0,function*(){const[t,i,r]=e;Ii(zt.isUri(t)),Ii(Y.isIRange(i));const s=n.get(Oa),o=n.get(ju),a=yield s.createModelReference(t);try{return pCt(o,a.object.textEditorModel,Y.lift(i),r,En.None)}finally{a.dispose()}})});Vn.registerCommand("_executeFormatDocumentProvider",function(n,...e){return $d(this,void 0,void 0,function*(){const[t,i]=e;Ii(zt.isUri(t));const r=n.get(Oa),s=n.get(ju),o=yield r.createModelReference(t);try{return mCt(s,o.object.textEditorModel,i,En.None)}finally{o.dispose()}})});Vn.registerCommand("_executeFormatOnTypeProvider",function(n,...e){return $d(this,void 0,void 0,function*(){const[t,i,r,s]=e;Ii(zt.isUri(t)),Ii(Ae.isIPosition(i)),Ii(typeof r=="string");const o=n.get(Oa),a=n.get(ju),l=yield o.createModelReference(t);try{return W0e(a,l.object.textEditorModel,Ae.lift(i),r,s,En.None)}finally{l.dispose()}})});var z8;qd.wrappingIndent.defaultValue=0;qd.glyphMargin.defaultValue=!1;qd.autoIndent.defaultValue=3;qd.overviewRulerLanes.defaultValue=2;G_.setFormatterSelector((n,e,t)=>Promise.resolve(n[0]));const fa=ipe();fa.editor=ybt();fa.languages=cCt();const vCt=fa.CancellationTokenSource,_Ct=fa.Emitter,bCt=fa.KeyCode,CCt=fa.KeyMod,yCt=fa.Position,wCt=fa.Range,SCt=fa.Selection,LCt=fa.SelectionDirection,kCt=fa.MarkerSeverity,ECt=fa.MarkerTag,DCt=fa.Uri,ICt=fa.Token,TCt=fa.editor,NCt=fa.languages;(((z8=Ar.MonacoEnvironment)===null||z8===void 0?void 0:z8.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=fa);typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var yD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CancellationTokenSource:vCt,Emitter:_Ct,KeyCode:bCt,KeyMod:CCt,Position:yCt,Range:wCt,Selection:SCt,SelectionDirection:LCt,MarkerSeverity:kCt,MarkerTag:ECt,Uri:DCt,Token:ICt,editor:TCt,languages:NCt});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var xCt=Object.defineProperty,MCt=Object.getOwnPropertyDescriptor,ACt=Object.getOwnPropertyNames,RCt=Object.prototype.hasOwnProperty,OCt=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of ACt(e))!RCt.call(n,r)&&(t||r!=="default")&&xCt(n,r,{get:()=>e[r],enumerable:!(i=MCt(e,r))||i.enumerable});return n},g2={};OCt(g2,yD);var H0e={},U8={},z0e=class{constructor(n){_r(this,"_languageId");_r(this,"_loadingTriggered");_r(this,"_lazyLoadPromise");_r(this,"_lazyLoadPromiseResolve");_r(this,"_lazyLoadPromiseReject");this._languageId=n,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}static getOrCreate(n){return U8[n]||(U8[n]=new z0e(n)),U8[n]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,H0e[this._languageId].loader().then(n=>this._lazyLoadPromiseResolve(n),n=>this._lazyLoadPromiseReject(n))),this._lazyLoadPromise}};function Rt(n){const e=n.id;H0e[e]=n,g2.languages.register(n);const t=z0e.getOrCreate(e);g2.languages.registerTokensProviderFactory(e,{create:async()=>(await t.load()).language}),g2.languages.onLanguage(e,async()=>{const i=await t.load();g2.languages.setLanguageConfiguration(e,i.conf)})}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>import("./abap.c46e963c.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>import("./apex.d908699a.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>import("./azcli.89f69e0b.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>import("./bat.ff720252.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>import("./bicep.e52437a4.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>import("./cameligo.03316865.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>import("./clojure.7e4321e3.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>import("./coffee.8e0a8381.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>import("./cpp.6a515ef5.js")});Rt({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>import("./cpp.6a515ef5.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>import("./csharp.680d9328.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>import("./csp.2cb09612.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>import("./css.5f99fade.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>import("./dart.86928cd7.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>import("./dockerfile.e351af54.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>import("./ecl.8238fea9.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>import("./elixir.3cdcb029.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>import("./flow9.ff971337.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>import("./fsharp.b9c9c44f.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>import("./freemarker2.4fa518ab.js").then(n=>n.TagAutoInterpolationDollar)});Rt({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>import("./freemarker2.4fa518ab.js").then(n=>n.TagAngleInterpolationDollar)});Rt({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>import("./freemarker2.4fa518ab.js").then(n=>n.TagBracketInterpolationDollar)});Rt({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>import("./freemarker2.4fa518ab.js").then(n=>n.TagAngleInterpolationBracket)});Rt({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>import("./freemarker2.4fa518ab.js").then(n=>n.TagBracketInterpolationBracket)});Rt({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>import("./freemarker2.4fa518ab.js").then(n=>n.TagAutoInterpolationDollar)});Rt({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>import("./freemarker2.4fa518ab.js").then(n=>n.TagAutoInterpolationBracket)});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>import("./go.9f1290bd.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>import("./graphql.c006107e.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>import("./handlebars.39fb4bf8.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>import("./hcl.ebef519c.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>import("./html.e7d67341.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>import("./ini.53a035cc.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>import("./java.3adb0f0b.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>import("./javascript.c84deb35.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>import("./julia.07878584.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>import("./kotlin.408ff833.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>import("./less.ccdf1d45.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>import("./lexon.97941558.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>import("./lua.c2f1b47c.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>import("./liquid.26d39bdd.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>import("./m3.c79bf303.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>import("./markdown.fbcd23f4.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>import("./mips.6df89f35.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>import("./msdax.1b0f17e5.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>import("./mysql.743f77fa.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>import("./objective-c.c80a29e5.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>import("./pascal.6cefd688.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>import("./pascaligo.4f1be7b3.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>import("./perl.5ca860f2.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>import("./pgsql.84116ba0.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>import("./php.41324c19.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"pla",extensions:[".pla"],loader:()=>import("./pla.dc221c0c.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>import("./postiats.97233ea8.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>import("./powerquery.c2a0b7bd.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>import("./powershell.0b018e24.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>import("./protobuf.763f7619.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>import("./pug.2f1569ee.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>import("./python.cc2f654a.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>import("./qsharp.203be765.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>import("./r.a1a6ea69.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>import("./razor.d09ad569.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>import("./redis.c64d2d30.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>import("./redshift.d39af873.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>import("./restructuredtext.e0fa844c.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>import("./ruby.b3fb75f4.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>import("./rust.5c4409c8.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>import("./sb.f35daea8.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>import("./scala.f53f4430.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>import("./scheme.e65cbf84.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>import("./scss.5f01886d.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>import("./shell.4b27e018.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>import("./solidity.29483075.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>import("./sophia.1100cbf1.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>import("./sparql.32dcf6ce.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>import("./sql.ddbed59e.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>import("./st.45bbaa30.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>import("./swift.e7765b68.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>import("./systemverilog.08b22143.js")});Rt({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>import("./systemverilog.08b22143.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>import("./tcl.1106cb04.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>import("./twig.f88e7ad5.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>import("./typescript.56104662.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>import("./vb.da3403f5.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>import("./xml.03b046c5.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Rt({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>import("./yaml.c90e5b84.js")});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var PCt=Object.defineProperty,FCt=Object.getOwnPropertyDescriptor,BCt=Object.getOwnPropertyNames,$Ct=Object.prototype.hasOwnProperty,VCt=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of BCt(e))!$Ct.call(n,r)&&(t||r!=="default")&&PCt(n,r,{get:()=>e[r],enumerable:!(i=FCt(e,r))||i.enumerable});return n},Gw={};VCt(Gw,yD);var oG=class{constructor(n,e,t){_r(this,"_onDidChange",new Gw.Emitter);_r(this,"_options");_r(this,"_modeConfiguration");_r(this,"_languageId");this._languageId=n,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},aG={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},lG={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},U0e=new oG("css",aG,lG),j0e=new oG("scss",aG,lG),K0e=new oG("less",aG,lG);Gw.languages.css={cssDefaults:U0e,lessDefaults:K0e,scssDefaults:j0e};function uG(){return import("./cssMode.616f6ab2.js")}Gw.languages.onLanguage("less",()=>{uG().then(n=>n.setupMode(K0e))});Gw.languages.onLanguage("scss",()=>{uG().then(n=>n.setupMode(j0e))});Gw.languages.onLanguage("css",()=>{uG().then(n=>n.setupMode(U0e))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var WCt=Object.defineProperty,HCt=Object.getOwnPropertyDescriptor,zCt=Object.getOwnPropertyNames,UCt=Object.prototype.hasOwnProperty,jCt=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of zCt(e))!UCt.call(n,r)&&(t||r!=="default")&&WCt(n,r,{get:()=>e[r],enumerable:!(i=HCt(e,r))||i.enumerable});return n},Q4={};jCt(Q4,yD);var KCt=class{constructor(n,e,t){_r(this,"_onDidChange",new Q4.Emitter);_r(this,"_options");_r(this,"_modeConfiguration");_r(this,"_languageId");this._languageId=n,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},GCt={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},J4={format:GCt,suggest:{},data:{useDefaultDataProvider:!0}};function eP(n){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:n===gL,documentFormattingEdits:n===gL,documentRangeFormattingEdits:n===gL}}var gL="html",$re="handlebars",Vre="razor",G0e=tP(gL,J4,eP(gL)),qCt=G0e.defaults,q0e=tP($re,J4,eP($re)),YCt=q0e.defaults,Y0e=tP(Vre,J4,eP(Vre)),XCt=Y0e.defaults;Q4.languages.html={htmlDefaults:qCt,razorDefaults:XCt,handlebarDefaults:YCt,htmlLanguageService:G0e,handlebarLanguageService:q0e,razorLanguageService:Y0e,registerHTMLLanguageService:tP};function ZCt(){return import("./htmlMode.70eb2289.js")}function tP(n,e=J4,t=eP(n)){const i=new KCt(n,e,t);let r;const s=Q4.languages.onLanguage(n,async()=>{r=(await ZCt()).setupMode(i)});return{defaults:i,dispose(){s.dispose(),r==null||r.dispose(),r=void 0}}}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var QCt=Object.defineProperty,JCt=Object.getOwnPropertyDescriptor,eyt=Object.getOwnPropertyNames,tyt=Object.prototype.hasOwnProperty,nyt=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of eyt(e))!tyt.call(n,r)&&(t||r!=="default")&&QCt(n,r,{get:()=>e[r],enumerable:!(i=JCt(e,r))||i.enumerable});return n},wD={};nyt(wD,yD);var iyt=class{constructor(n,e,t){_r(this,"_onDidChange",new wD.Emitter);_r(this,"_diagnosticsOptions");_r(this,"_modeConfiguration");_r(this,"_languageId");this._languageId=n,this.setDiagnosticsOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},ryt={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},syt={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},X0e=new iyt("json",ryt,syt);wD.languages.json={jsonDefaults:X0e};function oyt(){return import("./jsonMode.84343386.js")}wD.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});wD.languages.onLanguage("json",()=>{oyt().then(n=>n.setupMode(X0e))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var ayt=Object.defineProperty,lyt=Object.getOwnPropertyDescriptor,uyt=Object.getOwnPropertyNames,cyt=Object.prototype.hasOwnProperty,dyt=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of uyt(e))!cyt.call(n,r)&&(t||r!=="default")&&ayt(n,r,{get:()=>e[r],enumerable:!(i=lyt(e,r))||i.enumerable});return n},hyt="4.5.5",ow={};dyt(ow,yD);var Z0e=(n=>(n[n.None=0]="None",n[n.CommonJS=1]="CommonJS",n[n.AMD=2]="AMD",n[n.UMD=3]="UMD",n[n.System=4]="System",n[n.ES2015=5]="ES2015",n[n.ESNext=99]="ESNext",n))(Z0e||{}),Q0e=(n=>(n[n.None=0]="None",n[n.Preserve=1]="Preserve",n[n.React=2]="React",n[n.ReactNative=3]="ReactNative",n[n.ReactJSX=4]="ReactJSX",n[n.ReactJSXDev=5]="ReactJSXDev",n))(Q0e||{}),J0e=(n=>(n[n.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",n[n.LineFeed=1]="LineFeed",n))(J0e||{}),e_e=(n=>(n[n.ES3=0]="ES3",n[n.ES5=1]="ES5",n[n.ES2015=2]="ES2015",n[n.ES2016=3]="ES2016",n[n.ES2017=4]="ES2017",n[n.ES2018=5]="ES2018",n[n.ES2019=6]="ES2019",n[n.ES2020=7]="ES2020",n[n.ESNext=99]="ESNext",n[n.JSON=100]="JSON",n[n.Latest=99]="Latest",n))(e_e||{}),t_e=(n=>(n[n.Classic=1]="Classic",n[n.NodeJs=2]="NodeJs",n))(t_e||{}),n_e=class{constructor(n,e,t,i){_r(this,"_onDidChange",new ow.Emitter);_r(this,"_onDidExtraLibsChange",new ow.Emitter);_r(this,"_extraLibs");_r(this,"_removedExtraLibs");_r(this,"_eagerModelSync");_r(this,"_compilerOptions");_r(this,"_diagnosticsOptions");_r(this,"_workerOptions");_r(this,"_onDidExtraLibsChangeTimeout");_r(this,"_inlayHintsOptions");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(n),this.setDiagnosticsOptions(e),this.setWorkerOptions(t),this.setInlayHintsOptions(i),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(n,e){let t;if(typeof e=="undefined"?t=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:t=e,this._extraLibs[t]&&this._extraLibs[t].content===n)return{dispose:()=>{}};let i=1;return this._removedExtraLibs[t]&&(i=this._removedExtraLibs[t]+1),this._extraLibs[t]&&(i=this._extraLibs[t].version+1),this._extraLibs[t]={content:n,version:i},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let r=this._extraLibs[t];!r||r.version===i&&(delete this._extraLibs[t],this._removedExtraLibs[t]=i,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(n){for(const e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),n&&n.length>0)for(const e of n){const t=e.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,i=e.content;let r=1;this._removedExtraLibs[t]&&(r=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:i,version:r}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(n){this._compilerOptions=n||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(n){this._workerOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(n){this._inlayHintsOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(n){}setEagerModelSync(n){this._eagerModelSync=n}getEagerModelSync(){return this._eagerModelSync}},fyt=hyt,i_e=new n_e({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),r_e=new n_e({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),gyt=()=>nP().then(n=>n.getTypeScriptWorker()),pyt=()=>nP().then(n=>n.getJavaScriptWorker());ow.languages.typescript={ModuleKind:Z0e,JsxEmit:Q0e,NewLineKind:J0e,ScriptTarget:e_e,ModuleResolutionKind:t_e,typescriptVersion:fyt,typescriptDefaults:i_e,javascriptDefaults:r_e,getTypeScriptWorker:gyt,getJavaScriptWorker:pyt};function nP(){return import("./tsMode.0a118468.js")}ow.languages.onLanguage("typescript",()=>nP().then(n=>n.setupTypeScript(i_e)));ow.languages.onLanguage("javascript",()=>nP().then(n=>n.setupJavaScript(r_e)));var myt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vyt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},iP=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const rP=new St("selectionAnchorSet",!1);let Xg=class s_e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=rP.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(s_e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],i=this.editor.deltaDecorations(t,[{range:vt.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:new Fd().appendText(L("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=i[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),ro(L("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(vt.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Xg.ID="editor.contrib.selectionAnchorController";Xg=myt([vyt(1,Zt)],Xg);class _yt extends Et{constructor(){super({id:"editor.action.setSelectionAnchor",label:L("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2080),weight:100}})}run(e,t){var i;return iP(this,void 0,void 0,function*(){(i=Xg.get(t))===null||i===void 0||i.setSelectionAnchor()})}}class byt extends Et{constructor(){super({id:"editor.action.goToSelectionAnchor",label:L("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:rP})}run(e,t){var i;return iP(this,void 0,void 0,function*(){(i=Xg.get(t))===null||i===void 0||i.goToSelectionAnchor()})}}class Cyt extends Et{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:L("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:rP,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2089),weight:100}})}run(e,t){var i;return iP(this,void 0,void 0,function*(){(i=Xg.get(t))===null||i===void 0||i.selectFromAnchorToCursor()})}}class yyt extends Et{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:L("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:rP,kbOpts:{kbExpr:ue.editorTextFocus,primary:9,weight:100}})}run(e,t){var i;return iP(this,void 0,void 0,function*(){(i=Xg.get(t))===null||i===void 0||i.cancelSelectionAnchor()})}}oi(Xg.ID,Xg);ut(_yt);ut(byt);ut(Cyt);ut(yyt);const wyt=ce("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},L("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class Syt extends Et{constructor(){super({id:"editor.action.jumpToBracket",label:L("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:ue.editorTextFocus,primary:3160,weight:100}})}run(e,t){var i;(i=Dd.get(t))===null||i===void 0||i.jumpToBracket()}}class Lyt extends Et{constructor(){super({id:"editor.action.selectToBracket",label:L("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var r;let s=!0;i&&i.selectBrackets===!1&&(s=!1),(r=Dd.get(t))===null||r===void 0||r.selectToBracket(s)}}class kyt{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class Dd extends ze{constructor(e){super();this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new Ni(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(Dd.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{const r=i.getStartPosition(),s=e.bracketPairs.matchBracket(r);let o=null;if(s)s[0].containsPosition(r)?o=s[1].getStartPosition():s[1].containsPosition(r)&&(o=s[0].getStartPosition());else{const a=e.bracketPairs.findEnclosingBrackets(r);if(a)o=a[0].getStartPosition();else{const l=e.bracketPairs.findNextBracket(r);l&&l.range&&(o=l.range.getStartPosition())}}return o?new vt(o.lineNumber,o.column,o.lineNumber,o.column):new vt(r.lineNumber,r.column,r.lineNumber,r.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(r=>{const s=r.getStartPosition();let o=t.bracketPairs.matchBracket(s);if(!o&&(o=t.bracketPairs.findEnclosingBrackets(s),!o)){const u=t.bracketPairs.findNextBracket(s);u&&u.range&&(o=t.bracketPairs.matchBracket(u.range.getStartPosition()))}let a=null,l=null;if(o){o.sort(Y.compareRangesUsingStarts);const[u,c]=o;if(a=e?u.getStartPosition():u.getEndPosition(),l=e?c.getEndPosition():c.getStartPosition(),c.containsPosition(s)){const d=a;a=l,l=d}}a&&l&&i.push(new vt(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let e=[],t=0;for(const i of this._lastBracketsData){let r=i.brackets;r&&(e[t++]={range:r[0],options:i.options},e[t++]={range:r[1],options:i.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),i=t.getVersionId();let r=[];this._lastVersionId===i&&(r=this._lastBracketsData);let s=[],o=0;for(let d=0,h=e.length;d<h;d++){let f=e[d];f.isEmpty()&&(s[o++]=f.getStartPosition())}s.length>1&&s.sort(Ae.compare);let a=[],l=0,u=0,c=r.length;for(let d=0,h=s.length;d<h;d++){let f=s[d];for(;u<c&&r[u].position.isBefore(f);)u++;if(u<c&&r[u].position.equals(f))a[l++]=r[u];else{let g=t.bracketPairs.matchBracket(f),p=Dd._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!g&&this._matchBrackets==="always"&&(g=t.bracketPairs.findEnclosingBrackets(f,20),p=Dd._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new kyt(f,g,p)}}this._lastBracketsData=a,this._lastVersionId=i}}Dd.ID="editor.contrib.bracketMatchingController";Dd._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=dn.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:wr(wyt),position:Pu.Center}});Dd._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=dn.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});oi(Dd.ID,Dd);ut(Lyt);ut(Syt);Hi((n,e)=>{const t=n.getColor(_ht);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);const i=n.getColor(Tme);i&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)});Vl.appendMenuItem(_e.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:L({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class Eyt{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,r=this._selection.startColumn,s=this._selection.endColumn;if(!(this._isMovingLeft&&r===1)&&!(!this._isMovingLeft&&s===e.getLineMaxColumn(i)))if(this._isMovingLeft){const o=new Y(i,r-1,i,r),a=e.getValueInRange(o);t.addEditOperation(o,null),t.addEditOperation(new Y(i,s,i,s),a)}else{const o=new Y(i,s,i,s+1),a=e.getValueInRange(o);t.addEditOperation(o,null),t.addEditOperation(new Y(i,r,i,r),a)}}computeCursorState(e,t){return this._isMovingLeft?new vt(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new vt(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class o_e extends Et{constructor(e,t){super(t);this.left=e}run(e,t){if(!t.hasModel())return;const i=[],r=t.getSelections();for(const s of r)i.push(new Eyt(s,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class Dyt extends o_e{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:L("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:ue.writable})}}class Iyt extends o_e{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:L("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:ue.writable})}}ut(Dyt);ut(Iyt);class Tyt extends Et{constructor(){super({id:"editor.action.transposeLetters",label:L("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:ue.writable,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let i=t.getModel(),r=[],s=t.getSelections();for(let o of s){if(!o.isEmpty())continue;let a=o.startLineNumber,l=o.startColumn,u=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&u===2))continue;let c=l===u?o.getPosition():Xn.rightPosition(i,o.getPosition().lineNumber,o.getPosition().column),d=Xn.leftPosition(i,c),h=Xn.leftPosition(i,d),f=i.getValueInRange(Y.fromPositions(h,d)),g=i.getValueInRange(Y.fromPositions(d,c)),p=Y.fromPositions(h,c);r.push(new Zs(p,g+f))}r.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop())}}ut(Tyt);var Nyt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const q_="9_cutcopypaste",xyt=Ld||document.queryCommandSupported("cut"),a_e=Ld||document.queryCommandSupported("copy"),Myt=typeof navigator.clipboard=="undefined"||Ul?document.queryCommandSupported("paste"):!0;function cG(n){return n.register(),n}const Ayt=xyt?cG(new Vw({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Ld?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:_e.MenubarEditMenu,group:"2_ccp",title:L({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:_e.EditorContext,group:q_,title:L("actions.clipboard.cutLabel","Cut"),when:ue.writable,order:1},{menuId:_e.CommandPalette,group:"",title:L("actions.clipboard.cutLabel","Cut"),order:1},{menuId:_e.SimpleEditorContext,group:q_,title:L("actions.clipboard.cutLabel","Cut"),when:ue.writable,order:1}]})):void 0,Ryt=a_e?cG(new Vw({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Ld?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:_e.MenubarEditMenu,group:"2_ccp",title:L({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:_e.EditorContext,group:q_,title:L("actions.clipboard.copyLabel","Copy"),order:2},{menuId:_e.CommandPalette,group:"",title:L("actions.clipboard.copyLabel","Copy"),order:1},{menuId:_e.SimpleEditorContext,group:q_,title:L("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Vl.appendMenuItem(_e.MenubarEditMenu,{submenu:_e.MenubarCopy,title:{value:L("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});Vl.appendMenuItem(_e.EditorContext,{submenu:_e.EditorContextCopy,title:{value:L("copy as","Copy As"),original:"Copy As"},group:q_,order:3});const j8=Myt?cG(new Vw({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Ld?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:_e.MenubarEditMenu,group:"2_ccp",title:L({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:_e.EditorContext,group:q_,title:L("actions.clipboard.pasteLabel","Paste"),when:ue.writable,order:4},{menuId:_e.CommandPalette,group:"",title:L("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:_e.SimpleEditorContext,group:q_,title:L("actions.clipboard.pasteLabel","Paste"),when:ue.writable,order:4}]})):void 0;class Oyt extends Et{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:L("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:ue.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(32)&&t.getSelection().isEmpty()||(t$.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),t$.forceCopyWithSyntaxHighlighting=!1)}}function l_e(n,e){!n||(n.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(ci).getFocusedCodeEditor();if(r&&r.hasTextFocus()){const s=r.getOption(32),o=r.getSelection();return o&&o.isEmpty()&&!s||document.execCommand(e),!0}return!1}),n.addImplementation(0,"generic-dom",(t,i)=>(document.execCommand(e),!0)))}l_e(Ayt,"cut");l_e(Ryt,"copy");j8&&(j8.addImplementation(1e4,"code-editor",(n,e)=>{const t=n.get(ci),i=n.get(O1),r=t.getFocusedCodeEditor();return r&&r.hasTextFocus()?!document.execCommand("paste")&&Lv?(()=>Nyt(void 0,void 0,void 0,function*(){const o=yield i.readText();if(o!==""){const a=Ek.INSTANCE.get(o);let l=!1,u=null,c=null;a&&(l=r.getOption(32)&&!!a.isFromEmptySelection,u=typeof a.multicursorText!="undefined"?a.multicursorText:null,c=a.mode),r.trigger("keyboard","paste",{text:o,pasteOnNewLine:l,multicursorText:u,mode:c})}}))():!0:!1}),j8.addImplementation(0,"generic-dom",(n,e)=>(document.execCommand("paste"),!0)));a_e&&ut(Oyt);class In{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+In.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new In(this.value+In.sep+e)}}In.sep=".";In.None=new In("@@none@@");In.Empty=new In("");In.QuickFix=new In("quickfix");In.Refactor=new In("refactor");In.Source=new In("source");In.SourceOrganizeImports=In.Source.append("organizeImports");In.SourceFixAll=In.Source.append("fixAll");function Pyt(n,e){return!(n.include&&!n.include.intersects(e)||n.excludes&&n.excludes.some(t=>u_e(e,t,n.include))||!n.includeSourceActions&&In.Source.contains(e))}function Fyt(n,e){const t=e.kind?new In(e.kind):void 0;return!(n.include&&(!t||!n.include.contains(t))||n.excludes&&t&&n.excludes.some(i=>u_e(t,i,n.include))||!n.includeSourceActions&&t&&In.Source.contains(t)||n.onlyIncludePreferredActions&&!e.isPreferred)}function u_e(n,e,t){return!(!e.contains(n)||t&&e.contains(t))}class Nh{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return!e||typeof e!="object"?new Nh(t.kind,t.apply,!1):new Nh(Nh.getKindFromUser(e,t.kind),Nh.getApplyFromUser(e,t.apply),Nh.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new In(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}}var dG=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const c_e="editor.action.codeAction",d_e="editor.action.refactor",h_e="editor.action.sourceAction",hG="editor.action.organizeImports",fG="editor.action.fixAll";class f_e{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return dG(this,void 0,void 0,function*(){if(((t=this.provider)===null||t===void 0?void 0:t.resolveCodeAction)&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,e)}catch(r){Ys(r)}i&&(this.action.edit=i.edit)}return this})}}class gG extends ze{constructor(e,t,i){super();this.documentation=t,this._register(i),this.allActions=[...e].sort(gG.codeActionsComparator),this.validActions=this.allActions.filter(({action:r})=>!r.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:nl(e.diagnostics)?nl(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:nl(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&In.QuickFix.contains(new In(e.kind))&&!!e.isPreferred)}}const Wre={actions:[],documentation:void 0};function pG(n,e,t,i,r){var s;const o=t.filter||{},a={only:(s=o.include)===null||s===void 0?void 0:s.value,trigger:t.type},l=new rG(n,r),u=Byt(n,o),c=new it,d=u.map(f=>dG(this,void 0,void 0,function*(){try{i.report(f);const g=yield f.provideCodeActions(n,e,a,l.token);if(g&&c.add(g),l.token.isCancellationRequested)return Wre;const p=((g==null?void 0:g.actions)||[]).filter(b=>b&&Fyt(o,b)),m=$yt(f,p,o.include);return{actions:p.map(b=>new f_e(b,f)),documentation:m}}catch(g){if(pf(g))throw g;return Ys(g),Wre}})),h=qh.onDidChange(()=>{const f=qh.all(n);$l(f,u)||l.cancel()});return Promise.all(d).then(f=>{const g=FU(f.map(m=>m.actions)),p=L1(f.map(m=>m.documentation));return new gG(g,p,c)}).finally(()=>{h.dispose(),l.dispose()})}function Byt(n,e){return qh.all(n).filter(t=>t.providedCodeActionKinds?t.providedCodeActionKinds.some(i=>Pyt(e,new In(i))):!0)}function $yt(n,e,t){if(!n.documentation)return;const i=n.documentation.map(r=>({kind:new In(r.kind),command:r.command}));if(t){let r;for(const s of i)s.kind.contains(t)&&(r?r.kind.contains(s.kind)&&(r=s):r=s);if(r)return r==null?void 0:r.command}for(const r of e)if(!!r.kind){for(const s of i)if(s.kind.contains(new In(r.kind)))return s.command}}Vn.registerCommand("_executeCodeActionProvider",function(n,e,t,i,r){return dG(this,void 0,void 0,function*(){if(!(e instanceof zt))throw kd();const s=n.get(sr).getModel(e);if(!s)throw kd();const o=vt.isISelection(t)?vt.liftSelection(t):Y.isIRange(t)?s.validateRange(t):void 0;if(!o)throw kd();const a=typeof i=="string"?new In(i):void 0,l=yield pG(s,o,{type:1,filter:{includeSourceActions:!0,include:a}},P1.None,En.None),u=[],c=Math.min(l.validActions.length,typeof r=="number"?r:0);for(let d=0;d<c;d++)u.push(l.validActions[d].resolve(En.None));try{return yield Promise.all(u),l.validActions.map(d=>d.action)}finally{setTimeout(()=>l.dispose(),100)}})});var Vyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Wyt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let Gl=class SV{constructor(e,t){this._messageWidget=new da,this._messageListeners=new it,this._editor=e,this._visible=SV.MESSAGE_VISIBLE.bindTo(t),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(e){return e.getContribution(SV.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){ro(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Hre(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new Ra(()=>this.closeMessage(),3e3));let i;this._messageListeners.add(this._editor.onMouseMove(r=>{!r.target.position||(i?i.containsPosition(r.target.position)||this.closeMessage():i=new Y(t.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Hre.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(L("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};Gl.ID="editor.contrib.messageController";Gl.MESSAGE_VISIBLE=new St("messageVisible",!1,L("messageVisible","Whether the editor is currently showing an inline message"));Gl=Vyt([Wyt(1,Zt)],Gl);const Hyt=go.bindToContribution(Gl.get);lt(new Hyt({id:"leaveEditorMessage",precondition:Gl.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class Hre{constructor(e,{lineNumber:t,column:i},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const o=document.createElement("div");o.classList.add("message"),o.textContent=r,this._domNode.appendChild(o);const a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",e===2)}}oi(Gl.ID,Gl);var zyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},zre=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Uyt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Ure extends il{constructor(e,t){super(e.command?e.command.id:e.title,jyt(e.title),void 0,!e.disabled,t);this.action=e}}function jyt(n){return n.replace(/\r\n|\r|\n/g," ")}let LV=class extends ze{constructor(e,t,i,r){super();this._editor=e,this._delegate=t,this._contextMenuService=i,this._visible=!1,this._showingActions=this._register(new da),this._keybindingResolver=new sP({getKeybindings:()=>r.getKeybindings()})}get isVisible(){return this._visible}show(e,t,i,r){return Uyt(this,void 0,void 0,function*(){const s=r.includeDisabledActions?t.allActions:t.validActions;if(!s.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,WU();this._visible=!0,this._showingActions.value=t;const o=this.getMenuActions(e,s,t.documentation),a=Ae.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},l=this._keybindingResolver.getResolver(),u=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>o,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:c=>c instanceof Ure?l(c.action):void 0})})}getMenuActions(e,t,i){var r,s;const o=c=>new Ure(c.action,()=>this._delegate.onSelectCodeAction(c)),a=t.map(o),l=[...i],u=this._editor.getModel();if(u&&a.length)for(const c of qh.all(u))c._getAdditionalMenuItems&&l.push(...c._getAdditionalMenuItems({trigger:e.type,only:(s=(r=e.filter)===null||r===void 0?void 0:r.include)===null||s===void 0?void 0:s.value},t.map(d=>d.action)));return l.length&&a.push(new xu,...l.map(c=>o(new f_e({title:c.title,command:c},void 0)))),a}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=io(this._editor.getDomNode()),r=i.left+t.left,s=i.top+t.top+t.height;return{x:r,y:s}}};LV=zyt([zre(2,Ev),zre(3,Dr)],LV);class sP{constructor(e){this._keybindingProvider=e}getResolver(){const e=new Py(()=>this._keybindingProvider.getKeybindings().filter(t=>sP.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===hG?i={kind:In.SourceOrganizeImports.value}:t.command===fG&&(i={kind:In.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},Nh.fromUser(i,{kind:In.None,apply:"never"}))}));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.getValue());return i==null?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new In(e.kind);return t.filter(r=>r.kind.contains(i)).filter(r=>r.preferred?e.isPreferred:!0).reduceRight((r,s)=>r?r.kind.contains(s.kind)?s:r:s,void 0)}}sP.codeActionCommands=[d_e,c_e,h_e,hG,fG];var Kyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Gyt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},pL;(function(n){n.Hidden={type:0};class e{constructor(i,r,s,o){this.actions=i,this.trigger=r,this.editorPosition=s,this.widgetPosition=o,this.type=1}}n.Showing=e})(pL||(pL={}));let vR=class g_e extends ze{constructor(e,t,i,r){super();this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=r,this._onClick=this._register(new Le),this.onClick=this._onClick.event,this._state=pL.Hidden,this._domNode=document.createElement("div"),this._domNode.className=k.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const o=this._editor.getModel();(this.state.type!==1||!o||this.state.editorPosition.lineNumber>=o.getLineCount())&&this.hide()})),hi.ignoreTarget(this._domNode),this._register(Dut(this._domNode,s=>{if(this.state.type!==1)return;this._editor.focus(),s.preventDefault();const{top:o,height:a}=io(this._domNode),l=this._editor.getOption(59);let u=Math.floor(l/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(u+=l),this._onClick.fire({x:s.posx,y:o+a+u,actions:this.state.actions,trigger:this.state.trigger})})),this._register(nt(this._domNode,"mouseenter",s=>{if((s.buttons&1)!==1)return;this.hide();const o=new x1;o.startMonitoring(s.target,s.buttons,Ww,()=>{},()=>{o.dispose()})})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();const r=this._editor.getOptions();if(!r.get(57).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:o,column:a}=s.validatePosition(i),l=s.getOptions().tabSize,u=r.get(44),c=s.getLineContent(o),d=L4(c,l),h=u.spaceWidth*d>22,f=p=>p>2&&this._editor.getTopForLineNumber(p)===this._editor.getTopForLineNumber(p-1);let g=o;if(!h){if(o>1&&!f(o-1))g-=1;else if(!f(o+1))g+=1;else if(a*u.spaceWidth<22)return this.hide()}this.state=new pL.Showing(e,t,i,{position:{lineNumber:g,column:1},preference:g_e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=pL.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...k.lightBulb.classNamesArray),this._domNode.classList.add(...k.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=L("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel());return}}this._domNode.classList.remove(...k.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...k.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);e?this.title=L("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):this.title=L("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};vR._posPref=[0];vR=Kyt([Gyt(3,Dr)],vR);Hi((n,e)=>{var t;const i=(t=n.getColor(Ta))===null||t===void 0?void 0:t.transparent(.7),r=n.getColor(Xct);r&&e.addRule(`
		.monaco-editor .contentWidgets ${k.lightBulb.cssSelector} {
			color: ${r};
			background-color: ${i};
		}`);const s=n.getColor(Zct);s&&e.addRule(`
		.monaco-editor .contentWidgets ${k.lightbulbAutofix.cssSelector} {
			color: ${s};
			background-color: ${i};
		}`)});var qyt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Yyt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},K8=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},Xyt=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t},Zyt=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)},Ox;let kV=class extends ze{constructor(e,t,i,r,s){super();this._editor=e,this.delegate=r,this._activeCodeActions=this._register(new da),Ox.set(this,!1),this._codeActionWidget=new Py(()=>this._register(s.createInstance(LV,this._editor,{onSelectCodeAction:o=>K8(this,void 0,void 0,function*(){this.delegate.applyCodeAction(o,!0)})}))),this._lightBulbWidget=new Py(()=>{const o=this._register(s.createInstance(vR,this._editor,t,i));return this._register(o.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1}))),o})}dispose(){Xyt(this,Ox,!0,"f"),super.dispose()}update(e){var t,i,r,s,o;return K8(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let a;try{a=yield e.actions}catch(l){Qt(l);return}if(!Zyt(this,Ox,"f"))if(this._lightBulbWidget.getValue().update(a,e.trigger,e.position),e.trigger.type===1){if((i=e.trigger.filter)===null||i===void 0?void 0:i.include){const u=this.tryGetValidActionToApply(e.trigger,a);if(u){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(u,!1)}finally{a.dispose()}return}if(e.trigger.context){const c=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,a);if(c&&c.action.disabled){(r=Gl.get(this._editor))===null||r===void 0||r.showMessage(c.action.disabled,e.trigger.context.position),a.dispose();return}}}const l=!!((s=e.trigger.filter)===null||s===void 0?void 0:s.include);if(e.trigger.context&&(!a.allActions.length||!l&&!a.validActions.length)){(o=Gl.get(this._editor))===null||o===void 0||o.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=a,a.dispose();return}this._activeCodeActions.value=a,this._codeActionWidget.getValue().show(e.trigger,a,e.position,{includeDisabledActions:l})}else this._codeActionWidget.getValue().isVisible?a.dispose():this._activeCodeActions.value=a})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(!!t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(!!t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,i,r){return K8(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,i,r)})}};Ox=new WeakMap;kV=qyt([Yyt(4,Mn)],kV);var G8=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)},Qyt=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t},eC;const p_e=new St("supportedCodeAction","");class Jyt extends ze{constructor(e,t,i,r=250){super();this._editor=e,this._markerService=t,this._signalChange=i,this._delay=r,this._autoTriggerTimer=this._register(new Ra),this._register(this._markerService.onMarkerChanged(s=>this._onMarkerChanges(s))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();!t||e.some(i=>Hme(i,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(!!t)for(const i of this._markerService.read({resource:t.uri})){const r=t.validateRange(i);if(Y.intersectRanges(r,e))return Y.lift(r)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&e.type===2){const{lineNumber:r,column:s}=i.getPosition(),o=t.getLineContent(r);if(o.length===0)return;if(s===1){if(/\s/.test(o[0]))return}else if(s===t.getLineMaxColumn(r)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[s-2])&&/\s/.test(o[s-1]))return}return i}_createEventAndSignalChange(e,t){const i=this._editor.getModel();if(!t||!i){this._signalChange(void 0);return}const r=this._getRangeOfMarker(t),s=r?r.getStartPosition():t.getStartPosition(),o={trigger:e,selection:t,position:s};return this._signalChange(o),o}}var L0;(function(n){n.Empty={type:0};class e{constructor(i,r,s,o){this.trigger=i,this.rangeOrSelection=r,this.position=s,this._cancellablePromise=o,this.type=1,this.actions=o.catch(a=>{if(pf(a))return ewt;throw a})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=e})(L0||(L0={}));const ewt={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class twt extends ze{constructor(e,t,i,r){super();this._editor=e,this._markerService=t,this._progressService=r,this._codeActionOracle=this._register(new da),this._state=L0.Empty,this._onDidChangeState=this._register(new Le),this.onDidChangeState=this._onDidChangeState.event,eC.set(this,!1),this._supportedCodeActions=p_e.bindTo(i),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(qh.onDidChange(()=>this._update())),this._update()}dispose(){G8(this,eC,"f")||(Qyt(this,eC,!0,"f"),super.dispose(),this.setState(L0.Empty,!0))}_update(){if(G8(this,eC,"f"))return;this._codeActionOracle.value=void 0,this.setState(L0.Empty);const e=this._editor.getModel();if(e&&qh.has(e)&&!this._editor.getOption(81)){const t=[];for(const i of qh.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new Jyt(this._editor,this._markerService,i=>{var r;if(!i){this.setState(L0.Empty);return}const s=qs(o=>pG(e,i.selection,i.trigger,P1.None,o));i.trigger.type===1&&((r=this._progressService)===null||r===void 0||r.showWhile(s,250)),this.setState(new L0.Triggered(i.trigger,i.selection,i.position,s))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!G8(this,eC,"f")&&this._onDidChangeState.fire(e))}}eC=new WeakMap;var nwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},jT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},m_e=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function SD(n){return _t.regex(p_e.keys()[0],new RegExp("(\\s|^)"+Fu(n.value)+"\\b"))}const mG={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:L("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:L("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[L("args.schema.apply.first","Always apply the first returned code action."),L("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),L("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:L("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Y_=class v_e extends ze{constructor(e,t,i,r,s){super();this._instantiationService=s,this._editor=e,this._model=this._register(new twt(this._editor,t,i,r)),this._register(this._model.onDidChangeState(o=>this.update(o))),this._ui=new Py(()=>this._register(new kV(e,qw.Id,LD.Id,{applyCodeAction:(o,a)=>m_e(this,void 0,void 0,function*(){try{yield this._applyCodeAction(o)}finally{a&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(v_e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,i){var r;if(!this._editor.hasModel())return;(r=Gl.get(this._editor))===null||r===void 0||r.closeMessage();const s=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:i,context:{notAvailableMessage:e,position:s}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(iwt,e,this._editor)}};Y_.ID="editor.contrib.quickFixController";Y_=nwt([jT(1,op),jT(2,Zt),jT(3,Dv),jT(4,Mn)],Y_);function iwt(n,e,t){return m_e(this,void 0,void 0,function*(){const i=n.get(vK),r=n.get(Pr),s=n.get(mf),o=n.get(Kr);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred}),yield e.resolve(En.None),e.action.edit&&(yield i.apply(N4.convert(e.action.edit),{editor:t,label:e.action.title})),e.action.command)try{yield r.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(a){const l=rwt(a);o.error(typeof l=="string"?l:L("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function rwt(n){return typeof n=="string"?n:n instanceof Error&&typeof n.message=="string"?n.message:void 0}function W1(n,e,t,i){if(n.hasModel()){const r=Y_.get(n);r&&r.manualTriggerAtCurrentPosition(e,t,i)}}class qw extends Et{constructor(){super({id:qw.Id,label:L("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:_t.and(ue.writable,ue.hasCodeActionsProvider),kbOpts:{kbExpr:ue.editorTextFocus,primary:2132,weight:100}})}run(e,t){return W1(t,L("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}qw.Id="editor.action.quickFix";class swt extends go{constructor(){super({id:c_e,precondition:_t.and(ue.writable,ue.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:mG}]}})}runEditorCommand(e,t,i){const r=Nh.fromUser(i,{kind:In.Empty,apply:"ifSingle"});return W1(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?L("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):L("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):r.preferred?L("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):L("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}class owt extends Et{constructor(){super({id:d_e,label:L("refactor.label","Refactor..."),alias:"Refactor...",precondition:_t.and(ue.writable,ue.hasCodeActionsProvider),kbOpts:{kbExpr:ue.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:_t.and(ue.writable,SD(In.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:mG}]}})}run(e,t,i){const r=Nh.fromUser(i,{kind:In.Refactor,apply:"never"});return W1(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?L("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):L("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):r.preferred?L("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):L("editor.action.refactor.noneMessage","No refactorings available"),{include:In.Refactor.contains(r.kind)?r.kind:In.None,onlyIncludePreferredActions:r.preferred},r.apply)}}class awt extends Et{constructor(){super({id:h_e,label:L("source.label","Source Action..."),alias:"Source Action...",precondition:_t.and(ue.writable,ue.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:_t.and(ue.writable,SD(In.Source))},description:{description:"Source Action...",args:[{name:"args",schema:mG}]}})}run(e,t,i){const r=Nh.fromUser(i,{kind:In.Source,apply:"never"});return W1(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?L("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):L("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):r.preferred?L("editor.action.source.noneMessage.preferred","No preferred source actions available"):L("editor.action.source.noneMessage","No source actions available"),{include:In.Source.contains(r.kind)?r.kind:In.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}class lwt extends Et{constructor(){super({id:hG,label:L("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:_t.and(ue.writable,SD(In.SourceOrganizeImports)),kbOpts:{kbExpr:ue.editorTextFocus,primary:1581,weight:100}})}run(e,t){return W1(t,L("editor.action.organize.noneMessage","No organize imports action available"),{include:In.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class uwt extends Et{constructor(){super({id:fG,label:L("fixAll.label","Fix All"),alias:"Fix All",precondition:_t.and(ue.writable,SD(In.SourceFixAll))})}run(e,t){return W1(t,L("fixAll.noneMessage","No fix all action available"),{include:In.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class LD extends Et{constructor(){super({id:LD.Id,label:L("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:_t.and(ue.writable,SD(In.QuickFix)),kbOpts:{kbExpr:ue.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return W1(t,L("editor.action.autoFix.noneMessage","No auto fixes available"),{include:In.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}LD.Id="editor.action.autoFix";oi(Y_.ID,Y_);ut(qw);ut(owt);ut(awt);ut(lwt);ut(LD);ut(uwt);lt(new swt);var jre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class EV{constructor(){this.lenses=[],this._disposables=new it}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function __e(n,e){return jre(this,void 0,void 0,function*(){const t=dg.ordered(n),i=new Map,r=new EV,s=t.map((o,a)=>jre(this,void 0,void 0,function*(){i.set(o,a);try{const l=yield Promise.resolve(o.provideCodeLenses(n,e));l&&r.add(l,o)}catch(l){Ys(l)}}));return yield Promise.all(s),r.lenses=r.lenses.sort((o,a)=>o.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:o.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:i.get(o.provider)<i.get(a.provider)?-1:i.get(o.provider)>i.get(a.provider)?1:o.symbol.range.startColumn<a.symbol.range.startColumn?-1:o.symbol.range.startColumn>a.symbol.range.startColumn?1:0),r})}Vn.registerCommand("_executeCodeLensProvider",function(n,...e){let[t,i]=e;Ii(zt.isUri(t)),Ii(typeof i=="number"||!i);const r=n.get(sr).getModel(t);if(!r)throw kd();const s=[],o=new it;return __e(r,En.None).then(a=>{o.add(a);let l=[];for(const u of a.lenses)i==null||Boolean(u.symbol.command)?s.push(u.symbol):i-- >0&&u.provider.resolveCodeLens&&l.push(Promise.resolve(u.provider.resolveCodeLens(r,u.symbol,En.None)).then(c=>s.push(c||u.symbol)));return Promise.all(l)}).then(()=>s).finally(()=>{setTimeout(()=>o.dispose(),100)})});var cwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},dwt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const b_e=Pn("ICodeLensCache");class Kre{constructor(e,t){this.lineCount=e,this.data=t}}let DV=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new kv(20,.75);const t="codelens/cache";ck(()=>e.remove(t,1));const i="codelens/cache2",r=e.get(i,1,"{}");this._deserialize(r),Gg(e.onWillSaveState)(s=>{s.reason===fR.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){const i=t.lenses.map(o=>{var a;return{range:o.symbol.range,command:o.symbol.command&&{id:"",title:(a=o.symbol.command)===null||a===void 0?void 0:a.title}}}),r=new EV;r.add({lenses:i,dispose:()=>{}},this._fakeProvider);const s=new Kre(e.getLineCount(),r);this._cache.set(e.uri.toString(),s)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const r=new Set;for(const s of i.data.lenses)r.add(s.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...r.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const i in t){const r=t[i],s=[];for(const a of r.lines)s.push({range:new Y(a,1,a,11)});const o=new EV;o.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(i,new Kre(r.lineCount,o))}}catch{}}};DV=cwt([dwt(0,yf)],DV);qn(b_e,DV);class hwt{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class oP{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${oP._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let i=[],r=!1;for(let s=0;s<e.length;s++){const o=e[s];if(!!o&&(r=!0,o.command)){const a=__(o.command.title.trim());o.command.id?(i.push(et("a",{id:String(s),title:o.command.tooltip},...a)),this._commands.set(String(s),o.command)):i.push(et("span",{title:o.command.tooltip},...a)),s+1<e.length&&i.push(et("span",void 0,"\xA0|\xA0"))}}r?(Ym(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Ym(this._domNode,et("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}oP._idPool=0;class q8{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,r=t.length;i<r;i++)this._addDecorationsCallbacks[i](t[i])}}class Gre{constructor(e,t,i,r,s,o,a){this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let l,u=[];this._data.forEach((c,d)=>{c.symbol.command&&u.push(c.symbol),r.addDecoration({range:c.symbol.range,options:dn.EMPTY},h=>this._decorationIds[d]=h),l?l=Y.plusRange(l,c.symbol.range):l=Y.lift(c.symbol.range)}),this._viewZone=new hwt(l.startLineNumber-1,o,a),this._viewZoneId=s.addZone(this._viewZone),u.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(u,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new oP(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),r=this._data[t].symbol;return!!(i&&Y.isEmpty(r.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,r)=>{t.addDecoration({range:i.symbol.range,options:dn.EMPTY},s=>this._decorationIds[r]=s)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:r}=this._data[t];r.command=i.command||r.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var fwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},KT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},gwt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let aw=class{constructor(e,t,i,r,s){this._editor=e,this._commandService=i,this._notificationService=r,this._codeLensCache=s,this._disposables=new it,this._localToDispose=new it,this._lenses=[],this._oldCodeLensModels=new it,this._provideCodeLensDebounce=t.for(dg,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=t.for(dg,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new Ni(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(o=>{(o.hasChanged(44)||o.hasChanged(16)||o.hasChanged(15))&&this._updateLensStyle(),o.hasChanged(14)&&this._onModelChange()})),this._disposables.add(dg.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+Cpe(this._editor.getId()).toString(16),this._styleElement=$u(r4(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e=this._editor.getOption(16),t;return!e||e<5?(e=this._editor.getOption(46)*.9|0,t=this._editor.getOption(59)):t=e*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:t,fontSize:e}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(15),r=this._editor.getOption(44),s=`--codelens-font-family${this._styleClassName}`,o=`--codelens-font-features${this._styleClassName}`;let a=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(t*.5)}px; font-feature-settings: var(${o}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }
		`;i&&(a+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${s}), ${jo.fontFamily}}`),this._styleElement.textContent=a,this._editor.getContainerDomNode().style.setProperty(s,i!=null?i:"inherit"),this._editor.getContainerDomNode().style.setProperty(o,r.fontFeatureSettings),this._editor.changeViewZones(l=>{for(let u of this._lenses)u.updateHeight(e,l)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!dg.has(e)){t&&this._localToDispose.add(N_(()=>{const r=this._codeLensCache.get(e);t===r&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(const r of dg.all(e))if(typeof r.onDidChange=="function"){let s=r.onDidChange(()=>i.schedule());this._localToDispose.add(s)}const i=new Ni(()=>{var r;const s=Date.now();(r=this._getCodeLensModelPromise)===null||r===void 0||r.cancel(),this._getCodeLensModelPromise=qs(o=>__e(e,o)),this._getCodeLensModelPromise.then(o=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=o,this._codeLensCache.put(e,o);const a=this._provideCodeLensDebounce.update(e,Date.now()-s);i.delay=a,this._renderCodeLensSymbols(o),this._resolveCodeLensesInViewportSoon()},Qt)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add(_n(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{let o=[],a=-1;this._lenses.forEach(u=>{!u.isValid()||a===u.getLineNumber()?o.push(u):(u.update(s),a=u.getLineNumber())});let l=new q8;o.forEach(u=>{u.dispose(l,s),this._lenses.splice(this._lenses.indexOf(u),1)}),l.commit(r)})}),i.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(r=>{r.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(_n(()=>{if(this._editor.getModel()){const r=nv.capture(this._editor);this._editor.changeDecorations(s=>{this._editor.changeViewZones(o=>{this._disposeAllLenses(s,o)})}),r.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(r=>{if(r.target.type!==9)return;let s=r.target.element;if((s==null?void 0:s.tagName)==="SPAN"&&(s=s.parentElement),(s==null?void 0:s.tagName)==="A")for(const o of this._lenses){let a=o.getCommand(s);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){const i=new q8;for(const r of this._lenses)r.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t=this._editor.getModel().getLineCount(),i=[],r;for(let a of e.lenses){let l=a.symbol.range.startLineNumber;l<1||l>t||(r&&r[r.length-1].symbol.range.startLineNumber===l?r.push(a):(r=[a],i.push(r)))}const s=nv.capture(this._editor),o=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{const u=new q8;let c=0,d=0;for(;d<i.length&&c<this._lenses.length;){let h=i[d][0].symbol.range.startLineNumber,f=this._lenses[c].getLineNumber();f<h?(this._lenses[c].dispose(u,l),this._lenses.splice(c,1)):f===h?(this._lenses[c].updateCodeLensSymbols(i[d],u),d++,c++):(this._lenses.splice(c,0,new Gre(i[d],this._editor,this._styleClassName,u,l,o.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),c++,d++)}for(;c<this._lenses.length;)this._lenses[c].dispose(u,l),this._lenses.splice(c,1);for(;d<i.length;)this._lenses.push(new Gre(i[d],this._editor,this._styleClassName,u,l,o.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++;u.commit(a)})}),s.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],r=[];if(this._lenses.forEach(a=>{const l=a.computeIfNecessary(t);l&&(i.push(l),r.push(a))}),i.length===0)return;const s=Date.now(),o=qs(a=>{const l=i.map((u,c)=>{const d=new Array(u.length),h=u.map((f,g)=>!f.symbol.command&&typeof f.provider.resolveCodeLens=="function"?Promise.resolve(f.provider.resolveCodeLens(t,f.symbol,a)).then(p=>{d[g]=p},Ys):(d[g]=f.symbol,Promise.resolve(void 0)));return Promise.all(h).then(()=>{!a.isCancellationRequested&&!r[c].isDisposed()&&r[c].updateCommands(d)})});return Promise.all(l)});this._resolveCodeLensesPromise=o,this._resolveCodeLensesPromise.then(()=>{const a=this._resolveCodeLensesDebounce.update(t,Date.now()-s);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),o===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{Qt(a),o===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};aw.ID="css.editor.codeLens";aw=fwt([KT(1,sp),KT(2,Pr),KT(3,Kr),KT(4,b_e)],aw);oi(aw.ID,aw);ut(class extends Et{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:ue.hasCodeLensProvider,label:L("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return gwt(this,void 0,void 0,function*(){if(!t.hasModel())return;const i=e.get(ap),r=e.get(Pr),s=e.get(Kr),o=t.getSelection().positionLineNumber,a=t.getContribution(aw.ID);if(!a)return;const l=a.getModel();if(!l)return;const u=[];for(const d of l.lenses)d.symbol.command&&d.symbol.range.startLineNumber===o&&u.push({label:d.symbol.command.title,command:d.symbol.command});if(u.length===0)return;const c=yield i.pick(u,{canPickMany:!1});if(!!c){if(l.isDisposed)return yield r.executeCommand(this.id);try{yield r.executeCommand(c.command.id,...c.command.arguments||[])}catch(d){s.error(d)}}})}});function pwt(n,e){const t=[],r=Vy.ordered(n).reverse().map(s=>Promise.resolve(s.provideDocumentColors(n,e)).then(o=>{if(Array.isArray(o))for(let a of o)t.push({colorInfo:a,provider:s})}));return Promise.all(r).then(()=>t)}function qre(n,e,t,i){return Promise.resolve(t.provideColorPresentations(n,e,i))}Vn.registerCommand("_executeDocumentColorProvider",function(n,...e){const[t]=e;if(!(t instanceof zt))throw kd();const i=n.get(sr).getModel(t);if(!i)throw kd();const r=[],o=Vy.ordered(i).reverse().map(a=>Promise.resolve(a.provideDocumentColors(i,En.None)).then(l=>{if(Array.isArray(l))for(let u of l)r.push({range:u.range,color:[u.color.red,u.color.green,u.color.blue,u.color.alpha]})}));return Promise.all(o).then(()=>r)});Vn.registerCommand("_executeColorPresentationProvider",function(n,...e){const[t,i]=e,{uri:r,range:s}=i;if(!(r instanceof zt)||!Array.isArray(t)||t.length!==4||!Y.isIRange(s))throw kd();const[o,a,l,u]=t,c=n.get(sr).getModel(r);if(!c)throw kd();const d={range:s,color:{red:o,green:a,blue:l,alpha:u}},h=[],g=Vy.ordered(c).reverse().map(p=>Promise.resolve(p.provideColorPresentations(c,d,En.None)).then(m=>{Array.isArray(m)&&h.push(...m)}));return Promise.all(g).then(()=>h)});var mwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vwt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const C_e=Object.create({}),_wt=500;let X_=class y_e extends ze{constructor(e,t){super();this._editor=e,this._configurationService=t,this._localToDispose=this._register(new it),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new lD(this._editor),this._colorDecorationClassRefs=this._register(new it),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(Vy.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let i=this._isEnabled;this._isEnabled=this.isEnabled(),i!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){const r=i.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const e=this._editor.getModel();!e||!Vy.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Ra,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},y_e.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=qs(e=>{const t=this._editor.getModel();return t?pwt(t,e):Promise.resolve([])}),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},Qt)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:dn.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((i,r)=>this._colorDatas.set(i,e[r]))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let t=[];for(let i=0;i<e.length&&t.length<_wt;i++){const{red:r,green:s,blue:o,alpha:a}=e[i].colorInfo.color,l=new Dn(Math.round(r*255),Math.round(s*255),Math.round(o*255),a);let u=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`;const c=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:u}));t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Got,inlineClassName:`${c.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:C_e}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],t))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(Y.fromPositions(e,e)).filter(r=>this._colorDatas.has(r.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecorationId(e){return this._colorDecoratorIds.has(e)}};X_.ID="editor.contrib.colorDetector";X_.RECOMPUTE_TIME=1e3;X_=mwt([vwt(1,Mi)],X_);oi(X_.ID,X_);function IV(n,e){return!!n[e]}class Y8{constructor(e,t){this.target=e.target,this.hasTriggerModifier=IV(e.event,t.triggerModifier),this.hasSideBySideModifier=IV(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class Yre{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=IV(e,t.triggerModifier)}}class GT{constructor(e,t,i,r){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=r}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function Xre(n){return n==="altKey"?kn?new GT(57,"metaKey",6,"altKey"):new GT(5,"ctrlKey",6,"altKey"):kn?new GT(6,"altKey",57,"metaKey"):new GT(6,"altKey",5,"ctrlKey")}class vG extends ze{constructor(e){super();this._onMouseMoveOrRelevantKeyDown=this._register(new Le),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new Le),this.onExecute=this._onExecute.event,this._onCancel=this._register(new Le),this.onCancel=this._onCancel.event,this._editor=e,this._opts=Xre(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(70)){const i=Xre(this._editor.getOption(70));if(this._opts.equals(i))return;this._opts=i,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new Y8(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new Y8(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new Y8(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new Yre(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new Yre(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var bwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Mp=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let Z_=class extends $k{constructor(e,t,i,r,s,o,a,l,u,c,d){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},r,s,o,a,l,u,c,d);this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration(h=>this._onParentConfigurationChanged(h)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){gf(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};Z_=bwt([Mp(3,Mn),Mp(4,ci),Mp(5,Pr),Mp(6,Zt),Mp(7,Ki),Mp(8,Kr),Mp(9,ul),Mp(10,fo)],Z_);const Zre=new We(new Dn(0,122,204)),Cwt={showArrow:!0,showFrame:!0,className:"",frameColor:Zre,arrowColor:Zre,keepEditorSelection:!1},ywt="vs.editor.contrib.zoneWidget";class wwt{constructor(e,t,i,r,s,o){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=r,this._onDomNodeTop=s,this._onComputedHeight=o}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class Swt{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class aP{constructor(e){this._editor=e,this._ruleName=aP._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),pne(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){pne(this._ruleName),H7(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:Y.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}aP._IdGenerator=new MK(".arrow-decoration-");class Lwt{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new it,this.container=null,this._isShowing=!1,this.editor=e,this.options=tg(t),gf(this.options,Cwt,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{const r=this._getWidth(i);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(r)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new aP(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const i=t.getDecorationRange(e);if(!!i)return i.getStartPosition()}show(e,t){const i=Y.isIRange(e)?Y.lift(e):Y.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:dn.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(59),t=0;if(this.options.showArrow){let i=Math.round(e/3);t+=2*i}if(this.options.showFrame){let i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){const i=e.getStartPosition(),r=this.editor.getLayoutInfo(),s=this._getWidth(r);this.domNode.style.width=`${s}px`,this.domNode.style.left=this._getLeft(r)+"px";const o=document.createElement("div");o.style.overflow="hidden";const a=this.editor.getOption(59),l=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,l);let u=0,c=0;if(this._arrow&&this.options.showArrow&&(u=Math.round(a/3),this._arrow.height=u,this._arrow.show(i)),this.options.showFrame&&(c=Math.round(a/9)),this.editor.changeViewZones(f=>{this._viewZone&&f.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new wwt(o,i.lineNumber,i.column,t,g=>this._onViewZoneTop(g),g=>this._onViewZoneHeight(g)),this._viewZone.id=f.addZone(this._viewZone),this._overlayWidget=new Swt(ywt+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const f=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}let d=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=u+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,s),this.options.keepEditorSelection||this.editor.setSelection(e);const h=this.editor.getModel();if(h){const f=e.endLineNumber+1;f<=h.getLineCount()?this.revealLine(f,!1):this.revealLine(h.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new wo(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let i=(t.currentY-e.startY)/this.editor.getOption(59),r=i<0?Math.ceil(i):Math.floor(i),s=e.heightInLines+r;s>5&&s<35&&this._relayout(s)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}class kwt extends jy{constructor(e,t){super();this._onDidChangeVisibility=this._register(new Le),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=qe(e,et(".monaco-dropdown")),this._label=qe(this._element,et(".dropdown-label"));let i=t.labelRenderer;i||(i=s=>(s.textContent=t.label||"",null));for(const s of[Bt.CLICK,Bt.MOUSE_DOWN,$i.Tap])this._register(nt(this.element,s,o=>ui.stop(o,!0)));for(const s of[Bt.MOUSE_DOWN,$i.Tap])this._register(nt(this._label,s,o=>{o instanceof MouseEvent&&o.detail>1||(this.visible?this.hide():this.show())}));this._register(nt(this._label,Bt.KEY_UP,s=>{const o=new Yi(s);(o.equals(3)||o.equals(10))&&(ui.stop(s,!0),this.visible?this.hide():this.show())}));const r=i(this._label);r&&this._register(r),this._register(hi.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class Ewt extends kwt{constructor(e,t){super(e,t);this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class w_e extends yh{constructor(e,t,i,r=Object.create(null)){super(null,e,r);this.actionItem=null,this._onDidChangeVisibility=this._register(new Le),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=s=>{this.element=qe(s,et("a.action-label"));let o=[];return typeof this.options.classNames=="string"?o=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(o=this.options.classNames),o.find(a=>a==="icon")||o.push("codicon"),this.element.classList.add(...o),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new Ewt(e,r)),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var o;(o=this.element)===null||o===void 0||o.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return s.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const i=!this.getAction().enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",i),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",i)}}var _G=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},wh=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},S_e=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function Dwt(n,e,t,i,r,s,o){const a=n.getActions(e);return Twt(a,t,!1,typeof i=="string"?u=>u===i:i,r,s,o),Iwt(a)}function Iwt(n){const e=new it;for(const[,t]of n)for(const i of t)e.add(i);return e}function Twt(n,e,t,i=a=>a==="navigation",r=Number.MAX_SAFE_INTEGER,s=()=>!1,o=!1){let a,l;Array.isArray(e)?(a=e,l=e):(a=e.primary,l=e.secondary);const u=new Set;for(const[c,d]of n){let h;i(c)?(h=a,h.length>0&&o&&h.push(new xu)):(h=l,h.length>0&&h.push(new xu));for(let f of d){t&&(f=f instanceof Zm&&f.alt?f.alt:f);const g=h.push(f);f instanceof s4&&u.add({group:c,action:f,index:g-1})}}for(const{group:c,action:d,index:h}of u){const f=i(c)?a:l,g=d.actions;(g.length<=1||f.length+g.length-2<=r)&&s(d,c,f.length)&&f.splice(h,1,...g)}if(a!==l&&a.length>r){const c=a.splice(r,a.length-r);l.unshift(...c,new xu)}}let lw=class extends Vk{constructor(e,t,i,r,s){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable});this._keybindingService=i,this._notificationService=r,this._contextKeyService=s,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new da),this._altKey=$0.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return S_e(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(Gs||Ao)&&this._altKey.keyStatus.shiftKey;const r=()=>{const s=t&&i;s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(s=>{i=s.altKey||(Gs||Ao)&&s.shiftKey,r()})),this._register(nt(e,"mouseleave",s=>{t=!1,r()})),this._register(nt(e,"mouseenter",s=>{t=!0,r()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let r=t?L("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&this._menuItemAction.alt){const s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,o=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),a=o&&o.getLabel(),l=a?L("titleAndKb","{0} ({1})",s,a):s;r+=`
[${_K.modifierLabels[mu].altKey}] ${l}`}this.label.title=r}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:i,label:r}=this;if(!i||!r)return;const s=this._commandAction.checked&&((t=e.toggled)===null||t===void 0?void 0:t.icon)?e.toggled.icon:e.icon;if(!!s)if(Ti.isThemeIcon(s)){const o=Ti.asClassNameArray(s);r.classList.add(...o),this._itemClassDispose.value=_n(()=>{r.classList.remove(...o)})}else s.light&&r.style.setProperty("--menu-entry-icon-light",O_(s.light)),s.dark&&r.style.setProperty("--menu-entry-icon-dark",O_(s.dark)),r.classList.add("icon"),this._itemClassDispose.value=_n(()=>{r.classList.remove("icon"),r.style.removeProperty("--menu-entry-icon-light"),r.style.removeProperty("--menu-entry-icon-dark")})}};lw=_G([wh(2,Dr),wh(3,Kr),wh(4,Zt)],lw);let TV=class extends w_e{constructor(e,t,i){var r,s;const o=Object.assign({},t!=null?t:Object.create(null),{menuAsChild:(r=t==null?void 0:t.menuAsChild)!==null&&r!==void 0?r:!1,classNames:(s=t==null?void 0:t.classNames)!==null&&s!==void 0?s:Ti.isThemeIcon(e.item.icon)?Ti.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,o)}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!Ti.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",O_(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",O_(t.dark)))}}};TV=_G([wh(2,Ev)],TV);let NV=class extends yh{constructor(e,t,i,r,s,o,a,l){var u,c,d;super(null,e);this._keybindingService=i,this._notificationService=r,this._contextMenuService=s,this._menuService=o,this._instaService=a,this._storageService=l,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let h,f=l.get(this._storageKey,1);f&&(h=e.actions.find(p=>f===p.id)),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(lw,h,void 0);const g=Object.assign({},t!=null?t:Object.create(null),{menuAsChild:(u=t==null?void 0:t.menuAsChild)!==null&&u!==void 0?u:!0,classNames:(c=t==null?void 0:t.classNames)!==null&&c!==void 0?c:["codicon","codicon-chevron-down"],actionRunner:(d=t==null?void 0:t.actionRunner)!==null&&d!==void 0?d:new jy});this._dropdown=new w_e(e,e.actions,this._contextMenuService,g),this._dropdown.actionRunner.onDidRun(p=>{p.action instanceof Zm&&this.update(p.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(lw,e,void 0),this._defaultAction.actionRunner=new class extends jy{runAction(t,i){return S_e(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render(But(this._container,et(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=et(".action-container");this._defaultAction.render(qe(this._container,t)),this._register(nt(t,Bt.KEY_DOWN,r=>{const s=new Yi(r);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const i=et(".dropdown-action-container");this._dropdown.render(qe(this._container,i)),this._register(nt(i,Bt.KEY_DOWN,r=>{var s;const o=new Yi(r);o.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(s=this._defaultAction.element)===null||s===void 0||s.focus(),o.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};NV=_G([wh(2,Dr),wh(3,Kr),wh(4,Ev),wh(5,N1),wh(6,Mn),wh(7,yf)],NV);function Nwt(n,e,t){return e instanceof Zm?n.createInstance(lw,e,void 0):e instanceof Mj?e.item.rememberDefaultAction?n.createInstance(NV,e,t):n.createInstance(TV,e,t):void 0}var L_e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},k_e=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const E_e=Pn("IPeekViewService");qn(E_e,class{constructor(){this._widgets=new Map}addExclusiveWidget(n,e){const t=this._widgets.get(n);t&&(t.listener.dispose(),t.widget.dispose());const i=()=>{const r=this._widgets.get(n);r&&r.widget===e&&(r.listener.dispose(),this._widgets.delete(n))};this._widgets.set(n,{widget:e,listener:e.onDidClose(i)})}});var Aa;(function(n){n.inPeekEditor=new St("inReferenceSearchEditor",!0,L("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),n.notInPeekEditor=n.inPeekEditor.toNegated()})(Aa||(Aa={}));let rE=class{constructor(e,t){e instanceof Z_&&Aa.inPeekEditor.bindTo(t)}dispose(){}};rE.ID="editor.contrib.referenceController";rE=L_e([k_e(1,Zt)],rE);oi(rE.ID,rE);function xwt(n){let e=n.get(ci).getFocusedCodeEditor();return e instanceof Z_?e.getParentEditor():e}const Mwt={headerBackgroundColor:We.white,primaryHeadingColor:We.fromHex("#333333"),secondaryHeadingColor:We.fromHex("#6c6c6cb3")};let _R=class extends Lwt{constructor(e,t,i){super(e,t);this.instantiationService=i,this._onDidClose=new Le,this.onDidClose=this._onDidClose.event,gf(this.options,Mwt,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=et(".head"),this._bodyElement=et(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=et(".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),Ks(i,"click",o=>this._onTitleClick(o))),qe(this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=et("span.filename"),this._secondaryHeading=et("span.dirname"),this._metaHeading=et("span.meta"),qe(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);const r=et(".peekview-actions");qe(this._headElement,r);const s=this._getActionBarOptions();this._actionbarWidget=new sf(r,s),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new il("peekview.close",L("label.close","Close"),k.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Nwt.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:_s(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Il(this._metaHeading)):ka(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const i=Math.ceil(this.editor.getOption(59)*1.2),r=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(r,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};_R=L_e([k_e(2,Mn)],_R);const Awt=ce("peekViewTitle.background",{dark:Kt(Wl,.1),light:Kt(Wl,.1),hc:null},L("peekViewTitleBackground","Background color of the peek view title area.")),D_e=ce("peekViewTitleLabel.foreground",{dark:We.white,light:We.black,hc:We.white},L("peekViewTitleForeground","Color of the peek view title.")),I_e=ce("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},L("peekViewTitleInfoForeground","Color of the peek view title info.")),Rwt=ce("peekView.border",{dark:Wl,light:Wl,hc:rr},L("peekViewBorder","Color of the peek view borders and arrow.")),Owt=ce("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:We.black},L("peekViewResultsBackground","Background color of the peek view result list."));ce("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:We.white},L("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list."));ce("peekViewResult.fileForeground",{dark:We.white,light:"#1E1E1E",hc:We.white},L("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list."));ce("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},L("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list."));ce("peekViewResult.selectionForeground",{dark:We.white,light:"#6C6C6C",hc:We.white},L("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list."));const X8=ce("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:We.black},L("peekViewEditorBackground","Background color of the peek view editor."));ce("peekViewEditorGutter.background",{dark:X8,light:X8,hc:X8},L("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor."));ce("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},L("peekViewResultsMatchHighlight","Match highlight color in the peek view result list."));ce("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},L("peekViewEditorMatchHighlight","Match highlight color in the peek view editor."));ce("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Go},L("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Pwt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class ov{constructor(e,t,i,r){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=r,this.id=Zve.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?L({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",Wu(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):L("aria.oneReference","symbol in {0} on line {1} at column {2}",Wu(this.uri),this.range.startLineNumber,this.range.startColumn)}}class Fwt{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:r,startColumn:s,endLineNumber:o,endColumn:a}=e,l=i.getWordUntilPosition({lineNumber:r,column:s-t}),u=new Y(r,l.startColumn,r,s),c=new Y(o,a,o,1073741824),d=i.getValueInRange(u).replace(/^\s+/,""),h=i.getValueInRange(e),f=i.getValueInRange(c).replace(/\s+$/,"");return{value:d+h+f,highlight:{start:d.length,end:d.length+h.length}}}}class sE{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new na}dispose(){jn(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?L("aria.fileReferences.1","1 symbol in {0}, full path {1}",Wu(this.uri),this.uri.fsPath):L("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Wu(this.uri),this.uri.fsPath)}resolve(e){return Pwt(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{const i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new Fwt(i))}catch(i){Qt(i)}return this})}}class rl{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Le,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;e.sort(rl._compareReferences);let r;for(let s of e)if((!r||!Wi.isEqual(r.uri,s.uri,!0))&&(r=new sE(this,s.uri),this.groups.push(r)),r.children.length===0||rl._compareReferences(s,r.children[r.children.length-1])!==0){const o=new ov(i===s,r,s,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(o),r.children.push(o)}}dispose(){jn(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new rl(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?L("aria.result.0","No results found"):this.references.length===1?L("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?L("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):L("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:i}=e,r=i.children.indexOf(e),s=i.children.length,o=i.parent.groups.length;return o===1||t&&r+1<s||!t&&r>0?(t?r=(r+1)%s:r=(r+s-1)%s,i.children[r]):(r=i.parent.groups.indexOf(i),t?(r=(r+1)%o,i.parent.groups[r].children[0]):(r=(r+o-1)%o,i.parent.groups[r].children[i.parent.groups[r].children.length-1]))}nearestReference(e,t){const i=this.references.map((r,s)=>({idx:s,prefixLen:Fy(r.uri.toString(),e.toString()),offsetDist:Math.abs(r.range.startLineNumber-t.lineNumber)*100+Math.abs(r.range.startColumn-t.column)})).sort((r,s)=>r.prefixLen>s.prefixLen?-1:r.prefixLen<s.prefixLen?1:r.offsetDist<s.offsetDist?-1:r.offsetDist>s.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&Y.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Wi.compare(e.uri,t.uri)||Y.compareRangesUsingStarts(e.range,t.range)}}function T_e(n){if(!n)return;typeof n=="string"&&(n=zt.file(n));const e=Wu(n)||(n.scheme===on.file?n.fsPath:n.path);return Gs&&Yot(e)?xV(e):e}function xV(n,e){return Zge(n,e)?n.charAt(0).toUpperCase()+n.slice(1):n}var lP=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},oE=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let MV=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof rl||e instanceof sE}getChildren(e){if(e instanceof rl)return e.groups;if(e instanceof sE)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};MV=lP([oE(0,Oa)],MV);class Bwt{getHeight(){return 23}getTemplateId(e){return e instanceof sE?aE.id:kD.id}}let AV=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof ov){const i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return Wu(e.uri)}};AV=lP([oE(0,Dr)],AV);class $wt{getId(e){return e instanceof ov?e.id:e.uri}}let RV=class extends ze{constructor(e,t,i){super();this._uriLabel=t;const r=document.createElement("div");r.classList.add("reference-file"),this.file=this._register(new oR(r,{supportHighlights:!0})),this.badge=new W$(qe(r,et(".count"))),this._register(Jvt(this.badge,i)),e.appendChild(r)}set(e,t){let i=Xj(e.uri);this.file.setLabel(T_e(e.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const r=e.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat(L("referencesCount","{0} references",r)):this.badge.setTitleFormat(L("referenceCount","{0} reference",r))}};RV=lP([oE(1,mD),oE(2,Ki)],RV);let aE=class N_e{constructor(e){this._instantiationService=e,this.templateId=N_e.id}renderTemplate(e){return this._instantiationService.createInstance(RV,e)}renderElement(e,t,i){i.set(e.element,O4(e.filterData))}disposeTemplate(e){e.dispose()}};aE.id="FileReferencesRenderer";aE=lP([oE(0,Mn)],aE);class Vwt{constructor(e){this.label=new j_(e)}set(e,t){var i;const r=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!r||!r.value)this.label.set(`${Wu(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:s,highlight:o}=r;t&&!Ed.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(s,O4(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(s,[o]))}}}class kD{constructor(){this.templateId=kD.id}renderTemplate(e){return new Vwt(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}kD.id="OneReferenceRenderer";class Wwt{getWidgetAriaLabel(){return L("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var Hwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Wf=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Qre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class uP{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new it,this._callOnModelChange=new it,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(!!e){for(let t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],i=[];for(let s=0,o=e.children.length;s<o;s++){let a=e.children[s];this._decorationIgnoreSet.has(a.id)||a.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:a.range,options:uP.DecorationOptions}),i.push(s))}const r=this._editor.deltaDecorations([],t);for(let s=0;s<r.length;s++)this._decorations.set(r[s],e.children[i[s]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(!!t){for(let[i,r]of this._decorations){const s=t.getDecorationRange(i);if(!s)continue;let o=!1;if(!Y.equalsRange(s,r.range)){if(Y.spansMultipleLines(s))o=!0;else{const a=r.range.endColumn-r.range.startColumn,l=s.endColumn-s.startColumn;a!==l&&(o=!0)}o?(this._decorationIgnoreSet.add(r.id),e.push(i)):r.range=s}}for(let i=0,r=e.length;i<r;i++)this._decorations.delete(e[i]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}uP.DecorationOptions=dn.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class zwt{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const r=JSON.parse(e);t=r.ratio,i=r.heightInLines}catch{}return{ratio:t||.7,heightInLines:i||18}}}class Uwt extends eV{}let OV=class extends _R{constructor(e,t,i,r,s,o,a,l,u,c,d,h){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},o);this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=s,this._instantiationService=o,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=u,this._keybindingService=c,this._languageService=d,this._languageConfigurationService=h,this._disposeOnNewModel=new it,this._callOnDispose=new it,this._onDidSelectReference=new Le,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new Ei(0,0),this._applyTheme(r.getColorTheme()),this._callOnDispose.add(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),jn(this._preview),jn(this._previewNotAvailableMessage),jn(this._tree),jn(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(Rwt)||We.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(Awt)||We.transparent,primaryHeadingColor:e.getColor(D_e),secondaryHeadingColor:e.getColor(I_e)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=qe(e,et("div.messages")),ka(this._messageContainer),this._splitView=new d0e(e,{orientation:1}),this._previewContainer=qe(e,et("div.preview.inline"));let t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Z_,this._previewContainer,t,this.editor),ka(this._previewContainer),this._previewNotAvailableMessage=new Vc(L("missingPreviewMessage","no preview available"),_f,Vc.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=qe(e,et("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Wwt,keyboardNavigationLabelProvider:this._instantiationService.createInstance(AV),identityProvider:new $wt,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:Owt}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Ks(this._treeContainer,"keydown",s=>{s.equals(9)&&(this._keybindingService.dispatchEvent(s,s.target),s.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Uwt,"ReferencesWidget",this._treeContainer,new Bwt,[this._instantiationService.createInstance(aE),this._instantiationService.createInstance(kD)],this._instantiationService.createInstance(MV),i),this._splitView.addView({onDidChange:xt.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:s=>{this._preview.layout({height:this._dim.height,width:s})}},lR.Distribute),this._splitView.addView({onDidChange:xt.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:s=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${s}px`,this._tree.layout(this._dim.height,s)}},lR.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let r=(s,o)=>{s instanceof ov&&(o==="show"&&this._revealReference(s,!1),this._onDidSelectReference.fire({element:s,kind:o,source:"tree"}))};this._tree.onDidOpen(s=>{s.sideBySide?r(s.element,"side"):s.editorOptions.pinned?r(s.element,"goto"):r(s.element,"show")}),ka(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new Ei(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=L("noResults","No results"),Il(this._messageContainer),Promise.resolve(void 0)):(ka(this._messageContainer),this._decorationsManager=new uP(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:i}=e;if(t.detail!==2)return;const r=this._getFocusedReference();!r||this._onDidSelectReference.fire({element:{uri:r.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Il(this._treeContainer),Il(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof ov)return e;if(e instanceof sE&&e.children.length>0)return e.children[0]}revealReference(e){return Qre(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return Qre(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==on.inMemory?this.setTitle(zme(e.uri),this._uriLabel.getUriLabel(Xj(e.uri))):this.setTitle(L("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));const r=yield i;if(!this._model){r.dispose();return}jn(this._previewModelReference);const s=r.object;if(s){const o=this._preview.getModel()===s.textEditorModel?0:1,a=Y.lift(e.range).collapseToStart();this._previewModelReference=r,this._preview.setModel(s.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,o)}else this._preview.setModel(this._previewNotAvailableMessage),r.dispose()})}};OV=Hwt([Wf(3,Ki),Wf(4,Oa),Wf(5,Mn),Wf(6,E_e),Wf(7,mD),Wf(8,k4),Wf(9,Dr),Wf(10,fr),Wf(11,fo)],OV);var jwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ib=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Jre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const H1=new St("referenceSearchVisible",!1,L("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let av=class PV{constructor(e,t,i,r,s,o,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=r,this._notificationService=s,this._instantiationService=o,this._storageService=a,this._configurationService=l,this._disposables=new it,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=H1.bindTo(i)}static get(e){return e.getContribution(PV.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),!!r&&e.containsPosition(r))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const s="peekViewLayout",o=zwt.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(OV,this._editor,this._defaultTreeKeyboardSupport,o),this._widget.setTitle(L("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{let{element:u,kind:c}=l;if(!!u)switch(c){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(u,!1,!1);break;case"side":this.openReference(u,!0,!1);break;case"goto":i?this._gotoReference(u):this.openReference(u,!1,!0);break}}));const a=++this._requestIdPool;t.then(l=>{var u;if(a!==this._requestIdPool||!this._widget){l.dispose();return}return(u=this._model)===null||u===void 0||u.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(L("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let c=this._editor.getModel().uri,d=new Ae(e.startLineNumber,e.startColumn),h=this._model.nearestReference(c,d);if(h)return this._widget.setSelection(h).then(()=>{this._widget&&this._editor.getOption(77)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return Jre(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const r=this._model.nextOrPreviousReference(i,e),s=this._editor.hasTextFocus(),o=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(r),yield this._gotoReference(r),s?this._editor.focus():this._widget&&o&&this._widget.focusOnPreviewEditor()})}revealReference(e){return Jre(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const t=Y.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t}},this._editor).then(i=>{var r;if(this._ignoreModelChangeEvent=!1,!i||!this._widget){this.closeWidget();return}if(this._editor===i)this._widget.show(t),this._widget.focusOnReferenceTree();else{const s=PV.get(i),o=this._model.clone();this.closeWidget(),i.focus(),s==null||s.toggleWidget(t,qs(a=>Promise.resolve(o)),(r=this._peekMode)!==null&&r!==void 0?r:!1)}},i=>{this._ignoreModelChangeEvent=!1,Qt(i)})}openReference(e,t,i){t||this.closeWidget();const{uri:r,range:s}=e;this._editorService.openCodeEditor({resource:r,options:{selection:s,pinned:i}},this._editor,t)}};av.ID="editor.contrib.referencesController";av=jwt([Ib(2,Zt),Ib(3,ci),Ib(4,Kr),Ib(5,Mn),Ib(6,yf),Ib(7,Mi)],av);function z1(n,e){const t=xwt(n);if(!t)return;const i=av.get(t);i&&e(i)}ha.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Rs(2089,60),when:_t.or(H1,Aa.inPeekEditor),handler(n){z1(n,e=>{e.changeFocusBetweenPreviewAndReferences()})}});ha.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:_t.or(H1,Aa.inPeekEditor),handler(n){z1(n,e=>{e.goToNextOrPreviousReference(!0)})}});ha.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:_t.or(H1,Aa.inPeekEditor),handler(n){z1(n,e=>{e.goToNextOrPreviousReference(!1)})}});Vn.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");Vn.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");Vn.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");Vn.registerCommand("closeReferenceSearch",n=>z1(n,e=>e.closeWidget()));ha.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:_t.and(Aa.inPeekEditor,_t.not("config.editor.stablePeek"))});ha.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:_t.and(H1,_t.not("config.editor.stablePeek"))});ha.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:_t.and(H1,C0e,GK.negate(),qK.negate()),handler(n){var e;const i=(e=n.get(Gu).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof ov&&z1(n,r=>r.revealReference(i[0]))}});ha.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:_t.and(H1,C0e,GK.negate(),qK.negate()),handler(n){var e;const i=(e=n.get(Gu).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof ov&&z1(n,r=>r.openReference(i[0],!0,!0))}});Vn.registerCommand("openReference",n=>{var e;const i=(e=n.get(Gu).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof ov&&z1(n,r=>r.openReference(i[0],!1,!0))});var x_e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},p2=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const bG=new St("hasSymbols",!1,L("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),cP=Pn("ISymbolNavigationService");let FV=class{constructor(e,t,i,r){this._editorService=t,this._notificationService=i,this._keybindingService=r,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=bG.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new BV(this._editorService),r=i.onDidChange(s=>{if(this._ignoreEditorChange)return;const o=this._editorService.getActiveCodeEditor();if(!o)return;const a=o.getModel(),l=o.getPosition();if(!a||!l)return;let u=!1,c=!1;for(const d of t.references)if(Hme(d.uri,a.uri))u=!0,c=c||Y.containsPosition(d.range,l);else if(u)break;(!u||!c)&&this.reset()});this._currentState=vm(i,r)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:Y.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?L("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):L("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};FV=x_e([p2(0,Zt),p2(1,ci),p2(2,Kr),p2(3,Dr)],FV);qn(cP,FV,!0);lt(new class extends go{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:bG,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,e){return n.get(cP).revealNext(e)}});ha.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:bG,primary:9,handler(n){n.get(cP).reset()}});let BV=class{constructor(e){this._listener=new Map,this._disposables=new it,this._onDidChange=new Le,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),jn(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,vm(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};BV=x_e([p2(0,ci)],BV);var M_e=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function ED(n,e,t,i){const s=t.ordered(n).map(o=>Promise.resolve(i(o,n,e)).then(void 0,a=>{Ys(a)}));return Promise.all(s).then(o=>{const a=[];for(let l of o)Array.isArray(l)?a.push(...l):l&&a.push(l);return a})}function CG(n,e,t){return ED(n,e,pk,(i,r,s)=>i.provideDefinition(r,s,t))}function A_e(n,e,t){return ED(n,e,sA,(i,r,s)=>i.provideDeclaration(r,s,t))}function R_e(n,e,t){return ED(n,e,oA,(i,r,s)=>i.provideImplementation(r,s,t))}function O_e(n,e,t){return ED(n,e,aA,(i,r,s)=>i.provideTypeDefinition(r,s,t))}function dP(n,e,t,i){return ED(n,e,nA,(r,s,o)=>M_e(this,void 0,void 0,function*(){const a=yield r.provideReferences(s,o,{includeDeclaration:!0},i);if(!t||!a||a.length!==2)return a;const l=yield r.provideReferences(s,o,{includeDeclaration:!1},i);return l&&l.length===1?l:a}))}function DD(n){return M_e(this,void 0,void 0,function*(){const e=yield n(),t=new rl(e,""),i=t.references.map(r=>r.link);return t.dispose(),i})}vf("_executeDefinitionProvider",(n,e)=>DD(()=>CG(n,e,En.None)));vf("_executeDeclarationProvider",(n,e)=>DD(()=>A_e(n,e,En.None)));vf("_executeImplementationProvider",(n,e)=>DD(()=>R_e(n,e,En.None)));vf("_executeTypeDefinitionProvider",(n,e)=>DD(()=>O_e(n,e,En.None)));vf("_executeReferenceProvider",(n,e)=>DD(()=>dP(n,e,!1,En.None)));var xc=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},Z8,Q8,J8,e6,t6,n6,i6,r6;Vl.appendMenuItem(_e.EditorContext,{submenu:_e.EditorContextPeek,title:L("peek.submenu","Peek"),group:"navigation",order:100});const P_e=new Set;function Xd(n){const e=new n;return Jpe(e),P_e.add(e.id),e}class lE{constructor(e,t){this.model=e,this.position=t}static is(e){return!e||typeof e!="object"?!1:!!(e instanceof lE||Ae.isIPosition(e.position)&&e.model)}}class U1 extends Et{constructor(e,t){super(t);this.configuration=e}run(e,t,i){if(!t.hasModel())return Promise.resolve(void 0);const r=e.get(Kr),s=e.get(ci),o=e.get(Dv),a=e.get(cP),l=t.getModel(),u=t.getPosition(),c=lE.is(i)?i:new lE(l,u),d=new iE(t,5),h=GU(this._getLocationModel(c.model,c.position,d.token),d.token).then(f=>xc(this,void 0,void 0,function*(){var g;if(!f||d.token.isCancellationRequested)return;ro(f.ariaMessage);let p;if(f.referenceAt(l.uri,u)){const b=this._getAlternativeCommand(t);b!==this.id&&P_e.has(b)&&(p=t.getAction(b))}const m=f.references.length;if(m===0){if(!this.configuration.muteMessage){const b=l.getWordAtPosition(u);(g=Gl.get(t))===null||g===void 0||g.showMessage(this._getNoResultFoundMessage(b),u)}}else if(m===1&&p)p.run();else return this._onResult(s,a,t,f)}),f=>{r.error(f)}).finally(()=>{d.dispose()});return o.showWhile(h,250),h}_onResult(e,t,i,r){return xc(this,void 0,void 0,function*(){const s=this._getGoToPreference(i);if(!(i instanceof Z_)&&(this.configuration.openInPeek||s==="peek"&&r.references.length>1))this._openInPeek(i,r);else{const o=r.firstReference(),a=r.references.length>1&&s==="gotoAndPeek",l=yield this._openReference(i,e,o,this.configuration.openToSide,!a);a&&l?this._openInPeek(l,r):r.dispose(),s==="goto"&&t.put(o)}})}_openReference(e,t,i,r,s){return xc(this,void 0,void 0,function*(){let o;if(bat(i)&&(o=i.targetSelectionRange),o||(o=i.range),!o)return;const a=yield t.openCodeEditor({resource:i.uri,options:{selection:Y.collapseToStart(o),selectionRevealType:3}},e,r);if(!!a){if(s){const l=a.getModel(),u=a.deltaDecorations([],[{range:o,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&a.deltaDecorations(u,[])},350)}return a}})}_openInPeek(e,t){const i=av.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),qs(r=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}class ID extends U1{_getLocationModel(e,t,i){return xc(this,void 0,void 0,function*(){return new rl(yield CG(e,t,i),L("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?L("noResultWord","No definition found for '{0}'",e.word):L("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleDefinitions}}const F_e=Lv&&!cj?2118:70;Xd((Z8=class $V extends ID{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:$V.id,label:L("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:_t.and(ue.hasDefinitionProvider,ue.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:ue.editorTextFocus,primary:F_e,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});Vn.registerCommandAlias("editor.action.goToDeclaration",$V.id)}},Z8.id="editor.action.revealDefinition",Z8));Xd((Q8=class VV extends ID{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:VV.id,label:L("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:_t.and(ue.hasDefinitionProvider,ue.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,F_e),weight:100}});Vn.registerCommandAlias("editor.action.openDeclarationToTheSide",VV.id)}},Q8.id="editor.action.revealDefinitionAside",Q8));Xd((J8=class WV extends ID{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:WV.id,label:L("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:_t.and(ue.hasDefinitionProvider,Aa.notInPeekEditor,ue.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:ue.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:_e.EditorContextPeek,group:"peek",order:2}});Vn.registerCommandAlias("editor.action.previewDeclaration",WV.id)}},J8.id="editor.action.peekDefinition",J8));class B_e extends U1{_getLocationModel(e,t,i){return xc(this,void 0,void 0,function*(){return new rl(yield A_e(e,t,i),L("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?L("decl.noResultWord","No declaration found for '{0}'",e.word):L("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(51).multipleDeclarations}}Xd((e6=class $_e extends B_e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:$_e.id,label:L("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:_t.and(ue.hasDeclarationProvider,ue.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?L("decl.noResultWord","No declaration found for '{0}'",e.word):L("decl.generic.noResults","No declaration found")}},e6.id="editor.action.revealDeclaration",e6));Xd(class extends B_e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:L("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:_t.and(ue.hasDeclarationProvider,Aa.notInPeekEditor,ue.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_e.EditorContextPeek,group:"peek",order:3}})}});class V_e extends U1{_getLocationModel(e,t,i){return xc(this,void 0,void 0,function*(){return new rl(yield O_e(e,t,i),L("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?L("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):L("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleTypeDefinitions}}Xd((t6=class W_e extends V_e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:W_e.ID,label:L("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:_t.and(ue.hasTypeDefinitionProvider,ue.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:ue.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},t6.ID="editor.action.goToTypeDefinition",t6));Xd((n6=class H_e extends V_e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:H_e.ID,label:L("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:_t.and(ue.hasTypeDefinitionProvider,Aa.notInPeekEditor,ue.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_e.EditorContextPeek,group:"peek",order:4}})}},n6.ID="editor.action.peekTypeDefinition",n6));class z_e extends U1{_getLocationModel(e,t,i){return xc(this,void 0,void 0,function*(){return new rl(yield R_e(e,t,i),L("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?L("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):L("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(51).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(51).multipleImplementations}}Xd((i6=class U_e extends z_e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:U_e.ID,label:L("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:_t.and(ue.hasImplementationProvider,ue.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:ue.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},i6.ID="editor.action.goToImplementation",i6));Xd((r6=class j_e extends z_e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:j_e.ID,label:L("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:_t.and(ue.hasImplementationProvider,Aa.notInPeekEditor,ue.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:ue.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:_e.EditorContextPeek,group:"peek",order:5}})}},r6.ID="editor.action.peekImplementation",r6));class K_e extends U1{_getNoResultFoundMessage(e){return e?L("references.no","No references found for '{0}'",e.word):L("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(51).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(51).multipleReferences}}Xd(class extends K_e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:L("goToReferences.label","Go to References"),alias:"Go to References",precondition:_t.and(ue.hasReferenceProvider,Aa.notInPeekEditor,ue.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:ue.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,i){return xc(this,void 0,void 0,function*(){return new rl(yield dP(e,t,!0,i),L("ref.title","References"))})}});Xd(class extends K_e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:L("references.action.label","Peek References"),alias:"Peek References",precondition:_t.and(ue.hasReferenceProvider,Aa.notInPeekEditor,ue.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_e.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i){return xc(this,void 0,void 0,function*(){return new rl(yield dP(e,t,!1,i),L("ref.title","References"))})}});class Kwt extends U1{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:L("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:_t.and(Aa.notInPeekEditor,ue.isInWalkThroughSnippet.toNegated())});this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i){return xc(this,void 0,void 0,function*(){return new rl(this._references,L("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&L("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}Vn.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:zt},{name:"position",description:"The position at which to start",constraint:Ae.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(n,e,t,i,r,s,o)=>xc(void 0,void 0,void 0,function*(){Ii(zt.isUri(e)),Ii(Ae.isIPosition(t)),Ii(Array.isArray(i)),Ii(typeof r=="undefined"||typeof r=="string"),Ii(typeof o=="undefined"||typeof o=="boolean");const a=n.get(ci),l=yield a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(Yg(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(u=>{const c=new class extends Kwt{_getNoResultFoundMessage(d){return s||super._getNoResultFoundMessage(d)}}({muteMessage:!Boolean(s),openInPeek:Boolean(o),openToSide:!1},i,r);u.get(Mn).invokeFunction(c.run.bind(c),l)})})});Vn.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:zt},{name:"position",description:"The position at which to start",constraint:Ae.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(n,e,t,i,r)=>xc(void 0,void 0,void 0,function*(){n.get(Pr).executeCommand("editor.action.goToLocations",e,t,i,r,void 0,!0)})});Vn.registerCommand({id:"editor.action.findReferences",handler:(n,e,t)=>{Ii(zt.isUri(e)),Ii(Ae.isIPosition(t));const i=n.get(ci);return i.openCodeEditor({resource:e},i.getFocusedCodeEditor()).then(r=>{if(!Yg(r)||!r.hasModel())return;const s=av.get(r);if(!s)return;const o=qs(l=>dP(r.getModel(),Ae.lift(t),!1,l).then(u=>new rl(u,L("ref.title","References")))),a=new Y(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(s.toggleWidget(a,o,!1))})}});Vn.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");Vl.appendMenuItems([{id:_e.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:L({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:_e.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:L({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:_e.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:L({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:_e.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:L({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:_e.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:L({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var Gwt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ese=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let Q_=class m2{constructor(e,t,i){this.textModelResolverService=t,this.languageService=i,this.toUnhook=new it,this.toUnhookForKeyboard=new it,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let r=new vG(e);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown(([s,o])=>{this.startFindDefinitionFromMouse(s,Ja(o))})),this.toUnhook.add(r.onExecute(s=>{this.isEnabled(s)&&this.gotoDefinition(s.target.position,s.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},o=>{this.removeLinkDecorations(),Qt(o)})})),this.toUnhook.add(r.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(m2.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;let r=new nE(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=qs(s=>this.findDefinition(e,s)),this.previousPromise.then(s=>{if(!s||!s.length||!r.validate(this.editor)){this.removeLinkDecorations();return}if(s.length>1)this.addDecoration(new Y(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),new Fd().appendText(L("multipleResults","Click to show {0} definitions.",s.length)));else{let o=s[0];if(!o.uri)return;this.textModelResolverService.createModelReference(o.uri).then(a=>{if(!a.object||!a.object.textEditorModel){a.dispose();return}const{object:{textEditorModel:l}}=a,{startLineNumber:u}=o.range;if(u<1||u>l.getLineCount()){a.dispose();return}const c=this.getPreviewValue(l,u,o);let d;o.originSelectionRange?d=Y.lift(o.originSelectionRange):d=new Y(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);const h=this.languageService.guessLanguageIdByFilepathOrFirstLine(l.uri);this.addDecoration(d,new Fd().appendCodeblock(h||"",c)),a.dispose()})}}).then(void 0,Qt)}getPreviewValue(e,t,i){let r=i.targetSelectionRange?i.range:this.getPreviewRangeBasedOnBrackets(e,t);return r.endLineNumber-r.startLineNumber>=m2.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,r)}stripIndentationFromPreviewRange(e,t,i){let s=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<i.endLineNumber;a++){const l=e.getLineFirstNonWhitespaceColumn(a);s=Math.min(s,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const i=e.getLineFirstNonWhitespaceColumn(t),r=Math.min(e.getLineCount(),t+m2.MAX_SOURCE_PREVIEW_LINES);let s=t+1;for(;s<r;s++){let o=e.getLineFirstNonWhitespaceColumn(s);if(i===o)break}return new Y(t,1,s+1,1)}getPreviewRangeBasedOnBrackets(e,t){const i=Math.min(e.getLineCount(),t+m2.MAX_SOURCE_PREVIEW_LINES),r=[];let s=!0,o=e.bracketPairs.findNextBracket(new Ae(t,1));for(;o!==null;){if(r.length===0)r.push(o);else{const c=r[r.length-1];if(c.open[0]===o.open[0]&&c.isOpen&&!o.isOpen?r.pop():r.push(o),r.length===0)if(s)s=!1;else return new Y(t,1,o.range.endLineNumber+1,1)}const a=e.getLineMaxColumn(t);let l=o.range.endLineNumber,u=o.range.endColumn;if(a===o.range.endColumn&&(l++,u=1),l>i)return new Y(t,1,i+1,1);o=e.bracketPairs.findNextBracket(new Ae(l,u))}return new Y(t,1,i+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[i])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&pk.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?CG(i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{const r=!t&&this.editor.getOption(78)&&!this.isInPeekEditor(i);return new ID({openToSide:t,openInPeek:r,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(i,this.editor)})}isInPeekEditor(e){const t=e.get(Zt);return Aa.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};Q_.ID="editor.contrib.gotodefinitionatposition";Q_.MAX_SOURCE_PREVIEW_LINES=8;Q_=Gwt([ese(1,Oa),ese(2,fr)],Q_);oi(Q_.ID,Q_);Hi((n,e)=>{const t=n.getColor(Wj);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});const qT=et;class G_e extends ze{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new dD(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class yG extends ze{constructor(e,t,i){super();this.actionContainer=qe(e,qT("div.action-container")),this.action=qe(this.actionContainer,qT("a.action")),this.action.setAttribute("role","button"),t.iconClass&&qe(this.action,qT(`span.icon.${t.iconClass}`));const r=qe(this.action,qT("span"));r.textContent=i?`${t.label} (${i})`:t.label,this._register(nt(this.actionContainer,Bt.MOUSE_DOWN,s=>{s.stopPropagation(),s.preventDefault(),t.run(this.actionContainer)})),this.setEnabled(!0)}static render(e,t,i){return new yG(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}class qwt{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new Le,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Le,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Le,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let i=0;i<this.colorPresentations.length;i++)if(t.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}const _d=et;class Ywt extends ze{constructor(e,t,i){super();this.model=t,this.domNode=_d(".colorpicker-header"),qe(e,this.domNode),this.pickedColorNode=qe(this.domNode,_d(".picked-color"));const r=L("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",r);const s=qe(this.domNode,_d(".original-color"));s.style.backgroundColor=We.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(F_)||We.white,this._register(Hi((o,a)=>{this.backgroundColor=o.getColor(F_)||We.white})),this._register(nt(this.pickedColorNode,Bt.CLICK,()=>this.model.selectNextColorPresentation())),this._register(nt(s,Bt.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=We.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=We.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(_d(".codicon.codicon-color-mode"))}}class Xwt extends ze{constructor(e,t,i){super();this.model=t,this.pixelRatio=i,this.domNode=_d(".colorpicker-body"),qe(e,this.domNode),this.saturationBox=new Zwt(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Qwt(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Jwt(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new We(new Bh(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new We(new Bh(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=(1-e)*360;this.model.color=new We(new Bh(i===360?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Zwt extends ze{constructor(e,t,i){super();this.model=t,this.pixelRatio=i,this._onDidChange=new Le,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Le,this.onColorFlushed=this._onColorFlushed.event,this.domNode=_d(".saturation-wrap"),qe(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",qe(this.domNode,this.canvas),this.selection=_d(".saturation-selection"),qe(this.domNode,this.selection),this.layout(),this._register(Lj(this.domNode,r=>this.onMouseDown(r))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new x1);const t=io(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,Ww,r=>this.onDidChangePosition(r.posx-t.left,r.posy-t.top),()=>null);const i=Ope(document,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),r=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,r),this._onDidChange.fire({s:i,v:r})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new We(new Bh(e.h,1,1,1)),i=this.canvas.getContext("2d"),r=i.createLinearGradient(0,0,this.canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");const s=i.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=We.Format.CSS.format(t),i.fill(),i.fillStyle=r,i.fill(),i.fillStyle=s,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class q_e extends ze{constructor(e,t){super();this.model=t,this._onDidChange=new Le,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Le,this.onColorFlushed=this._onColorFlushed.event,this.domNode=qe(e,_d(".strip")),this.overlay=qe(this.domNode,_d(".overlay")),this.slider=qe(this.domNode,_d(".slider")),this.slider.style.top="0px",this._register(Lj(this.domNode,i=>this.onMouseDown(i))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new x1),i=io(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,Ww,s=>this.onDidChangeTop(s.posy-i.top),()=>null);const r=Ope(document,()=>{this._onColorFlushed.fire(),r.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class Qwt extends q_e{constructor(e,t){super(e,t);this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:i,b:r}=e.rgba,s=new We(new Dn(t,i,r,1)),o=new We(new Dn(t,i,r,0));this.overlay.style.background=`linear-gradient(to bottom, ${s} 0%, ${o} 100%)`}getValue(e){return e.hsva.a}}class Jwt extends q_e{constructor(e,t){super(e,t);this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class eSt extends jc{constructor(e,t,i,r){super();this.model=t,this.pixelRatio=i,this._register(Wy.onDidChange(()=>this.layout()));const s=_d(".colorpicker-widget");e.appendChild(s);const o=new Ywt(s,this.model,r);this.body=new Xwt(s,this.model,this.pixelRatio),this._register(o),this._register(this.body)}layout(){this.body.layout()}}var tSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},nSt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},tse=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class iSt{constructor(e,t,i,r){this.owner=e,this.range=t,this.model=i,this.provider=r,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let HV=class{constructor(e,t){this._editor=e,this._themeService=t}computeSync(e,t){return[]}computeAsync(e,t,i){return Hr.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return tse(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const r=X_.get(this._editor);if(!r)return[];for(const s of t){if(!r.isColorDecorationId(s.id))continue;const o=r.getColorData(s.range.getStartPosition());if(o)return[yield this._createColorHover(this._editor.getModel(),o.colorInfo,o.provider)]}return[]})}_createColorHover(e,t,i){return tse(this,void 0,void 0,function*(){const r=e.getValueInRange(t.range),{red:s,green:o,blue:a,alpha:l}=t.color,u=new Dn(Math.round(s*255),Math.round(o*255),Math.round(a*255),l),c=new We(u),d=yield qre(e,t,i,En.None),h=new qwt(c,[],0);return h.colorPresentations=d||[],h.guessColorPresentation(c,r),new iSt(this,Y.lift(t.range),h,i)})}renderHoverParts(e,t){if(t.length===0||!this._editor.hasModel())return ze.None;const i=new it,r=t[0],s=this._editor.getModel(),o=r.model,a=i.add(new eSt(e.fragment,o,this._editor.getOption(129),this._themeService));e.setColorPicker(a);let l=new Y(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn);const u=()=>{let d,h;if(o.presentation.textEdit){d=[o.presentation.textEdit],h=new Y(o.presentation.textEdit.range.startLineNumber,o.presentation.textEdit.range.startColumn,o.presentation.textEdit.range.endLineNumber,o.presentation.textEdit.range.endColumn);const f=this._editor.getModel()._setTrackedRange(null,h,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",d),h=this._editor.getModel()._getTrackedRange(f)||h}else d=[{identifier:null,range:l,text:o.presentation.label,forceMoveMarkers:!1}],h=l.setEndPosition(l.endLineNumber,l.startColumn+o.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",d);o.presentation.additionalTextEdits&&(d=[...o.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",d),e.hide()),this._editor.pushUndoStop(),l=h},c=d=>qre(s,{range:l,color:{red:d.rgba.r/255,green:d.rgba.g/255,blue:d.rgba.b/255,alpha:d.rgba.a}},r.provider,En.None).then(h=>{o.colorPresentations=h||[]});return i.add(o.onColorFlushed(d=>{c(d).then(u)})),i.add(o.onDidChangeColor(c)),i}};HV=tSt([nSt(1,Ki)],HV);var rSt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},sSt=globalThis&&globalThis.__asyncValues||function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}};class oSt{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}}class Y_e extends ze{constructor(e,t){super();this._editor=e,this._computer=t,this._onResult=this._register(new Le),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Ni(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Ni(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Ni(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=Not(e=>this._computer.computeAsync(e)),rSt(this,void 0,void 0,function*(){var e,t;try{try{for(var i=sSt(this._asyncIterable),r;r=yield i.next(),!r.done;){const s=r.value;s&&(this._result.push(s),this._fireResult())}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(s){Qt(s)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new oSt(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class s6{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class Px{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function aSt(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var lSt=Object.hasOwnProperty,nse=Object.setPrototypeOf,uSt=Object.isFrozen,cSt=Object.getPrototypeOf,dSt=Object.getOwnPropertyDescriptor,sl=Object.freeze,Zg=Object.seal,hSt=Object.create,X_e=typeof Reflect!="undefined"&&Reflect,bR=X_e.apply,zV=X_e.construct;bR||(bR=function(e,t,i){return e.apply(t,i)});sl||(sl=function(e){return e});Zg||(Zg=function(e){return e});zV||(zV=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(aSt(t))))});var fSt=Vd(Array.prototype.forEach),ise=Vd(Array.prototype.pop),US=Vd(Array.prototype.push),c0=Vd(String.prototype.toLowerCase),rse=Vd(String.prototype.match),Ap=Vd(String.prototype.replace),gSt=Vd(String.prototype.indexOf),pSt=Vd(String.prototype.trim),Hf=Vd(RegExp.prototype.test),sse=mSt(TypeError);function Vd(n){return function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return bR(n,e,i)}}function mSt(n){return function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return zV(n,t)}}function di(n,e){nse&&nse(n,null);for(var t=e.length;t--;){var i=e[t];if(typeof i=="string"){var r=c0(i);r!==i&&(uSt(e)||(e[t]=r),i=r)}n[i]=!0}return n}function Xv(n){var e=hSt(null),t=void 0;for(t in n)bR(lSt,n,[t])&&(e[t]=n[t]);return e}function YT(n,e){for(;n!==null;){var t=dSt(n,e);if(t){if(t.get)return Vd(t.get);if(typeof t.value=="function")return Vd(t.value)}n=cSt(n)}function i(r){return console.warn("fallback value for",r),null}return i}var ose=sl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),o6=sl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),a6=sl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vSt=sl(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),l6=sl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),_St=sl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ase=sl(["#text"]),lse=sl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),u6=sl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),use=sl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),XT=sl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bSt=Zg(/\{\{[\s\S]*|[\s\S]*\}\}/gm),CSt=Zg(/<%[\s\S]*|[\s\S]*%>/gm),ySt=Zg(/^data-[\-\w.\u00B7-\uFFFF]/),wSt=Zg(/^aria-[\-\w]+$/),SSt=Zg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),LSt=Zg(/^(?:\w+script|data):/i),kSt=Zg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function rh(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var ESt=function(){return typeof window=="undefined"?null:window},DSt=function(e,t){if((typeof e=="undefined"?"undefined":v2(e))!=="object"||typeof e.createPolicy!="function")return null;var i=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(i=t.currentScript.getAttribute(r));var s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function Z_e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ESt(),e=function(Ye){return Z_e(Ye)};if(e.version="2.3.1",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;var t=n.document,i=n.document,r=n.DocumentFragment,s=n.HTMLTemplateElement,o=n.Node,a=n.Element,l=n.NodeFilter,u=n.NamedNodeMap,c=u===void 0?n.NamedNodeMap||n.MozNamedAttrMap:u,d=n.Text,h=n.Comment,f=n.DOMParser,g=n.trustedTypes,p=a.prototype,m=YT(p,"cloneNode"),b=YT(p,"nextSibling"),_=YT(p,"childNodes"),C=YT(p,"parentNode");if(typeof s=="function"){var w=i.createElement("template");w.content&&w.content.ownerDocument&&(i=w.content.ownerDocument)}var S=DSt(g,t),D=S&&q?S.createHTML(""):"",E=i,I=E.implementation,T=E.createNodeIterator,M=E.createDocumentFragment,A=E.getElementsByTagName,O=t.importNode,F={};try{F=Xv(i).documentMode?i.documentMode:{}}catch{}var U={};e.isSupported=typeof C=="function"&&I&&typeof I.createHTMLDocument!="undefined"&&F!==9;var V=bSt,G=CSt,j=ySt,X=wSt,ie=LSt,Ce=kSt,Be=SSt,we=null,ke=di({},[].concat(rh(ose),rh(o6),rh(a6),rh(l6),rh(ase))),Se=null,fe=di({},[].concat(rh(lse),rh(u6),rh(use),rh(XT))),pe=null,me=null,Ne=!0,je=!0,rt=!1,xe=!1,Ve=!1,ee=!1,ne=!1,le=!1,de=!1,ye=!0,q=!1,P=!0,x=!0,R=!1,H={},W=null,K=di({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),re=null,se=di({},["audio","video","img","source","image","track"]),ve=null,Re=di({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",Ie="http://www.w3.org/2000/svg",Pe="http://www.w3.org/1999/xhtml",Ge=Pe,bt=!1,Mt=null,pt=i.createElement("form"),Jt=function(Ye){Mt&&Mt===Ye||((!Ye||(typeof Ye=="undefined"?"undefined":v2(Ye))!=="object")&&(Ye={}),Ye=Xv(Ye),we="ALLOWED_TAGS"in Ye?di({},Ye.ALLOWED_TAGS):ke,Se="ALLOWED_ATTR"in Ye?di({},Ye.ALLOWED_ATTR):fe,ve="ADD_URI_SAFE_ATTR"in Ye?di(Xv(Re),Ye.ADD_URI_SAFE_ATTR):Re,re="ADD_DATA_URI_TAGS"in Ye?di(Xv(se),Ye.ADD_DATA_URI_TAGS):se,W="FORBID_CONTENTS"in Ye?di({},Ye.FORBID_CONTENTS):K,pe="FORBID_TAGS"in Ye?di({},Ye.FORBID_TAGS):{},me="FORBID_ATTR"in Ye?di({},Ye.FORBID_ATTR):{},H="USE_PROFILES"in Ye?Ye.USE_PROFILES:!1,Ne=Ye.ALLOW_ARIA_ATTR!==!1,je=Ye.ALLOW_DATA_ATTR!==!1,rt=Ye.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=Ye.SAFE_FOR_TEMPLATES||!1,Ve=Ye.WHOLE_DOCUMENT||!1,le=Ye.RETURN_DOM||!1,de=Ye.RETURN_DOM_FRAGMENT||!1,ye=Ye.RETURN_DOM_IMPORT!==!1,q=Ye.RETURN_TRUSTED_TYPE||!1,ne=Ye.FORCE_BODY||!1,P=Ye.SANITIZE_DOM!==!1,x=Ye.KEEP_CONTENT!==!1,R=Ye.IN_PLACE||!1,Be=Ye.ALLOWED_URI_REGEXP||Be,Ge=Ye.NAMESPACE||Pe,xe&&(je=!1),de&&(le=!0),H&&(we=di({},[].concat(rh(ase))),Se=[],H.html===!0&&(di(we,ose),di(Se,lse)),H.svg===!0&&(di(we,o6),di(Se,u6),di(Se,XT)),H.svgFilters===!0&&(di(we,a6),di(Se,u6),di(Se,XT)),H.mathMl===!0&&(di(we,l6),di(Se,use),di(Se,XT))),Ye.ADD_TAGS&&(we===ke&&(we=Xv(we)),di(we,Ye.ADD_TAGS)),Ye.ADD_ATTR&&(Se===fe&&(Se=Xv(Se)),di(Se,Ye.ADD_ATTR)),Ye.ADD_URI_SAFE_ATTR&&di(ve,Ye.ADD_URI_SAFE_ATTR),Ye.FORBID_CONTENTS&&(W===K&&(W=Xv(W)),di(W,Ye.FORBID_CONTENTS)),x&&(we["#text"]=!0),Ve&&di(we,["html","head","body"]),we.table&&(di(we,["tbody"]),delete pe.tbody),sl&&sl(Ye),Mt=Ye)},sn=di({},["mi","mo","mn","ms","mtext"]),vr=di({},["foreignobject","desc","title","annotation-xml"]),An=di({},o6);di(An,a6),di(An,vSt);var vi=di({},l6);di(vi,_St);var pa=function(Ye){var Ot=C(Ye);(!Ot||!Ot.tagName)&&(Ot={namespaceURI:Pe,tagName:"template"});var tn=c0(Ye.tagName),or=c0(Ot.tagName);if(Ye.namespaceURI===Ie)return Ot.namespaceURI===Pe?tn==="svg":Ot.namespaceURI===ge?tn==="svg"&&(or==="annotation-xml"||sn[or]):Boolean(An[tn]);if(Ye.namespaceURI===ge)return Ot.namespaceURI===Pe?tn==="math":Ot.namespaceURI===Ie?tn==="math"&&vr[or]:Boolean(vi[tn]);if(Ye.namespaceURI===Pe){if(Ot.namespaceURI===Ie&&!vr[or]||Ot.namespaceURI===ge&&!sn[or])return!1;var Oo=di({},["title","style","font","a","script"]);return!vi[tn]&&(Oo[tn]||!An[tn])}return!1},hs=function(Ye){US(e.removed,{element:Ye});try{Ye.parentNode.removeChild(Ye)}catch{try{Ye.outerHTML=D}catch{Ye.remove()}}},Qe=function(Ye,Ot){try{US(e.removed,{attribute:Ot.getAttributeNode(Ye),from:Ot})}catch{US(e.removed,{attribute:null,from:Ot})}if(Ot.removeAttribute(Ye),Ye==="is"&&!Se[Ye])if(le||de)try{hs(Ot)}catch{}else try{Ot.setAttribute(Ye,"")}catch{}},At=function(Ye){var Ot=void 0,tn=void 0;if(ne)Ye="<remove></remove>"+Ye;else{var or=rse(Ye,/^[\r\n\t ]+/);tn=or&&or[0]}var Oo=S?S.createHTML(Ye):Ye;if(Ge===Pe)try{Ot=new f().parseFromString(Oo,"text/html")}catch{}if(!Ot||!Ot.documentElement){Ot=I.createDocument(Ge,"template",null);try{Ot.documentElement.innerHTML=bt?"":Oo}catch{}}var Po=Ot.body||Ot.documentElement;return Ye&&tn&&Po.insertBefore(i.createTextNode(tn),Po.childNodes[0]||null),Ge===Pe?A.call(Ot,Ve?"html":"body")[0]:Ve?Ot.documentElement:Po},fn=function(Ye){return T.call(Ye.ownerDocument||Ye,Ye,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Gi=function(Ye){return Ye instanceof d||Ye instanceof h?!1:typeof Ye.nodeName!="string"||typeof Ye.textContent!="string"||typeof Ye.removeChild!="function"||!(Ye.attributes instanceof c)||typeof Ye.removeAttribute!="function"||typeof Ye.setAttribute!="function"||typeof Ye.namespaceURI!="string"||typeof Ye.insertBefore!="function"},po=function(Ye){return(typeof o=="undefined"?"undefined":v2(o))==="object"?Ye instanceof o:Ye&&(typeof Ye=="undefined"?"undefined":v2(Ye))==="object"&&typeof Ye.nodeType=="number"&&typeof Ye.nodeName=="string"},ss=function(Ye,Ot,tn){!U[Ye]||fSt(U[Ye],function(or){or.call(e,Ot,tn,Mt)})},Xu=function(Ye){var Ot=void 0;if(ss("beforeSanitizeElements",Ye,null),Gi(Ye)||rse(Ye.nodeName,/[\u0080-\uFFFF]/))return hs(Ye),!0;var tn=c0(Ye.nodeName);if(ss("uponSanitizeElement",Ye,{tagName:tn,allowedTags:we}),!po(Ye.firstElementChild)&&(!po(Ye.content)||!po(Ye.content.firstElementChild))&&Hf(/<[/\w]/g,Ye.innerHTML)&&Hf(/<[/\w]/g,Ye.textContent)||tn==="select"&&Hf(/<template/i,Ye.innerHTML))return hs(Ye),!0;if(!we[tn]||pe[tn]){if(x&&!W[tn]){var or=C(Ye)||Ye.parentNode,Oo=_(Ye)||Ye.childNodes;if(Oo&&or)for(var Po=Oo.length,Fo=Po-1;Fo>=0;--Fo)or.insertBefore(m(Oo[Fo],!0),b(Ye))}return hs(Ye),!0}return Ye instanceof a&&!pa(Ye)||(tn==="noscript"||tn==="noembed")&&Hf(/<\/no(script|embed)/i,Ye.innerHTML)?(hs(Ye),!0):(xe&&Ye.nodeType===3&&(Ot=Ye.textContent,Ot=Ap(Ot,V," "),Ot=Ap(Ot,G," "),Ye.textContent!==Ot&&(US(e.removed,{element:Ye.cloneNode()}),Ye.textContent=Ot)),ss("afterSanitizeElements",Ye,null),!1)},Q1=function(Ye,Ot,tn){if(P&&(Ot==="id"||Ot==="name")&&(tn in i||tn in pt))return!1;if(!(je&&!me[Ot]&&Hf(j,Ot))){if(!(Ne&&Hf(X,Ot))){if(!Se[Ot]||me[Ot])return!1;if(!ve[Ot]){if(!Hf(Be,Ap(tn,Ce,""))){if(!((Ot==="src"||Ot==="xlink:href"||Ot==="href")&&Ye!=="script"&&gSt(tn,"data:")===0&&re[Ye])){if(!(rt&&!Hf(ie,Ap(tn,Ce,"")))){if(tn)return!1}}}}}}return!0},J1=function(Ye){var Ot=void 0,tn=void 0,or=void 0,Oo=void 0;ss("beforeSanitizeAttributes",Ye,null);var Po=Ye.attributes;if(!!Po){var Fo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se};for(Oo=Po.length;Oo--;){Ot=Po[Oo];var qc=Ot,hp=qc.name,YD=qc.namespaceURI;if(tn=pSt(Ot.value),or=c0(hp),Fo.attrName=or,Fo.attrValue=tn,Fo.keepAttr=!0,Fo.forceKeepAttr=void 0,ss("uponSanitizeAttribute",Ye,Fo),tn=Fo.attrValue,!Fo.forceKeepAttr&&(Qe(hp,Ye),!!Fo.keepAttr)){if(Hf(/\/>/i,tn)){Qe(hp,Ye);continue}xe&&(tn=Ap(tn,V," "),tn=Ap(tn,G," "));var y3=Ye.nodeName.toLowerCase();if(!!Q1(y3,or,tn))try{YD?Ye.setAttributeNS(YD,hp,tn):Ye.setAttribute(hp,tn),ise(e.removed)}catch{}}}ss("afterSanitizeAttributes",Ye,null)}},C3=function un(Ye){var Ot=void 0,tn=fn(Ye);for(ss("beforeSanitizeShadowDOM",Ye,null);Ot=tn.nextNode();)ss("uponSanitizeShadowNode",Ot,null),!Xu(Ot)&&(Ot.content instanceof r&&un(Ot.content),J1(Ot));ss("afterSanitizeShadowDOM",Ye,null)};return e.sanitize=function(un,Ye){var Ot=void 0,tn=void 0,or=void 0,Oo=void 0,Po=void 0;if(bt=!un,bt&&(un="<!-->"),typeof un!="string"&&!po(un)){if(typeof un.toString!="function")throw sse("toString is not a function");if(un=un.toString(),typeof un!="string")throw sse("dirty is not a string, aborting")}if(!e.isSupported){if(v2(n.toStaticHTML)==="object"||typeof n.toStaticHTML=="function"){if(typeof un=="string")return n.toStaticHTML(un);if(po(un))return n.toStaticHTML(un.outerHTML)}return un}if(ee||Jt(Ye),e.removed=[],typeof un=="string"&&(R=!1),!R)if(un instanceof o)Ot=At("<!---->"),tn=Ot.ownerDocument.importNode(un,!0),tn.nodeType===1&&tn.nodeName==="BODY"||tn.nodeName==="HTML"?Ot=tn:Ot.appendChild(tn);else{if(!le&&!xe&&!Ve&&un.indexOf("<")===-1)return S&&q?S.createHTML(un):un;if(Ot=At(un),!Ot)return le?null:D}Ot&&ne&&hs(Ot.firstChild);for(var Fo=fn(R?un:Ot);or=Fo.nextNode();)or.nodeType===3&&or===Oo||Xu(or)||(or.content instanceof r&&C3(or.content),J1(or),Oo=or);if(Oo=null,R)return un;if(le){if(de)for(Po=M.call(Ot.ownerDocument);Ot.firstChild;)Po.appendChild(Ot.firstChild);else Po=Ot;return ye&&(Po=O.call(t,Po,!0)),Po}var qc=Ve?Ot.outerHTML:Ot.innerHTML;return xe&&(qc=Ap(qc,V," "),qc=Ap(qc,G," ")),S&&q?S.createHTML(qc):qc},e.setConfig=function(un){Jt(un),ee=!0},e.clearConfig=function(){Mt=null,ee=!1},e.isValidAttribute=function(un,Ye,Ot){Mt||Jt({});var tn=c0(un),or=c0(Ye);return Q1(tn,or,Ot)},e.addHook=function(un,Ye){typeof Ye=="function"&&(U[un]=U[un]||[],US(U[un],Ye))},e.removeHook=function(un){U[un]&&ise(U[un])},e.removeHooks=function(un){U[un]&&(U[un]=[])},e.removeAllHooks=function(){U={}},e}var wf=Z_e();wf.version;wf.isSupported;const ISt=wf.sanitize;wf.setConfig;wf.clearConfig;wf.isValidAttribute;const cse=wf.addHook,dse=wf.removeHook;wf.removeHooks;wf.removeAllHooks;let Q_e={};(function(){function n(e,t){t(Q_e)}n.amd=!0,function(e,t){typeof exports=="object"&&typeof module!="undefined"?t(exports):typeof n=="function"&&n.amd?n(["exports"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(x,R){for(var H=0;H<R.length;H++){var W=R[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(x,W.key,W)}}function i(x,R,H){return R&&t(x.prototype,R),H&&t(x,H),Object.defineProperty(x,"prototype",{writable:!1}),x}function r(x,R){if(!!x){if(typeof x=="string")return s(x,R);var H=Object.prototype.toString.call(x).slice(8,-1);if(H==="Object"&&x.constructor&&(H=x.constructor.name),H==="Map"||H==="Set")return Array.from(x);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return s(x,R)}}function s(x,R){(R==null||R>x.length)&&(R=x.length);for(var H=0,W=new Array(R);H<R;H++)W[H]=x[H];return W}function o(x,R){var H=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(H)return(H=H.call(x)).next.bind(H);if(Array.isArray(x)||(H=r(x))||R&&x&&typeof x.length=="number"){H&&(x=H);var W=0;return function(){return W>=x.length?{done:!0}:{done:!1,value:x[W++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=a();function l(x){e.defaults=x}var u=/[&<>"']/,c=/[&<>"']/g,d=/[<>"']|&(?!#?\w+;)/,h=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=function(R){return f[R]};function p(x,R){if(R){if(u.test(x))return x.replace(c,g)}else if(d.test(x))return x.replace(h,g);return x}var m=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function b(x){return x.replace(m,function(R,H){return H=H.toLowerCase(),H==="colon"?":":H.charAt(0)==="#"?H.charAt(1)==="x"?String.fromCharCode(parseInt(H.substring(2),16)):String.fromCharCode(+H.substring(1)):""})}var _=/(^|[^\[])\^/g;function C(x,R){x=x.source||x,R=R||"";var H={replace:function(K,re){return re=re.source||re,re=re.replace(_,"$1"),x=x.replace(K,re),H},getRegex:function(){return new RegExp(x,R)}};return H}var w=/[^\w:]/g,S=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function D(x,R,H){if(x){var W;try{W=decodeURIComponent(b(H)).replace(w,"").toLowerCase()}catch{return null}if(W.indexOf("javascript:")===0||W.indexOf("vbscript:")===0||W.indexOf("data:")===0)return null}R&&!S.test(H)&&(H=A(R,H));try{H=encodeURI(H).replace(/%25/g,"%")}catch{return null}return H}var E={},I=/^[^:]+:\/*[^/]*$/,T=/^([^:]+:)[\s\S]*$/,M=/^([^:]+:\/*[^/]*)[\s\S]*$/;function A(x,R){E[" "+x]||(I.test(x)?E[" "+x]=x+"/":E[" "+x]=V(x,"/",!0)),x=E[" "+x];var H=x.indexOf(":")===-1;return R.substring(0,2)==="//"?H?R:x.replace(T,"$1")+R:R.charAt(0)==="/"?H?R:x.replace(M,"$1")+R:x+R}var O={exec:function(){}};function F(x){for(var R=1,H,W;R<arguments.length;R++){H=arguments[R];for(W in H)Object.prototype.hasOwnProperty.call(H,W)&&(x[W]=H[W])}return x}function U(x,R){var H=x.replace(/\|/g,function(re,se,ve){for(var Re=!1,ge=se;--ge>=0&&ve[ge]==="\\";)Re=!Re;return Re?"|":" |"}),W=H.split(/ \|/),K=0;if(W[0].trim()||W.shift(),W[W.length-1].trim()||W.pop(),W.length>R)W.splice(R);else for(;W.length<R;)W.push("");for(;K<W.length;K++)W[K]=W[K].trim().replace(/\\\|/g,"|");return W}function V(x,R,H){var W=x.length;if(W===0)return"";for(var K=0;K<W;){var re=x.charAt(W-K-1);if(re===R&&!H)K++;else if(re!==R&&H)K++;else break}return x.substr(0,W-K)}function G(x,R){if(x.indexOf(R[1])===-1)return-1;for(var H=x.length,W=0,K=0;K<H;K++)if(x[K]==="\\")K++;else if(x[K]===R[0])W++;else if(x[K]===R[1]&&(W--,W<0))return K;return-1}function j(x){x&&x.sanitize&&!x.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function X(x,R){if(R<1)return"";for(var H="";R>1;)R&1&&(H+=x),R>>=1,x+=x;return H+x}function ie(x,R,H,W){var K=R.href,re=R.title?p(R.title):null,se=x[1].replace(/\\([\[\]])/g,"$1");if(x[0].charAt(0)!=="!"){W.state.inLink=!0;var ve={type:"link",raw:H,href:K,title:re,text:se,tokens:W.inlineTokens(se,[])};return W.state.inLink=!1,ve}else return{type:"image",raw:H,href:K,title:re,text:p(se)}}function Ce(x,R){var H=x.match(/^(\s+)(?:```)/);if(H===null)return R;var W=H[1];return R.split(`
`).map(function(K){var re=K.match(/^\s+/);if(re===null)return K;var se=re[0];return se.length>=W.length?K.slice(W.length):K}).join(`
`)}var Be=function(){function x(H){this.options=H||e.defaults}var R=x.prototype;return R.space=function(W){var K=this.rules.block.newline.exec(W);if(K&&K[0].length>0)return{type:"space",raw:K[0]}},R.code=function(W){var K=this.rules.block.code.exec(W);if(K){var re=K[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:K[0],codeBlockStyle:"indented",text:this.options.pedantic?re:V(re,`
`)}}},R.fences=function(W){var K=this.rules.block.fences.exec(W);if(K){var re=K[0],se=Ce(re,K[3]||"");return{type:"code",raw:re,lang:K[2]?K[2].trim():K[2],text:se}}},R.heading=function(W){var K=this.rules.block.heading.exec(W);if(K){var re=K[2].trim();if(/#$/.test(re)){var se=V(re,"#");(this.options.pedantic||!se||/ $/.test(se))&&(re=se.trim())}var ve={type:"heading",raw:K[0],depth:K[1].length,text:re,tokens:[]};return this.lexer.inline(ve.text,ve.tokens),ve}},R.hr=function(W){var K=this.rules.block.hr.exec(W);if(K)return{type:"hr",raw:K[0]}},R.blockquote=function(W){var K=this.rules.block.blockquote.exec(W);if(K){var re=K[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:K[0],tokens:this.lexer.blockTokens(re,[]),text:re}}},R.list=function(W){var K=this.rules.block.list.exec(W);if(K){var re,se,ve,Re,ge,Ie,Pe,Ge,bt,Mt,pt,Jt,sn=K[1].trim(),vr=sn.length>1,An={type:"list",raw:"",ordered:vr,start:vr?+sn.slice(0,-1):"",loose:!1,items:[]};sn=vr?"\\d{1,9}\\"+sn.slice(-1):"\\"+sn,this.options.pedantic&&(sn=vr?sn:"[*+-]");for(var vi=new RegExp("^( {0,3}"+sn+")((?: [^\\n]*)?(?:\\n|$))");W&&(Jt=!1,!(!(K=vi.exec(W))||this.rules.block.hr.test(W)));){if(re=K[0],W=W.substring(re.length),Ge=K[2].split(`
`,1)[0],bt=W.split(`
`,1)[0],this.options.pedantic?(Re=2,pt=Ge.trimLeft()):(Re=K[2].search(/[^ ]/),Re=Re>4?1:Re,pt=Ge.slice(Re),Re+=K[1].length),Ie=!1,!Ge&&/^ *$/.test(bt)&&(re+=bt+`
`,W=W.substring(bt.length+1),Jt=!0),!Jt)for(var pa=new RegExp("^ {0,"+Math.min(3,Re-1)+"}(?:[*+-]|\\d{1,9}[.)])");W&&(Mt=W.split(`
`,1)[0],Ge=Mt,this.options.pedantic&&(Ge=Ge.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!pa.test(Ge));){if(Ge.search(/[^ ]/)>=Re||!Ge.trim())pt+=`
`+Ge.slice(Re);else if(!Ie)pt+=`
`+Ge;else break;!Ie&&!Ge.trim()&&(Ie=!0),re+=Mt+`
`,W=W.substring(Mt.length+1)}An.loose||(Pe?An.loose=!0:/\n *\n *$/.test(re)&&(Pe=!0)),this.options.gfm&&(se=/^\[[ xX]\] /.exec(pt),se&&(ve=se[0]!=="[ ] ",pt=pt.replace(/^\[[ xX]\] +/,""))),An.items.push({type:"list_item",raw:re,task:!!se,checked:ve,loose:!1,text:pt}),An.raw+=re}An.items[An.items.length-1].raw=re.trimRight(),An.items[An.items.length-1].text=pt.trimRight(),An.raw=An.raw.trimRight();var hs=An.items.length;for(ge=0;ge<hs;ge++){this.lexer.state.top=!1,An.items[ge].tokens=this.lexer.blockTokens(An.items[ge].text,[]);var Qe=An.items[ge].tokens.filter(function(fn){return fn.type==="space"}),At=Qe.every(function(fn){for(var Gi=fn.raw.split(""),po=0,ss=o(Gi),Xu;!(Xu=ss()).done;){var Q1=Xu.value;if(Q1===`
`&&(po+=1),po>1)return!0}return!1});!An.loose&&Qe.length&&At&&(An.loose=!0,An.items[ge].loose=!0)}return An}},R.html=function(W){var K=this.rules.block.html.exec(W);if(K){var re={type:"html",raw:K[0],pre:!this.options.sanitizer&&(K[1]==="pre"||K[1]==="script"||K[1]==="style"),text:K[0]};return this.options.sanitize&&(re.type="paragraph",re.text=this.options.sanitizer?this.options.sanitizer(K[0]):p(K[0]),re.tokens=[],this.lexer.inline(re.text,re.tokens)),re}},R.def=function(W){var K=this.rules.block.def.exec(W);if(K){K[3]&&(K[3]=K[3].substring(1,K[3].length-1));var re=K[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:re,raw:K[0],href:K[2],title:K[3]}}},R.table=function(W){var K=this.rules.block.table.exec(W);if(K){var re={type:"table",header:U(K[1]).map(function(Pe){return{text:Pe}}),align:K[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:K[3]?K[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(re.header.length===re.align.length){re.raw=K[0];var se=re.align.length,ve,Re,ge,Ie;for(ve=0;ve<se;ve++)/^ *-+: *$/.test(re.align[ve])?re.align[ve]="right":/^ *:-+: *$/.test(re.align[ve])?re.align[ve]="center":/^ *:-+ *$/.test(re.align[ve])?re.align[ve]="left":re.align[ve]=null;for(se=re.rows.length,ve=0;ve<se;ve++)re.rows[ve]=U(re.rows[ve],re.header.length).map(function(Pe){return{text:Pe}});for(se=re.header.length,Re=0;Re<se;Re++)re.header[Re].tokens=[],this.lexer.inlineTokens(re.header[Re].text,re.header[Re].tokens);for(se=re.rows.length,Re=0;Re<se;Re++)for(Ie=re.rows[Re],ge=0;ge<Ie.length;ge++)Ie[ge].tokens=[],this.lexer.inlineTokens(Ie[ge].text,Ie[ge].tokens);return re}}},R.lheading=function(W){var K=this.rules.block.lheading.exec(W);if(K){var re={type:"heading",raw:K[0],depth:K[2].charAt(0)==="="?1:2,text:K[1],tokens:[]};return this.lexer.inline(re.text,re.tokens),re}},R.paragraph=function(W){var K=this.rules.block.paragraph.exec(W);if(K){var re={type:"paragraph",raw:K[0],text:K[1].charAt(K[1].length-1)===`
`?K[1].slice(0,-1):K[1],tokens:[]};return this.lexer.inline(re.text,re.tokens),re}},R.text=function(W){var K=this.rules.block.text.exec(W);if(K){var re={type:"text",raw:K[0],text:K[0],tokens:[]};return this.lexer.inline(re.text,re.tokens),re}},R.escape=function(W){var K=this.rules.inline.escape.exec(W);if(K)return{type:"escape",raw:K[0],text:p(K[1])}},R.tag=function(W){var K=this.rules.inline.tag.exec(W);if(K)return!this.lexer.state.inLink&&/^<a /i.test(K[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(K[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(K[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(K[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:K[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(K[0]):p(K[0]):K[0]}},R.link=function(W){var K=this.rules.inline.link.exec(W);if(K){var re=K[2].trim();if(!this.options.pedantic&&/^</.test(re)){if(!/>$/.test(re))return;var se=V(re.slice(0,-1),"\\");if((re.length-se.length)%2===0)return}else{var ve=G(K[2],"()");if(ve>-1){var Re=K[0].indexOf("!")===0?5:4,ge=Re+K[1].length+ve;K[2]=K[2].substring(0,ve),K[0]=K[0].substring(0,ge).trim(),K[3]=""}}var Ie=K[2],Pe="";if(this.options.pedantic){var Ge=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ie);Ge&&(Ie=Ge[1],Pe=Ge[3])}else Pe=K[3]?K[3].slice(1,-1):"";return Ie=Ie.trim(),/^</.test(Ie)&&(this.options.pedantic&&!/>$/.test(re)?Ie=Ie.slice(1):Ie=Ie.slice(1,-1)),ie(K,{href:Ie&&Ie.replace(this.rules.inline._escapes,"$1"),title:Pe&&Pe.replace(this.rules.inline._escapes,"$1")},K[0],this.lexer)}},R.reflink=function(W,K){var re;if((re=this.rules.inline.reflink.exec(W))||(re=this.rules.inline.nolink.exec(W))){var se=(re[2]||re[1]).replace(/\s+/g," ");if(se=K[se.toLowerCase()],!se||!se.href){var ve=re[0].charAt(0);return{type:"text",raw:ve,text:ve}}return ie(re,se,re[0],this.lexer)}},R.emStrong=function(W,K,re){re===void 0&&(re="");var se=this.rules.inline.emStrong.lDelim.exec(W);if(!!se&&!(se[3]&&re.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ve=se[1]||se[2]||"";if(!ve||ve&&(re===""||this.rules.inline.punctuation.exec(re))){var Re=se[0].length-1,ge,Ie,Pe=Re,Ge=0,bt=se[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(bt.lastIndex=0,K=K.slice(-1*W.length+Re);(se=bt.exec(K))!=null;)if(ge=se[1]||se[2]||se[3]||se[4]||se[5]||se[6],!!ge){if(Ie=ge.length,se[3]||se[4]){Pe+=Ie;continue}else if((se[5]||se[6])&&Re%3&&!((Re+Ie)%3)){Ge+=Ie;continue}if(Pe-=Ie,!(Pe>0)){if(Ie=Math.min(Ie,Ie+Pe+Ge),Math.min(Re,Ie)%2){var Mt=W.slice(1,Re+se.index+Ie);return{type:"em",raw:W.slice(0,Re+se.index+Ie+1),text:Mt,tokens:this.lexer.inlineTokens(Mt,[])}}var pt=W.slice(2,Re+se.index+Ie-1);return{type:"strong",raw:W.slice(0,Re+se.index+Ie+1),text:pt,tokens:this.lexer.inlineTokens(pt,[])}}}}}},R.codespan=function(W){var K=this.rules.inline.code.exec(W);if(K){var re=K[2].replace(/\n/g," "),se=/[^ ]/.test(re),ve=/^ /.test(re)&&/ $/.test(re);return se&&ve&&(re=re.substring(1,re.length-1)),re=p(re,!0),{type:"codespan",raw:K[0],text:re}}},R.br=function(W){var K=this.rules.inline.br.exec(W);if(K)return{type:"br",raw:K[0]}},R.del=function(W){var K=this.rules.inline.del.exec(W);if(K)return{type:"del",raw:K[0],text:K[2],tokens:this.lexer.inlineTokens(K[2],[])}},R.autolink=function(W,K){var re=this.rules.inline.autolink.exec(W);if(re){var se,ve;return re[2]==="@"?(se=p(this.options.mangle?K(re[1]):re[1]),ve="mailto:"+se):(se=p(re[1]),ve=se),{type:"link",raw:re[0],text:se,href:ve,tokens:[{type:"text",raw:se,text:se}]}}},R.url=function(W,K){var re;if(re=this.rules.inline.url.exec(W)){var se,ve;if(re[2]==="@")se=p(this.options.mangle?K(re[0]):re[0]),ve="mailto:"+se;else{var Re;do Re=re[0],re[0]=this.rules.inline._backpedal.exec(re[0])[0];while(Re!==re[0]);se=p(re[0]),re[1]==="www."?ve="http://"+se:ve=se}return{type:"link",raw:re[0],text:se,href:ve,tokens:[{type:"text",raw:se,text:se}]}}},R.inlineText=function(W,K){var re=this.rules.inline.text.exec(W);if(re){var se;return this.lexer.state.inRawBlock?se=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(re[0]):p(re[0]):re[0]:se=p(this.options.smartypants?K(re[0]):re[0]),{type:"text",raw:re[0],text:se}}},x}(),we={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:O,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};we._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,we._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,we.def=C(we.def).replace("label",we._label).replace("title",we._title).getRegex(),we.bullet=/(?:[*+-]|\d{1,9}[.)])/,we.listItemStart=C(/^( *)(bull) */).replace("bull",we.bullet).getRegex(),we.list=C(we.list).replace(/bull/g,we.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+we.def.source+")").getRegex(),we._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",we._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,we.html=C(we.html,"i").replace("comment",we._comment).replace("tag",we._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),we.paragraph=C(we._paragraph).replace("hr",we.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we._tag).getRegex(),we.blockquote=C(we.blockquote).replace("paragraph",we.paragraph).getRegex(),we.normal=F({},we),we.gfm=F({},we.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),we.gfm.table=C(we.gfm.table).replace("hr",we.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we._tag).getRegex(),we.gfm.paragraph=C(we._paragraph).replace("hr",we.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",we.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we._tag).getRegex(),we.pedantic=F({},we.normal,{html:C(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",we._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:O,paragraph:C(we.normal._paragraph).replace("hr",we.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",we.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ke={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:O,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:O,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ke._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ke.punctuation=C(ke.punctuation).replace(/punctuation/g,ke._punctuation).getRegex(),ke.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ke.escapedEmSt=/\\\*|\\_/g,ke._comment=C(we._comment).replace("(?:-->|$)","-->").getRegex(),ke.emStrong.lDelim=C(ke.emStrong.lDelim).replace(/punct/g,ke._punctuation).getRegex(),ke.emStrong.rDelimAst=C(ke.emStrong.rDelimAst,"g").replace(/punct/g,ke._punctuation).getRegex(),ke.emStrong.rDelimUnd=C(ke.emStrong.rDelimUnd,"g").replace(/punct/g,ke._punctuation).getRegex(),ke._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ke._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ke._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ke.autolink=C(ke.autolink).replace("scheme",ke._scheme).replace("email",ke._email).getRegex(),ke._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ke.tag=C(ke.tag).replace("comment",ke._comment).replace("attribute",ke._attribute).getRegex(),ke._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ke._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ke._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ke.link=C(ke.link).replace("label",ke._label).replace("href",ke._href).replace("title",ke._title).getRegex(),ke.reflink=C(ke.reflink).replace("label",ke._label).replace("ref",we._label).getRegex(),ke.nolink=C(ke.nolink).replace("ref",we._label).getRegex(),ke.reflinkSearch=C(ke.reflinkSearch,"g").replace("reflink",ke.reflink).replace("nolink",ke.nolink).getRegex(),ke.normal=F({},ke),ke.pedantic=F({},ke.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",ke._label).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ke._label).getRegex()}),ke.gfm=F({},ke.normal,{escape:C(ke.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ke.gfm.url=C(ke.gfm.url,"i").replace("email",ke.gfm._extended_email).getRegex(),ke.breaks=F({},ke.gfm,{br:C(ke.br).replace("{2,}","*").getRegex(),text:C(ke.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Se(x){return x.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function fe(x){var R="",H,W,K=x.length;for(H=0;H<K;H++)W=x.charCodeAt(H),Math.random()>.5&&(W="x"+W.toString(16)),R+="&#"+W+";";return R}var pe=function(){function x(H){this.tokens=[],this.tokens.links=Object.create(null),this.options=H||e.defaults,this.options.tokenizer=this.options.tokenizer||new Be,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var W={block:we.normal,inline:ke.normal};this.options.pedantic?(W.block=we.pedantic,W.inline=ke.pedantic):this.options.gfm&&(W.block=we.gfm,this.options.breaks?W.inline=ke.breaks:W.inline=ke.gfm),this.tokenizer.rules=W}x.lex=function(W,K){var re=new x(K);return re.lex(W)},x.lexInline=function(W,K){var re=new x(K);return re.inlineTokens(W)};var R=x.prototype;return R.lex=function(W){W=W.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(W,this.tokens);for(var K;K=this.inlineQueue.shift();)this.inlineTokens(K.src,K.tokens);return this.tokens},R.blockTokens=function(W,K){var re=this;K===void 0&&(K=[]),this.options.pedantic&&(W=W.replace(/^ +$/gm,""));for(var se,ve,Re,ge;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Pe){return(se=Pe.call({lexer:re},W,K))?(W=W.substring(se.raw.length),K.push(se),!0):!1}))){if(se=this.tokenizer.space(W)){W=W.substring(se.raw.length),se.raw.length===1&&K.length>0?K[K.length-1].raw+=`
`:K.push(se);continue}if(se=this.tokenizer.code(W)){W=W.substring(se.raw.length),ve=K[K.length-1],ve&&(ve.type==="paragraph"||ve.type==="text")?(ve.raw+=`
`+se.raw,ve.text+=`
`+se.text,this.inlineQueue[this.inlineQueue.length-1].src=ve.text):K.push(se);continue}if(se=this.tokenizer.fences(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.heading(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.hr(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.blockquote(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.list(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.html(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.def(W)){W=W.substring(se.raw.length),ve=K[K.length-1],ve&&(ve.type==="paragraph"||ve.type==="text")?(ve.raw+=`
`+se.raw,ve.text+=`
`+se.raw,this.inlineQueue[this.inlineQueue.length-1].src=ve.text):this.tokens.links[se.tag]||(this.tokens.links[se.tag]={href:se.href,title:se.title});continue}if(se=this.tokenizer.table(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.lheading(W)){W=W.substring(se.raw.length),K.push(se);continue}if(Re=W,this.options.extensions&&this.options.extensions.startBlock&&function(){var Pe=1/0,Ge=W.slice(1),bt=void 0;re.options.extensions.startBlock.forEach(function(Mt){bt=Mt.call({lexer:this},Ge),typeof bt=="number"&&bt>=0&&(Pe=Math.min(Pe,bt))}),Pe<1/0&&Pe>=0&&(Re=W.substring(0,Pe+1))}(),this.state.top&&(se=this.tokenizer.paragraph(Re))){ve=K[K.length-1],ge&&ve.type==="paragraph"?(ve.raw+=`
`+se.raw,ve.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ve.text):K.push(se),ge=Re.length!==W.length,W=W.substring(se.raw.length);continue}if(se=this.tokenizer.text(W)){W=W.substring(se.raw.length),ve=K[K.length-1],ve&&ve.type==="text"?(ve.raw+=`
`+se.raw,ve.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ve.text):K.push(se);continue}if(W){var Ie="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Ie);break}else throw new Error(Ie)}}return this.state.top=!0,K},R.inline=function(W,K){this.inlineQueue.push({src:W,tokens:K})},R.inlineTokens=function(W,K){var re=this;K===void 0&&(K=[]);var se,ve,Re,ge=W,Ie,Pe,Ge;if(this.tokens.links){var bt=Object.keys(this.tokens.links);if(bt.length>0)for(;(Ie=this.tokenizer.rules.inline.reflinkSearch.exec(ge))!=null;)bt.includes(Ie[0].slice(Ie[0].lastIndexOf("[")+1,-1))&&(ge=ge.slice(0,Ie.index)+"["+X("a",Ie[0].length-2)+"]"+ge.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ie=this.tokenizer.rules.inline.blockSkip.exec(ge))!=null;)ge=ge.slice(0,Ie.index)+"["+X("a",Ie[0].length-2)+"]"+ge.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ie=this.tokenizer.rules.inline.escapedEmSt.exec(ge))!=null;)ge=ge.slice(0,Ie.index)+"++"+ge.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;W;)if(Pe||(Ge=""),Pe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(pt){return(se=pt.call({lexer:re},W,K))?(W=W.substring(se.raw.length),K.push(se),!0):!1}))){if(se=this.tokenizer.escape(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.tag(W)){W=W.substring(se.raw.length),ve=K[K.length-1],ve&&se.type==="text"&&ve.type==="text"?(ve.raw+=se.raw,ve.text+=se.text):K.push(se);continue}if(se=this.tokenizer.link(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring(se.raw.length),ve=K[K.length-1],ve&&se.type==="text"&&ve.type==="text"?(ve.raw+=se.raw,ve.text+=se.text):K.push(se);continue}if(se=this.tokenizer.emStrong(W,ge,Ge)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.codespan(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.br(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.del(W)){W=W.substring(se.raw.length),K.push(se);continue}if(se=this.tokenizer.autolink(W,fe)){W=W.substring(se.raw.length),K.push(se);continue}if(!this.state.inLink&&(se=this.tokenizer.url(W,fe))){W=W.substring(se.raw.length),K.push(se);continue}if(Re=W,this.options.extensions&&this.options.extensions.startInline&&function(){var pt=1/0,Jt=W.slice(1),sn=void 0;re.options.extensions.startInline.forEach(function(vr){sn=vr.call({lexer:this},Jt),typeof sn=="number"&&sn>=0&&(pt=Math.min(pt,sn))}),pt<1/0&&pt>=0&&(Re=W.substring(0,pt+1))}(),se=this.tokenizer.inlineText(Re,Se)){W=W.substring(se.raw.length),se.raw.slice(-1)!=="_"&&(Ge=se.raw.slice(-1)),Pe=!0,ve=K[K.length-1],ve&&ve.type==="text"?(ve.raw+=se.raw,ve.text+=se.text):K.push(se);continue}if(W){var Mt="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Mt);break}else throw new Error(Mt)}}return K},i(x,null,[{key:"rules",get:function(){return{block:we,inline:ke}}}]),x}(),me=function(){function x(H){this.options=H||e.defaults}var R=x.prototype;return R.code=function(W,K,re){var se=(K||"").match(/\S*/)[0];if(this.options.highlight){var ve=this.options.highlight(W,se);ve!=null&&ve!==W&&(re=!0,W=ve)}return W=W.replace(/\n$/,"")+`
`,se?'<pre><code class="'+this.options.langPrefix+p(se,!0)+'">'+(re?W:p(W,!0))+`</code></pre>
`:"<pre><code>"+(re?W:p(W,!0))+`</code></pre>
`},R.blockquote=function(W){return`<blockquote>
`+W+`</blockquote>
`},R.html=function(W){return W},R.heading=function(W,K,re,se){return this.options.headerIds?"<h"+K+' id="'+this.options.headerPrefix+se.slug(re)+'">'+W+"</h"+K+`>
`:"<h"+K+">"+W+"</h"+K+`>
`},R.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},R.list=function(W,K,re){var se=K?"ol":"ul",ve=K&&re!==1?' start="'+re+'"':"";return"<"+se+ve+`>
`+W+"</"+se+`>
`},R.listitem=function(W){return"<li>"+W+`</li>
`},R.checkbox=function(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},R.paragraph=function(W){return"<p>"+W+`</p>
`},R.table=function(W,K){return K&&(K="<tbody>"+K+"</tbody>"),`<table>
<thead>
`+W+`</thead>
`+K+`</table>
`},R.tablerow=function(W){return`<tr>
`+W+`</tr>
`},R.tablecell=function(W,K){var re=K.header?"th":"td",se=K.align?"<"+re+' align="'+K.align+'">':"<"+re+">";return se+W+"</"+re+`>
`},R.strong=function(W){return"<strong>"+W+"</strong>"},R.em=function(W){return"<em>"+W+"</em>"},R.codespan=function(W){return"<code>"+W+"</code>"},R.br=function(){return this.options.xhtml?"<br/>":"<br>"},R.del=function(W){return"<del>"+W+"</del>"},R.link=function(W,K,re){if(W=D(this.options.sanitize,this.options.baseUrl,W),W===null)return re;var se='<a href="'+p(W)+'"';return K&&(se+=' title="'+K+'"'),se+=">"+re+"</a>",se},R.image=function(W,K,re){if(W=D(this.options.sanitize,this.options.baseUrl,W),W===null)return re;var se='<img src="'+W+'" alt="'+re+'"';return K&&(se+=' title="'+K+'"'),se+=this.options.xhtml?"/>":">",se},R.text=function(W){return W},x}(),Ne=function(){function x(){}var R=x.prototype;return R.strong=function(W){return W},R.em=function(W){return W},R.codespan=function(W){return W},R.del=function(W){return W},R.html=function(W){return W},R.text=function(W){return W},R.link=function(W,K,re){return""+re},R.image=function(W,K,re){return""+re},R.br=function(){return""},x}(),je=function(){function x(){this.seen={}}var R=x.prototype;return R.serialize=function(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},R.getNextSafeSlug=function(W,K){var re=W,se=0;if(this.seen.hasOwnProperty(re)){se=this.seen[W];do se++,re=W+"-"+se;while(this.seen.hasOwnProperty(re))}return K||(this.seen[W]=se,this.seen[re]=0),re},R.slug=function(W,K){K===void 0&&(K={});var re=this.serialize(W);return this.getNextSafeSlug(re,K.dryrun)},x}(),rt=function(){function x(H){this.options=H||e.defaults,this.options.renderer=this.options.renderer||new me,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ne,this.slugger=new je}x.parse=function(W,K){var re=new x(K);return re.parse(W)},x.parseInline=function(W,K){var re=new x(K);return re.parseInline(W)};var R=x.prototype;return R.parse=function(W,K){K===void 0&&(K=!0);var re="",se,ve,Re,ge,Ie,Pe,Ge,bt,Mt,pt,Jt,sn,vr,An,vi,pa,hs,Qe,At,fn=W.length;for(se=0;se<fn;se++){if(pt=W[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[pt.type]&&(At=this.options.extensions.renderers[pt.type].call({parser:this},pt),At!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(pt.type))){re+=At||"";continue}switch(pt.type){case"space":continue;case"hr":{re+=this.renderer.hr();continue}case"heading":{re+=this.renderer.heading(this.parseInline(pt.tokens),pt.depth,b(this.parseInline(pt.tokens,this.textRenderer)),this.slugger);continue}case"code":{re+=this.renderer.code(pt.text,pt.lang,pt.escaped);continue}case"table":{for(bt="",Ge="",ge=pt.header.length,ve=0;ve<ge;ve++)Ge+=this.renderer.tablecell(this.parseInline(pt.header[ve].tokens),{header:!0,align:pt.align[ve]});for(bt+=this.renderer.tablerow(Ge),Mt="",ge=pt.rows.length,ve=0;ve<ge;ve++){for(Pe=pt.rows[ve],Ge="",Ie=Pe.length,Re=0;Re<Ie;Re++)Ge+=this.renderer.tablecell(this.parseInline(Pe[Re].tokens),{header:!1,align:pt.align[Re]});Mt+=this.renderer.tablerow(Ge)}re+=this.renderer.table(bt,Mt);continue}case"blockquote":{Mt=this.parse(pt.tokens),re+=this.renderer.blockquote(Mt);continue}case"list":{for(Jt=pt.ordered,sn=pt.start,vr=pt.loose,ge=pt.items.length,Mt="",ve=0;ve<ge;ve++)vi=pt.items[ve],pa=vi.checked,hs=vi.task,An="",vi.task&&(Qe=this.renderer.checkbox(pa),vr?vi.tokens.length>0&&vi.tokens[0].type==="paragraph"?(vi.tokens[0].text=Qe+" "+vi.tokens[0].text,vi.tokens[0].tokens&&vi.tokens[0].tokens.length>0&&vi.tokens[0].tokens[0].type==="text"&&(vi.tokens[0].tokens[0].text=Qe+" "+vi.tokens[0].tokens[0].text)):vi.tokens.unshift({type:"text",text:Qe}):An+=Qe),An+=this.parse(vi.tokens,vr),Mt+=this.renderer.listitem(An,hs,pa);re+=this.renderer.list(Mt,Jt,sn);continue}case"html":{re+=this.renderer.html(pt.text);continue}case"paragraph":{re+=this.renderer.paragraph(this.parseInline(pt.tokens));continue}case"text":{for(Mt=pt.tokens?this.parseInline(pt.tokens):pt.text;se+1<fn&&W[se+1].type==="text";)pt=W[++se],Mt+=`
`+(pt.tokens?this.parseInline(pt.tokens):pt.text);re+=K?this.renderer.paragraph(Mt):Mt;continue}default:{var Gi='Token with "'+pt.type+'" type was not found.';if(this.options.silent){console.error(Gi);return}else throw new Error(Gi)}}}return re},R.parseInline=function(W,K){K=K||this.renderer;var re="",se,ve,Re,ge=W.length;for(se=0;se<ge;se++){if(ve=W[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ve.type]&&(Re=this.options.extensions.renderers[ve.type].call({parser:this},ve),Re!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ve.type))){re+=Re||"";continue}switch(ve.type){case"escape":{re+=K.text(ve.text);break}case"html":{re+=K.html(ve.text);break}case"link":{re+=K.link(ve.href,ve.title,this.parseInline(ve.tokens,K));break}case"image":{re+=K.image(ve.href,ve.title,ve.text);break}case"strong":{re+=K.strong(this.parseInline(ve.tokens,K));break}case"em":{re+=K.em(this.parseInline(ve.tokens,K));break}case"codespan":{re+=K.codespan(ve.text);break}case"br":{re+=K.br();break}case"del":{re+=K.del(this.parseInline(ve.tokens,K));break}case"text":{re+=K.text(ve.text);break}default:{var Ie='Token with "'+ve.type+'" type was not found.';if(this.options.silent){console.error(Ie);return}else throw new Error(Ie)}}}return re},x}();function xe(x,R,H){if(typeof x=="undefined"||x===null)throw new Error("marked(): input parameter is undefined or null");if(typeof x!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(x)+", string expected");if(typeof R=="function"&&(H=R,R=null),R=F({},xe.defaults,R||{}),j(R),H){var W=R.highlight,K;try{K=pe.lex(x,R)}catch(Re){return H(Re)}var re=function(ge){var Ie;if(!ge)try{R.walkTokens&&xe.walkTokens(K,R.walkTokens),Ie=rt.parse(K,R)}catch(Pe){ge=Pe}return R.highlight=W,ge?H(ge):H(null,Ie)};if(!W||W.length<3||(delete R.highlight,!K.length))return re();var se=0;xe.walkTokens(K,function(Re){Re.type==="code"&&(se++,setTimeout(function(){W(Re.text,Re.lang,function(ge,Ie){if(ge)return re(ge);Ie!=null&&Ie!==Re.text&&(Re.text=Ie,Re.escaped=!0),se--,se===0&&re()})},0))}),se===0&&re();return}try{var ve=pe.lex(x,R);return R.walkTokens&&xe.walkTokens(ve,R.walkTokens),rt.parse(ve,R)}catch(Re){if(Re.message+=`
Please report this to https://github.com/markedjs/marked.`,R.silent)return"<p>An error occurred:</p><pre>"+p(Re.message+"",!0)+"</pre>";throw Re}}xe.options=xe.setOptions=function(x){return F(xe.defaults,x),l(xe.defaults),xe},xe.getDefaults=a,xe.defaults=e.defaults,xe.use=function(){for(var x=arguments.length,R=new Array(x),H=0;H<x;H++)R[H]=arguments[H];var W=F.apply(void 0,[{}].concat(R)),K=xe.defaults.extensions||{renderers:{},childTokens:{}},re;R.forEach(function(se){if(se.extensions&&(re=!0,se.extensions.forEach(function(Re){if(!Re.name)throw new Error("extension name required");if(Re.renderer){var ge=K.renderers?K.renderers[Re.name]:null;ge?K.renderers[Re.name]=function(){for(var Ie=arguments.length,Pe=new Array(Ie),Ge=0;Ge<Ie;Ge++)Pe[Ge]=arguments[Ge];var bt=Re.renderer.apply(this,Pe);return bt===!1&&(bt=ge.apply(this,Pe)),bt}:K.renderers[Re.name]=Re.renderer}if(Re.tokenizer){if(!Re.level||Re.level!=="block"&&Re.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");K[Re.level]?K[Re.level].unshift(Re.tokenizer):K[Re.level]=[Re.tokenizer],Re.start&&(Re.level==="block"?K.startBlock?K.startBlock.push(Re.start):K.startBlock=[Re.start]:Re.level==="inline"&&(K.startInline?K.startInline.push(Re.start):K.startInline=[Re.start]))}Re.childTokens&&(K.childTokens[Re.name]=Re.childTokens)})),se.renderer&&function(){var Re=xe.defaults.renderer||new me,ge=function(Ge){var bt=Re[Ge];Re[Ge]=function(){for(var Mt=arguments.length,pt=new Array(Mt),Jt=0;Jt<Mt;Jt++)pt[Jt]=arguments[Jt];var sn=se.renderer[Ge].apply(Re,pt);return sn===!1&&(sn=bt.apply(Re,pt)),sn}};for(var Ie in se.renderer)ge(Ie);W.renderer=Re}(),se.tokenizer&&function(){var Re=xe.defaults.tokenizer||new Be,ge=function(Ge){var bt=Re[Ge];Re[Ge]=function(){for(var Mt=arguments.length,pt=new Array(Mt),Jt=0;Jt<Mt;Jt++)pt[Jt]=arguments[Jt];var sn=se.tokenizer[Ge].apply(Re,pt);return sn===!1&&(sn=bt.apply(Re,pt)),sn}};for(var Ie in se.tokenizer)ge(Ie);W.tokenizer=Re}(),se.walkTokens){var ve=xe.defaults.walkTokens;W.walkTokens=function(Re){se.walkTokens.call(this,Re),ve&&ve.call(this,Re)}}re&&(W.extensions=K),xe.setOptions(W)})},xe.walkTokens=function(x,R){for(var H=function(){var se=K.value;switch(R.call(xe,se),se.type){case"table":{for(var ve=o(se.header),Re;!(Re=ve()).done;){var ge=Re.value;xe.walkTokens(ge.tokens,R)}for(var Ie=o(se.rows),Pe;!(Pe=Ie()).done;)for(var Ge=Pe.value,bt=o(Ge),Mt;!(Mt=bt()).done;){var pt=Mt.value;xe.walkTokens(pt.tokens,R)}break}case"list":{xe.walkTokens(se.items,R);break}default:xe.defaults.extensions&&xe.defaults.extensions.childTokens&&xe.defaults.extensions.childTokens[se.type]?xe.defaults.extensions.childTokens[se.type].forEach(function(Jt){xe.walkTokens(se[Jt],R)}):se.tokens&&xe.walkTokens(se.tokens,R)}},W=o(x),K;!(K=W()).done;)H()},xe.parseInline=function(x,R){if(typeof x=="undefined"||x===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof x!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(x)+", string expected");R=F({},xe.defaults,R||{}),j(R);try{var H=pe.lexInline(x,R);return R.walkTokens&&xe.walkTokens(H,R.walkTokens),rt.parseInline(H,R)}catch(W){if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,R.silent)return"<p>An error occurred:</p><pre>"+p(W.message+"",!0)+"</pre>";throw W}},xe.Parser=rt,xe.parser=rt.parse,xe.Renderer=me,xe.TextRenderer=Ne,xe.Lexer=pe,xe.lexer=pe.lex,xe.Tokenizer=Be,xe.Slugger=je,xe.parse=xe;var Ve=xe.options,ee=xe.setOptions,ne=xe.use,le=xe.walkTokens,de=xe.parseInline,ye=xe,q=rt.parse,P=pe.lex;e.Lexer=pe,e.Parser=rt,e.Renderer=me,e.Slugger=je,e.TextRenderer=Ne,e.Tokenizer=Be,e.getDefaults=a,e.lexer=P,e.marked=xe,e.options=Ve,e.parse=ye,e.parseInline=de,e.parser=q,e.setOptions=ee,e.use=ne,e.walkTokens=le,Object.defineProperty(e,"__esModule",{value:!0})})})();var hse=Q_e||exports;function TSt(n,e={},t={}){var i;const r=new it;let s=!1;const o=r.add(new co),a=AK(e),l=function(b){let _;try{_=M$(decodeURIComponent(b))}catch{}return _?(_=dst(_,C=>{if(n.uris&&n.uris[C])return zt.revive(n.uris[C])}),encodeURIComponent(JSON.stringify(_))):b},u=function(b,_){const C=n.uris&&n.uris[b];let w=zt.revive(C);return _?b.startsWith(on.data+":")?b:(w||(w=zt.parse(b)),Mpe.asBrowserUri(w).toString(!0)):!w||zt.parse(b).toString()===w.toString()?b:(w.query&&(w=w.with({query:l(w.query)})),w.toString())};let c;const d=new Promise(b=>c=b),h=new hse.Renderer;if(h.image=(b,_,C)=>{let w=[],S=[];return b&&({href:b,dimensions:w}=V0t(b),S.push(`src="${b}"`)),C&&S.push(`alt="${C}"`),_&&S.push(`title="${_}"`),w.length&&(S=S.concat(w)),"<img "+S.join(" ")+">"},h.link=(b,_,C)=>typeof b!="string"?"":(b===C&&(C=A8(C)),b=u(b,!1),e.baseUrl&&(/^\w[\w\d+.-]*:/.test(b)||(b=$ne(e.baseUrl,b).toString())),_=typeof _=="string"?A8(_):"",b=A8(b),!b||b.match(/^data:|javascript:/i)||b.match(/^command:/i)&&!n.isTrusted||b.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?C:(b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a data-href="${b}" title="${_||b}">${C}</a>`)),h.paragraph=b=>`<p>${b}</p>`,e.codeBlockRenderer&&(h.code=(b,_)=>{if(typeof _!="string")return"";const C=e.codeBlockRenderer(_,b),w=Zve.nextId();return GU(Promise.all([C,d]),o.token).then(S=>{var D;if(!s&&S){const E=a.querySelector(`div[data-code="${w}"]`);E&&Ym(E,S[0]),(D=e.asyncRenderCallback)===null||D===void 0||D.call(e)}}).catch(()=>{}),`<div class="code" data-code="${w}">${YU(b)}</div>`}),e.actionHandler){const b=e.actionHandler.disposables.add(new Ci(a,"click")),_=e.actionHandler.disposables.add(new Ci(a,"auxclick"));e.actionHandler.disposables.add(xt.any(b.event,_.event)(C=>{const w=new Lu(C);if(!w.leftButton&&!w.middleButton)return;let S=w.target;if(!(S.tagName!=="A"&&(S=S.parentElement,!S||S.tagName!=="A")))try{const D=S.dataset.href;D&&e.actionHandler.callback(D,w)}catch(D){Qt(D)}finally{w.preventDefault()}}))}n.supportHtml||(t.sanitizer=b=>(n.isTrusted?b.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?b:"",t.sanitize=!0,t.silent=!0),t.renderer=h;let f=(i=n.value)!==null&&i!==void 0?i:"";f.length>1e5&&(f=`${f.substr(0,1e5)}\u2026`),n.supportThemeIcons&&(f=qvt(f));let g=hse.parse(f,t);n.supportThemeIcons&&(g=__(g).map(_=>typeof _=="string"?_:_.outerHTML).join(""));const m=new DOMParser().parseFromString(fse(n,g),"text/html");if(m.body.querySelectorAll("img").forEach(b=>{if(b.src){let _=u(b.src,!0);try{const C=zt.parse(_);e.baseUrl&&C.scheme===on.file&&(_=$ne(e.baseUrl,_).toString())}catch{}b.src=_}}),a.innerHTML=fse(n,m.body.innerHTML),c(),e.asyncRenderCallback)for(const b of a.getElementsByTagName("img")){const _=r.add(nt(b,"load",()=>{_.dispose(),e.asyncRenderCallback()}))}return{element:a,dispose:()=>{s=!0,o.cancel(),r.dispose()}}}function fse(n,e){const{config:t,allowedSchemes:i}=NSt(n);cse("uponSanitizeAttribute",(s,o)=>{if(o.attrName==="style"||o.attrName==="class"){if(s.tagName==="SPAN"){if(o.attrName==="style"){o.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(o.attrValue);return}else if(o.attrName==="class"){o.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(o.attrValue);return}}o.keepAttr=!1;return}});const r=document.createElement("a");cse("afterSanitizeAttributes",s=>{for(const o of["href","src"])s.hasAttribute(o)&&(r.href=s.getAttribute(o),i.includes(r.protocol.replace(/:$/,""))||s.removeAttribute(o))});try{return ISt(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{dse("uponSanitizeAttribute"),dse("afterSanitizeAttributes")}}function NSt(n){const e=[on.http,on.https,on.mailto,on.data,on.file,on.vscodeFileResource,on.vscodeRemote,on.vscodeRemoteResource];return n.isTrusted&&e.push(on.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}var xSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},gse=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},MSt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},c6;let Qg=class J_e{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new Le,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const r=new it;return{element:r.add(TSt(e,Object.assign(Object.assign({},this._getRenderOptions(e,r)),t),i)).element,dispose:()=>r.dispose()}}_getRenderOptions(e,t){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(i,r)=>MSt(this,void 0,void 0,function*(){var s,o,a;let l;i?l=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(l=(s=this._options.editor.getModel())===null||s===void 0?void 0:s.getLanguageId()),l||(l=_f);const u=yield Vpt(this._languageService,r,l),c=document.createElement("span");if(c.innerHTML=(a=(o=J_e._ttpTokenizer)===null||o===void 0?void 0:o.createHTML(u))!==null&&a!==void 0?a:u,this._options.editor){const d=this._options.editor.getOption(44);oo(c,d)}else this._options.codeBlockFontFamily&&(c.style.fontFamily=this._options.codeBlockFontFamily);return c}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>this._openerService.open(i,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(Qt),disposables:t}}}};Qg._ttpTokenizer=(c6=window.trustedTypes)===null||c6===void 0?void 0:c6.createPolicy("tokenizeToString",{createHTML(n){return n}});Qg=xSt([gse(1,fr),gse(2,Ku)],Qg);var ASt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class RSt{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}function OSt(n,e,t,i,r){return ASt(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(n.provideHover(t,i,r));if(s&&FSt(s))return new RSt(n,s,e)}catch(s){Ys(s)}})}function wG(n,e,t){const r=By.ordered(n).map((s,o)=>OSt(s,o,n,e,t));return Hr.fromPromises(r).coalesce()}function PSt(n,e,t){return wG(n,e,t).map(i=>i.hover).toPromise()}vf("_executeHoverProvider",(n,e)=>PSt(n,e,En.None));function FSt(n){const e=typeof n.range!="undefined",t=typeof n.contents!="undefined"&&n.contents&&n.contents.length>0;return e&&t}var BSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},d6=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const pse=et;class sm{constructor(e,t,i,r){this.owner=e,this.range=t,this.contents=i,this.ordinal=r}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let CR=class{constructor(e,t,i,r){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=r}createLoadingMessage(e){return new sm(this,e.range,[new Fd().appendText(L("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),r=e.range.startLineNumber,s=i.getLineMaxColumn(r),o=[];let a=1e3;const l=i.getLineLength(r),u=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),c=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:u});typeof c=="number"&&l>=c&&o.push(new sm(this,e.range,[{value:L("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],a++));for(const d of t){const h=d.range.startLineNumber===r?d.range.startColumn:1,f=d.range.endLineNumber===r?d.range.endColumn:s,g=d.options.hoverMessage;if(!g||nw(g))continue;const p=new Y(e.range.startLineNumber,h,e.range.startLineNumber,f);o.push(new sm(this,p,BU(g),a++))}return o}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return Hr.EMPTY;const r=this._editor.getModel();if(!By.has(r))return Hr.EMPTY;const s=new Ae(e.range.startLineNumber,e.range.startColumn);return wG(r,s,i).filter(o=>!nw(o.hover.contents)).map(o=>{const a=o.hover.range?Y.lift(o.hover.range):e.range;return new sm(this,a,o.hover.contents,o.ordinal)})}renderHoverParts(e,t){return e1e(e,t,this._editor,this._languageService,this._openerService)}};CR=BSt([d6(1,fr),d6(2,Ku),d6(3,Mi)],CR);function e1e(n,e,t,i,r){e.sort((o,a)=>o.ordinal-a.ordinal);const s=new it;for(const o of e)for(const a of o.contents){if(nw(a))continue;const l=pse("div.hover-row.markdown-hover"),u=qe(l,pse("div.hover-contents")),c=s.add(new Qg({editor:t},i,r));s.add(c.onDidRenderAsync(()=>{u.className="hover-contents code-hover-contents",n.onContentsChanged()}));const d=s.add(c.render(a));u.appendChild(d.element),n.fragment.appendChild(l)}return s}var t1e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},yR=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class mse{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let UV=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new Le,this.onDidChange=this._onDidChange.event,this._dispoables=new it,this._markers=[],this._nextIdx=-1,zt.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);const r=this._configService.getValue("problems.sortOrder"),s=(a,l)=>{let u=dk(a.resource.toString(),l.resource.toString());return r==="position"?u=Y.compareRangesUsingStarts(a,l)||hr.compare(a.severity,l.severity):u=hr.compare(a.severity,l.severity)||Y.compareRangesUsingStarts(a,l),u},o=()=>{this._markers=this._markerService.read({resource:zt.isUri(e)?e:void 0,severities:hr.Error|hr.Warning|hr.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(s)};o(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(o(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new mse(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let r=!1,s=this._markers.findIndex(o=>o.resource.toString()===e.uri.toString());s<0&&(s=PU(this._markers,{resource:e.uri},(o,a)=>dk(o.resource.toString(),a.resource.toString())),s<0&&(s=~s));for(let o=s;o<this._markers.length;o++){let a=Y.lift(this._markers[o]);if(a.isEmpty()){const l=e.getWordAtPosition(a.getStartPosition());l&&(a=new Y(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=o,r=!0;break}if(this._markers[o].resource.toString()!==e.uri.toString())break}r||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;let r=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(e,t){let i=this._markers.findIndex(r=>r.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(Y.containsPosition(this._markers[i],t))return new mse(this._markers[i],i+1,this._markers.length)}}};UV=t1e([yR(1,op),yR(2,Mi)],UV);const n1e=Pn("IMarkerNavigationService");let jV=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Ml}getMarkerList(e){for(let t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new UV(e,this._markerService,this._configService)}};jV=t1e([yR(0,op),yR(1,Mi)],jV);qn(n1e,jV,!0);var KV;(function(n){function e(t){switch(t){case cr.Ignore:return"severity-ignore "+k.info.classNames;case cr.Info:return k.info.classNames;case cr.Warning:return k.warning.classNames;case cr.Error:return k.error.classNames;default:return""}}n.className=e})(KV||(KV={}));Hi((n,e)=>{const t=n.getColor(Adt);if(t){const s=k.error.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.text-search-provider-messages .providerMessage ${s},
			.extensions-viewlet > .extensions ${s} {
				color: ${t};
			}
		`)}const i=n.getColor(Rdt);if(i){const s=k.warning.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s},
			.extension-editor ${s},
			.text-search-provider-messages .providerMessage ${s},
			.preferences-editor ${s} {
				color: ${i};
			}
		`)}const r=n.getColor(Odt);if(r){const s=k.info.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s},
			.text-search-provider-messages .providerMessage ${s},
			.extension-editor ${s} {
				color: ${r};
			}
		`)}});var $St=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Tb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class VSt{constructor(e,t,i,r,s){this._openerService=r,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new it,this._editor=t;const o=document.createElement("div");o.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.add(Ks(this._relatedBlock,"click",a=>{a.preventDefault();const l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new ove(o,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{o.style.left=`-${a.scrollLeft}px`,o.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){jn(this._disposables)}update(e){const{source:t,message:i,relatedInformation:r,code:s}=e;let o=((t==null?void 0:t.length)||0)+2;s&&(typeof s=="string"?o+=s.length:o+=s.value.length);const a=ef(i);this._lines=a.length,this._longestLineLength=0;for(const h of a)this._longestLineLength=Math.max(h.length+o,this._longestLineLength);_s(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(const h of a)l=document.createElement("div"),l.innerText=h,h===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||s){const h=document.createElement("span");if(h.classList.add("details"),l.appendChild(h),t){const f=document.createElement("span");f.innerText=t,f.classList.add("source"),h.appendChild(f)}if(s)if(typeof s=="string"){const f=document.createElement("span");f.innerText=`(${s})`,f.classList.add("code"),h.appendChild(f)}else{this._codeLink=et("a.code-link"),this._codeLink.setAttribute("href",`${s.target.toString()}`),this._codeLink.onclick=g=>{this._openerService.open(s.target,{allowCommands:!0}),g.preventDefault(),g.stopPropagation()};const f=qe(this._codeLink,et("span"));f.innerText=s.value,h.appendChild(this._codeLink)}}if(_s(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),nl(r)){const h=this._relatedBlock.appendChild(document.createElement("div"));h.style.paddingTop=`${Math.floor(this._editor.getOption(59)*.66)}px`,this._lines+=1;for(const f of r){let g=document.createElement("div"),p=document.createElement("a");p.classList.add("filename"),p.innerText=`${T_e(f.resource)}(${f.startLineNumber}, ${f.startColumn}): `,p.title=this._labelService.getUriLabel(f.resource),this._relatedDiagnostics.set(p,f);let m=document.createElement("span");m.innerText=f.message,g.appendChild(p),g.appendChild(m),this._lines+=1,h.appendChild(g)}}const u=this._editor.getOption(44),c=Math.ceil(u.typicalFullwidthCharacterWidth*this._longestLineLength*.75),d=u.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:c,scrollHeight:d})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case hr.Error:t=L("Error","Error");break;case hr.Warning:t=L("Warning","Warning");break;case hr.Info:t=L("Info","Info");break;case hr.Hint:t=L("Hint","Hint");break}let i=L("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const r=this._editor.getModel();return r&&e.startLineNumber<=r.getLineCount()&&e.startLineNumber>=1&&(i=`${r.getLineContent(e.startLineNumber)}, ${i}`),i}}let uw=class i1e extends _R{constructor(e,t,i,r,s,o,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},s);this._themeService=t,this._openerService=i,this._menuService=r,this._contextKeyService=o,this._labelService=a,this._callOnDispose=new it,this._onDidSelectRelatedInformation=new Le,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=hr.Warning,this._backgroundColor=We.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(USt);let t=GV,i=WSt;this._severity===hr.Warning?(t=qV,i=HSt):this._severity===hr.Info&&(t=YV,i=zSt);const r=e.getColor(t),s=e.getColor(i);this.style({arrowColor:r,frameColor:r,headerBackgroundColor:s,primaryHeadingColor:e.getColor(D_e),secondaryHeadingColor:e.getColor(I_e)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(r=>this.editor.focus()));const t=[],i=this._menuService.createMenu(i1e.TitleMenu,this._contextKeyService);Dwt(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=qe(e,et(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new VSt(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let r=Y.lift(e);const s=this.editor.getPosition();let o=s&&r.containsPosition(s)?s:r.getStartPosition();super.show(o,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const l=i>1?L("problems","{0} of {1} problems",t,i):L("change","{0} of {1} problem",t,i);this.setTitle(Wu(a.uri),l)}this._icon.className=`codicon ${KV.className(hr.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(o,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};uw.TitleMenu=new _e("gotoErrorTitleMenu");uw=$St([Tb(1,Ki),Tb(2,Ku),Tb(3,N1),Tb(4,Mn),Tb(5,Zt),Tb(6,mD)],uw);let vse=Lk(Sm,pme),_se=Lk(Nc,_4),bse=Lk(Wl,Pj);const GV=ce("editorMarkerNavigationError.background",{dark:vse,light:vse,hc:rr},L("editorMarkerNavigationError","Editor marker navigation widget error color.")),WSt=ce("editorMarkerNavigationError.headerBackground",{dark:Kt(GV,.1),light:Kt(GV,.1),hc:null},L("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),qV=ce("editorMarkerNavigationWarning.background",{dark:_se,light:_se,hc:rr},L("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),HSt=ce("editorMarkerNavigationWarning.headerBackground",{dark:Kt(qV,.1),light:Kt(qV,.1),hc:"#0C141F"},L("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),YV=ce("editorMarkerNavigationInfo.background",{dark:bse,light:bse,hc:rr},L("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),zSt=ce("editorMarkerNavigationInfo.headerBackground",{dark:Kt(YV,.1),light:Kt(YV,.1),hc:null},L("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),USt=ce("editorMarkerNavigation.background",{dark:Ta,light:Ta,hc:Ta},L("editorMarkerNavigationBackground","Editor marker navigation widget background."));var jSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ZT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},r1e=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let lv=class Fx{constructor(e,t,i,r,s){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=r,this._instantiationService=s,this._sessionDispoables=new it,this._editor=e,this._widgetVisible=s1e.bindTo(this._contextKeyService)}static get(e){return e.getContribution(Fx.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(uw,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var r,s,o;(!((r=this._model)===null||r===void 0?void 0:r.selected)||!Y.containsPosition((s=this._model)===null||s===void 0?void 0:s.selected.marker,i.position))&&((o=this._model)===null||o===void 0||o.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:Y.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new Ae(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var i,r;return r1e(this,void 0,void 0,function*(){if(this._editor.hasModel()){const s=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(s.move(e,this._editor.getModel(),this._editor.getPosition()),!s.selected)return;if(s.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const o=yield this._editorService.openCodeEditor({resource:s.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:s.selected.marker}},this._editor);o&&((i=Fx.get(o))===null||i===void 0||i.close(),(r=Fx.get(o))===null||r===void 0||r.nagivate(e,t))}else this._widget.showAtMarker(s.selected.marker,s.selected.index,s.selected.total)}})}};lv.ID="editor.contrib.markerController";lv=jSt([ZT(1,n1e),ZT(2,Zt),ZT(3,ci),ZT(4,Mn)],lv);class hP extends Et{constructor(e,t,i){super(i);this._next=e,this._multiFile=t}run(e,t){var i;return r1e(this,void 0,void 0,function*(){t.hasModel()&&((i=lv.get(t))===null||i===void 0||i.nagivate(this._next,this._multiFile))})}}class Ng extends hP{constructor(){super(!0,!1,{id:Ng.ID,label:Ng.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:578,weight:100},menuOpts:{menuId:uw.TitleMenu,title:Ng.LABEL,icon:ws("marker-navigation-next",k.arrowDown,L("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Ng.ID="editor.action.marker.next";Ng.LABEL=L("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class cw extends hP{constructor(){super(!1,!1,{id:cw.ID,label:cw.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:1602,weight:100},menuOpts:{menuId:uw.TitleMenu,title:Ng.LABEL,icon:ws("marker-navigation-previous",k.arrowUp,L("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}cw.ID="editor.action.marker.prev";cw.LABEL=L("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class KSt extends hP{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:L("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:66,weight:100},menuOpts:{menuId:_e.MenubarGoMenu,title:L({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class GSt extends hP{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:L("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:1090,weight:100},menuOpts:{menuId:_e.MenubarGoMenu,title:L({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}oi(lv.ID,lv);ut(Ng);ut(cw);ut(KSt);ut(GSt);const s1e=new St("markersNavigationVisible",!1),qSt=go.bindToContribution(lv.get);lt(new qSt({id:"closeMarkersNavigation",precondition:s1e,handler:n=>n.close(),kbOpts:{weight:100+50,kbExpr:ue.focus,primary:9,secondary:[1033]}}));var YSt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Cse=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const ac=et;class XSt{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const yse={type:1,filter:{include:In.QuickFix}};let XV=class{constructor(e,t,i){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),r=e.range.startLineNumber,s=i.getLineMaxColumn(r),o=[];for(const a of t){const l=a.range.startLineNumber===r?a.range.startColumn:1,u=a.range.endLineNumber===r?a.range.endColumn:s,c=this._markerDecorationsService.getMarker(i.uri,a);if(!c)continue;const d=new Y(e.range.startLineNumber,l,e.range.startLineNumber,u);o.push(new XSt(this,d,c))}return o}renderHoverParts(e,t){if(!t.length)return ze.None;const i=new it;t.forEach(s=>e.fragment.appendChild(this.renderMarkerHover(s,i)));const r=t.length===1?t[0]:t.sort((s,o)=>hr.compare(s.marker.severity,o.marker.severity))[0];return this.renderMarkerStatusbar(e,r,i),i}renderMarkerHover(e,t){const i=ac("div.hover-row"),r=qe(i,ac("div.marker.hover-contents")),{source:s,message:o,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(r);const u=qe(r,ac("span"));if(u.style.whiteSpace="pre-wrap",u.innerText=o,s||a)if(a&&typeof a!="string"){const c=ac("span");if(s){const g=qe(c,ac("span"));g.innerText=s}const d=qe(c,ac("a.code-link"));d.setAttribute("href",a.target.toString()),t.add(nt(d,"click",g=>{this._openerService.open(a.target,{allowCommands:!0}),g.preventDefault(),g.stopPropagation()}));const h=qe(d,ac("span"));h.innerText=a.value;const f=qe(r,c);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{const c=qe(r,ac("span"));c.style.opacity="0.6",c.style.paddingLeft="6px",c.innerText=s&&a?`${s}(${a})`:s||`(${a})`}if(nl(l))for(const{message:c,resource:d,startLineNumber:h,startColumn:f}of l){const g=qe(r,ac("div"));g.style.marginTop="8px";const p=qe(g,ac("a"));p.innerText=`${Wu(d)}(${h}, ${f}): `,p.style.cursor="pointer",t.add(nt(p,"click",b=>{b.stopPropagation(),b.preventDefault(),this._openerService&&this._openerService.open(d,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:h,startColumn:f}}}).catch(Qt)}));const m=qe(g,ac("span"));m.innerText=c,this._editor.applyFontInfo(m)}return i}renderMarkerStatusbar(e,t,i){if((t.marker.severity===hr.Error||t.marker.severity===hr.Warning||t.marker.severity===hr.Info)&&e.statusBar.addAction({label:L("view problem","View Problem"),commandId:Ng.ID,run:()=>{var r;e.hide(),(r=lv.get(this._editor))===null||r===void 0||r.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(81)){const r=e.statusBar.append(ac("div"));this.recentMarkerCodeActionsInfo&&(iR.makeKey(this.recentMarkerCodeActionsInfo.marker)===iR.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=L("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const s=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?ze.None:i.add(N_(()=>r.textContent=L("checkingForQuickFixes","Checking for quick fixes..."),200));r.textContent||(r.textContent=String.fromCharCode(160));const o=this.getCodeActions(t.marker);i.add(_n(()=>o.cancel())),o.then(a=>{if(s.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),r.textContent=L("noQuickFixes","No quick fixes available");return}r.style.display="none";let l=!1;i.add(_n(()=>{l||a.dispose()})),e.statusBar.addAction({label:L("quick fixes","Quick Fix..."),commandId:qw.Id,run:u=>{l=!0;const c=Y_.get(this._editor),d=io(u);e.hide(),c==null||c.showCodeActions(yse,a,{x:d.left+6,y:d.top+d.height+6})}})},Qt)}}getCodeActions(e){return qs(t=>pG(this._editor.getModel(),new Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),yse,P1.None,t))}};XV=YSt([Cse(1,Ij),Cse(2,Ku)],XV);Hi((n,e)=>{const t=n.getColor(m4);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);const i=n.getColor(v4);i&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${i}; }`)});const o1e="editor.action.inlineSuggest.commit";class a1e{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return QSt(i,this.parts.map(s=>({range:{startLineNumber:1,endLineNumber:1,startColumn:s.column,endColumn:s.column},text:s.lines.join(`
`)}))).substring(this.parts[0].column-1)}}class ZSt{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}function QSt(n,e){const t=new ZSt(n),i=e.map(r=>{const s=Y.lift(r.range);return{startOffset:t.getOffset(s.getStartPosition()),endOffset:t.getOffset(s.getEndPosition()),text:r.text}});i.sort((r,s)=>s.startOffset-r.startOffset);for(const r of i)n=n.substring(0,r.startOffset)+r.text+n.substring(r.endOffset);return n}class wse{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class l1e extends ze{constructor(e){super();this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new Le,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(106)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}function JSt(n,e){return n===e?!0:!n||!e?!1:n.range.equalsRange(e.range)&&n.text===e.text&&n.command===e.command}function u1e(n,e,t,i,r=0){if(n.range.startLineNumber!==n.range.endLineNumber)return;const s=e.getLineContent(n.range.startLineNumber),o=bi(s).length;if(n.range.startColumn-1<=o){const f=bi(n.text).length,g=s.substring(n.range.startColumn-1,o),p=Y.fromPositions(n.range.getStartPosition().delta(0,g.length),n.range.getEndPosition()),m=n.text.startsWith(g)?n.text.substring(g.length):n.text.substring(f);n={range:p,text:m,command:n.command}}const l=e.getValueInRange(n.range),u=e2t(l,n.text);if(!u)return;const c=n.range.startLineNumber,d=new Array;if(t==="prefix"){const f=u.filter(g=>g.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==l.length)return}const h=n.text.length-r;for(const f of u){const g=n.range.startColumn+f.originalStart+f.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===n.range.startLineNumber&&g<i.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;const p=f.modifiedStart+f.modifiedLength,m=Math.max(f.modifiedStart,Math.min(p,h)),b=n.text.substring(f.modifiedStart,m),_=n.text.substring(m,Math.max(f.modifiedStart,p));if(b.length>0){const C=ef(b);d.push(new wse(g,C,!1))}if(_.length>0){const C=ef(_);d.push(new wse(g,C,!0))}}return new a1e(c,d,0)}let sh;function e2t(n,e){if((sh==null?void 0:sh.originalValue)===n&&(sh==null?void 0:sh.newValue)===e)return sh==null?void 0:sh.changes;{const t=t2t(n,e);return sh={originalValue:n,newValue:e,changes:t},t}}function t2t(n,e){if(n.length>5e3||e.length>5e3)return;function t(l){let u=0;for(let c=0,d=l.length;c<d;c++){const h=l.charCodeAt(c);h>u&&(u=h)}return u}const i=Math.max(t(n),t(e));function r(l){if(l<0)throw new Error("unexpected");return i+l+1}function s(l){let u=0,c=0;const d=new Int32Array(l.length);for(let h=0,f=l.length;h<f;h++){const g=c*100+u;l[h]==="("?(d[h]=r(2*g),u++):l[h]===")"?(d[h]=r(2*g+1),u===1&&c++,u=Math.max(u-1,0)):d[h]=l.charCodeAt(h)}return d}const o=s(n),a=s(e);return new Dh({getElements:()=>o},{getElements:()=>a}).ComputeDiff(!1).changes}function n2t(n,e){const t=new Pme,i=new Bme(t,u=>e.getLanguageConfiguration(u)),r=new Fme(new i2t([n]),i),s=i$(r,[],void 0,!0);let o="";const a=n.getLineContent();function l(u,c){if(u.kind===2)l(u.openingBracket,c),c=Jr(c,u.openingBracket.length),u.child&&(l(u.child,c),c=Jr(c,u.child.length)),u.closingBracket?(l(u.closingBracket,c),c=Jr(c,u.closingBracket.length)):o+=i.getSingleLanguageBracketTokens(u.openingBracket.languageId).findClosingTokenText(u.openingBracket.bracketIds);else if(u.kind!==3){if(u.kind===0||u.kind===1)o+=a.substring(c,Jr(c,u.length));else if(u.kind===4)for(const d of u.children)l(d,c),c=Jr(c,d.length)}}return l(s,nf),o}class i2t{constructor(e){this.lines=e}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}getLineTokens(e){return this.lines[e-1]}}var r2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Sse=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},og=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let ZV=class extends ze{constructor(e,t,i,r){super();this.editor=e,this.cache=t,this.commandService=i,this.languageConfigurationService=r,this.onDidChangeEmitter=new Le,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new da),this.active=!1,this.disposed=!1,this._register(i.onDidExecuteCommand(s=>{new Set([ey.Tab.id,ey.DeleteLeft.id,ey.DeleteRight.id,o1e,"acceptSelectedSuggestion"]).has(s.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(s=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(s=>{this.session&&!this.session.isValid&&this.hide()})),this._register(_n(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return(e=this.session)===null||e===void 0?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;(t=this.session)===null||t===void 0||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&((t=this.session)===null||t===void 0||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(vu.Automatic)}trigger(e){if(this.completionSession.value){e===vu.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new s2t(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;(e=this.session)===null||e===void 0||e.commitCurrentCompletion()}showNext(){var e;(e=this.session)===null||e===void 0||e.showNextInlineCompletion()}showPrevious(){var e;(e=this.session)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return og(this,void 0,void 0,function*(){const t=yield(e=this.session)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};ZV=r2t([Sse(2,Pr),Sse(3,fo)],ZV);class s2t extends l1e{constructor(e,t,i,r,s,o,a){super(e);this.triggerPosition=t,this.shouldUpdate=i,this.commandService=r,this.cache=s,this.initialTriggerKind=o,this.languageConfigurationService=a,this.minReservedLineCount=0,this.updateOperation=this._register(new da),this.updateSoon=this._register(new Ni(()=>{let u=this.initialTriggerKind;return this.initialTriggerKind=vu.Automatic,this.update(u)},50)),this.currentlySelectedCompletionId=void 0;let l;this._register(this.onDidChange(()=>{const u=this.currentCompletion;if(u&&u.sourceInlineCompletion!==l){l=u.sourceInlineCompletion;const c=u.sourceProvider;c.handleItemDidShow&&c.handleItemDidShow(u.sourceInlineCompletions,l)}})),this._register(_n(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(u=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(u=>{this.scheduleAutomaticUpdate()})),this._register(aj.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const e=this.cache.value.completions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return e===-1?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return og(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){const i=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[i].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var e;return og(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){const i=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[i].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return og(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===vu.Explicit?yield this.updateOperation.value.promise:yield this.update(vu.Explicit):((e=this.cache.value)===null||e===void 0?void 0:e.triggerKind)!==vu.Explicit&&(yield this.update(vu.Explicit))})}hasMultipleInlineCompletions(){var e;return og(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((e=this.cache.value)===null||e===void 0?void 0:e.completions.length)||0)>1})}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(55).mode;return e?u1e(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(!!e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return og(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),i=qs(s=>og(this,void 0,void 0,function*(){let o;try{o=yield d1e(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},s,this.languageConfigurationService)}catch(a){Qt(a);return}s.isCancellationRequested||(this.cache.setValue(this.editor,o,e),this.onDidChangeEmitter.fire())})),r=new c1e(i,e);this.updateOperation.value=r,yield i,this.updateOperation.value===r&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[Sr.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{t==null||t.dispose()}).then(void 0,Ys):t==null||t.dispose(),this.onDidChangeEmitter.fire()}}class c1e{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class o2t extends ze{constructor(e,t,i,r){super();this.triggerKind=r;const s=e.deltaDecorations([],t.items.map(o=>({range:o.range,options:{description:"inline-completion-tracking-range"}})));this._register(_n(()=>{e.deltaDecorations(s,[])})),this.completions=t.items.map((o,a)=>new a2t(o,s[a])),this._register(e.onDidChangeModelContent(()=>{let o=!1;const a=e.getModel();for(const l of this.completions){const u=a.getDecorationRange(l.decorationId);if(!u){Qt(new Error("Decoration has no range"));continue}l.synchronizedRange.equalsRange(u)||(o=!0,l.synchronizedRange=u)}o&&i()})),this._register(t)}}class a2t{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function l2t(n,e){const t=e.getWordAtPosition(n),i=e.getLineMaxColumn(n.lineNumber);return t?new Y(n.lineNumber,t.startColumn,n.lineNumber,i):Y.fromPositions(n,n.with(void 0,i))}function d1e(n,e,t,i=En.None,r){return og(this,void 0,void 0,function*(){const s=l2t(n,e),o=aj.all(e),a=yield Promise.all(o.map(u=>og(this,void 0,void 0,function*(){const c=yield u.provideInlineCompletions(e,n,t,i);return{completions:c,provider:u,dispose:()=>{c&&u.freeInlineCompletions(c)}}}))),l=new Map;for(const u of a){const c=u.completions;if(c)for(const d of c.items){const h=d.range?Y.lift(d.range):s;if(h.startLineNumber!==h.endLineNumber)continue;const f=r&&d.completeBracketPairs?u2t(d.text,h.getStartPosition(),e,r):d.text,g={text:f,range:h,command:d.command,sourceProvider:u.provider,sourceInlineCompletions:c,sourceInlineCompletion:d};l.set(JSON.stringify({text:f,range:d.range}),g)}}return{items:[...l.values()],dispose:()=>{for(const u of a)u.dispose()}}})}function u2t(n,e,t,i){const s=t.getLineContent(e.lineNumber).substring(0,e.column-1)+n,o=t.tokenizeLineWithEdit(e,s.length-(e.column-1),n),a=o==null?void 0:o.sliceAndInflate(e.column-1,s.length,0);return a?(console.log(a),n2t(a,i)):n}function wR(n,e){if(!e)return e;const t=n.getValueInRange(e.range),i=Fy(t,e.text),r=n.getOffsetAt(e.range.getStartPosition())+i,s=n.getPositionAt(r),o=t.substr(i),a=QM(o,e.text),l=n.getPositionAt(Math.max(r,n.getOffsetAt(e.range.getEndPosition())-a));return{range:Y.fromPositions(s,l),text:e.text.substr(i,e.text.length-i-a)}}class dc{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,t=0,i=this.value.charCodeAt(e),r;if(r=dc._table[i],typeof r=="number")return this.pos+=1,{type:r,pos:e,len:1};if(dc.isDigitCharacter(i)){r=8;do t+=1,i=this.value.charCodeAt(e+t);while(dc.isDigitCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}if(dc.isVariableCharacter(i)){r=9;do i=this.value.charCodeAt(e+ ++t);while(dc.isVariableCharacter(i)||dc.isDigitCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}r=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof dc._table[i]=="undefined"&&!dc.isDigitCharacter(i)&&!dc.isVariableCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}}dc._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class Yw{constructor(){this._children=[]}appendChild(e){return e instanceof Za&&this._children[this._children.length-1]instanceof Za?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,r=i.children.indexOf(e),s=i.children.slice(0);s.splice(r,1,...t),i._children=s,function o(a,l){for(const u of a)u.parent=l,o(u.children,u)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof fP)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class Za extends Yw{constructor(e){super();this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Za(this.value)}}class h1e extends Yw{}class Cc extends h1e{constructor(e){super();this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof TD?this._children[0]:void 0}clone(){let e=new Cc(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class TD extends Yw{constructor(){super(...arguments);this.options=[]}appendChild(e){return e instanceof Za&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new TD;return this.options.forEach(e.appendChild,e),e}}class SG extends Yw{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,r=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(s=>s instanceof ld&&Boolean(s.elseValue))&&(r=this._replace([])),r}_replace(e){let t="";for(const i of this._children)if(i instanceof ld){let r=e[i.index]||"";r=i.resolve(r),t+=r}else t+=i.toString();return t}toString(){return""}clone(){let e=new SG;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class ld extends Yw{constructor(e,t,i,r){super();this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=r}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":Boolean(e)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(e)&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((i,r)=>r===0?i.toLowerCase():i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()).join(""):e}clone(){return new ld(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class uE extends h1e{constructor(e){super();this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new Za(t)],!0):!1}clone(){const e=new uE(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function Lse(n,e){const t=[...n];for(;t.length>0;){const i=t.shift();if(!e(i))break;t.unshift(...i.children)}}class fP extends Yw{get placeholderInfo(){if(!this._placeholders){let e=[],t;this.walk(function(i){return i instanceof Cc&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(r=>r===e?(i=!0,!1):(t+=r.len(),!0)),i?t:-1}fullLen(e){let t=0;return Lse([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;for(;i;)i instanceof Cc&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof uE&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new fP;return this._children=this.children.map(t=>t.clone()),e}walk(e){Lse(this.children,e)}}class gP{constructor(){this._scanner=new dc,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){this._scanner.text(e),this._token=this._scanner.next();const r=new fP;for(;this._parse(r););const s=new Map,o=[];let a=0;r.walk(l=>(l instanceof Cc&&(a+=1,l.isFinalTabstop?s.set(0,void 0):!s.has(l.index)&&l.children.length>0?s.set(l.index,l.children):o.push(l)),!0));for(const l of o){const u=s.get(l.index);if(u){const c=new Cc(l.index);c.transform=l.transform;for(const d of u)c.appendChild(d.clone());r.replace(l,[c])}}return i||(i=a>0&&t),!s.has(0)&&i&&r.appendChild(new Cc(0)),r}_accept(e,t){if(e===void 0||this._token.type===e){let i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Za(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Cc(Number(t)):new uE(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const s=new Cc(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(s),!0;if(!this._parse(s))return e.appendChild(new Za("${"+t+":")),s.children.forEach(e.appendChild,e),!0}else if(s.index>0&&this._accept(7)){const o=new TD;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(o),this._accept(4)))return e.appendChild(s),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(s)?(e.appendChild(s),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(s),!0):this._backTo(i)}_parseChoiceElement(e){const t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(t),!1;i.push(r)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new Za(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const s=new uE(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(s),!0;if(!this._parse(s))return e.appendChild(new Za("${"+t+":")),s.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(s)?(e.appendChild(s),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(s),!0):this._backTo(i)}_parseTransform(e){let t=new SG,i="",r="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(6,!0)||s,i+=s;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(5,!0)||this._accept(6,!0)||s,t.appendChild(new Za(s));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,r)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let r=this._accept(8,!0);if(r)if(i){if(this._accept(4))return e.appendChild(new ld(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new ld(Number(r))),!0;else return this._backTo(t),!1;if(this._accept(6)){let s=this._accept(9,!0);return!s||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new ld(Number(r),s)),!0)}else if(this._accept(11)){let s=this._until(4);if(s)return e.appendChild(new ld(Number(r),void 0,s,void 0)),!0}else if(this._accept(12)){let s=this._until(4);if(s)return e.appendChild(new ld(Number(r),void 0,void 0,s)),!0}else if(this._accept(13)){let s=this._until(1);if(s){let o=this._until(4);if(o)return e.appendChild(new ld(Number(r),void 0,s,o)),!0}}else{let s=this._until(4);if(s)return e.appendChild(new ld(Number(r),void 0,void 0,s)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new Za(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}const Fs=new Uint8Array(16),Xo=[];for(let n=0;n<256;n++)Xo.push(n.toString(16).padStart(2,"0"));let QV;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?QV=crypto.getRandomValues.bind(crypto):QV=function(n){for(let e=0;e<n.length;e++)n[e]=Math.floor(Math.random()*256);return n};function c2t(){QV(Fs),Fs[6]=Fs[6]&15|64,Fs[8]=Fs[8]&63|128;let n=0,e="";return e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+="-",e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+="-",e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+="-",e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+="-",e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e+=Xo[Fs[n++]],e}const JV="code-workspace";L("codeWorkspace","Code Workspace");function kse(n){const e=n;return typeof(e==null?void 0:e.id)=="string"&&zt.isUri(e.uri)}function d2t(n){if(n.configuration)return{id:n.id,configPath:n.configuration};if(n.folders.length===1)return{id:n.id,uri:n.folders[0].uri}}Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class h2t{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let i=t.resolve(e);if(i!==void 0)return i}}}class f2t{constructor(e,t,i,r){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=r}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){const s=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);s&&(i=s.value,r=s.multiline)}if(i&&r&&e.snippet){const s=this._model.getLineContent(this._selection.startLineNumber),o=bi(s,0,this._selection.startColumn-1);let a=o;e.snippet.walk(u=>u===e?!1:(u instanceof Za&&(a=bi(ef(u.value).pop())),!0));const l=Fy(a,o);i=i.replace(/(\r\n|\r|\n)(.*)/g,(u,c,d)=>`${c}${a.substr(l)}${d}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}class g2t{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return i_(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const i=i_(this._model.uri.fsPath),r=i.lastIndexOf(".");return r<=0?i:i.slice(0,r)}else{if(t==="TM_DIRECTORY")return Oge(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(Xj(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class p2t{constructor(e,t,i,r){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=r}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(!!t){if(this._spread){const i=t.split(/\r\n|\n|\r/).filter(r=>!Hge(r));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}}class m2t{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=cs.getComments(i);if(!!r){if(t==="LINE_COMMENT")return r.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return r.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return r.blockCommentEndToken||void 0}}}class $h{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return $h.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return $h.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return $h.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return $h.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}$h.dayNames=[L("Sunday","Sunday"),L("Monday","Monday"),L("Tuesday","Tuesday"),L("Wednesday","Wednesday"),L("Thursday","Thursday"),L("Friday","Friday"),L("Saturday","Saturday")];$h.dayNamesShort=[L("SundayShort","Sun"),L("MondayShort","Mon"),L("TuesdayShort","Tue"),L("WednesdayShort","Wed"),L("ThursdayShort","Thu"),L("FridayShort","Fri"),L("SaturdayShort","Sat")];$h.monthNames=[L("January","January"),L("February","February"),L("March","March"),L("April","April"),L("May","May"),L("June","June"),L("July","July"),L("August","August"),L("September","September"),L("October","October"),L("November","November"),L("December","December")];$h.monthNamesShort=[L("JanuaryShort","Jan"),L("FebruaryShort","Feb"),L("MarchShort","Mar"),L("AprilShort","Apr"),L("MayShort","May"),L("JuneShort","Jun"),L("JulyShort","Jul"),L("AugustShort","Aug"),L("SeptemberShort","Sep"),L("OctoberShort","Oct"),L("NovemberShort","Nov"),L("DecemberShort","Dec")];class v2t{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=d2t(this._workspaceService.getWorkspace());if(!!t){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(kse(e))return i_(e.uri.path);let t=i_(e.configPath.path);return t.endsWith(JV)&&(t=t.substr(0,t.length-JV.length-1)),t}_resoveWorkspacePath(e){if(kse(e))return xV(e.uri.fsPath);let t=i_(e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?xV(i):"/"}}class _2t{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return c2t()}}class hc{constructor(e,t,i,r){this._editor=e,this._snippet=t,this._offset=i,this._snippetLineLeadingWhitespace=r,this._nestingLevel=1,this._placeholderGroups=Cte(t.placeholders,Cc.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const r=this._snippet.offset(i),s=this._snippet.fullLen(i),o=Y.fromPositions(e.getPositionAt(this._offset+r),e.getPositionAt(this._offset+r+s)),a=i.isFinalTabstop?hc._decor.inactiveFinal:hc._decor.inactive,l=t.addDecoration(o,a);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let r=[];for(const s of this._placeholderGroups[this._placeholderGroupsIdx])if(s.transform){const o=this._placeholderDecorations.get(s),a=this._editor.getModel().getDecorationRange(o),l=this._editor.getModel().getValueInRange(a),u=s.transform.resolve(l).split(/\r\n|\r|\n/);for(let c=1;c<u.length;c++)u[c]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+u[c]);r.push(Sr.replace(a,u.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(r=>{const s=new Set,o=[];for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){const l=this._placeholderDecorations.get(a),u=this._editor.getModel().getDecorationRange(l);o.push(new vt(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),r.changeDecorationOptions(l,a.isFinalTabstop?hc._decor.activeFinal:hc._decor.active),s.add(a);for(const c of this._snippet.enclosingPlaceholders(a)){const d=this._placeholderDecorations.get(c);r.changeDecorationOptions(d,c.isFinalTabstop?hc._decor.activeFinal:hc._decor.active),s.add(c)}}for(const[a,l]of this._placeholderDecorations)s.has(a)||r.changeDecorationOptions(l,a.isFinalTabstop?hc._decor.inactiveFinal:hc._decor.inactive);return o});return t?this.move(e):i!=null?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Cc){const i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const r of t){if(r.isFinalTabstop)break;i||(i=[],e.set(r.index,i));const s=this._placeholderDecorations.get(r),o=this._editor.getModel().getDecorationRange(s);if(!o){e.delete(r.index);break}i.push(o)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const r of this._placeholderGroups[this._placeholderGroupsIdx]){const s=e.shift();console.assert(!s._placeholderDecorations);const o=s._snippet.placeholderInfo.last.index;for(const l of s._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=r.index+(o+1)/this._nestingLevel:l.index=r.index+l.index/this._nestingLevel;this._snippet.replace(r,s._snippet.children);const a=this._placeholderDecorations.get(r);i.removeDecoration(a),this._placeholderDecorations.delete(r);for(const l of s._snippet.placeholders){const u=s._snippet.offset(l),c=s._snippet.fullLen(l),d=Y.fromPositions(t.getPositionAt(s._offset+u),t.getPositionAt(s._offset+u+c)),h=i.addDecoration(d,hc._decor.inactive);this._placeholderDecorations.set(l,h)}}this._placeholderGroups=Cte(this._snippet.placeholders,Cc.compareByIndex)})}}hc._decor={active:dn.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:dn.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:dn.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:dn.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Ese={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class ph{constructor(e,t,i=Ese){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}static adjustWhitespace(e,t,i,r,s){const o=e.getLineContent(t.lineNumber),a=bi(o,0,t.column-1);let l;return i.walk(u=>{if(!(u instanceof Za)||u.parent instanceof TD)return!0;const c=u.value.split(/\r\n|\r|\n/);if(r){const h=i.offset(u);if(h===0)c[0]=e.normalizeIndentation(c[0]);else{l=l!=null?l:i.toString();let f=l.charCodeAt(h-1);(f===10||f===13)&&(c[0]=e.normalizeIndentation(a+c[0]))}for(let f=1;f<c.length;f++)c[f]=e.normalizeIndentation(a+c[f])}const d=c.join(e.getEOL());return d!==u.value&&(u.parent.replace(u,[new Za(d)]),l=void 0),!0}),a}static adjustSelection(e,t,i,r){if(i!==0||r!==0){const{positionLineNumber:s,positionColumn:o}=t,a=o-i,l=o+r,u=e.validateRange({startLineNumber:s,startColumn:a,endLineNumber:s,endColumn:l});t=vt.createWithDirection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,i,r,s,o,a,l){const u=[],c=[];if(!e.hasModel())return{edits:u,snippets:c};const d=e.getModel(),h=e.invokeWithinContext(w=>w.get(Mve)),f=e.invokeWithinContext(w=>new g2t(w.get(mD),d)),g=()=>a;let p=0,m=d.getValueInRange(ph.adjustSelection(d,e.getSelection(),i,0)),b=d.getValueInRange(ph.adjustSelection(d,e.getSelection(),0,r)),_=d.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const C=e.getSelections().map((w,S)=>({selection:w,idx:S})).sort((w,S)=>Y.compareRangesUsingStarts(w.selection,S.selection));for(const{selection:w,idx:S}of C){let D=ph.adjustSelection(d,w,i,0),E=ph.adjustSelection(d,w,0,r);m!==d.getValueInRange(D)&&(D=w),b!==d.getValueInRange(E)&&(E=w);const I=w.setStartPosition(D.startLineNumber,D.startColumn).setEndPosition(E.endLineNumber,E.endColumn),T=new gP().parse(t,!0,s),M=I.getStartPosition(),A=ph.adjustWhitespace(d,M,T,o||S>0&&_!==d.getLineFirstNonWhitespaceColumn(w.positionLineNumber),!0);T.resolveVariables(new h2t([f,new p2t(g,S,C.length,e.getOption(71)==="spread"),new f2t(d,w,S,l),new m2t(d,w),new $h,new v2t(h),new _2t]));const O=d.getOffsetAt(M)+p;p+=T.toString().length-d.getValueLengthInRange(I),u[S]=Sr.replace(I,T.toString()),u[S].identifier={major:S,minor:0},c[S]=new hc(e,T,O,A)}return{edits:u,snippets:c}}dispose(){jn(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=ph.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,i=>this._snippets[0].hasPlaceholder?this._move(!0):i.filter(r=>!!r.identifier).map(r=>vt.fromPositions(r.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=Ese){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:r}=ph.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",i,s=>{for(const o of this._snippets)o.merge(r);return console.assert(r.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):s.filter(o=>!!o.identifier).map(o=>vt.fromPositions(o.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const r=i.move(e);t.push(...r)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const i of this._snippets){const r=i.computePossibleSelections();if(t.size===0)for(const[s,o]of r){o.sort(Y.compareRangesUsingStarts);for(const a of e)if(o[0].containsRange(a)){t.set(s,[]);break}}if(t.size===0)return!1;t.forEach((s,o)=>{s.push(...r.get(o))})}e.sort(Y.compareRangesUsingStarts);for(let[i,r]of t){if(r.length!==e.length){t.delete(i);continue}r.sort(Y.compareRangesUsingStarts);for(let s=0;s<r.length;s++)if(!r[s].containsRange(e[s])){t.delete(i);continue}}return t.size>0}}var mL=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const On={Visible:new St("suggestWidgetVisible",!1,L("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new St("suggestWidgetDetailsVisible",!1,L("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new St("suggestWidgetMultipleSuggestions",!1,L("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new St("suggestionMakesTextEdit",!0,L("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new St("acceptSuggestionOnEnter",!0,L("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new St("suggestionHasInsertAndReplaceRange",!1,L("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new St("suggestionInsertMode",void 0,{type:"string",description:L("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new St("suggestionCanResolve",!1,L("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},uv=new _e("suggestWidgetStatusBar");class b2t{constructor(e,t,i,r){this.position=e,this.completion=t,this.container=i,this.provider=r,this.isInvalid=!1,this.score=Ed.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),Y.isIRange(t.range)?(this.editStart=new Ae(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new Ae(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new Ae(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||Y.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new Ae(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new Ae(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new Ae(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||Y.spansMultipleLines(t.range.insert)||Y.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof r.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return mL(this,void 0,void 0,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(i=>{Object.assign(this.completion,i),this._isResolved=!0,t.dispose()},i=>{pf(i)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class SR{constructor(e=2,t=new Set,i=new Set,r=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=r}}SR.default=new SR;let C2t;function y2t(){return C2t}class w2t{constructor(e,t,i,r){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=r}}function f1e(n,e,t=SR.default,i={triggerKind:0},r=En.None){return mL(this,void 0,void 0,function*(){const s=new Ou(!0);e=e.clone();const o=n.getWordAtPosition(e),a=o?new Y(e.lineNumber,o.startColumn,e.lineNumber,o.endColumn):Y.fromPositions(e),l={replace:a,insert:a.setEndPosition(e.lineNumber,e.column)},u=[],c=new it,d=[];let h=!1;const f=(p,m,b)=>{var _,C,w;let S=!1;if(!m)return S;for(let D of m.suggestions)if(!t.kindFilter.has(D.kind)){if(!t.showDeprecated&&((_=D==null?void 0:D.tags)===null||_===void 0?void 0:_.includes(1)))continue;D.range||(D.range=l),D.sortText||(D.sortText=typeof D.label=="string"?D.label:D.label.label),!h&&D.insertTextRules&&D.insertTextRules&4&&(h=gP.guessNeedsClipboard(D.insertText)),u.push(new b2t(e,D,m,p)),S=!0}return HU(m)&&c.add(m),d.push({providerName:(C=p._debugDisplayName)!==null&&C!==void 0?C:"unkown_provider",elapsedProvider:(w=m.duration)!==null&&w!==void 0?w:-1,elapsedOverall:b.elapsed()}),S},g=(()=>mL(this,void 0,void 0,function*(){}))();for(let p of fd.orderedGroups(n)){let m=!1;if(yield Promise.all(p.map(b=>mL(this,void 0,void 0,function*(){if(!(t.providerFilter.size>0&&!t.providerFilter.has(b)))try{const _=new Ou(!0),C=yield b.provideCompletionItems(n,e,i,r);m=f(b,C,_)||m}catch(_){Ys(_)}}))),m||r.isCancellationRequested)break}return yield g,r.isCancellationRequested?(c.dispose(),Promise.reject(WU())):new w2t(u.sort(g1e(t.snippetSortOrder)),h,{entries:d,elapsed:s.elapsed()},c)})}function LG(n,e){if(n.sortTextLow&&e.sortTextLow){if(n.sortTextLow<e.sortTextLow)return-1;if(n.sortTextLow>e.sortTextLow)return 1}return n.completion.label<e.completion.label?-1:n.completion.label>e.completion.label?1:n.completion.kind-e.completion.kind}function S2t(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return LG(n,e)}function L2t(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return LG(n,e)}const pP=new Map;pP.set(0,S2t);pP.set(2,L2t);pP.set(1,LG);function g1e(n){return pP.get(n)}Vn.registerCommand("_executeCompletionItemProvider",(n,...e)=>mL(void 0,void 0,void 0,function*(){const[t,i,r,s]=e;Ii(zt.isUri(t)),Ii(Ae.isIPosition(i)),Ii(typeof r=="string"||!r),Ii(typeof s=="number"||!s);const o=yield n.get(Oa).createModelReference(t);try{const a={incomplete:!1,suggestions:[]},l=[],u=yield f1e(o.object.textEditorModel,Ae.lift(i),void 0,{triggerCharacter:r,triggerKind:r?1:0});for(const c of u.items)l.length<(s!=null?s:0)&&l.push(c.resolve(En.None)),a.incomplete=a.incomplete||c.container.incomplete,a.suggestions.push(c.completion);try{return yield Promise.all(l),a}finally{setTimeout(()=>u.disposable.dispose(),100)}}finally{o.dispose()}}));const eW=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};fd.register("*",eW);function k2t(n,e){setTimeout(()=>{var t;eW.onlyOnceSuggestions.push(...e),(t=n.getContribution("editor.contrib.suggestController"))===null||t===void 0||t.triggerSuggest(new Set().add(eW))},0)}var E2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Dse=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Ise={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let ho=class _2{constructor(e,t,i){this._editor=e,this._logService=t,this._snippetListener=new it,this._modelVersionId=-1,this._inSnippet=_2.InSnippetMode.bindTo(i),this._hasNextTabstop=_2.HasNextTabstop.bindTo(i),this._hasPrevTabstop=_2.HasPrevTabstop.bindTo(i)}static get(e){return e.getContribution(_2.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t=="undefined"?Ise:Object.assign(Object.assign({},Ise),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){!this._editor.hasModel()||(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new ph(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(i=>i.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:e}=this._session;if(!e){this._currentChoice=void 0;return}if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(i=>vt.fromPositions(i.getStartPosition())));const[t]=e.options;k2t(this._editor,e.options.map((i,r)=>({kind:13,label:i.value,insertText:i.value,sortText:"a".repeat(r+1),range:Y.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};ho.ID="snippetController2";ho.InSnippetMode=new St("inSnippetMode",!1,L("inSnippetMode","Whether the editor in current in snippet mode"));ho.HasNextTabstop=new St("hasNextTabstop",!1,L("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));ho.HasPrevTabstop=new St("hasPrevTabstop",!1,L("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));ho=E2t([Dse(1,Uc),Dse(2,Zt)],ho);oi(ho.ID,ho);const mP=go.bindToContribution(ho.get);lt(new mP({id:"jumpToNextSnippetPlaceholder",precondition:_t.and(ho.InSnippetMode,ho.HasNextTabstop),handler:n=>n.next(),kbOpts:{weight:100+30,kbExpr:ue.editorTextFocus,primary:2}}));lt(new mP({id:"jumpToPrevSnippetPlaceholder",precondition:_t.and(ho.InSnippetMode,ho.HasPrevTabstop),handler:n=>n.prev(),kbOpts:{weight:100+30,kbExpr:ue.editorTextFocus,primary:1026}}));lt(new mP({id:"leaveSnippet",precondition:ho.InSnippetMode,handler:n=>n.cancel(!0),kbOpts:{weight:100+30,kbExpr:ue.editorTextFocus,primary:9,secondary:[1033]}}));lt(new mP({id:"acceptSnippet",precondition:ho.InSnippetMode,handler:n=>n.finish()}));var D2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Tse=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class kG{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;let r=i[0].score[0];for(let s=0;s<i.length;s++){const{score:o,completion:a}=i[s];if(o[0]!==r)break;if(a.preselect)return s}return 0}}class p1e extends kG{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}class I2t extends kG{constructor(){super("recentlyUsed");this._cache=new kv(300,.66),this._seq=0}memorize(e,t,i){const r=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(r,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;const r=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(r))return super.select(e,t,i);let s=i[0].score[0],o=-1,a=-1,l=-1;for(let u=0;u<i.length&&i[u].score[0]===s;u++){const c=`${e.getLanguageId()}/${i[u].textLabel}`,d=this._cache.peek(c);if(d&&d.touch>l&&d.type===i[u].completion.kind&&d.insertText===i[u].completion.insertText&&(l=d.touch,a=u),i[u].completion.preselect&&o===-1)return o=u}return a!==-1?a:o!==-1?o:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();let t=0;for(const[i,r]of e)r.touch=t,r.type=typeof r.type=="number"?r.type:fk.fromString(r.type),this._cache.set(i,r);this._seq=this._cache.size}}class T2t extends kG{constructor(){super("recentlyUsedByPrefix");this._trie=zC.forStrings(),this._seq=0}memorize(e,t,i){const{word:r}=e.getWordUntilPosition(t),s=`${e.getLanguageId()}/${r}`;this._trie.set(s,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){let{word:r}=e.getWordUntilPosition(t);if(!r)return super.select(e,t,i);let s=`${e.getLanguageId()}/${r}`,o=this._trie.get(s);if(o||(o=this._trie.findSubstr(s)),o)for(let a=0;a<i.length;a++){let{kind:l,insertText:u}=i[a].completion;if(l===o.type&&u===o.insertText)return a}return super.select(e,t,i)}toJSON(){let e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type=typeof i.type=="number"?i.type:fk.fromString(i.type),this._trie.set(t,i)}}}let cE=class Bx{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new it,this._persistSoon=new Ni(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===fR.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==r){this._saveState();const s=Bx._strategyCtors.get(r)||p1e;this._strategy=new s;try{const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${Bx._storagePrefix}/${r}`,a);l&&this._strategy.fromJSON(JSON.parse(l))}catch{}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${Bx._storagePrefix}/${this._strategy.name}`,i,t,1)}}};cE._strategyCtors=new Map([["recentlyUsedByPrefix",T2t],["recentlyUsed",I2t],["first",p1e]]);cE._storagePrefix="suggest/memories";cE=D2t([Tse(0,yf),Tse(1,Mi)],cE);const m1e=Pn("ISuggestMemories");qn(m1e,cE,!0);var N2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},x2t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let dE=class v1e{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=v1e.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(111)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(111)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const i=this._editor.getModel(),r=this._editor.getSelection(),s=i.getWordAtPosition(r.getStartPosition());if(!s){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(s.endColumn===r.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};dE.AtEnd=new St("atEndOfWord",!1);dE=N2t([x2t(1,Zt)],dE);var M2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},A2t=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let J_=class $x{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=$x.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if($x._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let r=i;for(;r=(r+t.items.length+(e?1:-1))%t.items.length,!(r===i||!t.items[r].completion.additionalTextEdits););return r}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(!!this._model)try{this._ignore=!0,this._index=$x._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};J_.OtherSuggestions=new St("hasOtherSuggestions",!1);J_=M2t([A2t(1,Zt)],J_);class R2t{constructor(e,t,i){this._disposables=new it,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(r=>{if(this._active&&!t.isFrozen()){const s=r.charCodeAt(r.length-1);this._active.acceptCharacters.has(s)&&e.getOption(0)&&i(this._active.item)}}))}_onItem(e){if(!e||!nl(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new hC;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var O2t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Sl{provideSelectionRanges(e,t){return O2t(this,void 0,void 0,function*(){const i=[];for(const r of t){const s=[];i.push(s);const o=new Map;yield new Promise(a=>Sl._bracketsRightYield(a,0,e,r,o)),yield new Promise(a=>Sl._bracketsLeftYield(a,0,e,r,o,s))}return i})}static _bracketsRightYield(e,t,i,r,s){const o=new Map,a=Date.now();for(;;){if(t>=Sl._maxRounds){e();break}if(!r){e();break}let l=i.bracketPairs.findNextBracket(r);if(!l){e();break}if(Date.now()-a>Sl._maxDuration){setTimeout(()=>Sl._bracketsRightYield(e,t+1,i,r,s));break}const c=l.close[0];if(l.isOpen){let d=o.has(c)?o.get(c):0;o.set(c,d+1)}else{let d=o.has(c)?o.get(c):0;if(d-=1,o.set(c,Math.max(0,d)),d<0){let h=s.get(c);h||(h=new Ml,s.set(c,h)),h.push(l.range)}}r=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,r,s,o){const a=new Map,l=Date.now();for(;;){if(t>=Sl._maxRounds&&s.size===0){e();break}if(!r){e();break}let u=i.bracketPairs.findPrevBracket(r);if(!u){e();break}if(Date.now()-l>Sl._maxDuration){setTimeout(()=>Sl._bracketsLeftYield(e,t+1,i,r,s,o));break}const d=u.close[0];if(u.isOpen){let h=a.has(d)?a.get(d):0;if(h-=1,a.set(d,Math.max(0,h)),h<0){let f=s.get(d);if(f){let g=f.shift();f.size===0&&s.delete(d);const p=Y.fromPositions(u.range.getEndPosition(),g.getStartPosition()),m=Y.fromPositions(u.range.getStartPosition(),g.getEndPosition());o.push({range:p}),o.push({range:m}),Sl._addBracketLeading(i,m,o)}}}else{let h=a.has(d)?a.get(d):0;a.set(d,h+1)}r=u.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const r=t.startLineNumber,s=e.getLineFirstNonWhitespaceColumn(r);s!==0&&s!==t.startColumn&&(i.push({range:Y.fromPositions(new Ae(r,s),t.getEndPosition())}),i.push({range:Y.fromPositions(new Ae(r,1),t.getEndPosition())}));const o=r-1;if(o>0){const a=e.getLineFirstNonWhitespaceColumn(o);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(o)&&(i.push({range:Y.fromPositions(new Ae(o,a),t.getEndPosition())}),i.push({range:Y.fromPositions(new Ae(o,1),t.getEndPosition())}))}}}Sl._maxDuration=30;Sl._maxRounds=2;var P2t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Sh{static create(e,t){return P2t(this,void 0,void 0,function*(){if(!t.getOption(106).localityBonus||!t.hasModel())return Sh.None;const i=t.getModel(),r=t.getPosition();if(!e.canComputeWordRanges(i.uri))return Sh.None;const[s]=yield new Sl().provideSelectionRanges(i,[r]);if(s.length===0)return Sh.None;const o=yield e.computeWordRanges(i.uri,s[0].range);if(!o)return Sh.None;const a=i.getWordUntilPosition(r);return delete o[a.word],new class extends Sh{distance(l,u){if(!r.equals(t.getPosition()))return 0;if(u.kind===17)return 2<<20;let c=typeof u.label=="string"?u.label:u.label.label,d=o[c];if(yge(d))return 2<<20;let h=PU(d,Y.fromPositions(l),Y.compareRangesUsingStarts),f=h>=0?d[h]:d[Math.max(0,~h-1)],g=s.length;for(const p of s){if(!Y.containsRange(p.range,f))break;g-=1}return g}}})}}Sh.None=new class extends Sh{distance(){return 0}};class k0{constructor(e,t,i,r,s,o,a){this.clipboardText=a,this._snippetCompareFn=k0._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=r,this._options=s,this._refilterKind=1,this._lineContext=i,o==="top"?this._snippetCompareFn=k0._compareCompletionItemsSnippetsUp:o==="bottom"&&(this._snippetCompareFn=k0._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let r="",s="";const o=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||o.length>2e3?tw:Wvt;for(let u=0;u<o.length;u++){const c=o[u];if(c.isInvalid)continue;this._providerInfo.set(c.provider,Boolean(c.container.incomplete));const d=c.position.column-c.editStart.column,h=d+i-(c.position.column-this._column);if(r.length!==h&&(r=h===0?"":t.slice(-h),s=r.toLowerCase()),c.word=r,h===0)c.score=Ed.Default;else{let f=0;for(;f<d;){const g=r.charCodeAt(f);if(g===32||g===9)f+=1;else break}if(f>=h)c.score=Ed.Default;else if(typeof c.completion.filterText=="string"){let g=l(r,s,f,c.completion.filterText,c.filterTextLow,0,!1);if(!g)continue;F9(c.completion.filterText,c.textLabel)===0?c.score=g:(c.score=Fvt(r,s,f,c.textLabel,c.labelLow,0),c.score[0]=g[0])}else{let g=l(r,s,f,c.textLabel,c.labelLow,0,!1);if(!g)continue;c.score=g}}c.idx=u,c.distance=this._wordDistance.distance(c.position,c.completion),a.push(c),e.push(c.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?D9(e.length-.85,e,(u,c)=>u-c):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return k0._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return k0._compareCompletionItems(e,t)}}var F2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Nb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},B2t=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class xb{constructor(e,t,i,r){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=r}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);const r=t.getWordAtPosition(i);return!(!r||r.endColumn!==i.column||!isNaN(Number(r.word)))}}function $2t(n,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const i=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return i!==void 0?Boolean(i):!1}function V2t(n,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const i=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return i!==void 0?Boolean(i):!1}let tW=class _1e{constructor(e,t,i,r,s,o,a){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=r,this._logService=s,this._contextKeyService=o,this._configurationService=a,this._toDispose=new it,this._quickSuggestDelay=10,this._triggerCharacterListener=new it,this._triggerQuickSuggest=new Ra,this._state=0,this._completionDisposables=new it,this._onDidCancel=new Le,this._onDidTrigger=new Le,this._onDidSuggest=new Le,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new vt(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(fd.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let l=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{l=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{l=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(u=>{l||this._onCursorChange(u)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{l||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){jn(this._triggerCharacterListener),jn([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const e=new Map;for(const i of fd.all(this._editor.getModel()))for(const r of i.triggerCharacters||[]){let s=e.get(r);s||(s=new Set,s.add(y2t()),e.set(r,s)),s.add(i)}const t=i=>{if(!V2t(this._editor,this._contextKeyService,this._configurationService)||xb.shouldAutoTrigger(this._editor))return;if(!i){const o=this._editor.getPosition();i=this._editor.getModel().getLineContent(o.lineNumber).substr(0,o.column-1)}let r="";x_(i.charCodeAt(i.length-1))?ps(i.charCodeAt(i.length-2))&&(r=i.substr(i.length-2)):r=i.charAt(i.length-1);const s=e.get(r);if(s){const o=this._completionModel?{items:this._completionModel.adopt(s),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:r},Boolean(this._completionModel),s,o)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._state}cancel(e=!1){var t;this._state!==0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!fd.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._state===0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;this._editor.getOption(79)!==!1&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&((e=ho.get(this._editor))===null||e===void 0?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!xb.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getPosition(),r=this._editor.getOption(79);if(r!==!1){if(r!==!0){t.tokenizeIfCheap(i.lineNumber);const s=t.getLineTokens(i.lineNumber),o=s.getStandardTokenType(s.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(!(r.other&&o===0||r.comments&&o===1||r.strings&&o===2))return}!$2t(this._editor,this._contextKeyService,this._configurationService)||!fd.has(t)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=new xb(e,t,this._state===2,!1);this._onNewContext(i)})}trigger(e,t=!1,i,r){var s;if(!this._editor.hasModel())return;const o=this._editor.getModel(),a=e.auto,l=new xb(o,this._editor.getPosition(),a,e.shy);this.cancel(t),this._state=a?2:1,this._onDidTrigger.fire({auto:a,shy:e.shy,position:this._editor.getPosition()}),this._context=l;let u={triggerKind:(s=e.triggerKind)!==null&&s!==void 0?s:0};e.triggerCharacter&&(u={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new co;const c=this._editor.getOption(101);let d=1;switch(c){case"top":d=0;break;case"bottom":d=2;break}const{itemKind:h,showDeprecated:f}=_1e._createSuggestFilter(this._editor),g=Sh.create(this._editorWorkerService,this._editor),p=f1e(o,this._editor.getPosition(),new SR(d,h,i,f),u,this._requestToken.token);Promise.all([p,g]).then(([m,b])=>B2t(this,void 0,void 0,function*(){var _;if((_=this._requestToken)===null||_===void 0||_.dispose(),!this._editor.hasModel())return;let C=r==null?void 0:r.clipboardText;if(!C&&m.needsClipboard&&(C=yield this._clipboardService.readText()),this._state===0)return;const w=this._editor.getModel();let S=m.items;if(r){const E=g1e(d);S=S.concat(r.items).sort(E)}const D=new xb(w,this._editor.getPosition(),a,e.shy);this._completionModel=new k0(S,this._context.column,{leadingLineContent:D.leadingLineContent,characterCountDelta:D.column-this._context.column},b,this._editor.getOption(106),this._editor.getOption(101),C),this._completionDisposables.add(m.disposable),this._onNewContext(D),this._reportDurationsTelemetry(m.durations)})).catch(Qt)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;e.getOption(101)==="none"&&t.add(27);const r=e.getOption(106);return r.showMethods||t.add(0),r.showFunctions||t.add(1),r.showConstructors||t.add(2),r.showFields||t.add(3),r.showVariables||t.add(4),r.showClasses||t.add(5),r.showStructs||t.add(6),r.showInterfaces||t.add(7),r.showModules||t.add(8),r.showProperties||t.add(9),r.showEvents||t.add(10),r.showOperators||t.add(11),r.showUnits||t.add(12),r.showValues||t.add(13),r.showConstants||t.add(14),r.showEnums||t.add(15),r.showEnumMembers||t.add(16),r.showKeywords||t.add(17),r.showWords||t.add(18),r.showColors||t.add(19),r.showFiles||t.add(20),r.showReferences||t.add(21),r.showColors||t.add(22),r.showFolders||t.add(23),r.showTypeParameters||t.add(24),r.showSnippets||t.add(27),r.showUsers||t.add(25),r.showIssues||t.add(26),{itemKind:t,showDeprecated:r.showDeprecated}}_onNewContext(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(bi(e.leadingLineContent)!==bi(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const t=new Set(fd.all(this._editor.getModel()));for(let r of this._completionModel.allProvider)t.delete(r);const i=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,t,{items:i,clipboardText:this._completionModel.clipboardText});return}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){const{incomplete:t}=this._completionModel,i=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,t,{items:i,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(xb.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:i})}}}}};tW=F2t([Nb(1,ju),Nb(2,O1),Nb(3,mf),Nb(4,Uc),Nb(5,Zt),Nb(6,Mi)],tW);class vP{constructor(e,t){this._disposables=new it,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;const i=e.getSelections(),r=i.length;let s=!1;for(let a=0;a<r;a++)if(!i[a].isEmpty()){s=!0;break}if(!s)return;this._lastOvertyped=[];const o=e.getModel();for(let a=0;a<r;a++){const l=i[a];if(o.getValueLengthInRange(l)>vP._maxSelectionLength)return;this._lastOvertyped[a]={value:o.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(i=>{!this._empty&&!i.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}vP._maxSelectionLength=51200;var W2t=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},h6=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class EG extends lw{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=L("ddd","{0} ({1})",this._action.label,EG.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let nW=class{constructor(e,t,i,r){this._menuService=i,this._contextKeyService=r,this._menuDisposables=new it,this.element=qe(e,et(".suggest-status-bar"));const s=o=>o instanceof Zm?t.createInstance(EG,o,void 0):void 0;this._leftActions=new sf(this.element,{actionViewItemProvider:s}),this._rightActions=new sf(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(uv,this._contextKeyService),t=()=>{const i=[],r=[];for(let[s,o]of e.getActions())s==="left"?i.push(...o):r.push(...o);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(r)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};nW=W2t([h6(1,Mn),h6(2,N1),h6(3,Zt)],nW);const H2t=ce("symbolIcon.arrayForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z2t=ce("symbolIcon.booleanForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U2t=ce("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},L("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j2t=ce("symbolIcon.colorForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K2t=ce("symbolIcon.constantForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G2t=ce("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},L("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q2t=ce("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},L("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y2t=ce("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},L("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),X2t=ce("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},L("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z2t=ce("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},L("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Q2t=ce("symbolIcon.fileForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),J2t=ce("symbolIcon.folderForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),eLt=ce("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},L("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tLt=ce("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},L("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nLt=ce("symbolIcon.keyForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),iLt=ce("symbolIcon.keywordForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rLt=ce("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},L("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sLt=ce("symbolIcon.moduleForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oLt=ce("symbolIcon.namespaceForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aLt=ce("symbolIcon.nullForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lLt=ce("symbolIcon.numberForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uLt=ce("symbolIcon.objectForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cLt=ce("symbolIcon.operatorForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dLt=ce("symbolIcon.packageForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hLt=ce("symbolIcon.propertyForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fLt=ce("symbolIcon.referenceForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gLt=ce("symbolIcon.snippetForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pLt=ce("symbolIcon.stringForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mLt=ce("symbolIcon.structForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vLt=ce("symbolIcon.textForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_Lt=ce("symbolIcon.typeParameterForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bLt=ce("symbolIcon.unitForeground",{dark:Lt,light:Lt,hc:Lt},L("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),CLt=ce("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},L("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Hi((n,e)=>{const t=n.getColor(H2t);t&&e.addRule(`${k.symbolArray.cssSelector} { color: ${t}; }`);const i=n.getColor(z2t);i&&e.addRule(`${k.symbolBoolean.cssSelector} { color: ${i}; }`);const r=n.getColor(U2t);r&&e.addRule(`${k.symbolClass.cssSelector} { color: ${r}; }`);const s=n.getColor(rLt);s&&e.addRule(`${k.symbolMethod.cssSelector} { color: ${s}; }`);const o=n.getColor(j2t);o&&e.addRule(`${k.symbolColor.cssSelector} { color: ${o}; }`);const a=n.getColor(K2t);a&&e.addRule(`${k.symbolConstant.cssSelector} { color: ${a}; }`);const l=n.getColor(G2t);l&&e.addRule(`${k.symbolConstructor.cssSelector} { color: ${l}; }`);const u=n.getColor(q2t);u&&e.addRule(`
			${k.symbolValue.cssSelector},${k.symbolEnum.cssSelector} { color: ${u}; }`);const c=n.getColor(Y2t);c&&e.addRule(`${k.symbolEnumMember.cssSelector} { color: ${c}; }`);const d=n.getColor(X2t);d&&e.addRule(`${k.symbolEvent.cssSelector} { color: ${d}; }`);const h=n.getColor(Z2t);h&&e.addRule(`${k.symbolField.cssSelector} { color: ${h}; }`);const f=n.getColor(Q2t);f&&e.addRule(`${k.symbolFile.cssSelector} { color: ${f}; }`);const g=n.getColor(J2t);g&&e.addRule(`${k.symbolFolder.cssSelector} { color: ${g}; }`);const p=n.getColor(eLt);p&&e.addRule(`${k.symbolFunction.cssSelector} { color: ${p}; }`);const m=n.getColor(tLt);m&&e.addRule(`${k.symbolInterface.cssSelector} { color: ${m}; }`);const b=n.getColor(nLt);b&&e.addRule(`${k.symbolKey.cssSelector} { color: ${b}; }`);const _=n.getColor(iLt);_&&e.addRule(`${k.symbolKeyword.cssSelector} { color: ${_}; }`);const C=n.getColor(sLt);C&&e.addRule(`${k.symbolModule.cssSelector} { color: ${C}; }`);const w=n.getColor(oLt);w&&e.addRule(`${k.symbolNamespace.cssSelector} { color: ${w}; }`);const S=n.getColor(aLt);S&&e.addRule(`${k.symbolNull.cssSelector} { color: ${S}; }`);const D=n.getColor(lLt);D&&e.addRule(`${k.symbolNumber.cssSelector} { color: ${D}; }`);const E=n.getColor(uLt);E&&e.addRule(`${k.symbolObject.cssSelector} { color: ${E}; }`);const I=n.getColor(cLt);I&&e.addRule(`${k.symbolOperator.cssSelector} { color: ${I}; }`);const T=n.getColor(dLt);T&&e.addRule(`${k.symbolPackage.cssSelector} { color: ${T}; }`);const M=n.getColor(hLt);M&&e.addRule(`${k.symbolProperty.cssSelector} { color: ${M}; }`);const A=n.getColor(fLt);A&&e.addRule(`${k.symbolReference.cssSelector} { color: ${A}; }`);const O=n.getColor(gLt);O&&e.addRule(`${k.symbolSnippet.cssSelector} { color: ${O}; }`);const F=n.getColor(pLt);F&&e.addRule(`${k.symbolString.cssSelector} { color: ${F}; }`);const U=n.getColor(mLt);U&&e.addRule(`${k.symbolStruct.cssSelector} { color: ${U}; }`);const V=n.getColor(vLt);V&&e.addRule(`${k.symbolText.cssSelector} { color: ${V}; }`);const G=n.getColor(_Lt);G&&e.addRule(`${k.symbolTypeParameter.cssSelector} { color: ${G}; }`);const j=n.getColor(bLt);j&&e.addRule(`${k.symbolUnit.cssSelector} { color: ${j}; }`);const X=n.getColor(CLt);X&&e.addRule(`${k.symbolVariable.cssSelector} { color: ${X}; }`)});class b1e{constructor(){this._onDidWillResize=new Le,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Le,this.onDidResize=this._onDidResize.event,this._sashListener=new it,this._size=new Ei(0,0),this._minSize=new Ei(0,0),this._maxSize=new Ei(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new wo(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new wo(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new wo(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:HA.North}),this._southSash=new wo(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:HA.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(xt.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(xt.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(r=>{e&&(i=r.currentX-r.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(r=>{e&&(i=-(r.currentX-r.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(r=>{e&&(t=-(r.currentY-r.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(r=>{e&&(t=r.currentY-r.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(xt.any(this._eastSash.onDidReset,this._westSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(xt.any(this._northSash.onDidReset,this._southSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,r){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=r?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:r}=this._minSize,{height:s,width:o}=this._maxSize;e=Math.max(i,Math.min(s,e)),t=Math.max(r,Math.min(o,t));const a=new Ei(t,e);Ei.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var yLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},wLt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function DG(n){return!!n&&Boolean(n.completion.documentation||n.completion.detail&&n.completion.detail!==n.completion.label)}let iW=class{constructor(e,t){this._editor=e,this._onDidClose=new Le,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Le,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new it,this._renderDisposeable=new it,this._borderWidth=1,this._size=new Ei(330,0),this.domNode=et(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Qg,{editor:e}),this._body=et(".body"),this._scrollbar=new dD(this._body,{}),qe(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=qe(this._body,et(".header")),this._close=qe(this._header,et("span"+k.close.cssSelector)),this._close.title=L("details.close","Close"),this._type=qe(this._header,et("p.type")),this._docs=qe(this._body,et("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(44),i=t.getMassagedFontFamily($c?jo.fontFamily:null),r=e.get(107)||t.fontSize,s=e.get(108)||t.lineHeight,o=t.fontWeight,a=`${r}px`,l=`${s}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${s/r}`,this.domNode.style.fontWeight=o,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){const e=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=L("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,r;this._renderDisposeable.clear();let{detail:s,documentation:o}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(r=e.completion.commitCharacters)===null||r===void 0?void 0:r.join("")}
`,o=new Fd().appendCodeblock("empty",a),s=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!DG(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),s){const a=s.length>1e5?`${s.substr(0,1e5)}\u2026`:s;this._type.textContent=a,this._type.title=a,Il(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else _s(this._type),this._type.title="",ka(this._type),this.domNode.classList.add("no-type");if(_s(this._docs),typeof o=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=o;else if(o){this._docs.classList.add("markdown-docs"),_s(this._docs);const a=this._markdownRenderer.render(o);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const i=new Ei(e,t);Ei.equals(i,this._size)||(this._size=i,Aut(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};iW=yLt([wLt(1,Mn)],iW);class SLt{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new it,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new b1e,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,r,s=0,o=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&r){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(o=r.width-a.dimension.width,l=!0),a.north&&(s=r.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+s,left:i.left+o})}a.done&&(i=void 0,r=void 0,s=0,o=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;const r=e.getBoundingClientRect();this._anchorBox=r,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var r;const s=i4(document.body),o=this.widget.getLayoutInfo(),a=new Ei(220,2*o.lineHeight),l=e.top,u=function(){const C=s.width-(e.left+e.width+o.borderWidth+o.horizontalPadding),w=-o.borderWidth+e.left+e.width,S=new Ei(C,s.height-e.top-o.borderHeight-o.verticalPadding),D=S.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:l,left:w,fit:C-t.width,maxSizeTop:S,maxSizeBottom:D,minSize:a.with(Math.min(C,a.width))}}(),c=function(){const C=e.left-o.borderWidth-o.horizontalPadding,w=Math.max(o.horizontalPadding,e.left-t.width-o.borderWidth),S=new Ei(C,s.height-e.top-o.borderHeight-o.verticalPadding),D=S.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:l,left:w,fit:C-t.width,maxSizeTop:S,maxSizeBottom:D,minSize:a.with(Math.min(C,a.width))}}(),d=function(){const C=e.left,w=-o.borderWidth+e.top+e.height,S=new Ei(e.width-o.borderHeight,s.height-e.top-e.height-o.verticalPadding);return{top:w,left:C,fit:S.height-t.height,maxSizeBottom:S,maxSizeTop:S,minSize:a.with(S.width)}}(),h=[u,c,d],f=(r=h.find(C=>C.fit>=0))!==null&&r!==void 0?r:h.sort((C,w)=>w.fit-C.fit)[0],g=e.top+e.height-o.borderHeight;let p,m=t.height;const b=Math.max(f.maxSizeTop.height,f.maxSizeBottom.height);m>b&&(m=b);let _;i?m<=f.maxSizeTop.height?(p=!0,_=f.maxSizeTop):(p=!1,_=f.maxSizeBottom):m<=f.maxSizeBottom.height?(p=!1,_=f.maxSizeBottom):(p=!0,_=f.maxSizeTop),this._applyTopLeft({left:f.left,top:p?f.top:g-m}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!p,f===u,p,f!==u),this._resizable.minSize=f.minSize,this._resizable.maxSize=_,this._resizable.layout(m,Math.min(_.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var _g;(function(n){n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER"})(_g||(_g={}));function QT(n,e,t,i){const r=i===_g.ROOT_FOLDER?["rootfolder-icon"]:i===_g.FOLDER?["folder-icon"]:["file-icon"];if(t){let s;if(t.scheme===on.data?s=ev.parseMetaData(t).get(ev.META_DATA_LABEL):s=Nse(zme(t).toLowerCase()),i===_g.FOLDER)r.push(`${s}-name-folder-icon`);else{if(s){if(r.push(`${s}-name-file-icon`),s.length<=255){const a=s.split(".");for(let l=1;l<a.length;l++)r.push(`${a.slice(l).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}const o=LLt(n,e,t);o&&r.push(`${Nse(o)}-lang-file-icon`)}}return r}function LLt(n,e,t){if(!t)return null;let i=null;if(t.scheme===on.data){const s=ev.parseMetaData(t).get(ev.META_DATA_MIME);s&&(i=e.getLanguageIdByMimeType(s))}else{const r=n.getModel(t);r&&(i=r.getLanguageId())}return i&&i!==_f?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function Nse(n){return n.replace(/[\11\12\14\15\40]/g,"/")}var kLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},f6=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},jS;function C1e(n){return`suggest-aria-id:${n}`}const ELt=ws("suggest-more-info",k.chevronRight,L("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),DLt=new(jS=class Vx{extract(e,t){if(e.textLabel.match(Vx._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(Vx._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){const i=Vx._regexRelaxed.exec(e.completion.documentation);if(i&&(i.index===0||i.index+i[0].length===e.completion.documentation.length))return t[0]=i[0],!0}return!1}},jS._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,jS._regexStrict=new RegExp(`^${jS._regexRelaxed.source}$`,"i"),jS);let rW=class{constructor(e,t,i,r){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=r,this._onDidToggleDetails=new Le,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new it,t.root=e,t.root.classList.add("show-file-icons"),t.icon=qe(e,et(".icon")),t.colorspan=qe(t.icon,et("span.colorspan"));const i=qe(e,et(".contents")),r=qe(i,et(".main"));t.iconContainer=qe(r,et(".icon-label.codicon")),t.left=qe(r,et("span.left")),t.right=qe(r,et("span.right")),t.iconLabel=new oR(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=qe(t.left,et("span.signature-label")),t.qualifierLabel=qe(t.left,et("span.qualifier-label")),t.detailsLabel=qe(t.right,et("span.details-label")),t.readMore=qe(t.right,et("span.readMore"+Ti.asCSSSelector(ELt))),t.readMore.title=L("readMore","Read More");const s=()=>{const o=this._editor.getOptions(),a=o.get(44),l=a.getMassagedFontFamily($c?jo.fontFamily:null),u=a.fontFeatureSettings,c=o.get(107)||a.fontSize,d=o.get(108)||a.lineHeight,h=a.fontWeight,f=`${c}px`,g=`${d}px`;t.root.style.fontSize=f,t.root.style.fontWeight=h,r.style.fontFamily=l,r.style.fontFeatureSettings=u,r.style.lineHeight=g,t.icon.style.height=g,t.icon.style.width=g,t.readMore.style.height=g,t.readMore.style.width=g};return s(),t.disposables.add(this._editor.onDidChangeConfiguration(o=>{(o.hasChanged(44)||o.hasChanged(107)||o.hasChanged(108))&&s()})),t}renderElement(e,t,i){const{completion:r}=e;i.root.id=C1e(t),i.colorspan.style.backgroundColor="";const s={labelEscapeNewLines:!0,matches:O4(e.score)};let o=[];if(r.kind===19&&DLt.extract(e,o))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=o[0];else if(r.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const a=QT(this._modelService,this._languageService,zt.from({scheme:"fake",path:e.textLabel}),_g.FILE),l=QT(this._modelService,this._languageService,zt.from({scheme:"fake",path:r.detail}),_g.FILE);s.extraClasses=a.length>l.length?a:l}else r.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",s.extraClasses=FU([QT(this._modelService,this._languageService,zt.from({scheme:"fake",path:e.textLabel}),_g.FOLDER),QT(this._modelService,this._languageService,zt.from({scheme:"fake",path:r.detail}),_g.FOLDER)])):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...ia.asClassNameArray(fk.toIcon(r.kind))));r.tags&&r.tags.indexOf(1)>=0&&(s.extraClasses=(s.extraClasses||[]).concat(["deprecated"]),s.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,s),typeof r.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=g6(r.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=g6(r.label.detail||""),i.detailsLabel.textContent=g6(r.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?Il(i.detailsLabel):ka(i.detailsLabel),DG(e)?(i.right.classList.add("can-expand-details"),Il(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),ka(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};rW=kLt([f6(1,sr),f6(2,fr),f6(3,Ki)],rW);function g6(n){return n.replace(/\r\n|\r|\n/g,"")}var ILt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},JT=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},TLt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};ce("editorSuggestWidget.background",{dark:aa,light:aa,hc:aa},L("editorSuggestWidgetBackground","Background color of the suggest widget."));ce("editorSuggestWidget.border",{dark:c_,light:c_,hc:c_},L("editorSuggestWidgetBorder","Border color of the suggest widget."));const p6=ce("editorSuggestWidget.foreground",{dark:Lm,light:Lm,hc:Lm},L("editorSuggestWidgetForeground","Foreground color of the suggest widget."));ce("editorSuggestWidget.selectedForeground",{dark:yx,light:yx,hc:yx},L("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));ce("editorSuggestWidget.selectedIconForeground",{dark:wx,light:wx,hc:wx},L("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const NLt=ce("editorSuggestWidget.selectedBackground",{dark:Sx,light:Sx,hc:Sx},L("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));ce("editorSuggestWidget.highlightForeground",{dark:Ig,light:Ig,hc:Ig},L("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));ce("editorSuggestWidget.focusHighlightForeground",{dark:UF,light:UF,hc:UF},L("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));ce("editorSuggestWidgetStatus.foreground",{dark:Kt(p6,.5),light:Kt(p6,.5),hc:Kt(p6,.5)},L("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class xLt{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Z_}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const i=JSON.parse(t);if(Ei.is(i))return Ei.lift(i)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let hE=class sW{constructor(e,t,i,r,s){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Ra,this._disposables=new it,this._onDidSelect=new Le,this._onDidFocus=new Le,this._onDidHide=new Le,this._onDidShow=new Le,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Le,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new b1e,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new MLt(this,e),this._persistedSize=new xLt(t,e);class o{constructor(f,g,p=!1,m=!1){this.persistedSize=f,this.currentSize=g,this.persistHeight=p,this.persistWidth=m}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new o(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(h=>{var f,g,p,m;if(this._resize(h.dimension.width,h.dimension.height),a&&(a.persistHeight=a.persistHeight||!!h.north||!!h.south,a.persistWidth=a.persistWidth||!!h.east||!!h.west),!!h.done){if(a){const{itemHeight:b,defaultSize:_}=this.getLayoutInfo(),C=Math.round(b/2);let{width:w,height:S}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-S)<=C)&&(S=(g=(f=a.persistedSize)===null||f===void 0?void 0:f.height)!==null&&g!==void 0?g:_.height),(!a.persistWidth||Math.abs(a.currentSize.width-w)<=C)&&(w=(m=(p=a.persistedSize)===null||p===void 0?void 0:p.width)!==null&&m!==void 0?m:_.width),this._persistedSize.store(new Ei(w,S))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=qe(this.element.domNode,et(".message")),this._listElement=qe(this.element.domNode,et(".tree"));const l=s.createInstance(iW,this.editor);l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new SLt(l,this.editor);const u=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);u();const c=s.createInstance(rW,this.editor);this._disposables.add(c),this._disposables.add(c.onDidToggleDetails(()=>this.toggleDetails())),this._list=new bf("SuggestWidget",this._listElement,{getHeight:h=>this.getLayoutInfo().itemHeight,getTemplateId:h=>"suggestion"},[c],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>L("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:h=>{let f=h.textLabel;if(typeof h.completion.label!="string"){const{detail:b,description:_}=h.completion.label;b&&_?f=L("label.full","{0}{1}, {2}",f,b,_):b?f=L("label.detail","{0}{1}",f,b):_&&(f=L("label.desc","{0}, {1}",f,_))}if(!h.isResolved||!this._isDetailsVisible())return f;const{documentation:g,detail:p}=h.completion,m=Su("{0}{1}",p||"",g?typeof g=="string"?g:g.value:"");return L("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",f,m)}}}),this._status=s.createInstance(nW,this.element.domNode);const d=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);d(),this._disposables.add(U_(this._list,r,{listInactiveFocusBackground:NLt,listInactiveFocusOutline:Go})),this._disposables.add(r.onDidColorThemeChange(h=>this._onThemeChange(h))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onTap(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onDidChangeSelection(h=>this._onListSelection(h))),this._disposables.add(this._list.onDidChangeFocus(h=>this._onListFocus(h))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(h=>{h.hasChanged(106)&&(d(),u())})),this._ctxSuggestWidgetVisible=On.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=On.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=On.MultipleSuggestions.bindTo(i),this._disposables.add(Ks(this._details.widget.domNode,"keydown",h=>{this._onDetailsKeydown.fire(h)})),this._disposables.add(this.editor.onMouseDown(h=>this._onEditorMouseDown(h)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=e.type==="hc"?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const i=e.elements[0],r=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(r),this._currentSuggestionDetails=qs(s=>TLt(this,void 0,void 0,function*(){const o=N_(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);s.onCancellationRequested(()=>o.dispose());const a=yield i.resolve(s);return o.dispose(),a})),this._currentSuggestionDetails.then(()=>{r>=this._list.length||i!==this._list.element(r)||(this._ignoreFocusEvents=!0,this._list.splice(r,1,[i]),this._list.setFocus([r]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:C1e(r)}))}).catch(Qt)),this._onDidFocus.fire({item:i,index:r,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:ka(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=sW.LOADING_MESSAGE,ka(this._listElement,this._status.element),Il(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=sW.NO_SUGGESTIONS_MESSAGE,ka(this._listElement,this._status.element),Il(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:ka(this._messageElement),Il(this._listElement,this._status.element),this._show();break;case 4:ka(this._messageElement),Il(this._listElement,this._status.element),this._show();break;case 5:ka(this._messageElement),Il(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=N_(()=>this._setState(1),t)))}showSuggestions(e,t,i,r){var s,o;if(this._contentWidget.setPosition(this.editor.getPosition()),(s=this._loadingTimeout)===null||s===void 0||s.dispose(),(o=this._currentSuggestionDetails)===null||o===void 0||o.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}const a=this._completionModel.items.length,l=a===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),l){this._setState(r?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(DG(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,i,r;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const s=i4(document.body),o=this.getLayoutInfo();e||(e=o.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.lineHeight=`${o.itemHeight}px`,this._state===2||this._state===1)a=o.itemHeight+o.borderHeight,l=o.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Ei(l,a),this._contentWidget.setPreference(2);else{const u=s.width-o.borderHeight-2*o.horizontalPadding;l>u&&(l=u);const c=this._completionModel?this._completionModel.stats.pLabelLen*o.typicalHalfwidthCharacterWidth:l,d=o.statusBarHeight+this._list.contentHeight+o.borderHeight,h=o.itemHeight+o.statusBarHeight,f=io(this.editor.getDomNode()),g=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),p=f.top+g.top+g.height,m=Math.min(s.height-p-o.verticalPadding,d),b=f.top+g.top-o.verticalPadding,_=Math.min(b,d);let C=Math.min(Math.max(_,m)+o.borderHeight,d);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<h&&(a=h),a>C&&(a=C);const w=150;a>m||this._forceRenderingAbove&&b>w?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),C=_):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),C=m),this.element.preferredSize=new Ei(c,o.defaultSize.height),this.element.maxSize=new Ei(u,C),this.element.minSize=new Ei(220,h),this._cappedHeight=a===d?{wanted:(r=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&r!==void 0?r:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){const{width:i,height:r}=this.element.maxSize;e=Math.min(i,e),t=Math.min(r,t);const{statusBarHeight:s}=this.getLayoutInfo();this._list.layout(t-s,e),this._listElement.style.height=`${t-s}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(44),t=qa(this.editor.getOption(108)||e.lineHeight,8,1e3),i=!this.editor.getOption(106).showStatusBar||this._state===2||this._state===1?0:t,r=this._details.widget.borderWidth,s=2*r;return{itemHeight:t,statusBarHeight:i,borderWidth:r,borderHeight:s,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Ei(430,i+12*t+s)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};hE.LOADING_MESSAGE=L("suggestWidget.loading","Loading...");hE.NO_SUGGESTIONS_MESSAGE=L("suggestWidget.noSuggestions","No suggestions.");hE=ILt([JT(1,yf),JT(2,Zt),JT(3,Ki),JT(4,Mn)],hE);class MLt{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:r}=this._widget.getLayoutInfo();return new Ei(t+2*i+r,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var ALt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Mb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class RLt{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const r=e.getOffsetAt(t),s=e.getPositionAt(r+1);this._marker=e.deltaDecorations([],[{range:Y.fromPositions(t,s),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let Ec=class y1e{constructor(e,t,i,r,s,o,a){this._memoryService=t,this._commandService=i,this._contextKeyService=r,this._instantiationService=s,this._logService=o,this._telemetryService=a,this._lineSuffix=new da,this._toDispose=new it,this._selectors=new OLt(d=>d.priority),this._telemetryGate=0,this.editor=e,this.model=s.createInstance(tW,this.editor);const l=On.InsertMode.bindTo(r);l.set(e.getOption(106).insertMode),this.model.onDidTrigger(()=>l.set(e.getOption(106).insertMode)),this.widget=this._toDispose.add(new bm(()=>{const d=this._instantiationService.createInstance(hE,this.editor);this._toDispose.add(d),this._toDispose.add(d.onDidSelect(m=>this._insertSuggestion(m,0),this));const h=new R2t(this.editor,d,m=>this._insertSuggestion(m,2));this._toDispose.add(h),this._toDispose.add(this.model.onDidSuggest(m=>{m.completionModel.items.length===0&&h.reset()}));const f=On.MakesTextEdit.bindTo(this._contextKeyService),g=On.HasInsertAndReplaceRange.bindTo(this._contextKeyService),p=On.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(_n(()=>{f.reset(),g.reset(),p.reset()})),this._toDispose.add(d.onDidFocus(({item:m})=>{const b=this.editor.getPosition(),_=m.editStart.column,C=b.column;let w=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!m.completion.additionalTextEdits&&!(m.completion.insertTextRules&4)&&C-_===m.completion.insertText.length&&(w=this.editor.getModel().getValueInRange({startLineNumber:b.lineNumber,startColumn:_,endLineNumber:b.lineNumber,endColumn:C})!==m.completion.insertText),f.set(w),g.set(!Ae.equals(m.editInsertEnd,m.editReplaceEnd)),p.set(Boolean(m.provider.resolveCompletionItem)||Boolean(m.completion.documentation)||m.completion.detail!==m.completion.label)})),this._toDispose.add(d.onDetailsKeyDown(m=>{if(m.toKeybinding().equals(new R_(!0,!1,!1,!1,33))||kn&&m.toKeybinding().equals(new R_(!1,!1,!1,!0,33))){m.stopPropagation();return}m.toKeybinding().isModifierKey()||this.editor.focus()})),d})),this._overtypingCapturer=this._toDispose.add(new bm(()=>this._toDispose.add(new vP(this.editor,this.model)))),this._alternatives=this._toDispose.add(new bm(()=>this._toDispose.add(new J_(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance(dE,e)),this._toDispose.add(this.model.onDidTrigger(d=>{this.widget.value.showTriggered(d.auto,d.shy?250:50),this._lineSuffix.value=new RLt(this.editor.getModel(),d.position)})),this._toDispose.add(this.model.onDidSuggest(d=>{if(!d.shy){let h=-1;for(const f of this._selectors.itemsOrderedByPriorityDesc)if(h=f.select(this.editor.getModel(),this.editor.getPosition(),d.completionModel.items),h!==-1)break;h===-1&&(h=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),d.completionModel.items)),this.widget.value.showSuggestions(d.completionModel,h,d.isFrozen,d.auto)}})),this._toDispose.add(this.model.onDidCancel(d=>{d.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let u=On.AcceptSuggestionsOnEnter.bindTo(r),c=()=>{const d=this.editor.getOption(1);u.set(d==="on"||d==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>c())),c()}static get(e){return e.getContribution(y1e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const i=ho.get(this.editor);if(!i)return;const r=this.editor.getModel(),s=r.getAlternativeVersionId(),{item:o}=e,a=[],l=new co;t&1||this.editor.pushUndoStop();const u=this.getOverwriteInfo(o,Boolean(t&8));if(this._memoryService.memorize(r,this.editor.getPosition(),o),Array.isArray(o.completion.additionalTextEdits)){const d=nv.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",o.completion.additionalTextEdits.map(h=>Sr.replace(Y.lift(h.range),h.text))),d.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!o.isResolved){const d=new Ou(!0);let h;const f=r.onDidChangeContent(b=>{if(b.isFlush){l.cancel(),f.dispose();return}for(let _ of b.changes){const C=Y.getEndPosition(_.range);(!h||Ae.isBefore(C,h))&&(h=C)}});let g=t;t|=2;let p=!1,m=this.editor.onWillType(()=>{m.dispose(),p=!0,g&2||this.editor.pushUndoStop()});a.push(o.resolve(l.token).then(()=>{if(!o.completion.additionalTextEdits||l.token.isCancellationRequested||h&&o.completion.additionalTextEdits.some(_=>Ae.isBefore(h,Y.getStartPosition(_.range))))return!1;p&&this.editor.pushUndoStop();const b=nv.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",o.completion.additionalTextEdits.map(_=>Sr.replace(Y.lift(_.range),_.text))),b.restoreRelativeVerticalPositionOfCursor(this.editor),(p||!(g&2))&&this.editor.pushUndoStop(),!0}).then(b=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",d.elapsed(),b),f.dispose(),m.dispose()}))}let{insertText:c}=o.completion;o.completion.insertTextRules&4||(c=gP.escape(c)),i.insert(c,{overwriteBefore:u.overwriteBefore,overwriteAfter:u.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(o.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),o.completion.command?o.completion.command.id===ND.id?this.model.trigger({auto:!0,shy:!1},!0):(a.push(this._commandService.executeCommand(o.completion.command.id,...o.completion.command.arguments?[...o.completion.command.arguments]:[]).catch(Qt)),this.model.cancel()):this.model.cancel(),t&4&&this._alternatives.value.set(e,d=>{for(l.cancel();r.canUndo();){s!==r.getAlternativeVersionId()&&r.undo(),this._insertSuggestion(d,3|(t&8?8:0));break}}),this._alertCompletionItem(o),Promise.all(a).finally(()=>{this._reportSuggestionAcceptedTelemetry(r,e),this.model.clear(),l.dispose()})}_reportSuggestionAcceptedTelemetry(e,t){var i;if(this._telemetryGate++%100!==0)return;const r=((i=t.item.provider._debugDisplayName)!==null&&i!==void 0?i:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:r,basenameHash:Cpe(Wu(e.uri)).toString(16),languageId:e.getLanguageId(),fileExtension:bft(e.uri)})}getOverwriteInfo(e,t){Ii(this.editor.hasModel());let i=this.editor.getOption(106).insertMode==="replace";t&&(i=!i);const r=e.position.column-e.editStart.column,s=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,o=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:r+o,overwriteAfter:s+a}}_alertCompletionItem(e){if(nl(e.completion.additionalTextEdits)){let t=L("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);ro(t)}}triggerSuggest(e,t){this.editor.hasModel()&&(this.model.trigger({auto:t!=null?t:!1,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},r=s=>{if(s.completion.insertTextRules&4||s.completion.additionalTextEdits)return!0;const o=this.editor.getPosition(),a=s.editStart.column,l=o.column;return l-a!==s.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:o.lineNumber,startColumn:a,endLineNumber:o.lineNumber,endColumn:l})!==s.completion.insertText};xt.once(this.model.onDidTrigger)(s=>{let o=[];xt.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{jn(o),i()},void 0,o),this.model.onDidSuggest(({completionModel:a})=>{if(jn(o),a.items.length===0){i();return}const l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),u=a.items[l];if(!r(u)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:u,model:a},7)},void 0,o)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let r=0;e&&(r|=4),t&&(r|=8),this._insertSuggestion(i,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};Ec.ID="editor.contrib.suggestController";Ec=ALt([Mb(1,m1e),Mb(2,Pr),Mb(3,Zt),Mb(4,Mn),Mb(5,Uc),Mb(6,mf)],Ec);class OLt{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class ND extends Et{constructor(){super({id:ND.id,label:L("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:_t.and(ue.writable,ue.hasCompletionItemProvider),kbOpts:{kbExpr:ue.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const r=Ec.get(t);if(!r)return;let s;i&&typeof i=="object"&&i.auto===!0&&(s=!0),r.triggerSuggest(void 0,s)}}ND.id="editor.action.triggerSuggest";oi(Ec.ID,Ec);ut(ND);const qu=100+90,cl=go.bindToContribution(Ec.get);lt(new cl({id:"acceptSelectedSuggestion",precondition:On.Visible,handler(n){n.acceptSelectedSuggestion(!0,!1)}}));ha.registerKeybindingRule({id:"acceptSelectedSuggestion",when:_t.and(On.Visible,ue.textInputFocus),primary:2,weight:qu});ha.registerKeybindingRule({id:"acceptSelectedSuggestion",when:_t.and(On.Visible,ue.textInputFocus,On.AcceptSuggestionsOnEnter,On.MakesTextEdit),primary:3,weight:qu});Vl.appendMenuItem(uv,{command:{id:"acceptSelectedSuggestion",title:L("accept.insert","Insert")},group:"left",order:1,when:On.HasInsertAndReplaceRange.toNegated()});Vl.appendMenuItem(uv,{command:{id:"acceptSelectedSuggestion",title:L("accept.insert","Insert")},group:"left",order:1,when:_t.and(On.HasInsertAndReplaceRange,On.InsertMode.isEqualTo("insert"))});Vl.appendMenuItem(uv,{command:{id:"acceptSelectedSuggestion",title:L("accept.replace","Replace")},group:"left",order:1,when:_t.and(On.HasInsertAndReplaceRange,On.InsertMode.isEqualTo("replace"))});lt(new cl({id:"acceptAlternativeSelectedSuggestion",precondition:_t.and(On.Visible,ue.textInputFocus),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:1027,secondary:[1026]},handler(n){n.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:uv,group:"left",order:2,when:_t.and(On.HasInsertAndReplaceRange,On.InsertMode.isEqualTo("insert")),title:L("accept.replace","Replace")},{menuId:uv,group:"left",order:2,when:_t.and(On.HasInsertAndReplaceRange,On.InsertMode.isEqualTo("replace")),title:L("accept.insert","Insert")}]}));Vn.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");lt(new cl({id:"hideSuggestWidget",precondition:On.Visible,handler:n=>n.cancelSuggestWidget(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:9,secondary:[1033]}}));lt(new cl({id:"selectNextSuggestion",precondition:_t.and(On.Visible,On.MultipleSuggestions),handler:n=>n.selectNextSuggestion(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));lt(new cl({id:"selectNextPageSuggestion",precondition:_t.and(On.Visible,On.MultipleSuggestions),handler:n=>n.selectNextPageSuggestion(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:12,secondary:[2060]}}));lt(new cl({id:"selectLastSuggestion",precondition:_t.and(On.Visible,On.MultipleSuggestions),handler:n=>n.selectLastSuggestion()}));lt(new cl({id:"selectPrevSuggestion",precondition:_t.and(On.Visible,On.MultipleSuggestions),handler:n=>n.selectPrevSuggestion(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));lt(new cl({id:"selectPrevPageSuggestion",precondition:_t.and(On.Visible,On.MultipleSuggestions),handler:n=>n.selectPrevPageSuggestion(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:11,secondary:[2059]}}));lt(new cl({id:"selectFirstSuggestion",precondition:_t.and(On.Visible,On.MultipleSuggestions),handler:n=>n.selectFirstSuggestion()}));lt(new cl({id:"toggleSuggestionDetails",precondition:On.Visible,handler:n=>n.toggleSuggestionDetails(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:uv,group:"right",order:1,when:_t.and(On.DetailsVisible,On.CanResolve),title:L("detail.more","show less")},{menuId:uv,group:"right",order:1,when:_t.and(On.DetailsVisible.toNegated(),On.CanResolve),title:L("detail.less","show more")}]}));lt(new cl({id:"toggleExplainMode",precondition:On.Visible,handler:n=>n.toggleExplainMode(),kbOpts:{weight:100,primary:2133}}));lt(new cl({id:"toggleSuggestionFocus",precondition:On.Visible,handler:n=>n.toggleSuggestionFocus(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:2570,mac:{primary:778}}}));lt(new cl({id:"insertBestCompletion",precondition:_t.and(ue.textInputFocus,_t.equals("config.editor.tabCompletion","on"),dE.AtEnd,On.Visible.toNegated(),J_.OtherSuggestions.toNegated(),ho.InSnippetMode.toNegated()),handler:(n,e)=>{n.triggerSuggestAndAcceptBest(Da(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:qu,primary:2}}));lt(new cl({id:"insertNextSuggestion",precondition:_t.and(ue.textInputFocus,_t.equals("config.editor.tabCompletion","on"),J_.OtherSuggestions,On.Visible.toNegated(),ho.InSnippetMode.toNegated()),handler:n=>n.acceptNextSuggestion(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:2}}));lt(new cl({id:"insertPrevSuggestion",precondition:_t.and(ue.textInputFocus,_t.equals("config.editor.tabCompletion","on"),J_.OtherSuggestions,On.Visible.toNegated(),ho.InSnippetMode.toNegated()),handler:n=>n.acceptPrevSuggestion(),kbOpts:{weight:qu,kbExpr:ue.textInputFocus,primary:1026}}));ut(class extends Et{constructor(){super({id:"editor.action.resetSuggestSize",label:L("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(n,e){var t;(t=Ec.get(e))===null||t===void 0||t.resetWidgetSize()}});class PLt extends ze{constructor(e,t){super();this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new Le,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new Ni(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(r=>{r.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(r=>{r.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const i=Ec.get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(o,a,l)=>{const u=this.editor.getModel(),c=wR(u,this.suggestControllerPreselector());if(!c)return-1;const d=Ae.lift(a),h=l.map((g,p)=>{const m=xse(i,d,g,this.isShiftKeyPressed),b=wR(u,m==null?void 0:m.normalizedInlineCompletion);if(!b)return;const _=FLt(c.range,b.range)&&c.text.startsWith(b.text);return{index:p,valid:_,prefixLength:b.text.length,suggestItem:g}}).filter(g=>g&&g.valid),f=Lge(h,cx(g=>g.prefixLength,nst));return f?f.index:-1}}));let r=!1;const s=()=>{r||(r=!0,this._register(i.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(i.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(i.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(xt.once(i.model.onDidTrigger)(o=>{s()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){const t=this.getSuggestItemInfo();let i=!1;BLt(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const e=Ec.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();if(!!t)return xse(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=Ec.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=Ec.get(this.editor);e&&e.forceRenderingAbove()}}function FLt(n,e){return e.startLineNumber===n.startLineNumber&&e.startColumn===n.startColumn&&(e.endLineNumber<n.endLineNumber||e.endLineNumber===n.endLineNumber&&e.endColumn<=n.endColumn)}function BLt(n,e){return n===e?!0:!n||!e?!1:n.completionItemKind===e.completionItemKind&&n.isSnippetText===e.isSnippetText&&JSt(n.normalizedInlineCompletion,e.normalizedInlineCompletion)}function xse(n,e,t,i){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:Y.fromPositions(e,e),text:""}};let{insertText:r}=t.completion,s=!1;if(t.completion.insertTextRules&4){const a=new gP().parse(r),l=n.editor.getModel();if(a.children.length>100)return;ph.adjustWhitespace(l,e,a,!0,!0),r=a.toString(),s=!0}const o=n.getOverwriteInfo(t,i);return{isSnippetText:s,completionItemKind:t.completion.kind,normalizedInlineCompletion:{text:r,range:Y.fromPositions(e.delta(0,-o.overwriteBefore),e.delta(0,Math.max(o.overwriteAfter,0)))}}}var Mse=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class $Lt extends l1e{constructor(e,t){super(e);this.cache=t,this.suggestionInlineCompletionSource=this._register(new PLt(this.editor,()=>{var i,r;return(r=(i=this.cache.value)===null||i===void 0?void 0:i.completions[0])===null||r===void 0?void 0:r.toLiveInlineCompletion()})),this.updateOperation=this._register(new da),this.updateCacheSoon=this._register(new Ni(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const r=this.ghostText;r&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,VLt(r.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(i=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register(_n(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Mse(this,void 0,void 0,function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;const t={text:e.selectedItem.normalizedInlineCompletion.text,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},i=this.editor.getPosition(),r=qs(o=>Mse(this,void 0,void 0,function*(){let a;try{a=yield d1e(i,this.editor.getModel(),{triggerKind:vu.Automatic,selectedSuggestionInfo:t},o)}catch(l){Qt(l);return}o.isCancellationRequested||(this.cache.setValue(this.editor,a,vu.Automatic),this.onDidChangeEmitter.fire())})),s=new c1e(r,vu.Automatic);this.updateOperation.value=s,yield r,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var e,t,i;const r=this.isSuggestionPreviewEnabled(),s=wR(this.editor.getModel(),(t=(e=this.cache.value)===null||e===void 0?void 0:e.completions[0])===null||t===void 0?void 0:t.toLiveInlineCompletion()),o=this.suggestionInlineCompletionSource.state,a=wR(this.editor.getModel(),(i=o==null?void 0:o.selectedItem)===null||i===void 0?void 0:i.normalizedInlineCompletion),l=s&&a&&s.text.startsWith(a.text)&&s.range.equalsRange(a.range);if(!r&&!l)return;const u=l?s:a||s,c=l?u.text.length-a.text.length:0;return this.toGhostText(u,c)}toGhostText(e,t){const i=this.editor.getOptions().get(106).previewMode;return e?u1e(e,this.editor.getModel(),i,this.editor.getPosition(),t)||new a1e(e.range.endLineNumber,[],this.minReservedLineCount):void 0}}function VLt(n){return n.reduce((e,t)=>e+t,0)}function WLt(n,e){return{object:n,dispose:()=>e==null?void 0:e.dispose()}}var HLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ase=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},zLt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class ULt extends ze{constructor(){super(...arguments);this.onDidChangeEmitter=new Le,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new da)}get targetModel(){var e;return(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object}setTargetModel(e){var t;((t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?WLt(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=(t=(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object)===null||t===void 0?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;(t=this.targetModel)===null||t===void 0||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let oW=class extends ULt{constructor(e,t,i){super();this.editor=e,this.commandService=t,this.languageConfigurationService=i,this.sharedCache=this._register(new jLt),this.suggestWidgetAdapterModel=this._register(new $Lt(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new ZV(this.editor,this.sharedCache,this.commandService,this.languageConfigurationService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText;return i?i.parts.some(r=>e.containsPosition(new Ae(i.lineNumber,r.column))):!1}triggerInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.trigger(vu.Explicit)}commitInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.hide()}showNextInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showNext()}showPreviousInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showPrevious()}hasMultipleInlineCompletions(){var e;return zLt(this,void 0,void 0,function*(){const t=yield(e=this.activeInlineCompletionsModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};oW=HLt([Ase(1,Pr),Ase(2,fo)],oW);class jLt extends ze{constructor(){super(...arguments);this.onDidChangeEmitter=new Le,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new da)}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new o2t(e,t,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var KLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Rse=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},m6;const Ose=(m6=window.trustedTypes)===null||m6===void 0?void 0:m6.createPolicy("editorGhostText",{createHTML:n=>n});let aW=class extends ze{constructor(e,t,i,r){super();this.editor=e,this.model=t,this.instantiationService=i,this.languageService=r,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(GLt,this.editor)),this.additionalLinesWidget=this._register(new qLt(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(s=>{(s.hasChanged(29)||s.hasChanged(105)||s.hasChanged(88)||s.hasChanged(83)||s.hasChanged(45)||s.hasChanged(44)||s.hasChanged(59))&&this.update()})),this._register(_n(()=>{var s;this.disposed=!0,this.update(),(s=this.viewMoreContentWidget)===null||s===void 0||s.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const i=new Array,r=new Array;function s(u,c){if(r.length>0){const d=r[r.length-1];c&&d.decorations.push(new Al(d.content.length+1,d.content.length+1+u[0].length,c,0)),d.content+=u[0],u=u.slice(1)}for(const d of u)r.push({content:d,decorations:c?[new Al(1,d.length+1,c,0)]:[]})}const o=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let a,l=0;for(const u of t.parts){let c=u.lines;a===void 0?(i.push({column:u.column,text:c[0],preview:u.preview}),c=c.slice(1)):s([o.substring(l,u.column-1)],void 0),c.length>0&&(s(c,"ghost-text"),a===void 0&&u.column<=o.length&&(a=u.column)),l=u.column-1}a!==void 0&&s([o.substring(l)],void 0),this.partsWidget.setParts(t.lineNumber,i,a!==void 0?{column:a,length:o.length+1-a}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,r,t.additionalReservedLineCount),t.parts.some(u=>u.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new Ae(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):((e=this.viewMoreContentWidget)===null||e===void 0||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){const r=this.editor.getOption(44),s=document.createElement("div");s.className="suggest-preview-additional-widget",oo(s,r);const o=document.createElement("span");o.className="content-spacer",o.append(t),s.append(o);const a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("\u23CE  "),s.append(a);const l=new it,u=document.createElement("div");return u.className="button suggest-preview-text",u.append(`+${i} lines\u2026`),l.add(Ks(u,"mousedown",c=>{var d;(d=this.model)===null||d===void 0||d.setExpanded(!0),c.preventDefault(),this.editor.focus()})),s.append(u),new XLt(this.editor,e,s,l)}};aW=KLt([Rse(2,Mn),Rse(3,fr)],aW);class GLt{constructor(e){this.editor=e,this.decorationIds=[],this.disposableStore=new it}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){if(this.disposableStore.clear(),!this.editor.getModel())return;const s=new Array;i&&s.push({range:Y.fromPositions(new Ae(e,i.column),new Ae(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(o=>({range:Y.fromPositions(new Ae(e,o.column)),options:{description:"ghost-text",after:{content:o.text,inlineClassName:o.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(s))}}class qLt{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const r=this.editor.getModel();if(!r)return;const{tabSize:s}=r.getOptions();this.editor.changeViewZones(o=>{this._viewZoneId&&(o.removeZone(this._viewZoneId),this._viewZoneId=void 0);const a=Math.max(t.length,i);if(a>0){const l=document.createElement("div");YLt(l,s,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=o.addZone({afterLineNumber:e,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}}function YLt(n,e,t,i,r){const s=i.get(29),o=i.get(105),a="none",l=i.get(83),u=i.get(45),c=i.get(44),d=i.get(59),h=M_(1e4);h.appendASCIIString('<div class="suggest-preview-text">');for(let p=0,m=t.length;p<m;p++){const b=t[p],_=b.content;h.appendASCIIString('<div class="view-line'),h.appendASCIIString('" style="top:'),h.appendASCIIString(String(p*d)),h.appendASCIIString('px;width:1000000px;">');const C=nj(_),w=UO(_),S=vs.createEmpty(_,r);e4(new I1(c.isMonospace&&!s,c.canUseHalfwidthRightwardsArrow,_,!1,C,w,0,S,b.decorations,e,0,c.spaceWidth,c.middotWidth,c.wsmiddotWidth,o,a,l,u!==Dl.OFF,null),h),h.appendASCIIString("</div>")}h.appendASCIIString("</div>"),oo(n,c);const f=h.build(),g=Ose?Ose.createHTML(f):f;n.innerHTML=g}class XLt extends ze{constructor(e,t,i,r){super();this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(r),this._register(_n(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Hi((n,e)=>{const t=n.getColor(kht);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));const i=n.getColor(Eht);i&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${i.toString()}; }`));const r=n.getColor(Lht);r&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${r}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${r}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${r}; }`))});var w1e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},lW=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},_P=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let Ms=class S1e extends ze{constructor(e,t){super();this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new da),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(i=>{i.hasChanged(106)&&this.updateModelController(),i.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(S1e.ID)}get activeModel(){var e;return(e=this.activeController.value)===null||e===void 0?void 0:e.model}updateModelController(){const e=this.editor.getOption(106),t=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(uW,this.editor):void 0}shouldShowHoverAt(e){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return((i=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||i===void 0?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(e=this.activeModel)===null||e===void 0||e.triggerInlineCompletion()}commit(){var e;(e=this.activeModel)===null||e===void 0||e.commitInlineCompletion()}hide(){var e;(e=this.activeModel)===null||e===void 0||e.hideInlineCompletion()}showNextInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return _P(this,void 0,void 0,function*(){const t=yield(e=this.activeModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};Ms.inlineSuggestionVisible=new St("inlineSuggestionVisible",!1,L("inlineSuggestionVisible","Whether an inline suggestion is visible"));Ms.inlineSuggestionHasIndentation=new St("inlineSuggestionHasIndentation",!1,L("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));Ms.inlineSuggestionHasIndentationLessThanTabSize=new St("inlineSuggestionHasIndentationLessThanTabSize",!0,L("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));Ms.ID="editor.contrib.ghostTextController";Ms=w1e([lW(1,Mn)],Ms);class ZLt{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=Ms.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Ms.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Ms.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let uW=class extends ze{constructor(e,t,i){super();this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new ZLt(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(oW,this.editor)),this.widget=this._register(this.instantiationService.createInstance(aW,this.editor,this.model)),this._register(_n(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(((e=this.model.activeInlineCompletionsModel)===null||e===void 0?void 0:e.ghostText)!==void 0);let t=!1,i=!0;const r=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&r&&r.parts.length>0){const{column:s,lines:o}=r.parts[0],a=o[0],l=this.editor.getModel().getLineIndentColumn(r.lineNumber);if(s<=l){let c=oa(a);c===-1&&(c=a.length-1),t=c>0;const d=this.editor.getModel().getOptions().tabSize;i=gs.visibleColumnFromColumn(a,c+1,d)<d}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}};uW=w1e([lW(1,Mn),lW(2,Zt)],uW);const L1e=go.bindToContribution(Ms.get),fE=new L1e({id:o1e,precondition:Ms.inlineSuggestionVisible,handler(n){n.commit(),n.editor.focus()}});lt(fE);ha.registerKeybindingRule({primary:2,weight:200,id:fE.id,when:_t.and(fE.precondition,ue.tabMovesFocus.toNegated(),Ms.inlineSuggestionHasIndentationLessThanTabSize)});lt(new L1e({id:"editor.action.inlineSuggest.hide",precondition:Ms.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(n){n.hide()}}));class dw extends Et{constructor(){super({id:dw.ID,label:L("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:_t.and(ue.writable,Ms.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return _P(this,void 0,void 0,function*(){const i=Ms.get(t);i&&(i.showNextInlineCompletion(),t.focus())})}}dw.ID="editor.action.inlineSuggest.showNext";class hw extends Et{constructor(){super({id:hw.ID,label:L("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:_t.and(ue.writable,Ms.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return _P(this,void 0,void 0,function*(){const i=Ms.get(t);i&&(i.showPreviousInlineCompletion(),t.focus())})}}hw.ID="editor.action.inlineSuggest.showPrevious";class QLt extends Et{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:L("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:ue.writable})}run(e,t){return _P(this,void 0,void 0,function*(){const i=Ms.get(t);i&&i.trigger()})}}oi(Ms.ID,Ms);ut(QLt);ut(dw);ut(hw);var JLt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ab=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class ekt{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let cW=class{constructor(e,t,i,r,s,o,a){this._editor=e,this._commandService=t,this._menuService=i,this._contextKeyService=r,this._languageService=s,this._openerService=o,this.accessibilityService=a}suggestHoverAnchor(e){const t=Ms.get(this._editor);if(!t)return null;const i=e.target;if(i.type===8){const r=i.detail;if(t.shouldShowHoverAtViewZone(r.viewZoneId))return new Px(1e3,this,Y.fromPositions(r.positionBefore||r.position,r.positionBefore||r.position))}return i.type===7&&t.shouldShowHoverAt(i.range)?new Px(1e3,this,i.range):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new Px(1e3,this,i.range):null}computeSync(e,t){const i=Ms.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new ekt(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new it,r=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,r,i);const s=i.add(this._menuService.createMenu(_e.InlineCompletionsActions,this._contextKeyService)),o=e.statusBar.addAction({label:L("showNextInlineSuggestion","Next"),commandId:dw.ID,run:()=>this._commandService.executeCommand(dw.ID)}),a=e.statusBar.addAction({label:L("showPreviousInlineSuggestion","Previous"),commandId:hw.ID,run:()=>this._commandService.executeCommand(hw.ID)});e.statusBar.addAction({label:L("acceptInlineSuggestion","Accept"),commandId:fE.id,run:()=>this._commandService.executeCommand(fE.id)});const l=[o,a];for(const u of l)u.setEnabled(!1);r.hasMultipleSuggestions().then(u=>{for(const c of l)c.setEnabled(u)});for(const[u,c]of s.getActions())for(const d of c)d instanceof Zm&&e.statusBar.addAction({label:d.label,commandId:d.item.id,run:()=>this._commandService.executeCommand(d.item.id)});return i}renderScreenReaderText(e,t,i){var r,s;const o=et,a=o("div.hover-row.markdown-hover"),l=qe(a,o("div.hover-contents")),u=i.add(new Qg({editor:this._editor},this._languageService,this._openerService)),c=h=>{i.add(u.onDidRenderAsync(()=>{l.className="hover-contents code-hover-contents",e.onContentsChanged()}));const f=L("inlineSuggestionFollows","Suggestion:"),g=i.add(u.render(new Fd().appendText(f).appendCodeblock("text",h)));l.replaceChildren(g.element)},d=(s=(r=t.controller.activeModel)===null||r===void 0?void 0:r.inlineCompletionsModel)===null||s===void 0?void 0:s.ghostText;if(d){const h=this._editor.getModel().getLineContent(d.lineNumber);c(d.renderForScreenReader(h))}e.fragment.appendChild(a)}};cW=JLt([Ab(1,Pr),Ab(2,N1),Ab(3,Zt),Ab(4,fr),Ab(5,Ku),Ab(6,ul)],cW);var tkt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},nkt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let dW=class extends ze{constructor(e,t,i={},r){var s;super();this._link=t,this._enabled=!0,this.el=qe(e,et("a.monaco-link",{tabIndex:(s=t.tabIndex)!==null&&s!==void 0?s:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const o=this._register(new Ci(this.el,"click")),a=this._register(new Ci(this.el,"keypress")),l=xt.chain(a.event).map(d=>new Yi(d)).filter(d=>d.keyCode===3).event,u=this._register(new Ci(this.el,$i.Tap)).event;this._register(hi.addTarget(this.el));const c=xt.any(o.event,l,u);this._register(c(d=>{!this.enabled||(ui.stop(d,!0),(i==null?void 0:i.opener)?i.opener(this._link.href):r.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};dW=tkt([nkt(3,Ku)],dW);Hi((n,e)=>{const t=n.getColor(m4);t&&e.addRule(`.monaco-link { color: ${t}; }`);const i=n.getColor(v4);i&&e.addRule(`.monaco-link:hover { color: ${i}; }`)});var k1e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},E1e=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const ikt=26;let hW=class extends ze{constructor(e,t){super();this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(fW))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{this.hide(),e.onClose&&e.onClose()}})),this._editor.setBanner(this.banner.element,ikt)}};hW=k1e([E1e(1,Mn)],hW);let fW=class extends ze{constructor(e){super();this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Qg,{}),this.element=et("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=et("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){_s(this.element)}show(e){_s(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const i=qe(this.element,et("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(et(`div${Ti.asCSSSelector(e.icon)}`));const r=qe(this.element,et("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=qe(this.element,et("div.message-actions-container")),e.actions)for(const o of e.actions)this._register(this.instantiationService.createInstance(dW,this.messageActionsContainer,Object.assign(Object.assign({},o),{tabIndex:-1}),{}));const s=qe(this.element,et("div.action-container"));this.actionBar=this._register(new sf(s)),this.actionBar.push(this._register(new il("banner.close","Close Banner",Ti.asClassName(bve),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};fW=k1e([E1e(0,Mn)],fW);var IG=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},sy=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Lo=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const rkt=ws("extensions-warning-message",k.warning,L("warningIcon","Icon shown with a warning message in the extensions editor."));let fw=class extends ze{constructor(e,t,i,r){super();this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=s=>{if(s&&s.hasMore){if(this._bannerClosed)return;const o=Math.max(s.ambiguousCharacterCount,s.nonBasicAsciiCharacterCount,s.invisibleCharacterCount);let a;if(s.nonBasicAsciiCharacterCount>=o)a={message:L("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Zw};else if(s.ambiguousCharacterCount>=o)a={message:L("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Tv};else if(s.invisibleCharacterCount>=o)a={message:L("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Xw};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:rkt,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(r.createInstance(hW,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(113),this._register(i.onDidChangeTrust(s=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(s=>{s.hasChanged(113)&&(this._options=e.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=skt(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?jrt:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new gW(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new okt(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};fw.ID="editor.contrib.unicodeHighlighter";fw=IG([sy(1,ju),sy(2,Ave),sy(3,Mn)],fw);function skt(n,e){return{nonBasicASCII:e.nonBasicASCII===Cl?!n:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===Cl?!n:e.includeComments,includeStrings:e.includeStrings===Cl?!n:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let gW=class extends ze{constructor(e,t,i,r){super();this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=r,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Ni(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const i=[];if(!t.hasMore)for(const r of t.ranges)i.push({range:r,options:gw.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),i))})}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),i=t.getDecorationRange(e),r={range:i,options:gw.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};if(!cK(t,r))return null;const s=t.getValueInRange(i);return{reason:D1e(s,this._options),inComment:dK(t,r),inString:hK(t,r)}}};gW=IG([sy(3,ju)],gW);class okt extends ze{constructor(e,t,i){super();this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Ni(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const r of e){const s=vj.computeUnicodeHighlights(this._model,this._options,r);for(const o of s.ranges)i.ranges.push(o);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||s.hasMore}if(!i.hasMore)for(const r of i.ranges)t.push({range:r,options:gw.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),t))}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),i=t.getDecorationRange(e),r=t.getValueInRange(i),s={range:i,options:gw.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};return cK(t,s)?{reason:D1e(r,this._options),inComment:dK(t,s),inString:hK(t,s)}:null}}let pW=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),r=this._editor.getContribution(fw.ID);if(!r)return[];const s=[];let o=300;for(const a of t){const l=r.getDecorationInfo(a.id);if(!l)continue;const c=i.getValueInRange(a.range).codePointAt(0),d=Pse(c);let h;switch(l.reason.kind){case 0:h=L("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",d,Pse(l.reason.confusableWith.codePointAt(0)));break;case 1:h=L("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",d);break;case 2:h=L("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",d);break}const f={codePoint:c,reason:l.reason,inComment:l.inComment,inString:l.inString},g=L("unicodeHighlight.adjustSettings","Adjust settings"),p=[{value:`${h} [${g}](command:${xD.ID}?${encodeURIComponent(JSON.stringify(f))})`,isTrusted:!0}];s.push(new sm(this,a.range,p,o++))}return s}renderHoverParts(e,t){return e1e(e,t,this._editor,this._languageService,this._openerService)}};pW=IG([sy(1,fr),sy(2,Ku)],pW);function mW(n){return`U+${n.toString(16).padStart(4,"0")}`}function Pse(n){let e=`\`${mW(n)}\``;return Lg.isInvisibleCharacter(n)||(e+=` "${`${akt(n)}`}"`),e}function akt(n){return n===96?"`` ` ``":"`"+String.fromCodePoint(n)+"`"}function D1e(n,e){return vj.computeUnicodeHighlightReason(n,e)}class gw{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const i=`${e}${t}`;let r=this.map.get(i);return r||(r=dn.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,r)),r}}gw.instance=new gw;class lkt extends Et{constructor(){super({id:Tv.ID,label:L("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=L("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,i){return Lo(this,void 0,void 0,function*(){let r=e==null?void 0:e.get(Mi);r&&this.runAction(r)})}runAction(e){return Lo(this,void 0,void 0,function*(){yield e.updateValue(Sa.includeComments,!1,1)})}}class ukt extends Et{constructor(){super({id:Tv.ID,label:L("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=L("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,i){return Lo(this,void 0,void 0,function*(){let r=e==null?void 0:e.get(Mi);r&&this.runAction(r)})}runAction(e){return Lo(this,void 0,void 0,function*(){yield e.updateValue(Sa.includeStrings,!1,1)})}}class Tv extends Et{constructor(){super({id:Tv.ID,label:L("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=L("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return Lo(this,void 0,void 0,function*(){let r=e==null?void 0:e.get(Mi);r&&this.runAction(r)})}runAction(e){return Lo(this,void 0,void 0,function*(){yield e.updateValue(Sa.ambiguousCharacters,!1,1)})}}Tv.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class Xw extends Et{constructor(){super({id:Xw.ID,label:L("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=L("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return Lo(this,void 0,void 0,function*(){let r=e==null?void 0:e.get(Mi);r&&this.runAction(r)})}runAction(e){return Lo(this,void 0,void 0,function*(){yield e.updateValue(Sa.invisibleCharacters,!1,1)})}}Xw.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class Zw extends Et{constructor(){super({id:Zw.ID,label:L("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=L("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return Lo(this,void 0,void 0,function*(){let r=e==null?void 0:e.get(Mi);r&&this.runAction(r)})}runAction(e){return Lo(this,void 0,void 0,function*(){yield e.updateValue(Sa.nonBasicASCII,!1,1)})}}Zw.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class xD extends Et{constructor(){super({id:xD.ID,label:L("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return Lo(this,void 0,void 0,function*(){const{codePoint:r,reason:s,inString:o,inComment:a}=i,l=String.fromCodePoint(r),u=e.get(ap),c=e.get(Mi);function d(g){return Lg.isInvisibleCharacter(g)?L("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",mW(g)):L("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${mW(g)} "${l}"`)}const h=[];if(s.kind===0)for(const g of s.notAmbiguousInLocales)h.push({label:L("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',g),run:()=>Lo(this,void 0,void 0,function*(){dkt(c,[g])})});if(h.push({label:d(r),run:()=>ckt(c,[r])}),a){const g=new lkt;h.push({label:g.label,run:()=>Lo(this,void 0,void 0,function*(){return g.runAction(c)})})}else if(o){const g=new ukt;h.push({label:g.label,run:()=>Lo(this,void 0,void 0,function*(){return g.runAction(c)})})}if(s.kind===0){const g=new Tv;h.push({label:g.label,run:()=>Lo(this,void 0,void 0,function*(){return g.runAction(c)})})}else if(s.kind===1){const g=new Xw;h.push({label:g.label,run:()=>Lo(this,void 0,void 0,function*(){return g.runAction(c)})})}else if(s.kind===2){const g=new Zw;h.push({label:g.label,run:()=>Lo(this,void 0,void 0,function*(){return g.runAction(c)})})}else hkt(s);const f=yield u.pick(h,{title:L("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});f&&(yield f.run())})}}xD.ID="editor.action.unicodeHighlight.showExcludeOptions";function ckt(n,e){return Lo(this,void 0,void 0,function*(){const t=n.getValue(Sa.allowedCharacters);let i;typeof t=="object"&&t?i=t:i={};for(const r of e)i[String.fromCodePoint(r)]=!0;yield n.updateValue(Sa.allowedCharacters,i,1)})}function dkt(n,e){var t;return Lo(this,void 0,void 0,function*(){const i=(t=n.inspect(Sa.allowedLocales).user)===null||t===void 0?void 0:t.value;let r;typeof i=="object"&&i?r=Object.assign({},i):r={};for(const s of e)r[s]=!0;yield n.updateValue(Sa.allowedLocales,r,1)})}function hkt(n){throw new Error(`Unexpected value: ${n}`)}ut(Tv);ut(Xw);ut(Zw);ut(xD);oi(fw.ID,fw);var LR=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class I1e{constructor(e,t){this.range=e,this.direction=t}}class TG{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){const t=new TG(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return LR(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,i;return LR(this,void 0,void 0,function*(){try{const r=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=r==null?void 0:r.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(i=r==null?void 0:r.label)!==null&&i!==void 0?i:this.hint.label,this._isResolved=!0}catch(r){Ys(r),this._isResolved=!1}})}}class gE{constructor(e,t,i){this._disposables=new it,this.ranges=e,this.provider=new Set;const r=[];for(const[s,o]of t){this._disposables.add(s),this.provider.add(o);for(const a of s.hints){let l=i.validatePosition(a.position),u="before";const c=gE._getRangeAtPosition(i,l);let d;c.getStartPosition().isBefore(l)?(d=Y.fromPositions(c.getStartPosition(),l),u="after"):(d=Y.fromPositions(l,c.getEndPosition()),u="before"),r.push(new TG(a,new I1e(d,u),o))}}this.items=r.sort((s,o)=>Ae.compare(s.hint.position,o.hint.position))}static create(e,t,i){return LR(this,void 0,void 0,function*(){const r=[],s=s_.ordered(e).reverse().map(o=>t.map(a=>LR(this,void 0,void 0,function*(){try{const l=yield o.provideInlayHints(e,a,i);(l==null?void 0:l.hints.length)&&r.push([l,o])}catch(l){Ys(l)}})));if(yield Promise.all(s.flat()),i.isCancellationRequested||e.isDisposed())throw new E1;return new gE(t,r,e)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const i=t.lineNumber,r=e.getWordAtPosition(t);if(r)return new Y(i,r.startColumn,i,r.endColumn);e.tokenizeIfCheap(i);const s=e.getLineTokens(i),o=t.column-1,a=s.findTokenIndexAtOffset(o);let l=s.getStartOffset(a),u=s.getEndOffset(a);return u-l===1&&(l===o&&a>1?(l=s.getStartOffset(a-1),u=s.getEndOffset(a-1)):u===o&&a<s.getCount()-1&&(l=s.getStartOffset(a+1),u=s.getEndOffset(a+1))),new Y(i,l+1,i,u+1)}}var vL=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function fkt(n,e,t,i){var r;return vL(this,void 0,void 0,function*(){const s=n.get(Oa),o=n.get(Ev),a=n.get(Pr),l=n.get(Mn),u=n.get(Kr);if(yield i.item.resolve(En.None),!i.part.location)return;const c=i.part.location,d=[],h=new Set(Vl.getMenuItems(_e.EditorContext).map(g=>pC(g)?g.command.id:""));for(const g of l_.getEditorActions())g instanceof U1&&h.has(g.id)&&d.push(new il(g.id,g.label,void 0,!0,()=>vL(this,void 0,void 0,function*(){const p=yield s.createModelReference(c.uri);try{yield l.invokeFunction(g.run.bind(g),e,new lE(p.object.textEditorModel,Y.getStartPosition(c.range)))}finally{p.dispose()}})));if(i.part.command){const{command:g}=i.part;d.push(new xu),d.push(new il(g.id,g.title,void 0,!0,()=>vL(this,void 0,void 0,function*(){var p;try{yield a.executeCommand(g.id,...(p=g.arguments)!==null&&p!==void 0?p:[])}catch(m){u.notify({severity:fve.Error,source:i.item.provider.displayName,message:m})}})))}const f=e.getOption(115);o.showContextMenu({domForShadowRoot:f&&(r=e.getDomNode())!==null&&r!==void 0?r:void 0,getAnchor:()=>{const g=io(t);return{x:g.left,y:g.top+g.height+8}},getActions:()=>d,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function gkt(n,e,t,i){return vL(this,void 0,void 0,function*(){const s=yield n.get(Oa).createModelReference(i.uri);yield t.invokeWithinContext(o=>vL(this,void 0,void 0,function*(){const a=e.hasSideBySideModifier,l=o.get(Zt),u=Aa.inPeekEditor.getValue(l),c=!a&&t.getOption(78)&&!u;return new ID({openToSide:a,openInPeek:c,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(o,t,{model:s.object.textEditorModel,position:Y.getStartPosition(i.range)})})),s.dispose()})}var pkt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},KS=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Wx=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class kR{constructor(){this._entries=new kv(50)}get(e){const t=kR._key(e);return this._entries.get(t)}set(e,t){const i=kR._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const T1e=Pn("IInlayHintsCache");qn(T1e,kR,!0);class vW{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}let e1=class _W{constructor(e,t,i,r,s,o){this._editor=e,this._inlayHintsCache=i,this._commandService=r,this._notificationService=s,this._instaService=o,this._disposables=new it,this._sessionDisposables=new it,this._decorationsMetadata=new Map,this._ruleFactory=new lD(this._editor),this._debounceInfo=t.for(s_,"InlayHint",{min:25}),this._disposables.add(s_.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(a=>{a.hasChanged(127)&&this._update()})),this._update()}static get(e){var t;return(t=e.getContribution(_W.ID))!==null&&t!==void 0?t:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const e=this._editor.getModel();if(!e||!s_.has(e))return;const t=this._inlayHintsCache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t),this._sessionDisposables.add(_n(()=>{e.isDisposed()||this._cacheHintsForFastRestore(e)}));let i,r=new Set;const s=new Ni(()=>Wx(this,void 0,void 0,function*(){const o=Date.now();i==null||i.dispose(!0),i=new co;const a=e.onWillDispose(()=>i==null?void 0:i.cancel());try{const l=i.token,u=yield gE.create(e,this._getHintsRanges(),l);if(s.delay=this._debounceInfo.update(e,Date.now()-o),l.isCancellationRequested){u.dispose();return}for(const c of u.provider)typeof c.onDidChangeInlayHints=="function"&&!r.has(c)&&(r.add(c),this._sessionDisposables.add(c.onDidChangeInlayHints(()=>{s.isScheduled()||s.schedule()})));this._sessionDisposables.add(u),this._updateHintsDecorators(u.ranges,u.items),this._cacheHintsForFastRestore(e)}catch(l){Qt(l)}finally{i.dispose(),a.dispose()}}),this._debounceInfo.get(e));this._sessionDisposables.add(s),this._sessionDisposables.add(_n(()=>i==null?void 0:i.dispose(!0))),s.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(o=>{(o.scrollTopChanged||!s.isScheduled())&&s.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(o=>{const a=Math.max(s.delay,1250);s.schedule(a)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){let e=()=>{};const t=new vG(this._editor);return t.onMouseMoveOrRelevantKeyDown(i=>{const[r]=i,s=this._getInlayHintLabelPart(r),o=this._editor.getModel();if(!s||!r.hasTriggerModifier||!o){e();return}if(r.hasTriggerModifier&&(s.part.command||s.part.location)){const a=new co;s.item.resolve(a.token),this._activeInlayHintPart=s;const l=this._activeInlayHintPart.item.hint.position.lineNumber,u=new Y(l,1,l,o.getLineMaxColumn(l)),c=new Set;for(const d of this._decorationsMetadata.values())u.containsRange(d.item.anchor.range)&&c.add(d.item);this._updateHintsDecorators([u],Array.from(c)),e=()=>{a.dispose(!0),this._activeInlayHintPart=void 0,this._updateHintsDecorators([u],Array.from(c))}}}),t.onCancel(e),t.onExecute(i=>Wx(this,void 0,void 0,function*(){var r;const s=this._getInlayHintLabelPart(i);if(s){const o=s.part;if(o.location)this._instaService.invokeFunction(gkt,i,this._editor,o.location);else if(W9.is(o.command))try{yield this._commandService.executeCommand(o.command.id,...(r=o.command.arguments)!==null&&r!==void 0?r:[])}catch(a){this._notificationService.notify({severity:fve.Error,source:s.item.provider.displayName,message:a})}}})),t}_installContextMenu(){return this._editor.onContextMenu(e=>Wx(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(fkt,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;const i=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(i instanceof H_&&(i==null?void 0:i.attachedData)instanceof vW)return i.attachedData}_cacheHintsForFastRestore(e){const t=new Map;for(const[i,r]of this._decorationsMetadata){if(t.has(r.item))continue;let s=r.item;const o=e.getDecorationRange(i);if(o){const a=new I1e(o,r.item.anchor.direction);s=r.item.with({anchor:a})}t.set(r.item,s)}this._inlayHintsCache.set(e,Array.from(t.values()))}_getHintsRanges(){const t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=[];for(const s of i.sort(Y.compareRangesUsingStarts)){const o=t.validateRange(new Y(s.startLineNumber-30,s.startColumn,s.endLineNumber+30,s.endColumn));r.length===0||!Y.areIntersectingOrTouching(r[r.length-1],o)?r.push(o):r[r.length-1]=Y.plusRange(r[r.length-1],o)}return r}_updateHintsDecorators(e,t){var i,r;const s=[],o=(f,g,p,m,b)=>{s.push({item:f,classNameRef:g,decoration:{range:f.anchor.range,options:{description:"InlayHint",showIfCollapsed:f.anchor.range.isEmpty(),collapseOnReplaceEdit:!f.anchor.range.isEmpty(),stickiness:0,[f.anchor.direction]:{content:p,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:g.className,cursorStops:m,attachedData:b}}}})},a=(f,g)=>{const p=this._ruleFactory.createClassNameRef({width:`${l/3|0}px`,display:"inline-block"});o(f,p,"\u200A",g?Fh.Right:Fh.None)},{fontSize:l,fontFamily:u}=this._getLayoutInfo(),c="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(c,u);for(const f of t){f.hint.paddingLeft&&a(f,!1);const g=typeof f.hint.label=="string"?[{label:f.hint.label}]:f.hint.label;for(let p=0;p<g.length;p++){const m=g[p],b=p===0,_=p===g.length-1,C={fontSize:`${l}px`,fontFamily:`var(${c}), ${jo.fontFamily}`,verticalAlign:"middle"};this._fillInColors(C,f.hint),(m.command||m.location)&&((i=this._activeInlayHintPart)===null||i===void 0?void 0:i.item)===f&&this._activeInlayHintPart.index===p&&(C.textDecoration="underline",C.cursor="pointer",C.color=wr(Wj)),b&&_?(C.padding=`1px ${Math.max(1,l/4)|0}px`,C.borderRadius=`${l/4|0}px`):b?(C.padding=`1px 0 1px ${Math.max(1,l/4)|0}px`,C.borderRadius=`${l/4|0}px 0 0 ${l/4|0}px`):_?(C.padding=`1px ${Math.max(1,l/4)|0}px 1px 0`,C.borderRadius=`0 ${l/4|0}px ${l/4|0}px 0`):C.padding="1px 0 1px 0",o(f,this._ruleFactory.createClassNameRef(C),mkt(m.label),_&&!f.hint.paddingRight?Fh.Right:Fh.None,new vW(f,p))}if(f.hint.paddingRight&&a(f,!0),s.length>_W._MAX_DECORATORS)break}const d=[];for(const f of e)for(const{id:g}of(r=this._editor.getDecorationsInRange(f))!==null&&r!==void 0?r:[]){const p=this._decorationsMetadata.get(g);p&&(d.push(g),p.classNameRef.dispose(),this._decorationsMetadata.delete(g))}const h=this._editor.deltaDecorations(d,s.map(f=>f.decoration));for(let f=0;f<h.length;f++){const g=s[f];this._decorationsMetadata.set(h[f],{item:g.item,classNameRef:g.classNameRef})}}_fillInColors(e,t){t.kind===tA.Parameter?(e.backgroundColor=wr(Yct),e.color=wr(qct)):t.kind===tA.Type?(e.backgroundColor=wr(Gct),e.color=wr(Kct)):(e.backgroundColor=wr(h_),e.color=wr(d_))}_getLayoutInfo(){const e=this._editor.getOption(127),t=this._editor.getOption(46);let i=e.fontSize;(!i||i<5||i>t)&&(i=t*.9|0);const r=e.fontFamily||this._editor.getOption(43);return{fontSize:i,fontFamily:r}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};e1.ID="editor.contrib.InlayHints";e1._MAX_DECORATORS=1500;e1=pkt([KS(1,sp),KS(2,T1e),KS(3,Pr),KS(4,Kr),KS(5,Mn)],e1);function mkt(n){const e="\xA0";return n.replace(/[ \t]/g,e)}oi(e1.ID,e1);Vn.registerCommand("_executeInlayHintProvider",(n,...e)=>Wx(void 0,void 0,void 0,function*(){const[t,i]=e;Ii(zt.isUri(t)),Ii(Y.isIRange(i));const r=yield n.get(Oa).createModelReference(t);try{const s=yield gE.create(r.object.textEditorModel,[Y.lift(i)],En.None),o=s.items.map(a=>a.hint);return setTimeout(()=>s.dispose(),0),o}finally{r.dispose()}}));var vkt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},eN=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Fse=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},_kt=globalThis&&globalThis.__asyncValues||function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}};class Bse extends Px{constructor(e,t){super(10,t,e.item.anchor.range);this.part=e}}let bW=class extends CR{constructor(e,t,i,r,s){super(e,t,i,r);this._resolverService=s}suggestHoverAnchor(e){var t;if(!e1.get(this._editor)||e.target.type!==6)return null;const r=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return r instanceof H_&&r.attachedData instanceof vW?new Bse(r.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof Bse?new Hr(r=>Fse(this,void 0,void 0,function*(){var s,o;const{part:a}=e;if(yield a.item.resolve(i),i.isCancellationRequested)return;let l;typeof a.item.hint.tooltip=="string"?l=new Fd().appendText(a.item.hint.tooltip):a.item.hint.tooltip&&(l=a.item.hint.tooltip),l&&r.emitOne(new sm(this,e.range,[l],0));let u;typeof a.part.tooltip=="string"?u=new Fd().appendText(a.part.tooltip):a.part.tooltip&&(u=a.part.tooltip),u&&r.emitOne(new sm(this,e.range,[u],1));const c=yield this._resolveInlayHintLabelPartHover(a,i);try{for(var d=_kt(c),h;h=yield d.next(),!h.done;){let f=h.value;r.emitOne(f)}}catch(f){s={error:f}}finally{try{h&&!h.done&&(o=d.return)&&(yield o.call(d))}finally{if(s)throw s.error}}})):Hr.EMPTY}_resolveInlayHintLabelPartHover(e,t){return Fse(this,void 0,void 0,function*(){if(!e.part.location)return Hr.EMPTY;const{uri:i,range:r}=e.part.location,s=yield this._resolverService.createModelReference(i);try{const o=s.object.textEditorModel;return By.has(o)?wG(o,new Ae(r.startLineNumber,r.startColumn),t).filter(a=>!nw(a.hover.contents)).map(a=>new sm(this,e.item.anchor.range,a.hover.contents,2+a.ordinal)):Hr.EMPTY}finally{s.dispose()}})}};bW=vkt([eN(1,fr),eN(2,Ku),eN(3,Mi),eN(4,Oa)],bW);var NG=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ER=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const $se=et;let DR=class N1e extends ze{constructor(e,t,i){super();this._editor=e,this._instantiationService=t,this._keybindingService=i,this._participants=[this._instantiationService.createInstance(HV,this._editor),this._instantiationService.createInstance(CR,this._editor),this._instantiationService.createInstance(cW,this._editor),this._instantiationService.createInstance(pW,this._editor),this._instantiationService.createInstance(XV,this._editor),this._instantiationService.createInstance(bW,this._editor)],this._widget=this._register(this._instantiationService.createInstance(b_,this._editor)),this._decorationsChangerListener=this._register(new bkt(this._editor)),this._computer=new IR(this._editor,this._participants),this._hoverOperation=this._register(new Y_e(this._editor,this._computer)),this._messages=[],this._messagesAreComplete=!1,this._register(this._hoverOperation.onResult(r=>{this._withResult(r.value,r.isComplete,r.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(Ks(this._widget.getDomNode(),"keydown",r=>{r.equals(9)&&this.hide()})),this._register(dr.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.colorPicker||this._hoverOperation.start(0))}maybeShowAt(e){const t=[];for(const r of this._participants)if(r.suggestHoverAnchor){const s=r.suggestHoverAnchor(e);s&&t.push(s)}const i=e.target;if(i.type===6&&t.push(new s6(0,i.range)),i.type===7){const r=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<r&&t.push(new s6(0,i.range))}return t.length===0?!1:(t.sort((r,s)=>s.priority-r.priority),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,i){this._startShowingAt(new s6(0,e),t,i)}_startShowingAt(e,t,i){if(!(this._computer.anchor&&this._computer.anchor.equals(e))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!e.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const r=this._messages.filter(s=>s.isValidForHoverAnchor(e));if(r.length===0)this.hide();else{if(r.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,r)}}this._computer.anchor=e,this._computer.shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return!!this._widget.colorPicker}_addLoadingMessage(e){if(this._computer.anchor){for(const t of this._participants)if(t.createLoadingMessage){const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}}return e}_withResult(e,t,i){this._messages=i?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(e,t){let i=1073741824,r=t[0].range,s=null;for(const d of t)i=Math.min(i,d.range.startColumn),r=Y.plusRange(r,d.range),d.forceShowAtRange&&(s=d.range);const o=new it,a=o.add(new CW(this._keybindingService)),l=document.createDocumentFragment();let u=null;const c={fragment:l,statusBar:a,setColorPicker:d=>u=d,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const d of this._participants){const h=t.filter(f=>f.owner===d);h.length>0&&o.add(d.renderHoverParts(c,h))}if(a.hasContent&&l.appendChild(a.hoverElement),l.hasChildNodes()){if(r){const d=this._decorationsChangerListener.deltaDecorations([],[{range:r,options:N1e._DECORATION_OPTIONS}]);o.add(_n(()=>{this._decorationsChangerListener.deltaDecorations(d,[])}))}this._widget.showAt(l,new Ckt(u,s?s.getStartPosition():new Ae(e.range.startLineNumber,i),s||r,this._editor.getOption(53).above,this._computer.shouldFocus,o))}else o.dispose()}};DR._DECORATION_OPTIONS=dn.register({description:"content-hover-highlight",className:"hoverHighlight"});DR=NG([ER(1,Mn),ER(2,Dr)],DR);class bkt extends ze{constructor(e){super();this._editor=e,this._onDidChangeModelDecorations=this._register(new Le),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(t=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(t)}))}deltaDecorations(e,t){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(e,t)}finally{this._isChangingDecorations=!1}}}class Ckt{constructor(e,t,i,r,s,o){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=i,this.preferAbove=r,this.stoleFocus=s,this.disposables=o}}let b_=class x1e extends ze{constructor(e,t){super();this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=ue.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new G_e),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return(t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition)!==null&&t!==void 0?t:null}get colorPicker(){var e,t;return(t=(e=this._visibleData)===null||e===void 0?void 0:e.colorPicker)!==null&&t!==void 0?t:null}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return x1e.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(On.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${i/t}`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){const e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){const i=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==i&&(this._hover.contentsDomNode.style.paddingBottom=i,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};b_.ID="editor.contrib.contentHoverWidget";b_=NG([ER(1,Zt)],b_);let CW=class extends ze{constructor(e){super();this._keybindingService=e,this._hasContent=!1,this.hoverElement=$se("div.hover-row.status-bar"),this.actionsElement=qe(this.hoverElement,$se("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(yG.render(this.actionsElement,e,i))}append(e){const t=qe(this.actionsElement,e);return this._hasContent=!0,t}};CW=NG([ER(0,Dr)],CW);class IR{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(t.type!==1)return[];const i=e.getModel(),r=t.range.startLineNumber,s=i.getLineMaxColumn(r);return e.getLineDecorations(r).filter(o=>{if(o.options.isWholeLine)return!0;const a=o.range.startLineNumber===r?o.range.startColumn:1,l=o.range.endLineNumber===r?o.range.endColumn:s;if(o.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(a>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return Hr.EMPTY;const i=IR._getLineDecorations(this._editor,t);return Hr.merge(this._participants.map(r=>r.computeAsync?r.computeAsync(t,i,e):Hr.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=IR._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return L1(t)}}const Vse=et;class oy extends ze{constructor(e,t,i=r0t){super();this._renderDisposeables=this._register(new it),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new G_e),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Qg({editor:this._editor},t,i)),this._computer=new ykt(this._editor),this._hoverOperation=this._register(new Y_e(this._editor,this._computer)),this._register(this._hoverOperation.onResult(r=>{this._withResult(r.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return oy.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const r of t){const s=Vse("div.hover-row.markdown-hover"),o=qe(s,Vse("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(r.value));o.appendChild(a.element),i.appendChild(s)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),r=this._editor.getScrollTop(),s=this._editor.getOption(59),o=this._hover.containerDomNode.clientHeight,a=i-r-(o-s)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}}oy.ID="editor.contrib.modesGlyphHoverWidget";class ykt{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){const e=r=>({value:r}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const r of t){if(!r.options.glyphMarginClassName)continue;const s=r.options.glyphMarginHoverMessage;!s||nw(s)||i.push(...BU(s).map(e))}return i}}var wkt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},tN=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let cv=class M1e{constructor(e,t,i,r,s){this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=r,this._toUnhook=new it,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(o=>{o.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(e){return e.getContribution(M1e.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(53);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._toUnhook.add(this._editor.onMouseUp(i=>this._onEditorMouseUp(i))),this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))):(this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(i=>this._onEditorScrollChanged(i)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target;if(t.type===9&&t.detail===b_.ID){this._hoverClicked=!0;return}t.type===12&&t.detail===oy.ID||(t.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,i,r,s,o;const a=e.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&a.type===9&&a.detail===b_.ID||this._isHoverSticky&&!((i=(t=e.event.browserEvent.view)===null||t===void 0?void 0:t.getSelection())===null||i===void 0?void 0:i.isCollapsed)||!this._isHoverSticky&&a.type===9&&a.detail===b_.ID&&((r=this._contentWidget)===null||r===void 0?void 0:r.isColorPickerVisible())||this._isHoverSticky&&a.type===12&&a.detail===oy.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(s=this._glyphWidget)===null||s===void 0||s.hide();return}if(a.type===2&&a.position){(o=this._contentWidget)===null||o===void 0||o.hide(),this._glyphWidget||(this._glyphWidget=new oy(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(a.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(DR,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};cv.ID="editor.contrib.hover";cv=wkt([tN(1,Mn),tN(2,Ku),tN(3,fr),tN(4,Zt)],cv);class Skt extends Et{constructor(){super({id:"editor.action.showHover",label:L({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let i=cv.get(t);if(!i)return;const r=t.getPosition(),s=new Y(r.lineNumber,r.column,r.lineNumber,r.column),o=t.getOption(2)===2;i.showContentHover(s,1,o)}}class Lkt extends Et{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:L({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const i=cv.get(t);if(!i)return;const r=t.getPosition();if(!r)return;const s=new Y(r.lineNumber,r.column,r.lineNumber,r.column),o=Q_.get(t);if(!o)return;o.startFindDefinitionFromCursor(r).then(()=>{i.showContentHover(s,1,!0)})}}oi(cv.ID,cv);ut(Skt);ut(Lkt);Hi((n,e)=>{const t=n.getColor(Uct);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);const i=n.getColor(F_);i&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${i}; }`);const r=n.getColor(Vj);r&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${r}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${r.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${r.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${r.transparent(.5)}; }`));const s=n.getColor(m4);s&&e.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);const o=n.getColor(v4);o&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${o}; }`);const a=n.getColor($j);a&&e.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);const l=n.getColor(jct);l&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);const u=n.getColor(sme);u&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${u}; }`)});class yW extends ze{constructor(e){super();this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=e.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==C_e||!t.range)return;const i=this._editor.getContribution(cv.ID);if(!!i&&!i.isColorPickerVisible()){const r=new Y(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);i.showContentHover(r,1,!1)}}}yW.ID="editor.contrib.colorContribution";oi(yW.ID,yW);class om{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const r=t.length,s=e.length;if(i+r>s)return!1;for(let o=0;o<r;o++){const a=e.charCodeAt(i+o),l=t.charCodeAt(o);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,i,r,s,o){const a=e.startLineNumber,l=e.startColumn,u=e.endLineNumber,c=e.endColumn,d=s.getLineContent(a),h=s.getLineContent(u);let f=d.lastIndexOf(t,l-1+t.length),g=h.indexOf(i,c-1-i.length);if(f!==-1&&g!==-1)if(a===u)d.substring(f+t.length,g).indexOf(i)>=0&&(f=-1,g=-1);else{const m=d.substring(f+t.length),b=h.substring(0,g);(m.indexOf(i)>=0||b.indexOf(i)>=0)&&(f=-1,g=-1)}let p;f!==-1&&g!==-1?(r&&f+t.length<d.length&&d.charCodeAt(f+t.length)===32&&(t=t+" "),r&&g>0&&h.charCodeAt(g-1)===32&&(i=" "+i,g-=1),p=om._createRemoveBlockCommentOperations(new Y(a,f+t.length+1,u,g+1),t,i)):(p=om._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=p.length===1?i:null);for(const m of p)o.addTrackedEditOperation(m.range,m.text)}static _createRemoveBlockCommentOperations(e,t,i){let r=[];return Y.isEmpty(e)?r.push(Sr.delete(new Y(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(r.push(Sr.delete(new Y(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),r.push(Sr.delete(new Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),r}static _createAddBlockCommentOperations(e,t,i,r){let s=[];return Y.isEmpty(e)?s.push(Sr.replace(new Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(s.push(Sr.insert(new Ae(e.startLineNumber,e.startColumn),t+(r?" ":""))),s.push(Sr.insert(new Ae(e.endLineNumber,e.endColumn),(r?" ":"")+i))),s}getEditOperations(e,t){const i=this._selection.startLineNumber,r=this._selection.startColumn;e.tokenizeIfCheap(i);const s=e.getLanguageIdAtPosition(i,r),o=this.languageConfigurationService.getLanguageConfiguration(s).comments;!o||!o.blockCommentStartToken||!o.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,o.blockCommentStartToken,o.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length===2){const r=i[0],s=i[1];return new vt(r.range.endLineNumber,r.range.endColumn,s.range.startLineNumber,s.range.startColumn)}else{const r=i[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new vt(r.endLineNumber,r.endColumn+s,r.endLineNumber,r.endColumn+s)}}}class Qf{constructor(e,t,i,r,s,o,a){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=r,this._insertSpace=s,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(e,t,i,r){e.tokenizeIfCheap(t);const s=e.getLanguageIdAtPosition(t,1),o=r.getLanguageConfiguration(s).comments,a=o?o.lineCommentToken:null;if(!a)return null;let l=[];for(let u=0,c=i-t+1;u<c;u++)l[u]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(e,t,i,r,s,o,a,l){let u=!0,c;e===0?c=!0:e===1?c=!1:c=!0;for(let d=0,h=r.length;d<h;d++){const f=r[d],g=s+d;if(g===s&&a){f.ignore=!0;continue}const p=i.getLineContent(g),m=oa(p);if(m===-1){f.ignore=o,f.commentStrOffset=p.length;continue}if(u=!1,f.ignore=!1,f.commentStrOffset=m,c&&!om._haystackHasNeedleAtOffset(p,f.commentStr,m)&&(e===0?c=!1:e===1||(f.ignore=!0)),c&&t){const b=m+f.commentStrLength;b<p.length&&p.charCodeAt(b)===32&&(f.commentStrLength+=1)}}if(e===0&&u){c=!1;for(let d=0,h=r.length;d<h;d++)r[d].ignore=!1}return{supported:!0,shouldRemoveComments:c,lines:r}}static _gatherPreflightData(e,t,i,r,s,o,a,l){const u=Qf._gatherPreflightCommentStrings(i,r,s,l);return u===null?{supported:!1}:Qf._analyzeLines(e,t,i,u,r,o,a,l)}_executeLineComments(e,t,i,r){let s;i.shouldRemoveComments?s=Qf._createRemoveLineCommentsOperations(i.lines,r.startLineNumber):(Qf._normalizeInsertionPoint(e,i.lines,r.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(i.lines,r.startLineNumber));const o=new Ae(r.positionLineNumber,r.positionColumn);for(let a=0,l=s.length;a<l;a++)t.addEditOperation(s[a].range,s[a].text),Y.isEmpty(s[a].range)&&Y.getStartPosition(s[a].range).equals(o)&&e.getLineContent(o.lineNumber).length+1===o.column&&(this._deltaColumn=(s[a].text||"").length);this._selectionId=t.trackSelection(r)}_attemptRemoveBlockComment(e,t,i,r){let s=t.startLineNumber,o=t.endLineNumber,a=r.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),l=e.getLineContent(s).lastIndexOf(i,a-1),u=e.getLineContent(o).indexOf(r,t.endColumn-1-i.length);return l!==-1&&u===-1&&(u=e.getLineContent(s).indexOf(r,l+i.length),o=s),l===-1&&u!==-1&&(l=e.getLineContent(o).lastIndexOf(i,u),s=o),t.isEmpty()&&(l===-1||u===-1)&&(l=e.getLineContent(s).indexOf(i),l!==-1&&(u=e.getLineContent(s).indexOf(r,l+i.length))),l!==-1&&e.getLineContent(s).charCodeAt(l+i.length)===32&&(i+=" "),u!==-1&&e.getLineContent(o).charCodeAt(u-1)===32&&(r=" "+r,u-=1),l!==-1&&u!==-1?om._createRemoveBlockCommentOperations(new Y(s,l+i.length+1,o,u+1),i,r):null}_executeBlockComment(e,t,i){e.tokenizeIfCheap(i.startLineNumber);let r=e.getLanguageIdAtPosition(i.startLineNumber,1),s=cs.getComments(r);if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;const o=s.blockCommentStartToken,a=s.blockCommentEndToken;let l=this._attemptRemoveBlockComment(e,i,o,a);if(!l){if(i.isEmpty()){const u=e.getLineContent(i.startLineNumber);let c=oa(u);c===-1&&(c=u.length),l=om._createAddBlockCommentOperations(new Y(i.startLineNumber,c+1,i.startLineNumber,u.length+1),o,a,this._insertSpace)}else l=om._createAddBlockCommentOperations(new Y(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),o,a,this._insertSpace);l.length===1&&(this._deltaColumn=o.length+1)}this._selectionId=t.trackSelection(i);for(const u of l)t.addEditOperation(u.range,u.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new Y(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const r=Qf._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return r.supported?this._executeLineComments(e,t,r,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new vt(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];o.ignore||i.push(Sr.delete(new Y(t+r,o.commentStrOffset+1,t+r,o.commentStrOffset+o.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[];const r=this._insertSpace?" ":"";for(let s=0,o=e.length;s<o;s++){const a=e[s];a.ignore||i.push(Sr.insert(new Ae(t+s,a.commentStrOffset+1),a.commentStr+r))}return i}static nextVisibleColumn(e,t,i,r){return i?e+(t-e%t):e+r}static _normalizeInsertionPoint(e,t,i,r){let s=1073741824,o,a;for(let l=0,u=t.length;l<u;l++){if(t[l].ignore)continue;const c=e.getLineContent(i+l);let d=0;for(let h=0,f=t[l].commentStrOffset;d<s&&h<f;h++)d=Qf.nextVisibleColumn(d,r,c.charCodeAt(h)===9,1);d<s&&(s=d)}s=Math.floor(s/r)*r;for(let l=0,u=t.length;l<u;l++){if(t[l].ignore)continue;const c=e.getLineContent(i+l);let d=0;for(o=0,a=t[l].commentStrOffset;d<s&&o<a;o++)d=Qf.nextVisibleColumn(d,r,c.charCodeAt(o)===9,1);d>s?t[l].commentStrOffset=o-1:t[l].commentStrOffset=o}}}class xG extends Et{constructor(e,t){super(t);this._type=e}run(e,t){const i=e.get(fo);if(!t.hasModel())return;const r=t.getModel(),s=[],o=r.getOptions(),a=t.getOption(19),l=t.getSelections().map((c,d)=>({selection:c,index:d,ignoreFirstLine:!1}));l.sort((c,d)=>Y.compareRangesUsingStarts(c.selection,d.selection));let u=l[0];for(let c=1;c<l.length;c++){const d=l[c];u.selection.endLineNumber===d.selection.startLineNumber&&(u.index<d.index?d.ignoreFirstLine=!0:(u.ignoreFirstLine=!0,u=d))}for(const c of l)s.push(new Qf(i,c.selection,o.tabSize,this._type,a.insertSpace,a.ignoreEmptyLines,c.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class kkt extends xG{constructor(){super(0,{id:"editor.action.commentLine",label:L("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:_e.MenubarEditMenu,group:"5_insert",title:L({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class Ekt extends xG{constructor(){super(1,{id:"editor.action.addCommentLine",label:L("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2081),weight:100}})}}class Dkt extends xG{constructor(){super(2,{id:"editor.action.removeCommentLine",label:L("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2099),weight:100}})}}class Ikt extends Et{constructor(){super({id:"editor.action.blockComment",label:L("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:_e.MenubarEditMenu,group:"5_insert",title:L({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(fo);if(!t.hasModel())return;const r=t.getOption(19),s=[],o=t.getSelections();for(const a of o)s.push(new om(a,r.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}ut(kkt);ut(Ekt);ut(Dkt);ut(Ikt);var Tkt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},GS=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let pw=class A1e{constructor(e,t,i,r,s,o){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=r,this._keybindingService=s,this._menuService=o,this._toDispose=new it,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(a=>this._onContextMenu(a))),this._toDispose.add(this._editor.onMouseWheel(a=>{if(this._contextMenuIsBeingShownCount>0){const l=this._contextViewService.getContextViewElement(),u=a.srcElement;u.shadowRoot&&qm(l)===u.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(a=>{a.keyCode===58&&(a.preventDefault(),a.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(A1e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText||(e.event.preventDefault(),e.event.stopPropagation(),e.target.type!==6&&e.target.type!==7&&e.target.type!==1))return;if(this._editor.focus(),e.target.position){let i=!1;for(const r of this._editor.getSelections())if(r.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?_e.SimpleEditorContext:_e.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],r=this._menuService.createMenu(t,this._contextKeyService),s=r.getActions({arg:e.uri});r.dispose();for(let o of s){const[,a]=o;let l=0;for(const u of a)if(u instanceof Mj){const c=this._getMenuActions(e,u.item.submenu);c.length>0&&(i.push(new s4(u.id,u.label,c)),l++)}else i.push(u),l++;l&&i.push(new xu)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),o=io(this._editor.getDomNode()),a=o.left+s.left,l=o.top+s.top+s.height;t={x:a,y:l}}const r=this._editor.getOption(115)&&!Ad;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:r?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:s=>{const o=this._keybindingFor(s);if(o)return new Vk(s,s,{label:!0,keybinding:o.getLabel(),isMenu:!0});const a=s;return typeof a.getActionViewItem=="function"?a.getActionViewItem():new Vk(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};pw.ID="editor.contrib.contextmenu";pw=Tkt([GS(1,Ev),GS(2,fD),GS(3,Zt),GS(4,Dr),GS(5,N1)],pw);class Nkt extends Et{constructor(){super({id:"editor.action.showContextMenu",label:L("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:ue.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=pw.get(t))===null||i===void 0||i.showContextMenu()}}oi(pw.ID,pw);ut(Nkt);class v6{constructor(e){this.selections=e}equals(e){const t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let r=0;r<t;r++)if(!this.selections[r].equalsSelection(e.selections[r]))return!1;return!0}}class _6{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class t1 extends ze{constructor(e){super();this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const i=new v6(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new _6(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(t1.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new _6(new v6(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new _6(new v6(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}t1.ID="editor.contrib.cursorUndoRedoController";class xkt extends Et{constructor(){super({id:"cursorUndo",label:L("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:ue.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var r;(r=t1.get(t))===null||r===void 0||r.cursorUndo()}}class Mkt extends Et{constructor(){super({id:"cursorRedo",label:L("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var r;(r=t1.get(t))===null||r===void 0||r.cursorRedo()}}oi(t1.ID,t1);ut(xkt);ut(Mkt);class Akt{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){let i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new vt(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new vt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new vt(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new vt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new vt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function Rb(n){return kn?n.altKey:n.ctrlKey}class xg extends ze{constructor(e){super();this._editor=e,this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Rb(e)&&(this._modifierPressed=!0),this._mouseDown&&Rb(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Rb(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===xg.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(s=>t.position&&s.containsPosition(t.position));if(r.length===1)this._dragSelection=r[0];else return}Rb(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new Ae(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:s,selectionStartColumn:o}=r;i=[new vt(s,o,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(r=>r.containsPosition(t)?new vt(t.lineNumber,t.column,t.lineNumber,t.column):r);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Rb(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(xg.ID,new Akt(this._dragSelection,t,Rb(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new Y(e.lineNumber,e.column,e.lineNumber,e.column),options:xg._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}xg.ID="editor.contrib.dragAndDrop";xg.TRIGGER_KEY_VALUE=kn?6:5;xg._DECORATION_OPTIONS=dn.register({description:"dnd-target",className:"dnd-target"});oi(xg.ID,xg);class Vo{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const r=i.options;if(r===Vo._FIND_MATCH_DECORATION||r===Vo._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let r=0,s=this._decorations.length;r<s;r++){let o=this._editor.getModel().getDecorationRange(this._decorations[r]);if(e.equalsRange(o)){t=this._decorations[r],i=r+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(r=>{if(this._highlightedDecorationId!==null&&(r.changeDecorationOptions(this._highlightedDecorationId,Vo._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,r.changeDecorationOptions(this._highlightedDecorationId,Vo._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let s=this._editor.getModel().getDecorationRange(t);if(s.startLineNumber!==s.endLineNumber&&s.endColumn===1){let o=s.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(o);s=new Y(s.startLineNumber,s.startColumn,o,a)}this._rangeHighlightDecorationId=r.addDecoration(s,Vo._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let r=Vo._FIND_MATCH_DECORATION,s=[];if(e.length>1e3){r=Vo._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),u=this._editor.getLayoutInfo().height/a,c=Math.max(2,Math.ceil(3/u));let d=e[0].range.startLineNumber,h=e[0].range.endLineNumber;for(let f=1,g=e.length;f<g;f++){const p=e[f].range;h+c>=p.startLineNumber?p.endLineNumber>h&&(h=p.endLineNumber):(s.push({range:new Y(d,1,h,1),options:Vo._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=p.startLineNumber,h=p.endLineNumber)}s.push({range:new Y(d,1,h,1),options:Vo._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]={range:e[a].range,options:r};this._decorations=i.deltaDecorations(this._decorations,o),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),(t==null?void 0:t.length)&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,Vo._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],r=this._editor.getModel().getDecorationRange(i);if(!(!r||r.endLineNumber>e.lineNumber)){if(r.endLineNumber<e.lineNumber)return r;if(!(r.endColumn>e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){let r=this._decorations[t],s=this._editor.getModel().getDecorationRange(r);if(!(!s||s.startLineNumber<e.lineNumber)){if(s.startLineNumber>e.lineNumber)return s;if(!(s.startColumn<e.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Vo._CURRENT_FIND_MATCH_DECORATION=dn.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:wr(zj),position:Pu.Center},minimap:{color:wr(Q2),position:Nu.Inline}});Vo._FIND_MATCH_DECORATION=dn.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:wr(zj),position:Pu.Center},minimap:{color:wr(Q2),position:Nu.Inline}});Vo._FIND_MATCH_NO_OVERVIEW_DECORATION=dn.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});Vo._FIND_MATCH_ONLY_OVERVIEW_DECORATION=dn.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:wr(zj),position:Pu.Center}});Vo._RANGE_HIGHLIGHT_DECORATION=dn.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});Vo._FIND_SCOPE_DECORATION=dn.register({description:"find-scope",className:"findScope",isWholeLine:!0});class Rkt{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let i=[];for(let o=0;o<this._ranges.length;o++)i.push({range:this._ranges[o],text:this._replaceStrings[o]});i.sort((o,a)=>Y.compareRangesUsingStarts(o.range,a.range));let r=[],s=i[0];for(let o=1;o<i.length;o++)s.range.endLineNumber===i[o].range.startLineNumber&&s.range.endColumn===i[o].range.startColumn?(s.range=s.range.plusRange(i[o].range),s.text=s.text+i[o].text):(r.push(s),s=i[o]);r.push(s);for(const o of r)t.addEditOperation(o.range,o.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function R1e(n,e){if(n&&n[0]!==""){const t=Wse(n,e,"-"),i=Wse(n,e,"_");return t&&!i?Hse(n,e,"-"):!t&&i?Hse(n,e,"_"):n[0].toUpperCase()===n[0]?e.toUpperCase():n[0].toLowerCase()===n[0]?e.toLowerCase():Hot(n[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):n[0][0].toUpperCase()!==n[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function Wse(n,e,t){return n[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&n[0].split(t).length===e.split(t).length}function Hse(n,e,t){const i=e.split(t),r=n[0].split(t);let s="";return i.forEach((o,a)=>{s+=R1e([r[a]],o)+t}),s.slice(0,-1)}class zse{constructor(e){this.staticValue=e,this.kind=0}}class Okt{constructor(e){this.pieces=e,this.kind=1}}class mw{constructor(e){!e||e.length===0?this._state=new zse(""):e.length===1&&e[0].staticValue!==null?this._state=new zse(e[0].staticValue):this._state=new Okt(e)}static fromStaticValue(e){return new mw([C_.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?R1e(e,this._state.staticValue):this._state.staticValue;let i="";for(let r=0,s=this._state.pieces.length;r<s;r++){let o=this._state.pieces[r];if(o.staticValue!==null){i+=o.staticValue;continue}let a=mw._substitute(o.matchIndex,e);if(o.caseOps!==null&&o.caseOps.length>0){let l=[],u=o.caseOps.length,c=0;for(let d=0,h=a.length;d<h;d++){if(c>=u){l.push(a.slice(d));break}switch(o.caseOps[c]){case"U":l.push(a[d].toUpperCase());break;case"u":l.push(a[d].toUpperCase()),c++;break;case"L":l.push(a[d].toLowerCase());break;case"l":l.push(a[d].toLowerCase()),c++;break;default:l.push(a[d])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class C_{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(e){return new C_(e,-1,null)}static caseOps(e,t){return new C_(null,e,t)}}class Pkt{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=C_.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=C_.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=C_.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new mw(this._result)}}function Fkt(n){if(!n||n.length===0)return new mw(null);let e=[],t=new Pkt(n);for(let i=0,r=n.length;i<r;i++){let s=n.charCodeAt(i);if(s===92){if(i++,i>=r)break;let o=n.charCodeAt(i);switch(o){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(o));break}continue}if(s===36){if(i++,i>=r)break;let o=n.charCodeAt(i);if(o===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(o===48||o===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=o&&o<=57){let a=o-48;if(i+1<r){let l=n.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}const Nv=new St("findWidgetVisible",!1);Nv.toNegated();const bP=new St("findInputFocussed",!1),MG=new St("replaceInputFocussed",!1),nN={primary:545,mac:{primary:2593}},iN={primary:565,mac:{primary:2613}},rN={primary:560,mac:{primary:2608}},sN={primary:554,mac:{primary:2602}},oN={primary:558,mac:{primary:2606}},Bi={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},am=19999,Bkt=240;class _L{constructor(e,t){this._toDispose=new it,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Ra,this._decorations=new Vo(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Ni(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,jn(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},Bkt)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t!="undefined"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new Y(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));let r=this._findMatches(i,!1,am);this._decorations.set(r,i);const s=this._editor.getSelection();let o=this._decorations.getCurrentMatchesPosition(s);if(o===0&&r.length>0){const a=Cge(r.map(l=>l.range),l=>Y.compareRangesUsingStarts(l,s)>=0);o=a>0?a-1+1:o}this._state.changeMatchInfo(o,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:r}=e,s=this._editor.getModel();return t||r===1?(i===1?i=s.getLineCount():i--,r=s.getLineMaxColumn(i)):r--,new Ae(i,r)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const c=this._decorations.matchAfterPosition(e);c&&this._setCurrentFindMatch(c);return}if(this._decorations.getCount()<am){let c=this._decorations.matchBeforePosition(e);c&&c.isEmpty()&&c.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),c=this._decorations.matchBeforePosition(e)),c&&this._setCurrentFindMatch(c);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),r=_L._getSearchRange(this._editor.getModel(),i);r.getEndPosition().isBefore(e)&&(e=r.getEndPosition()),e.isBefore(r.getStartPosition())&&(e=r.getEndPosition());let{lineNumber:s,column:o}=e,a=this._editor.getModel(),l=new Ae(s,o),u=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(u&&u.range.isEmpty()&&u.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),u=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),!!u){if(!t&&!r.containsRange(u.range))return this._moveToPrevMatch(u.range.getStartPosition(),!0);this._setCurrentFindMatch(u.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:r}=e,s=this._editor.getModel();return t||r===s.getLineMaxColumn(i)?(i===s.getLineCount()?i=1:i++,r=1):r++,new Ae(i,r)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<am){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,r=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),o=_L._getSearchRange(this._editor.getModel(),s);o.getEndPosition().isBefore(e)&&(e=o.getStartPosition()),e.isBefore(o.getStartPosition())&&(e=o.getStartPosition());let{lineNumber:a,column:l}=e,u=this._editor.getModel(),c=new Ae(a,l),d=u.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t);return i&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),d=u.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t)),d?!r&&!o.containsRange(d.range)?this._getNextMatch(d.range.getEndPosition(),t,i,!0):d:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?Fkt(this._state.replaceString):mw.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let r=e.buildReplaceString(i.matches,this._state.preserveCase),s=new Zs(t,r);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new Ae(t.startLineNumber,t.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const r=(e||[null]).map(s=>_L._getSearchRange(this._editor.getModel(),s));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=am?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new o0(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let d="mu";i.ignoreCase&&(d+="i"),i.global&&(d+="g"),i=new RegExp(i.source,d)}const r=this._editor.getModel(),s=r.getValue(1),o=r.getFullModelRange(),a=this._getReplacePattern();let l;const u=this._state.preserveCase;a.hasReplacementPatterns||u?l=s.replace(i,function(){return a.buildReplaceString(arguments,u)}):l=s.replace(i,a.buildReplaceString(null,u));let c=new nK(o,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)}_regularReplaceAll(e){const t=this._getReplacePattern();let i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let o=0,a=i.length;o<a;o++)r[o]=t.buildReplaceString(i[o].matches,this._state.preserveCase);let s=new Rkt(this._editor.getSelection(),i.map(o=>o.range),r);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),i=this._findMatches(e,!1,1073741824).map(s=>new vt(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)),r=this._editor.getSelection();for(let s=0,o=i.length;s<o;s++)if(i[s].equalsRange(r)){i=[r].concat(i.slice(0,s)).concat(i.slice(s+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}const $kt={inputActiveOptionBorder:We.fromHex("#007ACC00"),inputActiveOptionForeground:We.fromHex("#FFFFFF"),inputActiveOptionBackground:We.fromHex("#0E639C50")};class MD extends jc{constructor(e){super();this._onChange=this._register(new Le),this.onChange=this._onChange.event,this._onKeyDown=this._register(new Le),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},$kt),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...ia.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const Vkt=L("caseDescription","Match Case"),Wkt=L("wordsDescription","Match Whole Word"),Hkt=L("regexDescription","Use Regular Expression");class O1e extends MD{constructor(e){super({icon:k.caseSensitive,title:Vkt+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class P1e extends MD{constructor(e){super({icon:k.wholeWord,title:Wkt+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class F1e extends MD{constructor(e){super({icon:k.regex,title:Hkt+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class CP extends jc{constructor(e,t,i,r){super();this._hideSoon=this._register(new Ni(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const s=r.getColorTheme().getColor(G7),o=r.getColorTheme().getColor(Y7),a=r.getColorTheme().getColor(q7);this.caseSensitive=this._register(new O1e({appendTitle:this._keybindingLabelFor(Bi.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:s,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new P1e({appendTitle:this._keybindingLabelFor(Bi.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:s,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new F1e({appendTitle:this._keybindingLabelFor(Bi.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:s,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(l=>{let u=!1;l.isRegex&&(this.regex.checked=this._state.isRegex,u=!0),l.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,u=!0),l.matchCase&&(this.caseSensitive.checked=this._state.matchCase,u=!0),!this._state.isRevealed&&u&&this._revealTemporarily()})),this._register(kj(this._domNode,l=>this._onMouseOut())),this._register(nt(this._domNode,"mouseover",l=>this._onMouseOver())),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return CP.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(G7),inputActiveOptionForeground:e.getColor(Y7),inputActiveOptionBackground:e.getColor(q7)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}CP.ID="editor.contrib.findOptionsWidget";Hi((n,e)=>{const t=n.getColor(aa);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const i=n.getColor(Dg);i&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`);const r=n.getColor(Qm);r&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${r}; }`);const s=n.getColor(rr);s&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)});function aN(n,e){return n===1?!0:n===2?!1:e}class zkt extends ze{constructor(){super();this._onFindReplaceStateChange=this._register(new Le),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return aN(this._isRegexOverride,this._isRegex)}get wholeWord(){return aN(this._wholeWordOverride,this._wholeWord)}get matchCase(){return aN(this._matchCaseOverride,this._matchCase)}get preserveCase(){return aN(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},s=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,r.matchesPosition=!0,s=!0),this._matchesCount!==t&&(this._matchesCount=t,r.matchesCount=!0,s=!0),typeof i!="undefined"&&(Y.equalsRange(this._currentMatch,i)||(this._currentMatch=i,r.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(r)}change(e,t,i=!0){var r;let s={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},o=!1;const a=this.isRegex,l=this.wholeWord,u=this.matchCase,c=this.preserveCase;typeof e.searchString!="undefined"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,s.searchString=!0,o=!0),typeof e.replaceString!="undefined"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,s.replaceString=!0,o=!0),typeof e.isRevealed!="undefined"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,s.isRevealed=!0,o=!0),typeof e.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,s.isReplaceRevealed=!0,o=!0),typeof e.isRegex!="undefined"&&(this._isRegex=e.isRegex),typeof e.wholeWord!="undefined"&&(this._wholeWord=e.wholeWord),typeof e.matchCase!="undefined"&&(this._matchCase=e.matchCase),typeof e.preserveCase!="undefined"&&(this._preserveCase=e.preserveCase),typeof e.searchScope!="undefined"&&(((r=e.searchScope)===null||r===void 0?void 0:r.every(d=>{var h;return(h=this._searchScope)===null||h===void 0?void 0:h.some(f=>!Y.equalsRange(f,d))}))||(this._searchScope=e.searchScope,s.searchScope=!0,o=!0)),typeof e.loop!="undefined"&&this._loop!==e.loop&&(this._loop=e.loop,s.loop=!0,o=!0),typeof e.isSearching!="undefined"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,s.isSearching=!0,o=!0),typeof e.filters!="undefined"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,s.filters=!0,o=!0),this._isRegexOverride=typeof e.isRegexOverride!="undefined"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride!="undefined"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride!="undefined"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride!="undefined"?e.preserveCaseOverride:0,a!==this.isRegex&&(o=!0,s.isRegex=!0),l!==this.wholeWord&&(o=!0,s.wholeWord=!0),u!==this.matchCase&&(o=!0,s.matchCase=!0),c!==this.preserveCase&&(o=!0,s.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=am}}const Ukt=L("defaultLabel","input");class jkt extends jc{constructor(e,t,i,r){super();this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new Le),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Le),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Le),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new Le),this._onKeyUp=this._register(new Le),this._onCaseSensitiveKeyDown=this._register(new Le),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new Le),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||Ukt,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const s=r.appendCaseSensitiveLabel||"",o=r.appendWholeWordsLabel||"",a=r.appendRegexLabel||"",l=r.history||[],u=!!r.flexibleHeight,c=!!r.flexibleWidth,d=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new t0e(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,showHistoryHint:r.showHistoryHint,flexibleHeight:u,flexibleWidth:c,flexibleMaxHeight:d})),this.regex=this._register(new F1e({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(f=>{this._onRegexKeyDown.fire(f)})),this.wholeWords=this._register(new P1e({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new O1e({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(f=>{this._onCaseSensitiveKeyDown.fire(f)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let h=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){let g=h.indexOf(document.activeElement);if(g>=0){let p=-1;f.equals(17)?p=(g+1)%h.length:f.equals(15)&&(g===0?p=h.length-1:p=g-1),f.equals(9)?(h[g].blur(),this.inputBox.focus()):p>=0&&h[p].focus(),ui.stop(f,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),e&&e.appendChild(this.domNode),this._register(nt(this.inputBox.inputElement,"compositionstart",f=>{this.imeSessionInProgress=!0})),this._register(nt(this.inputBox.inputElement,"compositionend",f=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const Kkt=L("defaultLabel","input"),Gkt=L("label.preserveCaseCheckbox","Preserve Case");class qkt extends MD{constructor(e){super({icon:k.preserveCase,title:Gkt+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Ykt extends jc{constructor(e,t,i,r){super();this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new Le),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Le),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Le),this._onInput=this._register(new Le),this._onKeyUp=this._register(new Le),this._onPreserveCaseKeyDown=this._register(new Le),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||Kkt,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const s=r.appendPreserveCaseLabel||"",o=r.history||[],a=!!r.flexibleHeight,l=!!r.flexibleWidth,u=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new t0e(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,showHistoryHint:r.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:u})),this.preserveCase=this._register(new qkt({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let c=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){let f=c.indexOf(document.activeElement);if(f>=0){let g=-1;h.equals(17)?g=(f+1)%c.length:h.equals(15)&&(f===0?g=c.length-1:g=f-1),h.equals(9)?(c[f].blur(),this.inputBox.focus()):g>=0&&c[g].focus(),ui.stop(h,!0)}}});let d=document.createElement("div");d.className="controls",d.style.display=this._showOptionButtons?"block":"none",d.appendChild(this.preserveCase.domNode),this.domNode.appendChild(d),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var B1e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$1e=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const V1e="suggestWidgetVisible",pE="historyNavigationWidget",W1e="historyNavigationForwardsEnabled",H1e="historyNavigationBackwardsEnabled";function Xkt(n,e,t){new St(t,e).bindTo(n)}function Zkt(n,e){return n.createScoped(e.target)}function z1e(n,e){return n.getContext(document.activeElement).getValue(e)}function U1e(n,e){const t=Zkt(n,e);Xkt(t,e,pE);const i=new St(W1e,!0).bindTo(t),r=new St(H1e,!0).bindTo(t);return{scopedContextKeyService:t,historyNavigationForwardsEnablement:i,historyNavigationBackwardsEnablement:r}}let wW=class extends jkt{constructor(e,t,i,r,s=!1){super(e,t,s,i);this._register(U1e(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};wW=B1e([$1e(3,Zt)],wW);let SW=class extends Ykt{constructor(e,t,i,r,s=!1){super(e,t,s,i);this._register(U1e(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};SW=B1e([$1e(3,Zt)],SW);ha.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:_t.and(_t.has(pE),_t.equals(H1e,!0),_t.equals(V1e,!1)),primary:16,secondary:[528],handler:n=>{const e=z1e(n.get(Zt),pE);e&&e.historyNavigator.showPreviousValue()}});ha.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:_t.and(_t.has(pE),_t.equals(W1e,!0),_t.equals(V1e,!1)),primary:18,secondary:[530],handler:n=>{const e=z1e(n.get(Zt),pE);e&&e.historyNavigator.showNextValue()}});function Use(n){var e,t;return((e=n.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=n.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}var Qkt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const Jkt=ws("find-selection",k.selection,L("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),jse=ws("find-collapsed",k.chevronRight,L("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Kse=ws("find-expanded",k.chevronDown,L("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),eEt=ws("find-replace",k.replace,L("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),tEt=ws("find-replace-all",k.replaceAll,L("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),nEt=ws("find-previous-match",k.arrowUp,L("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),iEt=ws("find-next-match",k.arrowDown,L("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),rEt=L("label.find","Find"),sEt=L("placeholder.find","Find"),oEt=L("label.previousMatchButton","Previous Match"),aEt=L("label.nextMatchButton","Next Match"),lEt=L("label.toggleSelectionFind","Find in Selection"),uEt=L("label.closeButton","Close"),cEt=L("label.replace","Replace"),dEt=L("placeholder.replace","Replace"),hEt=L("label.replaceButton","Replace"),fEt=L("label.replaceAllButton","Replace All"),gEt=L("label.toggleReplaceButton","Toggle Replace"),pEt=L("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",am),mEt=L("label.matchesLocation","{0} of {1}"),Gse=L("label.noResults","No results"),oh=419,vEt=275,_Et=vEt-54;let qS=69;const bEt=33,qse="ctrlEnterReplaceAll.windows.donotask",Yse=kn?256:2048;class b6{constructor(e){this.afterLineNumber=e,this.heightInPx=bEt,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Xse(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){n.stopPropagation();return}}function Zse(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){n.stopPropagation();return}}class yP extends jc{constructor(e,t,i,r,s,o,a,l,u){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=r,this._keybindingService=s,this._contextKeyService=o,this._storageService=l,this._notificationService=u,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(qse,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Jh(500),this._register(_n(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(c=>this._onStateChanged(c))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(c=>{if(c.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),c.hasChanged(131)&&this._tryUpdateWidgetWidth(),c.hasChanged(2)&&this.updateAccessibilitySupport(),c.hasChanged(35)){const d=this._codeEditor.getOption(35).addExtraSpaceOnTop;d&&!this._viewZone&&(this._viewZone=new b6(0),this._showViewZone()),!d&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Qkt(this,void 0,void 0,function*(){if(this._isVisible){let c=yield this._controller.getGlobalBufferTerm();c&&c!==this._state.searchString&&(this._state.change({searchString:c},!1),this._findInput.select())}}))),this._findInputFocused=bP.bindTo(o),this._findFocusTracker=this._register(Uy(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=MG.bindTo(o),this._replaceFocusTracker=this._register(Uy(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new b6(0)),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(c=>{if(c.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return yP.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=cc(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Qt)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=qS+"px",this._state.matchesCount>=am?this._matchesCount.title=pEt:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=am&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=Su(mEt,i,t)}else e=Gse;this._matchesCount.appendChild(document.createTextNode(e)),ro(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),qS=Math.max(qS,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===Gse)return i===""?L("ariaSearchNoResultEmpty","{0} found",e):L("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const r=L("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),s=this._codeEditor.getModel();return s&&t.startLineNumber<=s.getLineCount()&&t.startLineNumber>=1?`${s.getLineContent(t.startLineNumber)}, ${r}`:r}return L("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const r=io(i),s=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),o=r.left+(s?s.left:0),a=s?s.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const l=Fpe(this._domNode).left;o>l&&(t=!1);const u=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());r.left+(u?u.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(r=>{i.heightInPx=this._getHeight(),this._viewZoneId=r.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new b6(0));const i=this._viewZone;this._codeEditor.changeViewZones(r=>{if(this._viewZoneId!==void 0){const s=this._getHeight();if(s===i.heightInPx)return;let o=s-i.heightInPx;i.heightInPx=s,r.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o);return}else{let s=this._getHeight();if(s-=this._codeEditor.getOption(75).top,s<=0)return;i.heightInPx=s,this._viewZoneId=r.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(G7),inputActiveOptionBackground:e.getColor(q7),inputActiveOptionForeground:e.getColor(Y7),inputBackground:e.getColor(Aj),inputForeground:e.getColor(Rj),inputBorder:e.getColor(Oj),inputValidationInfoBackground:e.getColor(ome),inputValidationInfoForeground:e.getColor(ame),inputValidationInfoBorder:e.getColor(lme),inputValidationWarningBackground:e.getColor(ume),inputValidationWarningForeground:e.getColor(cme),inputValidationWarningBorder:e.getColor(dme),inputValidationErrorBackground:e.getColor(hme),inputValidationErrorForeground:e.getColor(fme),inputValidationErrorBorder:e.getColor(gme)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!Sj(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,r=e.minimap.minimapWidth;let s=!1,o=!1,a=!1;if(this._resized&&cc(this._domNode)>oh){this._domNode.style.maxWidth=`${i-28-r-15}px`,this._replaceInput.width=cc(this._findInput.domNode);return}if(oh+28+r>=i&&(o=!0),oh+28+r-qS>=i&&(a=!0),oh+28+r-qS>=i+50&&(s=!0),this._domNode.classList.toggle("collapsed-find-widget",s),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",o),!a&&!s&&(this._domNode.style.maxWidth=`${i-28-r-15}px`),this._resized){this._findInput.inputBox.layout();let l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=cc(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!Y.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(Yse|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return Xse(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return Zse(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(Yse|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Gs&&Ld&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(L("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(qse,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return Xse(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return Zse(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new wW(null,this._contextViewProvider,{width:_Et,label:rEt,placeholder:sEt,appendCaseSensitiveLabel:this._keybindingLabelFor(Bi.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Bi.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Bi.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(u){return{content:u.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Use(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),Ao&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ob({label:oEt+this._keybindingLabelFor(Bi.PreviousMatchFindAction),icon:nEt,onTrigger:()=>{this._codeEditor.getAction(Bi.PreviousMatchFindAction).run().then(void 0,Qt)}})),this._nextBtn=this._register(new Ob({label:aEt+this._keybindingLabelFor(Bi.NextMatchFindAction),icon:iEt,onTrigger:()=>{this._codeEditor.getAction(Bi.NextMatchFindAction).run().then(void 0,Qt)}}));let i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const r=document.createElement("div");r.className="find-actions",i.appendChild(r),r.appendChild(this._matchesCount),r.appendChild(this._prevBtn.domNode),r.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new MD({icon:Jkt,title:lEt+this._keybindingLabelFor(Bi.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let l=this._codeEditor.getSelections();l.map(u=>(u.endColumn===1&&u.endLineNumber>u.startLineNumber&&(u=u.setEndPosition(u.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(u.endLineNumber-1))),u.isEmpty()?null:u)).filter(u=>!!u),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),r.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ob({label:uEt+this._keybindingLabelFor(Bi.CloseFindWidgetCommand),icon:bve,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),r.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new SW(null,void 0,{label:cEt,placeholder:dEt,appendPreserveCaseLabel:this._keybindingLabelFor(Bi.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Use(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new Ob({label:hEt+this._keybindingLabelFor(Bi.ReplaceOneAction),icon:eEt,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1026)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new Ob({label:fEt+this._keybindingLabelFor(Bi.ReplaceAllAction),icon:tEt,onTrigger:()=>{this._controller.replaceAll()}}));let s=document.createElement("div");s.className="replace-part",s.appendChild(this._replaceInput.domNode);const o=document.createElement("div");o.className="replace-actions",s.appendChild(o),o.appendChild(this._replaceBtn.domNode),o.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ob({label:gEt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=cc(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${oh}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(s),this._resizeSash=new wo(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=oh;this._register(this._resizeSash.onDidStart(()=>{a=cc(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;let u=a+l.startX-l.currentX;if(u<oh)return;const c=parseFloat(Dj(this._domNode).maxWidth)||0;u>c||(this._domNode.style.width=`${u}px`,this._isReplaceVisible&&(this._replaceInput.width=cc(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const l=cc(this._domNode);if(l<oh)return;let u=oh;if(!this._resized||l===oh){const c=this._codeEditor.getLayoutInfo();u=c.width-28-c.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${u}px`,this._isReplaceVisible&&(this._replaceInput.width=cc(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}yP.ID="editor.contrib.findWidget";class Ob extends jc{constructor(e){super();this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Ti.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Ti.asClassNameArray(jse)),this._domNode.classList.add(...Ti.asClassNameArray(Kse))):(this._domNode.classList.remove(...Ti.asClassNameArray(Kse)),this._domNode.classList.add(...Ti.asClassNameArray(jse)))}}Hi((n,e)=>{const t=(g,p)=>{p&&e.addRule(`.monaco-editor ${g} { background-color: ${p}; }`)};t(".findMatch",n.getColor(Em)),t(".currentFindMatch",n.getColor(Vct)),t(".findScope",n.getColor(Wct));const i=n.getColor(aa);t(".find-widget",i);const r=n.getColor(Qm);r&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${r}; }`);const s=n.getColor(XC);s&&e.addRule(`.monaco-editor .findMatch { border: 1px ${n.type==="hc"?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const o=n.getColor(Hct);o&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${o}; padding: 1px; box-sizing: border-box; }`);const a=n.getColor(zct);a&&e.addRule(`.monaco-editor .findScope { border: 1px ${n.type==="hc"?"dashed":"solid"} ${a}; }`);const l=n.getColor(rr);l&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${l}; }`);const u=n.getColor(Dg);u&&e.addRule(`.monaco-editor .find-widget { color: ${u}; }`);const c=n.getColor(Cct);c&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${c}; }`);const d=n.getColor(Tct);if(d)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${d}; }`);else{const g=n.getColor(c_);g&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${g}; }`)}const h=n.getColor(J7);h&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${h} !important;
		}
	`);const f=n.getColor(Yh);f&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${f}; }`)});var j1e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mh=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},n1=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const CEt=524288;function LW(n,e="single",t=!1){if(!n.hasModel())return null;const i=n.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){const r=n.getConfiguredWordAtPosition(i.getStartPosition());if(r&&t===!1)return r.word}else if(n.getModel().getValueLengthInRange(i)<CEt)return n.getModel().getValueInRange(i)}return null}let ol=class K1e extends ze{constructor(e,t,i,r){super();this._editor=e,this._findWidgetVisible=Nv.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=r,this._updateHistoryDelayer=new Jh(500),this._state=this._register(new zkt),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(K1e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!bP.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=Fu(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return n1(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let i=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){let r=LW(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);r&&(this._state.isRegex?i.searchString=Fu(r):i.searchString=r)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let r=LW(this._editor,e.seedSearchStringFromSelection);r&&(i.searchString=r)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){let r=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;r&&(i.searchString=r)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){let r=this._editor.getSelections();r.some(s=>!s.isEmpty())&&(i.searchScope=r)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new _L(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return n1(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};ol.ID="editor.contrib.findController";ol=j1e([mh(1,Zt),mh(2,yf),mh(3,O1)],ol);let kW=class extends ol{constructor(e,t,i,r,s,o,a,l){super(e,i,a,l);this._contextViewService=t,this._keybindingService=r,this._themeService=s,this._notificationService=o,this._widget=null,this._findOptionsWidget=null}_start(e,t){const i=Object.create(null,{_start:{get:()=>super._start}});return n1(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const r=this._editor.getSelection();let s=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":s=!0;break;case"never":s=!1;break;case"multiline":{s=!!r&&r.startLineNumber!==r.endLineNumber;break}}e.updateSearchScope=e.updateSearchScope||s,yield i._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new yP(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new CP(this._editor,this._state,this._keybindingService,this._themeService))}};kW=j1e([mh(1,fD),mh(2,Zt),mh(3,Dr),mh(4,Ki),mh(5,Kr),mh(6,yf),mh(7,O1)],kW);const yEt=Qpe(new Zpe({id:Bi.StartFindAction,label:L("startFindAction","Find"),alias:"Find",precondition:_t.or(ue.focus,_t.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:_e.MenubarEditMenu,group:"3_find",title:L({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));yEt.addImplementation(0,(n,e,t)=>{const i=ol.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}):!1});const wEt={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:L("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:L("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:L("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:L("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class SEt extends Et{constructor(){super({id:Bi.StartFindWithArgs,label:L("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:wEt})}run(e,t,i){return n1(this,void 0,void 0,function*(){const r=ol.get(t);if(r){const s=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield r.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(i==null?void 0:i.findInSelection)||!1,loop:t.getOption(35).loop},s),r.setGlobalBufferTerm(r.getState().searchString)}})}}class LEt extends Et{constructor(){super({id:Bi.StartFindWithSelection,label:L("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return n1(this,void 0,void 0,function*(){const i=ol.get(t);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}}class G1e extends Et{run(e,t){return n1(this,void 0,void 0,function*(){const i=ol.get(t);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(i))})}}class kEt extends G1e{constructor(){super({id:Bi.NextMatchFindAction,label:L("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:ue.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:_t.and(ue.focus,bP),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class EEt extends G1e{constructor(){super({id:Bi.PreviousMatchFindAction,label:L("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:ue.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:_t.and(ue.focus,bP),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class q1e extends Et{run(e,t){return n1(this,void 0,void 0,function*(){const i=ol.get(t);if(!i)return;const r=t.getOption(35).seedSearchStringFromSelection==="selection";let s=null;t.getOption(35).seedSearchStringFromSelection!=="never"&&(s=LW(t,"single",r)),s&&i.setSearchString(s),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:r,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(i))})}}class DEt extends q1e{constructor(){super({id:Bi.NextSelectionMatchFindAction,label:L("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class IEt extends q1e{constructor(){super({id:Bi.PreviousSelectionMatchFindAction,label:L("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const TEt=Qpe(new Zpe({id:Bi.StartFindReplaceAction,label:L("startReplace","Replace"),alias:"Replace",precondition:_t.or(ue.focus,_t.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:_e.MenubarEditMenu,group:"3_find",title:L({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));TEt.addImplementation(0,(n,e,t)=>{if(!e.hasModel()||e.getOption(81))return!1;const i=ol.get(e);if(!i)return!1;const r=e.getSelection(),s=i.isFindInputFocused(),o=!r.isEmpty()&&r.startLineNumber===r.endLineNumber&&e.getOption(35).seedSearchStringFromSelection!=="never"&&!s,a=s||o?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:o?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})});oi(ol.ID,kW);ut(SEt);ut(LEt);ut(kEt);ut(EEt);ut(DEt);ut(IEt);const Zd=go.bindToContribution(ol.get);lt(new Zd({id:Bi.CloseFindWidgetCommand,precondition:Nv,handler:n=>n.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:_t.and(ue.focus,_t.not("isComposing")),primary:9,secondary:[1033]}}));lt(new Zd({id:Bi.ToggleCaseSensitiveCommand,precondition:void 0,handler:n=>n.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:ue.focus,primary:nN.primary,mac:nN.mac,win:nN.win,linux:nN.linux}}));lt(new Zd({id:Bi.ToggleWholeWordCommand,precondition:void 0,handler:n=>n.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:ue.focus,primary:iN.primary,mac:iN.mac,win:iN.win,linux:iN.linux}}));lt(new Zd({id:Bi.ToggleRegexCommand,precondition:void 0,handler:n=>n.toggleRegex(),kbOpts:{weight:100+5,kbExpr:ue.focus,primary:rN.primary,mac:rN.mac,win:rN.win,linux:rN.linux}}));lt(new Zd({id:Bi.ToggleSearchScopeCommand,precondition:void 0,handler:n=>n.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:ue.focus,primary:sN.primary,mac:sN.mac,win:sN.win,linux:sN.linux}}));lt(new Zd({id:Bi.TogglePreserveCaseCommand,precondition:void 0,handler:n=>n.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:ue.focus,primary:oN.primary,mac:oN.mac,win:oN.win,linux:oN.linux}}));lt(new Zd({id:Bi.ReplaceOneAction,precondition:Nv,handler:n=>n.replace(),kbOpts:{weight:100+5,kbExpr:ue.focus,primary:3094}}));lt(new Zd({id:Bi.ReplaceOneAction,precondition:Nv,handler:n=>n.replace(),kbOpts:{weight:100+5,kbExpr:_t.and(ue.focus,MG),primary:3}}));lt(new Zd({id:Bi.ReplaceAllAction,precondition:Nv,handler:n=>n.replaceAll(),kbOpts:{weight:100+5,kbExpr:ue.focus,primary:2563}}));lt(new Zd({id:Bi.ReplaceAllAction,precondition:Nv,handler:n=>n.replaceAll(),kbOpts:{weight:100+5,kbExpr:_t.and(ue.focus,MG),primary:void 0,mac:{primary:2051}}}));lt(new Zd({id:Bi.SelectAllMatchesAction,precondition:Nv,handler:n=>n.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:ue.focus,primary:515}}));const Qse=65535,pg=16777215,Jse=4278190080;class mE{constructor(e,t,i){if(e.length!==t.length||e.length>Qse)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(i,r)=>{let s=e[e.length-1];return this.getStartLineNumber(s)<=i&&this.getEndLineNumber(s)>=r};for(let i=0,r=this._startIndexes.length;i<r;i++){let s=this._startIndexes[i],o=this._endIndexes[i];if(s>pg||o>pg)throw new Error("startLineNumber or endLineNumber must not exceed "+pg);for(;e.length>0&&!t(s,o);)e.pop();let a=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=s+((a&255)<<24),this._endIndexes[i]=o+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&pg}getEndLineNumber(e){return this._endIndexes[e]&pg}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,i=e%32;return(this._collapseStates[t]&1<<i)!==0}setCollapsed(e,t){let i=e/32|0,r=e%32,s=this._collapseStates[i];t?this._collapseStates[i]=s|1<<r:this._collapseStates[i]=s&~(1<<r)}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let r=0;r<this._types.length;r++)this._types[r]===e&&(this.setCollapsed(r,t),i=!0);return i}toRegion(e){return new NEt(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&Jse)>>>24)+((this._endIndexes[e]&Jse)>>>16);return t===Qse?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){let r=Math.floor((t+i)/2);e<this.getStartLineNumber(r)?i=r:t=r+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class NEt{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class xEt{constructor(e,t){this._updateEventEmitter=new Le,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new mE(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,r)=>i.regionIndex-r.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let r=0,s=-1,o=-1;const a=l=>{for(;r<l;){const u=this._regions.getEndLineNumber(r),c=this._regions.isCollapsed(r);u<=s&&i.changeDecorationOptions(this._editorDecorationIds[r],this._decorationProvider.getDecorationOption(c,u<=o)),c&&u>o&&(o=u),r++}};for(let l of e){let u=l.regionIndex,c=this._editorDecorationIds[u];if(c&&!t[c]){t[c]=!0,a(u);let d=!this._regions.isCollapsed(u);this._regions.setCollapsed(u,d),s=Math.max(s,this._regions.getEndLineNumber(u))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let i=[],r=(d,h)=>{for(let f of t)if(d<f&&f<=h)return!0;return!1},s=-1,o=(d,h)=>{const f=e.getStartLineNumber(d),g=e.getEndLineNumber(d);h||(h=e.isCollapsed(d)),h&&r(f,g)&&(h=!1),e.setCollapsed(d,h);const p=this._textModel.getLineMaxColumn(f),m={startLineNumber:f,startColumn:Math.max(p-1,1),endLineNumber:f,endColumn:p};i.push({range:m,options:this._decorationProvider.getDecorationOption(h,g<=s)}),h&&g>s&&(s=g)},a=0,l=()=>{for(;a<this._regions.length;){let d=this._regions.isCollapsed(a);if(a++,d)return a-1}return-1},u=0,c=l();for(;c!==-1&&u<e.length;){let d=this._textModel.getDecorationRange(this._editorDecorationIds[c]);if(d){let h=d.startLineNumber;if(d.startColumn===Math.max(d.endColumn-1,1)&&this._textModel.getLineMaxColumn(h)===d.endColumn)for(;u<e.length;){let f=e.getStartLineNumber(u);if(h>=f)o(u,h===f),u++;else break}}c=l()}for(;u<e.length;)o(u,!1),u++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){let r=i.startLineNumber,s=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:r,endLineNumber:s})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let i of e){let r=this.getRegionAtLine(i.startLineNumber);r&&!r.isCollapsed&&t.push(r)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let r=this._regions.findRange(e),s=1;for(;r>=0;){let o=this._regions.toRegion(r);(!t||t(o,s))&&i.push(o),s++,r=o.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],r=e?e.regionIndex+1:0,s=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const o=[];for(let a=r,l=this._regions.length;a<l;a++){let u=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<s){for(;o.length>0&&!u.containedBy(o[o.length-1]);)o.pop();o.push(u),t(u,o.length)&&i.push(u)}else break}}else for(let o=r,a=this._regions.length;o<a;o++){let l=this._regions.toRegion(o);if(this._regions.getStartLineNumber(o)<s)(!t||t(l))&&i.push(l);else break}return i}}function MEt(n,e,t){let i=[];for(let r of t){let s=n.getRegionAtLine(r);if(s){const o=!s.isCollapsed;if(i.push(s),e>1){let a=n.getRegionsInside(s,(l,u)=>l.isCollapsed!==o&&u<e);i.push(...a)}}}n.toggleCollapseState(i)}function Qw(n,e,t=Number.MAX_VALUE,i){let r=[];if(i&&i.length>0)for(let s of i){let o=n.getRegionAtLine(s);if(o&&(o.isCollapsed!==e&&r.push(o),t>1)){let a=n.getRegionsInside(o,(l,u)=>l.isCollapsed!==e&&u<t);r.push(...a)}}else{let s=n.getRegionsInside(null,(o,a)=>o.isCollapsed!==e&&a<t);r.push(...s)}n.toggleCollapseState(r)}function Y1e(n,e,t,i){let r=[];for(let s of i){let o=n.getAllRegionsAtLine(s,(a,l)=>a.isCollapsed!==e&&l<=t);r.push(...o)}n.toggleCollapseState(r)}function AEt(n,e,t){let i=[];for(let r of t){let s=n.getAllRegionsAtLine(r,o=>o.isCollapsed!==e);s.length>0&&i.push(s[0])}n.toggleCollapseState(i)}function REt(n,e,t,i){let r=(o,a)=>a===e&&o.isCollapsed!==t&&!i.some(l=>o.containsLine(l)),s=n.getRegionsInside(null,r);n.toggleCollapseState(s)}function X1e(n,e,t){let i=[];for(let o of t){const a=n.getAllRegionsAtLine(o,void 0);a.length>0&&i.push(a[0])}let r=o=>i.every(a=>!a.containedBy(o)&&!o.containedBy(a))&&o.isCollapsed!==e,s=n.getRegionsInside(null,r);n.toggleCollapseState(s)}function AG(n,e,t){let i=n.textModel,r=n.regions,s=[];for(let o=r.length-1;o>=0;o--)if(t!==r.isCollapsed(o)){let a=r.getStartLineNumber(o);e.test(i.getLineContent(a))&&s.push(r.toRegion(o))}n.toggleCollapseState(s)}function RG(n,e,t){let i=n.regions,r=[];for(let s=i.length-1;s>=0;s--)t!==i.isCollapsed(s)&&e===i.getType(s)&&r.push(i.toRegion(s));n.toggleCollapseState(r)}function OEt(n,e){let t=null,i=e.getRegionAtLine(n);if(i!==null&&(t=i.startLineNumber,n===t)){let r=i.parentIndex;r!==-1?t=e.regions.getStartLineNumber(r):t=null}return t}function PEt(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){if(n!==t.startLineNumber)return t.startLineNumber;{let i=t.parentIndex,r=0;for(i!==-1&&(r=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=r)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<n)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function FEt(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){let i=t.parentIndex,r=0;if(i!==-1)r=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;r=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=r)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>n)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}class BEt{constructor(e){this._updateEventEmitter=new Le,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||W_(t.text)[0]!==0))}updateHiddenRanges(){let e=!1,t=[],i=0,r=0,s=Number.MAX_VALUE,o=-1,a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;let l=a.getStartLineNumber(i)+1,u=a.getEndLineNumber(i);s<=l&&u<=o||(!e&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===l&&this._hiddenRanges[r].endLineNumber===u?(t.push(this._hiddenRanges[r]),r++):(e=!0,t.push(new Y(l,1,u,1))),s=l,o=u)}(this._hasLineChanges||e||r<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||e.length===0)return!1;let t=[];for(let i of e){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new Y(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return eoe(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,r=null,s=o=>((!r||!$Et(o,r))&&(r=eoe(this._hiddenRanges,o)),r?r.startLineNumber-1:null);for(let o=0,a=e.length;o<a;o++){let l=e[o],u=s(l.startLineNumber);u&&(l=l.setStartPosition(u,i.getLineMaxColumn(u)),t=!0);let c=s(l.endLineNumber);c&&(l=l.setEndPosition(c,i.getLineMaxColumn(c)),t=!0),e[o]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function $Et(n,e){return n>=e.startLineNumber&&n<=e.endLineNumber}function eoe(n,e){let t=Cge(n,i=>e<i.startLineNumber)-1;return t>=0&&n[t].endLineNumber>=e?n[t]:null}const VEt=5e3,WEt="indent";class HEt{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=i,this.id=WEt}dispose(){}compute(e,t){let i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,r=i&&!!i.offSide,s=i&&i.markers;return Promise.resolve(UEt(this.editorModel,r,s,this.maxFoldingRegions,t))}}class zEt{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>pg||t>pg)return;let r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let r=this._length-1,s=0;r>=0;r--,s++)t[s]=this._startIndexes[r],i[s]=this._endIndexes[r];return new mE(t,i)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,i=this._indentOccurrences.length;for(let a=0;a<this._indentOccurrences.length;a++){let l=this._indentOccurrences[a];if(l){if(l+t>this._foldingRangesLimit){i=a;break}t+=l}}const r=e.getOptions().tabSize;let s=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit);for(let a=this._length-1,l=0;a>=0;a--){let u=this._startIndexes[a],c=e.getLineContent(u),d=L4(c,r);(d<i||d===i&&t++<this._foldingRangesLimit)&&(s[l]=u,o[l]=this._endIndexes[a],l++)}return new mE(s,o)}}}function UEt(n,e,t,i,r){const s=n.getOptions().tabSize;i=i!=null?i:VEt;let o=new zEt(i,r),a;t&&(a=new RegExp(`(${t.start.source})|(?:${t.end.source})`));let l=[],u=n.getLineCount()+1;l.push({indent:-1,endAbove:u,line:u});for(let c=n.getLineCount();c>0;c--){let d=n.getLineContent(c),h=L4(d,s),f=l[l.length-1];if(h===-1){e&&(f.endAbove=c);continue}let g;if(a&&(g=d.match(a)))if(g[1]){let p=l.length-1;for(;p>0&&l[p].indent!==-2;)p--;if(p>0){l.length=p+1,f=l[p],o.insertFirst(c,f.line,h),f.line=c,f.indent=h,f.endAbove=c;continue}}else{l.push({indent:-2,endAbove:c,line:c});continue}if(f.indent>h){do l.pop(),f=l[l.length-1];while(f.indent>h);let p=f.endAbove-1;p-c>=1&&o.insertFirst(c,p,h)}f.indent===h?f.endAbove=c:l.push({indent:h,endAbove:c,line:c})}return o.toIndentRanges(n)}const jEt={},Z1e="syntax";class KEt{constructor(e,t,i,r){this.editorModel=e,this.providers=t,this.limit=r,this.id=Z1e;for(const s of t)typeof s.onDidChange=="function"&&(this.disposables||(this.disposables=new it),this.disposables.add(s.onDidChange(i)))}compute(e,t){return GEt(this.providers,this.editorModel,e).then(i=>i?Q1e(i,this.limit,t):null)}dispose(){var e;(e=this.disposables)===null||e===void 0||e.dispose()}}function GEt(n,e,t){let i=null,r=n.map((s,o)=>Promise.resolve(s.provideFoldingRanges(e,jEt,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);let l=e.getLineCount();for(let u of a)u.start>0&&u.end>u.start&&u.end<=l&&i.push({start:u.start,end:u.end,rank:o,kind:u.kind})}},Ys));return Promise.all(r).then(s=>i)}class qEt{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,r){if(e>pg||t>pg)return;let s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._nestingLevels[s]=r,this._types[s]=i,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new mE(e,t,this._types)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let e=0,t=this._nestingLevelCounts.length;for(let o=0;o<this._nestingLevelCounts.length;o++){let a=this._nestingLevelCounts[o];if(a){if(a+e>this._foldingRangesLimit){t=o;break}e+=a}}let i=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),s=[];for(let o=0,a=0;o<this._length;o++){let l=this._nestingLevels[o];(l<t||l===t&&e++<this._foldingRangesLimit)&&(i[a]=this._startIndexes[o],r[a]=this._endIndexes[o],s[a]=this._types[o],a++)}return new mE(i,r,s)}}}function Q1e(n,e,t){let i=n.sort((a,l)=>{let u=a.start-l.start;return u===0&&(u=a.rank-l.rank),u}),r=new qEt(e,t),s,o=[];for(let a of i)if(!s)s=a,r.add(a.start,a.end,a.kind&&a.kind.value,o.length);else if(a.start>s.start)if(a.end<=s.end)o.push(s),s=a,r.add(a.start,a.end,a.kind&&a.kind.value,o.length);else{if(a.start>s.end){do s=o.pop();while(s&&a.start>s.end);s&&o.push(s),s=a}r.add(a.start,a.end,a.kind&&a.kind.value,o.length)}return r.toIndentRanges()}const J1e="init";class YEt{constructor(e,t,i,r){if(this.editorModel=e,this.id=J1e,t.length){let s=o=>({range:{startLineNumber:o.startLineNumber,startColumn:0,endLineNumber:o.endLineNumber,endColumn:e.getLineLength(o.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(s)),this.timeout=setTimeout(i,r)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let i of this.decorationIds){let r=this.editorModel.getDecorationRange(i);r&&t.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return Promise.resolve(Q1e(t,Number.MAX_VALUE))}}const OG=ws("folding-expanded",k.chevronDown,L("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),PG=ws("folding-collapsed",k.chevronRight,L("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class yc{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?yc.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?yc.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:yc.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?yc.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:yc.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}yc.COLLAPSED_VISUAL_DECORATION=dn.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Ti.asClassName(PG)});yc.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=dn.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Ti.asClassName(PG)});yc.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=dn.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Ti.asClassName(OG)});yc.EXPANDED_VISUAL_DECORATION=dn.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Ti.asClassName(OG)});yc.HIDDEN_RANGE_DECORATION=dn.register({description:"folding-hidden-range-decoration",stickiness:1});var XEt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},lN=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const ga=new St("foldingEnabled",!1);let vw=class ebe extends ze{constructor(e,t,i,r,s){super();this.contextKeyService=t,this.languageConfigurationService=i,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new it),this.editor=e;const o=this.editor.getOptions();this._isEnabled=o.get(37),this._useFoldingProviders=o.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=o.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=o.get(40),this._maxFoldingRegions=o.get(41),this.updateDebounceInfo=s.for(mx,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new yc(e),this.foldingDecorationProvider.autoHideFoldingControls=o.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=o.get(39),this.foldingEnabled=ga.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=a=>{this._tooManyRegionsNotified||(r.notify({severity:cr.Warning,sticky:!0,message:L("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,a)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(a=>{if(a.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),a.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),a.hasChanged(99)||a.hasChanged(39)){const l=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=l.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=l.get(39),this.triggerFoldingModelChanged()}a.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),a.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),a.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(e){return e.getContribution(ebe.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel||!e||e.lineCount!==t.getLineCount()||(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions))return;(e.provider===Z1e||e.provider===J1e)&&(this.foldingStateMemento=e);const i=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){const r=this.getFoldingModel();r&&r.then(s=>{if(s){this._restoringViewState=!0;try{s.applyMemento(i)}finally{this._restoringViewState=!1}}}).then(void 0,Qt)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new xEt(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new BEt(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new Jh(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new Ni(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(mx.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new HEt(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let t=mx.ordered(this.foldingModel.textModel);if(t.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new YEt(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);t.length>0&&(this.rangeProvider=new KEt(e,t,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new Ou(!0),i=this.getRangeProvider(e.textModel);let r=this.foldingRegionPromise=qs(s=>i.compute(s,this._notifyTooManyRegions));return r.then(s=>{if(s&&r===this.foldingRegionPromise){let o;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const c=s.setCollapsedAllOfType(Rd.Imports.value,!0);c&&(o=nv.capture(this.editor),this._currentModelHasFoldedImports=c)}let a=this.editor.getSelections(),l=a?a.map(c=>c.startLineNumber):[];e.update(s,l),o&&o.restore(this.editor);const u=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=u)}return e})}).then(void 0,e=>(Qt(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();!e||e.then(t=>{if(t){let i=this.editor.getSelections();if(i&&i.length>0){let r=[];for(let s of i){let o=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(o)&&r.push(...t.getAllRegionsAtLine(o,a=>a.isCollapsed&&o>a.startLineNumber))}r.length&&(t.toggleCollapseState(r),this.reveal(i[0].getPosition()))}}}).then(void 0,Qt)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const r=e.target.detail,s=e.target.element.offsetLeft;if(r.offsetX-s<5)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let r=this.editor.getModel();if(r&&t.startColumn===r.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,s=e.target.range;if(!(!s||s.startLineNumber!==i)){if(r){if(e.target.type!==4)return}else{let o=this.editor.getModel();if(!o||s.startColumn!==o.getLineMaxColumn(i))return}t.then(o=>{if(o){let a=o.getRegionAtLine(i);if(a&&a.startLineNumber===i){let l=a.isCollapsed;if(r||l){let u=e.event.altKey,c=[];if(u){let d=f=>!f.containedBy(a)&&!a.containedBy(f),h=o.getRegionsInside(null,d);for(const f of h)f.isCollapsed&&c.push(f);c.length===0&&(c=h)}else{let d=e.event.middleButton||e.event.shiftKey;if(d)for(const h of o.getRegionsInside(a))h.isCollapsed===l&&c.push(h);(l||!d||c.length===0)&&c.push(a)}o.toggleCollapseState(c),this.reveal({lineNumber:i,column:1})}}}}).then(void 0,Qt)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};vw.ID="editor.contrib.folding";vw=XEt([lN(1,Zt),lN(2,fo),lN(3,Kr),lN(4,sp)],vw);class Pa extends Et{runEditorCommand(e,t,i){const r=e.get(fo),s=vw.get(t);if(!s)return;const o=s.getFoldingModel();if(o)return this.reportTelemetry(e,t),o.then(a=>{if(a){this.invoke(s,a,t,i,r);const l=t.getSelection();l&&s.reveal(l.getStartPosition())}})}getSelectedLines(e){let t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}}function tbe(n){if(!Qa(n)){if(!Da(n))return!1;const e=n;if(!Qa(e.levels)&&!T_(e.levels)||!Qa(e.direction)&&!Ru(e.direction)||!Qa(e.selectionLines)&&(!kge(e.selectionLines)||!e.selectionLines.every(T_)))return!1}return!0}class ZEt extends Pa{constructor(){super({id:"editor.unfold",label:L("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:tbe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,r){let s=r&&r.levels||1,o=this.getLineNumbers(r,i);r&&r.direction==="up"?Y1e(t,!1,s,o):Qw(t,!1,s,o)}}class QEt extends Pa{constructor(){super({id:"editor.unfoldRecursively",label:L("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2137),weight:100}})}invoke(e,t,i,r){Qw(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}class JEt extends Pa{constructor(){super({id:"editor.fold",label:L("foldAction.label","Fold"),alias:"Fold",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:tbe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,r){let s=this.getLineNumbers(r,i);const o=r&&r.levels,a=r&&r.direction;typeof o!="number"&&typeof a!="string"?AEt(t,!0,s):a==="up"?Y1e(t,!0,o||1,s):Qw(t,!0,o||1,s)}}class eDt extends Pa{constructor(){super({id:"editor.toggleFold",label:L("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2090),weight:100}})}invoke(e,t,i){let r=this.getSelectedLines(i);MEt(t,1,r)}}class tDt extends Pa{constructor(){super({id:"editor.foldRecursively",label:L("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2135),weight:100}})}invoke(e,t,i){let r=this.getSelectedLines(i);Qw(t,!0,Number.MAX_VALUE,r)}}class nDt extends Pa{constructor(){super({id:"editor.foldAllBlockComments",label:L("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2133),weight:100}})}invoke(e,t,i,r,s){if(t.regions.hasTypes())RG(t,Rd.Comment.value,!0);else{const o=i.getModel();if(!o)return;const a=s.getLanguageConfiguration(o.getLanguageId()).comments;if(a&&a.blockCommentStartToken){let l=new RegExp("^\\s*"+Fu(a.blockCommentStartToken));AG(t,l,!0)}}}}class iDt extends Pa{constructor(){super({id:"editor.foldAllMarkerRegions",label:L("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2077),weight:100}})}invoke(e,t,i,r,s){if(t.regions.hasTypes())RG(t,Rd.Region.value,!0);else{const o=i.getModel();if(!o)return;const a=s.getLanguageConfiguration(o.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);AG(t,l,!0)}}}}class rDt extends Pa{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:L("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2078),weight:100}})}invoke(e,t,i,r,s){if(t.regions.hasTypes())RG(t,Rd.Region.value,!1);else{const o=i.getModel();if(!o)return;const a=s.getLanguageConfiguration(o.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);AG(t,l,!1)}}}}class sDt extends Pa{constructor(){super({id:"editor.foldAllExcept",label:L("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2131),weight:100}})}invoke(e,t,i){let r=this.getSelectedLines(i);X1e(t,!0,r)}}class oDt extends Pa{constructor(){super({id:"editor.unfoldAllExcept",label:L("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2129),weight:100}})}invoke(e,t,i){let r=this.getSelectedLines(i);X1e(t,!1,r)}}class aDt extends Pa{constructor(){super({id:"editor.foldAll",label:L("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2069),weight:100}})}invoke(e,t,i){Qw(t,!0)}}class lDt extends Pa{constructor(){super({id:"editor.unfoldAll",label:L("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2088),weight:100}})}invoke(e,t,i){Qw(t,!1)}}class i1 extends Pa{getFoldingLevel(){return parseInt(this.id.substr(i1.ID_PREFIX.length))}invoke(e,t,i){REt(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}i1.ID_PREFIX="editor.foldLevel";i1.ID=n=>i1.ID_PREFIX+n;class uDt extends Pa{constructor(){super({id:"editor.gotoParentFold",label:L("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,weight:100}})}invoke(e,t,i){let r=this.getSelectedLines(i);if(r.length>0){let s=OEt(r[0],t);s!==null&&i.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}class cDt extends Pa{constructor(){super({id:"editor.gotoPreviousFold",label:L("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,weight:100}})}invoke(e,t,i){let r=this.getSelectedLines(i);if(r.length>0){let s=PEt(r[0],t);s!==null&&i.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}class dDt extends Pa{constructor(){super({id:"editor.gotoNextFold",label:L("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,weight:100}})}invoke(e,t,i){let r=this.getSelectedLines(i);if(r.length>0){let s=FEt(r[0],t);s!==null&&i.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}oi(vw.ID,vw);ut(ZEt);ut(QEt);ut(JEt);ut(tDt);ut(aDt);ut(lDt);ut(nDt);ut(iDt);ut(rDt);ut(sDt);ut(oDt);ut(eDt);ut(uDt);ut(cDt);ut(dDt);for(let n=1;n<=7;n++)Jpe(new i1({id:i1.ID(n),label:L("foldLevelAction.label","Fold Level {0}",n),alias:`Fold Level ${n}`,precondition:ga,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2048|21+n),weight:100}}));const hDt=ce("editor.foldBackground",{light:Kt(km,.3),dark:Kt(km,.3),hc:null},L("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),fDt=ce("editorGutter.foldingControlForeground",{dark:HF,light:HF,hc:HF},L("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));Hi((n,e)=>{const t=n.getColor(hDt);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);const i=n.getColor(fDt);i&&e.addRule(`
		.monaco-editor .cldr${Ti.asCSSSelector(OG)},
		.monaco-editor .cldr${Ti.asCSSSelector(PG)} {
			color: ${i} !important;
		}
		`)});class gDt extends Et{constructor(){super({id:"editor.action.fontZoomIn",label:L("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){qg.setZoomLevel(qg.getZoomLevel()+1)}}class pDt extends Et{constructor(){super({id:"editor.action.fontZoomOut",label:L("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){qg.setZoomLevel(qg.getZoomLevel()-1)}}class mDt extends Et{constructor(){super({id:"editor.action.fontZoomReset",label:L("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){qg.setZoomLevel(0)}}ut(gDt);ut(pDt);ut(mDt);var nbe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ibe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},FG=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let vE=class{constructor(e,t){this._editor=e,this._workerService=t,this._disposables=new it,this._sessionDisposables=new it,this._disposables.add(lA.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(i=>{i.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=lA.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new hC;for(let r of t.autoFormatTriggerCharacters)i.add(r.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(r=>{let s=r.charCodeAt(r.length-1);i.has(s)&&this._trigger(String.fromCharCode(s))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),r=new co,s=this._editor.onDidChangeModelContent(o=>{if(o.isFlush){r.cancel(),s.dispose();return}for(let a=0,l=o.changes.length;a<l;a++)if(o.changes[a].range.endLineNumber<=i.lineNumber){r.cancel(),s.dispose();return}});W0e(this._workerService,t,i,e,t.getFormattingOptions(),r.token).then(o=>{r.token.isCancellationRequested||nl(o)&&(sw.execute(this._editor,o,!0),sG(o))}).finally(()=>{s.dispose()})}};vE.ID="editor.contrib.autoFormat";vE=nbe([ibe(1,ju)],vE);let _E=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new it,this._callOnModel=new it,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(gd.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(48)&&(!this.editor.hasModel()||!gd.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(V0e,this.editor,e,2,P1.None,En.None).catch(Qt)}};_E.ID="editor.contrib.formatOnPaste";_E=nbe([ibe(1,Mn)],_E);class vDt extends Et{constructor(){super({id:"editor.action.formatDocument",label:L("formatDocument.label","Format Document"),alias:"Format Document",precondition:_t.and(ue.notInCompositeEditor,ue.writable,ue.hasDocumentFormattingProvider),kbOpts:{kbExpr:ue.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return FG(this,void 0,void 0,function*(){if(t.hasModel()){const i=e.get(Mn);yield e.get(Dv).showWhile(i.invokeFunction(fCt,t,1,P1.None,En.None),250)}})}}class _Dt extends Et{constructor(){super({id:"editor.action.formatSelection",label:L("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:_t.and(ue.writable,ue.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2084),weight:100},contextMenuOpts:{when:ue.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return FG(this,void 0,void 0,function*(){if(!t.hasModel())return;const i=e.get(Mn),r=t.getModel(),s=t.getSelections().map(a=>a.isEmpty()?new Y(a.startLineNumber,1,a.startLineNumber,r.getLineMaxColumn(a.startLineNumber)):a);yield e.get(Dv).showWhile(i.invokeFunction(V0e,t,s,1,P1.None,En.None),250)})}}oi(vE.ID,vE);oi(_E.ID,_E);ut(vDt);ut(_Dt);Vn.registerCommand("editor.action.format",n=>FG(void 0,void 0,void 0,function*(){const e=n.get(ci).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=n.get(Pr);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));var bDt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},toe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},CDt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class LC{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let r=i;for(let s=0;t.children.get(r)!==void 0;s++)r=`${i}_${s}`;return r}static empty(e){return e.children.size===0}}class noe extends LC{constructor(e,t,i){super();this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class yDt extends LC{constructor(e,t,i,r){super();this.id=e,this.parent=t,this.label=i,this.order=r,this.children=new Map}}class Up extends LC{constructor(e){super();this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){const i=new co(t),r=new Up(e.uri),s=kc.ordered(e),o=s.map((l,u)=>{var c;let d=LC.findId(`provider_${u}`,r),h=new yDt(d,r,(c=l.displayName)!==null&&c!==void 0?c:"Unknown Outline Provider",u);return Promise.resolve(l.provideDocumentSymbols(e,i.token)).then(f=>{for(const g of f||[])Up._makeOutlineElement(g,h);return h},f=>(Ys(f),h)).then(f=>{LC.empty(f)?f.remove():r._groups.set(d,f)})}),a=kc.onDidChange(()=>{const l=kc.ordered(e);$l(l,s)||i.cancel()});return Promise.all(o).then(()=>i.token.isCancellationRequested&&!t.isCancellationRequested?Up.create(e,t):r._compact()).finally(()=>{a.dispose()})}static _makeOutlineElement(e,t){let i=LC.findId(e,t),r=new noe(i,t,e);if(e.children)for(const s of e.children)Up._makeOutlineElement(s,r);t.children.set(r.id,r)}_compact(){let e=0;for(const[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{let t=Fn.first(this._groups.values());for(let[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof noe?e.push(t.symbol):e.push(...Fn.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>Y.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Up._flattenDocumentSymbols(t,e,""),t.sort((i,r)=>Ae.compare(Y.getStartPosition(i.range),Y.getStartPosition(r.range))||Ae.compare(Y.getEndPosition(r.range),Y.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(const r of t)e.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||i,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&Up._flattenDocumentSymbols(e,r.children,r.name)}}const wP=Pn("IOutlineModelService");let EW=class{constructor(e,t){this._disposables=new it,this._cache=new kv(10,.7),this._debounceInformation=e.for(kc,"DocumentSymbols",{min:350}),this._disposables.add(t.onModelRemoved(i=>{this._cache.delete(i.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return CDt(this,void 0,void 0,function*(){const i=kc.ordered(e);let r=this._cache.get(e.id);if(!r||r.versionId!==e.getVersionId()||!$l(r.provider,i)){let o=new co;r={versionId:e.getVersionId(),provider:i,promiseCnt:0,source:o,promise:Up.create(e,o.token),model:void 0},this._cache.set(e.id,r);const a=Date.now();r.promise.then(l=>{r.model=l,this._debounceInformation.update(e,Date.now()-a)}).catch(l=>{this._cache.delete(e.id)})}if(r.model)return r.model;r.promiseCnt+=1;const s=t.onCancellationRequested(()=>{--r.promiseCnt===0&&(r.source.cancel(),this._cache.delete(e.id))});try{return yield r.promise}finally{s.dispose()}})}};EW=bDt([toe(0,sp),toe(1,sr)],EW);qn(wP,EW,!0);var wDt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};Vn.registerCommand("_executeDocumentSymbolProvider",function(n,...e){return wDt(this,void 0,void 0,function*(){const[t]=e;Ii(zt.isUri(t));const i=n.get(wP),s=yield n.get(Oa).createModelReference(t);try{return(yield i.getOrCreate(s.object.textEditorModel,En.None)).getTopLevelSymbols()}finally{s.dispose()}})});function Ga(n,e){let t=0;for(let i=0;i<n.length;i++)n.charAt(i)==="	"?t+=e:t++;return t}function bL(n,e,t){n=n<0?0:n;let i="";if(!t){let r=Math.floor(n/e);n=n%e;for(let s=0;s<r;s++)i+="	"}for(let r=0;r<n;r++)i+=" ";return i}function rbe(n,e,t,i,r){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return[];const s=e.getLanguageConfiguration(n.getLanguageId()).indentationRules;if(!s)return[];for(i=Math.min(i,n.getLineCount());t<=i&&s.unIndentedLinePattern;){let m=n.getLineContent(t);if(!s.unIndentedLinePattern.test(m))break;t++}if(t>i-1)return[];const{tabSize:o,indentSize:a,insertSpaces:l}=n.getOptions(),u=(m,b)=>(b=b||1,Tl.shiftIndent(m,m.length+b,o,a,l)),c=(m,b)=>(b=b||1,Tl.unshiftIndent(m,m.length+b,o,a,l));let d=[],h,f=n.getLineContent(t),g=f;if(r!=null){h=r;let m=bi(f);g=h+f.substring(m.length),s.decreaseIndentPattern&&s.decreaseIndentPattern.test(g)&&(h=c(h),g=h+f.substring(m.length)),f!==g&&d.push(Sr.replaceMove(new vt(t,1,t,m.length+1),Vc.normalizeIndentation(h,a,l)))}else h=bi(f);let p=h;s.increaseIndentPattern&&s.increaseIndentPattern.test(g)?(p=u(p),h=u(h)):s.indentNextLinePattern&&s.indentNextLinePattern.test(g)&&(p=u(p)),t++;for(let m=t;m<=i;m++){let b=n.getLineContent(m),_=bi(b),C=p+b.substring(_.length);s.decreaseIndentPattern&&s.decreaseIndentPattern.test(C)&&(p=c(p),h=c(h)),_!==p&&d.push(Sr.replaceMove(new vt(m,1,m,_.length+1),Vc.normalizeIndentation(p,a,l))),!(s.unIndentedLinePattern&&s.unIndentedLinePattern.test(b))&&(s.increaseIndentPattern&&s.increaseIndentPattern.test(C)?(h=u(h),p=h):s.indentNextLinePattern&&s.indentNextLinePattern.test(C)?p=u(p):p=h)}return d}class SP extends Et{constructor(){super({id:SP.ID,label:L("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:ue.writable})}run(e,t){let i=t.getModel();if(!i)return;let r=i.getOptions(),s=t.getSelection();if(!s)return;const o=new EDt(s,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}SP.ID="editor.action.indentationToSpaces";class LP extends Et{constructor(){super({id:LP.ID,label:L("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:ue.writable})}run(e,t){let i=t.getModel();if(!i)return;let r=i.getOptions(),s=t.getSelection();if(!s)return;const o=new DDt(s,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}LP.ID="editor.action.indentationToTabs";class sbe extends Et{constructor(e,t){super(t);this.insertSpaces=e}run(e,t){const i=e.get(ap),r=e.get(sr);let s=t.getModel();if(!s)return;const o=r.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget),a=[1,2,3,4,5,6,7,8].map(u=>({id:u.toString(),label:u.toString(),description:u===o.tabSize?L("configuredTabSize","Configured Tab Size"):void 0})),l=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:L({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then(u=>{u&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(u.label,10),insertSpaces:this.insertSpaces})})},50)}}class kP extends sbe{constructor(){super(!1,{id:kP.ID,label:L("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}kP.ID="editor.action.indentUsingTabs";class EP extends sbe{constructor(){super(!0,{id:EP.ID,label:L("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}EP.ID="editor.action.indentUsingSpaces";class DP extends Et{constructor(){super({id:DP.ID,label:L("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(sr);let r=t.getModel();if(!r)return;const s=i.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(s.insertSpaces,s.tabSize)}}DP.ID="editor.action.detectIndentation";class SDt extends Et{constructor(){super({id:"editor.action.reindentlines",label:L("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:ue.writable})}run(e,t){const i=e.get(fo);let r=t.getModel();if(!r)return;let s=rbe(r,i,1,r.getLineCount());s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}}class LDt extends Et{constructor(){super({id:"editor.action.reindentselectedlines",label:L("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:ue.writable})}run(e,t){const i=e.get(fo);let r=t.getModel();if(!r)return;let s=t.getSelections();if(s===null)return;let o=[];for(let a of s){let l=a.startLineNumber,u=a.endLineNumber;if(l!==u&&a.endColumn===1&&u--,l===1){if(l===u)continue}else l--;let c=rbe(r,i,l,u);o.push(...c)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class kDt{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(let r of this._edits)t.addEditOperation(Y.lift(r.range),r.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class DW{constructor(e){this.callOnDispose=new it,this.callOnModel=new it,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(t===null||t.length>1)return;const i=this.editor.getModel();if(!i||!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;const r=this.editor.getOption(9),{tabSize:s,indentSize:o,insertSpaces:a}=i.getOptions();let l=[],u={shiftIndent:f=>Tl.shiftIndent(f,f.length+1,s,o,a),unshiftIndent:f=>Tl.unshiftIndent(f,f.length+1,s,o,a)},c=e.startLineNumber;for(;c<=e.endLineNumber;){if(this.shouldIgnoreLine(i,c)){c++;continue}break}if(c>e.endLineNumber)return;let d=i.getLineContent(c);if(!/\S/.test(d.substring(0,e.startColumn-1))){const f=cs.getGoodIndentForLine(r,i,i.getLanguageId(),c,u);if(f!==null){let g=bi(d),p=Ga(f,s),m=Ga(g,s);if(p!==m){let b=bL(p,s,a);l.push({range:new Y(c,1,c,g.length+1),text:b}),d=b+d.substr(g.length)}else{let b=cs.getIndentMetadata(i,c);if(b===0||b===8)return}}}const h=c;for(;c<e.endLineNumber;){if(!/\S/.test(i.getLineContent(c+1))){c++;continue}break}if(c!==e.endLineNumber){let f={getLineTokens:p=>i.getLineTokens(p),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(p,m)=>i.getLanguageIdAtPosition(p,m),getLineContent:p=>p===h?d:i.getLineContent(p)},g=cs.getGoodIndentForLine(r,f,i.getLanguageId(),c+1,u);if(g!==null){let p=Ga(g,s),m=Ga(bi(i.getLineContent(c+1)),s);if(p!==m){let b=p-m;for(let _=c+1;_<=e.endLineNumber;_++){let C=i.getLineContent(_),w=bi(C),D=Ga(w,s)+b,E=bL(D,s,a);E!==w&&l.push({range:new Y(_,1,_,w.length+1),text:E})}}}}if(l.length>0){this.editor.pushUndoStop();let f=new kDt(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",f),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;let r=e.getLineTokens(t);if(r.getCount()>0){let s=r.findTokenIndexAtOffset(i);if(s>=0&&r.getStandardTokenType(s)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}DW.ID="editor.contrib.autoIndentOnPaste";function obe(n,e,t,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let r="";for(let o=0;o<t;o++)r+=" ";let s=new RegExp(r,"gi");for(let o=1,a=n.getLineCount();o<=a;o++){let l=n.getLineFirstNonWhitespaceColumn(o);if(l===0&&(l=n.getLineMaxColumn(o)),l===1)continue;const u=new Y(o,1,o,l),c=n.getValueInRange(u),d=i?c.replace(/\t/ig,r):c.replace(s,"	");e.addEditOperation(u,d)}}class EDt{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),obe(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class DDt{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),obe(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}oi(DW.ID,DW);ut(SP);ut(LP);ut(kP);ut(EP);ut(DP);ut(SDt);ut(LDt);class IDt{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new vt(r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn),r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn)):new vt(r.endLineNumber,r.endColumn-this._text.length,r.endLineNumber,r.endColumn)}}var TDt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},NDt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let dv=class IW{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(e){return e.getContribution(IW.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();const i=this.editor.getSelection(),r=this.editor.getModel();if(!r||!i)return;let s=i;if(s.startLineNumber!==s.endLineNumber)return;const o=new nE(this.editor,5),a=r.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=qs(l=>this.editorWorkerService.navigateValueSet(a,s,t)),this.currentRequest.then(l=>{if(!l||!l.range||!l.value||!o.validate(this.editor))return;let u=Y.lift(l.range),c=l.range,d=l.value.length-(s.endColumn-s.startColumn);c={startLineNumber:c.startLineNumber,startColumn:c.startColumn,endLineNumber:c.endLineNumber,endColumn:c.startColumn+l.value.length},d>1&&(s=new vt(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+d-1));const h=new IDt(u,s,l.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,h),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:c,options:IW.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=jm(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(Qt)}).catch(Qt)):Promise.resolve(void 0)}};dv.ID="editor.contrib.inPlaceReplaceController";dv.DECORATION=dn.register({description:"in-place-replace",className:"valueSetReplacement"});dv=TDt([NDt(1,ju)],dv);class xDt extends Et{constructor(){super({id:"editor.action.inPlaceReplace.up",label:L("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=dv.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class MDt extends Et{constructor(){super({id:"editor.action.inPlaceReplace.down",label:L("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=dv.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}oi(dv.ID,dv);ut(xDt);ut(MDt);Hi((n,e)=>{const t=n.getColor(Tme);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)});class ADt extends Et{constructor(){super({id:"expandLineSelection",label:L("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:ue.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;const r=t._getViewModel();r.model.pushStackElement(),r.setCursorStates(i.source,3,Bs.expandLineSelection(r,r.getCursorStates())),r.revealPrimaryCursor(i.source,!0)}}ut(ADt);class RDt{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const i=ODt(e,this._cursors);for(let r=0,s=i.length;r<s;r++){const o=i[r];t.addEditOperation(o.range,o.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function ODt(n,e){e.sort((o,a)=>o.lineNumber===a.lineNumber?o.column-a.column:o.lineNumber-a.lineNumber);for(let o=e.length-2;o>=0;o--)e[o].lineNumber===e[o+1].lineNumber&&e.splice(o,1);const t=[];let i=0,r=0;const s=e.length;for(let o=1,a=n.getLineCount();o<=a;o++){const l=n.getLineContent(o),u=l.length+1;let c=0;if(r<s&&e[r].lineNumber===o&&(c=e[r].column,r++,c===u)||l.length===0)continue;const d=jh(l);let h=0;if(d===-1)h=1;else if(d!==l.length-1)h=d+2;else continue;h=Math.max(c,h),t[i++]=Sr.delete(new Y(o,h,o,u))}return t}class abe{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let r=[];for(let o=i.startLineNumber;o<=i.endLineNumber;o++)r.push(e.getLineContent(o));const s=r.join(`
`);s===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new Y(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new Y(i.startLineNumber,1,i.startLineNumber,1),s+`
`):t.addEditOperation(new Y(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+s),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let r=i.startLineNumber,s=i.startColumn,o=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(r=r+this._startLineNumberDelta,s=1),this._endLineNumberDelta!==0&&(o=o+this._endLineNumberDelta,a=1),i=vt.createWithDirection(r,s,o,a,this._selectionDirection)}return i}}class PDt{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));const{tabSize:s,indentSize:o,insertSpaces:a}=e.getOptions();let l=this.buildIndentConverter(s,o,a),u={getLineTokens:c=>e.getLineTokens(c),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(c,d)=>e.getLanguageIdAtPosition(c,d),getLineContent:null};if(r.startLineNumber===r.endLineNumber&&e.getLineMaxColumn(r.startLineNumber)===1){let c=r.startLineNumber,d=this._isMovingDown?c+1:c-1;e.getLineMaxColumn(d)===1?t.addEditOperation(new Y(1,1,1,1),null):(t.addEditOperation(new Y(c,1,c,1),e.getLineContent(d)),t.addEditOperation(new Y(d,1,d,e.getLineMaxColumn(d)),null)),r=new vt(d,1,d,1)}else{let c,d;if(this._isMovingDown){c=r.endLineNumber+1,d=e.getLineContent(c),t.addEditOperation(new Y(c-1,e.getLineMaxColumn(c-1),c,e.getLineMaxColumn(c)),null);let h=d;if(this.shouldAutoIndent(e,r)){let f=this.matchEnterRule(e,l,s,c,r.startLineNumber-1);if(f!==null){let p=bi(e.getLineContent(c)),m=f+Ga(p,s);h=bL(m,s,a)+this.trimLeft(d)}else{u.getLineContent=m=>m===r.startLineNumber?e.getLineContent(c):e.getLineContent(m);let p=cs.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(c,1),r.startLineNumber,l);if(p!==null){let m=bi(e.getLineContent(c)),b=Ga(p,s),_=Ga(m,s);b!==_&&(h=bL(b,s,a)+this.trimLeft(d))}}t.addEditOperation(new Y(r.startLineNumber,1,r.startLineNumber,1),h+`
`);let g=this.matchEnterRuleMovingDown(e,l,s,r.startLineNumber,c,h);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(e,t,r,s,a,g);else{u.getLineContent=m=>m===r.startLineNumber?h:m>=r.startLineNumber+1&&m<=r.endLineNumber+1?e.getLineContent(m-1):e.getLineContent(m);let p=cs.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(c,1),r.startLineNumber+1,l);if(p!==null){const m=bi(e.getLineContent(r.startLineNumber)),b=Ga(p,s),_=Ga(m,s);if(b!==_){const C=b-_;this.getIndentEditsOfMovingBlock(e,t,r,s,a,C)}}}}else t.addEditOperation(new Y(r.startLineNumber,1,r.startLineNumber,1),h+`
`)}else if(c=r.startLineNumber-1,d=e.getLineContent(c),t.addEditOperation(new Y(c,1,c+1,1),null),t.addEditOperation(new Y(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),`
`+d),this.shouldAutoIndent(e,r)){u.getLineContent=f=>f===c?e.getLineContent(r.startLineNumber):e.getLineContent(f);let h=this.matchEnterRule(e,l,s,r.startLineNumber,r.startLineNumber-2);if(h!==null)h!==0&&this.getIndentEditsOfMovingBlock(e,t,r,s,a,h);else{let f=cs.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(r.startLineNumber,1),c,l);if(f!==null){let g=bi(e.getLineContent(r.startLineNumber)),p=Ga(f,s),m=Ga(g,s);if(p!==m){let b=p-m;this.getIndentEditsOfMovingBlock(e,t,r,s,a,b)}}}}}this._selectionId=t.trackSelection(r)}buildIndentConverter(e,t,i){return{shiftIndent:r=>Tl.shiftIndent(r,r.length+1,e,t,i),unshiftIndent:r=>Tl.unshiftIndent(r,r.length+1,e,t,i)}}parseEnterResult(e,t,i,r,s){if(s){let o=s.indentation;s.indentAction===Wr.None||s.indentAction===Wr.Indent?o=s.indentation+s.appendText:s.indentAction===Wr.IndentOutdent?o=s.indentation:s.indentAction===Wr.Outdent&&(o=t.unshiftIndent(s.indentation)+s.appendText);let a=e.getLineContent(r);if(this.trimLeft(a).indexOf(this.trimLeft(o))>=0){let l=bi(e.getLineContent(r)),u=bi(o),c=cs.getIndentMetadata(e,r);c!==null&&c&2&&(u=t.unshiftIndent(u));let d=Ga(u,i),h=Ga(l,i);return d-h}}return null}matchEnterRuleMovingDown(e,t,i,r,s,o){if(jh(o)>=0){let a=e.getLineMaxColumn(s),l=cs.getEnterAction(this._autoIndent,e,new Y(s,a,s,a));return this.parseEnterResult(e,t,i,r,l)}else{let a=r-1;for(;a>=1;){let c=e.getLineContent(a);if(jh(c)>=0)break;a--}if(a<1||r>e.getLineCount())return null;let l=e.getLineMaxColumn(a),u=cs.getEnterAction(this._autoIndent,e,new Y(a,l,a,l));return this.parseEnterResult(e,t,i,r,u)}}matchEnterRule(e,t,i,r,s,o){let a=s;for(;a>=1;){let c;if(a===s&&o!==void 0?c=o:c=e.getLineContent(a),jh(c)>=0)break;a--}if(a<1||r>e.getLineCount())return null;let l=e.getLineMaxColumn(a),u=cs.getEnterAction(this._autoIndent,e,new Y(a,l,a,l));return this.parseEnterResult(e,t,i,r,u)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1),r=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==r||cs.getIndentRulesSupport(i)===null)}getIndentEditsOfMovingBlock(e,t,i,r,s,o){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){let l=e.getLineContent(a),u=bi(l),d=Ga(u,r)+o,h=bL(d,r,s);h!==u&&(t.addEditOperation(new Y(a,1,a,u.length+1),h),a===i.endLineNumber&&i.endColumn<=u.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}}class Nm{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return Nm._COLLATOR||(Nm._COLLATOR=new Intl.Collator),Nm._COLLATOR}getEditOperations(e,t){let i=FDt(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;let r=lbe(e,t,i);if(!r)return!1;for(let s=0,o=r.before.length;s<o;s++)if(r.before[s]!==r.after[s])return!0;return!1}}Nm._COLLATOR=null;function lbe(n,e,t){let i=e.startLineNumber,r=e.endLineNumber;if(e.endColumn===1&&r--,i>=r)return null;let s=[];for(let a=i;a<=r;a++)s.push(n.getLineContent(a));let o=s.slice(0);return o.sort(Nm.getCollator().compare),t===!0&&(o=o.reverse()),{startLineNumber:i,endLineNumber:r,before:s,after:o}}function FDt(n,e,t){let i=lbe(n,e,t);return i?Sr.replace(new Y(i.startLineNumber,1,i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}class ube extends Et{constructor(e,t){super(t);this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((o,a)=>({selection:o,index:a,ignore:!1}));i.sort((o,a)=>Y.compareRangesUsingStarts(o.selection,a.selection));let r=i[0];for(let o=1;o<i.length;o++){const a=i[o];r.selection.endLineNumber===a.selection.startLineNumber&&(r.index<a.index?a.ignore=!0:(r.ignore=!0,r=a))}const s=[];for(const o of i)s.push(new abe(o.selection,this.down,o.ignore));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class BDt extends ube{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:L("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"2_line",title:L({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class $Dt extends ube{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:L("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"2_line",title:L({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class VDt extends Et{constructor(){super({id:"editor.action.duplicateSelection",label:L("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:ue.writable,menuOpts:{menuId:_e.MenubarSelectionMenu,group:"2_line",title:L({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const r=[],s=t.getSelections(),o=t.getModel();for(const a of s)if(a.isEmpty())r.push(new abe(a,!0));else{const l=new vt(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);r.push(new vgt(l,o.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class cbe extends Et{constructor(e,t){super(t);this.down=e}run(e,t){let i=[],r=t.getSelections()||[];const s=t.getOption(9);for(const o of r)i.push(new PDt(o,this.down,s));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class WDt extends cbe{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:L("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"2_line",title:L({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class HDt extends cbe{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:L("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"2_line",title:L({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class dbe extends Et{constructor(e,t){super(t);this.descending=e}run(e,t){const i=t.getSelections()||[];for(const s of i)if(!Nm.canRun(t.getModel(),s,this.descending))return;let r=[];for(let s=0,o=i.length;s<o;s++)r[s]=new Nm(i[s],this.descending);t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class zDt extends dbe{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:L("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:ue.writable})}}class UDt extends dbe{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:L("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:ue.writable})}}class jDt extends Et{constructor(){super({id:"editor.action.removeDuplicateLines",label:L("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:ue.writable})}run(e,t){if(!t.hasModel())return;let i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;let r=[],s=[],o=0;for(let a of t.getSelections()){let l=new Set,u=[];for(let f=a.startLineNumber;f<=a.endLineNumber;f++){let g=i.getLineContent(f);l.has(g)||(u.push(g),l.add(g))}let c=new vt(a.startLineNumber,1,a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),d=a.startLineNumber-o,h=new vt(d,1,d+u.length-1,u[u.length-1].length);r.push(Sr.replace(c,u.join(`
`))),s.push(h),o+=a.endLineNumber-a.startLineNumber+1-u.length}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class IP extends Et{constructor(){super({id:IP.ID,label:L("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:Rs(2089,2102),weight:100}})}run(e,t,i){let r=[];i.reason==="auto-save"&&(r=(t.getSelections()||[]).map(a=>new Ae(a.positionLineNumber,a.positionColumn)));let s=t.getSelection();if(s===null)return;let o=new RDt(s,r);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop()}}IP.ID="editor.action.trimTrailingWhitespace";class KDt extends Et{constructor(){super({id:"editor.action.deleteLines",label:L("lines.delete","Delete Line"),alias:"Delete Line",precondition:ue.writable,kbOpts:{kbExpr:ue.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),r=t.getModel();if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let s=0,o=[],a=[];for(let l=0,u=i.length;l<u;l++){const c=i[l];let d=c.startLineNumber,h=c.endLineNumber,f=1,g=r.getLineMaxColumn(h);h<r.getLineCount()?(h+=1,g=1):d>1&&(d-=1,f=r.getLineMaxColumn(d)),o.push(Sr.replace(new vt(d,f,h,g),"")),a.push(new vt(d-s,c.positionColumn,d-s,c.positionColumn)),s+=c.endLineNumber-c.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,o,a),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(s=>{let o=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(o-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:o,positionColumn:s.positionColumn}});t.sort((s,o)=>s.startLineNumber===o.startLineNumber?s.endLineNumber-o.endLineNumber:s.startLineNumber-o.startLineNumber);let i=[],r=t[0];for(let s=1;s<t.length;s++)r.endLineNumber+1>=t[s].startLineNumber?r.endLineNumber=t[s].endLineNumber:(i.push(r),r=t[s]);return i.push(r),i}}class GDt extends Et{constructor(){super({id:"editor.action.indentLines",label:L("lines.indent","Indent Line"),alias:"Indent Line",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,lr.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class qDt extends Et{constructor(){super({id:"editor.action.outdentLines",label:L("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:2135,weight:100}})}run(e,t){ey.Outdent.runEditorCommand(e,t,null)}}class YDt extends Et{constructor(){super({id:"editor.action.insertLineBefore",label:L("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,lr.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class XDt extends Et{constructor(){super({id:"editor.action.insertLineAfter",label:L("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,lr.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class hbe extends Et{run(e,t){if(!t.hasModel())return;const i=t.getSelection();let r=this._getRangesToDelete(t),s=[];for(let l=0,u=r.length-1;l<u;l++){let c=r[l],d=r[l+1];Y.intersectRanges(c,d)===null?s.push(c):r[l+1]=Y.plusRange(c,d)}s.push(r[r.length-1]);let o=this._getEndCursorState(i,s),a=s.map(l=>Sr.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,a,o),t.pushUndoStop()}}class ZDt extends hbe{constructor(){super({id:"deleteAllLeft",label:L("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:ue.writable,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,r=[],s=0;return t.forEach(o=>{let a;if(o.endColumn===1&&s>0){let l=o.startLineNumber-s;a=new vt(l,o.startColumn,l,o.startColumn)}else a=new vt(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn);s+=o.endLineNumber-o.startLineNumber,o.intersectRanges(e)?i=a:r.push(a)}),i&&r.unshift(i),r}_getRangesToDelete(e){let t=e.getSelections();if(t===null)return[];let i=t,r=e.getModel();return r===null?[]:(i.sort(Y.compareRangesUsingStarts),i=i.map(s=>{if(s.isEmpty())if(s.startColumn===1){let o=Math.max(1,s.startLineNumber-1),a=s.startLineNumber===1?1:r.getLineContent(o).length+1;return new Y(o,a,s.startLineNumber,1)}else return new Y(s.startLineNumber,1,s.startLineNumber,s.startColumn);else return new Y(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),i)}}class QDt extends hbe{constructor(){super({id:"deleteAllRight",label:L("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:ue.writable,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,r=[];for(let s=0,o=t.length,a=0;s<o;s++){let l=t[s],u=new vt(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(e)?i=u:r.push(u)}return i&&r.unshift(i),r}_getRangesToDelete(e){let t=e.getModel();if(t===null)return[];let i=e.getSelections();if(i===null)return[];let r=i.map(s=>{if(s.isEmpty()){const o=t.getLineMaxColumn(s.startLineNumber);return s.startColumn===o?new Y(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new Y(s.startLineNumber,s.startColumn,s.startLineNumber,o)}return s});return r.sort(Y.compareRangesUsingStarts),r}}class JDt extends Et{constructor(){super({id:"editor.action.joinLines",label:L("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:ue.writable,kbOpts:{kbExpr:ue.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(i===null)return;let r=t.getSelection();if(r===null)return;i.sort(Y.compareRangesUsingStarts);let s=[],o=i.reduce((h,f)=>h.isEmpty()?h.endLineNumber===f.startLineNumber?(r.equalsSelection(h)&&(r=f),f):f.startLineNumber>h.endLineNumber+1?(s.push(h),f):new vt(h.startLineNumber,h.startColumn,f.endLineNumber,f.endColumn):f.startLineNumber>h.endLineNumber?(s.push(h),f):new vt(h.startLineNumber,h.startColumn,f.endLineNumber,f.endColumn));s.push(o);let a=t.getModel();if(a===null)return;let l=[],u=[],c=r,d=0;for(let h=0,f=s.length;h<f;h++){let g=s[h],p=g.startLineNumber,m=1,b=0,_,C,w=a.getLineContent(g.endLineNumber).length-g.endColumn;if(g.isEmpty()||g.startLineNumber===g.endLineNumber){let E=g.getStartPosition();E.lineNumber<a.getLineCount()?(_=p+1,C=a.getLineMaxColumn(_)):(_=E.lineNumber,C=a.getLineMaxColumn(E.lineNumber))}else _=g.endLineNumber,C=a.getLineMaxColumn(_);let S=a.getLineContent(p);for(let E=p+1;E<=_;E++){let I=a.getLineContent(E),T=a.getLineFirstNonWhitespaceColumn(E);if(T>=1){let M=!0;S===""&&(M=!1),M&&(S.charAt(S.length-1)===" "||S.charAt(S.length-1)==="	")&&(M=!1,S=S.replace(/[\s\uFEFF\xA0]+$/g," "));let A=I.substr(T-1);S+=(M?" ":"")+A,M?b=A.length+1:b=A.length}else b=0}let D=new Y(p,m,_,C);if(!D.isEmpty()){let E;g.isEmpty()?(l.push(Sr.replace(D,S)),E=new vt(D.startLineNumber-d,S.length-b+1,p-d,S.length-b+1)):g.startLineNumber===g.endLineNumber?(l.push(Sr.replace(D,S)),E=new vt(g.startLineNumber-d,g.startColumn,g.endLineNumber-d,g.endColumn)):(l.push(Sr.replace(D,S)),E=new vt(g.startLineNumber-d,g.startColumn,g.startLineNumber-d,S.length-w)),Y.intersectRanges(D,r)!==null?c=E:u.push(E)}d+=D.endLineNumber-D.startLineNumber}u.unshift(c),t.pushUndoStop(),t.executeEdits(this.id,l,u),t.pushUndoStop()}}class eIt extends Et{constructor(){super({id:"editor.action.transpose",label:L("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:ue.writable})}run(e,t){let i=t.getSelections();if(i===null)return;let r=t.getModel();if(r===null)return;let s=[];for(let o=0,a=i.length;o<a;o++){let l=i[o];if(!l.isEmpty())continue;let u=l.getStartPosition(),c=r.getLineMaxColumn(u.lineNumber);if(u.column>=c){if(u.lineNumber===r.getLineCount())continue;let d=new Y(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),h=r.getValueInRange(d).split("").reverse().join("");s.push(new Zs(new vt(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),h))}else{let d=new Y(u.lineNumber,Math.max(1,u.column-1),u.lineNumber,u.column+1),h=r.getValueInRange(d).split("").reverse().join("");s.push(new nK(d,h,new vt(u.lineNumber,u.column+1,u.lineNumber,u.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class TP extends Et{run(e,t){const i=t.getSelections();if(i===null)return;const r=t.getModel();if(r===null)return;const s=t.getOption(117),o=[];for(const a of i)if(a.isEmpty()){const l=a.getStartPosition(),u=t.getConfiguredWordAtPosition(l);if(!u)continue;const c=new Y(l.lineNumber,u.startColumn,l.lineNumber,u.endColumn),d=r.getValueInRange(c);o.push(Sr.replace(c,this._modifyText(d,s)))}else{const l=r.getValueInRange(a);o.push(Sr.replace(a,this._modifyText(l,s)))}t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop()}}class tIt extends TP{constructor(){super({id:"editor.action.transformToUppercase",label:L("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:ue.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class nIt extends TP{constructor(){super({id:"editor.action.transformToLowercase",label:L("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:ue.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class BG{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class bE extends TP{constructor(){super({id:"editor.action.transformToTitlecase",label:L("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:ue.writable})}_modifyText(e,t){const i=bE.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,r=>r.toLocaleUpperCase()):e}}bE.titleBoundary=new BG("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class xm extends TP{constructor(){super({id:"editor.action.transformToSnakecase",label:L("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:ue.writable})}_modifyText(e,t){const i=xm.caseBoundary.get(),r=xm.singleLetters.get();return!i||!r?e:e.replace(i,"$1_$2").replace(r,"$1_$2$3").toLocaleLowerCase()}}xm.caseBoundary=new BG("(\\p{Ll})(\\p{Lu})","gmu");xm.singleLetters=new BG("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");ut(BDt);ut($Dt);ut(VDt);ut(WDt);ut(HDt);ut(zDt);ut(UDt);ut(jDt);ut(IP);ut(KDt);ut(GDt);ut(qDt);ut(YDt);ut(XDt);ut(ZDt);ut(QDt);ut(JDt);ut(eIt);ut(tIt);ut(nIt);xm.caseBoundary.isSupported()&&xm.singleLetters.isSupported()&&ut(xm);bE.titleBoundary.isSupported()&&ut(bE);var iIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ioe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},TW=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const fbe=new St("LinkedEditingInputVisible",!1),gbe="linked-editing-decoration";let hv=class NW extends ze{constructor(e,t,i){super();this.languageConfigurationService=i,this._debounceDuration=200,this._localToDispose=this._register(new it),this._editor=e,this._enabled=!1,this._visibleContextKey=fbe.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new it),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(r=>{(r.hasChanged(62)||r.hasChanged(82))&&this.reinitialize(!1)})),this._register(rA.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(NW.ID)}reinitialize(e){const t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(62)||this._editor.getOption(82))&&rA.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(xt.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const r=new Jh(this._debounceDuration),s=()=>{this._rangeUpdateTriggerPromise=r.trigger(()=>this.updateRanges(),this._debounceDuration)},o=new Jh(0),a=l=>{this._rangeSyncTriggerPromise=o.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{s()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const u=t.getDecorationRange(this._currentDecorations[0]);if(u&&l.changes.every(c=>u.intersectRanges(c.range))){a(this._currentDecorations);return}}s()})),this._localToDispose.add({dispose:()=>{r.cancel(),o.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||e.length===0)return;const t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const r=t.getValueInRange(i);if(this._currentWordPattern){const o=r.match(this._currentWordPattern);if((o?o[0].length:0)!==r.length)return this.clearRanges()}let s=[];for(let o=1,a=e.length;o<a;o++){const l=t.getDecorationRange(e[o]);if(!!l)if(l.startLineNumber!==l.endLineNumber)s.push({range:l,text:r});else{let u=t.getValueInRange(l),c=r,d=l.startColumn,h=l.endColumn;const f=Fy(u,c);d+=f,u=u.substr(f),c=c.substr(f);const g=QM(u,c);h-=g,u=u.substr(0,u.length-g),c=c.substr(0,c.length-g),(d!==h||c.length!==0)&&s.push({range:new Y(l.startLineNumber,d,l.endLineNumber,h),text:c})}}if(s.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const o=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",s),this._editor._getViewModel().setPrevEditOperationType(o)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return TW(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const i=this._editor.getModel(),r=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const o=i.getDecorationRange(this._currentDecorations[0]);if(o&&o.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=r;const s=qs(o=>TW(this,void 0,void 0,function*(){try{const a=yield pbe(i,t,o);if(s!==this._currentRequest||(this._currentRequest=null,r!==i.getVersionId()))return;let l=[];(a==null?void 0:a.ranges)&&(l=a.ranges),this._currentWordPattern=(a==null?void 0:a.wordPattern)||this._languageWordPattern;let u=!1;for(let d=0,h=l.length;d<h;d++)if(Y.containsPosition(l[d],t)){if(u=!0,d!==0){const f=l[d];l.splice(d,1),l.unshift(f)}break}if(!u){this.clearRanges();return}const c=l.map(d=>({range:d,options:NW.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,c)}catch(a){pf(a)||Qt(a),(this._currentRequest===s||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=s,s})}};hv.ID="editor.contrib.linkedEditing";hv.DECORATION=dn.register({description:"linked-editing",stickiness:0,className:gbe});hv=iIt([ioe(1,Zt),ioe(2,fo)],hv);class rIt extends Et{constructor(){super({id:"editor.action.linkedEditing",label:L("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:_t.and(ue.writable,ue.hasRenameProvider),kbOpts:{kbExpr:ue.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(ci),[r,s]=Array.isArray(t)&&t||[void 0,void 0];return zt.isUri(r)&&Ae.isIPosition(s)?i.openCodeEditor({resource:r},i.getActiveCodeEditor()).then(o=>{!o||(o.setPosition(s),o.invokeWithinContext(a=>(this.reportTelemetry(a,o),this.run(a,o))))},Qt):super.runCommand(e,t)}run(e,t){const i=hv.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const sIt=go.bindToContribution(hv.get);lt(new sIt({id:"cancelLinkedEditingInput",precondition:fbe,handler:n=>n.clearRanges(),kbOpts:{kbExpr:ue.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function pbe(n,e,t){const i=rA.ordered(n);return Vge(i.map(r=>()=>TW(this,void 0,void 0,function*(){try{return yield r.provideLinkedEditingRanges(n,e,t)}catch(s){Ys(s);return}})),r=>!!r&&nl(r==null?void 0:r.ranges))}const oIt=ce("editor.linkedEditingBackground",{dark:We.fromHex("#f00").transparent(.3),light:We.fromHex("#f00").transparent(.3),hc:We.fromHex("#f00").transparent(.3)},L("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Hi((n,e)=>{const t=n.getColor(oIt);t&&e.addRule(`.monaco-editor .${gbe} { background: ${t}; border-left-color: ${t}; }`)});vf("_executeLinkedEditingProvider",(n,e)=>pbe(n,e,En.None));oi(hv.ID,hv);ut(rIt);var mbe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class aIt{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return mbe(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class TR{constructor(e){this._disposables=new it;let t=[];for(const[i,r]of e){const s=i.links.map(o=>new aIt(o,r));t=TR._union(t,s),HU(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i=[],r,s,o,a;for(r=0,o=0,s=e.length,a=t.length;r<s&&o<a;){const l=e[r],u=t[o];if(Y.areIntersectingOrTouching(l.range,u.range)){r++;continue}Y.compareRangesUsingStarts(l.range,u.range)<0?(i.push(l),r++):(i.push(u),o++)}for(;r<s;r++)i.push(e[r]);for(;o<a;o++)i.push(t[o]);return i}}function vbe(n,e){const t=[],i=mk.ordered(n).reverse().map((r,s)=>Promise.resolve(r.provideLinks(n,e)).then(o=>{o&&(t[s]=[o,r])},Ys));return Promise.all(i).then(()=>{const r=new TR(L1(t));return e.isCancellationRequested?(r.dispose(),new TR([])):r})}Vn.registerCommand("_executeLinkProvider",(n,...e)=>mbe(void 0,void 0,void 0,function*(){let[t,i]=e;Ii(t instanceof zt),typeof i!="number"&&(i=0);const r=n.get(sr).getModel(t);if(!r)return[];const s=yield vbe(r,En.None);if(!s)return[];for(let a=0;a<Math.min(i,s.links.length);a++)yield s.links[a].resolve(En.None);const o=s.links.slice(0);return s.dispose(),o}));var lIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},roe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},uIt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function cIt(n,e){const t=n.url&&/^command:/i.test(n.url.toString()),i=n.tooltip?n.tooltip:t?L("links.navigate.executeCmd","Execute command"):L("links.navigate.follow","Follow link"),r=e?kn?L("links.navigate.kb.meta.mac","cmd + click"):L("links.navigate.kb.meta","ctrl + click"):kn?L("links.navigate.kb.alt.mac","option + click"):L("links.navigate.kb.alt","alt + click");if(n.url){let s="";if(/^command:/i.test(n.url.toString())){const a=n.url.toString().match(/^command:([^?#]+)/);if(a){const l=a[1];s=` "${L("tooltip.explanation","Execute command {0}",l)}"`}}return new Fd("",!0).appendMarkdown(`[${i}](${n.url.toString(!0).replace(/ /g,"%20")}${s}) (${r})`)}else return new Fd().appendText(`${i} (${r})`)}const soe={general:dn.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:dn.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class ay{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:ay._getOptions(e,t,!1)}}static _getOptions(e,t,i){const r=Object.assign({},i?soe.active:soe.general);return r.hoverMessage=cIt(e,t),r}activate(e,t){e.changeDecorationOptions(this.decorationId,ay._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,ay._getOptions(this.link,t,!1))}}let r1=class xW{constructor(e,t,i){this.listenersToRemove=new it,this.editor=e,this.openerService=t,this.notificationService=i;let r=new vG(e);this.listenersToRemove.add(r),this.listenersToRemove.add(r.onMouseMoveOrRelevantKeyDown(([s,o])=>{this._onEditorMouseMove(s,o)})),this.listenersToRemove.add(r.onExecute(s=>{this.onEditorMouseUp(s)})),this.listenersToRemove.add(r.onCancel(s=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(63),this.listenersToRemove.add(e.onDidChangeConfiguration(s=>{const o=e.getOption(63);this.enabled!==o&&(this.enabled=o,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(s=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(s=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(s=>this.onModelLanguageChanged())),this.listenersToRemove.add(mk.onDidChange(s=>this.onModelLanguageChanged())),this.timeout=new Ra,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(e){return e.getContribution(xW.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelLanguageChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),xW.RECOMPUTE_TIME)}beginCompute(){return uIt(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(!!mk.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=qs(t=>vbe(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){Qt(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t=this.editor.getOption(70)==="altKey";let i=[],r=Object.keys(this.currentOccurrences);for(let a=0,l=r.length;a<l;a++){let u=r[a],c=this.currentOccurrences[u];i.push(c.decorationId)}let s=[];if(e)for(const a of e)s.push(ay.decoration(a,t));let o=this.editor.deltaDecorations(i,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let a=0,l=o.length;a<l;a++){let u=new ay(e[a],o[a]);this.currentOccurrences[u.decorationId]=u}}_onEditorMouseMove(e,t){const i=this.editor.getOption(70)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const r=this.getLinkOccurrence(e.target.position);r&&this.editor.changeDecorations(s=>{r.activate(s,i),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(70)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:r}=e;r.resolve(En.None).then(s=>{if(typeof s=="string"&&this.editor.hasModel()){const o=this.editor.getModel().uri;if(o.scheme===on.file&&s.startsWith(`${on.file}:`)){const a=zt.parse(s);if(a.scheme===on.file){const l=uh(a);let u=null;l.startsWith("/./")?u=`.${l.substr(1)}`:l.startsWith("//./")&&(u=`.${l.substr(2)}`),u&&(s=Cft(o,u))}}}return this.openerService.open(s,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})},s=>{const o=s instanceof Error?s.message:s;o==="invalid"?this.notificationService.warn(L("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):o==="missing"?this.notificationService.warn(L("missing.url","Failed to open this link because its target is missing.")):Qt(s)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const r=this.currentOccurrences[i.id];if(r)return r}return null}isEnabled(e,t){return Boolean(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};r1.ID="editor.linkDetector";r1.RECOMPUTE_TIME=1e3;r1=lIt([roe(1,Ku),roe(2,Kr)],r1);class dIt extends Et{constructor(){super({id:"editor.action.openLink",label:L("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=r1.get(t);if(!i||!t.hasModel())return;let r=t.getSelections();for(let s of r){let o=i.getLinkOccurrence(s.getEndPosition());o&&i.openLinkOccurrence(o,!1)}}}oi(r1.ID,r1);ut(dIt);Hi((n,e)=>{const t=n.getColor(Wj);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});function Jw(n,e){const t=e.filter(i=>!n.find(r=>r.equals(i)));if(t.length>=1){const i=t.map(s=>`line ${s.viewState.position.lineNumber} column ${s.viewState.position.column}`).join(", "),r=t.length===1?L("cursorAdded","Cursor added: {0}",i):L("cursorsAdded","Cursors added: {0}",i);vA(r)}}class hIt extends Et{constructor(){super({id:"editor.action.insertCursorAbove",label:L("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:ue.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"3_multi",title:L({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let r=!0;i&&i.logicalLine===!1&&(r=!1);const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();const o=s.getCursorStates();s.setCursorStates(i.source,3,Bs.addCursorUp(s,o,r)),s.revealTopMostCursor(i.source),Jw(o,s.getCursorStates())}}class fIt extends Et{constructor(){super({id:"editor.action.insertCursorBelow",label:L("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:ue.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"3_multi",title:L({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let r=!0;i&&i.logicalLine===!1&&(r=!1);const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();const o=s.getCursorStates();s.setCursorStates(i.source,3,Bs.addCursorDown(s,o,r)),s.revealBottomMostCursor(i.source),Jw(o,s.getCursorStates())}}class gIt extends Et{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:L("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:ue.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"3_multi",title:L({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let r=e.startLineNumber;r<e.endLineNumber;r++){let s=t.getLineMaxColumn(r);i.push(new vt(r,s,r,s))}e.endColumn>1&&i.push(new vt(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),r=t.getSelections(),s=t._getViewModel(),o=s.getCursorStates();let a=[];r.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&t.setSelections(a),Jw(o,s.getCursorStates())}}class pIt extends Et{constructor(){super({id:"editor.action.addCursorsToBottom",label:L("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),r=t.getModel().getLineCount();let s=[];for(let l=i[0].startLineNumber;l<=r;l++)s.push(new vt(l,i[0].startColumn,l,i[0].endColumn));const o=t._getViewModel(),a=o.getCursorStates();s.length>0&&t.setSelections(s),Jw(a,o.getCursorStates())}}class mIt extends Et{constructor(){super({id:"editor.action.addCursorsToTop",label:L("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections();let r=[];for(let a=i[0].startLineNumber;a>=1;a--)r.push(new vt(a,i[0].startColumn,a,i[0].endColumn));const s=t._getViewModel(),o=s.getCursorStates();r.length>0&&t.setSelections(r),Jw(o,s.getCursorStates())}}class uN{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class CE{constructor(e,t,i,r,s,o,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=r,this.wholeWord=s,this.matchCase=o,this.currentMatch=a}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new CE(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let r=!1,s,o;const a=e.getSelections();a.length===1&&a[0].isEmpty()?(r=!0,s=!0,o=!0):(s=i.wholeWord,o=i.matchCase);const l=e.getSelection();let u,c=null;if(l.isEmpty()){const d=e.getConfiguredWordAtPosition(l.getStartPosition());if(!d)return null;u=d.word,c=new vt(l.startLineNumber,d.startColumn,l.startLineNumber,d.endColumn)}else u=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new CE(e,t,r,u,s,o,c)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new uN(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new uN(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return i?new vt(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new uN(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new uN(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return i?new vt(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}class s1 extends ze{constructor(e){super();this._sessionDispose=this._register(new it),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(s1.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=CE.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(r=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(r=>{(r.matchCase||r.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new vt(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(!!this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const r=e.getState().matchCase;if(!_be(this._editor.getModel(),t,r)){const o=this._editor.getModel();let a=[];for(let l=0,u=t.length;l<u;l++)a[l]=this._expandEmptyToWord(o,t[l]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){const r=i.searchScope;let s=[];t.forEach(o=>{r.forEach(a=>{o.range.endLineNumber<=a.endLineNumber&&o.range.startLineNumber>=a.startLineNumber&&s.push(o)})}),t=s}if(t.length>0){const r=this._editor.getSelection();for(let s=0,o=t.length;s<o;s++){const a=t[s];if(a.range.intersectRanges(r)){t[s]=t[0],t[0]=a;break}}this._setSelections(t.map(s=>new vt(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)))}}}s1.ID="editor.contrib.multiCursorController";class eS extends Et{run(e,t){const i=s1.get(t);if(!i)return;const r=ol.get(t);if(!r)return;const s=t._getViewModel();if(s){const o=s.getCursorStates();this._run(i,r),Jw(o,s.getCursorStates())}}}class vIt extends eS{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:L("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:2082,weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"3_multi",title:L({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class _It extends eS{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:L("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:_e.MenubarSelectionMenu,group:"3_multi",title:L({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class bIt extends eS{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:L("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:Rs(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class CIt extends eS{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:L("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class yIt extends eS{constructor(){super({id:"editor.action.selectHighlights",label:L("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:3114,weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"3_multi",title:L({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class wIt extends eS{constructor(){super({id:"editor.action.changeAll",label:L("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:_t.and(ue.writable,ue.editorTextFocus),kbOpts:{kbExpr:ue.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class SIt{constructor(e,t,i,r,s){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=r,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,s&&this._model===s._model&&this._searchText===s._searchText&&this._matchCase===s._matchCase&&this._wordSeparators===s._wordSeparators&&this._modelVersionId===s._modelVersionId&&(this._cachedFindMatches=s._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(Y.compareRangesUsingStarts)),this._cachedFindMatches}}class Mg extends ze{constructor(e){super();this.editor=e,this._isEnabled=e.getOption(97),this.decorations=[],this.updateSoon=this._register(new Ni(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(i=>{this._isEnabled=e.getOption(97)})),this._register(e.onDidChangeCursorSelection(i=>{!this._isEnabled||(i.selection.isEmpty()?i.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(i=>{this._setState(null)})),this._register(e.onDidChangeModelContent(i=>{this._isEnabled&&this.updateSoon.schedule()}));const t=ol.get(e);t&&this._register(t.getState().onFindReplaceStateChange(i=>{this._update()}))}_update(){this._setState(Mg._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;const r=i.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;const s=s1.get(i);if(!s)return null;const o=ol.get(i);if(!o)return null;let a=s.getSession(o);if(!a){const c=i.getSelections();if(c.length>1){const h=o.getState().matchCase;if(!_be(i.getModel(),c,h))return null}a=CE.create(i,o)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;const l=o.getState(),u=l.matchCase;if(l.isRevealed){let c=l.searchString;u||(c=c.toLowerCase());let d=a.searchText;if(u||(d=d.toLowerCase()),c===d&&a.matchCase===l.matchCase&&a.wholeWord===l.wholeWord&&!l.isRegex)return null}return new SIt(i.getModel(),a.searchText,a.matchCase,a.wholeWord?i.getOption(117):null,e)}_setState(e){if(this.state=e,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=this.state.findMatches(),r=this.editor.getSelections();r.sort(Y.compareRangesUsingStarts);const s=[];for(let l=0,u=0,c=i.length,d=r.length;l<c;){const h=i[l];if(u>=d)s.push(h),l++;else{const f=Y.compareRangesUsingStarts(h,r[u]);f<0?((r[u].isEmpty()||!Y.areIntersecting(h,r[u]))&&s.push(h),l++):(f>0||l++,u++)}}const o=$y.has(t)&&this.editor.getOption(72),a=s.map(l=>({range:l,options:o?Mg._SELECTION_HIGHLIGHT:Mg._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,a)}dispose(){this._setState(null),super.dispose()}}Mg.ID="editor.contrib.selectionHighlighter";Mg._SELECTION_HIGHLIGHT_OVERVIEW=dn.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:wr(b4),position:Nu.Inline},overviewRuler:{color:wr(bme),position:Pu.Center}});Mg._SELECTION_HIGHLIGHT=dn.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function _be(n,e,t){const i=ooe(n,e[0],!t);for(let r=1,s=e.length;r<s;r++){const o=e[r];if(o.isEmpty())return!1;const a=ooe(n,o,!t);if(i!==a)return!1}return!0}function ooe(n,e,t){const i=n.getValueInRange(e);return t?i.toLowerCase():i}oi(s1.ID,s1);oi(Mg.ID,Mg);ut(hIt);ut(fIt);ut(gIt);ut(vIt);ut(_It);ut(bIt);ut(CIt);ut(yIt);ut(wIt);ut(pIt);ut(mIt);var bbe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const o1={Visible:new St("parameterHintsVisible",!1),MultipleSignatures:new St("parameterHintsMultipleSignatures",!1)};function Cbe(n,e,t,i){return bbe(this,void 0,void 0,function*(){const r=r_.ordered(n);for(const s of r)try{const o=yield s.provideSignatureHelp(n,e,i,t);if(o)return o}catch(o){Ys(o)}})}Vn.registerCommand("_executeSignatureHelpProvider",(n,...e)=>bbe(void 0,void 0,void 0,function*(){const[t,i,r]=e;Ii(zt.isUri(t)),Ii(Ae.isIPosition(i)),Ii(typeof r=="string"||!r);const s=yield n.get(Oa).createModelReference(t);try{const o=yield Cbe(s.object.textEditorModel,Ae.lift(i),{triggerKind:Gh.Invoke,isRetrigger:!1,triggerCharacter:r},En.None);return o?(setTimeout(()=>o.dispose(),0),o.value):void 0}finally{s.dispose()}}));var LIt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},jp;(function(n){n.Default={type:0};class e{constructor(r,s){this.request=r,this.previouslyActiveHints=s,this.type=2}}n.Pending=e;class t{constructor(r){this.hints=r,this.type=1}}n.Active=t})(jp||(jp={}));class NP extends ze{constructor(e,t=NP.DEFAULT_DELAY){super();this._onChangedHints=this._register(new Le),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=jp.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new da),this.triggerChars=new hC,this.retriggerChars=new hC,this.triggerId=0,this.editor=e,this.throttledDelayer=new Jh(t),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(i=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(i=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(i=>this.onCursorChange(i))),this._register(this.editor.onDidChangeModelContent(i=>this.onModelContentChange())),this._register(r_.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(i=>this.onDidType(i))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=jp.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!r_.has(i))return;const r=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(r),t).catch(Qt)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,r=this.editor.getOption(76).cycle;if((e<2||i)&&!r){this.cancel();return}this.updateActiveSignature(i&&r?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,r=this.editor.getOption(76).cycle;if((e<2||i)&&!r){this.cancel();return}this.updateActiveSignature(i&&r?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new jp.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return LIt(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(kIt);this._pendingTriggers=[];const s={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const o=this.editor.getModel(),a=this.editor.getPosition();this.state=new jp.Pending(qs(l=>Cbe(o,a,s,l)),i);try{const l=yield this.state.request;return e!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new jp.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=jp.Default),Qt(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new hC,this.retriggerChars=new hC;const e=this.editor.getModel();if(!!e)for(const t of r_.ordered(e)){for(const i of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(i.charCodeAt(0)),this.retriggerChars.add(i.charCodeAt(0));for(const i of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Gh.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Gh.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Gh.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}NP.DEFAULT_DELAY=120;function kIt(n,e){switch(e.triggerKind){case Gh.Invoke:return e;case Gh.ContentChange:return n;case Gh.TriggerCharacter:default:return e}}var EIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},C6=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const vl=et,DIt=ws("parameter-hints-next",k.chevronDown,L("parameterHintsNextIcon","Icon for show next parameter hint.")),IIt=ws("parameter-hints-previous",k.chevronUp,L("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let NR=class ybe extends ze{constructor(e,t,i,r){super();this.editor=e,this.renderDisposeables=this._register(new it),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Qg({editor:e},r,i)),this.model=this._register(new NP(e)),this.keyVisible=o1.Visible.bindTo(t),this.keyMultipleSignatures=o1.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(s=>{s?(this.show(),this.render(s)):this.hide()}))}createParameterHintDOMNodes(){const e=vl(".editor-widget.parameter-hints-widget"),t=qe(e,vl(".phwrapper"));t.tabIndex=-1;const i=qe(t,vl(".controls")),r=qe(i,vl(".button"+Ti.asCSSSelector(IIt))),s=qe(i,vl(".overloads")),o=qe(i,vl(".button"+Ti.asCSSSelector(DIt)));this._register(nt(r,"click",h=>{ui.stop(h),this.previous()})),this._register(nt(o,"click",h=>{ui.stop(h),this.next()}));const a=vl(".body"),l=new dD(a,{});this._register(l),t.appendChild(l.getDomNode());const u=qe(a,vl(".signature")),c=qe(a,vl(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:u,overloads:s,docs:c,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(h=>{this.visible&&this.editor.layoutContentWidget(this)}));const d=()=>{if(!this.domNodes)return;const h=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${h.fontSize}px`,this.domNodes.element.style.lineHeight=`${h.lineHeight/h.fontSize}`};d(),this._register(xt.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(h=>h.hasChanged(44)).on(d,null)),this._register(this.editor.onDidLayoutChange(h=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const r=e.signatures[e.activeSignature];if(!r)return;const s=qe(this.domNodes.signature,vl(".code")),o=this.editor.getOption(44);s.style.fontSize=`${o.fontSize}px`,s.style.fontFamily=o.fontFamily;const a=r.parameters.length>0,l=(t=r.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(s,r,l);else{const d=qe(s,vl("span"));d.textContent=r.label}const u=r.parameters[l];if(u==null?void 0:u.documentation){const d=vl("span.documentation");if(typeof u.documentation=="string")d.textContent=u.documentation;else{const h=this.renderMarkdownDocs(u.documentation);d.appendChild(h.element)}qe(this.domNodes.docs,vl("p",{},d))}if(r.documentation!==void 0)if(typeof r.documentation=="string")qe(this.domNodes.docs,vl("p",{},r.documentation));else{const d=this.renderMarkdownDocs(r.documentation);qe(this.domNodes.docs,d.element)}const c=this.hasDocs(r,u);if(this.domNodes.signature.classList.toggle("has-docs",c),this.domNodes.docs.classList.toggle("empty",!c),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,u){let d="";const h=r.parameters[l];Array.isArray(h.label)?d=r.label.substring(h.label[0],h.label[1]):d=h.label,h.documentation&&(d+=typeof h.documentation=="string"?`, ${h.documentation}`:`, ${h.documentation.value}`),r.documentation&&(d+=typeof r.documentation=="string"?`, ${r.documentation}`:`, ${r.documentation.value}`),this.announcedLabel!==d&&(ro(L("hint","{0}, hint",d)),this.announcedLabel=d)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&oT(t.documentation).length>0||t&&typeof t.documentation=="object"&&oT(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&oT(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&oT(e.documentation.value).length>0)}renderParameters(e,t,i){const[r,s]=this.getParameterLabelOffsets(t,i),o=document.createElement("span");o.textContent=t.label.substring(0,r);const a=document.createElement("span");a.textContent=t.label.substring(r,s),a.className="parameter active";const l=document.createElement("span");l.textContent=t.label.substring(s),qe(e,o,a,l)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const r=new RegExp(`(\\W|^)${Fu(i.label)}(?=\\W|$)`,"g");r.test(e.label);const s=r.lastIndex-i.label.length;return s>=0?[s,r.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return ybe.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};NR.ID="editor.widget.parameterHintsWidget";NR=EIt([C6(1,Zt),C6(2,Ku),C6(3,fr)],NR);const TIt=ce("editorHoverWidget.highlightForeground",{dark:Ig,light:Ig,hc:Ig},L("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));Hi((n,e)=>{const t=n.getColor(Vj);if(t){const u=n.type===Tc.HIGH_CONTRAST?2:1;e.addRule(`.monaco-editor .parameter-hints-widget { border: ${u}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`)}const i=n.getColor(F_);i&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${i}; }`);const r=n.getColor(m4);r&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${r}; }`);const s=n.getColor(v4);s&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const o=n.getColor($j);o&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${o}; }`);const a=n.getColor(sme);a&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);const l=n.getColor(TIt);l&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${l}}`)});var NIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},xIt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let a1=class wbe extends ze{constructor(e,t){super();this.editor=e,this.widget=this._register(t.createInstance(NR,this.editor))}static get(e){return e.getContribution(wbe.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};a1.ID="editor.controller.parameterHints";a1=NIt([xIt(1,Mn)],a1);class MIt extends Et{constructor(){super({id:"editor.action.triggerParameterHints",label:L("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:ue.hasSignatureHelpProvider,kbOpts:{kbExpr:ue.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=a1.get(t);i&&i.trigger({triggerKind:Gh.Invoke})}}oi(a1.ID,a1);ut(MIt);const $G=100+75,VG=go.bindToContribution(a1.get);lt(new VG({id:"closeParameterHints",precondition:o1.Visible,handler:n=>n.cancel(),kbOpts:{weight:$G,kbExpr:ue.focus,primary:9,secondary:[1033]}}));lt(new VG({id:"showPrevParameterHint",precondition:_t.and(o1.Visible,o1.MultipleSignatures),handler:n=>n.previous(),kbOpts:{weight:$G,kbExpr:ue.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));lt(new VG({id:"showNextParameterHint",precondition:_t.and(o1.Visible,o1.MultipleSignatures),handler:n=>n.next(),kbOpts:{weight:$G,kbExpr:ue.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var AIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},y6=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const xP=new St("renameInputVisible",!1,L("renameInputVisible","Whether the rename input widget is visible"));let MW=class{constructor(e,t,i,r,s){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=r,this._disposables=new it,this.allowEditorOverflow=!0,this._visibleContextKey=xP.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(44)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",L("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var t,i;const[r,s]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(r),this._label.innerText=L({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(r))===null||t===void 0?void 0:t.getLabel(),(i=this._keybindingService.lookupKeybinding(s))===null||i===void 0?void 0:i.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,r,s;if(!this._input||!this._domNode)return;const o=e.getColor(Qm);this._domNode.style.backgroundColor=String((t=e.getColor(aa))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=o?` 0 0 8px 2px ${o}`:"",this._domNode.style.color=String((i=e.getColor(Rj))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((r=e.getColor(Aj))!==null&&r!==void 0?r:"");const a=e.getColor(Oj);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(s=a==null?void 0:a.toString())!==null&&s!==void 0?s:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(44);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,i,r,s,o){this._domNode.classList.toggle("preview",s),this._position=new Ae(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const a=new it;return new Promise(l=>{this._currentCancelInput=u=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(u),!0),this._currentAcceptInput=u=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:s&&u})},o.onCancellationRequested(()=>this.cancelInput(!0)),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};MW=AIt([y6(2,Ki),y6(3,Dr),y6(4,Zt)],MW);var RIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Pb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},y_=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class WG{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=iA.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return y_(this,void 0,void 0,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const r=this._providers[this._providerRenameIdx];if(!r.resolveRenameLocation)break;let s=yield r.resolveRenameLocation(this.model,this.position,e);if(!!s){if(s.rejectReason){t.push(s.rejectReason);continue}return s}}const i=this.model.getWordAtPosition(this.position);return i?{range:new Y(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:Y.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return y_(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,i,r){return y_(this,void 0,void 0,function*(){const s=this._providers[t];if(!s)return{edits:[],rejectReason:i.join(`
`)};const o=yield s.provideRenameEdits(this.model,this.position,e,r);if(o){if(o.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(o.rejectReason),r)}else return this._provideRenameEdits(e,t+1,i.concat(L("no result","No result.")),r);return o})}}function OIt(n,e,t){return y_(this,void 0,void 0,function*(){const i=new WG(n,e),r=yield i.resolveRenameLocation(En.None);return(r==null?void 0:r.rejectReason)?{edits:[],rejectReason:r.rejectReason}:i.provideRenameEdits(t,En.None)})}let l1=class Sbe{constructor(e,t,i,r,s,o,a){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=r,this._progressService=s,this._logService=o,this._configService=a,this._dispoableStore=new it,this._cts=new co,this._renameInputField=this._dispoableStore.add(new bm(()=>this._dispoableStore.add(this._instaService.createInstance(MW,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(Sbe.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return y_(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const i=this.editor.getPosition(),r=new WG(this.editor.getModel(),i);if(!r.hasProvider())return;this._cts=new iE(this.editor,5);let s;try{const h=r.resolveRenameLocation(this._cts.token);this._progressService.showWhile(h,250),s=yield h}catch(h){(e=Gl.get(this.editor))===null||e===void 0||e.showMessage(h||L("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}if(!s)return;if(s.rejectReason){(t=Gl.get(this.editor))===null||t===void 0||t.showMessage(s.rejectReason,i);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new iE(this.editor,5,s.range);let o=this.editor.getSelection(),a=0,l=s.text.length;!Y.isEmpty(o)&&!Y.spansMultipleLines(o)&&Y.containsRange(s.range,o)&&(a=Math.max(0,o.startColumn-s.range.startColumn),l=Math.min(s.range.endColumn,o.endColumn)-s.range.startColumn);const u=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),c=yield this._renameInputField.value.getInput(s.range,s.text,a,l,u,this._cts.token);if(typeof c=="boolean"){c&&this.editor.focus();return}this.editor.focus();const d=GU(r.provideRenameEdits(c.newName,this._cts.token),this._cts.token).then(h=>y_(this,void 0,void 0,function*(){if(!(!h||!this.editor.hasModel())){if(h.rejectReason){this._notificationService.info(h.rejectReason);return}this.editor.setSelection(Y.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(N4.convert(h),{editor:this.editor,showPreview:c.wantsPreview,label:L("label","Renaming '{0}'",s==null?void 0:s.text),quotableLabel:L("quotableLabel","Renaming {0}",s==null?void 0:s.text)}).then(f=>{f.ariaSummary&&ro(L("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,c.newName,f.ariaSummary))}).catch(f=>{this._notificationService.error(L("rename.failedApply","Rename failed to apply edits")),this._logService.error(f)})}}),h=>{this._notificationService.error(L("rename.failed","Rename failed to compute edits")),this._logService.error(h)});return this._progressService.showWhile(d,250),d})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};l1.ID="editor.contrib.renameController";l1=RIt([Pb(1,Mn),Pb(2,Kr),Pb(3,vK),Pb(4,Dv),Pb(5,Uc),Pb(6,_j)],l1);class PIt extends Et{constructor(){super({id:"editor.action.rename",label:L("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:_t.and(ue.writable,ue.hasRenameProvider),kbOpts:{kbExpr:ue.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(ci),[r,s]=Array.isArray(t)&&t||[void 0,void 0];return zt.isUri(r)&&Ae.isIPosition(s)?i.openCodeEditor({resource:r},i.getActiveCodeEditor()).then(o=>{!o||(o.setPosition(s),o.invokeWithinContext(a=>(this.reportTelemetry(a,o),this.run(a,o))))},Qt):super.runCommand(e,t)}run(e,t){const i=l1.get(t);return i?i.run():Promise.resolve()}}oi(l1.ID,l1);ut(PIt);const HG=go.bindToContribution(l1.get);lt(new HG({id:"acceptRenameInput",precondition:xP,handler:n=>n.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:ue.focus,primary:3}}));lt(new HG({id:"acceptRenameInputWithPreview",precondition:_t.and(xP,_t.has("config.editor.rename.enablePreview")),handler:n=>n.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:ue.focus,primary:1024+3}}));lt(new HG({id:"cancelRenameInput",precondition:xP,handler:n=>n.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:ue.focus,primary:9,secondary:[1033]}}));vf("_executeDocumentRenameProvider",function(n,e,...t){const[i]=t;return Ii(typeof i=="string"),OIt(n,e,i)});vf("_executePrepareRename",function(n,e){return y_(this,void 0,void 0,function*(){const i=yield new WG(n,e).resolveRenameLocation(En.None);if(i==null?void 0:i.rejectReason)throw new Error(i.rejectReason);return i})});jr.as(A1.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:L("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});class FIt{provideSelectionRanges(e,t){const i=[];for(const r of t){const s=[];i.push(s),this._addInWordRanges(s,e,r),this._addWordRanges(s,e,r),this._addWhitespaceLine(s,e,r),s.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const r=t.getWordAtPosition(i);if(!r)return;let{word:s,startColumn:o}=r,a=i.column-o,l=a,u=a,c=0;for(;l>=0;l--){let d=s.charCodeAt(l);if(l!==a&&(d===95||d===45))break;if(em(d)&&_h(c))break;c=d}for(l+=1;u<s.length;u++){let d=s.charCodeAt(u);if(_h(d)&&em(c))break;if(d===95||d===45)break;c=d}l<u&&e.push({range:new Y(i.lineNumber,o+l,i.lineNumber,o+u)})}_addWordRanges(e,t,i){const r=t.getWordAtPosition(i);r&&e.push({range:new Y(i.lineNumber,r.startColumn,i.lineNumber,r.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new Y(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var zG=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class UG{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new UG(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}class _w{constructor(e){this._editor=e,this._ignoreSelection=!1}static get(e){return e.getContribution(_w.ID)}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return zG(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(!KO.has(i)||(this._state||(yield kbe(i,t.map(s=>s.getPosition()),this._editor.getOption(102),En.None).then(s=>{var o;if(!(!nl(s)||s.length!==t.length)&&!(!this._editor.hasModel()||!$l(this._editor.getSelections(),t,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<s.length;a++)s[a]=s[a].filter(l=>l.containsPosition(t[a].getStartPosition())&&l.containsPosition(t[a].getEndPosition())),s[a].unshift(t[a]);this._state=s.map(a=>new UG(0,a)),(o=this._selectionListener)===null||o===void 0||o.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(s=>s.mov(e));const r=this._state.map(s=>vt.fromPositions(s.ranges[s.index].getStartPosition(),s.ranges[s.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}})}}_w.ID="editor.contrib.smartSelectController";class Lbe extends Et{constructor(e,t){super(t);this._forward=e}run(e,t){return zG(this,void 0,void 0,function*(){let i=_w.get(t);i&&(yield i.run(this._forward))})}}class BIt extends Lbe{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:L("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:ue.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"1_basic",title:L({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}Vn.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class $It extends Lbe{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:L("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:ue.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:_e.MenubarSelectionMenu,group:"1_basic",title:L({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}oi(_w.ID,_w);ut(BIt);ut($It);KO.register("*",new FIt);function kbe(n,e,t,i){return zG(this,void 0,void 0,function*(){const r=KO.all(n);r.length===1&&r.unshift(new Sl);let s=[],o=[];for(const a of r)s.push(Promise.resolve(a.provideSelectionRanges(n,e,i)).then(l=>{if(nl(l)&&l.length===e.length)for(let u=0;u<e.length;u++){o[u]||(o[u]=[]);for(const c of l[u])Y.isIRange(c.range)&&Y.containsPosition(c.range,e[u])&&o[u].push(Y.lift(c.range))}},Ys));return yield Promise.all(s),o.map(a=>{if(a.length===0)return[];a.sort((d,h)=>Ae.isBefore(d.getStartPosition(),h.getStartPosition())?1:Ae.isBefore(h.getStartPosition(),d.getStartPosition())||Ae.isBefore(d.getEndPosition(),h.getEndPosition())?-1:Ae.isBefore(h.getEndPosition(),d.getEndPosition())?1:0);let l=[],u;for(const d of a)(!u||Y.containsRange(d,u)&&!Y.equalsRange(d,u))&&(l.push(d),u=d);if(!t.selectLeadingAndTrailingWhitespace)return l;let c=[l[0]];for(let d=1;d<l.length;d++){const h=l[d-1],f=l[d];if(f.startLineNumber!==h.startLineNumber||f.endLineNumber!==h.endLineNumber){const g=new Y(h.startLineNumber,n.getLineFirstNonWhitespaceColumn(h.startLineNumber),h.endLineNumber,n.getLineLastNonWhitespaceColumn(h.endLineNumber));g.containsRange(h)&&!g.equalsRange(h)&&f.containsRange(g)&&!f.equalsRange(g)&&c.push(g);const p=new Y(h.startLineNumber,1,h.endLineNumber,n.getLineMaxColumn(h.endLineNumber));p.containsRange(h)&&!p.equalsRange(g)&&f.containsRange(p)&&!f.equalsRange(p)&&c.push(p)}c.push(f)}return c})})}Jut("_executeSelectionRangeProvider",function(n,...e){const[t]=e;return kbe(n,t,{selectLeadingAndTrailingWhitespace:!0},En.None)});class VIt extends Et{constructor(){super({id:"editor.action.forceRetokenize",label:L("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.resetTokenization();const r=new Ou(!0);i.forceTokenization(i.getLineCount()),r.stop(),console.log(`tokenization took ${r.elapsed()}`)}}ut(VIt);class bw extends Et{constructor(){super({id:bw.ID,label:L({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const r=!LA.getTabFocusMode();LA.setTabFocusMode(r),ro(r?L("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):L("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}bw.ID="editor.action.toggleTabFocusMode";ut(bw);var WIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},aoe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},HIt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const Ebe="ignoreUnusualLineTerminators";function zIt(n,e,t){n.setModelProperty(e.uri,Ebe,t)}function UIt(n,e){return n.getModelProperty(e.uri,Ebe)}let yE=class extends ze{constructor(e,t,i){super();this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return HIt(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||UIt(this._codeEditorService,e)===!0||this._editor.getOption(81))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:L("unusualLineTerminators.title","Unusual Line Terminators"),message:L("unusualLineTerminators.message","Detected unusual line terminators"),detail:L("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Wu(e.uri)),primaryButton:L("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:L("unusualLineTerminators.ignore","Ignore")})).confirmed){zIt(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};yE.ID="editor.contrib.unusualLineTerminatorsDetector";yE=WIt([aoe(1,pD),aoe(2,ci)],yE);oi(yE.ID,yE);var jIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},cN=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let wE=class extends ze{constructor(e,t,i,r,s){super();this._modelService=t,this._themeService=i,this._configurationService=r,this._editor=e,this._debounceInformation=s.for(vk,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=new Ni(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[];const o=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{o()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),o()})),this._register(this._editor.onDidChangeModelContent(a=>{this._cancelAll(),o()})),this._register(vk.onDidChange(()=>{this._cancelAll(),o()})),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration(xK)&&(this._cancelAll(),o())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),o()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!$$(e,this._themeService,this._configurationService)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}if(!v0t(e)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){const i=e.getVersionId(),r=qs(o=>Promise.resolve(TK(e,t,o))),s=new Ou(!1);return r.then(o=>{if(this._debounceInformation.update(e,s.elapsed()),!o||!o.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:a,tokens:l}=o,u=this._modelService.getSemanticTokensProviderStyling(a);e.setPartialSemanticTokens(t,jve(l,u,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}};wE.ID="editor.contrib.viewportSemanticTokens";wE=jIt([cN(1,sr),cN(2,Ki),cN(3,Mi),cN(4,sp)],wE);oi(wE.ID,wE);var KIt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},GIt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const qIt=ce("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},L("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),YIt=ce("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},L("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),XIt=ce("editor.wordHighlightBorder",{light:null,dark:null,hc:Go},L("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),ZIt=ce("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Go},L("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),QIt=ce("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},L("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),JIt=ce("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},L("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),MP=new St("hasWordHighlights",!1);function Dbe(n,e,t){const i=$y.ordered(n);return Vge(i.map(r=>()=>Promise.resolve(r.provideDocumentHighlights(n,e,t)).then(void 0,Ys)),nl)}class Ibe{constructor(e,t,i){this._wordRange=this._getCurrentWordRange(e,t),this.result=qs(r=>this._compute(e,t,i,r))}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new Y(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const r=t.startLineNumber,s=t.startColumn,o=t.endColumn,a=this._getCurrentWordRange(e,t);let l=Boolean(this._wordRange&&this._wordRange.equalsRange(a));for(let u=0,c=i.length;!l&&u<c;u++){let d=e.getDecorationRange(i[u]);d&&d.startLineNumber===r&&d.startColumn<=s&&d.endColumn>=o&&(l=!0)}return l}cancel(){this.result.cancel()}}class eTt extends Ibe{_compute(e,t,i,r){return Dbe(e,t.getPosition(),r).then(s=>s||[])}}class tTt extends Ibe{constructor(e,t,i){super(e,t,i);this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,r){return jm(250,r).then(()=>{if(!t.isEmpty())return[];const s=e.getWordAtPosition(t.getPosition());return!s||s.word.length>1e3?[]:e.findMatches(s.word,!0,!1,!0,i,!1).map(a=>({range:a.range,kind:gk.Text}))})}isValid(e,t,i){const r=t.isEmpty();return this._selectionIsEmpty!==r?!1:super.isValid(e,t,i)}}function nTt(n,e,t){return $y.has(n)?new eTt(n,e,t):new tTt(n,e,t)}vf("_executeDocumentHighlights",(n,e)=>Dbe(n,e,En.None));class tS{constructor(e,t){this.toUnhook=new it,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=MP.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(i=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(i)})),this.toUnhook.add(e.onDidChangeModelContent(i=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(i=>{let r=this.editor.getOption(72);this.occurrencesHighlight!==r&&(this.occurrencesHighlight=r,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return L1(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(Y.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),i=(e.findIndex(s=>s.containsPosition(this.editor.getPosition()))+1)%e.length,r=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);const s=this._getWord();if(s){const o=this.editor.getModel().getLineContent(r.startLineNumber);ro(`${o}, ${i+1} of ${e.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),i=(e.findIndex(s=>s.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,r=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);const s=this._getWord();if(s){const o=this.editor.getModel().getLineContent(r.startLineNumber);ro(`${o}, ${i+1} of ${e.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}let t=e.startColumn,i=e.endColumn;const r=this._getWord();if(!r||r.startColumn>t||r.endColumn<i){this._stopAll();return}const s=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),s)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let o=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=nTt(this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(a=>{o===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=a||[],this._beginRenderDecorations())},Qt)}}_beginRenderDecorations(){let e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:tS._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===gk.Write?this._WRITE_OPTIONS:e===gk.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}tS._WRITE_OPTIONS=dn.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:wr(JIt),position:Pu.Center},minimap:{color:wr(b4),position:Nu.Inline}});tS._TEXT_OPTIONS=dn.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:wr(bme),position:Pu.Center},minimap:{color:wr(b4),position:Nu.Inline}});tS._REGULAR_OPTIONS=dn.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:wr(QIt),position:Pu.Center},minimap:{color:wr(b4),position:Nu.Inline}});let u1=class Tbe extends ze{constructor(e,t){super();this.wordHighlighter=null;const i=()=>{e.hasModel()&&(this.wordHighlighter=new tS(e,t))};this._register(e.onDidChangeModel(r=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),i()})),i()}static get(e){return e.getContribution(Tbe.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};u1.ID="editor.contrib.wordHighlighter";u1=KIt([GIt(1,Zt)],u1);class Nbe extends Et{constructor(e,t){super(t);this._isNext=e}run(e,t){const i=u1.get(t);!i||(this._isNext?i.moveNext():i.moveBack())}}class iTt extends Nbe{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:L("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:MP,kbOpts:{kbExpr:ue.editorTextFocus,primary:65,weight:100}})}}class rTt extends Nbe{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:L("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:MP,kbOpts:{kbExpr:ue.editorTextFocus,primary:1089,weight:100}})}}class sTt extends Et{constructor(){super({id:"editor.action.wordHighlight.trigger",label:L("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:MP.toNegated(),kbOpts:{kbExpr:ue.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const r=u1.get(t);!r||r.restoreViewState(!0)}}oi(u1.ID,u1);ut(iTt);ut(rTt);ut(sTt);Hi((n,e)=>{const t=n.getColor(Bj);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));const i=n.getColor(qIt);i&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${i}; }`);const r=n.getColor(YIt);r&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${r}; }`);const s=n.getColor($ct);s&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${n.type==="hc"?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const o=n.getColor(XIt);o&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${n.type==="hc"?"dashed":"solid"} ${o}; box-sizing: border-box; }`);const a=n.getColor(ZIt);a&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${n.type==="hc"?"dashed":"solid"} ${a}; box-sizing: border-box; }`)});class AP extends go{constructor(e){super(e);this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const r=Bu(t.getOption(117)),s=t.getModel(),a=t.getSelections().map(l=>{const u=new Ae(l.positionLineNumber,l.positionColumn),c=this._move(r,s,u,this._wordNavigationType);return this._moveTo(l,c,this._inSelectionMode)});if(s.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(l=>mn.fromModelSelection(l))),a.length===1){const l=new Ae(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}_moveTo(e,t,i){return i?new vt(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new vt(t.lineNumber,t.column,t.lineNumber,t.column)}}class xv extends AP{_move(e,t,i,r){return Wn.moveWordLeft(e,t,i,r)}}class Mv extends AP{_move(e,t,i,r){return Wn.moveWordRight(e,t,i,r)}}class oTt extends xv{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class aTt extends xv{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class lTt extends xv{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:_t.and(ue.textInputFocus,(e=_t.and(aD,H4))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class uTt extends xv{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class cTt extends xv{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class dTt extends xv{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:_t.and(ue.textInputFocus,(e=_t.and(aD,H4))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class hTt extends xv{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,r){return super._move(Bu(qd.wordSeparators.defaultValue),t,i,r)}}class fTt extends xv{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,r){return super._move(Bu(qd.wordSeparators.defaultValue),t,i,r)}}class gTt extends Mv{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class pTt extends Mv{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:_t.and(ue.textInputFocus,(e=_t.and(aD,H4))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class mTt extends Mv{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class vTt extends Mv{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class _Tt extends Mv{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:_t.and(ue.textInputFocus,(e=_t.and(aD,H4))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class bTt extends Mv{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class CTt extends Mv{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,r){return super._move(Bu(qd.wordSeparators.defaultValue),t,i,r)}}class yTt extends Mv{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,r){return super._move(Bu(qd.wordSeparators.defaultValue),t,i,r)}}class RP extends go{constructor(e){super(e);this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const r=e.get(fo);if(!t.hasModel())return;const s=Bu(t.getOption(117)),o=t.getModel(),a=t.getSelections(),l=t.getOption(5),u=t.getOption(8),c=r.getLanguageConfiguration(o.getLanguageId()).getAutoClosingPairs(),d=t._getViewModel(),h=a.map(f=>{const g=this._delete({wordSeparators:s,model:o,selection:f,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:l,autoClosingQuotes:u,autoClosingPairs:c,autoClosedCharacters:d.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Zs(g,"")});t.pushUndoStop(),t.executeCommands(this.id,h),t.pushUndoStop()}}class jG extends RP{_delete(e,t){let i=Wn.deleteWordLeft(e,t);return i||new Y(1,1,1,1)}}class KG extends RP{_delete(e,t){let i=Wn.deleteWordRight(e,t);if(i)return i;const r=e.model.getLineCount(),s=e.model.getLineMaxColumn(r);return new Y(r,s,r,s)}}class wTt extends jG{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:ue.writable})}}class STt extends jG{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:ue.writable})}}class LTt extends jG{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:ue.writable,kbOpts:{kbExpr:ue.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class kTt extends KG{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:ue.writable})}}class ETt extends KG{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:ue.writable})}}class DTt extends KG{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:ue.writable,kbOpts:{kbExpr:ue.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class ITt extends Et{constructor(){super({id:"deleteInsideWord",precondition:ue.writable,label:L("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const r=Bu(t.getOption(117)),s=t.getModel(),a=t.getSelections().map(l=>{const u=Wn.deleteInsideWord(r,s,l);return new Zs(u,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}lt(new oTt);lt(new aTt);lt(new lTt);lt(new uTt);lt(new cTt);lt(new dTt);lt(new gTt);lt(new pTt);lt(new mTt);lt(new vTt);lt(new _Tt);lt(new bTt);lt(new hTt);lt(new fTt);lt(new CTt);lt(new yTt);lt(new wTt);lt(new STt);lt(new LTt);lt(new kTt);lt(new ETt);lt(new DTt);ut(ITt);class TTt extends RP{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:ue.writable,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){let i=E4.deleteWordPartLeft(e);return i||new Y(1,1,1,1)}}class NTt extends RP{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:ue.writable,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let i=E4.deleteWordPartRight(e);if(i)return i;const r=e.model.getLineCount(),s=e.model.getLineMaxColumn(r);return new Y(r,s,r,s)}}class xbe extends AP{_move(e,t,i,r){return E4.moveWordPartLeft(e,t,i)}}class xTt extends xbe{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}Vn.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class MTt extends xbe{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}Vn.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Mbe extends AP{_move(e,t,i,r){return E4.moveWordPartRight(e,t,i)}}class ATt extends Mbe{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class RTt extends Mbe{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:ue.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}lt(new TTt);lt(new NTt);lt(new xTt);lt(new MTt);lt(new ATt);lt(new RTt);var Abe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Hx=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Rbe=new St("accessibilityHelpWidgetVisible",!1);let c1=class Obe extends ze{constructor(e,t){super();this._editor=e,this._widget=this._register(t.createInstance(Cw,this._editor))}static get(e){return e.getContribution(Obe.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};c1.ID="editor.contrib.accessibilityHelpController";c1=Abe([Hx(1,Mn)],c1);function OTt(n,e){return!n||n.length===0?Yr.noSelection:n.length===1?e?Su(Yr.singleSelectionRange,n[0].positionLineNumber,n[0].positionColumn,e):Su(Yr.singleSelection,n[0].positionLineNumber,n[0].positionColumn):e?Su(Yr.multiSelectionRange,n.length,e):n.length>0?Su(Yr.multiSelection,n.length):""}let Cw=class zx extends jc{constructor(e,t,i,r){super();this._contextKeyService=t,this._keybindingService=i,this._openerService=r,this._editor=e,this._isVisibleKey=Rbe.bindTo(this._contextKeyService),this._domNode=Un(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=Un(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(Ks(this._contentDomNode.domNode,"keydown",s=>{if(!!this._isVisible&&(s.equals(2083)&&(ro(Yr.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),_s(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),s.preventDefault(),s.stopPropagation()),s.equals(2086))){ro(Yr.openingDocs);let o=this._editor.getRawOptions().accessibilityHelpUrl;typeof o=="undefined"&&(o="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(zt.parse(o)),s.preventDefault(),s.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return zx.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){const r=this._keybindingService.lookupKeybinding(e);return r?Su(t,r.getAriaLabel()):Su(i,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let i=0;if(t){const a=this._editor.getModel();a&&t.forEach(l=>{i+=a.getValueLengthInRange(l)})}let r=OTt(t,i);e.get(54)?e.get(81)?r+=Yr.readonlyDiffEditor:r+=Yr.editableDiffEditor:e.get(81)?r+=Yr.readonlyEditor:r+=Yr.editableEditor;const s=kn?Yr.changeConfigToOnMac:Yr.changeConfigToOnWinLinux;switch(e.get(2)){case 0:r+=`

 - `+s;break;case 2:r+=`

 - `+Yr.auto_on;break;case 1:r+=`

 - `+Yr.auto_off,r+=" "+s;break}e.get(130)?r+=`

 - `+this._descriptionForCommand(bw.ID,Yr.tabFocusModeOnMsg,Yr.tabFocusModeOnMsgNoKb):r+=`

 - `+this._descriptionForCommand(bw.ID,Yr.tabFocusModeOffMsg,Yr.tabFocusModeOffMsgNoKb);const o=kn?Yr.openDocMac:Yr.openDocWinLinux;r+=`

 - `+o,r+=`

`+Yr.outroMsg,this._contentDomNode.domNode.appendChild(Qve(r)),this._contentDomNode.domNode.setAttribute("aria-label",r)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,_s(this._contentDomNode.domNode),this._editor.focus())}_layout(){const e=this._editor.getLayoutInfo(),t=Math.max(5,Math.min(zx.WIDTH,e.width-40)),i=Math.max(5,Math.min(zx.HEIGHT,e.height-40));this._domNode.setWidth(t),this._domNode.setHeight(i);const r=Math.round((e.height-i)/2);this._domNode.setTop(r);const s=Math.round((e.width-t)/2);this._domNode.setLeft(s)}};Cw.ID="editor.contrib.accessibilityHelpWidget";Cw.WIDTH=500;Cw.HEIGHT=300;Cw=Abe([Hx(1,Zt),Hx(2,Dr),Hx(3,Ku)],Cw);class PTt extends Et{constructor(){super({id:"editor.action.showAccessibilityHelp",label:Yr.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const i=c1.get(t);i&&i.show()}}oi(c1.ID,c1);ut(PTt);const FTt=go.bindToContribution(c1.get);lt(new FTt({id:"closeAccessibilityHelp",precondition:Rbe,handler:n=>n.hide(),kbOpts:{weight:100+100,kbExpr:ue.focus,primary:9,secondary:[1033]}}));Hi((n,e)=>{const t=n.getColor(aa);t&&e.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${t}; }`);const i=n.getColor(Dg);i&&e.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${i}; }`);const r=n.getColor(Qm);r&&e.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${r}; }`);const s=n.getColor(rr);s&&e.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)});class AW extends ze{constructor(e){super();this.editor=e,this.widget=null,Ad&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(81);!this.widget&&e?this.widget=new OP(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}AW.ID="editor.contrib.iPadShowKeyboard";class OP extends ze{constructor(e){super();this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(nt(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register(nt(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return OP.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}OP.ID="editor.contrib.ShowKeyboardWidget";oi(AW.ID,AW);var BTt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},loe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let yw=class Pbe extends ze{constructor(e,t,i){super();this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(dr.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}static get(e){return e.getContribution(Pbe.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new PP(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};yw.ID="editor.contrib.inspectTokens";yw=BTt([loe(1,Jl),loe(2,fr)],yw);class $Tt extends Et{constructor(){super({id:"editor.action.inspectTokens",label:C$.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=yw.get(t);i&&i.launch()}}function VTt(n){let e="";for(let t=0,i=n.length;t<i;t++){const r=n.charCodeAt(t);switch(r){case 9:e+="\u2192";break;case 32:e+="\xB7";break;default:e+=String.fromCharCode(r)}}return e}function WTt(n,e){const t=dr.get(e);if(t)return t;const i=n.encodeLanguageId(e);return{getInitialState:()=>Hy,tokenize:(r,s,o)=>vpe(e,o),tokenizeEncoded:(r,s,o)=>gj(i,o)}}class PP extends ze{constructor(e,t){super();this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=WTt(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(i=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return PP._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let l=t.tokens1.length-1;l>=0;l--){const u=t.tokens1[l];if(e.column-1>=u.offset){i=l;break}}let r=0;for(let l=t.tokens2.length>>>1;l>=0;l--)if(e.column-1>=t.tokens2[l<<1]){r=l;break}const s=this._model.getLineContent(e.lineNumber);let o="";if(i<t.tokens1.length){const l=t.tokens1[i].offset,u=i+1<t.tokens1.length?t.tokens1[i+1].offset:s.length;o=s.substring(l,u)}Ym(this._domNode,et("h2.tm-token",void 0,VTt(o),et("span.tm-token-length",void 0,`${o.length} ${o.length===1?"char":"chars"}`))),qe(this._domNode,et("hr.tokens-inspect-separator",{style:"clear:both"}));const a=(r<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(r<<1)+1]):null;qe(this._domNode,et("table.tm-metadata-table",void 0,et("tbody",void 0,et("tr",void 0,et("td.tm-metadata-key",void 0,"language"),et("td.tm-metadata-value",void 0,`${a?a.languageId:"-?-"}`)),et("tr",void 0,et("td.tm-metadata-key",void 0,"token type"),et("td.tm-metadata-value",void 0,`${a?this._tokenTypeToString(a.tokenType):"-?-"}`)),et("tr",void 0,et("td.tm-metadata-key",void 0,"font style"),et("td.tm-metadata-value",void 0,`${a?this._fontStyleToString(a.fontStyle):"-?-"}`)),et("tr",void 0,et("td.tm-metadata-key",void 0,"foreground"),et("td.tm-metadata-value",void 0,`${a?We.Format.CSS.formatHex(a.foreground):"-?-"}`)),et("tr",void 0,et("td.tm-metadata-key",void 0,"background"),et("td.tm-metadata-value",void 0,`${a?We.Format.CSS.formatHex(a.background):"-?-"}`))))),qe(this._domNode,et("hr.tokens-inspect-separator")),i<t.tokens1.length&&qe(this._domNode,et("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=dr.getColorMap(),i=ko.getLanguageId(e),r=ko.getTokenType(e),s=ko.getFontStyle(e),o=ko.getForeground(e),a=ko.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:r,fontStyle:s,foreground:t[o],background:t[a]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),e&8&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),r=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:r.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}PP._ID="editor.contrib.inspectTokensWidget";oi(yw.ID,yw);ut($Tt);Hi((n,e)=>{const t=n.getColor(Vj);if(t){const s=n.type===Tc.HIGH_CONTRAST?2:1;e.addRule(`.monaco-editor .tokens-inspect-widget { border: ${s}px solid ${t}; }`),e.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${t}; }`)}const i=n.getColor(F_);i&&e.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${i}; }`);const r=n.getColor($j);r&&e.addRule(`.monaco-editor .tokens-inspect-widget { color: ${r}; }`)});var HTt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},zTt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let xR=class Ux{constructor(e){this.quickInputService=e,this.registry=jr.as(V1.Quickaccess)}provide(e){const t=new it;t.add(e.onDidAccept(()=>{const[s]=e.selectedItems;s&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(s=>{const o=this.registry.getQuickAccessProvider(s.substr(Ux.PREFIX.length));o&&o.prefix&&o.prefix!==Ux.PREFIX&&this.quickInputService.quickAccess.show(o.prefix,{preserveValue:!0})}));const{editorProviders:i,globalProviders:r}=this.getQuickAccessProviders();return e.items=i.length===0||r.length===0?[...i.length===0?r:i]:[{label:L("globalCommands","global commands"),type:"separator"},...r,{label:L("editorCommands","editor commands"),type:"separator"},...i],t}getQuickAccessProviders(){const e=[],t=[];for(const i of this.registry.getQuickAccessProviders().sort((r,s)=>r.prefix.localeCompare(s.prefix)))if(i.prefix!==Ux.PREFIX)for(const r of i.helpEntries){const s=r.prefix||i.prefix,o=s||"\u2026";(r.needsEditor?t:e).push({prefix:s,label:o,ariaLabel:L("helpPickAriaLabel","{0}, {1}",o,r.description),description:r.description})}return{editorProviders:t,globalProviders:e}}};xR.PREFIX="?";xR=HTt([zTt(0,ap)],xR);jr.as(V1.Quickaccess).registerQuickAccessProvider({ctor:xR,prefix:"",helpEntries:[{description:y$.helpQuickAccessActionLabel,needsEditor:!0}]});class Fbe{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const r=new it;e.canAcceptInBackground=!!((i=this.options)===null||i===void 0?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=r.add(new da);return s.value=this.doProvide(e,t),r.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(e,t)})),r}doProvide(e,t){const i=new it,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const s={editor:r},o=B0e(r);if(o){let a=Ja(r.saveViewState());i.add(o.onDidChangeCursorPosition(()=>{a=Ja(r.saveViewState())})),s.restoreViewState=()=>{a&&r===this.activeTextEditorControl&&r.restoreViewState(a)},i.add(Gg(t.onCancellationRequested)(()=>{var l;return(l=s.restoreViewState)===null||l===void 0?void 0:l.call(s)}))}i.add(_n(()=>this.clearDecorations(r))),i.add(this.provideWithTextEditor(s,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return F0e(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(i=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:wr(Dht),position:Pu.Full}}}],[o,a]=i.deltaDecorations(r,s);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:a}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(i=>{i.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class FP extends Fbe{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=L("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,ze.None}provideWithTextEditor(e,t,i){const r=e.editor,s=new it;s.add(t.onDidAccept(l=>{const[u]=t.selectedItems;if(u){if(!this.isValidLineNumber(r,u.lineNumber))return;this.gotoLocation(e,{range:this.toRange(u.lineNumber,u.column),keyMods:t.keyMods,preserveFocus:l.inBackground}),l.inBackground||t.hide()}}));const o=()=>{const l=this.parsePosition(r,t.value.trim().substr(FP.PREFIX.length)),u=this.getPickLabel(r,l.lineNumber,l.column);if(t.items=[{lineNumber:l.lineNumber,column:l.column,label:u}],t.ariaLabel=u,!this.isValidLineNumber(r,l.lineNumber)){this.clearDecorations(r);return}const c=this.toRange(l.lineNumber,l.column);r.revealRangeInCenter(c,0),this.addDecorations(r,c)};o(),s.add(t.onDidChangeValue(()=>o()));const a=B0e(r);return a&&a.getOptions().get(60).renderType===2&&(a.updateOptions({lineNumbers:"on"}),s.add(_n(()=>a.updateOptions({lineNumbers:"relative"})))),s}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(s=>parseInt(s,10)).filter(s=>!isNaN(s)),r=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:r+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?L("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):L("gotoLineLabel","Go to line {0}.",t);const r=e.getPosition()||{lineNumber:1,column:1},s=this.lineCount(e);return s>1?L("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,s):L("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||typeof i!="number")return!1;const r=this.getModel(e);if(!r)return!1;const s={lineNumber:t,column:i};return r.validatePosition(s).equals(s)}lineCount(e){var t,i;return(i=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&i!==void 0?i:0}}FP.PREFIX=":";var UTt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},jTt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let SE=class extends FP{constructor(e){super();this.editorService=e,this.onDidActiveTextEditorControlChange=xt.None}get activeTextEditorControl(){return Ja(this.editorService.getFocusedCodeEditor())}};SE=UTt([jTt(0,ci)],SE);jr.as(V1.Quickaccess).registerQuickAccessProvider({ctor:SE,prefix:SE.PREFIX,helpEntries:[{description:YA.gotoLineActionLabel,needsEditor:!0}]});class KTt extends Et{constructor(){super({id:"editor.action.gotoLine",label:YA.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(ap).quickAccess.show(SE.PREFIX)}}ut(KTt);const Bbe=[void 0,[]];function w6(n,e,t=0,i=0){const r=e;return r.values&&r.values.length>1?GTt(n,r.values,t,i):$be(n,e,t,i)}function GTt(n,e,t,i){let r=0;const s=[];for(const o of e){const[a,l]=$be(n,o,t,i);if(typeof a!="number")return Bbe;r+=a,s.push(...l)}return[r,qTt(s)]}function $be(n,e,t,i){const r=tw(e.original,e.originalLowercase,t,n,n.toLowerCase(),i,!0);return r?[r[0],O4(r)]:Bbe}Object.freeze({score:0});function qTt(n){const e=n.sort((r,s)=>r.start-s.start),t=[];let i;for(const r of e)!i||!YTt(i,r)?(i=r,t.push(r)):(i.start=Math.min(i.start,r.start),i.end=Math.max(i.end,r.end));return t}function YTt(n,e){return!(n.end<e.start||e.end<n.start)}function uoe(n){return n.startsWith('"')&&n.endsWith('"')}const Vbe=" ";function RW(n){typeof n!="string"&&(n="");const e=n.toLowerCase(),{pathNormalized:t,normalized:i,normalizedLowercase:r}=coe(n),s=t.indexOf(Uh)>=0,o=uoe(n);let a;const l=n.split(Vbe);if(l.length>1)for(const u of l){const c=uoe(u),{pathNormalized:d,normalized:h,normalizedLowercase:f}=coe(u);h&&(a||(a=[]),a.push({original:u,originalLowercase:u.toLowerCase(),pathNormalized:d,normalized:h,normalizedLowercase:f,expectContiguousMatch:c}))}return{original:n,originalLowercase:e,pathNormalized:t,normalized:i,normalizedLowercase:r,values:a,containsPathSeparator:s,expectContiguousMatch:o}}function coe(n){let e;Gs?e=n.replace(/\//g,Uh):e=n.replace(/\\/g,Uh);const t=Oot(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function doe(n){return Array.isArray(n)?RW(n.map(e=>e.original).join(Vbe)):RW(n.original)}var XTt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ZTt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},YS=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let Mc=class OW extends Fbe{constructor(e,t=Object.create(null)){super(t);this._outlineModelService=e,this.options=t,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,L("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),ze.None}provideWithTextEditor(e,t,i){const r=e.editor,s=this.getModel(r);return s?kc.has(s)?this.doProvideWithEditorSymbols(e,s,t,i):this.doProvideWithoutEditorSymbols(e,s,t,i):ze.None}doProvideWithoutEditorSymbols(e,t,i,r){const s=new it;return this.provideLabelPick(i,L("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),YS(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,s))||r.isCancellationRequested||s.add(this.doProvideWithEditorSymbols(e,t,i,r))}),s}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return YS(this,void 0,void 0,function*(){if(kc.has(e))return!0;const i=new qU,r=t.add(kc.onDidChange(()=>{kc.has(e)&&(r.dispose(),i.complete(!0))}));return t.add(_n(()=>i.complete(!1))),i.p})}doProvideWithEditorSymbols(e,t,i,r){const s=e.editor,o=new it;o.add(i.onDidAccept(d=>{const[h]=i.selectedItems;h&&h.range&&(this.gotoLocation(e,{range:h.range.selection,keyMods:i.keyMods,preserveFocus:d.inBackground}),d.inBackground||i.hide())})),o.add(i.onDidTriggerItemButton(({item:d})=>{d&&d.range&&(this.gotoLocation(e,{range:d.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const a=this.getDocumentSymbols(t,r);let l;const u=()=>YS(this,void 0,void 0,function*(){l==null||l.dispose(!0),i.busy=!1,l=new co(r),i.busy=!0;try{const d=RW(i.value.substr(OW.PREFIX.length).trim()),h=yield this.doGetSymbolPicks(a,d,void 0,l.token);if(r.isCancellationRequested)return;h.length>0?i.items=h:d.original.length>0?this.provideLabelPick(i,L("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,L("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(i.busy=!1)}});o.add(i.onDidChangeValue(()=>u())),u();let c=!0;return o.add(i.onDidChangeActive(()=>{const[d]=i.activeItems;if(d&&d.range){if(c){c=!1;return}s.revealRangeInCenter(d.range.selection,0),this.addDecorations(s,d.range.decoration)}})),o}doGetSymbolPicks(e,t,i,r){return YS(this,void 0,void 0,function*(){const s=yield e;if(r.isCancellationRequested)return[];const o=t.original.indexOf(OW.SCOPE_PREFIX)===0,a=o?1:0;let l,u;t.values&&t.values.length>1?(l=doe(t.values[0]),u=doe(t.values.slice(1))):l=t;const c=[];for(let f=0;f<s.length;f++){const g=s[f],p=Aot(g.name),m=`$(${V9.toIcon(g.kind).id}) ${p}`,b=m.length-p.length;let _=g.containerName;(i==null?void 0:i.extraContainerLabel)&&(_?_=`${i.extraContainerLabel} \u2022 ${_}`:_=i.extraContainerLabel);let C,w,S,D;if(t.original.length>a){let I=!1;if(l!==t&&([C,w]=w6(m,Object.assign(Object.assign({},t),{values:void 0}),a,b),typeof C=="number"&&(I=!0)),typeof C!="number"&&([C,w]=w6(m,l,a,b),typeof C!="number"))continue;if(!I&&u){if(_&&u.original.length>0&&([S,D]=w6(_,u)),typeof S!="number")continue;typeof C=="number"&&(C+=S)}}const E=g.tags&&g.tags.indexOf(1)>=0;c.push({index:f,kind:g.kind,score:C,label:m,ariaLabel:p,description:_,highlights:E?void 0:{label:w,description:D},range:{selection:Y.collapseToStart(g.selectionRange),decoration:g.range},strikethrough:E,buttons:(()=>{var I,T;const M=((I=this.options)===null||I===void 0?void 0:I.openSideBySideDirection)?(T=this.options)===null||T===void 0?void 0:T.openSideBySideDirection():void 0;if(!!M)return[{iconClass:M==="right"?k.splitHorizontal.classNames:k.splitVertical.classNames,tooltip:M==="right"?L("openToSide","Open to the Side"):L("openToBottom","Open to the Bottom")}]})()})}const d=c.sort((f,g)=>o?this.compareByKindAndScore(f,g):this.compareByScore(f,g));let h=[];if(o){let m=function(){g&&typeof f=="number"&&p>0&&(g.label=Su(L6[f]||S6,p))},f,g,p=0;for(const b of d)f!==b.kind?(m(),f=b.kind,p=1,g={type:"separator"},h.push(g)):p++,h.push(b);m()}else d.length>0&&(h=[{label:L("symbols","symbols ({0})",c.length),type:"separator"},...d]);return h})}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=L6[e.kind]||S6,r=L6[t.kind]||S6,s=i.localeCompare(r);return s===0?this.compareByScore(e,t):s}getDocumentSymbols(e,t){return YS(this,void 0,void 0,function*(){const i=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()})}};Mc.PREFIX="@";Mc.SCOPE_PREFIX=":";Mc.PREFIX_BY_CATEGORY=`${Mc.PREFIX}${Mc.SCOPE_PREFIX}`;Mc=XTt([ZTt(0,wP)],Mc);const S6=L("property","properties ({0})"),L6={[5]:L("method","methods ({0})"),[11]:L("function","functions ({0})"),[8]:L("_constructor","constructors ({0})"),[12]:L("variable","variables ({0})"),[4]:L("class","classes ({0})"),[22]:L("struct","structs ({0})"),[23]:L("event","events ({0})"),[24]:L("operator","operators ({0})"),[10]:L("interface","interfaces ({0})"),[2]:L("namespace","namespaces ({0})"),[3]:L("package","packages ({0})"),[25]:L("typeParameter","type parameters ({0})"),[1]:L("modules","modules ({0})"),[6]:L("property","properties ({0})"),[9]:L("enum","enumerations ({0})"),[21]:L("enumMember","enumeration members ({0})"),[14]:L("string","strings ({0})"),[0]:L("file","files ({0})"),[17]:L("array","arrays ({0})"),[15]:L("number","numbers ({0})"),[16]:L("boolean","booleans ({0})"),[18]:L("object","objects ({0})"),[19]:L("key","keys ({0})"),[7]:L("field","fields ({0})"),[13]:L("constant","constants ({0})")};var QTt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},hoe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let PW=class extends Mc{constructor(e,t){super(t);this.editorService=e,this.onDidActiveTextEditorControlChange=xt.None}get activeTextEditorControl(){return Ja(this.editorService.getFocusedCodeEditor())}};PW=QTt([hoe(0,ci),hoe(1,wP)],PW);jr.as(V1.Quickaccess).registerQuickAccessProvider({ctor:PW,prefix:Mc.PREFIX,helpEntries:[{description:zk.quickOutlineActionLabel,prefix:Mc.PREFIX,needsEditor:!0},{description:zk.quickOutlineByCategoryActionLabel,prefix:Mc.PREFIX_BY_CATEGORY,needsEditor:!0}]});class JTt extends Et{constructor(){super({id:"editor.action.quickOutline",label:zk.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:ue.hasDocumentSymbolProvider,kbOpts:{kbExpr:ue.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(ap).quickAccess.show(Mc.PREFIX)}}ut(JTt);function k6(n,e){return e&&(n.stack||n.stacktrace)?L("stackTrace.format","{0}: {1}",goe(n),foe(n.stack)||foe(n.stacktrace)):goe(n)}function foe(n){return Array.isArray(n)?n.join(`
`):n}function goe(n){return typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?L("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||L("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Wbe(n=null,e=!1){if(!n)return L("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){const t=L1(n),i=Wbe(t[0],e);return t.length>1?L("error.moreErrors","{0} ({1} errors in total)",i,t.length):i}if(Ru(n))return n;if(n.detail){const t=n.detail;if(t.error)return k6(t.error,e);if(t.exception)return k6(t.exception,e)}return n.stack?k6(n,e):n.message?n.message:L("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var dN=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},kC;(function(n){n[n.NO_ACTION=0]="NO_ACTION",n[n.CLOSE_PICKER=1]="CLOSE_PICKER",n[n.REFRESH_PICKER=2]="REFRESH_PICKER",n[n.REMOVE_ITEM=3]="REMOVE_ITEM"})(kC||(kC={}));function E6(n){const e=n;return Array.isArray(e.items)}function eNt(n){const e=n;return!!e.picks&&e.additionalPicks instanceof Promise}class BP extends ze{constructor(e,t){super();this.prefix=e,this.options=t}provide(e,t){var i;const r=new it;e.canAcceptInBackground=!!((i=this.options)===null||i===void 0?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let s;const o=r.add(new da),a=()=>dN(this,void 0,void 0,function*(){const l=o.value=new it;s==null||s.dispose(!0),e.busy=!1,s=new co(t);const u=s.token,c=e.value.substr(this.prefix.length).trim(),d=this._getPicks(c,l,u),h=(f,g)=>{var p;let m,b;if(E6(f)?(m=f.items,b=f.active):m=f,m.length===0){if(g)return!1;c.length>0&&((p=this.options)===null||p===void 0?void 0:p.noResultsPick)&&(m=[this.options.noResultsPick])}return e.items=m,b&&(e.activeItems=[b]),!0};if(d!==null)if(eNt(d)){let f=!1,g=!1;yield Promise.all([(()=>dN(this,void 0,void 0,function*(){yield jm(BP.FAST_PICKS_RACE_DELAY),!u.isCancellationRequested&&(g||(f=h(d.picks,!0)))}))(),(()=>dN(this,void 0,void 0,function*(){e.busy=!0;try{const p=yield d.additionalPicks;if(u.isCancellationRequested)return;let m,b;E6(d.picks)?(m=d.picks.items,b=d.picks.active):m=d.picks;let _,C;if(E6(p)?(_=p.items,C=p.active):_=p,_.length>0||!f){let w;if(!b&&!C){const S=e.activeItems[0];S&&m.indexOf(S)!==-1&&(w=S)}h({items:[...m,..._],active:b||C||w})}}finally{u.isCancellationRequested||(e.busy=!1),g=!0}}))()])}else if(!(d instanceof Promise))h(d);else{e.busy=!0;try{const f=yield d;if(u.isCancellationRequested)return;h(f)}finally{u.isCancellationRequested||(e.busy=!1)}}});return r.add(e.onDidChangeValue(()=>a())),a(),r.add(e.onDidAccept(l=>{const[u]=e.selectedItems;typeof(u==null?void 0:u.accept)=="function"&&(l.inBackground||e.hide(),u.accept(e.keyMods,l))})),r.add(e.onDidTriggerItemButton(({button:l,item:u})=>dN(this,void 0,void 0,function*(){var c,d;if(typeof u.trigger=="function"){const h=(d=(c=u.buttons)===null||c===void 0?void 0:c.indexOf(l))!==null&&d!==void 0?d:-1;if(h>=0){const f=u.trigger(h,e.keyMods),g=typeof f=="number"?f:yield f;if(t.isCancellationRequested)return;switch(g){case kC.NO_ACTION:break;case kC.CLOSE_PICKER:e.hide();break;case kC.REFRESH_PICKER:a();break;case kC.REMOVE_ITEM:{const p=e.items.indexOf(u);if(p!==-1){const m=e.items.slice(),b=m.splice(p,1),_=e.activeItems.filter(w=>w!==b[0]),C=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=m,_&&(e.activeItems=_),e.keepScrollPosition=C}break}}}}}))),r}}BP.FAST_PICKS_RACE_DELAY=200;var Hbe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},E0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},poe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let LE=class jx extends BP{constructor(e,t,i,r,s,o){super(jx.PREFIX,e);this.instantiationService=t,this.keybindingService=i,this.commandService=r,this.telemetryService=s,this.dialogService=o,this.commandsHistory=this._register(this.instantiationService.createInstance(d1)),this.options=e}_getPicks(e,t,i){return poe(this,void 0,void 0,function*(){const r=yield this.getCommandPicks(t,i);if(i.isCancellationRequested)return[];const s=[];for(const u of r){const c=Ja(jx.WORD_FILTER(e,u.label)),d=u.commandAlias?Ja(jx.WORD_FILTER(e,u.commandAlias)):void 0;c||d?(u.highlights={label:c,detail:this.options.showAlias?d:void 0},s.push(u)):e===u.commandId&&s.push(u)}const o=new Map;for(const u of s){const c=o.get(u.label);c?(u.description=u.commandId,c.description=c.commandId):o.set(u.label,u)}s.sort((u,c)=>{const d=this.commandsHistory.peek(u.commandId),h=this.commandsHistory.peek(c.commandId);return d&&h?d>h?-1:1:d?-1:h?1:u.label.localeCompare(c.label)});const a=[];let l=!1;for(let u=0;u<s.length;u++){const c=s[u],d=this.keybindingService.lookupKeybinding(c.commandId),h=d?L("commandPickAriaLabelWithKeybinding","{0}, {1}",c.label,d.getAriaLabel()):c.label;u===0&&this.commandsHistory.peek(c.commandId)&&(a.push({type:"separator",label:L("recentlyUsed","recently used")}),l=!0),u!==0&&l&&!this.commandsHistory.peek(c.commandId)&&(a.push({type:"separator",label:L("morecCommands","other commands")}),l=!1),a.push(Object.assign(Object.assign({},c),{ariaLabel:h,detail:this.options.showAlias&&c.commandAlias!==c.label?c.commandAlias:void 0,keybinding:d,accept:()=>poe(this,void 0,void 0,function*(){this.commandsHistory.push(c.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"quick open"});try{yield this.commandService.executeCommand(c.commandId)}catch(f){pf(f)||this.dialogService.show(cr.Error,L("canNotRun","Command '{0}' resulted in an error ({1})",c.label,Wbe(f)))}})}))}return a})}};LE.PREFIX=">";LE.WORD_FILTER=CK(A4,Rvt,Ove);LE=Hbe([E0(1,Mn),E0(2,Dr),E0(3,Pr),E0(4,mf),E0(5,pD)],LE);let d1=class Ls extends ze{constructor(e,t){super();this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=Ls.getConfiguredCommandHistoryLength(this.configurationService),Ls.cache&&Ls.cache.limit!==this.configuredCommandsHistoryLength&&(Ls.cache.limit=this.configuredCommandsHistoryLength,Ls.saveState(this.storageService))}load(){const e=this.storageService.get(Ls.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch{}const i=Ls.cache=new kv(this.configuredCommandsHistoryLength,1);if(t){let r;t.usesLRU?r=t.entries:r=t.entries.sort((s,o)=>s.value-o.value),r.forEach(s=>i.set(s.key,s.value))}Ls.counter=this.storageService.getNumber(Ls.PREF_KEY_COUNTER,0,Ls.counter)}push(e){!Ls.cache||(Ls.cache.set(e,Ls.counter++),Ls.saveState(this.storageService))}peek(e){var t;return(t=Ls.cache)===null||t===void 0?void 0:t.peek(e)}static saveState(e){if(!Ls.cache)return;const t={usesLRU:!0,entries:[]};Ls.cache.forEach((i,r)=>t.entries.push({key:r,value:i})),e.store(Ls.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(Ls.PREF_KEY_COUNTER,Ls.counter,0,0)}static getConfiguredCommandHistoryLength(e){var t,i;const s=(i=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||i===void 0?void 0:i.history;return typeof s=="number"?s:Ls.DEFAULT_COMMANDS_HISTORY_LENGTH}};d1.DEFAULT_COMMANDS_HISTORY_LENGTH=50;d1.PREF_KEY_CACHE="commandPalette.mru.cache";d1.PREF_KEY_COUNTER="commandPalette.mru.counter";d1.counter=1;d1=Hbe([E0(0,yf),E0(1,Mi)],d1);class tNt extends LE{constructor(e,t,i,r,s,o){super(e,t,i,r,s,o)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:EK(i.label)||i.id});return t}}var nNt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Fb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},iNt=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let kE=class extends tNt{constructor(e,t,i,r,s,o){super({showAlias:!1},e,i,r,s,o);this.codeEditorService=t}get activeTextEditorControl(){return Ja(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return iNt(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};kE=nNt([Fb(0,Mn),Fb(1,ci),Fb(2,Dr),Fb(3,Pr),Fb(4,mf),Fb(5,pD)],kE);jr.as(V1.Quickaccess).registerQuickAccessProvider({ctor:kE,prefix:kE.PREFIX,helpEntries:[{description:XA.quickCommandHelp,needsEditor:!0}]});class rNt extends Et{constructor(){super({id:"editor.action.quickCommand",label:XA.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:ue.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(ap).quickAccess.show(kE.PREFIX)}}ut(rNt);var sNt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Bb=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let FW=class extends av{constructor(e,t,i,r,s,o,a){super(!0,e,t,i,r,s,o,a)}};FW=sNt([Bb(1,Zt),Bb(2,ci),Bb(3,Kr),Bb(4,Mn),Bb(5,yf),Bb(6,Mi)],FW);oi(av.ID,FW);class oNt extends Et{constructor(){super({id:"editor.action.toggleHighContrast",label:w$.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(e,t){const i=e.get(Jl);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}ut(oNt);function BWt(){return new Worker("/tmagic-editor/playground/assets/editor.worker.deeb6afc.js",{type:"module"})}function $Wt(){return new Worker("/tmagic-editor/playground/assets/css.worker.df96c17d.js",{type:"module"})}function VWt(){return new Worker("/tmagic-editor/playground/assets/html.worker.b7ccdea1.js",{type:"module"})}function WWt(){return new Worker("/tmagic-editor/playground/assets/json.worker.86999103.js",{type:"module"})}function HWt(){return new Worker("/tmagic-editor/playground/assets/ts.worker.0257ba44.js",{type:"module"})}var BW={exports:{}},$W={exports:{}},zbe={},$P={};$P.byteLength=uNt;$P.toByteArray=dNt;$P.fromByteArray=gNt;var xh=[],fc=[],aNt=typeof Uint8Array!="undefined"?Uint8Array:Array,D6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $b=0,lNt=D6.length;$b<lNt;++$b)xh[$b]=D6[$b],fc[D6.charCodeAt($b)]=$b;fc["-".charCodeAt(0)]=62;fc["_".charCodeAt(0)]=63;function Ube(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function uNt(n){var e=Ube(n),t=e[0],i=e[1];return(t+i)*3/4-i}function cNt(n,e,t){return(e+t)*3/4-t}function dNt(n){var e,t=Ube(n),i=t[0],r=t[1],s=new aNt(cNt(n,i,r)),o=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)e=fc[n.charCodeAt(l)]<<18|fc[n.charCodeAt(l+1)]<<12|fc[n.charCodeAt(l+2)]<<6|fc[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return r===2&&(e=fc[n.charCodeAt(l)]<<2|fc[n.charCodeAt(l+1)]>>4,s[o++]=e&255),r===1&&(e=fc[n.charCodeAt(l)]<<10|fc[n.charCodeAt(l+1)]<<4|fc[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function hNt(n){return xh[n>>18&63]+xh[n>>12&63]+xh[n>>6&63]+xh[n&63]}function fNt(n,e,t){for(var i,r=[],s=e;s<t;s+=3)i=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),r.push(hNt(i));return r.join("")}function gNt(n){for(var e,t=n.length,i=t%3,r=[],s=16383,o=0,a=t-i;o<a;o+=s)r.push(fNt(n,o,o+s>a?a:o+s));return i===1?(e=n[t-1],r.push(xh[e>>2]+xh[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(xh[e>>10]+xh[e>>4&63]+xh[e<<2&63]+"=")),r.join("")}var GG={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */GG.read=function(n,e,t,i,r){var s,o,a=r*8-i-1,l=(1<<a)-1,u=l>>1,c=-7,d=t?r-1:0,h=t?-1:1,f=n[e+d];for(d+=h,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=s*256+n[e+d],d+=h,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=i;c>0;o=o*256+n[e+d],d+=h,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-u}return(f?-1:1)*o*Math.pow(2,s-i)};GG.write=function(n,e,t,i,r,s){var o,a,l,u=s*8-r-1,c=(1<<u)-1,d=c>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,g=i?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(e*l-1)*Math.pow(2,r),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;n[t+f]=a&255,f+=g,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;n[t+f]=o&255,f+=g,o/=256,u-=8);n[t+f-g]|=p*128};var pNt={}.toString,mNt=Array.isArray||function(n){return pNt.call(n)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(n){var e=$P,t=GG,i=mNt;n.Buffer=a,n.SlowBuffer=b,n.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=zo.TYPED_ARRAY_SUPPORT!==void 0?zo.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=s();function r(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},q.foo()===42&&typeof q.subarray=="function"&&q.subarray(1,1).byteLength===0}catch{return!1}}function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(q,P){if(s()<P)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(q=new Uint8Array(P),q.__proto__=a.prototype):(q===null&&(q=new a(P)),q.length=P),q}function a(q,P,x){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(q,P,x);if(typeof q=="number"){if(typeof P=="string")throw new Error("If encoding is specified then the first argument must be a string");return d(this,q)}return l(this,q,P,x)}a.poolSize=8192,a._augment=function(q){return q.__proto__=a.prototype,q};function l(q,P,x,R){if(typeof P=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&P instanceof ArrayBuffer?g(q,P,x,R):typeof P=="string"?h(q,P,x):p(q,P)}a.from=function(q,P,x){return l(null,q,P,x)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}));function u(q){if(typeof q!="number")throw new TypeError('"size" argument must be a number');if(q<0)throw new RangeError('"size" argument must not be negative')}function c(q,P,x,R){return u(P),P<=0?o(q,P):x!==void 0?typeof R=="string"?o(q,P).fill(x,R):o(q,P).fill(x):o(q,P)}a.alloc=function(q,P,x){return c(null,q,P,x)};function d(q,P){if(u(P),q=o(q,P<0?0:m(P)|0),!a.TYPED_ARRAY_SUPPORT)for(var x=0;x<P;++x)q[x]=0;return q}a.allocUnsafe=function(q){return d(null,q)},a.allocUnsafeSlow=function(q){return d(null,q)};function h(q,P,x){if((typeof x!="string"||x==="")&&(x="utf8"),!a.isEncoding(x))throw new TypeError('"encoding" must be a valid string encoding');var R=_(P,x)|0;q=o(q,R);var H=q.write(P,x);return H!==R&&(q=q.slice(0,H)),q}function f(q,P){var x=P.length<0?0:m(P.length)|0;q=o(q,x);for(var R=0;R<x;R+=1)q[R]=P[R]&255;return q}function g(q,P,x,R){if(P.byteLength,x<0||P.byteLength<x)throw new RangeError("'offset' is out of bounds");if(P.byteLength<x+(R||0))throw new RangeError("'length' is out of bounds");return x===void 0&&R===void 0?P=new Uint8Array(P):R===void 0?P=new Uint8Array(P,x):P=new Uint8Array(P,x,R),a.TYPED_ARRAY_SUPPORT?(q=P,q.__proto__=a.prototype):q=f(q,P),q}function p(q,P){if(a.isBuffer(P)){var x=m(P.length)|0;return q=o(q,x),q.length===0||P.copy(q,0,0,x),q}if(P){if(typeof ArrayBuffer!="undefined"&&P.buffer instanceof ArrayBuffer||"length"in P)return typeof P.length!="number"||ye(P.length)?o(q,0):f(q,P);if(P.type==="Buffer"&&i(P.data))return f(q,P.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(q){if(q>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return q|0}function b(q){return+q!=q&&(q=0),a.alloc(+q)}a.isBuffer=function(P){return!!(P!=null&&P._isBuffer)},a.compare=function(P,x){if(!a.isBuffer(P)||!a.isBuffer(x))throw new TypeError("Arguments must be Buffers");if(P===x)return 0;for(var R=P.length,H=x.length,W=0,K=Math.min(R,H);W<K;++W)if(P[W]!==x[W]){R=P[W],H=x[W];break}return R<H?-1:H<R?1:0},a.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(P,x){if(!i(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return a.alloc(0);var R;if(x===void 0)for(x=0,R=0;R<P.length;++R)x+=P[R].length;var H=a.allocUnsafe(x),W=0;for(R=0;R<P.length;++R){var K=P[R];if(!a.isBuffer(K))throw new TypeError('"list" argument must be an Array of Buffers');K.copy(H,W),W+=K.length}return H};function _(q,P){if(a.isBuffer(q))return q.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(q)||q instanceof ArrayBuffer))return q.byteLength;typeof q!="string"&&(q=""+q);var x=q.length;if(x===0)return 0;for(var R=!1;;)switch(P){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":case void 0:return Ve(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return le(q).length;default:if(R)return Ve(q).length;P=(""+P).toLowerCase(),R=!0}}a.byteLength=_;function C(q,P,x){var R=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,P>>>=0,x<=P))return"";for(q||(q="utf8");;)switch(q){case"hex":return ie(this,P,x);case"utf8":case"utf-8":return U(this,P,x);case"ascii":return j(this,P,x);case"latin1":case"binary":return X(this,P,x);case"base64":return F(this,P,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,P,x);default:if(R)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),R=!0}}a.prototype._isBuffer=!0;function w(q,P,x){var R=q[P];q[P]=q[x],q[x]=R}a.prototype.swap16=function(){var P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<P;x+=2)w(this,x,x+1);return this},a.prototype.swap32=function(){var P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<P;x+=4)w(this,x,x+3),w(this,x+1,x+2);return this},a.prototype.swap64=function(){var P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var x=0;x<P;x+=8)w(this,x,x+7),w(this,x+1,x+6),w(this,x+2,x+5),w(this,x+3,x+4);return this},a.prototype.toString=function(){var P=this.length|0;return P===0?"":arguments.length===0?U(this,0,P):C.apply(this,arguments)},a.prototype.equals=function(P){if(!a.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:a.compare(this,P)===0},a.prototype.inspect=function(){var P="",x=n.INSPECT_MAX_BYTES;return this.length>0&&(P=this.toString("hex",0,x).match(/.{2}/g).join(" "),this.length>x&&(P+=" ... ")),"<Buffer "+P+">"},a.prototype.compare=function(P,x,R,H,W){if(!a.isBuffer(P))throw new TypeError("Argument must be a Buffer");if(x===void 0&&(x=0),R===void 0&&(R=P?P.length:0),H===void 0&&(H=0),W===void 0&&(W=this.length),x<0||R>P.length||H<0||W>this.length)throw new RangeError("out of range index");if(H>=W&&x>=R)return 0;if(H>=W)return-1;if(x>=R)return 1;if(x>>>=0,R>>>=0,H>>>=0,W>>>=0,this===P)return 0;for(var K=W-H,re=R-x,se=Math.min(K,re),ve=this.slice(H,W),Re=P.slice(x,R),ge=0;ge<se;++ge)if(ve[ge]!==Re[ge]){K=ve[ge],re=Re[ge];break}return K<re?-1:re<K?1:0};function S(q,P,x,R,H){if(q.length===0)return-1;if(typeof x=="string"?(R=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,isNaN(x)&&(x=H?0:q.length-1),x<0&&(x=q.length+x),x>=q.length){if(H)return-1;x=q.length-1}else if(x<0)if(H)x=0;else return-1;if(typeof P=="string"&&(P=a.from(P,R)),a.isBuffer(P))return P.length===0?-1:D(q,P,x,R,H);if(typeof P=="number")return P=P&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(q,P,x):Uint8Array.prototype.lastIndexOf.call(q,P,x):D(q,[P],x,R,H);throw new TypeError("val must be string, number or Buffer")}function D(q,P,x,R,H){var W=1,K=q.length,re=P.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(q.length<2||P.length<2)return-1;W=2,K/=2,re/=2,x/=2}function se(Pe,Ge){return W===1?Pe[Ge]:Pe.readUInt16BE(Ge*W)}var ve;if(H){var Re=-1;for(ve=x;ve<K;ve++)if(se(q,ve)===se(P,Re===-1?0:ve-Re)){if(Re===-1&&(Re=ve),ve-Re+1===re)return Re*W}else Re!==-1&&(ve-=ve-Re),Re=-1}else for(x+re>K&&(x=K-re),ve=x;ve>=0;ve--){for(var ge=!0,Ie=0;Ie<re;Ie++)if(se(q,ve+Ie)!==se(P,Ie)){ge=!1;break}if(ge)return ve}return-1}a.prototype.includes=function(P,x,R){return this.indexOf(P,x,R)!==-1},a.prototype.indexOf=function(P,x,R){return S(this,P,x,R,!0)},a.prototype.lastIndexOf=function(P,x,R){return S(this,P,x,R,!1)};function E(q,P,x,R){x=Number(x)||0;var H=q.length-x;R?(R=Number(R),R>H&&(R=H)):R=H;var W=P.length;if(W%2!==0)throw new TypeError("Invalid hex string");R>W/2&&(R=W/2);for(var K=0;K<R;++K){var re=parseInt(P.substr(K*2,2),16);if(isNaN(re))return K;q[x+K]=re}return K}function I(q,P,x,R){return de(Ve(P,q.length-x),q,x,R)}function T(q,P,x,R){return de(ee(P),q,x,R)}function M(q,P,x,R){return T(q,P,x,R)}function A(q,P,x,R){return de(le(P),q,x,R)}function O(q,P,x,R){return de(ne(P,q.length-x),q,x,R)}a.prototype.write=function(P,x,R,H){if(x===void 0)H="utf8",R=this.length,x=0;else if(R===void 0&&typeof x=="string")H=x,R=this.length,x=0;else if(isFinite(x))x=x|0,isFinite(R)?(R=R|0,H===void 0&&(H="utf8")):(H=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var W=this.length-x;if((R===void 0||R>W)&&(R=W),P.length>0&&(R<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");for(var K=!1;;)switch(H){case"hex":return E(this,P,x,R);case"utf8":case"utf-8":return I(this,P,x,R);case"ascii":return T(this,P,x,R);case"latin1":case"binary":return M(this,P,x,R);case"base64":return A(this,P,x,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,P,x,R);default:if(K)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),K=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(q,P,x){return P===0&&x===q.length?e.fromByteArray(q):e.fromByteArray(q.slice(P,x))}function U(q,P,x){x=Math.min(q.length,x);for(var R=[],H=P;H<x;){var W=q[H],K=null,re=W>239?4:W>223?3:W>191?2:1;if(H+re<=x){var se,ve,Re,ge;switch(re){case 1:W<128&&(K=W);break;case 2:se=q[H+1],(se&192)===128&&(ge=(W&31)<<6|se&63,ge>127&&(K=ge));break;case 3:se=q[H+1],ve=q[H+2],(se&192)===128&&(ve&192)===128&&(ge=(W&15)<<12|(se&63)<<6|ve&63,ge>2047&&(ge<55296||ge>57343)&&(K=ge));break;case 4:se=q[H+1],ve=q[H+2],Re=q[H+3],(se&192)===128&&(ve&192)===128&&(Re&192)===128&&(ge=(W&15)<<18|(se&63)<<12|(ve&63)<<6|Re&63,ge>65535&&ge<1114112&&(K=ge))}}K===null?(K=65533,re=1):K>65535&&(K-=65536,R.push(K>>>10&1023|55296),K=56320|K&1023),R.push(K),H+=re}return G(R)}var V=4096;function G(q){var P=q.length;if(P<=V)return String.fromCharCode.apply(String,q);for(var x="",R=0;R<P;)x+=String.fromCharCode.apply(String,q.slice(R,R+=V));return x}function j(q,P,x){var R="";x=Math.min(q.length,x);for(var H=P;H<x;++H)R+=String.fromCharCode(q[H]&127);return R}function X(q,P,x){var R="";x=Math.min(q.length,x);for(var H=P;H<x;++H)R+=String.fromCharCode(q[H]);return R}function ie(q,P,x){var R=q.length;(!P||P<0)&&(P=0),(!x||x<0||x>R)&&(x=R);for(var H="",W=P;W<x;++W)H+=xe(q[W]);return H}function Ce(q,P,x){for(var R=q.slice(P,x),H="",W=0;W<R.length;W+=2)H+=String.fromCharCode(R[W]+R[W+1]*256);return H}a.prototype.slice=function(P,x){var R=this.length;P=~~P,x=x===void 0?R:~~x,P<0?(P+=R,P<0&&(P=0)):P>R&&(P=R),x<0?(x+=R,x<0&&(x=0)):x>R&&(x=R),x<P&&(x=P);var H;if(a.TYPED_ARRAY_SUPPORT)H=this.subarray(P,x),H.__proto__=a.prototype;else{var W=x-P;H=new a(W,void 0);for(var K=0;K<W;++K)H[K]=this[K+P]}return H};function Be(q,P,x){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+P>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(P,x,R){P=P|0,x=x|0,R||Be(P,x,this.length);for(var H=this[P],W=1,K=0;++K<x&&(W*=256);)H+=this[P+K]*W;return H},a.prototype.readUIntBE=function(P,x,R){P=P|0,x=x|0,R||Be(P,x,this.length);for(var H=this[P+--x],W=1;x>0&&(W*=256);)H+=this[P+--x]*W;return H},a.prototype.readUInt8=function(P,x){return x||Be(P,1,this.length),this[P]},a.prototype.readUInt16LE=function(P,x){return x||Be(P,2,this.length),this[P]|this[P+1]<<8},a.prototype.readUInt16BE=function(P,x){return x||Be(P,2,this.length),this[P]<<8|this[P+1]},a.prototype.readUInt32LE=function(P,x){return x||Be(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},a.prototype.readUInt32BE=function(P,x){return x||Be(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},a.prototype.readIntLE=function(P,x,R){P=P|0,x=x|0,R||Be(P,x,this.length);for(var H=this[P],W=1,K=0;++K<x&&(W*=256);)H+=this[P+K]*W;return W*=128,H>=W&&(H-=Math.pow(2,8*x)),H},a.prototype.readIntBE=function(P,x,R){P=P|0,x=x|0,R||Be(P,x,this.length);for(var H=x,W=1,K=this[P+--H];H>0&&(W*=256);)K+=this[P+--H]*W;return W*=128,K>=W&&(K-=Math.pow(2,8*x)),K},a.prototype.readInt8=function(P,x){return x||Be(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},a.prototype.readInt16LE=function(P,x){x||Be(P,2,this.length);var R=this[P]|this[P+1]<<8;return R&32768?R|4294901760:R},a.prototype.readInt16BE=function(P,x){x||Be(P,2,this.length);var R=this[P+1]|this[P]<<8;return R&32768?R|4294901760:R},a.prototype.readInt32LE=function(P,x){return x||Be(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},a.prototype.readInt32BE=function(P,x){return x||Be(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},a.prototype.readFloatLE=function(P,x){return x||Be(P,4,this.length),t.read(this,P,!0,23,4)},a.prototype.readFloatBE=function(P,x){return x||Be(P,4,this.length),t.read(this,P,!1,23,4)},a.prototype.readDoubleLE=function(P,x){return x||Be(P,8,this.length),t.read(this,P,!0,52,8)},a.prototype.readDoubleBE=function(P,x){return x||Be(P,8,this.length),t.read(this,P,!1,52,8)};function we(q,P,x,R,H,W){if(!a.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>H||P<W)throw new RangeError('"value" argument is out of bounds');if(x+R>q.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(P,x,R,H){if(P=+P,x=x|0,R=R|0,!H){var W=Math.pow(2,8*R)-1;we(this,P,x,R,W,0)}var K=1,re=0;for(this[x]=P&255;++re<R&&(K*=256);)this[x+re]=P/K&255;return x+R},a.prototype.writeUIntBE=function(P,x,R,H){if(P=+P,x=x|0,R=R|0,!H){var W=Math.pow(2,8*R)-1;we(this,P,x,R,W,0)}var K=R-1,re=1;for(this[x+K]=P&255;--K>=0&&(re*=256);)this[x+K]=P/re&255;return x+R},a.prototype.writeUInt8=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,1,255,0),a.TYPED_ARRAY_SUPPORT||(P=Math.floor(P)),this[x]=P&255,x+1};function ke(q,P,x,R){P<0&&(P=65535+P+1);for(var H=0,W=Math.min(q.length-x,2);H<W;++H)q[x+H]=(P&255<<8*(R?H:1-H))>>>(R?H:1-H)*8}a.prototype.writeUInt16LE=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[x]=P&255,this[x+1]=P>>>8):ke(this,P,x,!0),x+2},a.prototype.writeUInt16BE=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[x]=P>>>8,this[x+1]=P&255):ke(this,P,x,!1),x+2};function Se(q,P,x,R){P<0&&(P=4294967295+P+1);for(var H=0,W=Math.min(q.length-x,4);H<W;++H)q[x+H]=P>>>(R?H:3-H)*8&255}a.prototype.writeUInt32LE=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[x+3]=P>>>24,this[x+2]=P>>>16,this[x+1]=P>>>8,this[x]=P&255):Se(this,P,x,!0),x+4},a.prototype.writeUInt32BE=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[x]=P>>>24,this[x+1]=P>>>16,this[x+2]=P>>>8,this[x+3]=P&255):Se(this,P,x,!1),x+4},a.prototype.writeIntLE=function(P,x,R,H){if(P=+P,x=x|0,!H){var W=Math.pow(2,8*R-1);we(this,P,x,R,W-1,-W)}var K=0,re=1,se=0;for(this[x]=P&255;++K<R&&(re*=256);)P<0&&se===0&&this[x+K-1]!==0&&(se=1),this[x+K]=(P/re>>0)-se&255;return x+R},a.prototype.writeIntBE=function(P,x,R,H){if(P=+P,x=x|0,!H){var W=Math.pow(2,8*R-1);we(this,P,x,R,W-1,-W)}var K=R-1,re=1,se=0;for(this[x+K]=P&255;--K>=0&&(re*=256);)P<0&&se===0&&this[x+K+1]!==0&&(se=1),this[x+K]=(P/re>>0)-se&255;return x+R},a.prototype.writeInt8=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,1,127,-128),a.TYPED_ARRAY_SUPPORT||(P=Math.floor(P)),P<0&&(P=255+P+1),this[x]=P&255,x+1},a.prototype.writeInt16LE=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[x]=P&255,this[x+1]=P>>>8):ke(this,P,x,!0),x+2},a.prototype.writeInt16BE=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[x]=P>>>8,this[x+1]=P&255):ke(this,P,x,!1),x+2},a.prototype.writeInt32LE=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[x]=P&255,this[x+1]=P>>>8,this[x+2]=P>>>16,this[x+3]=P>>>24):Se(this,P,x,!0),x+4},a.prototype.writeInt32BE=function(P,x,R){return P=+P,x=x|0,R||we(this,P,x,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),a.TYPED_ARRAY_SUPPORT?(this[x]=P>>>24,this[x+1]=P>>>16,this[x+2]=P>>>8,this[x+3]=P&255):Se(this,P,x,!1),x+4};function fe(q,P,x,R,H,W){if(x+R>q.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function pe(q,P,x,R,H){return H||fe(q,P,x,4),t.write(q,P,x,R,23,4),x+4}a.prototype.writeFloatLE=function(P,x,R){return pe(this,P,x,!0,R)},a.prototype.writeFloatBE=function(P,x,R){return pe(this,P,x,!1,R)};function me(q,P,x,R,H){return H||fe(q,P,x,8),t.write(q,P,x,R,52,8),x+8}a.prototype.writeDoubleLE=function(P,x,R){return me(this,P,x,!0,R)},a.prototype.writeDoubleBE=function(P,x,R){return me(this,P,x,!1,R)},a.prototype.copy=function(P,x,R,H){if(R||(R=0),!H&&H!==0&&(H=this.length),x>=P.length&&(x=P.length),x||(x=0),H>0&&H<R&&(H=R),H===R||P.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("sourceStart out of bounds");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),P.length-x<H-R&&(H=P.length-x+R);var W=H-R,K;if(this===P&&R<x&&x<H)for(K=W-1;K>=0;--K)P[K+x]=this[K+R];else if(W<1e3||!a.TYPED_ARRAY_SUPPORT)for(K=0;K<W;++K)P[K+x]=this[K+R];else Uint8Array.prototype.set.call(P,this.subarray(R,R+W),x);return W},a.prototype.fill=function(P,x,R,H){if(typeof P=="string"){if(typeof x=="string"?(H=x,x=0,R=this.length):typeof R=="string"&&(H=R,R=this.length),P.length===1){var W=P.charCodeAt(0);W<256&&(P=W)}if(H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!a.isEncoding(H))throw new TypeError("Unknown encoding: "+H)}else typeof P=="number"&&(P=P&255);if(x<0||this.length<x||this.length<R)throw new RangeError("Out of range index");if(R<=x)return this;x=x>>>0,R=R===void 0?this.length:R>>>0,P||(P=0);var K;if(typeof P=="number")for(K=x;K<R;++K)this[K]=P;else{var re=a.isBuffer(P)?P:Ve(new a(P,H).toString()),se=re.length;for(K=0;K<R-x;++K)this[K+x]=re[K%se]}return this};var Ne=/[^+\/0-9A-Za-z-_]/g;function je(q){if(q=rt(q).replace(Ne,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function rt(q){return q.trim?q.trim():q.replace(/^\s+|\s+$/g,"")}function xe(q){return q<16?"0"+q.toString(16):q.toString(16)}function Ve(q,P){P=P||1/0;for(var x,R=q.length,H=null,W=[],K=0;K<R;++K){if(x=q.charCodeAt(K),x>55295&&x<57344){if(!H){if(x>56319){(P-=3)>-1&&W.push(239,191,189);continue}else if(K+1===R){(P-=3)>-1&&W.push(239,191,189);continue}H=x;continue}if(x<56320){(P-=3)>-1&&W.push(239,191,189),H=x;continue}x=(H-55296<<10|x-56320)+65536}else H&&(P-=3)>-1&&W.push(239,191,189);if(H=null,x<128){if((P-=1)<0)break;W.push(x)}else if(x<2048){if((P-=2)<0)break;W.push(x>>6|192,x&63|128)}else if(x<65536){if((P-=3)<0)break;W.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((P-=4)<0)break;W.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return W}function ee(q){for(var P=[],x=0;x<q.length;++x)P.push(q.charCodeAt(x)&255);return P}function ne(q,P){for(var x,R,H,W=[],K=0;K<q.length&&!((P-=2)<0);++K)x=q.charCodeAt(K),R=x>>8,H=x%256,W.push(H),W.push(R);return W}function le(q){return e.toByteArray(je(q))}function de(q,P,x,R){for(var H=0;H<R&&!(H+x>=P.length||H>=q.length);++H)P[H+x]=q[H];return H}function ye(q){return q!==q}})(zbe);(function(n,e){var t=zbe,i=t.Buffer;function r(o,a){for(var l in o)a[l]=o[l]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?n.exports=t:(r(t,e),e.Buffer=s);function s(o,a,l){return i(o,a,l)}r(i,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=i(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})($W,$W.exports);var I6=65536,vNt=4294967295;function _Nt(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var bNt=$W.exports.Buffer,MR=zo.crypto||zo.msCrypto;MR&&MR.getRandomValues?BW.exports=CNt:BW.exports=_Nt;function CNt(n,e){if(n>vNt)throw new RangeError("requested too many random bytes");var t=bNt.allocUnsafe(n);if(n>0)if(n>I6)for(var i=0;i<n;i+=I6)MR.getRandomValues(t.slice(i,i+I6));else MR.getRandomValues(t);return typeof e=="function"?process.nextTick(function(){e(null,t)}):t}var yNt=BW.exports,moe=16,id=NNt(),wNt=new RegExp('(\\\\)?"@__(F|R|D|M|S|A|U|I|B|L)-'+id+'-(\\d+)__@"',"g"),SNt=/\{\s*\[native code\]\s*\}/g,LNt=/function.*?\(/,kNt=/.*?=>.*?/,ENt=/[<>\/\u2028\u2029]/g,DNt=["*","async"],INt={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function TNt(n){return INt[n]}function NNt(){for(var n=yNt(moe),e="",t=0;t<moe;++t)e+=n[t].toString(16);return e}function xNt(n){var e=[];for(var t in n)typeof n[t]=="function"&&e.push(t);for(var i=0;i<e.length;i++)delete n[e[i]]}var zWt=function n(e,t){t||(t={}),(typeof t=="number"||typeof t=="string")&&(t={space:t});var i=[],r=[],s=[],o=[],a=[],l=[],u=[],c=[],d=[],h=[];function f(m,b){if(t.ignoreFunction&&xNt(b),!b&&b!==void 0)return b;var _=this[m],C=typeof _;if(C==="object"){if(_ instanceof RegExp)return"@__R-"+id+"-"+(r.push(_)-1)+"__@";if(_ instanceof Date)return"@__D-"+id+"-"+(s.push(_)-1)+"__@";if(_ instanceof Map)return"@__M-"+id+"-"+(o.push(_)-1)+"__@";if(_ instanceof Set)return"@__S-"+id+"-"+(a.push(_)-1)+"__@";if(_ instanceof Array){var w=_.filter(function(){return!0}).length!==_.length;if(w)return"@__A-"+id+"-"+(l.push(_)-1)+"__@"}if(_ instanceof URL)return"@__L-"+id+"-"+(h.push(_)-1)+"__@"}return C==="function"?"@__F-"+id+"-"+(i.push(_)-1)+"__@":C==="undefined"?"@__U-"+id+"-"+(u.push(_)-1)+"__@":C==="number"&&!isNaN(_)&&!isFinite(_)?"@__I-"+id+"-"+(c.push(_)-1)+"__@":C==="bigint"?"@__B-"+id+"-"+(d.push(_)-1)+"__@":b}function g(m){var b=m.toString();if(SNt.test(b))throw new TypeError("Serializing native function: "+m.name);if(LNt.test(b)||kNt.test(b))return b;var _=b.indexOf("("),C=b.substr(0,_).trim().split(" ").filter(function(S){return S.length>0}),w=C.filter(function(S){return DNt.indexOf(S)===-1});return w.length>0?(C.indexOf("async")>-1?"async ":"")+"function"+(C.join("").indexOf("*")>-1?"*":"")+b.substr(_):b}if(t.ignoreFunction&&typeof e=="function"&&(e=void 0),e===void 0)return String(e);var p;return t.isJSON&&!t.space?p=JSON.stringify(e):p=JSON.stringify(e,t.isJSON?null:f,t.space),typeof p!="string"?String(p):(t.unsafe!==!0&&(p=p.replace(ENt,TNt)),i.length===0&&r.length===0&&s.length===0&&o.length===0&&a.length===0&&l.length===0&&u.length===0&&c.length===0&&d.length===0&&h.length===0?p:p.replace(wNt,function(m,b,_,C){if(b)return m;if(_==="D")return'new Date("'+s[C].toISOString()+'")';if(_==="R")return"new RegExp("+n(r[C].source)+', "'+r[C].flags+'")';if(_==="M")return"new Map("+n(Array.from(o[C].entries()),t)+")";if(_==="S")return"new Set("+n(Array.from(a[C].values()),t)+")";if(_==="A")return"Array.prototype.slice.call("+n(Object.assign({length:l[C].length},l[C]),t)+")";if(_==="U")return"undefined";if(_==="I")return c[C];if(_==="B")return'BigInt("'+d[C]+'")';if(_==="L")return'new URL("'+h[C].toString()+'")';var w=i[C];return g(w)}))},qG=Me({name:"ArrowDown"});const MNt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ANt=be("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1);function RNt(n,e,t,i,r,s){return B(),Oe("svg",MNt,[ANt])}qG.render=RNt;qG.__file="packages/components/ArrowDown.vue";var UWt=qG,YG=Me({name:"Back"});const ONt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},PNt=be("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),FNt=be("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1);function BNt(n,e,t,i,r,s){return B(),Oe("svg",ONt,[PNt,FNt])}YG.render=BNt;YG.__file="packages/components/Back.vue";var jWt=YG,XG=Me({name:"CaretBottom"});const $Nt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},VNt=be("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"},null,-1);function WNt(n,e,t,i,r,s){return B(),Oe("svg",$Nt,[VNt])}XG.render=WNt;XG.__file="packages/components/CaretBottom.vue";var KWt=XG,ZG=Me({name:"Coin"});const HNt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zNt=be("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),UNt=be("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),jNt=be("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224zm0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160z"},null,-1);function KNt(n,e,t,i,r,s){return B(),Oe("svg",HNt,[zNt,UNt,jNt])}ZG.render=KNt;ZG.__file="packages/components/Coin.vue";var GWt=ZG,QG=Me({name:"Delete"});const GNt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qNt=be("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1);function YNt(n,e,t,i,r,s){return B(),Oe("svg",GNt,[qNt])}QG.render=YNt;QG.__file="packages/components/Delete.vue";var qWt=QG,JG=Me({name:"Edit"});const XNt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZNt=be("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),QNt=be("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1);function JNt(n,e,t,i,r,s){return B(),Oe("svg",XNt,[ZNt,QNt])}JG.render=JNt;JG.__file="packages/components/Edit.vue";var YWt=JG,eq=Me({name:"Grid"});const ext={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},txt=be("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1);function nxt(n,e,t,i,r,s){return B(),Oe("svg",ext,[txt])}eq.render=nxt;eq.__file="packages/components/Grid.vue";var XWt=eq,tq=Me({name:"Files"});const ixt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rxt=be("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1);function sxt(n,e,t,i,r,s){return B(),Oe("svg",ixt,[rxt])}tq.render=sxt;tq.__file="packages/components/Files.vue";var ZWt=tq,nq=Me({name:"Plus"});const oxt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},axt=be("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1);function lxt(n,e,t,i,r,s){return B(),Oe("svg",oxt,[axt])}nq.render=lxt;nq.__file="packages/components/Plus.vue";var QWt=nq,iq=Me({name:"Right"});const uxt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cxt=be("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1);function dxt(n,e,t,i,r,s){return B(),Oe("svg",uxt,[cxt])}iq.render=dxt;iq.__file="packages/components/Right.vue";var JWt=iq,rq=Me({name:"ScaleToOriginal"});const hxt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fxt=be("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1);function gxt(n,e,t,i,r,s){return B(),Oe("svg",hxt,[fxt])}rq.render=gxt;rq.__file="packages/components/ScaleToOriginal.vue";var eHt=rq,sq=Me({name:"ZoomIn"});const pxt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mxt=be("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1);function vxt(n,e,t,i,r,s){return B(),Oe("svg",pxt,[mxt])}sq.render=vxt;sq.__file="packages/components/ZoomIn.vue";var tHt=sq,oq=Me({name:"ZoomOut"});const _xt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bxt=be("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1);function Cxt(n,e,t,i,r,s){return B(),Oe("svg",_xt,[bxt])}oq.render=Cxt;oq.__file="packages/components/ZoomOut.vue";var nHt=oq,yxt=typeof global=="object"&&global&&global.Object===Object&&global,jbe=yxt,wxt=typeof self=="object"&&self&&self.Object===Object&&self,Sxt=jbe||wxt||Function("return this")(),Sf=Sxt,Lxt=Sf.Symbol,fv=Lxt,Kbe=Object.prototype,kxt=Kbe.hasOwnProperty,Ext=Kbe.toString,XS=fv?fv.toStringTag:void 0;function Dxt(n){var e=kxt.call(n,XS),t=n[XS];try{n[XS]=void 0;var i=!0}catch{}var r=Ext.call(n);return i&&(e?n[XS]=t:delete n[XS]),r}var Ixt=Object.prototype,Txt=Ixt.toString;function Nxt(n){return Txt.call(n)}var xxt="[object Null]",Mxt="[object Undefined]",voe=fv?fv.toStringTag:void 0;function nS(n){return n==null?n===void 0?Mxt:xxt:voe&&voe in Object(n)?Dxt(n):Nxt(n)}function gv(n){return n!=null&&typeof n=="object"}var Axt="[object Symbol]";function Rxt(n){return typeof n=="symbol"||gv(n)&&nS(n)==Axt}var Oxt=Array.isArray,EE=Oxt,Pxt=/\s/;function Fxt(n){for(var e=n.length;e--&&Pxt.test(n.charAt(e)););return e}var Bxt=/^\s+/;function $xt(n){return n&&n.slice(0,Fxt(n)+1).replace(Bxt,"")}function pv(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var _oe=0/0,Vxt=/^[-+]0x[0-9a-f]+$/i,Wxt=/^0b[01]+$/i,Hxt=/^0o[0-7]+$/i,zxt=parseInt;function Uxt(n){if(typeof n=="number")return n;if(Rxt(n))return _oe;if(pv(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=pv(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=$xt(n);var t=Wxt.test(n);return t||Hxt.test(n)?zxt(n.slice(2),t?2:8):Vxt.test(n)?_oe:+n}var boe=1/0,jxt=17976931348623157e292;function Coe(n){if(!n)return n===0?n:0;if(n=Uxt(n),n===boe||n===-boe){var e=n<0?-1:1;return e*jxt}return n===n?n:0}var Kxt="[object AsyncFunction]",Gxt="[object Function]",qxt="[object GeneratorFunction]",Yxt="[object Proxy]";function Gbe(n){if(!pv(n))return!1;var e=nS(n);return e==Gxt||e==qxt||e==Kxt||e==Yxt}var Xxt=Sf["__core-js_shared__"],T6=Xxt,yoe=function(){var n=/[^.]+$/.exec(T6&&T6.keys&&T6.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Zxt(n){return!!yoe&&yoe in n}var Qxt=Function.prototype,Jxt=Qxt.toString;function j1(n){if(n!=null){try{return Jxt.call(n)}catch{}try{return n+""}catch{}}return""}var eMt=/[\\^$.*+?()[\]{}|]/g,tMt=/^\[object .+?Constructor\]$/,nMt=Function.prototype,iMt=Object.prototype,rMt=nMt.toString,sMt=iMt.hasOwnProperty,oMt=RegExp("^"+rMt.call(sMt).replace(eMt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aMt(n){if(!pv(n)||Zxt(n))return!1;var e=Gbe(n)?oMt:tMt;return e.test(j1(n))}function lMt(n,e){return n==null?void 0:n[e]}function K1(n,e){var t=lMt(n,e);return aMt(t)?t:void 0}var uMt=K1(Sf,"WeakMap"),VW=uMt,woe=Object.create,cMt=function(){function n(){}return function(e){if(!pv(e))return{};if(woe)return woe(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),dMt=cMt;function hMt(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var fMt=function(){try{var n=K1(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Soe=fMt;function gMt(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var pMt=9007199254740991,mMt=/^(?:0|[1-9]\d*)$/;function qbe(n,e){var t=typeof n;return e=e==null?pMt:e,!!e&&(t=="number"||t!="symbol"&&mMt.test(n))&&n>-1&&n%1==0&&n<e}function Ybe(n,e,t){e=="__proto__"&&Soe?Soe(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function VP(n,e){return n===e||n!==n&&e!==e}var vMt=Object.prototype,_Mt=vMt.hasOwnProperty;function Xbe(n,e,t){var i=n[e];(!(_Mt.call(n,e)&&VP(i,t))||t===void 0&&!(e in n))&&Ybe(n,e,t)}function WP(n,e,t,i){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),r?Ybe(t,a,l):Xbe(t,a,l)}return t}var bMt=9007199254740991;function Zbe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=bMt}function aq(n){return n!=null&&Zbe(n.length)&&!Gbe(n)}function CMt(n,e,t){if(!pv(t))return!1;var i=typeof e;return(i=="number"?aq(t)&&qbe(e,t.length):i=="string"&&e in t)?VP(t[e],n):!1}var yMt=Object.prototype;function lq(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||yMt;return n===t}function wMt(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var SMt="[object Arguments]";function Loe(n){return gv(n)&&nS(n)==SMt}var Qbe=Object.prototype,LMt=Qbe.hasOwnProperty,kMt=Qbe.propertyIsEnumerable,EMt=Loe(function(){return arguments}())?Loe:function(n){return gv(n)&&LMt.call(n,"callee")&&!kMt.call(n,"callee")},DMt=EMt;function IMt(){return!1}var Jbe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,koe=Jbe&&typeof module=="object"&&module&&!module.nodeType&&module,TMt=koe&&koe.exports===Jbe,Eoe=TMt?Sf.Buffer:void 0,NMt=Eoe?Eoe.isBuffer:void 0,xMt=NMt||IMt,AR=xMt,MMt="[object Arguments]",AMt="[object Array]",RMt="[object Boolean]",OMt="[object Date]",PMt="[object Error]",FMt="[object Function]",BMt="[object Map]",$Mt="[object Number]",VMt="[object Object]",WMt="[object RegExp]",HMt="[object Set]",zMt="[object String]",UMt="[object WeakMap]",jMt="[object ArrayBuffer]",KMt="[object DataView]",GMt="[object Float32Array]",qMt="[object Float64Array]",YMt="[object Int8Array]",XMt="[object Int16Array]",ZMt="[object Int32Array]",QMt="[object Uint8Array]",JMt="[object Uint8ClampedArray]",eAt="[object Uint16Array]",tAt="[object Uint32Array]",Zr={};Zr[GMt]=Zr[qMt]=Zr[YMt]=Zr[XMt]=Zr[ZMt]=Zr[QMt]=Zr[JMt]=Zr[eAt]=Zr[tAt]=!0;Zr[MMt]=Zr[AMt]=Zr[jMt]=Zr[RMt]=Zr[KMt]=Zr[OMt]=Zr[PMt]=Zr[FMt]=Zr[BMt]=Zr[$Mt]=Zr[VMt]=Zr[WMt]=Zr[HMt]=Zr[zMt]=Zr[UMt]=!1;function nAt(n){return gv(n)&&Zbe(n.length)&&!!Zr[nS(n)]}function uq(n){return function(e){return n(e)}}var eCe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CL=eCe&&typeof module=="object"&&module&&!module.nodeType&&module,iAt=CL&&CL.exports===eCe,N6=iAt&&jbe.process,rAt=function(){try{var n=CL&&CL.require&&CL.require("util").types;return n||N6&&N6.binding&&N6.binding("util")}catch{}}(),ww=rAt,Doe=ww&&ww.isTypedArray,sAt=Doe?uq(Doe):nAt,tCe=sAt,oAt=Object.prototype,aAt=oAt.hasOwnProperty;function nCe(n,e){var t=EE(n),i=!t&&DMt(n),r=!t&&!i&&AR(n),s=!t&&!i&&!r&&tCe(n),o=t||i||r||s,a=o?wMt(n.length,String):[],l=a.length;for(var u in n)(e||aAt.call(n,u))&&!(o&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qbe(u,l)))&&a.push(u);return a}function iCe(n,e){return function(t){return n(e(t))}}var lAt=iCe(Object.keys,Object),uAt=lAt,cAt=Object.prototype,dAt=cAt.hasOwnProperty;function hAt(n){if(!lq(n))return uAt(n);var e=[];for(var t in Object(n))dAt.call(n,t)&&t!="constructor"&&e.push(t);return e}function cq(n){return aq(n)?nCe(n):hAt(n)}function fAt(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var gAt=Object.prototype,pAt=gAt.hasOwnProperty;function mAt(n){if(!pv(n))return fAt(n);var e=lq(n),t=[];for(var i in n)i=="constructor"&&(e||!pAt.call(n,i))||t.push(i);return t}function dq(n){return aq(n)?nCe(n,!0):mAt(n)}var vAt=K1(Object,"create"),DE=vAt;function _At(){this.__data__=DE?DE(null):{},this.size=0}function bAt(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var CAt="__lodash_hash_undefined__",yAt=Object.prototype,wAt=yAt.hasOwnProperty;function SAt(n){var e=this.__data__;if(DE){var t=e[n];return t===CAt?void 0:t}return wAt.call(e,n)?e[n]:void 0}var LAt=Object.prototype,kAt=LAt.hasOwnProperty;function EAt(n){var e=this.__data__;return DE?e[n]!==void 0:kAt.call(e,n)}var DAt="__lodash_hash_undefined__";function IAt(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=DE&&e===void 0?DAt:e,this}function h1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}h1.prototype.clear=_At;h1.prototype.delete=bAt;h1.prototype.get=SAt;h1.prototype.has=EAt;h1.prototype.set=IAt;function TAt(){this.__data__=[],this.size=0}function HP(n,e){for(var t=n.length;t--;)if(VP(n[t][0],e))return t;return-1}var NAt=Array.prototype,xAt=NAt.splice;function MAt(n){var e=this.__data__,t=HP(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():xAt.call(e,t,1),--this.size,!0}function AAt(n){var e=this.__data__,t=HP(e,n);return t<0?void 0:e[t][1]}function RAt(n){return HP(this.__data__,n)>-1}function OAt(n,e){var t=this.__data__,i=HP(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function lp(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}lp.prototype.clear=TAt;lp.prototype.delete=MAt;lp.prototype.get=AAt;lp.prototype.has=RAt;lp.prototype.set=OAt;var PAt=K1(Sf,"Map"),IE=PAt;function FAt(){this.size=0,this.__data__={hash:new h1,map:new(IE||lp),string:new h1}}function BAt(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function zP(n,e){var t=n.__data__;return BAt(e)?t[typeof e=="string"?"string":"hash"]:t.map}function $At(n){var e=zP(this,n).delete(n);return this.size-=e?1:0,e}function VAt(n){return zP(this,n).get(n)}function WAt(n){return zP(this,n).has(n)}function HAt(n,e){var t=zP(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function G1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}G1.prototype.clear=FAt;G1.prototype.delete=$At;G1.prototype.get=VAt;G1.prototype.has=WAt;G1.prototype.set=HAt;function rCe(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var zAt=iCe(Object.getPrototypeOf,Object),sCe=zAt;function UAt(){this.__data__=new lp,this.size=0}function jAt(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function KAt(n){return this.__data__.get(n)}function GAt(n){return this.__data__.has(n)}var qAt=200;function YAt(n,e){var t=this.__data__;if(t instanceof lp){var i=t.__data__;if(!IE||i.length<qAt-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new G1(i)}return t.set(n,e),this.size=t.size,this}function Ag(n){var e=this.__data__=new lp(n);this.size=e.size}Ag.prototype.clear=UAt;Ag.prototype.delete=jAt;Ag.prototype.get=KAt;Ag.prototype.has=GAt;Ag.prototype.set=YAt;function XAt(n,e){return n&&WP(e,cq(e),n)}function ZAt(n,e){return n&&WP(e,dq(e),n)}var oCe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ioe=oCe&&typeof module=="object"&&module&&!module.nodeType&&module,QAt=Ioe&&Ioe.exports===oCe,Toe=QAt?Sf.Buffer:void 0,Noe=Toe?Toe.allocUnsafe:void 0;function JAt(n,e){if(e)return n.slice();var t=n.length,i=Noe?Noe(t):new n.constructor(t);return n.copy(i),i}function eRt(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var o=n[t];e(o,t,n)&&(s[r++]=o)}return s}function aCe(){return[]}var tRt=Object.prototype,nRt=tRt.propertyIsEnumerable,xoe=Object.getOwnPropertySymbols,iRt=xoe?function(n){return n==null?[]:(n=Object(n),eRt(xoe(n),function(e){return nRt.call(n,e)}))}:aCe,hq=iRt;function rRt(n,e){return WP(n,hq(n),e)}var sRt=Object.getOwnPropertySymbols,oRt=sRt?function(n){for(var e=[];n;)rCe(e,hq(n)),n=sCe(n);return e}:aCe,lCe=oRt;function aRt(n,e){return WP(n,lCe(n),e)}function uCe(n,e,t){var i=e(n);return EE(n)?i:rCe(i,t(n))}function WW(n){return uCe(n,cq,hq)}function lRt(n){return uCe(n,dq,lCe)}var uRt=K1(Sf,"DataView"),HW=uRt,cRt=K1(Sf,"Promise"),zW=cRt,dRt=K1(Sf,"Set"),UW=dRt,Moe="[object Map]",hRt="[object Object]",Aoe="[object Promise]",Roe="[object Set]",Ooe="[object WeakMap]",Poe="[object DataView]",fRt=j1(HW),gRt=j1(IE),pRt=j1(zW),mRt=j1(UW),vRt=j1(VW),d0=nS;(HW&&d0(new HW(new ArrayBuffer(1)))!=Poe||IE&&d0(new IE)!=Moe||zW&&d0(zW.resolve())!=Aoe||UW&&d0(new UW)!=Roe||VW&&d0(new VW)!=Ooe)&&(d0=function(n){var e=nS(n),t=e==hRt?n.constructor:void 0,i=t?j1(t):"";if(i)switch(i){case fRt:return Poe;case gRt:return Moe;case pRt:return Aoe;case mRt:return Roe;case vRt:return Ooe}return e});var TE=d0,_Rt=Object.prototype,bRt=_Rt.hasOwnProperty;function CRt(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&bRt.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var yRt=Sf.Uint8Array,RR=yRt;function fq(n){var e=new n.constructor(n.byteLength);return new RR(e).set(new RR(n)),e}function wRt(n,e){var t=e?fq(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var SRt=/\w*$/;function LRt(n){var e=new n.constructor(n.source,SRt.exec(n));return e.lastIndex=n.lastIndex,e}var Foe=fv?fv.prototype:void 0,Boe=Foe?Foe.valueOf:void 0;function kRt(n){return Boe?Object(Boe.call(n)):{}}function ERt(n,e){var t=e?fq(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var DRt="[object Boolean]",IRt="[object Date]",TRt="[object Map]",NRt="[object Number]",xRt="[object RegExp]",MRt="[object Set]",ARt="[object String]",RRt="[object Symbol]",ORt="[object ArrayBuffer]",PRt="[object DataView]",FRt="[object Float32Array]",BRt="[object Float64Array]",$Rt="[object Int8Array]",VRt="[object Int16Array]",WRt="[object Int32Array]",HRt="[object Uint8Array]",zRt="[object Uint8ClampedArray]",URt="[object Uint16Array]",jRt="[object Uint32Array]";function KRt(n,e,t){var i=n.constructor;switch(e){case ORt:return fq(n);case DRt:case IRt:return new i(+n);case PRt:return wRt(n,t);case FRt:case BRt:case $Rt:case VRt:case WRt:case HRt:case zRt:case URt:case jRt:return ERt(n,t);case TRt:return new i;case NRt:case ARt:return new i(n);case xRt:return LRt(n);case MRt:return new i;case RRt:return kRt(n)}}function GRt(n){return typeof n.constructor=="function"&&!lq(n)?dMt(sCe(n)):{}}var qRt="[object Map]";function YRt(n){return gv(n)&&TE(n)==qRt}var $oe=ww&&ww.isMap,XRt=$oe?uq($oe):YRt,ZRt=XRt,QRt="[object Set]";function JRt(n){return gv(n)&&TE(n)==QRt}var Voe=ww&&ww.isSet,eOt=Voe?uq(Voe):JRt,tOt=eOt,nOt=1,iOt=2,rOt=4,cCe="[object Arguments]",sOt="[object Array]",oOt="[object Boolean]",aOt="[object Date]",lOt="[object Error]",dCe="[object Function]",uOt="[object GeneratorFunction]",cOt="[object Map]",dOt="[object Number]",hCe="[object Object]",hOt="[object RegExp]",fOt="[object Set]",gOt="[object String]",pOt="[object Symbol]",mOt="[object WeakMap]",vOt="[object ArrayBuffer]",_Ot="[object DataView]",bOt="[object Float32Array]",COt="[object Float64Array]",yOt="[object Int8Array]",wOt="[object Int16Array]",SOt="[object Int32Array]",LOt="[object Uint8Array]",kOt="[object Uint8ClampedArray]",EOt="[object Uint16Array]",DOt="[object Uint32Array]",$r={};$r[cCe]=$r[sOt]=$r[vOt]=$r[_Ot]=$r[oOt]=$r[aOt]=$r[bOt]=$r[COt]=$r[yOt]=$r[wOt]=$r[SOt]=$r[cOt]=$r[dOt]=$r[hCe]=$r[hOt]=$r[fOt]=$r[gOt]=$r[pOt]=$r[LOt]=$r[kOt]=$r[EOt]=$r[DOt]=!0;$r[lOt]=$r[dCe]=$r[mOt]=!1;function Kx(n,e,t,i,r,s){var o,a=e&nOt,l=e&iOt,u=e&rOt;if(t&&(o=r?t(n,i,r,s):t(n)),o!==void 0)return o;if(!pv(n))return n;var c=EE(n);if(c){if(o=CRt(n),!a)return hMt(n,o)}else{var d=TE(n),h=d==dCe||d==uOt;if(AR(n))return JAt(n,a);if(d==hCe||d==cCe||h&&!r){if(o=l||h?{}:GRt(n),!a)return l?aRt(n,ZAt(o,n)):rRt(n,XAt(o,n))}else{if(!$r[d])return r?n:{};o=KRt(n,d,a)}}s||(s=new Ag);var f=s.get(n);if(f)return f;s.set(n,o),tOt(n)?n.forEach(function(m){o.add(Kx(m,e,t,m,n,s))}):ZRt(n)&&n.forEach(function(m,b){o.set(b,Kx(m,e,t,b,n,s))});var g=u?l?lRt:WW:l?dq:cq,p=c?void 0:g(n);return gMt(p||n,function(m,b){p&&(b=m,m=n[b]),Xbe(o,b,Kx(m,e,t,b,n,s))}),o}var IOt=1,TOt=4;function iHt(n){return Kx(n,IOt|TOt)}var NOt="__lodash_hash_undefined__";function xOt(n){return this.__data__.set(n,NOt),this}function MOt(n){return this.__data__.has(n)}function OR(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new G1;++e<t;)this.add(n[e])}OR.prototype.add=OR.prototype.push=xOt;OR.prototype.has=MOt;function AOt(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function ROt(n,e){return n.has(e)}var OOt=1,POt=2;function fCe(n,e,t,i,r,s){var o=t&OOt,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(n),c=s.get(e);if(u&&c)return u==e&&c==n;var d=-1,h=!0,f=t&POt?new OR:void 0;for(s.set(n,e),s.set(e,n);++d<a;){var g=n[d],p=e[d];if(i)var m=o?i(p,g,d,e,n,s):i(g,p,d,n,e,s);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!AOt(e,function(b,_){if(!ROt(f,_)&&(g===b||r(g,b,t,i,s)))return f.push(_)})){h=!1;break}}else if(!(g===p||r(g,p,t,i,s))){h=!1;break}}return s.delete(n),s.delete(e),h}function FOt(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}function BOt(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var $Ot=1,VOt=2,WOt="[object Boolean]",HOt="[object Date]",zOt="[object Error]",UOt="[object Map]",jOt="[object Number]",KOt="[object RegExp]",GOt="[object Set]",qOt="[object String]",YOt="[object Symbol]",XOt="[object ArrayBuffer]",ZOt="[object DataView]",Woe=fv?fv.prototype:void 0,x6=Woe?Woe.valueOf:void 0;function QOt(n,e,t,i,r,s,o){switch(t){case ZOt:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case XOt:return!(n.byteLength!=e.byteLength||!s(new RR(n),new RR(e)));case WOt:case HOt:case jOt:return VP(+n,+e);case zOt:return n.name==e.name&&n.message==e.message;case KOt:case qOt:return n==e+"";case UOt:var a=FOt;case GOt:var l=i&$Ot;if(a||(a=BOt),n.size!=e.size&&!l)return!1;var u=o.get(n);if(u)return u==e;i|=VOt,o.set(n,e);var c=fCe(a(n),a(e),i,r,s,o);return o.delete(n),c;case YOt:if(x6)return x6.call(n)==x6.call(e)}return!1}var JOt=1,e4t=Object.prototype,t4t=e4t.hasOwnProperty;function n4t(n,e,t,i,r,s){var o=t&JOt,a=WW(n),l=a.length,u=WW(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:t4t.call(e,h)))return!1}var f=s.get(n),g=s.get(e);if(f&&g)return f==e&&g==n;var p=!0;s.set(n,e),s.set(e,n);for(var m=o;++d<l;){h=a[d];var b=n[h],_=e[h];if(i)var C=o?i(_,b,h,e,n,s):i(b,_,h,n,e,s);if(!(C===void 0?b===_||r(b,_,t,i,s):C)){p=!1;break}m||(m=h=="constructor")}if(p&&!m){var w=n.constructor,S=e.constructor;w!=S&&"constructor"in n&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(n),s.delete(e),p}var i4t=1,Hoe="[object Arguments]",zoe="[object Array]",hN="[object Object]",r4t=Object.prototype,Uoe=r4t.hasOwnProperty;function s4t(n,e,t,i,r,s){var o=EE(n),a=EE(e),l=o?zoe:TE(n),u=a?zoe:TE(e);l=l==Hoe?hN:l,u=u==Hoe?hN:u;var c=l==hN,d=u==hN,h=l==u;if(h&&AR(n)){if(!AR(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new Ag),o||tCe(n)?fCe(n,e,t,i,r,s):QOt(n,e,l,t,i,r,s);if(!(t&i4t)){var f=c&&Uoe.call(n,"__wrapped__"),g=d&&Uoe.call(e,"__wrapped__");if(f||g){var p=f?n.value():n,m=g?e.value():e;return s||(s=new Ag),r(p,m,t,i,s)}}return h?(s||(s=new Ag),n4t(n,e,t,i,r,s)):!1}function gCe(n,e,t,i,r){return n===e?!0:n==null||e==null||!gv(n)&&!gv(e)?n!==n&&e!==e:s4t(n,e,t,i,gCe,r)}function rHt(n,e){return gCe(n,e)}var o4t=Math.floor,a4t=Math.random;function l4t(n,e){return n+o4t(a4t()*(e-n+1))}var u4t=parseFloat,c4t=Math.min,d4t=Math.random;function sHt(n,e,t){if(t&&typeof t!="boolean"&&CMt(n,e,t)&&(e=t=void 0),t===void 0&&(typeof e=="boolean"?(t=e,e=void 0):typeof n=="boolean"&&(t=n,n=void 0)),n===void 0&&e===void 0?(n=0,e=1):(n=Coe(n),e===void 0?(e=n,n=0):e=Coe(e)),n>e){var i=n;n=e,e=i}if(t||n%1||e%1){var r=d4t();return c4t(n+r*(e-n+u4t("1e-"+((r+"").length-1))),e)}return l4t(n,e)}//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var pCe;function Ut(){return pCe.apply(null,arguments)}function h4t(n){pCe=n}function Wd(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function w_(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Xi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function gq(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(Xi(n,e))return!1;return!0}function yl(n){return n===void 0}function Jg(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function AD(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function mCe(n,e){var t=[],i;for(i=0;i<n.length;++i)t.push(e(n[i],i));return t}function lm(n,e){for(var t in e)Xi(e,t)&&(n[t]=e[t]);return Xi(e,"toString")&&(n.toString=e.toString),Xi(e,"valueOf")&&(n.valueOf=e.valueOf),n}function Lf(n,e,t,i){return VCe(n,e,t,i,!0).utc()}function f4t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ri(n){return n._pf==null&&(n._pf=f4t()),n._pf}var jW;Array.prototype.some?jW=Array.prototype.some:jW=function(n){var e=Object(this),t=e.length>>>0,i;for(i=0;i<t;i++)if(i in e&&n.call(this,e[i],i,e))return!0;return!1};function pq(n){if(n._isValid==null){var e=ri(n),t=jW.call(e.parsedDateParts,function(r){return r!=null}),i=!isNaN(n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=i;else return i}return n._isValid}function UP(n){var e=Lf(NaN);return n!=null?lm(ri(e),n):ri(e).userInvalidated=!0,e}var M6=Ut.momentProperties=[],A6=!1;function mq(n,e){var t,i,r;if(yl(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),yl(e._i)||(n._i=e._i),yl(e._f)||(n._f=e._f),yl(e._l)||(n._l=e._l),yl(e._strict)||(n._strict=e._strict),yl(e._tzm)||(n._tzm=e._tzm),yl(e._isUTC)||(n._isUTC=e._isUTC),yl(e._offset)||(n._offset=e._offset),yl(e._pf)||(n._pf=ri(e)),yl(e._locale)||(n._locale=e._locale),M6.length>0)for(t=0;t<M6.length;t++)i=M6[t],r=e[i],yl(r)||(n[i]=r);return n}function RD(n){mq(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A6===!1&&(A6=!0,Ut.updateOffset(this),A6=!1)}function Hd(n){return n instanceof RD||n!=null&&n._isAMomentObject!=null}function vCe(n){Ut.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function Kc(n,e){var t=!0;return lm(function(){if(Ut.deprecationHandler!=null&&Ut.deprecationHandler(null,n),t){var i=[],r,s,o;for(s=0;s<arguments.length;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(o in arguments[0])Xi(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];i.push(r)}vCe(n+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var joe={};function _Ce(n,e){Ut.deprecationHandler!=null&&Ut.deprecationHandler(n,e),joe[n]||(vCe(e),joe[n]=!0)}Ut.suppressDeprecationWarnings=!1;Ut.deprecationHandler=null;function kf(n){return typeof Function!="undefined"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function g4t(n){var e,t;for(t in n)Xi(n,t)&&(e=n[t],kf(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function KW(n,e){var t=lm({},n),i;for(i in e)Xi(e,i)&&(w_(n[i])&&w_(e[i])?(t[i]={},lm(t[i],n[i]),lm(t[i],e[i])):e[i]!=null?t[i]=e[i]:delete t[i]);for(i in n)Xi(n,i)&&!Xi(e,i)&&w_(n[i])&&(t[i]=lm({},t[i]));return t}function vq(n){n!=null&&this.set(n)}var GW;Object.keys?GW=Object.keys:GW=function(n){var e,t=[];for(e in n)Xi(n,e)&&t.push(e);return t};var p4t={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function m4t(n,e,t){var i=this._calendar[n]||this._calendar.sameElse;return kf(i)?i.call(e,t):i}function uf(n,e,t){var i=""+Math.abs(n),r=e-i.length,s=n>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var _q=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fN=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R6={},ly={};function hn(n,e,t,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),n&&(ly[n]=r),e&&(ly[e[0]]=function(){return uf(r.apply(this,arguments),e[1],e[2])}),t&&(ly[t]=function(){return this.localeData().ordinal(r.apply(this,arguments),n)})}function v4t(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function _4t(n){var e=n.match(_q),t,i;for(t=0,i=e.length;t<i;t++)ly[e[t]]?e[t]=ly[e[t]]:e[t]=v4t(e[t]);return function(r){var s="",o;for(o=0;o<i;o++)s+=kf(e[o])?e[o].call(r,n):e[o];return s}}function Gx(n,e){return n.isValid()?(e=bCe(e,n.localeData()),R6[e]=R6[e]||_4t(e),R6[e](n)):n.localeData().invalidDate()}function bCe(n,e){var t=5;function i(r){return e.longDateFormat(r)||r}for(fN.lastIndex=0;t>=0&&fN.test(n);)n=n.replace(fN,i),fN.lastIndex=0,t-=1;return n}var b4t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function C4t(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(_q).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[n])}var y4t="Invalid date";function w4t(){return this._invalidDate}var S4t="%d",L4t=/\d{1,2}/;function k4t(n){return this._ordinal.replace("%d",n)}var E4t={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function D4t(n,e,t,i){var r=this._relativeTime[t];return kf(r)?r(n,e,t,i):r.replace(/%d/i,n)}function I4t(n,e){var t=this._relativeTime[n>0?"future":"past"];return kf(t)?t(e):t.replace(/%s/i,e)}var yL={};function Fa(n,e){var t=n.toLowerCase();yL[t]=yL[t+"s"]=yL[e]=n}function Gc(n){return typeof n=="string"?yL[n]||yL[n.toLowerCase()]:void 0}function bq(n){var e={},t,i;for(i in n)Xi(n,i)&&(t=Gc(i),t&&(e[t]=n[i]));return e}var CCe={};function Ba(n,e){CCe[n]=e}function T4t(n){var e=[],t;for(t in n)Xi(n,t)&&e.push({unit:t,priority:CCe[t]});return e.sort(function(i,r){return i.priority-r.priority}),e}function jP(n){return n%4===0&&n%100!==0||n%400===0}function _c(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function gi(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=_c(e)),t}function iS(n,e){return function(t){return t!=null?(yCe(this,n,t),Ut.updateOffset(this,e),this):PR(this,n)}}function PR(n,e){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+e]():NaN}function yCe(n,e,t){n.isValid()&&!isNaN(t)&&(e==="FullYear"&&jP(n.year())&&n.month()===1&&n.date()===29?(t=gi(t),n._d["set"+(n._isUTC?"UTC":"")+e](t,n.month(),ZP(t,n.month()))):n._d["set"+(n._isUTC?"UTC":"")+e](t))}function N4t(n){return n=Gc(n),kf(this[n])?this[n]():this}function x4t(n,e){if(typeof n=="object"){n=bq(n);var t=T4t(n),i;for(i=0;i<t.length;i++)this[t[i].unit](n[t[i].unit])}else if(n=Gc(n),kf(this[n]))return this[n](e);return this}var wCe=/\d/,Yu=/\d\d/,SCe=/\d{3}/,Cq=/\d{4}/,KP=/[+-]?\d{6}/,rs=/\d\d?/,LCe=/\d\d\d\d?/,kCe=/\d\d\d\d\d\d?/,GP=/\d{1,3}/,yq=/\d{1,4}/,qP=/[+-]?\d{1,6}/,rS=/\d+/,YP=/[+-]?\d+/,M4t=/Z|[+-]\d\d:?\d\d/gi,XP=/Z|[+-]\d\d(?::?\d\d)?/gi,A4t=/[+-]?\d+(\.\d{1,3})?/,OD=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,FR;FR={};function qt(n,e,t){FR[n]=kf(e)?e:function(i,r){return i&&t?t:e}}function R4t(n,e){return Xi(FR,n)?FR[n](e._strict,e._locale):new RegExp(O4t(n))}function O4t(n){return gu(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,r,s){return t||i||r||s}))}function gu(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var qW={};function Ir(n,e){var t,i=e;for(typeof n=="string"&&(n=[n]),Jg(e)&&(i=function(r,s){s[e]=gi(r)}),t=0;t<n.length;t++)qW[n[t]]=i}function PD(n,e){Ir(n,function(t,i,r,s){r._w=r._w||{},e(t,r._w,r,s)})}function P4t(n,e,t){e!=null&&Xi(qW,n)&&qW[n](e,t._a,t,n)}var Na=0,bg=1,Mh=2,Io=3,bd=4,Cg=5,U0=6,F4t=7,B4t=8;function $4t(n,e){return(n%e+e)%e}var $s;Array.prototype.indexOf?$s=Array.prototype.indexOf:$s=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function ZP(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=$4t(e,12);return n+=(e-t)/12,t===1?jP(n)?29:28:31-t%7%2}hn("M",["MM",2],"Mo",function(){return this.month()+1});hn("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});hn("MMMM",0,0,function(n){return this.localeData().months(this,n)});Fa("month","M");Ba("month",8);qt("M",rs);qt("MM",rs,Yu);qt("MMM",function(n,e){return e.monthsShortRegex(n)});qt("MMMM",function(n,e){return e.monthsRegex(n)});Ir(["M","MM"],function(n,e){e[bg]=gi(n)-1});Ir(["MMM","MMMM"],function(n,e,t,i){var r=t._locale.monthsParse(n,i,t._strict);r!=null?e[bg]=r:ri(t).invalidMonth=n});var V4t="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ECe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),DCe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,W4t=OD,H4t=OD;function z4t(n,e){return n?Wd(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||DCe).test(e)?"format":"standalone"][n.month()]:Wd(this._months)?this._months:this._months.standalone}function U4t(n,e){return n?Wd(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[DCe.test(e)?"format":"standalone"][n.month()]:Wd(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function j4t(n,e,t){var i,r,s,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=Lf([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(r=$s.call(this._shortMonthsParse,o),r!==-1?r:null):(r=$s.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=$s.call(this._shortMonthsParse,o),r!==-1?r:(r=$s.call(this._longMonthsParse,o),r!==-1?r:null)):(r=$s.call(this._longMonthsParse,o),r!==-1?r:(r=$s.call(this._shortMonthsParse,o),r!==-1?r:null))}function K4t(n,e,t){var i,r,s;if(this._monthsParseExact)return j4t.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=Lf([2e3,i]),t&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!t&&!this._monthsParse[i]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[i].test(n))return i;if(t&&e==="MMM"&&this._shortMonthsParse[i].test(n))return i;if(!t&&this._monthsParse[i].test(n))return i}}function ICe(n,e){var t;if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=gi(e);else if(e=n.localeData().monthsParse(e),!Jg(e))return n}return t=Math.min(n.date(),ZP(n.year(),e)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](e,t),n}function TCe(n){return n!=null?(ICe(this,n),Ut.updateOffset(this,!0),this):PR(this,"Month")}function G4t(){return ZP(this.year(),this.month())}function q4t(n){return this._monthsParseExact?(Xi(this,"_monthsRegex")||NCe.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Xi(this,"_monthsShortRegex")||(this._monthsShortRegex=W4t),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function Y4t(n){return this._monthsParseExact?(Xi(this,"_monthsRegex")||NCe.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Xi(this,"_monthsRegex")||(this._monthsRegex=H4t),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function NCe(){function n(o,a){return a.length-o.length}var e=[],t=[],i=[],r,s;for(r=0;r<12;r++)s=Lf([2e3,r]),e.push(this.monthsShort(s,"")),t.push(this.months(s,"")),i.push(this.months(s,"")),i.push(this.monthsShort(s,""));for(e.sort(n),t.sort(n),i.sort(n),r=0;r<12;r++)e[r]=gu(e[r]),t[r]=gu(t[r]);for(r=0;r<24;r++)i[r]=gu(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}hn("Y",0,0,function(){var n=this.year();return n<=9999?uf(n,4):"+"+n});hn(0,["YY",2],0,function(){return this.year()%100});hn(0,["YYYY",4],0,"year");hn(0,["YYYYY",5],0,"year");hn(0,["YYYYYY",6,!0],0,"year");Fa("year","y");Ba("year",1);qt("Y",YP);qt("YY",rs,Yu);qt("YYYY",yq,Cq);qt("YYYYY",qP,KP);qt("YYYYYY",qP,KP);Ir(["YYYYY","YYYYYY"],Na);Ir("YYYY",function(n,e){e[Na]=n.length===2?Ut.parseTwoDigitYear(n):gi(n)});Ir("YY",function(n,e){e[Na]=Ut.parseTwoDigitYear(n)});Ir("Y",function(n,e){e[Na]=parseInt(n,10)});function wL(n){return jP(n)?366:365}Ut.parseTwoDigitYear=function(n){return gi(n)+(gi(n)>68?1900:2e3)};var xCe=iS("FullYear",!0);function X4t(){return jP(this.year())}function Z4t(n,e,t,i,r,s,o){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,i,r,s,o),a}function NE(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function BR(n,e,t){var i=7+e-t,r=(7+NE(n,0,i).getUTCDay()-e)%7;return-r+i-1}function MCe(n,e,t,i,r){var s=(7+t-i)%7,o=BR(n,i,r),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=n-1,u=wL(l)+a):a>wL(n)?(l=n+1,u=a-wL(n)):(l=n,u=a),{year:l,dayOfYear:u}}function xE(n,e,t){var i=BR(n.year(),e,t),r=Math.floor((n.dayOfYear()-i-1)/7)+1,s,o;return r<1?(o=n.year()-1,s=r+Rg(o,e,t)):r>Rg(n.year(),e,t)?(s=r-Rg(n.year(),e,t),o=n.year()+1):(o=n.year(),s=r),{week:s,year:o}}function Rg(n,e,t){var i=BR(n,e,t),r=BR(n+1,e,t);return(wL(n)-i+r)/7}hn("w",["ww",2],"wo","week");hn("W",["WW",2],"Wo","isoWeek");Fa("week","w");Fa("isoWeek","W");Ba("week",5);Ba("isoWeek",5);qt("w",rs);qt("ww",rs,Yu);qt("W",rs);qt("WW",rs,Yu);PD(["w","ww","W","WW"],function(n,e,t,i){e[i.substr(0,1)]=gi(n)});function Q4t(n){return xE(n,this._week.dow,this._week.doy).week}var J4t={dow:0,doy:6};function ePt(){return this._week.dow}function tPt(){return this._week.doy}function nPt(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function iPt(n){var e=xE(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}hn("d",0,"do","day");hn("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});hn("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});hn("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});hn("e",0,0,"weekday");hn("E",0,0,"isoWeekday");Fa("day","d");Fa("weekday","e");Fa("isoWeekday","E");Ba("day",11);Ba("weekday",11);Ba("isoWeekday",11);qt("d",rs);qt("e",rs);qt("E",rs);qt("dd",function(n,e){return e.weekdaysMinRegex(n)});qt("ddd",function(n,e){return e.weekdaysShortRegex(n)});qt("dddd",function(n,e){return e.weekdaysRegex(n)});PD(["dd","ddd","dddd"],function(n,e,t,i){var r=t._locale.weekdaysParse(n,i,t._strict);r!=null?e.d=r:ri(t).invalidWeekday=n});PD(["d","e","E"],function(n,e,t,i){e[i]=gi(n)});function rPt(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function sPt(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function wq(n,e){return n.slice(e,7).concat(n.slice(0,e))}var oPt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ACe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),aPt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),lPt=OD,uPt=OD,cPt=OD;function dPt(n,e){var t=Wd(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?wq(t,this._week.dow):n?t[n.day()]:t}function hPt(n){return n===!0?wq(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function fPt(n){return n===!0?wq(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function gPt(n,e,t){var i,r,s,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=Lf([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(r=$s.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=$s.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=$s.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=$s.call(this._weekdaysParse,o),r!==-1||(r=$s.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=$s.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=$s.call(this._shortWeekdaysParse,o),r!==-1||(r=$s.call(this._weekdaysParse,o),r!==-1)?r:(r=$s.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=$s.call(this._minWeekdaysParse,o),r!==-1||(r=$s.call(this._weekdaysParse,o),r!==-1)?r:(r=$s.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function pPt(n,e,t){var i,r,s;if(this._weekdaysParseExact)return gPt.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=Lf([2e3,1]).day(i),t&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[i].test(n))return i;if(t&&e==="ddd"&&this._shortWeekdaysParse[i].test(n))return i;if(t&&e==="dd"&&this._minWeekdaysParse[i].test(n))return i;if(!t&&this._weekdaysParse[i].test(n))return i}}function mPt(n){if(!this.isValid())return n!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=rPt(n,this.localeData()),this.add(n-e,"d")):e}function vPt(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function _Pt(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=sPt(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function bPt(n){return this._weekdaysParseExact?(Xi(this,"_weekdaysRegex")||Sq.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Xi(this,"_weekdaysRegex")||(this._weekdaysRegex=lPt),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function CPt(n){return this._weekdaysParseExact?(Xi(this,"_weekdaysRegex")||Sq.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xi(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=uPt),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function yPt(n){return this._weekdaysParseExact?(Xi(this,"_weekdaysRegex")||Sq.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xi(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=cPt),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sq(){function n(c,d){return d.length-c.length}var e=[],t=[],i=[],r=[],s,o,a,l,u;for(s=0;s<7;s++)o=Lf([2e3,1]).day(s),a=gu(this.weekdaysMin(o,"")),l=gu(this.weekdaysShort(o,"")),u=gu(this.weekdays(o,"")),e.push(a),t.push(l),i.push(u),r.push(a),r.push(l),r.push(u);e.sort(n),t.sort(n),i.sort(n),r.sort(n),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Lq(){return this.hours()%12||12}function wPt(){return this.hours()||24}hn("H",["HH",2],0,"hour");hn("h",["hh",2],0,Lq);hn("k",["kk",2],0,wPt);hn("hmm",0,0,function(){return""+Lq.apply(this)+uf(this.minutes(),2)});hn("hmmss",0,0,function(){return""+Lq.apply(this)+uf(this.minutes(),2)+uf(this.seconds(),2)});hn("Hmm",0,0,function(){return""+this.hours()+uf(this.minutes(),2)});hn("Hmmss",0,0,function(){return""+this.hours()+uf(this.minutes(),2)+uf(this.seconds(),2)});function RCe(n,e){hn(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}RCe("a",!0);RCe("A",!1);Fa("hour","h");Ba("hour",13);function OCe(n,e){return e._meridiemParse}qt("a",OCe);qt("A",OCe);qt("H",rs);qt("h",rs);qt("k",rs);qt("HH",rs,Yu);qt("hh",rs,Yu);qt("kk",rs,Yu);qt("hmm",LCe);qt("hmmss",kCe);qt("Hmm",LCe);qt("Hmmss",kCe);Ir(["H","HH"],Io);Ir(["k","kk"],function(n,e,t){var i=gi(n);e[Io]=i===24?0:i});Ir(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});Ir(["h","hh"],function(n,e,t){e[Io]=gi(n),ri(t).bigHour=!0});Ir("hmm",function(n,e,t){var i=n.length-2;e[Io]=gi(n.substr(0,i)),e[bd]=gi(n.substr(i)),ri(t).bigHour=!0});Ir("hmmss",function(n,e,t){var i=n.length-4,r=n.length-2;e[Io]=gi(n.substr(0,i)),e[bd]=gi(n.substr(i,2)),e[Cg]=gi(n.substr(r)),ri(t).bigHour=!0});Ir("Hmm",function(n,e,t){var i=n.length-2;e[Io]=gi(n.substr(0,i)),e[bd]=gi(n.substr(i))});Ir("Hmmss",function(n,e,t){var i=n.length-4,r=n.length-2;e[Io]=gi(n.substr(0,i)),e[bd]=gi(n.substr(i,2)),e[Cg]=gi(n.substr(r))});function SPt(n){return(n+"").toLowerCase().charAt(0)==="p"}var LPt=/[ap]\.?m?\.?/i,kPt=iS("Hours",!0);function EPt(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var PCe={calendar:p4t,longDateFormat:b4t,invalidDate:y4t,ordinal:S4t,dayOfMonthOrdinalParse:L4t,relativeTime:E4t,months:V4t,monthsShort:ECe,week:J4t,weekdays:oPt,weekdaysMin:aPt,weekdaysShort:ACe,meridiemParse:LPt},us={},ZS={},ME;function DPt(n,e){var t,i=Math.min(n.length,e.length);for(t=0;t<i;t+=1)if(n[t]!==e[t])return t;return i}function Koe(n){return n&&n.toLowerCase().replace("_","-")}function IPt(n){for(var e=0,t,i,r,s;e<n.length;){for(s=Koe(n[e]).split("-"),t=s.length,i=Koe(n[e+1]),i=i?i.split("-"):null;t>0;){if(r=QP(s.slice(0,t).join("-")),r)return r;if(i&&i.length>=t&&DPt(s,i)>=t-1)break;t--}e++}return ME}function QP(n){var e=null,t;if(us[n]===void 0&&typeof module!="undefined"&&module&&module.exports)try{e=ME._abbr,t=require,t("./locale/"+n),Mm(e)}catch{us[n]=null}return us[n]}function Mm(n,e){var t;return n&&(yl(e)?t=up(n):t=kq(n,e),t?ME=t:typeof console!="undefined"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),ME._abbr}function kq(n,e){if(e!==null){var t,i=PCe;if(e.abbr=n,us[n]!=null)_Ce("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=us[n]._config;else if(e.parentLocale!=null)if(us[e.parentLocale]!=null)i=us[e.parentLocale]._config;else if(t=QP(e.parentLocale),t!=null)i=t._config;else return ZS[e.parentLocale]||(ZS[e.parentLocale]=[]),ZS[e.parentLocale].push({name:n,config:e}),null;return us[n]=new vq(KW(i,e)),ZS[n]&&ZS[n].forEach(function(r){kq(r.name,r.config)}),Mm(n),us[n]}else return delete us[n],null}function TPt(n,e){if(e!=null){var t,i,r=PCe;us[n]!=null&&us[n].parentLocale!=null?us[n].set(KW(us[n]._config,e)):(i=QP(n),i!=null&&(r=i._config),e=KW(r,e),i==null&&(e.abbr=n),t=new vq(e),t.parentLocale=us[n],us[n]=t),Mm(n)}else us[n]!=null&&(us[n].parentLocale!=null?(us[n]=us[n].parentLocale,n===Mm()&&Mm(n)):us[n]!=null&&delete us[n]);return us[n]}function up(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return ME;if(!Wd(n)){if(e=QP(n),e)return e;n=[n]}return IPt(n)}function NPt(){return GW(us)}function Eq(n){var e,t=n._a;return t&&ri(n).overflow===-2&&(e=t[bg]<0||t[bg]>11?bg:t[Mh]<1||t[Mh]>ZP(t[Na],t[bg])?Mh:t[Io]<0||t[Io]>24||t[Io]===24&&(t[bd]!==0||t[Cg]!==0||t[U0]!==0)?Io:t[bd]<0||t[bd]>59?bd:t[Cg]<0||t[Cg]>59?Cg:t[U0]<0||t[U0]>999?U0:-1,ri(n)._overflowDayOfYear&&(e<Na||e>Mh)&&(e=Mh),ri(n)._overflowWeeks&&e===-1&&(e=F4t),ri(n)._overflowWeekday&&e===-1&&(e=B4t),ri(n).overflow=e),n}var xPt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,MPt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,APt=/Z|[+-]\d\d(?::?\d\d)?/,gN=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],O6=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RPt=/^\/?Date\((-?\d+)/i,OPt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,PPt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function FCe(n){var e,t,i=n._i,r=xPt.exec(i)||MPt.exec(i),s,o,a,l;if(r){for(ri(n).iso=!0,e=0,t=gN.length;e<t;e++)if(gN[e][1].exec(r[1])){o=gN[e][0],s=gN[e][2]!==!1;break}if(o==null){n._isValid=!1;return}if(r[3]){for(e=0,t=O6.length;e<t;e++)if(O6[e][1].exec(r[3])){a=(r[2]||" ")+O6[e][0];break}if(a==null){n._isValid=!1;return}}if(!s&&a!=null){n._isValid=!1;return}if(r[4])if(APt.exec(r[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),Iq(n)}else n._isValid=!1}function FPt(n,e,t,i,r,s){var o=[BPt(n),ECe.indexOf(e),parseInt(t,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function BPt(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function $Pt(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function VPt(n,e,t){if(n){var i=ACe.indexOf(n),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return ri(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function WPt(n,e,t){if(n)return PPt[n];if(e)return 0;var i=parseInt(t,10),r=i%100,s=(i-r)/100;return s*60+r}function BCe(n){var e=OPt.exec($Pt(n._i)),t;if(e){if(t=FPt(e[4],e[3],e[2],e[5],e[6],e[7]),!VPt(e[1],t,n))return;n._a=t,n._tzm=WPt(e[8],e[9],e[10]),n._d=NE.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),ri(n).rfc2822=!0}else n._isValid=!1}function HPt(n){var e=RPt.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(FCe(n),n._isValid===!1)delete n._isValid;else return;if(BCe(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:Ut.createFromInputFallback(n)}Ut.createFromInputFallback=Kc("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function tC(n,e,t){return n!=null?n:e!=null?e:t}function zPt(n){var e=new Date(Ut.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Dq(n){var e,t,i=[],r,s,o;if(!n._d){for(r=zPt(n),n._w&&n._a[Mh]==null&&n._a[bg]==null&&UPt(n),n._dayOfYear!=null&&(o=tC(n._a[Na],r[Na]),(n._dayOfYear>wL(o)||n._dayOfYear===0)&&(ri(n)._overflowDayOfYear=!0),t=NE(o,0,n._dayOfYear),n._a[bg]=t.getUTCMonth(),n._a[Mh]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=i[e]=r[e];for(;e<7;e++)n._a[e]=i[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[Io]===24&&n._a[bd]===0&&n._a[Cg]===0&&n._a[U0]===0&&(n._nextDay=!0,n._a[Io]=0),n._d=(n._useUTC?NE:Z4t).apply(null,i),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Io]=24),n._w&&typeof n._w.d!="undefined"&&n._w.d!==s&&(ri(n).weekdayMismatch=!0)}}function UPt(n){var e,t,i,r,s,o,a,l,u;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=tC(e.GG,n._a[Na],xE(is(),1,4).year),i=tC(e.W,1),r=tC(e.E,1),(r<1||r>7)&&(l=!0)):(s=n._locale._week.dow,o=n._locale._week.doy,u=xE(is(),s,o),t=tC(e.gg,n._a[Na],u.year),i=tC(e.w,u.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s),i<1||i>Rg(t,s,o)?ri(n)._overflowWeeks=!0:l!=null?ri(n)._overflowWeekday=!0:(a=MCe(t,i,r,s,o),n._a[Na]=a.year,n._dayOfYear=a.dayOfYear)}Ut.ISO_8601=function(){};Ut.RFC_2822=function(){};function Iq(n){if(n._f===Ut.ISO_8601){FCe(n);return}if(n._f===Ut.RFC_2822){BCe(n);return}n._a=[],ri(n).empty=!0;var e=""+n._i,t,i,r,s,o,a=e.length,l=0,u;for(r=bCe(n._f,n._locale).match(_q)||[],t=0;t<r.length;t++)s=r[t],i=(e.match(R4t(s,n))||[])[0],i&&(o=e.substr(0,e.indexOf(i)),o.length>0&&ri(n).unusedInput.push(o),e=e.slice(e.indexOf(i)+i.length),l+=i.length),ly[s]?(i?ri(n).empty=!1:ri(n).unusedTokens.push(s),P4t(s,i,n)):n._strict&&!i&&ri(n).unusedTokens.push(s);ri(n).charsLeftOver=a-l,e.length>0&&ri(n).unusedInput.push(e),n._a[Io]<=12&&ri(n).bigHour===!0&&n._a[Io]>0&&(ri(n).bigHour=void 0),ri(n).parsedDateParts=n._a.slice(0),ri(n).meridiem=n._meridiem,n._a[Io]=jPt(n._locale,n._a[Io],n._meridiem),u=ri(n).era,u!==null&&(n._a[Na]=n._locale.erasConvertYear(u,n._a[Na])),Dq(n),Eq(n)}function jPt(n,e,t){var i;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(i=n.isPM(t),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function KPt(n){var e,t,i,r,s,o,a=!1;if(n._f.length===0){ri(n).invalidFormat=!0,n._d=new Date(NaN);return}for(r=0;r<n._f.length;r++)s=0,o=!1,e=mq({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[r],Iq(e),pq(e)&&(o=!0),s+=ri(e).charsLeftOver,s+=ri(e).unusedTokens.length*10,ri(e).score=s,a?s<i&&(i=s,t=e):(i==null||s<i||o)&&(i=s,t=e,o&&(a=!0));lm(n,t||e)}function GPt(n){if(!n._d){var e=bq(n._i),t=e.day===void 0?e.date:e.day;n._a=mCe([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),Dq(n)}}function qPt(n){var e=new RD(Eq($Ce(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function $Ce(n){var e=n._i,t=n._f;return n._locale=n._locale||up(n._l),e===null||t===void 0&&e===""?UP({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),Hd(e)?new RD(Eq(e)):(AD(e)?n._d=e:Wd(t)?KPt(n):t?Iq(n):YPt(n),pq(n)||(n._d=null),n))}function YPt(n){var e=n._i;yl(e)?n._d=new Date(Ut.now()):AD(e)?n._d=new Date(e.valueOf()):typeof e=="string"?HPt(n):Wd(e)?(n._a=mCe(e.slice(0),function(t){return parseInt(t,10)}),Dq(n)):w_(e)?GPt(n):Jg(e)?n._d=new Date(e):Ut.createFromInputFallback(n)}function VCe(n,e,t,i,r){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(t===!0||t===!1)&&(i=t,t=void 0),(w_(n)&&gq(n)||Wd(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=t,s._i=n,s._f=e,s._strict=i,qPt(s)}function is(n,e,t,i){return VCe(n,e,t,i,!1)}var XPt=Kc("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=is.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:UP()}),ZPt=Kc("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=is.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:UP()});function WCe(n,e){var t,i;if(e.length===1&&Wd(e[0])&&(e=e[0]),!e.length)return is();for(t=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][n](t))&&(t=e[i]);return t}function QPt(){var n=[].slice.call(arguments,0);return WCe("isBefore",n)}function JPt(){var n=[].slice.call(arguments,0);return WCe("isAfter",n)}var e3t=function(){return Date.now?Date.now():+new Date},QS=["year","quarter","month","week","day","hour","minute","second","millisecond"];function t3t(n){var e,t=!1,i;for(e in n)if(Xi(n,e)&&!($s.call(QS,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(i=0;i<QS.length;++i)if(n[QS[i]]){if(t)return!1;parseFloat(n[QS[i]])!==gi(n[QS[i]])&&(t=!0)}return!0}function n3t(){return this._isValid}function i3t(){return Qd(NaN)}function JP(n){var e=bq(n),t=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=t3t(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+r+i*3+t*12,this._data={},this._locale=up(),this._bubble()}function qx(n){return n instanceof JP}function YW(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function r3t(n,e,t){var i=Math.min(n.length,e.length),r=Math.abs(n.length-e.length),s=0,o;for(o=0;o<i;o++)(t&&n[o]!==e[o]||!t&&gi(n[o])!==gi(e[o]))&&s++;return s+r}function HCe(n,e){hn(n,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+uf(~~(t/60),2)+e+uf(~~t%60,2)})}HCe("Z",":");HCe("ZZ","");qt("Z",XP);qt("ZZ",XP);Ir(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=Tq(XP,n)});var s3t=/([\+\-]|\d\d)/gi;function Tq(n,e){var t=(e||"").match(n),i,r,s;return t===null?null:(i=t[t.length-1]||[],r=(i+"").match(s3t)||["-",0,0],s=+(r[1]*60)+gi(r[2]),s===0?0:r[0]==="+"?s:-s)}function Nq(n,e){var t,i;return e._isUTC?(t=e.clone(),i=(Hd(n)||AD(n)?n.valueOf():is(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+i),Ut.updateOffset(t,!1),t):is(n).local()}function XW(n){return-Math.round(n._d.getTimezoneOffset())}Ut.updateOffset=function(){};function o3t(n,e,t){var i=this._offset||0,r;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=Tq(XP,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(r=XW(this)),this._offset=n,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==n&&(!e||this._changeInProgress?jCe(this,Qd(n-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ut.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:XW(this)}function a3t(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function l3t(n){return this.utcOffset(0,n)}function u3t(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(XW(this),"m")),this}function c3t(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=Tq(M4t,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function d3t(n){return this.isValid()?(n=n?is(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function h3t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function f3t(){if(!yl(this._isDSTShifted))return this._isDSTShifted;var n={},e;return mq(n,this),n=$Ce(n),n._a?(e=n._isUTC?Lf(n._a):is(n._a),this._isDSTShifted=this.isValid()&&r3t(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function g3t(){return this.isValid()?!this._isUTC:!1}function p3t(){return this.isValid()?this._isUTC:!1}function zCe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var m3t=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,v3t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qd(n,e){var t=n,i=null,r,s,o;return qx(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:Jg(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(i=m3t.exec(n))?(r=i[1]==="-"?-1:1,t={y:0,d:gi(i[Mh])*r,h:gi(i[Io])*r,m:gi(i[bd])*r,s:gi(i[Cg])*r,ms:gi(YW(i[U0]*1e3))*r}):(i=v3t.exec(n))?(r=i[1]==="-"?-1:1,t={y:Zv(i[2],r),M:Zv(i[3],r),w:Zv(i[4],r),d:Zv(i[5],r),h:Zv(i[6],r),m:Zv(i[7],r),s:Zv(i[8],r)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=_3t(is(t.from),is(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new JP(t),qx(n)&&Xi(n,"_locale")&&(s._locale=n._locale),qx(n)&&Xi(n,"_isValid")&&(s._isValid=n._isValid),s}Qd.fn=JP.prototype;Qd.invalid=i3t;function Zv(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function Goe(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function _3t(n,e){var t;return n.isValid()&&e.isValid()?(e=Nq(e,n),n.isBefore(e)?t=Goe(n,e):(t=Goe(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function UCe(n,e){return function(t,i){var r,s;return i!==null&&!isNaN(+i)&&(_Ce(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=i,i=s),r=Qd(t,i),jCe(this,r,n),this}}function jCe(n,e,t,i){var r=e._milliseconds,s=YW(e._days),o=YW(e._months);!n.isValid()||(i=i==null?!0:i,o&&ICe(n,PR(n,"Month")+o*t),s&&yCe(n,"Date",PR(n,"Date")+s*t),r&&n._d.setTime(n._d.valueOf()+r*t),i&&Ut.updateOffset(n,s||o))}var b3t=UCe(1,"add"),C3t=UCe(-1,"subtract");function KCe(n){return typeof n=="string"||n instanceof String}function y3t(n){return Hd(n)||AD(n)||KCe(n)||Jg(n)||S3t(n)||w3t(n)||n===null||n===void 0}function w3t(n){var e=w_(n)&&!gq(n),t=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s;for(r=0;r<i.length;r+=1)s=i[r],t=t||Xi(n,s);return e&&t}function S3t(n){var e=Wd(n),t=!1;return e&&(t=n.filter(function(i){return!Jg(i)&&KCe(n)}).length===0),e&&t}function L3t(n){var e=w_(n)&&!gq(n),t=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<i.length;r+=1)s=i[r],t=t||Xi(n,s);return e&&t}function k3t(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function E3t(n,e){arguments.length===1&&(arguments[0]?y3t(arguments[0])?(n=arguments[0],e=void 0):L3t(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||is(),i=Nq(t,this).startOf("day"),r=Ut.calendarFormat(this,i)||"sameElse",s=e&&(kf(e[r])?e[r].call(this,t):e[r]);return this.format(s||this.localeData().calendar(r,this,is(t)))}function D3t(){return new RD(this)}function I3t(n,e){var t=Hd(n)?n:is(n);return this.isValid()&&t.isValid()?(e=Gc(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function T3t(n,e){var t=Hd(n)?n:is(n);return this.isValid()&&t.isValid()?(e=Gc(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function N3t(n,e,t,i){var r=Hd(n)?n:is(n),s=Hd(e)?e:is(e);return this.isValid()&&r.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,t):!this.isBefore(r,t))&&(i[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function x3t(n,e){var t=Hd(n)?n:is(n),i;return this.isValid()&&t.isValid()?(e=Gc(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(i=t.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function M3t(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function A3t(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function R3t(n,e,t){var i,r,s;if(!this.isValid())return NaN;if(i=Nq(n,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,e=Gc(e),e){case"year":s=Yx(this,i)/12;break;case"month":s=Yx(this,i);break;case"quarter":s=Yx(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return t?s:_c(s)}function Yx(n,e){if(n.date()<e.date())return-Yx(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),i=n.clone().add(t,"months"),r,s;return e-i<0?(r=n.clone().add(t-1,"months"),s=(e-i)/(i-r)):(r=n.clone().add(t+1,"months"),s=(e-i)/(r-i)),-(t+s)||0}Ut.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ut.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function O3t(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function P3t(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?Gx(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):kf(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Gx(t,"Z")):Gx(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function F3t(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,i,r,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+i+r+s)}function B3t(n){n||(n=this.isUtc()?Ut.defaultFormatUtc:Ut.defaultFormat);var e=Gx(this,n);return this.localeData().postformat(e)}function $3t(n,e){return this.isValid()&&(Hd(n)&&n.isValid()||is(n).isValid())?Qd({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function V3t(n){return this.from(is(),n)}function W3t(n,e){return this.isValid()&&(Hd(n)&&n.isValid()||is(n).isValid())?Qd({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function H3t(n){return this.to(is(),n)}function GCe(n){var e;return n===void 0?this._locale._abbr:(e=up(n),e!=null&&(this._locale=e),this)}var qCe=Kc("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function YCe(){return this._locale}var $R=1e3,uy=60*$R,VR=60*uy,XCe=(365*400+97)*24*VR;function cy(n,e){return(n%e+e)%e}function ZCe(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-XCe:new Date(n,e,t).valueOf()}function QCe(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-XCe:Date.UTC(n,e,t)}function z3t(n){var e,t;if(n=Gc(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?QCe:ZCe,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=cy(e+(this._isUTC?0:this.utcOffset()*uy),VR);break;case"minute":e=this._d.valueOf(),e-=cy(e,uy);break;case"second":e=this._d.valueOf(),e-=cy(e,$R);break}return this._d.setTime(e),Ut.updateOffset(this,!0),this}function U3t(n){var e,t;if(n=Gc(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?QCe:ZCe,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=VR-cy(e+(this._isUTC?0:this.utcOffset()*uy),VR)-1;break;case"minute":e=this._d.valueOf(),e+=uy-cy(e,uy)-1;break;case"second":e=this._d.valueOf(),e+=$R-cy(e,$R)-1;break}return this._d.setTime(e),Ut.updateOffset(this,!0),this}function j3t(){return this._d.valueOf()-(this._offset||0)*6e4}function K3t(){return Math.floor(this.valueOf()/1e3)}function G3t(){return new Date(this.valueOf())}function q3t(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function Y3t(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function X3t(){return this.isValid()?this.toISOString():null}function Z3t(){return pq(this)}function Q3t(){return lm({},ri(this))}function J3t(){return ri(this).overflow}function e5t(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}hn("N",0,0,"eraAbbr");hn("NN",0,0,"eraAbbr");hn("NNN",0,0,"eraAbbr");hn("NNNN",0,0,"eraName");hn("NNNNN",0,0,"eraNarrow");hn("y",["y",1],"yo","eraYear");hn("y",["yy",2],0,"eraYear");hn("y",["yyy",3],0,"eraYear");hn("y",["yyyy",4],0,"eraYear");qt("N",xq);qt("NN",xq);qt("NNN",xq);qt("NNNN",d5t);qt("NNNNN",h5t);Ir(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,i){var r=t._locale.erasParse(n,i,t._strict);r?ri(t).era=r:ri(t).invalidEra=n});qt("y",rS);qt("yy",rS);qt("yyy",rS);qt("yyyy",rS);qt("yo",f5t);Ir(["y","yy","yyy","yyyy"],Na);Ir(["yo"],function(n,e,t,i){var r;t._locale._eraYearOrdinalRegex&&(r=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Na]=t._locale.eraYearOrdinalParse(n,r):e[Na]=parseInt(n,10)});function t5t(n,e){var t,i,r,s=this._eras||up("en")._eras;for(t=0,i=s.length;t<i;++t){switch(typeof s[t].since){case"string":r=Ut(s[t].since).startOf("day"),s[t].since=r.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":r=Ut(s[t].until).startOf("day").valueOf(),s[t].until=r.valueOf();break}}return s}function n5t(n,e,t){var i,r,s=this.eras(),o,a,l;for(n=n.toUpperCase(),i=0,r=s.length;i<r;++i)if(o=s[i].name.toUpperCase(),a=s[i].abbr.toUpperCase(),l=s[i].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return s[i];break;case"NNNN":if(o===n)return s[i];break;case"NNNNN":if(l===n)return s[i];break}else if([o,a,l].indexOf(n)>=0)return s[i]}function i5t(n,e){var t=n.since<=n.until?1:-1;return e===void 0?Ut(n.since).year():Ut(n.since).year()+(e-n.offset)*t}function r5t(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].name;return""}function s5t(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].narrow;return""}function o5t(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].abbr;return""}function a5t(){var n,e,t,i,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=r[n].since<=r[n].until?1:-1,i=this.clone().startOf("day").valueOf(),r[n].since<=i&&i<=r[n].until||r[n].until<=i&&i<=r[n].since)return(this.year()-Ut(r[n].since).year())*t+r[n].offset;return this.year()}function l5t(n){return Xi(this,"_erasNameRegex")||Mq.call(this),n?this._erasNameRegex:this._erasRegex}function u5t(n){return Xi(this,"_erasAbbrRegex")||Mq.call(this),n?this._erasAbbrRegex:this._erasRegex}function c5t(n){return Xi(this,"_erasNarrowRegex")||Mq.call(this),n?this._erasNarrowRegex:this._erasRegex}function xq(n,e){return e.erasAbbrRegex(n)}function d5t(n,e){return e.erasNameRegex(n)}function h5t(n,e){return e.erasNarrowRegex(n)}function f5t(n,e){return e._eraYearOrdinalRegex||rS}function Mq(){var n=[],e=[],t=[],i=[],r,s,o=this.eras();for(r=0,s=o.length;r<s;++r)e.push(gu(o[r].name)),n.push(gu(o[r].abbr)),t.push(gu(o[r].narrow)),i.push(gu(o[r].name)),i.push(gu(o[r].abbr)),i.push(gu(o[r].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}hn(0,["gg",2],0,function(){return this.weekYear()%100});hn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function e3(n,e){hn(0,[n,n.length],0,e)}e3("gggg","weekYear");e3("ggggg","weekYear");e3("GGGG","isoWeekYear");e3("GGGGG","isoWeekYear");Fa("weekYear","gg");Fa("isoWeekYear","GG");Ba("weekYear",1);Ba("isoWeekYear",1);qt("G",YP);qt("g",YP);qt("GG",rs,Yu);qt("gg",rs,Yu);qt("GGGG",yq,Cq);qt("gggg",yq,Cq);qt("GGGGG",qP,KP);qt("ggggg",qP,KP);PD(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,i){e[i.substr(0,2)]=gi(n)});PD(["gg","GG"],function(n,e,t,i){e[i]=Ut.parseTwoDigitYear(n)});function g5t(n){return JCe.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function p5t(n){return JCe.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function m5t(){return Rg(this.year(),1,4)}function v5t(){return Rg(this.isoWeekYear(),1,4)}function _5t(){var n=this.localeData()._week;return Rg(this.year(),n.dow,n.doy)}function b5t(){var n=this.localeData()._week;return Rg(this.weekYear(),n.dow,n.doy)}function JCe(n,e,t,i,r){var s;return n==null?xE(this,i,r).year:(s=Rg(n,i,r),e>s&&(e=s),C5t.call(this,n,e,t,i,r))}function C5t(n,e,t,i,r){var s=MCe(n,e,t,i,r),o=NE(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}hn("Q",0,"Qo","quarter");Fa("quarter","Q");Ba("quarter",7);qt("Q",wCe);Ir("Q",function(n,e){e[bg]=(gi(n)-1)*3});function y5t(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}hn("D",["DD",2],"Do","date");Fa("date","D");Ba("date",9);qt("D",rs);qt("DD",rs,Yu);qt("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ir(["D","DD"],Mh);Ir("Do",function(n,e){e[Mh]=gi(n.match(rs)[0])});var eye=iS("Date",!0);hn("DDD",["DDDD",3],"DDDo","dayOfYear");Fa("dayOfYear","DDD");Ba("dayOfYear",4);qt("DDD",GP);qt("DDDD",SCe);Ir(["DDD","DDDD"],function(n,e,t){t._dayOfYear=gi(n)});function w5t(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}hn("m",["mm",2],0,"minute");Fa("minute","m");Ba("minute",14);qt("m",rs);qt("mm",rs,Yu);Ir(["m","mm"],bd);var S5t=iS("Minutes",!1);hn("s",["ss",2],0,"second");Fa("second","s");Ba("second",15);qt("s",rs);qt("ss",rs,Yu);Ir(["s","ss"],Cg);var L5t=iS("Seconds",!1);hn("S",0,0,function(){return~~(this.millisecond()/100)});hn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});hn(0,["SSS",3],0,"millisecond");hn(0,["SSSS",4],0,function(){return this.millisecond()*10});hn(0,["SSSSS",5],0,function(){return this.millisecond()*100});hn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});hn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});hn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});hn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Fa("millisecond","ms");Ba("millisecond",16);qt("S",GP,wCe);qt("SS",GP,Yu);qt("SSS",GP,SCe);var um,tye;for(um="SSSS";um.length<=9;um+="S")qt(um,rS);function k5t(n,e){e[U0]=gi(("0."+n)*1e3)}for(um="S";um.length<=9;um+="S")Ir(um,k5t);tye=iS("Milliseconds",!1);hn("z",0,0,"zoneAbbr");hn("zz",0,0,"zoneName");function E5t(){return this._isUTC?"UTC":""}function D5t(){return this._isUTC?"Coordinated Universal Time":""}var Tt=RD.prototype;Tt.add=b3t;Tt.calendar=E3t;Tt.clone=D3t;Tt.diff=R3t;Tt.endOf=U3t;Tt.format=B3t;Tt.from=$3t;Tt.fromNow=V3t;Tt.to=W3t;Tt.toNow=H3t;Tt.get=N4t;Tt.invalidAt=J3t;Tt.isAfter=I3t;Tt.isBefore=T3t;Tt.isBetween=N3t;Tt.isSame=x3t;Tt.isSameOrAfter=M3t;Tt.isSameOrBefore=A3t;Tt.isValid=Z3t;Tt.lang=qCe;Tt.locale=GCe;Tt.localeData=YCe;Tt.max=ZPt;Tt.min=XPt;Tt.parsingFlags=Q3t;Tt.set=x4t;Tt.startOf=z3t;Tt.subtract=C3t;Tt.toArray=q3t;Tt.toObject=Y3t;Tt.toDate=G3t;Tt.toISOString=P3t;Tt.inspect=F3t;typeof Symbol!="undefined"&&Symbol.for!=null&&(Tt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Tt.toJSON=X3t;Tt.toString=O3t;Tt.unix=K3t;Tt.valueOf=j3t;Tt.creationData=e5t;Tt.eraName=r5t;Tt.eraNarrow=s5t;Tt.eraAbbr=o5t;Tt.eraYear=a5t;Tt.year=xCe;Tt.isLeapYear=X4t;Tt.weekYear=g5t;Tt.isoWeekYear=p5t;Tt.quarter=Tt.quarters=y5t;Tt.month=TCe;Tt.daysInMonth=G4t;Tt.week=Tt.weeks=nPt;Tt.isoWeek=Tt.isoWeeks=iPt;Tt.weeksInYear=_5t;Tt.weeksInWeekYear=b5t;Tt.isoWeeksInYear=m5t;Tt.isoWeeksInISOWeekYear=v5t;Tt.date=eye;Tt.day=Tt.days=mPt;Tt.weekday=vPt;Tt.isoWeekday=_Pt;Tt.dayOfYear=w5t;Tt.hour=Tt.hours=kPt;Tt.minute=Tt.minutes=S5t;Tt.second=Tt.seconds=L5t;Tt.millisecond=Tt.milliseconds=tye;Tt.utcOffset=o3t;Tt.utc=l3t;Tt.local=u3t;Tt.parseZone=c3t;Tt.hasAlignedHourOffset=d3t;Tt.isDST=h3t;Tt.isLocal=g3t;Tt.isUtcOffset=p3t;Tt.isUtc=zCe;Tt.isUTC=zCe;Tt.zoneAbbr=E5t;Tt.zoneName=D5t;Tt.dates=Kc("dates accessor is deprecated. Use date instead.",eye);Tt.months=Kc("months accessor is deprecated. Use month instead",TCe);Tt.years=Kc("years accessor is deprecated. Use year instead",xCe);Tt.zone=Kc("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",a3t);Tt.isDSTShifted=Kc("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",f3t);function I5t(n){return is(n*1e3)}function T5t(){return is.apply(null,arguments).parseZone()}function nye(n){return n}var Zi=vq.prototype;Zi.calendar=m4t;Zi.longDateFormat=C4t;Zi.invalidDate=w4t;Zi.ordinal=k4t;Zi.preparse=nye;Zi.postformat=nye;Zi.relativeTime=D4t;Zi.pastFuture=I4t;Zi.set=g4t;Zi.eras=t5t;Zi.erasParse=n5t;Zi.erasConvertYear=i5t;Zi.erasAbbrRegex=u5t;Zi.erasNameRegex=l5t;Zi.erasNarrowRegex=c5t;Zi.months=z4t;Zi.monthsShort=U4t;Zi.monthsParse=K4t;Zi.monthsRegex=Y4t;Zi.monthsShortRegex=q4t;Zi.week=Q4t;Zi.firstDayOfYear=tPt;Zi.firstDayOfWeek=ePt;Zi.weekdays=dPt;Zi.weekdaysMin=fPt;Zi.weekdaysShort=hPt;Zi.weekdaysParse=pPt;Zi.weekdaysRegex=bPt;Zi.weekdaysShortRegex=CPt;Zi.weekdaysMinRegex=yPt;Zi.isPM=SPt;Zi.meridiem=EPt;function WR(n,e,t,i){var r=up(),s=Lf().set(i,e);return r[t](s,n)}function iye(n,e,t){if(Jg(n)&&(e=n,n=void 0),n=n||"",e!=null)return WR(n,e,t,"month");var i,r=[];for(i=0;i<12;i++)r[i]=WR(n,i,t,"month");return r}function Aq(n,e,t,i){typeof n=="boolean"?(Jg(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,Jg(e)&&(t=e,e=void 0),e=e||"");var r=up(),s=n?r._week.dow:0,o,a=[];if(t!=null)return WR(e,(t+s)%7,i,"day");for(o=0;o<7;o++)a[o]=WR(e,(o+s)%7,i,"day");return a}function N5t(n,e){return iye(n,e,"months")}function x5t(n,e){return iye(n,e,"monthsShort")}function M5t(n,e,t){return Aq(n,e,t,"weekdays")}function A5t(n,e,t){return Aq(n,e,t,"weekdaysShort")}function R5t(n,e,t){return Aq(n,e,t,"weekdaysMin")}Mm("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=gi(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});Ut.lang=Kc("moment.lang is deprecated. Use moment.locale instead.",Mm);Ut.langData=Kc("moment.langData is deprecated. Use moment.localeData instead.",up);var zf=Math.abs;function O5t(){var n=this._data;return this._milliseconds=zf(this._milliseconds),this._days=zf(this._days),this._months=zf(this._months),n.milliseconds=zf(n.milliseconds),n.seconds=zf(n.seconds),n.minutes=zf(n.minutes),n.hours=zf(n.hours),n.months=zf(n.months),n.years=zf(n.years),this}function rye(n,e,t,i){var r=Qd(e,t);return n._milliseconds+=i*r._milliseconds,n._days+=i*r._days,n._months+=i*r._months,n._bubble()}function P5t(n,e){return rye(this,n,e,1)}function F5t(n,e){return rye(this,n,e,-1)}function qoe(n){return n<0?Math.floor(n):Math.ceil(n)}function B5t(){var n=this._milliseconds,e=this._days,t=this._months,i=this._data,r,s,o,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=qoe(ZW(t)+e)*864e5,e=0,t=0),i.milliseconds=n%1e3,r=_c(n/1e3),i.seconds=r%60,s=_c(r/60),i.minutes=s%60,o=_c(s/60),i.hours=o%24,e+=_c(o/24),l=_c(sye(e)),t+=l,e-=qoe(ZW(l)),a=_c(t/12),t%=12,i.days=e,i.months=t,i.years=a,this}function sye(n){return n*4800/146097}function ZW(n){return n*146097/4800}function $5t(n){if(!this.isValid())return NaN;var e,t,i=this._milliseconds;if(n=Gc(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+i/864e5,t=this._months+sye(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(ZW(this._months)),n){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+n)}}function V5t(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+gi(this._months/12)*31536e6:NaN}function cp(n){return function(){return this.as(n)}}var W5t=cp("ms"),H5t=cp("s"),z5t=cp("m"),U5t=cp("h"),j5t=cp("d"),K5t=cp("w"),G5t=cp("M"),q5t=cp("Q"),Y5t=cp("y");function X5t(){return Qd(this)}function Z5t(n){return n=Gc(n),this.isValid()?this[n+"s"]():NaN}function q1(n){return function(){return this.isValid()?this._data[n]:NaN}}var Q5t=q1("milliseconds"),J5t=q1("seconds"),eFt=q1("minutes"),tFt=q1("hours"),nFt=q1("days"),iFt=q1("months"),rFt=q1("years");function sFt(){return _c(this.days()/7)}var Jf=Math.round,EC={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function oFt(n,e,t,i,r){return r.relativeTime(e||1,!!t,n,i)}function aFt(n,e,t,i){var r=Qd(n).abs(),s=Jf(r.as("s")),o=Jf(r.as("m")),a=Jf(r.as("h")),l=Jf(r.as("d")),u=Jf(r.as("M")),c=Jf(r.as("w")),d=Jf(r.as("y")),h=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(h=h||c<=1&&["w"]||c<t.w&&["ww",c]),h=h||u<=1&&["M"]||u<t.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=e,h[3]=+n>0,h[4]=i,oFt.apply(null,h)}function lFt(n){return n===void 0?Jf:typeof n=="function"?(Jf=n,!0):!1}function uFt(n,e){return EC[n]===void 0?!1:e===void 0?EC[n]:(EC[n]=e,n==="s"&&(EC.ss=e-1),!0)}function cFt(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,i=EC,r,s;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(i=Object.assign({},EC,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),r=this.localeData(),s=aFt(this,!t,i,r),t&&(s=r.pastFuture(+this,s)),r.postformat(s)}var P6=Math.abs;function Vb(n){return(n>0)-(n<0)||+n}function t3(){if(!this.isValid())return this.localeData().invalidDate();var n=P6(this._milliseconds)/1e3,e=P6(this._days),t=P6(this._months),i,r,s,o,a=this.asSeconds(),l,u,c,d;return a?(i=_c(n/60),r=_c(i/60),n%=60,i%=60,s=_c(t/12),t%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Vb(this._months)!==Vb(a)?"-":"",c=Vb(this._days)!==Vb(a)?"-":"",d=Vb(this._milliseconds)!==Vb(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(t?u+t+"M":"")+(e?c+e+"D":"")+(r||i||n?"T":"")+(r?d+r+"H":"")+(i?d+i+"M":"")+(n?d+o+"S":"")):"P0D"}var zi=JP.prototype;zi.isValid=n3t;zi.abs=O5t;zi.add=P5t;zi.subtract=F5t;zi.as=$5t;zi.asMilliseconds=W5t;zi.asSeconds=H5t;zi.asMinutes=z5t;zi.asHours=U5t;zi.asDays=j5t;zi.asWeeks=K5t;zi.asMonths=G5t;zi.asQuarters=q5t;zi.asYears=Y5t;zi.valueOf=V5t;zi._bubble=B5t;zi.clone=X5t;zi.get=Z5t;zi.milliseconds=Q5t;zi.seconds=J5t;zi.minutes=eFt;zi.hours=tFt;zi.days=nFt;zi.weeks=sFt;zi.months=iFt;zi.years=rFt;zi.humanize=cFt;zi.toISOString=t3;zi.toString=t3;zi.toJSON=t3;zi.locale=GCe;zi.localeData=YCe;zi.toIsoString=Kc("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",t3);zi.lang=qCe;hn("X",0,0,"unix");hn("x",0,0,"valueOf");qt("x",YP);qt("X",A4t);Ir("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});Ir("x",function(n,e,t){t._d=new Date(gi(n))});//! moment.js
Ut.version="2.29.1";h4t(is);Ut.fn=Tt;Ut.min=QPt;Ut.max=JPt;Ut.now=e3t;Ut.utc=Lf;Ut.unix=I5t;Ut.months=N5t;Ut.isDate=AD;Ut.locale=Mm;Ut.invalid=UP;Ut.duration=Qd;Ut.isMoment=Hd;Ut.weekdays=M5t;Ut.parseZone=T5t;Ut.localeData=up;Ut.isDuration=qx;Ut.monthsShort=x5t;Ut.weekdaysMin=R5t;Ut.defineLocale=kq;Ut.updateLocale=TPt;Ut.locales=NPt;Ut.weekdaysShort=A5t;Ut.normalizeUnits=Gc;Ut.relativeTimeRounding=lFt;Ut.relativeTimeThreshold=uFt;Ut.calendarFormat=k3t;Ut.prototype=Tt;Ut.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var oye={exports:{}},dy=typeof Reflect=="object"?Reflect:null,Yoe=dy&&typeof dy.apply=="function"?dy.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},Xx;dy&&typeof dy.ownKeys=="function"?Xx=dy.ownKeys:Object.getOwnPropertySymbols?Xx=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Xx=function(e){return Object.getOwnPropertyNames(e)};function dFt(n){console&&console.warn&&console.warn(n)}var aye=Number.isNaN||function(e){return e!==e};function kr(){kr.init.call(this)}oye.exports=kr;oye.exports.once=pFt;kr.EventEmitter=kr;kr.prototype._events=void 0;kr.prototype._eventsCount=0;kr.prototype._maxListeners=void 0;var Xoe=10;function n3(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(kr,"defaultMaxListeners",{enumerable:!0,get:function(){return Xoe},set:function(n){if(typeof n!="number"||n<0||aye(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");Xoe=n}});kr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};kr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||aye(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function lye(n){return n._maxListeners===void 0?kr.defaultMaxListeners:n._maxListeners}kr.prototype.getMaxListeners=function(){return lye(this)};kr.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r=e==="error",s=this._events;if(s!==void 0)r=r&&s.error===void 0;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")Yoe(l,this,t);else for(var u=l.length,c=fye(l,u),i=0;i<u;++i)Yoe(c[i],this,t);return!0};function uye(n,e,t,i){var r,s,o;if(n3(t),s=n._events,s===void 0?(s=n._events=Object.create(null),n._eventsCount=0):(s.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),s=n._events),o=s[e]),o===void 0)o=s[e]=t,++n._eventsCount;else if(typeof o=="function"?o=s[e]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),r=lye(n),r>0&&o.length>r&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=e,a.count=o.length,dFt(a)}return n}kr.prototype.addListener=function(e,t){return uye(this,e,t,!1)};kr.prototype.on=kr.prototype.addListener;kr.prototype.prependListener=function(e,t){return uye(this,e,t,!0)};function hFt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cye(n,e,t){var i={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},r=hFt.bind(i);return r.listener=t,i.wrapFn=r,r}kr.prototype.once=function(e,t){return n3(t),this.on(e,cye(this,e,t)),this};kr.prototype.prependOnceListener=function(e,t){return n3(t),this.prependListener(e,cye(this,e,t)),this};kr.prototype.removeListener=function(e,t){var i,r,s,o,a;if(n3(t),r=this._events,r===void 0)return this;if(i=r[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():fFt(i,s),i.length===1&&(r[e]=i[0]),r.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};kr.prototype.off=kr.prototype.removeListener;kr.prototype.removeAllListeners=function(e){var t,i,r;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(r=0;r<s.length;++r)o=s[r],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function dye(n,e,t){var i=n._events;if(i===void 0)return[];var r=i[e];return r===void 0?[]:typeof r=="function"?t?[r.listener||r]:[r]:t?gFt(r):fye(r,r.length)}kr.prototype.listeners=function(e){return dye(this,e,!0)};kr.prototype.rawListeners=function(e){return dye(this,e,!1)};kr.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):hye.call(n,e)};kr.prototype.listenerCount=hye;function hye(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}kr.prototype.eventNames=function(){return this._eventsCount>0?Xx(this._events):[]};function fye(n,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=n[i];return t}function fFt(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function gFt(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function pFt(n,e){return new Promise(function(t,i){function r(o){n.removeListener(e,s),i(o)}function s(){typeof n.removeListener=="function"&&n.removeListener("error",r),t([].slice.call(arguments))}gye(n,e,s,{once:!0}),e!=="error"&&mFt(n,r,{once:!0})})}function mFt(n,e,t){typeof n.on=="function"&&gye(n,"error",e,t)}function gye(n,e,t,i){if(typeof n.on=="function")i.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function r(s){i.once&&n.removeEventListener(e,r),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var vFt="function",_Ft="object",bFt="string",CFt="number",yFt="undefined",wFt=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],j0=1e-7,pN={cm:function(n){return n*96/2.54},mm:function(n){return n*96/254},in:function(n){return n*96},pt:function(n){return n*96/72},pc:function(n){return n*96/6},"%":function(n,e){return n*e/100},vw:function(n,e){return e===void 0&&(e=window.innerWidth),n/100*e},vh:function(n,e){return e===void 0&&(e=window.innerHeight),n/100*e},vmax:function(n,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),n/100*e},vmin:function(n,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),n/100*e}};function SFt(n,e,t,i){return(n*i+e*t)/(t+i)}function FD(n){return typeof n===yFt}function cf(n){return n&&typeof n===_Ft}function Y1(n){return Array.isArray(n)}function zd(n){return typeof n===bFt}function LFt(n){return typeof n===CFt}function pye(n){return typeof n===vFt}function kFt(n,e){var t=n===""||n==" ",i=e===""||e==" ";return i&&t||n===e}function mye(n,e,t,i,r){var s=Rq(n,e,t);return s?t:EFt(n,e,t+1,i,r)}function Rq(n,e,t){if(!n.ignore)return null;var i=e.slice(Math.max(t-3,0),t+3).join("");return new RegExp(n.ignore).exec(i)}function EFt(n,e,t,i,r){for(var s=function(u){var c=e[u].trim();if(c===n.close&&!Rq(n,e,u))return{value:u};var d=u,h=HR(r,function(f){var g=f.open;return g===c});if(h&&(d=mye(h,e,u,i,r)),d===-1)return o=u,"break";u=d,o=u},o,a=t;a<i;++a){var l=s(a);if(a=o,typeof l=="object")return l.value;if(l==="break")break}return-1}function vye(n,e){var t=zd(e)?{separator:e}:e,i=t.separator,r=i===void 0?",":i,s=t.isSeparateFirst,o=t.isSeparateOnlyOpenClose,a=t.isSeparateOpenClose,l=a===void 0?o:a,u=t.openCloseCharacters,c=u===void 0?wFt:u,d=c.map(function(E){var I=E.open,T=E.close;return I===T?I:I+"|"+T}).join("|"),h="(\\s*"+r+"\\s*|"+d+"|\\s+)",f=new RegExp(h,"g"),g=n.split(f).filter(Boolean),p=g.length,m=[],b=[];function _(){return b.length?(m.push(b.join("")),b=[],!0):!1}for(var C=function(E){var I=g[E].trim(),T=E,M=HR(c,function(O){var F=O.open;return F===I}),A=HR(c,function(O){var F=O.close;return F===I});if(M){if(T=mye(M,g,E,p,c),T!==-1&&l)return _()&&s||(m.push(g.slice(E,T+1).join("")),E=T,s)?(w=E,"break"):(w=E,"continue")}else{if(A&&!Rq(A,g,E))throw new Error("invalid format: "+A.close);if(kFt(I,r)&&!o)return _(),s?(w=E,"break"):(w=E,"continue")}T===-1&&(T=p-1),b.push(g.slice(E,T+1).join("")),E=T,w=E},w,S=0;S<p;++S){var D=C(S);if(S=w,D==="break")break}return b.length&&m.push(b.join("")),m}function mv(n){return vye(n,"")}function K0(n){return vye(n,",")}function Oq(n){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(n);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function BD(n){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(n);if(!e)return{prefix:"",unit:"",value:NaN};var t=e[1],i=e[2],r=e[3];return{prefix:t,unit:r,value:parseFloat(i)}}function _ye(n){return n.replace(/[\s-_]([a-z])/g,function(e,t){return t.toUpperCase()})}function F6(n,e){return e===void 0&&(e="-"),n.replace(/([a-z])([A-Z])/g,function(t,i,r){return""+i+e+r.toLowerCase()})}function QW(){return Date.now?Date.now():new Date().getTime()}function Wc(n,e,t){t===void 0&&(t=-1);for(var i=n.length,r=0;r<i;++r)if(e(n[r],r,n))return r;return t}function HR(n,e,t){var i=Wc(n,e);return i>-1?n[i]:t}function bye(n){if(Object.keys)return Object.keys(n);var e=[];for(var t in e)e.push(t);return e}function Js(n,e){var t=BD(n),i=t.value,r=t.unit;if(cf(e)){var s=e[r];if(s){if(pye(s))return s(i);if(pN[r])return pN[r](i,s)}}else if(r==="%")return i*e/100;return pN[r]?pN[r](i):i}function DFt(n,e,t){return Math.max(e,Math.min(n,t))}function Zoe(n,e,t){return[[G0(e[0],j0),G0(e[0]*n[1]/n[0],j0)],[G0(e[1]*n[0]/n[1],j0),G0(e[1],j0)]].filter(function(i){return i.every(function(r,s){return t?r<=e[s]:r>=e[s]})})[0]||n}function IFt(n,e,t,i){if(!i)return n.map(function(h,f){return DFt(h,e[f],t[f])});var r=n[0],s=n[1],o=Zoe(n,e,!1),a=o[0],l=o[1],u=Zoe(n,t,!0),c=u[0],d=u[1];return r<a||s<l?(r=a,s=l):(r>c||s>d)&&(r=c,s=d),[r,s]}function TFt(n){for(var e=n.length,t=0,i=e-1;i>=0;--i)t+=n[i];return t}function AE(n){for(var e=n.length,t=0,i=e-1;i>=0;--i)t+=n[i];return e?t/e:0}function ns(n,e){var t=e[0]-n[0],i=e[1]-n[1],r=Math.atan2(i,t);return r>=0?r:r+Math.PI*2}function NFt(n){return[0,1].map(function(e){return AE(n.map(function(t){return t[e]}))})}function JW(n){var e=NFt(n),t=ns(e,n[0]),i=ns(e,n[1]);return t<i&&i-t<Math.PI||t>i&&i-t<-Math.PI?1:-1}function yg(n,e){return Math.sqrt(Math.pow((e?e[0]:0)-n[0],2)+Math.pow((e?e[1]:0)-n[1],2))}function G0(n,e){return e?Math.round(n/e)*e:n}function Dc(n,e){return n.classList?n.classList.contains(e):!!n.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Cye(n,e){n.classList?n.classList.add(e):n.className+=" "+e}function yye(n,e){if(n.classList)n.classList.remove(e);else{var t=new RegExp("(\\s|^)"+e+"(\\s|$)");n.className=n.className.replace(t," ")}}function ah(n,e,t,i){n.addEventListener(e,t,i)}function lc(n,e,t,i){n.removeEventListener(e,t,i)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eH=function(){return eH=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},eH.apply(this,arguments)};function xFt(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var MFt=function(){function n(){this._events={}}var e=n.prototype;return e.on=function(t,i){if(cf(t))for(var r in t)this.on(r,t[r]);else this._addEvent(t,i,{});return this},e.off=function(t,i){if(!t)this._events={};else if(cf(t))for(var r in t)this.off(r);else if(!i)this._events[t]=[];else{var s=this._events[t];if(s){var o=Wc(s,function(a){return a.listener===i});o>-1&&s.splice(o,1)}}return this},e.once=function(t,i){var r=this;return i&&this._addEvent(t,i,{once:!0}),new Promise(function(s){r._addEvent(t,s,{once:!0})})},e.emit=function(t,i){var r=this;i===void 0&&(i={});var s=this._events[t];if(!t||!s)return!0;var o=!1;return i.eventType=t,i.stop=function(){o=!0},i.currentTarget=this,xFt(s).forEach(function(a){a.listener(i),a.once&&r.off(t,a.listener)}),!o},e.trigger=function(t,i){return i===void 0&&(i={}),this.emit(t,i)},e._addEvent=function(t,i,r){var s=this._events;s[t]=s[t]||[];var o=s[t];o.push(eH({listener:i},r))},n}(),wye=MFt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var tH=function(n,e){return tH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},tH(n,e)};function AFt(n,e){tH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var hh=function(){return hh=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},hh.apply(this,arguments)};function RFt(n,e){var t=e[0]-n[0],i=e[1]-n[1],r=Math.atan2(i,t);return r>=0?r:r+Math.PI*2}function B6(n){return RFt([n[0].clientX,n[0].clientY],[n[1].clientX,n[1].clientY])/Math.PI*180}function OFt(n){return n.touches&&n.touches.length>=2}function $6(n){return n.touches?PFt(n.touches):[Sye(n)]}function Qoe(n,e,t){var i=t.length,r=SL(n,i),s=r.clientX,o=r.clientY,a=r.originalClientX,l=r.originalClientY,u=SL(e,i),c=u.clientX,d=u.clientY,h=SL(t,i),f=h.clientX,g=h.clientY,p=s-c,m=o-d,b=s-f,_=o-g;return{clientX:a,clientY:l,deltaX:p,deltaY:m,distX:b,distY:_}}function V6(n){return Math.sqrt(Math.pow(n[0].clientX-n[1].clientX,2)+Math.pow(n[0].clientY-n[1].clientY,2))}function PFt(n){for(var e=Math.min(n.length,2),t=[],i=0;i<e;++i)t.push(Sye(n[i]));return t}function Sye(n){return{clientX:n.clientX,clientY:n.clientY}}function SL(n,e){e===void 0&&(e=n.length);for(var t={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=0;i<e;++i){var r=n[i];t.originalClientX+="originalClientX"in r?r.originalClientX:r.clientX,t.originalClientY+="originalClientY"in r?r.originalClientY:r.clientY,t.clientX+=r.clientX,t.clientY+=r.clientY}return e?{clientX:t.clientX/e,clientY:t.clientY/e,originalClientX:t.originalClientX/e,originalClientY:t.originalClientY/e}:t}var Joe=function(){function n(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}var e=n.prototype;return e.addClients=function(t){t===void 0&&(t=this.prevClients);var i=this.getPosition(t),r=i.deltaX,s=i.deltaY;return this.movement+=Math.sqrt(r*r+s*s),this.prevClients=t,i},e.getAngle=function(t){return t===void 0&&(t=this.prevClients),B6(t)},e.getRotation=function(t){return t===void 0&&(t=this.prevClients),B6(t)-B6(this.startClients)},e.getPosition=function(t){return Qoe(t||this.prevClients,this.prevClients,this.startClients)},e.getPositions=function(t){t===void 0&&(t=this.prevClients);var i=this.prevClients;return this.startClients.map(function(r,s){return Qoe([t[s]],[i[s]],[r])})},e.getMovement=function(t){var i=this.movement;if(!t)return i;var r=SL(t,this.length),s=SL(this.prevClients,this.length),o=r.clientX-s.clientX,a=r.clientY-s.clientY;return Math.sqrt(o*o+a*a)+i},e.getDistance=function(t){return t===void 0&&(t=this.prevClients),V6(t)},e.getScale=function(t){return t===void 0&&(t=this.prevClients),V6(t)/V6(this.startClients)},e.move=function(t,i){this.startClients.forEach(function(r){r.clientX-=t,r.clientY-=i}),this.prevClients.forEach(function(r){r.clientX-=t,r.clientY-=i})},n}(),eae=["textarea","input"],FFt=function(n){AFt(e,n);function e(i,r){r===void 0&&(r={});var s=n.call(this)||this;s.options={},s.flag=!1,s.pinchFlag=!1,s.datas={},s.isDrag=!1,s.isPinch=!1,s.isMouse=!1,s.isTouch=!1,s.clientStores=[],s.targets=[],s.prevTime=0,s.doubleFlag=!1,s.onDragStart=function(h,f){if(f===void 0&&(f=!0),!(!s.flag&&h.cancelable===!1)){var g=s.options,p=g.container,m=g.pinchOutside,b=g.preventRightClick,_=g.preventDefault,C=g.checkInput,w=s.isTouch,S=!s.flag;if(S){var D=document.activeElement,E=h.target,I=E.tagName.toLowerCase(),T=eae.indexOf(I)>-1,M=E.isContentEditable;if(T||M){if(C||D===E||D&&M&&D.isContentEditable&&D.contains(E))return!1}else if((_||h.type==="touchstart")&&D){var A=D.tagName;(D.isContentEditable||eae.indexOf(A)>-1)&&D.blur()}if(s.clientStores=[new Joe($6(h))],s.flag=!0,s.isDrag=!1,s.datas={},b&&(h.which===3||h.button===2))return s.initDrag(),!1;s.doubleFlag=QW()-s.prevTime<200;var O=s.emit("dragStart",hh({datas:s.datas,inputEvent:h,isTrusted:f,isDouble:s.doubleFlag},s.getCurrentStore().getPosition()));O===!1&&s.initDrag(),s.flag&&_&&h.preventDefault()}if(!s.flag)return!1;var F=0;if(S&&w&&m&&(F=setTimeout(function(){ah(p,"touchstart",s.onDragStart,{passive:!1})})),!S&&w&&m&&lc(p,"touchstart",s.onDragStart),s.flag&&OFt(h)){if(clearTimeout(F),S&&h.touches.length!==h.changedTouches.length)return;s.pinchFlag||s.onPinchStart(h)}}},s.onDrag=function(h,f){if(!!s.flag){var g=$6(h),p=s.moveClients(g,h,!1);if(s.pinchFlag||p.deltaX||p.deltaY){var m=s.emit("drag",hh({},p,{isScroll:!!f,inputEvent:h}));if(m===!1){s.stop();return}}s.pinchFlag&&s.onPinch(h,g),s.getCurrentStore().addClients(g)}},s.onDragEnd=function(h){if(!!s.flag){var f=s.options,g=f.pinchOutside,p=f.container;s.isTouch&&g&&lc(p,"touchstart",s.onDragStart),s.flag=!1;var m=s.getCurrentStore().getPosition(),b=QW(),_=!s.isDrag&&s.doubleFlag;s.prevTime=s.isDrag||_?0:b,s.emit("dragEnd",hh({datas:s.datas,isDouble:_,isDrag:s.isDrag,isClick:!s.isDrag,inputEvent:h},m)),s.pinchFlag&&s.onPinchEnd(h),s.clientStores=[]}},s.onBlur=function(){s.onDragEnd()};var o=[].concat(i);s.options=hh({checkInput:!1,container:o.length>1?window:o[0],preventRightClick:!0,preventDefault:!0,checkWindowBlur:!1,pinchThreshold:0,events:["touch","mouse"]},r);var a=s.options,l=a.container,u=a.events,c=a.checkWindowBlur;if(s.isTouch=u.indexOf("touch")>-1,s.isMouse=u.indexOf("mouse")>-1,s.targets=o,s.isMouse&&(o.forEach(function(h){ah(h,"mousedown",s.onDragStart)}),ah(l,"mousemove",s.onDrag),ah(l,"mouseup",s.onDragEnd),ah(l,"contextmenu",s.onDragEnd)),c&&ah(window,"blur",s.onBlur),s.isTouch){var d={passive:!1};o.forEach(function(h){ah(h,"touchstart",s.onDragStart,d)}),ah(l,"touchmove",s.onDrag,d),ah(l,"touchend",s.onDragEnd,d),ah(l,"touchcancel",s.onDragEnd,d)}return s}var t=e.prototype;return t.stop=function(){this.isDrag=!1,this.flag=!1,this.clientStores=[],this.datas={}},t.getMovement=function(i){return this.getCurrentStore().getMovement(i)+this.clientStores.slice(1).reduce(function(r,s){return r+s.movement},0)},t.isDragging=function(){return this.isDrag},t.isFlag=function(){return this.flag},t.isPinchFlag=function(){return this.pinchFlag},t.isDoubleFlag=function(){return this.doubleFlag},t.isPinching=function(){return this.isPinch},t.scrollBy=function(i,r,s,o){o===void 0&&(o=!0),!!this.flag&&(this.clientStores[0].move(i,r),o&&this.onDrag(s,!0))},t.move=function(i,r){var s=i[0],o=i[1],a=this.getCurrentStore(),l=a.prevClients;return this.moveClients(l.map(function(u){var c=u.clientX,d=u.clientY;return{clientX:c+s,clientY:d+o,originalClientX:c,originalClientY:d}}),r,!0)},t.triggerDragStart=function(i){this.onDragStart(i,!1)},t.setEventDatas=function(i){var r=this.datas;for(var s in i)r[s]=i[s];return this},t.getEventDatas=function(){return this.datas},t.unset=function(){var i=this,r=this.targets,s=this.options.container;this.off(),lc(window,"blur",this.onBlur),this.isMouse&&(r.forEach(function(o){lc(o,"mousedown",i.onDragStart)}),lc(s,"mousemove",this.onDrag),lc(s,"mouseup",this.onDragEnd),lc(s,"contextmenu",this.onDragEnd)),this.isTouch&&(r.forEach(function(o){lc(o,"touchstart",i.onDragStart)}),lc(s,"touchstart",this.onDragStart),lc(s,"touchmove",this.onDrag),lc(s,"touchend",this.onDragEnd),lc(s,"touchcancel",this.onDragEnd))},t.onPinchStart=function(i){var r=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>r)){var s=new Joe($6(i));this.pinchFlag=!0,this.clientStores.splice(0,0,s);var o=this.emit("pinchStart",hh({datas:this.datas,angle:s.getAngle(),touches:this.getCurrentStore().getPositions()},s.getPosition(),{inputEvent:i}));o===!1&&(this.pinchFlag=!1)}},t.onPinch=function(i,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var s=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",hh({datas:this.datas,movement:this.getMovement(r),angle:s.getAngle(r),rotation:s.getRotation(r),touches:s.getPositions(r),scale:s.getScale(r),distance:s.getDistance(r)},s.getPosition(r),{inputEvent:i}))}},t.onPinchEnd=function(i){if(!!this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var s=this.getCurrentStore();this.emit("pinchEnd",hh({datas:this.datas,isPinch:r,touches:s.getPositions()},s.getPosition(),{inputEvent:i})),this.isPinch=!1,this.pinchFlag=!1}},t.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},t.getCurrentStore=function(){return this.clientStores[0]},t.moveClients=function(i,r,s){var o=this.getCurrentStore(),a=o[s?"addClients":"getPosition"](i);return this.isDrag=!0,hh({datas:this.datas},a,{movement:this.getMovement(i),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},e}(wye),Lye=FFt;function kye(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.map(function(i){return i.split(" ").map(function(r){return r?""+n+r:""}).join(" ")}).join(" ")}function Eye(n,e){return e.replace(/([^}{]*){/gm,function(t,i){return i.replace(/\.([^{,\s\d.]+)/g,"."+n+"$1")+"{"})}function Eo(n,e){return function(t){t&&(n[e]=t)}}function Pq(n,e,t){return function(i){i&&(n[e][t]=i)}}function zR(n,e){return function(t){var i=t.prototype;n.forEach(function(r){e(i,r)})}}function BFt(n,e){return e===void 0&&(e={}),function(t,i){n.forEach(function(r){var s=e[r]||r;s in t||(t[s]=function(){for(var o,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var u=(o=this[i])[r].apply(o,a);return u===this[i]?this:u})})}}var $Ft=function(){function n(){this.keys=[],this.values=[]}var e=n.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,i){var r=this.keys,s=this.values,o=r.indexOf(t),a=o===-1?r.length:o;r[a]=t,s[a]=i},n}(),VFt=function(){function n(){this.object={}}var e=n.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,i){this.object[t]=i},n}(),WFt=typeof Map=="function",HFt=function(){function n(){}var e=n.prototype;return e.connect=function(t,i){this.prev=t,this.next=i,t&&(t.next=this),i&&(i.prev=this)},e.disconnect=function(){var t=this.prev,i=this.next;t&&(t.next=i),i&&(i.prev=t)},e.getIndex=function(){for(var t=this,i=-1;t;)t=t.prev,++i;return i},n}();function zFt(n,e){var t=[],i=[];return n.forEach(function(r){var s=r[0],o=r[1],a=new HFt;t[s]=a,i[o]=a}),t.forEach(function(r,s){r.connect(t[s-1])}),n.filter(function(r,s){return!e[s]}).map(function(r,s){var o=r[0],a=r[1];if(o===a)return[0,0];var l=t[o],u=i[a-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,t[0]);var d=l.getIndex();return[c,d]})}var UFt=function(){function n(t,i,r,s,o,a,l,u){this.prevList=t,this.list=i,this.added=r,this.removed=s,this.changed=o,this.maintained=a,this.changedBeforeAdded=l,this.fixed=u}var e=n.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=zFt(this.changedBeforeAdded,this.fixed),i=this.changed,r=[];this.cacheOrdered=t.filter(function(s,o){var a=s[0],l=s[1],u=i[o],c=u[0],d=u[1];if(a!==l)return r.push([c,d]),!0}),this.cachePureChanged=r},n}();function i3(n,e,t){var i=WFt?Map:t?VFt:$Ft,r=t||function(_){return _},s=[],o=[],a=[],l=n.map(r),u=e.map(r),c=new i,d=new i,h=[],f=[],g={},p=[],m=0,b=0;return l.forEach(function(_,C){c.set(_,C)}),u.forEach(function(_,C){d.set(_,C)}),l.forEach(function(_,C){var w=d.get(_);typeof w=="undefined"?(++b,o.push(C)):g[w]=b}),u.forEach(function(_,C){var w=c.get(_);typeof w=="undefined"?(s.push(C),++m):(a.push([w,C]),b=g[C]||0,h.push([w-b,C-m]),f.push(C===w),w!==C&&p.push([w,C]))}),o.reverse(),new UFt(n,e,s,o,p,a,h,f)}var jFt=function(){function n(t,i){t===void 0&&(t=[]),this.findKeyCallback=i,this.list=[].slice.call(t)}var e=n.prototype;return e.update=function(t){var i=[].slice.call(t),r=i3(this.list,i,this.findKeyCallback);return this.list=i,r},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var nH=function(n,e){return nH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},nH(n,e)};function X1(n,e){nH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var cm=function(){return cm=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cm.apply(this,arguments)};function Dye(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function KFt(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function iH(n,e){if(n===e)return!1;for(var t in n)if(!(t in e))return!0;for(var t in e)if(n[t]!==e[t])return!0;return!1}function Fq(n,e){var t=Object.keys(n),i=Object.keys(e),r=i3(t,i,function(l){return l}),s={},o={},a={};return r.added.forEach(function(l){var u=i[l];s[u]=e[u]}),r.removed.forEach(function(l){var u=t[l];o[u]=n[u]}),r.maintained.forEach(function(l){var u=l[0],c=t[u],d=[n[c],e[c]];n[c]!==e[c]&&(a[c]=d)}),{added:s,removed:o,changed:a}}function Iye(n){n.forEach(function(e){e()})}function tae(n){var e=0;return n.map(function(t){return t==null?"$compat"+ ++e:""+t})}function nae(n,e,t,i){if(zd(n)||LFt(n))return new XFt("text_"+n,e,t,i,null,{});var r=typeof n.type=="string"?ZFt:n.type.prototype.render?JFt:QFt;return new r(n.type,e,t,i,n.ref,n.props)}function Tye(n){var e=[];return n.forEach(function(t){e=e.concat(Y1(t)?Tye(t):t)}),e}function iae(n){var e=n.className,t=Dye(n,["className"]);return e!=null&&(t.class=e),delete t.style,delete t.children,t}function W6(n,e){if(!e)return n;for(var t in e)FD(n[t])&&(n[t]=e[t]);return n}function Ns(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=e||{},s=r.key,o=r.ref,a=Dye(r,["key","ref"]);return{type:n,key:s,ref:o,props:cm(cm({},a),{children:Tye(t).filter(function(l){return l!=null&&l!==!1})})}}var $D=function(){function n(t,i,r,s,o,a){a===void 0&&(a={}),this.type=t,this.key=i,this.index=r,this.container=s,this.ref=o,this.props=a,this._providers=[]}var e=n.prototype;return e._should=function(t,i){return!0},e._update=function(t,i,r,s){if(this.base&&!zd(i)&&!s&&!this._should(i.props,r))return!1;this.original=i,this._setState(r);var o=this.props;return zd(i)||(this.props=i.props,this.ref=i.ref),this._render(t,this.base?o:{},r),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},n}();function GFt(n,e,t){var i=Fq(n,e),r=i.added,s=i.removed,o=i.changed;for(var a in r)t.setAttribute(a,r[a]);for(var a in o)t.setAttribute(a,o[a][1]);for(var a in s)t.removeAttribute(a)}function qFt(n,e,t){var i=Fq(n,e),r=i.added,s=i.removed,o=i.changed;for(var a in s)t.removeEventListener(a);for(var a in r)t.addEventListener(a,r[a]);for(var a in o)t.removeEventListener(a),t.addEventListener(a,o[a][1]);for(var a in s)t.removeEventListener(a)}function YFt(n,e,t){var i=t.style,r=Fq(n,e),s=r.added,o=r.removed,a=r.changed;for(var l in s){var u=F6(l,"-");i.setProperty?i.setProperty(u,s[l]):i[u]=s[l]}for(var l in a){var u=F6(l,"-");i.setProperty?i.setProperty(u,a[l][1]):i[u]=a[l][1]}for(var l in o){var u=F6(l,"-");i.removeProperty?i.removeProperty(u):i[u]=""}}function rae(n){var e={},t={};for(var i in n)i.indexOf("on")===0?t[i.replace("on","").toLowerCase()]=n[i]:e[i]=n[i];return{attributes:e,events:t}}var XFt=function(n){X1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t._render=function(i){var r=this,s=!this.base;return s&&(this.base=document.createTextNode(this.type.replace("text_",""))),i.push(function(){s?r._mounted():r._updated()}),!0},t._unmount=function(){this.base.parentNode.removeChild(this.base)},e}($D),ZFt=function(n){X1(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.events={},i._isSVG=!1,i}var t=e.prototype;return t.addEventListener=function(i,r){var s=this.events;s[i]=function(o){o.nativeEvent=o,r(o)},this.base.addEventListener(i,s[i])},t.removeEventListener=function(i){var r=this.events;this.base.removeEventListener(i,r[i]),delete r[i]},t._should=function(i){return iH(this.props,i)},t._render=function(i,r){var s=this,o=!this.base;if(o){var a=this._hasSVG();this._isSVG=a;var l=this.props.portalContainer;if(!l){var u=this.type;a?l=document.createElementNS("http://www.w3.org/2000/svg",u):l=document.createElement(u)}this.base=l}WD(this,this._providers,this.props.children,i,null);var c=this.base,d=rae(r),h=d.attributes,f=d.events,g=rae(this.props),p=g.attributes,m=g.events;return GFt(iae(h),iae(p),c),qFt(f,m,this),YFt(r.style||{},this.props.style||{},c),i.push(function(){o?s._mounted():s._updated()}),!0},t._unmount=function(){var i=this.events,r=this.base;for(var s in i)r.removeEventListener(s,i[s]);this._providers.forEach(function(o){o._unmount()}),this.events={},this.props.portalContainer||r.parentNode.removeChild(r)},t._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var i=Bq(this.container);return i&&"ownerSVGElement"in i},e}($D);function Bq(n){if(!n)return null;var e=n.base;return e instanceof Node?e:Bq(n.container)}function RE(n){if(!n)return null;if(n instanceof Node)return n;var e=n.$_provider._providers;return e.length?RE(e[0].base):null}var QFt=function(n){X1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t._render=function(i){var r=this.type(this.props);return WD(this,this._providers,r?[r]:[],i),!0},t._unmount=function(){this._providers.forEach(function(i){i._unmount()})},e}($D),Nye=function(n){X1(e,n);function e(i){var r=n.call(this,"container","container",0,null)||this;return r.base=i,r}var t=e.prototype;return t._render=function(){return!0},t._unmount=function(){},e}($D),JFt=function(n){X1(e,n);function e(i,r,s,o,a,l){return l===void 0&&(l={}),n.call(this,i,r,s,o,a,W6(l,i.defaultProps))||this}var t=e.prototype;return t._should=function(i,r){return this.base.shouldComponentUpdate(W6(i,this.type.defaultProps),r||this.base.state)},t._render=function(i,r,s){var o=this;this.props=W6(this.props,this.type.defaultProps);var a=!this.base;a?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var l=this.base,u=l.state,c=l.render();c&&c.props&&!c.props.children.length&&(c.props.children=this.props.children),WD(this,this._providers,c?[c]:[],i,s,null),i.push(function(){a?(o._mounted(),l.componentDidMount()):(o._updated(),l.componentDidUpdate(r,u))})},t._setState=function(i){var r=this.base;!r||!i||(r.state=i)},t._unmount=function(){this._providers.forEach(function(i){i._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},e}($D),r3=function(){function n(t){t===void 0&&(t={}),this.props=t,this.state={},this.$_timer=0,this.$_state={}}var e=n.prototype;return e.shouldComponentUpdate=function(t,i){return!0},e.render=function(){return null},e.setState=function(t,i,r){var s=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=cm(cm({},this.$_state),t),r?this.$_setState(i,r):this.$_timer=setTimeout(function(){s.$_timer=0,s.$_setState(i,r)})},e.forceUpdate=function(t){this.setState({},t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,i){},e.componentWillUnmount=function(){},e.$_setState=function(t,i){var r=[],s=this.$_provider,o=WD(s.container,[s],[s.original],r,cm(cm({},this.state),this.$_state),i);o&&(t&&r.push(t),Iye(r))},n}(),VD=function(n){X1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.shouldComponentUpdate=function(i,r){return iH(this.props,i)||iH(this.state,r)},e}(r3),e8t=function(n){X1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}var t=e.prototype;return t.componentDidMount=function(){var i=this.props,r=i.element,s=i.container;this._portalProvider=new Nye(s),Zx(r,s,this._portalProvider)},t.componentDidUpdate=function(){var i=this.props,r=i.element,s=i.container;Zx(r,s,this._portalProvider)},t.componentWillUnmount=function(){var i=this.props.container;Zx(null,i,this._portalProvider),this._portalProvider=null},e}(VD);function t8t(n,e,t){var i=[];WD(n,n._providers,e,i,t),Iye(i)}function n8t(n,e){for(var t=n._providers,i=t.length,r=e.index+1;r<i;++r){var s=RE(t[r].base);if(s)return s}return null}function i8t(n,e,t){var i=t.map(function(l){return zd(l)?null:l.key}),r=tae(e.map(function(l){return l.key})),s=tae(i),o=i3(r,s,function(l){return l});o.removed.forEach(function(l){e.splice(l,1)[0]._unmount()}),o.ordered.forEach(function(l){var u=l[0],c=l[1],d=e.splice(u,1)[0];e.splice(c,0,d);var h=RE(d.base),f=RE(e[c+1]&&e[c+1].base);h&&h.parentNode.insertBefore(h,f)}),o.added.forEach(function(l){e.splice(l,0,nae(t[l],i[l],l,n))});var a=o.maintained.filter(function(l){l[0];var u=l[1],c=t[u],d=e[u],h=zd(c)?"text_"+c:c.type;return h!==d.type?(d._unmount(),e.splice(u,1,nae(c,i[u],u,n)),!0):(d.index=u,!1)});return KFt(o.added,a.map(function(l){l[0];var u=l[1];return u}))}function WD(n,e,t,i,r,s){var o=i8t(n,e,t),a=e.filter(function(u,c){return u._update(i,t[c],r,s)}),l=Bq(n);return l&&o.reverse().forEach(function(u){var c=e[u],d=RE(c.base);if(!!d&&l!==d&&!d.parentNode){var h=n8t(n,c);l.insertBefore(d,h)}}),a.length>0}function Zx(n,e,t){t===void 0&&(t=e.__REACT_COMPAT__);var i=!!t;return t||(t=new Nye(e)),t8t(t,n?[n]:[]),i||(e.__REACT_COMPAT__=t),t}function UR(n,e,t){var i=e.__REACT_COMPAT__;n&&!i&&(e.innerHTML=""),Zx(n,e,i),t&&t()}function xye(n,e){return Ns(e8t,{element:n,container:e})}var r8t="simple-1.1.0";function $q(n,e){for(var t=n.length,i=0;i<t;++i)if(e(n[i],i))return!0;return!1}function Mye(n,e){for(var t=n.length,i=0;i<t;++i)if(e(n[i],i))return n[i];return null}function s8t(n){var e=n;if(typeof e=="undefined"){if(typeof navigator=="undefined"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function Vq(n,e){try{return new RegExp(n,"g").exec(e)}catch{return null}}function o8t(){if(typeof navigator=="undefined"||!navigator||!navigator.userAgentData)return!1;var n=navigator.userAgentData,e=n.brands||n.uaList;return!!(e&&e.length)}function a8t(n,e){var t=Vq("("+n+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return t?t[3]:""}function rH(n){return n.replace(/_/g,".")}function JS(n,e){var t=null,i="-1";return $q(n,function(r){var s=Vq("("+r.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!s||r.brand?!1:(t=r,i=s[3]||"-1",r.versionAlias?i=r.versionAlias:r.versionTest&&(i=a8t(r.versionTest.toLowerCase(),e)||i),i=rH(i),!0)}),{preset:t,version:i}}function mN(n,e){var t={brand:"",version:"-1"};return $q(n,function(i){var r=Aye(e,i);return r?(t.brand=i.id,t.version=i.versionAlias||r.version,t.version!=="-1"):!1}),t}function Aye(n,e){return Mye(n,function(t){var i=t.brand;return Vq(""+e.test,i.toLowerCase())})}var Rye=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Oye=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],sH=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Pye=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Fye=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function l8t(n){var e=navigator.userAgentData,t=(e.uaList||e.brands).slice(),i=e.mobile||!1,r=t[0],s={name:r.brand,version:r.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!mN(Pye,t).brand},o={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&$q(sH,function(h){return Aye(t,h)});var a=mN(Oye,t);if(s.chromium=!!a.brand,s.chromiumVersion=a.version,!s.chromium){var l=mN(sH,t);s.webkit=!!l.brand,s.webkitVersion=l.version}if(n){var u=n.platform.toLowerCase(),c=Mye(Fye,function(h){return new RegExp(""+h.test,"g").exec(u)});o.name=c?c.id:u,o.version=n.platformVersion}var d=mN(Rye,t);return d.brand&&(s.name=d.brand,s.version=n?n.uaFullVersion:d.version),navigator.platform==="Linux armv8l"?o.name="android":s.webkit&&(o.name=i?"ios":"mac"),o.name==="ios"&&s.webview&&(s.version="-1"),o.version=rH(o.version),s.version=rH(s.version),o.majorVersion=parseInt(o.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:o,isMobile:i,isHints:!0}}function u8t(n){var e=s8t(n),t=!!/mobi/g.exec(e),i={name:"unknown",version:"-1",majorVersion:-1,webview:!!JS(Pye,e).preset,chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},r={name:"unknown",version:"-1",majorVersion:-1},s=JS(Rye,e),o=s.preset,a=s.version,l=JS(Fye,e),u=l.preset,c=l.version,d=JS(Oye,e);if(i.chromium=!!d.preset,i.chromiumVersion=d.version,!i.chromium){var h=JS(sH,e);i.webkit=!!h.preset,i.webkitVersion=h.version}return u&&(r.name=u.id,r.version=c,r.majorVersion=parseInt(c,10)),o&&(i.name=o.id,i.version=a,i.webview&&r.name==="ios"&&i.name!=="safari"&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:r,isMobile:t,isHints:!1}}function c8t(n){return typeof n=="undefined"&&o8t()?l8t():u8t(n)}function d8t(n,e,t,i,r,s){for(var o=0;o<r;++o){var a=t+o*r,l=i+o*r;n[a]+=n[l]*s,e[a]+=e[l]*s}}function h8t(n,e,t,i,r){for(var s=0;s<r;++s){var o=t+s*r,a=i+s*r,l=n[o],u=e[o];n[o]=n[a],n[a]=l,e[o]=e[a],e[a]=u}}function f8t(n,e,t,i,r){for(var s=0;s<i;++s){var o=t+s*i;n[o]/=r,e[o]/=r}}function Bye(n,e,t){t===void 0&&(t=Math.sqrt(n.length));for(var i=n.slice(),r=0;r<t;++r)i[r*t+e-1]=0,i[(e-1)*t+r]=0;return i[(e-1)*(t+1)]=1,i}function Ud(n,e){e===void 0&&(e=Math.sqrt(n.length));for(var t=n.slice(),i=Us(e),r=0;r<e;++r){var s=e*r+r;if(!G0(t[s],j0)){for(var o=r+1;o<e;++o)if(t[e*r+o]){h8t(t,i,r,o,e);break}}if(!G0(t[s],j0))return[];f8t(t,i,r,e,t[s]);for(var o=0;o<e;++o){var a=o,l=o+r*e,u=t[l];!G0(u,j0)||r===o||d8t(t,i,a,r,e,-u)}}return i}function g8t(n,e){e===void 0&&(e=Math.sqrt(n.length));for(var t=[],i=0;i<e;++i)for(var r=0;r<e;++r)t[r*e+i]=n[e*i+r];return t}function p8t(n,e){e===void 0&&(e=Math.sqrt(n.length));for(var t=[],i=n[e*e-1],r=0;r<e-1;++r)t[r]=n[e*(e-1)+r]/i;return t[e-1]=0,t}function m8t(n,e){for(var t=Us(e),i=0;i<e-1;++i)t[e*(e-1)+i]=n[i]||0;return t}function HD(n,e){for(var t=n.slice(),i=n.length;i<e-1;++i)t[i]=0;return t[e-1]=1,t}function vv(n,e,t){if(e===void 0&&(e=Math.sqrt(n.length)),e===t)return n;for(var i=Us(t),r=Math.min(e,t),s=0;s<r-1;++s){for(var o=0;o<r-1;++o)i[s*t+o]=n[s*e+o];i[(s+1)*t-1]=n[(s+1)*e-1],i[(t-1)*t+s]=n[(e-1)*e+s]}return i[t*t-1]=n[e*e-1],i}function oH(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=Us(n);return e.forEach(function(r){i=ts(i,r,n)}),i}function ts(n,e,t){t===void 0&&(t=Math.sqrt(n.length));var i=[],r=n.length/t,s=e.length/r;if(r){if(!s)return n}else return e;for(var o=0;o<t;++o)for(var a=0;a<s;++a){i[a*t+o]=0;for(var l=0;l<r;++l)i[a*t+o]+=n[l*t+o]*e[a*r+l]}return i}function Li(n,e){for(var t=Math.min(n.length,e.length),i=n.slice(),r=0;r<t;++r)i[r]=i[r]+e[r];return i}function ti(n,e){for(var t=Math.min(n.length,e.length),i=n.slice(),r=0;r<t;++r)i[r]=i[r]-e[r];return i}function v8t(n,e){return e===void 0&&(e=n.length===6),e?[n[0],n[1],0,n[2],n[3],0,n[4],n[5],1]:n}function $ye(n,e){return e===void 0&&(e=n.length===9),e?[n[0],n[1],n[3],n[4],n[6],n[7]]:n}function al(n,e,t){t===void 0&&(t=e.length);var i=ts(n,e,t),r=i[t-1];return i.map(function(s){return s/r})}function _8t(n,e){return ts(n,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function b8t(n,e){return ts(n,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function C8t(n,e){return ts(n,Sw(e,4))}function vN(n,e){var t=e[0],i=t===void 0?1:t,r=e[1],s=r===void 0?1:r,o=e[2],a=o===void 0?1:o;return ts(n,[i,0,0,0,0,s,0,0,0,0,a,0,0,0,0,1],4)}function dm(n,e){return al(Sw(e,3),HD(n,3))}function H6(n,e){var t=e[0],i=t===void 0?0:t,r=e[1],s=r===void 0?0:r,o=e[2],a=o===void 0?0:o;return ts(n,[1,0,0,0,0,1,0,0,0,0,1,0,i,s,a,1],4)}function aH(n,e){return ts(n,e,4)}function Sw(n,e){var t=Math.cos(n),i=Math.sin(n),r=Us(e);return r[0]=t,r[1]=i,r[e]=-i,r[e+1]=t,r}function Us(n){for(var e=n*n,t=[],i=0;i<e;++i)t[i]=i%(n+1)?0:1;return t}function Vye(n,e){for(var t=Us(e),i=Math.min(n.length,e-1),r=0;r<i;++r)t[(e+1)*r]=n[r];return t}function OE(n,e){for(var t=Us(e),i=Math.min(n.length,e-1),r=0;r<i;++r)t[e*(e-1)+r]=n[r];return t}function Wq(n,e,t,i,r,s,o,a){var l=n[0],u=n[1],c=e[0],d=e[1],h=t[0],f=t[1],g=i[0],p=i[1],m=r[0],b=r[1],_=s[0],C=s[1],w=o[0],S=o[1],D=a[0],E=a[1],I=[l,0,c,0,h,0,g,0,u,0,d,0,f,0,p,0,1,0,1,0,1,0,1,0,0,l,0,c,0,h,0,g,0,u,0,d,0,f,0,p,0,1,0,1,0,1,0,1,-m*l,-b*l,-_*c,-C*c,-w*h,-S*h,-D*g,-E*g,-m*u,-b*u,-_*d,-C*d,-w*f,-S*f,-D*p,-E*p],T=Ud(I,8);if(!T.length)return[];var M=ts(T,[m,b,_,C,w,S,D,E],8);return M[8]=1,vv(g8t(M),3,4)}function Wye(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Hye(n){return nC(D0(n))}function lH(n,e){var t=al(n,[e[0],e[1]||0,e[2]||0,1],4),i=t[3]||1;return[t[0]/i,t[1]/i,t[2]/i]}function y8t(n,e){e===void 0&&(e=document.body);for(var t=n,i=Wye();t;){var r=getComputedStyle(t).transform;if(i=aH(Hye(r),i),t===e)break;t=t.parentElement}return i=Ud(i,4),i[12]=0,i[13]=0,i[14]=0,i}function nC(n){var e=Wye();return n.forEach(function(t){var i=t.matrixFunction,r=t.functionValue;!i||(e=i(e,r))}),e}function D0(n){var e=Y1(n)?n:mv(n);return e.map(function(t){var i=Oq(t),r=i.prefix,s=i.value,o=null,a=r,l="";if(r==="translate"||r==="translateX"||r==="translate3d"){var u=K0(s).map(function(M){return parseFloat(M)}),c=u[0],d=u[1],h=d===void 0?0:d,f=u[2],g=f===void 0?0:f;o=H6,l=[c,h,g]}else if(r==="translateY"){var h=parseFloat(s);o=H6,l=[0,h,0]}else if(r==="translateZ"){var g=parseFloat(s);o=H6,l=[0,0,g]}else if(r==="scale"||r==="scale3d"){var p=K0(s).map(function(M){return parseFloat(M)}),m=p[0],b=p[1],_=b===void 0?m:b,C=p[2],w=C===void 0?1:C;o=vN,l=[m,_,w]}else if(r==="scaleX"){var m=parseFloat(s);o=vN,l=[m,1,1]}else if(r==="scaleY"){var _=parseFloat(s);o=vN,l=[1,_,1]}else if(r==="scaleZ"){var w=parseFloat(s);o=vN,l=[1,1,w]}else if(r==="rotate"||r==="rotateZ"||r==="rotateX"||r==="rotateY"){var S=BD(s),D=S.unit,E=S.value,I=D==="rad"?E:E*Math.PI/180;r==="rotate"||r==="rotateZ"?(a="rotateZ",o=C8t):r==="rotateX"?o=_8t:r==="rotateY"&&(o=b8t),l=I}else if(r==="matrix3d")o=aH,l=K0(s).map(function(M){return parseFloat(M)});else if(r==="matrix"){var T=K0(s).map(function(M){return parseFloat(M)});o=aH,l=[T[0],T[1],0,0,T[2],T[3],0,0,0,0,1,0,T[4],T[5],0,1]}else a="";return{name:r,functionName:a,value:s,matrixFunction:o,functionValue:l}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function w8t(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function zye(n){return n.length<3?0:Math.abs(TFt(n.map(function(e,t){var i=n[t+1]||n[0];return e[0]*i[1]-i[0]*e[1]})))/2}function sae(n,e){var t=e.width,i=e.height,r=e.left,s=e.top,o=s3(n),a=o.minX,l=o.minY,u=o.maxX,c=o.maxY,d=t/(u-a),h=i/(c-l);return n.map(function(f){return[r+(f[0]-a)*d,s+(f[1]-l)*h]})}function s3(n){var e=n.map(function(i){return i[0]}),t=n.map(function(i){return i[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,t),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,t)}}function uH(n,e,t){var i=n[0],r=n[1],s=s3(e),o=s.minX,a=s.minY,l=s.maxX,u=s.maxY,c=[[o,r],[l,r]],d=[[i,a],[i,u]],h=LL(c[0],c[1]),f=LL(d[0],d[1]),g=hH(e),p=[],m=[];return g.forEach(function(b){var _=LL(b[0],b[1]),C=dH(cH(h,_),[c,b]),w=dH(cH(f,_),[d,b]);(C.length===1?b[0][1]!==r:!0)&&p.push.apply(p,C),(w.length===1?b[0][0]!==i:!0)&&m.push.apply(m,w),_[0]||p.push.apply(p,C),_[1]||m.push.apply(m,w)}),!!(!t&&(Wc(p,function(b){return b[0]===i})>-1||Wc(m,function(b){return b[1]===r})>-1)||p.filter(function(b){return b[0]>i}).length%2&&m.filter(function(b){return b[1]>r}).length%2)}function LL(n,e){var t=n[0],i=n[1],r=e[0],s=e[1];if(t===r&&i===s)return[0,0,0];if(t===r)return[1,0,-t];if(i===s)return[0,1,-i];var o=(r-t)/(i-s),a=-t-o*i;return[1,o,a]}function cH(n,e){var t=n[0],i=n[1],r=n[2],s=e[0],o=e[1],a=e[2],l=t===0&&s===0,u=i===0&&o===0;if(l&&u)return[];if(l){var c=-r/i,d=-a/o;return c!==d?[]:[[-1/0,c],[1/0,c]]}else if(u){var h=-r/t,f=-a/s;return h!==f?[]:[[h,-1/0],[h,1/0]]}else if(t===0){var g=-r/i,p=-(o*g+a)/s;return[[p,g]]}else if(s===0){var g=-a/o,p=-(i*g+r)/t;return[[p,g]]}else if(i===0){var p=-r/t,g=-(s*p+a)/o;return[[p,g]]}else if(o===0){var p=-a/s,g=-(t*p+r)/i;return[[p,g]]}else{var p=(i*a-o*r)/(o*t-i*s),g=-(t*p+r)/i;return[[p,g]]}}function dH(n,e){var t=e.map(function(c){return[0,1].map(function(d){return[Math.min(c[0][d],c[1][d]),Math.max(c[0][d],c[1][d])]})});if(n.length===2){var i=n[0],r=i[0],s=i[1];if(r===n[1][0]){var o=Math.max.apply(Math,t.map(function(c){return c[1][0]})),a=Math.min.apply(Math,t.map(function(c){return c[1][1]}));return o>a?[]:[[r,o],[r,a]]}else if(s===n[1][1]){var l=Math.max.apply(Math,t.map(function(c){return c[0][0]})),u=Math.min.apply(Math,t.map(function(c){return c[0][1]}));return l>u?[]:[[l,s],[u,s]]}}return n.filter(function(c){return t.every(function(d){return d[0][0]<=c[0]&&c[0]<=d[0][1]&&d[1][0]<=c[1]&&c[1]<=d[1][1]})})}function hH(n){return w8t(n.slice(1),[n[0]]).map(function(e,t){return[n[t],e]})}function S8t(n,e){var t=n.slice(),i=e.slice();JW(t)===-1&&t.reverse(),JW(i)===-1&&i.reverse();var r=hH(t),s=hH(i),o=r.map(function(d){return LL(d[0],d[1])}),a=s.map(function(d){return LL(d[0],d[1])}),l=[];o.forEach(function(d,h){var f=r[h],g=[];a.forEach(function(p,m){var b=cH(d,p),_=dH(b,[f,s[m]]);g.push.apply(g,_.map(function(C){return{index1:h,index2:m,pos:C}}))}),g.sort(function(p,m){return yg(f[0],p.pos)-yg(f[0],m.pos)}),l.push.apply(l,g),uH(f[1],i)&&l.push({index1:h,index2:-1,pos:f[1]})}),s.forEach(function(d,h){if(uH(d[1],t)){var f=!1,g=Wc(l,function(p){var m=p.index2;return m===h?(f=!0,!1):!!f});g===-1&&(f=!1,g=Wc(l,function(p){var m=p.index1,b=p.index2;return m===-1&&b+1===h?(f=!0,!1):!!f})),g===-1?l.push({index1:-1,index2:h,pos:d[1]}):l.splice(g,0,{index1:-1,index2:h,pos:d[1]})}});var u=l.map(function(d){var h=d.pos;return h}),c={};return u.filter(function(d){var h=d[0]+"x"+d[1];return c[h]?!1:(c[h]=!0,!0)})}function L8t(n,e){var t=S8t(n,e);return zye(t)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fH=function(n,e){return fH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},fH(n,e)};function k8t(n,e){fH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Uye=typeof Map=="function"?void 0:function(){var n=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++n)}}(),E8t=function(n){k8t(e,n);function e(t){return t===void 0&&(t=[]),n.call(this,t,Uye)||this}return e}(jFt);function D8t(n,e){return i3(n,e,Uye)}var I8t=E8t;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gH=function(n,e){return gH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},gH(n,e)};function T8t(n,e){gH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function N8t(n){var e=n.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}var x8t=function(n){T8t(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.startRect=null,i.startPos=[],i.prevTime=0,i.timer=0,i}var t=e.prototype;return t.dragStart=function(i,r){var s=r.container,o=0,a=0,l=0,u=0;if(s===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=s.getBoundingClientRect();o=c.top,a=c.left,l=c.width,u=c.height}this.startPos=[i.clientX,i.clientY],this.startRect={top:o,left:a,width:l,height:u}},t.drag=function(i,r){var s=this,o=i.clientX,a=i.clientY,l=r.container,u=r.threshold,c=u===void 0?0:u,d=r.throttleTime,h=d===void 0?0:d,f=r.getScrollPosition,g=f===void 0?N8t:f,p=this,m=p.startRect,b=p.startPos,_=QW(),C=Math.max(h+this.prevTime-_,0),w=[0,0];if(m.top>a-c?(b[1]>m.top||a<b[1])&&(w[1]=-1):m.top+m.height<a+c&&(b[1]<m.top+m.height||a>b[1])&&(w[1]=1),m.left>o-c?(b[0]>m.left||o<b[0])&&(w[0]=-1):m.left+m.width<o+c&&(b[0]<m.left+m.width||o>b[0])&&(w[0]=1),clearTimeout(this.timer),!w[0]&&!w[1])return!1;if(C>0)return this.timer=window.setTimeout(function(){s.drag(i,r)},C),!1;this.prevTime=_;var S=g({container:l,direction:w});this.trigger("scroll",{container:l,direction:w,inputEvent:i});var D=g({container:l,direction:w}),E=D[0]-S[0],I=D[1]-S[1];return!E&&!I?!1:(this.trigger("move",{offsetX:w[0]?E:0,offsetY:w[1]?I:0,inputEvent:i}),h&&(this.timer=window.setTimeout(function(){s.drag(i,r)},h)),!0)},t.dragEnd=function(){clearTimeout(this.timer)},e}(wye),M8t=x8t;function A8t(n){for(var e=5381,t=n.length;t;)e=e*33^n.charCodeAt(--t);return e>>>0}var R8t=A8t;function O8t(n){return R8t(n).toString(36)}function P8t(n){if(n&&n.getRootNode){var e=n.getRootNode();if(e.nodeType===11)return e}}function F8t(n,e,t){return t.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(i,r){var s=r.trim();return(s?K0(s):[""]).map(function(o){var a=o.trim();return a.indexOf("@")===0?a:a.indexOf(":global")>-1?a.replace(/\:global/g,""):a.indexOf(":host")>-1?""+a.replace(/\:host/g,"."+n):a?"."+n+" "+a:"."+n}).join(", ")+" {"})}function B8t(n,e,t,i){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.setAttribute("data-styled-id",n),t.nonce&&r.setAttribute("nonce",t.nonce),r.innerHTML=F8t(n,e,t),(i||document.head||document.body).appendChild(r),r}function $8t(n){var e="rCS"+O8t(n),t=0,i;return{className:e,inject:function(r,s){s===void 0&&(s={});var o=P8t(r),a=t===0,l;return(o||a)&&(l=B8t(e,n,s,o)),a&&(i=l),o||++t,{destroy:function(){o?(r.removeChild(l),l=null):(t>0&&--t,t===0&&i&&(i.parentNode.removeChild(i),i=null))}}}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pH=function(n,e){return pH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},pH(n,e)};function jye(n,e){pH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var mH=function(){return mH=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},mH.apply(this,arguments)};function V8t(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}var W8t=function(n){jye(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.injectResult=null,i.tag="div",i}var t=e.prototype;return t.render=function(){var i=this.props,r=i.className,s=r===void 0?"":r;i.cspNonce;var o=i.portalContainer,a=V8t(i,["className","cspNonce","portalContainer"]),l=this.injector.className,u=this.tag,c={};return r8t.indexOf("simple")>-1&&o&&(c={portalContainer:o}),Ns(u,mH({ref:Eo(this,"element"),"data-styled-id":l,className:s+" "+l},c,a))},t.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},t.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},t.getElement=function(){return this.element},e}(r3);function Hq(n,e){var t=$8t(e);return function(i){jye(r,i);function r(){var s=i!==null&&i.apply(this,arguments)||this;return s.injector=t,s.tag=n,s}return r}(W8t)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vH=function(n,e){return vH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},vH(n,e)};function zD(n,e){vH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ht=function(){return ht=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ht.apply(this,arguments)};function H8t(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function z8t(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function nr(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function UD(n,e){var t;return ht({events:{},props:(t={},t[n]=Boolean,t),name:n},e)}function oae(n,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*n+'px" height="'+32*n+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}function U8t(n){var e=oae(1,n),t=oae(2,n),i=Math.round(n/45)*45%180,r="ns-resize";return i===135?r="nwse-resize":i===45?r="nesw-resize":i===90&&(r="ew-resize"),"cursor:"+r+";cursor: url('"+e+"') 16 16, "+r+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+t+"') 2x) 16 16, "+r+";"}var j8t=c8t(),Kye=j8t.browser.webkit,Gye=Kye&&function(){var n=/applewebkit\/([^\s]+)/g.exec(navigator.userAgent.toLowerCase());return n?parseFloat(n[1])<605:!1}(),zq="moveable-",K8t=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`+[0,15,30,45,60,75,90,105,120,135,150,165].map(function(n){return`
.direction[data-rotation="`+n+`"] {
	`+U8t(n)+`
}
`}).join(`
`)+`
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`+(Gye?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"")+`
`,G8t=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],PE=1e-4,To=1e-7,_N=1e-9,b2=Math.pow(10,10),aae=-b2,qye=["n","w","s","e","nw","ne","sw","se"],q8t={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Y8t={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Yye=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager"];function X8t(n,e){return[n[0]*e[0],n[1]*e[1]]}function Zn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return kye.apply(void 0,nr([zq],n))}function Z8t(n){if(!n||n==="none")return[1,0,0,1,0,0];if(cf(n))return n;var e=Oq(n).value;return e.split(/s*,\s*/g).map(function(t){return parseFloat(t)})}function Uq(n,e,t){return oH(e,OE(t,e),n,OE(t.map(function(i){return-i}),e))}function Q8t(n,e,t){if(e==="%"){var i=jq(n.ownerSVGElement);return i[t?"width":"height"]/100}return 1}function J8t(n){var e=_H(ql(n,":before"));return e.map(function(t,i){var r=BD(t),s=r.value,o=r.unit;return s*Q8t(n,o,i===0)})}function _H(n){var e=n.transformOrigin;return e?e.split(" "):["0","0"]}function jR(n,e,t){for(var i=document.body,r=!n||t?n:n.parentElement,s=n===e||r===e,o="relative";r&&r!==i;){e===r&&(s=!0);var a=ql(r),l=a.transform;if(o=a.position,r.tagName.toLowerCase()==="svg"||o!=="static"||l&&l!=="none")break;r=r.parentElement,o="relative"}return{isStatic:o==="static",isEnd:s||!r||r===i,offsetParent:r||i}}function e6t(n,e,t,i){var r,s=n.tagName.toLowerCase(),o=n.offsetLeft,a=n.offsetTop;if(i){var l=(e||document.documentElement).getBoundingClientRect();o-=l.left,a-=l.top}var u=FD(o),c=!u,d,h;return!c&&s!=="svg"?(d=Gye?J8t(n):_H(t).map(function(f){return parseFloat(f)}),h=d.slice(),c=!0,r=r6t(n,d),o=r[0],a=r[1],d[0]=r[2],d[1]=r[3]):(d=_H(t).map(function(f){return parseFloat(f)}),h=d.slice()),{tagName:s,isSVG:u,hasOffset:c,offset:[o||0,a||0],origin:d,targetOrigin:h}}function Xye(n,e,t){t===void 0&&(t=ql(n));var i=ql(document.body),r=i.position;if(!e&&(!r||r==="static"))return[0,0];var s=parseInt(i.marginLeft,10),o=parseInt(i.marginTop,10);return t.position==="absolute"&&((t.top!=="auto"||t.bottom!=="auto")&&(o=0),(t.left!=="auto"||t.right!=="auto")&&(s=0)),[s,o]}function bH(n){n.forEach(function(e){var t=e.matrix;t&&(e.matrix=vv(t,3,4))})}function lae(n,e){for(var t=n,i=[],r=!1,s=!1,o=3,a,l,u,c=jR(e,e,!0).offsetParent;t&&!r;){var d=ql(t),h=d.position,f=h==="fixed",g=v8t(Z8t(d.transform)),p=g.length;!s&&p===16&&(s=!0,o=4,bH(i)),s&&p===9&&(g=vv(g,3,4));var m=e6t(t,e,d,f),b=m.tagName,_=m.hasOffset,C=m.isSVG,w=m.origin,S=m.targetOrigin,D=m.offset,E=D[0],I=D[1];b==="svg"&&u?(i.push({type:"target",target:t,matrix:i6t(t,o)}),i.push({type:"offset",target:t,matrix:Us(o)})):b==="g"&&n!==t&&(E=0,I=0);var T=jR(t,e),M=T.offsetParent,A=T.isEnd,O=T.isStatic;Kye&&_&&!C&&O&&(h==="relative"||h==="static")&&(E-=M.offsetLeft,I-=M.offsetTop,r=r||A);var F=0,U=0;if(_&&c!==M&&(F=M.clientLeft,U=M.clientTop),_&&M===document.body){var V=Xye(t,!1,d);E+=V[0],I+=V[1]}if(i.push({type:"target",target:t,matrix:Uq(g,o,w)}),_?i.push({type:"offset",target:t,matrix:OE([E-t.scrollLeft+F,I-t.scrollTop+U],o)}):i.push({type:"offset",target:t,origin:w}),u||(u=g),a||(a=w),l||(l=S),r||f)break;t=M,r=A}return u||(u=Us(o)),a||(a=[0,0]),l||(l=[0,0]),{offsetContainer:c,matrixes:i,targetMatrix:u,transformOrigin:a,targetOrigin:l,is3d:s}}function t6t(n,e,t,i){var r;t===void 0&&(t=e);var s=0,o=0,a=0,l={};if(n){var u=ql(n);s=n.offsetWidth,o=n.offsetHeight,FD(s)&&(r=Jye(n,u,!0),s=r[0],o=r[1])}if(n){var c=n6t(n,e,t,i),d=KR(c.allMatrix,c.transformOrigin,s,o);l=ht(ht({},c),d);var h=KR(c.allMatrix,[50,50],100,100);a=ewe([h.pos1,h.pos2],h.direction)}var f=i?4:3;return ht({width:s,height:o,rotation:a,rootMatrix:Us(f),beforeMatrix:Us(f),offsetMatrix:Us(f),allMatrix:Us(f),targetMatrix:Us(f),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!i,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1},l)}function n6t(n,e,t,i){t===void 0&&(t=e);var r=lae(n,e),s=r.matrixes,o=r.is3d,a=r.targetMatrix,l=r.transformOrigin,u=r.targetOrigin,c=r.offsetContainer,d=lae(c,t),h=d.matrixes,f=d.is3d,g=i||f||o,p=g?4:3,m=n.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in n,b=e||document.body,_=a,C=Us(p),w=Us(p),S=Us(p),D=Us(p),E=s.length,I=jR(b,b,!0).offsetParent;h.reverse(),s.reverse(),!o&&g&&(_=vv(_,3,4),bH(s)),!f&&g&&bH(h),h.forEach(function(A){w=ts(w,A.matrix,p)}),s.forEach(function(A,O){if(E-2===O&&(S=C.slice()),E-1===O&&(D=C.slice()),!A.matrix){var F=s[O+1],U=s6t(A,F,I,p,ts(w,C,p));A.matrix=OE(U,p)}C=ts(C,A.matrix,p)});var T=!m&&o;_||(_=Us(T?4:3));var M=o3(m&&_.length===16?vv(_,4,3):_,T);return w=Bye(w,p,p),{rootMatrix:w,beforeMatrix:S,offsetMatrix:D,allMatrix:C,targetMatrix:_,targetTransform:M,transformOrigin:l,targetOrigin:u,is3d:g}}function o3(n,e){return e===void 0&&(e=n.length>9),(e?"matrix3d":"matrix")+"("+$ye(n,!e).join(",")+")"}function jq(n){var e=n.clientWidth,t=n.clientHeight;if(!n)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:t};var i=n.viewBox,r=i&&i.baseVal||{x:0,y:0,width:0,height:0};return{x:r.x,y:r.y,width:r.width||e,height:r.height||t,clientWidth:e,clientHeight:t}}function i6t(n,e){var t=jq(n),i=t.width,r=t.height,s=t.clientWidth,o=t.clientHeight,a=s/i,l=o/r,u=n.preserveAspectRatio.baseVal,c=u.align,d=u.meetOrSlice,h=[0,0],f=[a,l],g=[0,0];if(c!==1){var p=(c-2)%3,m=Math.floor((c-2)/3);h[0]=i*p/2,h[1]=r*m/2;var b=d===2?Math.max(l,a):Math.min(a,l);f[0]=b,f[1]=b,g[0]=(s-i)/2*p,g[1]=(o-r)/2*m}var _=Vye(f,e);return _[e*(e-1)]=g[0],_[e*(e-1)+1]=g[1],Uq(_,e,h)}function r6t(n,e){if(!n.getBBox)return[0,0];var t=n.getBBox(),i=jq(n.ownerSVGElement),r=t.x-i.x,s=t.y-i.y;return[r,s,e[0]-r,e[1]-s]}function ea(n,e,t){return al(n,HD(e,t),t)}function jD(n,e,t,i){return[[0,0],[e,0],[0,t],[e,t]].map(function(r){return ea(n,r,i)})}function Ac(n){var e=n.map(function(u){return u[0]}),t=n.map(function(u){return u[1]}),i=Math.min.apply(Math,e),r=Math.min.apply(Math,t),s=Math.max.apply(Math,e),o=Math.max.apply(Math,t),a=s-i,l=o-r;return{left:i,top:r,right:s,bottom:o,width:a,height:l}}function uae(n,e,t,i){var r=jD(n,e,t,i);return Ac(r)}function s6t(n,e,t,i,r){var s,o=n.target,a=n.origin,l=e.matrix,u=Jye(o,void 0,!0),c=u[0],d=u[1],h=t.getBoundingClientRect(),f=[0,0];t===document.body&&(f=Xye(o,!0));for(var g=o.getBoundingClientRect(),p=g.left-h.left+t.scrollLeft-(t.clientLeft||0)+f[0],m=g.top-h.top+t.scrollTop-(t.clientTop||0)+f[1],b=g.width,_=g.height,C=oH(i,r,l),w=uae(C,c,d,i),S=w.left,D=w.top,E=w.width,I=w.height,T=ea(C,a,i),M=ti(T,[S,D]),A=[p+M[0]*b/E,m+M[1]*_/I],O=[0,0],F=0;++F<10;){var U=Ud(r,i);s=ti(ea(U,A,i),ea(U,T,i)),O[0]=s[0],O[1]=s[1];var V=oH(i,r,OE(O,i),l),G=uae(V,c,d,i),j=G.left,X=G.top,ie=j-p,Ce=X-m;if(Math.abs(ie)<2&&Math.abs(Ce)<2)break;A[0]-=ie,A[1]-=Ce}return O.map(function(Be){return Math.round(Be)})}function KR(n,e,t,i){var r=n.length===16,s=r?4:3,o=jD(n,t,i,s),a=o[0],l=a[0],u=a[1],c=o[1],d=c[0],h=c[1],f=o[2],g=f[0],p=f[1],m=o[3],b=m[0],_=m[1],C=ea(n,e,s),w=C[0],S=C[1],D=Math.min(l,d,g,b),E=Math.min(u,h,p,_),I=Math.max(l,d,g,b),T=Math.max(u,h,p,_);l=l-D||0,d=d-D||0,g=g-D||0,b=b-D||0,u=u-E||0,h=h-E||0,p=p-E||0,_=_-E||0,w=w-D||0,S=S-E||0;var M=JW(o);return{left:D,top:E,right:I,bottom:T,origin:[w,S],pos1:[l,u],pos2:[d,h],pos3:[g,p],pos4:[b,_],direction:M}}function Id(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Zye(n,e){return Id([e[0]-n[0],e[1]-n[1]])}function C2(n,e,t,i){t===void 0&&(t=1),i===void 0&&(i=ns(n,e));var r=Zye(n,e);return{transform:"translateY(-50%) translate("+n[0]+"px, "+n[1]+"px) rotate("+i+"rad) scaleY("+t+")",width:r+"px"}}function Qye(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=t.length,s=t.reduce(function(a,l){return a+l[0]},0)/r,o=t.reduce(function(a,l){return a+l[1]},0)/r;return{transform:"translateZ(0px) translate("+s+"px, "+o+"px) rotate("+n+"rad) scale("+e+")"}}function o6t(n){var e=ql(n);return[parseFloat(e.width),parseFloat(e.height)]}function Jye(n,e,t,i){e===void 0&&(e=ql(n)),i===void 0&&(i=t||e.boxSizing==="border-box");var r=n.offsetWidth,s=n.offsetHeight,o=!FD(r);if((t||i)&&o)return[r,s];if(!o&&n.tagName.toLowerCase()!=="svg"){var a=n.getBBox();return[a.width,a.height]}if(r=n.clientWidth,s=n.clientHeight,t||i){var l=parseFloat(e.borderLeftWidth)||0,u=parseFloat(e.borderRightWidth)||0,c=parseFloat(e.borderTopWidth)||0,d=parseFloat(e.borderBottomWidth)||0;return[r+l+u,s+c+d]}else{var h=parseFloat(e.paddingLeft)||0,f=parseFloat(e.paddingRight)||0,g=parseFloat(e.paddingTop)||0,p=parseFloat(e.paddingBottom)||0;return[r-h-f,s-g-p]}}function ewe(n,e){return ns(e>0?n[0]:n[1],e>0?n[1]:n[0])}function CH(n,e,t,i,r){var s=1,o=[0,0],a=z6(),l=z6(),u=z6(),c=t6t(e,t,r,!1);if(e){var d=c.is3d?4:3,h=KR(c.offsetMatrix,Li(c.transformOrigin,p8t(c.targetMatrix,d)),c.width,c.height);s=h.direction,o=Li(h.origin,[h.left-c.left,h.top-c.top]),a=Qx(e),l=Qx(jR(i,i,!0).offsetParent||document.body,!0),n&&(u=Qx(n))}return ht({targetClientRect:a,containerClientRect:l,moveableClientRect:u,beforeDirection:s,beforeOrigin:o,originalBeforeOrigin:o,target:e},c)}function z6(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Qx(n,e){var t=0,i=0,r=0,s=0;if(n===document.body||n===document.documentElement)r=window.innerWidth,s=window.innerHeight,t=-(document.documentElement.scrollLeft||document.body.scrollLeft),i=-(document.documentElement.scrollTop||document.body.scrollTop);else{var o=n.getBoundingClientRect();t=o.left,i=o.top,r=o.width,s=o.height}var a={left:t,right:t+r,top:i,bottom:i+s,width:r,height:s};return e&&(a.clientLeft=n.clientLeft,a.clientTop=n.clientTop,a.clientWidth=n.clientWidth,a.clientHeight=n.clientHeight,a.scrollWidth=n.scrollWidth,a.scrollHeight=n.scrollHeight,a.overflow=ql(n).overflow!=="visible"),a}function Kq(n){if(!!n){var e=n.getAttribute("data-direction");if(!!e){var t=[0,0];return e.indexOf("w")>-1&&(t[0]=-1),e.indexOf("e")>-1&&(t[0]=1),e.indexOf("n")>-1&&(t[1]=-1),e.indexOf("s")>-1&&(t[1]=1),t}}}function Gq(n,e){return[Li(e,n[0]),Li(e,n[1]),Li(e,n[2]),Li(e,n[3])]}function Ef(n){var e=n.left,t=n.top,i=n.pos1,r=n.pos2,s=n.pos3,o=n.pos4;return Gq([i,r,s,o],[e,t])}function a6t(n){return Math.round(n%1===-.5?n-1:n)}function yi(n,e){return e?Math.round(n/e)*e:n}function cae(n,e){return n.forEach(function(t,i){n[i]=yi(n[i],e)}),n}function DC(n,e){n[e]&&(n[e].unset(),n[e]=null)}function ki(n,e,t){var i=e.datas;i.datas||(i.datas={});var r=ht(ht({},t),{target:n.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:n,moveable:n,datas:i.datas});return i.isStartEvent?i.lastEvent=r:i.isStartEvent=!0,r}function Hu(n,e,t){var i=e.datas,r="isDrag"in t?t.isDrag:e.isDrag;return i.datas||(i.datas={}),ht(ht({isDrag:r},t),{moveable:n,target:n.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:n,lastEvent:i.lastEvent,isDouble:e.isDouble,datas:i.datas})}function an(n,e,t,i){return n.triggerEvent(e,t,i)}function ql(n,e){return window.getComputedStyle(n,e)}function bN(n,e,t){var i={},r={};return n.filter(function(s){var o=s.name;if(i[o]||!e.some(function(a){return s[a]}))return!1;if(!t&&s.ableGroup){if(r[s.ableGroup])return!1;r[s.ableGroup]=!0}return i[o]=!0,!0})}function yH(n,e){return n===e||n==null&&e==null}function l6t(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=n.length-1,i=0;i<t;++i){var r=n[i];if(!FD(r))return r}return n[t]}function qq(n,e){var t=[],i=[];return n.forEach(function(r,s){var o=e(r,s,n),a=i.indexOf(o),l=t[a]||[];a===-1&&(i.push(o),t.push(l)),l.push(r)}),t}function u6t(n,e){var t=[],i={};return n.forEach(function(r,s){var o=e(r,s,n),a=i[o];a||(a=[],i[o]=a,t.push(a)),a.push(r)}),t}function Yq(n){return n.reduce(function(e,t){return e.concat(t)},[])}function Lw(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.sort(function(t,i){return Math.abs(i)-Math.abs(t)}),n[0]}function c6t(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.sort(function(t,i){return Math.abs(t)-Math.abs(i)}),n[0]}function S_(n,e,t){return al(Ud(n,t),HD(e,t),t)}function twe(n,e){var t,i=n.is3d,r=n.rootMatrix,s=i?4:3;return t=S_(r,[e.distX,e.distY],s),e.distX=t[0],e.distY=t[1],e}function CN(n,e,t,i,r){return ti(ea(n,Li(t,e),r),i)}function ud(n,e,t){return t?n/e*100+"%":n+"px"}function d6t(n,e,t,i){var r=n[e],s=r.direction,o=r.sub,a=n.map(function(){return[0,0]}),l=s?s.split(""):[];if(i&&e<8){var u=l.filter(function(d){return d==="w"||d==="e"})[0],c=l.filter(function(d){return d==="n"||d==="s"})[0];a[e]=t,n.forEach(function(d,h){var f=d.direction;!f||(f.indexOf(u)>-1&&(a[h][0]=t[0]),f.indexOf(c)>-1&&(a[h][1]=t[1]))}),u&&(a[1][0]=t[0]/2,a[5][0]=t[0]/2),c&&(a[3][1]=t[1]/2,a[7][1]=t[1]/2)}else s&&!o?l.forEach(function(d){var h=d==="n"||d==="s";n.forEach(function(f,g){var p=f.direction,m=f.horizontal,b=f.vertical;!p||p.indexOf(d)===-1||(a[g]=[h||!m?0:t[0],!h||!b?0:t[1]])})}):a[e]=t;return a}function IC(n){return Math.abs(n)<=To?0:n}function FE(n,e){return e.isRequest?e.requestAble==="resizable"||e.requestAble==="scalable"?e.parentDirection:!1:Dc(e.inputEvent.target,Zn("direction"))}function h6t(n){var e={};for(var t in n)e[n[t]]=t;return e}function f6t(n,e){var t=n.slice(0,e<0?void 0:e),i=n.slice(0,e<0?void 0:e+1),r=n[e]||"",s=e<0?[]:n.slice(e),o=e<0?[]:n.slice(e+1),a=D0(t),l=D0(i),u=D0([r]),c=D0(s),d=D0(o),h=nC(a),f=nC(l),g=nC(c),p=nC(d),m=ts(h,g,4);return{transforms:n,beforeFunctionMatrix:h,beforeFunctionMatrix2:f,targetFunctionMatrix:nC(u),afterFunctionMatrix:g,afterFunctionMatrix2:p,allFunctionMatrix:m,beforeFunctions:a,beforeFunctions2:l,targetFunction:u[0],afterFunctions:c,afterFunctions2:d,beforeFunctionTexts:t,beforeFunctionTexts2:i,targetFunctionText:r,afterFunctionTexts:s,afterFunctionTexts2:o}}function g6t(n){return!n||!cf(n)?!1:Y1(n)||"length"in n}function a3(n,e){return n?zd(n)?e?document.querySelector(n):n:pye(n)?n():"current"in n?n.current:n:null}function wH(n,e){if(!n)return[];var t=g6t(n)?[].slice.call(n):[n];return t.reduce(function(i,r){return zd(r)&&e?nr(i,[].slice.call(document.querySelectorAll(r))):(i.push(a3(r,e)),i)},[])}function p6t(n,e){var t=[];return n.forEach(function(i){if(!!i){if(zd(i)){e[i]&&t.push.apply(t,e[i]);return}t.push(i)}}),t}function m6t(n,e,t){var i=ns(n,e)/Math.PI*180;return i=t>=0?i:180-i,i=i>=0?i:360+i,i}function dae(n,e){var t=n.rootMatrix,i=n.is3d,r=i?4:3,s=Ud(t,r);return i||(s=vv(s,3,4)),s[12]=0,s[13]=0,s[14]=0,lH(s,e)}var v6t=UD("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(n,e){var t=e.datas,i=e.targets,r=e.angle,s=e.originalDatas,o=n.props,a=o.pinchable,l=o.ables;if(!a)return!1;var u="onPinch"+(i?"Group":"")+"Start",c="drag"+(i?"Group":"")+"ControlStart",d=(a===!0?n.controlAbles:l.filter(function(p){return a.indexOf(p.name)>-1})).filter(function(p){return p.canPinch&&p[c]}),h=ki(n,e,{});i&&(h.targets=i);var f=an(n,u,h);t.isPinch=f!==!1,t.ables=d;var g=t.isPinch;return g?(d.forEach(function(p){if(s[p.name]=s[p.name]||{},!!p[c]){var m=ht(ht({},e),{datas:s[p.name],parentRotate:r,isPinch:!0});p[c](n,m)}}),n.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},g):!1},pinch:function(n,e){var t=e.datas,i=e.scale,r=e.distance,s=e.originalDatas,o=e.inputEvent,a=e.targets,l=e.angle;if(!!t.isPinch){var u=r*(1-1/i),c=ki(n,e,{});a&&(c.targets=a);var d="onPinch"+(a?"Group":"");an(n,d,c);var h=t.ables,f="drag"+(a?"Group":"")+"Control";return h.forEach(function(g){!g[f]||g[f](n,ht(ht({},e),{datas:s[g.name],inputEvent:o,parentDistance:u,parentRotate:l,isPinch:!0}))}),c}},pinchEnd:function(n,e){var t=e.datas,i=e.isPinch,r=e.inputEvent,s=e.targets,o=e.originalDatas;if(!!t.isPinch){var a="onPinch"+(s?"Group":"")+"End",l=Hu(n,e,{isDrag:i});s&&(l.targets=s),an(n,a,l);var u=t.ables,c="drag"+(s?"Group":"")+"ControlEnd";return u.forEach(function(d){!d[c]||d[c](n,ht(ht({},e),{isDrag:i,datas:o[d.name],inputEvent:r,isPinch:!0}))}),i}},pinchGroupStart:function(n,e){return this.pinchStart(n,ht(ht({},e),{targets:n.props.targets}))},pinchGroup:function(n,e){return this.pinch(n,ht(ht({},e),{targets:n.props.targets}))},pinchGroupEnd:function(n,e){return this.pinchEnd(n,ht(ht({},e),{targets:n.props.targets}))}});function l3(n,e,t,i,r){var s=e.gesto.move(t,n.inputEvent),o=s.originalDatas||s.datas,a=o.draggable||(o.draggable={});return ht(ht({},r?twe(e,s):s),{isDrag:!0,isPinch:!!i,parentEvent:!0,datas:a,originalDatas:n.originalDatas})}var KD=function(){function n(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var e=n.prototype;return e.dragStart=function(t,i){this.isDrag=!1,this.isFlag=!1;var r=i.originalDatas;return this.datas=r,r.draggable||(r.draggable={}),ht(ht({},this.move(t,i.inputEvent)),{type:"dragstart"})},e.drag=function(t,i){return this.move([t[0]-this.prevX,t[1]-this.prevY],i)},e.move=function(t,i){var r,s;return this.isFlag?(r=this.prevX+t[0],s=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],r=t[0],s=t[1],this.isFlag=!0),this.prevX=r,this.prevY=s,{type:"drag",clientX:r,clientY:s,inputEvent:i,isDrag:this.isDrag,distX:r-this.startX,distY:s-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},n}();function kw(n,e,t){var i=t.originalDatas;i.groupable=i.groupable||{};var r=i.groupable;r.childDatas=r.childDatas||[];var s=r.childDatas;return n.moveables.map(function(o,a){return s[a]=s[a]||{},s[a][e]=s[a][e]||{},ht(ht({},t),{datas:s[a][e],originalDatas:s[a]})})}function U6(n,e,t,i,r,s){var o=!!t.match(/Start$/g),a=!!t.match(/End$/g),l=r.isPinch,u=r.datas,c=kw(n,e.name,r),d=n.moveables,h=c.map(function(f,g){var p=d[g],m=f;o?m=new KD().dragStart(i,f):(p.state.gesto||(p.state.gesto=u.childGestos[g]),m=l3(f,p.state,i,l,s));var b=e[t](p,ht(ht({},m),{parentFlag:!0}));return a&&(p.state.gesto=null),b});return o&&(u.childGestos=d.map(function(f){return f.state.gesto})),h}function Og(n,e,t,i,r,s){r===void 0&&(r=function(c,d){return d});var o=!!t.match(/End$/g),a=kw(n,e.name,i),l=n.moveables,u=a.map(function(c,d){var h=l[d],f=c;f=r(h,c);var g=e[t](h,ht(ht({},f),{parentFlag:!0}));return g&&s&&s(h,c,g,d),o&&(h.state.gesto=null),g});return u}function nwe(n,e){var t=e.clientX,i=e.clientY,r=e.datas,s=n.state,o=s.moveableClientRect,a=s.rootMatrix,l=s.is3d,u=s.pos1,c=o.left,d=o.top,h=l?4:3,f=ti(S_(a,[t-c,i-d],h),u),g=f[0],p=f[1],m=Df({datas:r,distX:g,distY:p}),b=m[0],_=m[1];return[b,_]}function Z1(n,e){var t=e.datas,i=n.state,r=i.allMatrix,s=i.beforeMatrix,o=i.is3d,a=i.left,l=i.top,u=i.origin,c=i.offsetMatrix,d=i.targetMatrix,h=i.transformOrigin,f=o?4:3;t.is3d=o,t.matrix=r,t.targetMatrix=d,t.beforeMatrix=s,t.offsetMatrix=c,t.transformOrigin=h,t.inverseMatrix=Ud(r,f),t.inverseBeforeMatrix=Ud(s,f),t.absoluteOrigin=HD(Li([a,l],u),f),t.startDragBeforeDist=al(t.inverseBeforeMatrix,t.absoluteOrigin,f),t.startDragDist=al(t.inverseMatrix,t.absoluteOrigin,f)}function _6t(n){return KR(n.datas.beforeTransform,[50,50],100,100).direction}function u3(n,e){var t=n.datas,i=n.originalDatas.beforeRenderable,r=t.transformIndex,s=i.nextTransforms,o=i.nextTransformAppendedIndexes,a=r===-1?s.length:r+o.filter(function(d){return d<r}).length,l=f6t(s,a),u=l.targetFunction,c=e==="rotate"?"rotateZ":e;t.beforeFunctionTexts=l.beforeFunctionTexts,t.afterFunctionTexts=l.afterFunctionTexts,t.beforeTransform=l.beforeFunctionMatrix,t.beforeTransform2=l.beforeFunctionMatrix2,t.targetTansform=l.targetFunctionMatrix,t.afterTransform=l.afterFunctionMatrix,t.afterTransform2=l.afterFunctionMatrix2,t.targetAllTransform=l.allFunctionMatrix,u.functionName===c?(t.afterFunctionTexts.splice(0,1),t.isAppendTransform=!1):(t.isAppendTransform=!0,i.nextTransformAppendedIndexes=nr(o,[a]))}function c3(n,e,t){return n.beforeFunctionTexts.join(" ")+" "+(n.isAppendTransform?t:e)+" "+n.afterFunctionTexts.join(" ")}function b6t(n){var e=n.datas,t=n.distX,i=n.distY,r=rwe({datas:e,distX:t,distY:i}),s=r[0],o=r[1],a=iwe(e,m8t([s,o],4));return al(a,HD([0,0,0],4),4)}function iwe(n,e,t){var i=n.beforeTransform,r=n.afterTransform,s=n.beforeTransform2,o=n.afterTransform2,a=n.targetAllTransform,l=t?ts(a,e,4):ts(e,a,4),u=ts(Ud(t?s:i,4),l,4),c=ts(u,Ud(t?o:r,4),4);return c}function rwe(n){var e=n.datas,t=n.distX,i=n.distY,r=e.inverseBeforeMatrix,s=e.is3d,o=e.startDragBeforeDist,a=e.absoluteOrigin,l=s?4:3;return ti(al(r,Li(a,[t,i]),l),o)}function Df(n,e){var t=n.datas,i=n.distX,r=n.distY,s=t.inverseBeforeMatrix,o=t.inverseMatrix,a=t.is3d,l=t.startDragBeforeDist,u=t.startDragDist,c=t.absoluteOrigin,d=a?4:3;return ti(al(e?s:o,Li(c,[i,r]),d),e?l:u)}function C6t(n,e){var t=n.datas,i=n.distX,r=n.distY,s=t.beforeMatrix,o=t.matrix,a=t.is3d,l=t.startDragBeforeDist,u=t.startDragDist,c=t.absoluteOrigin,d=a?4:3;return ti(al(e?s:o,Li(e?l:u,[i,r]),d),c)}function y6t(n,e,t,i,r,s){return i===void 0&&(i=e),r===void 0&&(r=t),s===void 0&&(s=[0,0]),n?n.map(function(o,a){var l=BD(o),u=l.value,c=l.unit,d=a?r:i,h=a?t:e;if(o==="%"||isNaN(u)){var f=d?s[a]/d:0;return h*f}else if(c!=="%")return u;return h*u/100}):s}function swe(n){var e=[];return n[1]>=0&&(n[0]>=0&&e.push(3),n[0]<=0&&e.push(2)),n[1]<=0&&(n[0]>=0&&e.push(1),n[0]<=0&&e.push(0)),e}function owe(n,e){return swe(e).map(function(t){return n[t]})}function ll(n,e){var t=owe(n,e);return[AE(t.map(function(i){return i[0]})),AE(t.map(function(i){return i[1]}))]}function w6t(n,e){return ll(n,e.map(function(t){return-t}))}function S6t(n,e,t,i,r,s){var o=jD(e,t,i,r),a=ll(o,s),l=n[0]-a[0],u=n[1]-a[1];return[l,u]}function d3(n,e,t,i){return ts(n,Uq(e,i,t),i)}function L6t(n,e,t){var i=n.transformOrigin,r=n.offsetMatrix,s=n.is3d,o=e.beforeTransform,a=e.afterTransform,l=s?4:3,u=Hye([t]);return d3(r,vv(ts(ts(o,u,4),a,4),4,l),i,l)}function k6t(n,e){var t=n.transformOrigin,i=n.offsetMatrix,r=n.is3d,s=n.targetMatrix,o=r?4:3;return d3(i,ts(s,Vye(e,o),o),t,o)}function h3(n){var e=n.originalDatas.beforeRenderable;return{setTransform:function(t,i){i===void 0&&(i=-1),e.startTransforms=Y1(t)?t:mv(t),SH(n,i)},setTransformIndex:function(t){SH(n,t)}}}function f3(n,e){var t=n.originalDatas.beforeRenderable,i=t.startTransforms;SH(n,Wc(i,function(r){return r.indexOf(e+"(")===0}))}function SH(n,e){var t=n.originalDatas.beforeRenderable,i=n.datas;if(i.transformIndex=e,e!==-1){var r=t.startTransforms[e];if(!!r){var s=D0([r]);i.startValue=s[0].functionValue}}}function awe(n,e){var t=n.originalDatas.beforeRenderable;t.nextTransforms=mv(e)}function lwe(n,e,t,i,r){return awe(r,e),{transform:e,drag:kl.drag(n,l3(r,n.state,t,i,!1))}}function uwe(n,e,t,i,r){var s=n.state,o=s.left,a=s.top,l=n.props.groupable,u=L6t(n.state,r,e),c=l?o:0,d=l?a:0,h=dwe(n,t,u),f=ti(i,h);return ti(f,[c,d])}function E6t(n,e,t,i,r){return uwe(n,"scale("+e.join(", ")+")",t,i,r)}function cwe(n){var e=n.state,t=e.width,i=e.height,r=e.transformOrigin;return[-1+r[0]/(t/2),-1+r[1]/(i/2)]}function dwe(n,e,t){t===void 0&&(t=n.state.allMatrix);var i=n.state,r=i.width,s=i.height,o=i.is3d,a=o?4:3,l=[r/2*(1+e[0]),s/2*(1+e[1])];return ea(t,l,a)}function D6t(n,e,t,i){var r=cwe(n);return uwe(n,"rotate("+e+"deg)",r,t,i)}function I6t(n,e,t,i,r,s){var o=n.props.groupable,a=n.state,l=a.transformOrigin,u=a.targetMatrix,c=a.offsetMatrix,d=a.is3d,h=a.width,f=a.height,g=a.left,p=a.top,m=d?4:3,b=y6t(s,e,t,h,f,l),_=o?g:0,C=o?p:0,w=d3(c,u,b,m),S=S6t(r,w,e,t,m,i);return ti(S,[_,C])}function hy(n,e){return ll(Ef(n.state),e)}function hwe(n,e,t){var i=ea(n,[e.clientLeft,e.clientTop],t);return[e.left+i[0],e.top+i[1]]}function hae(n,e,t,i,r,s){var o=r[0],a=r[1],l=s[0],u=s[1],c=[],d=i?0:1,h=e==="vertical"?"horizontal":"vertical",f=qq(n.filter(function(g){var p=g.type;return p===e}),function(g){var p=g.element;return p}).map(function(g){return g[0]}).filter(function(g){var p=g.pos,m=g.sizes;return p[d]<=u&&l<=p[d]+m[d]});return f.forEach(function(g){var p=g.pos[i],m=p+g.sizes[i];f.forEach(function(b){var _=b.pos,C=b.sizes,w=b.element,S=b.className,D=_[i],E=D+C[i],I=0,T=0,M=!0;if(m<=D)T=m-D,I=E-T,o<I-t&&(M=!1);else if(E<=p)T=p-E,I=D-T,a>I+t&&(M=!1);else return;if(M&&c.push({pos:h==="vertical"?[I,_[1]]:[_[0],I],element:w,sizes:C,size:0,type:h,gap:T,className:S,gapGuidelines:f}),m<=o&&a<=D){var A=(D+m-(a-o))/2;yi(o-(A-t),.1)>=0&&c.push({pos:h==="vertical"?[A,_[1]]:[_[0],A],className:S,element:w,sizes:C,size:0,type:h,gap:m-o,gapGuidelines:f})}})}),c}function fwe(n,e,t,i,r,s,o){r===void 0&&(r=0),s===void 0&&(s=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var a=[],l=o.left,u=o.top,c=o.bottom,d=o.right,h=t+d-l,f=i+c-u;return n&&n.forEach(function(g){a.push({type:"horizontal",pos:[l,yi(g-s+u,.1)],size:h})}),e&&e.forEach(function(g){a.push({type:"vertical",pos:[yi(g-r+l,.1),u],size:f})}),a}function T6t(n,e){var t=[];if(!e.length)return t;var i=n.state,r=n.props.snapCenter,s=i.containerClientRect,o=i.targetClientRect,a=o.top,l=o.left,u=i.rootMatrix,c=i.is3d,d=c?4:3,h=hwe(u,s,d),f=h[0],g=h[1],p=Ef(i),m=s3(p),b=m.minX,_=m.minY,C=ti([b,_],S_(u,[l-f,a-g],d)).map(function(D){return a6t(D)}),w=C[0],S=C[1];return e.forEach(function(D){var E=D.element,I=D.top,T=D.left,M=D.right,A=D.bottom,O=D.className,F=E.getBoundingClientRect(),U=F.left-f,V=F.top-g,G=V+F.height,j=U+F.width,X=S_(u,[U,V],d),ie=X[0],Ce=X[1],Be=S_(u,[j,G],d),we=Be[0],ke=Be[1],Se=we-ie,fe=ke-Ce,pe=[Se,fe];I!==!1&&t.push({type:"vertical",element:E,pos:[yi(ie+w,.1),Ce],size:fe,sizes:pe,className:O}),A!==!1&&t.push({type:"vertical",element:E,pos:[yi(we+w,.1),Ce],size:fe,sizes:pe,className:O}),T!==!1&&t.push({type:"horizontal",element:E,pos:[ie,yi(Ce+S,.1)],size:Se,sizes:pe,className:O}),M!==!1&&t.push({type:"horizontal",element:E,pos:[ie,yi(ke+S,.1)],size:Se,sizes:pe,className:O}),r&&(t.push({type:"vertical",element:E,pos:[yi((ie+we)/2+w,.1),Ce],size:fe,sizes:pe,center:!0,className:O}),t.push({type:"horizontal",element:E,pos:[ie,yi((Ce+ke)/2+S,.1)],size:Se,sizes:pe,center:!0,className:O}))}),t}function GR(n,e,t){t===void 0&&(t=[]);var i=[],r=n.state;if(e&&r.guidelines&&r.guidelines.length)return i;var s=n.props.elementGuidelines,o=s===void 0?[]:s;if(!o.length)return i;var a=r.elementGuidelineValues||[],l=o.map(function(g){return cf(g)&&"element"in g?g:{element:a3(g,!0)}}).filter(function(g){return g.element});r.elementGuidelineValues=l;var u=D8t(a.map(function(g){return g.element}),l.map(function(g){return g.element})),c=u.added,d=u.removed,h=d.map(function(g){return a[g].element}),f=T6t(n,c.map(function(g){return l[g]}).filter(function(g){return g.refresh&&e||!g.refresh&&!e}));return nr(t.filter(function(g){return h.indexOf(g.element)===-1}),f)}function LH(n){var e=n.state,t=e.snapOffset,i=e.staticGuidelines,r=e.containerClientRect,s=r.overflow,o=r.scrollHeight,a=r.scrollWidth,l=r.clientHeight,u=r.clientWidth,c=r.clientLeft,d=r.clientTop,h=n.props,f=h.snapHorizontal,g=f===void 0?!0:f,p=h.snapVertical,m=p===void 0?!0:p,b=h.snapGap,_=b===void 0?!0:b,C=h.verticalGuidelines,w=h.horizontalGuidelines,S=h.snapThreshold,D=S===void 0?5:S,E=h.snapGridWidth,I=E===void 0?0:E,T=h.snapGridHeight,M=T===void 0?0:T,A=nr(i,GR(n,!0));if(_){var O=Ac(Ef(n.state)),F=O.top,U=O.left,V=O.bottom,G=O.right,j=i.filter(function(X){var ie=X.element;return ie});A.push.apply(A,nr(hae(j,"horizontal",D,0,[U,G],[F,V]),hae(j,"vertical",D,1,[F,V],[U,G])))}return A.push.apply(A,N6t(I,M,s?a:u,s?o:l,c,d)),A.push.apply(A,fwe(g&&w||!1,m&&C||!1,s?a:u,s?o:l,c,d,t)),A}function N6t(n,e,t,i,r,s){r===void 0&&(r=0),s===void 0&&(s=0);var o=[];if(e)for(var a=0;a<=i;a+=e)o.push({type:"horizontal",pos:[0,yi(a-s,.1)],size:t,hide:!0});if(n)for(var a=0;a<=t;a+=n)o.push({type:"vertical",pos:[yi(a-r,.1),0],size:i,hide:!0});return o}function g3(n,e,t,i,r){var s=n.props,o=s.snapElement,a=o===void 0?!0:o,l=l6t(r,s.snapThreshold,5);return gwe(n.state.guidelines,e,t,{snapThreshold:l,snapCenter:i,snapElement:a})}function gwe(n,e,t,i){return{vertical:gae(n,"vertical",e,i),horizontal:gae(n,"horizontal",t,i)}}function x6t(n,e,t){var i=t[0],r=t[1],s=e[0],o=e[1],a=ti(t,e),l=a[0],u=a[1],c=u>0,d=l>0;l=IC(l),u=IC(u);var h={isSnap:!1,offset:0,pos:0},f={isSnap:!1,offset:0,pos:0};if(l===0&&u===0)return{vertical:h,horizontal:f};var g=g3(n,l?[i]:[],u?[r]:[]),p=g.vertical,m=g.horizontal;p.posInfos.filter(function(U){var V=U.pos;return d?V>=s:V<=s}),m.posInfos.filter(function(U){var V=U.pos;return c?V>=o:V<=o}),p.isSnap=p.posInfos.length>0,m.isSnap=m.posInfos.length>0;var b=kH(p),_=b.isSnap,C=b.guideline,w=kH(m),S=w.isSnap,D=w.guideline,E=S?D.pos[1]:0,I=_?C.pos[0]:0;if(l===0)S&&(f.isSnap=!0,f.pos=D.pos[1],f.offset=r-f.pos);else if(u===0)_&&(h.isSnap=!0,h.pos=I,h.offset=i-I);else{var T=u/l,M=t[1]-T*i,A=0,O=0,F=!1;_?(O=I,A=T*O+M,F=!0):S&&(A=E,O=(A-M)/T,F=!0),F&&(h.isSnap=!0,h.pos=O,h.offset=i-O,f.isSnap=!0,f.pos=A,f.offset=r-A)}return{vertical:h,horizontal:f}}function fae(n,e,t,i){var r=n.props.snapCenter,s=r&&t,o=["left","right"],a=["top","bottom"];return s&&(o.push("center"),a.push("middle")),o=o.filter(function(l){return l in e}),a=a.filter(function(l){return l in e}),g3(n,o.map(function(l){return e[l]}),a.map(function(l){return e[l]}),s,i)}function kH(n){var e=n.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var t=n.posInfos[0],i=t.guidelineInfos[0],r=i.offset,s=i.dist,o=i.guideline;return{isSnap:e,offset:r,dist:s,pos:t.pos,guideline:o}}function gae(n,e,t,i){var r=i===void 0?{}:i,s=r.snapThreshold,o=s===void 0?5:s,a=r.snapElement,l=r.snapCenter;if(!n||!n.length)return{isSnap:!1,index:-1,posInfos:[]};var u=e==="vertical",c=u?0:1,d=t.map(function(f,g){var p=n.map(function(m){var b=m.pos,_=f-b[c];return{offset:_,dist:Math.abs(_),guideline:m}}).filter(function(m){var b=m.guideline,_=m.dist,C=b.type,w=b.center,S=b.element;return!(!a&&S||!l&&w||C!==e||_>o)}).sort(function(m,b){return m.dist-b.dist});return{pos:f,index:g,guidelineInfos:p}}).filter(function(f){return f.guidelineInfos.length>0}).sort(function(f,g){return f.guidelineInfos[0].dist-g.guidelineInfos[0].dist}),h=d.length>0;return{isSnap:h,index:h?d[0].index:-1,posInfos:d}}function M6t(n,e,t){var i=[];if(t[0]&&t[1])i=[t,[-t[0],t[1]],[t[0],-t[1]]].map(function(o){return ll(e,o)});else if(!t[0]&&!t[1])for(var r=[e[0],e[1],e[3],e[2],e[0]],s=0;s<4;++s)i.push(r[s]),i.push([(r[s][0]+r[s+1][0])/2,(r[s][1]+r[s+1][1])/2]);else n.props.keepRatio?i=[[-1,-1],[-1,1],[1,-1],[1,1],t].map(function(o){return ll(e,o)}):(i=owe(e,t),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));return g3(n,i.map(function(o){return o[0]}),i.map(function(o){return o[1]}),!0,1)}function pwe(n,e){var t=Math.abs(n.offset),i=Math.abs(e.offset);return n.isBound&&e.isBound?i-t:n.isBound?-1:e.isBound?1:n.isSnap&&e.isSnap?i-t:n.isSnap?-1:e.isSnap||t<To?1:i<To?-1:t-i}function qR(n,e){return n.slice().sort(function(t,i){var r=t.sign[e],s=i.sign[e],o=t.offset[e],a=i.offset[e];if(r){if(!s)return-1}else return 1;return pwe({isBound:t.isBound,isSnap:t.isSnap,offset:o},{isBound:i.isBound,isSnap:i.isSnap,offset:a})})[0]}function mwe(n,e){var t=AE([e[0][0],e[1][0]]),i=AE([e[0][1],e[1][1]]);return{vertical:t<=n[0],horizontal:i<=n[1]}}function pae(n,e){var t=e[0],i=e[1],r=i[0]-t[0],s=i[1]-t[1];Math.abs(r)<To&&(r=0),Math.abs(s)<To&&(s=0);var o,a;if(!r)o=t[0],a=n[0];else if(!s)o=t[1],a=n[1];else{var l=s/r;o=l*(n[0]-t[0])+t[1],a=n[1]}return o-a}function vwe(n,e,t){t===void 0&&(t=To);var i=pae(n[0],e)<=0;return n.slice(1).every(function(r){var s=pae(r,e),o=s<=0;return o===i||Math.abs(s)<=t})}function mae(n,e,t,i,r){return r===void 0&&(r=0),i&&e-r<=n||!i&&n<=t+r?{isBound:!0,offset:i?e-n:t-n}:{isBound:!1,offset:0}}function A6t(n,e,t){var i=n.props.innerBounds;if(!i)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var r=i.left,s=i.top,o=i.width,a=i.height,l=[[r,s],[r,s+a]],u=[[r,s],[r+o,s]],c=[[r+o,s],[r+o,s+a]],d=[[r,s+a],[r+o,s+a]],h=mwe(t,e),f=h.horizontal,g=h.vertical;if(vwe([t,[r,s],[r+o,s],[r,s+a],[r+o,s+a]],e))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var p=hm(e,u,g),m=hm(e,d,g),b=hm(e,l,f),_=hm(e,c,f),C=p.isBound&&m.isBound,w=p.isBound||m.isBound,S=b.isBound&&_.isBound,D=b.isBound||_.isBound,E=Lw(p.offset,m.offset),I=Lw(b.offset,_.offset),T=[0,0],M=!1,A=!1;return Math.abs(I)<Math.abs(E)?(T=[E,0],M=w,A=C):(T=[0,I],M=D,A=S),{isAllBound:A,isVerticalBound:w,isHorizontalBound:D,isBound:M,offset:T}}function hm(n,e,t,i,r){var s=n[0],o=n[1],a=e[0],l=e[1],u=IC(o[1]-s[1]),c=IC(o[0]-s[0]),d=IC(l[1]-a[1]),h=IC(l[0]-a[0]);if(h){if(!d){if(r&&!c)return{isBound:!1,offset:0};if(u){var m=(a[1]-s[1])/(u/c)+s[0];return mae(m,a[0],l[0],t,i)}else{var g=a[1]-s[1],p=Math.abs(g)<=(i||0);return{isBound:p,offset:p?g:0}}}}else{if(r&&!u)return{isBound:!1,offset:0};if(c){var f=u/c*(a[0]-s[0])+s[1];return mae(f,a[1],l[1],t,i)}else{var g=a[0]-s[0],p=Math.abs(g)<=(i||0);return{isBound:p,offset:p?g:0}}}return{isBound:!1,offset:0}}function _we(n,e,t,i){return e.map(function(r){var s=r[0],o=r[1],a=r[2],l=A6t(n,[o,a],t),u=l.isBound,c=l.offset,d=l.isVerticalBound,h=l.isHorizontalBound,f=Df({datas:i,distX:c[0],distY:c[1]}).map(function(g,p){return g*(s[p]?2/s[p]:0)});return{sign:s,isBound:u,isVerticalBound:d,isHorizontalBound:h,isSnap:!1,offset:f}})}function R6t(n,e,t){var i,r=bwe(e,[0,0],!1).map(function(h){var f=h[0],g=h[1],p=h[2];return[f.map(function(m){return Math.abs(m)*2}),g,p]}),s=_we(n,r,ll(e,[0,0]),t),o=qR(s,0),a=qR(s,1),l=0,u=0,c=o.isVerticalBound||a.isVerticalBound,d=o.isHorizontalBound||a.isHorizontalBound;return(c||d)&&(i=C6t({datas:t,distX:-o.offset[0],distY:-a.offset[1]}),l=i[0],u=i[1]),{vertical:{isBound:c,offset:l},horizontal:{isBound:d,offset:u}}}function O6t(n,e){var t=[],i=n[0],r=n[1];return i&&r?t.push([[0,r*2],n,[-i,r]],[[i*2,0],n,[i,-r]]):i?(t.push([[i*2,0],[i,1],[i,-1]]),e&&t.push([[0,-1],[i,-1],[-i,-1]],[[0,1],[i,1],[-i,1]])):r?(t.push([[0,r*2],[1,r],[-1,r]]),e&&t.push([[-1,0],[-1,r],[-1,-r]],[[1,0],[1,r],[1,-r]])):t.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),t}function bwe(n,e,t){return O6t(e,t).map(function(i){var r=i[0],s=i[1],o=i[2];return[r,ll(n,s),ll(n,o)]})}function vae(n,e,t,i){var r=i?n.map(function(o){return dm(o,i)}):n,s=nr([t],e);return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].some(function(o){return!vwe(s,o)})}function P6t(n){var e=n[0],t=n[1],i=t[0]-e[0],r=t[1]-e[1];if(!i)return Math.abs(e[0]);if(!r)return Math.abs(e[1]);var s=r/i;return Math.abs((-s*e[0]+e[1])/Math.sqrt(Math.pow(s,2)+1))}function F6t(n){var e=n[0],t=n[1],i=t[0]-e[0],r=t[1]-e[1];if(!i)return[e[0],0];if(!r)return[0,e[1]];var s=r/i,o=-s*e[0]+e[1];return[-o/(s+1/s),o/(s*s+1)]}function B6t(n,e,t,i,r){var s=n.props.innerBounds,o=r*Math.PI/180;if(!s)return[];var a=s.left,l=s.top,u=s.width,c=s.height,d=a-i[0],h=a+u-i[0],f=l-i[1],g=l+c-i[1],p=[[d,f],[h,f],[d,g],[h,g]],m=ll(t,[0,0]);if(!vae(t,p,m,0))return[];var b=[],_=p.map(function(C){return[Id(C),ns([0,0],C)]});return[[t[0],t[1]],[t[1],t[3]],[t[3],t[2]],[t[2],t[0]]].forEach(function(C){var w=ns([0,0],F6t(C)),S=P6t(C);b.push.apply(b,_.filter(function(D){var E=D[0];return E&&S<=E}).map(function(D){var E=D[0],I=D[1],T=Math.acos(E?S/E:0),M=I+T,A=I-T;return[o+M-w,o+A-w]}).reduce(function(D,E){return D.push.apply(D,E),D},[]).filter(function(D){return!vae(e,p,m,D)}).map(function(D){return yi(D*180/Math.PI,To)}))}),b}function $6t(n){var e=n.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var t=n.getRect(),i=t.pos1,r=t.pos2,s=t.pos3,o=t.pos4,a=[i,r,s,o],l=ll(a,[0,0]),u=e.left,c=e.top,d=e.width,h=e.height,f=[[u,c],[u,c+h]],g=[[u,c],[u+d,c]],p=[[u+d,c],[u+d,c+h]],m=[[u,c+h],[u+d,c+h]],b=[[i,r],[r,o],[o,s],[s,i]],_=[],C=[],w={top:!1,bottom:!1,left:!1,right:!1};return b.forEach(function(S){var D=mwe(l,S),E=D.horizontal,I=D.vertical,T=hm(S,g,I,1,!0),M=hm(S,m,I,1,!0),A=hm(S,f,E,1,!0),O=hm(S,p,E,1,!0);T.isBound&&!w.top&&(_.push(c),w.top=!0),M.isBound&&!w.bottom&&(_.push(c+h),w.bottom=!0),A.isBound&&!w.left&&(C.push(u),w.left=!0),O.isBound&&!w.right&&(C.push(u+d),w.right=!0)}),{horizontal:_,vertical:C}}function Xq(n,e,t){var i=n||{},r=i.position,s=r===void 0?"client":r,o=i.left,a=o===void 0?-1/0:o,l=i.top,u=l===void 0?-1/0:l,c=i.right,d=c===void 0?1/0:c,h=i.bottom,f=h===void 0?1/0:h,g={position:s,left:a,top:u,right:d,bottom:f};return{vertical:_ae(g,e,!0),horizontal:_ae(g,t,!1)}}function p3(n,e){var t=n.state,i=t.containerClientRect,r=i.clientHeight,s=i.clientWidth,o=i.clientLeft,a=i.clientTop,l=t.snapOffset,u=l.left,c=l.top,d=l.right,h=l.bottom,f=e||n.props.bounds||{},g=f.position||"client",p=g==="css",m=f.left,b=m===void 0?-1/0:m,_=f.top,C=_===void 0?-1/0:_,w=f.right,S=w===void 0?p?-1/0:1/0:w,D=f.bottom,E=D===void 0?p?-1/0:1/0:D;return p&&(S=s+d-u-S,E=r+h-c-E),{left:b+u-o,right:S+u-o,top:C+c-a,bottom:E+c-a}}function V6t(n,e,t){var i=p3(n),r=i.left,s=i.top,o=i.right,a=i.bottom,l=t[0],u=t[1],c=ti(t,e),d=c[0],h=c[1];Math.abs(d)<To&&(d=0),Math.abs(h)<To&&(h=0);var f=h>0,g=d>0,p={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(d===0&&h===0)return{vertical:p,horizontal:m};if(d===0)f?a<u&&(m.pos=a,m.offset=u-a):s>u&&(m.pos=s,m.offset=u-s);else if(h===0)g?o<l&&(p.pos=o,p.offset=l-o):r>l&&(p.pos=r,p.offset=l-r);else{var b=h/d,_=t[1]-b*l,C=0,w=0,S=!1;g&&o<=l?(C=b*o+_,w=o,S=!0):!g&&l<=r&&(C=b*r+_,w=r,S=!0),S&&(C<s||C>a)&&(S=!1),S||(f&&a<=u?(C=a,w=(C-_)/b,S=!0):!f&&u<=s&&(C=s,w=(C-_)/b,S=!0)),S&&(p.isBound=!0,p.pos=w,p.offset=l-w,m.isBound=!0,m.pos=C,m.offset=u-C)}return{vertical:p,horizontal:m}}function _ae(n,e,t){var i=n[t?"left":"top"],r=n[t?"right":"bottom"],s=Math.min.apply(Math,e),o=Math.max.apply(Math,e),a=[];return i+1>s&&a.push({isBound:!0,offset:s-i,pos:i}),r-1<o&&a.push({isBound:!0,offset:o-r,pos:r}),a.length||a.push({isBound:!1,offset:0,pos:0}),a.sort(function(l,u){return Math.abs(u.offset)-Math.abs(l.offset)})}function bae(n,e,t){var i=t?n.map(function(r){return dm(r,t)}):n;return i.some(function(r){return r[0]<e.left&&Math.abs(r[0]-e.left)>.1||r[0]>e.right&&Math.abs(r[0]-e.right)>.1||r[1]<e.top&&Math.abs(r[1]-e.top)>.1||r[1]>e.bottom&&Math.abs(r[1]-e.bottom)>.1})}function W6t(n,e,t){var i=Id(n),r=Math.sqrt(i*i-e*e)||0;return[r,-r].sort(function(s,o){return Math.abs(s-n[t?0:1])-Math.abs(o-n[t?0:1])}).map(function(s){return ns([0,0],t?[s,e]:[e,s])})}function H6t(n,e,t,i,r){if(!n.props.bounds)return[];var s=r*Math.PI/180,o=p3(n),a=o.left,l=o.top,u=o.right,c=o.bottom,d=a-i[0],h=u-i[0],f=l-i[1],g=c-i[1],p={left:d,top:f,right:h,bottom:g};if(!bae(t,p,0))return[];var m=[];return[[d,0],[h,0],[f,1],[g,1]].forEach(function(b){var _=b[0],C=b[1];t.forEach(function(w){var S=ns([0,0],w);m.push.apply(m,W6t(w,_,C).map(function(D){return s+D-S}).filter(function(D){return!bae(e,p,D)}).map(function(D){return yi(D*180/Math.PI,To)}))})}),m}var z6t={horizontal:["left","top","width","Y","X"],vertical:["top","left","height","X","Y"]};function U6t(n,e,t,i){var r=[],s=qq(n.filter(function(o){var a=o.element,l=o.gap;return a&&!l}),function(o){var a=o.element,l=o.pos,u=l[i],c=Math.min(0,u-e)<0?-1:1,d=c+"_"+l[i?0:1],h=HR(r,function(f){var g=f[0],p=f[1];return a===g&&u===p});return h?h[2]:(r.push([a,u,d]),d)});return s.forEach(function(o){o.sort(function(a,l){var u=EH(a.pos[i],a.size,e,t).size-EH(l.pos[i],a.size,e,t).size;return u||a.pos[i?0:1]-l.pos[i?0:1]})}),s}function EH(n,e,t,i){var r=n-t,s=r<0?r+e:i,o=r<0?0:r,a=o-s;return{size:a,pos:s}}function j6t(n,e){var t,i=n.direction,r=n.classNames,s=n.size,o=n.pos,a=n.zoom,l=n.key,u=i==="horizontal",c=u?"Y":"X";return e.createElement("div",{key:l,className:r.join(" "),style:(t={},t[u?"width":"height"]=""+s,t.transform="translate("+o[0]+", "+o[1]+") translate"+c+"(-50%) scale"+c+"("+a+")",t)})}function m3(n,e){return j6t(ht(ht({},n),{classNames:nr([Zn("line","guideline",n.direction)],n.classNames).filter(function(t){return t}),size:n.size||n.sizeValue+"px",pos:n.pos||n.posValue.map(function(t){return yi(t,.1)+"px"})}),e)}function Cae(n,e,t,i,r,s,o,a,l,u,c,d){var h=n.props,f=h.zoom,g=h.isDisplaySnapDigit,p=g===void 0?!0:g,m=z6t[e],b=m[0],_=m[1],C=m[2],w=m[4];return Yq(t.map(function(S,D){var E=!0;return S.map(function(I,T){var M,A=I.pos,O=I.size,F=EH(A[u],O,r,s),U=F.pos,V=F.size;if(V<a)return null;var G=E;E=!1;var j=p&&G?parseFloat(V.toFixed(l)):0;return d.createElement("div",{key:e+"LinkGuideline"+D+"-"+T,className:Zn("guideline-group",e),style:(M={},M[b]=i+U+"px",M[_]=-o+A[u?0:1]+"px",M[C]=V+"px",M)},m3({direction:e,classNames:[Zn("dashed")],size:"100%",posValue:[0,0],sizeValue:V,zoom:f},d),d.createElement("div",{className:Zn("size-value"),style:{transform:"translate"+w+"(-50%) scale("+f+")"}},j>0?c(j):""))})}))}function yae(n,e,t,i,r,s,o,a){var l=n.props.zoom;return t.map(function(u,c){var d=u.type,h=u.pos,f=[0,0];return f[o]=i,f[o?0:1]=-r+h,m3({key:e+"TargetGuideline"+c,classNames:[Zn("target","bold",d)],posValue:f,sizeValue:s,zoom:l,direction:e},a)})}function wae(n,e,t,i,r,s){var o=n.props.isDisplayInnerSnapDigit,a=t?0:1,l=i[t],u=s[t],c=[],d=e.filter(function(f){var g=f.element,p=f.pos,m=f.size;if(o&&g&&p[t]<l&&l+u<p[t]+m){var b=p[t]-l,_=p[a]-i[a];return c.push(ht(ht({},f),{inner:!0,gap:b,renderPos:t?[_,b]:[b,_]})),c.push(ht(ht({},f),{inner:!0,gap:p[t]+m-l-u,renderPos:t?[_,u]:[u,_]})),!1}return!0});d=d.filter(function(f){var g=f.element,p=f.pos,m=f.size,b=p[t];return g?d.every(function(_){var C=_.element,w=_.pos,S=_.size,D=w[t];return!C||f===_?!0:b+m<=D||D+S<=b||b<D&&D+S<b+m}):!0});var h=U6t(d,r[t],u,t);return c=c.filter(function(f){var g=f.gap,p=f.pos[a];return h.every(function(m){return m.every(function(b){var _=b.pos,C=-l+_[t];return _[a]!==p?!0:!(g<0&&C<0||g>0&&C>s[t])})})}),{guidelines:d,groups:h,gapGuidelines:c}}function Sae(n,e,t,i,r){var s=n.props.zoom;return t.filter(function(o){var a=o.hide;return!a}).map(function(o,a){var l=o.pos,u=o.size,c=o.element,d=[-i[0]+l[0],-i[1]+l[1]];return m3({key:e+"Guideline"+a,classNames:c?[Zn("bold")]:[],direction:e,posValue:d,sizeValue:u,zoom:s},r)})}function Lae(n,e,t,i,r){var s=n.props,o=s.snapDigit,a=o===void 0?0:o,l=s.isDisplaySnapDigit,u=l===void 0?!0:l,c=s.zoom,d=e==="horizontal"?"X":"Y",h=e==="horizontal"?"width":"height";return t.map(function(f,g){var p,m=f.renderPos,b=f.gap,_=f.className,C=f.inner,w=Math.abs(b),S=u?parseFloat(w.toFixed(a)):0;return r.createElement("div",{key:e+"GapGuideline"+g,className:Zn("guideline-group",e),style:(p={left:m[0]+"px",top:m[1]+"px"},p[h]=w+"px",p)},m3({direction:e,classNames:[Zn(C?"dashed":"gap"),_],size:"100%",posValue:[0,0],sizeValue:w,zoom:c},r),r.createElement("div",{className:Zn("size-value","gap"),style:{transform:"translate"+d+"(-50%) scale("+c+")"}},S>0?i(S):""))})}function j6(n){var e=n.state;if(!(e.guidelines&&e.guidelines.length)){var t=n.state.container,i=n.props.snapContainer||t,r=e.containerClientRect,s={left:0,top:0,bottom:0,right:0};if(t!==i){var o=a3(i,!0);if(o){var a=Qx(o),l=dae(e,[a.left-r.left,a.top-r.top]),u=dae(e,[a.right-r.right,a.bottom-r.bottom]);s.left=yi(l[0],.1),s.top=yi(l[1],.1),s.right=yi(u[0],.1),s.bottom=yi(u[1],.1)}}e.snapOffset=s,e.elementGuidelineValues=[],e.staticGuidelines=GR(n,!1),e.guidelines=LH(n),e.enableSnap=!0}}function sS(n,e){var t=n.props,i=t.snappable,r=t.bounds,s=t.innerBounds,o=t.verticalGuidelines,a=t.horizontalGuidelines,l=t.snapGridWidth,u=t.snapGridHeight,c=n.state,d=c.guidelines,h=c.enableSnap;return!i||!h||e&&i!==!0&&i.indexOf(e)<0?!1:!!(l||u||r||s||d&&d.length||o&&o.length||a&&a.length)}function DH(n,e,t,i,r){var s=tBt(n,e,t,i);if(!s)return{isOutside:!1,offset:[0,0]};var o=yg(n,e),a=yg(s,n),l=yg(s,e),u=a>o||l>o,c=Df({datas:r,distX:s[0],distY:s[1]}),d=c[0],h=c[1];return{offset:[d,h],isOutside:u}}function Cwe(n,e,t,i,r,s){var o=jD(n,e,t,s?4:3),a=w6t(o,r);return Gq(o,ti(i,a))}function kae(n,e){return n.isBound?n.offset:e.isSnap?e.offset:0}function YR(n,e){return n.isBound?n.offset:e.isSnap?kH(e).offset:0}function K6t(n,e,t,i){var r=V6t(n,e,t),s=r.horizontal,o=r.vertical,a=i?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:x6t(n,e,t),l=a.horizontal,u=a.vertical,c=kae(s,l),d=kae(o,u),h=Math.abs(c),f=Math.abs(d);return{horizontal:{isBound:s.isBound,isSnap:l.isSnap,offset:c,dist:h},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:d,dist:f}}}function v3(n,e,t,i){i===void 0&&(i=t);var r=Xq(p3(n),i.map(function(g){return g[0]}),i.map(function(g){return g[1]})),s=r.horizontal,o=r.vertical,a=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:g3(n,t.map(function(g){return g[0]}),t.map(function(g){return g[1]}),n.props.snapCenter),l=a.horizontal,u=a.vertical,c=YR(s[0],l),d=YR(o[0],u),h=Math.abs(c),f=Math.abs(d);return{horizontal:{isBound:s[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:h,bounds:s,snap:l},vertical:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:f,bounds:o,snap:u}}}function Eae(n,e,t,i,r){r===void 0&&(r={});var s=Xq(e,t,i),o=s.horizontal,a=s.vertical,l=r.isRequest?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:gwe(n,t,i,r),u=l.horizontal,c=l.vertical,d=YR(o[0],u),h=YR(a[0],c),f=Math.abs(d),g=Math.abs(h);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:f,bounds:o,snap:u},vertical:{isBound:a[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:h,dist:g,bounds:a,snap:c}}}function G6t(n,e,t,i,r){var s=[-t[0],-t[1]],o=n.state,a=o.width,l=o.height,u=n.props.bounds,c=1/0,d=1/0;if(u){var h=[[t[0],-t[1]],[-t[0],t[1]]],f=u.left,g=f===void 0?-1/0:f,p=u.top,m=p===void 0?-1/0:p,b=u.right,_=b===void 0?1/0:b,C=u.bottom,w=C===void 0?1/0:C;h.forEach(function(S){var D=S[0]!==s[0],E=S[1]!==s[1],I=ll(e,S),T=ns(i,I)*360/Math.PI;if(E){var M=I.slice();(Math.abs(T-360)<2||Math.abs(T-180)<2)&&(M[1]=i[1]);var A=DH(i,M,(i[1]<I[1]?w:m)-I[1],!1,r),O=A.offset,F=O[1],U=A.isOutside;isNaN(F)||(d=l+(U?1:-1)*Math.abs(F))}if(D){var M=I.slice();(Math.abs(T-90)<2||Math.abs(T-270)<2)&&(M[0]=i[0]);var V=DH(i,M,(i[0]<I[0]?_:g)-I[0],!0,r),G=V.offset[0],j=V.isOutside;isNaN(G)||(c=a+(j?1:-1)*Math.abs(G))}})}return{maxWidth:c,maxHeight:d}}function q6t(n,e,t,i){var r=ns(n,e)/Math.PI*180,s=t.vertical,o=s.isBound,a=s.isSnap,l=s.dist,u=t.horizontal,c=u.isBound,d=u.isSnap,h=u.dist,f=r%180,g=f<3||f>177,p=f>87&&f<93;return h<l&&(o||a&&!p&&(!i||!g))?"vertical":c||d&&!g&&(!i||!p)?"horizontal":""}function Y6t(n,e,t,i,r,s){return t.map(function(o){var a=o[0],l=o[1],u=ll(e,a),c=ll(e,l),d=i?K6t(n,u,c,r):v3(n,r,[c]),h=d.horizontal,f=h.offset,g=h.isBound,p=h.isSnap,m=d.vertical,b=m.offset,_=m.isBound,C=m.isSnap,w=ti(l,a);if(!b&&!f)return{isBound:_||g,isSnap:C||p,sign:w,offset:[0,0]};var S=q6t(u,c,d,i);if(!S)return{sign:w,isBound:!1,isSnap:!1,offset:[0,0]};var D=S==="vertical",E=DH(u,c,-(D?b:f),D,s).offset.map(function(I,T){return I*(w[T]?2/w[T]:0)});return{sign:w,isBound:D?_:g,isSnap:D?C:p,offset:E}})}function X6t(n,e){var t=[],i=[-n[0],-n[1]];return n[0]&&n[1]?(t.push([i,[n[0],-n[1]]],[i,[-n[0],n[1]]]),e&&t.push([i,n])):n[0]?e?t.push([i,[i[0],-1]],[i,[i[0],1]],[i,[n[0],-1]],[i,n],[i,[n[0],1]]):t.push([[i[0],-1],[n[0],-1]],[[i[0],0],[n[0],0]],[[i[0],1],[n[0],1]]):n[1]?e?t.push([i,[-1,i[1]]],[i,[1,i[1]]],[i,[-1,n[1]]],[i,[1,n[1]]],[i,n]):t.push([[-1,i[1]],[-1,n[1]]],[[0,i[1]],[0,n[1]]],[[1,i[1]],[1,n[1]]]):t.push([i,[1,0]],[i,[-1,0]],[i,[0,-1]],[i,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),t}function Z6t(n,e,t,i,r,s){var o=X6t(t,i),a=bwe(e,t,i),l=nr(Y6t(n,e,o,i,r,s),_we(n,a,ll(e,[0,0]),s)),u=qR(l,0),c=qR(l,1);return{width:{isBound:u.isBound,offset:u.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}function Q6t(n,e,t,i,r,s,o,a,l){var u=ll(e,o),c=v3(n,a,[u]),d=c.horizontal.offset,h=c.vertical.offset;if(h||d){var f=Df({datas:l,distX:-h,distY:-d}),g=f[0],p=f[1],m=Math.min(r||1/0,t+o[0]*g),b=Math.min(s||1/0,i+o[1]*p);return[m-t,b-i]}return[0,0]}function ywe(n,e,t,i,r,s,o,a){for(var l=Ef(n.state),u=n.props.keepRatio,c=0,d=0,h=0;h<2;++h){var f=e(c,d),g=Z6t(n,f,r,u,o,a),p=g.width,m=g.height,b=p.isBound,_=m.isBound,C=p.offset,w=m.offset;if(h===1&&(b||(C=0),_||(w=0)),h===0&&o&&!b&&!_)return[0,0];if(u){var S=Math.abs(C)*(t?1/t:1),D=Math.abs(w)*(i?1/i:1),E=b&&_?S<D:_||!b&&S<D;E?C=t*w/i:w=i*C/t}c+=C,d+=w}if(r[0]&&r[1]){var I=G6t(n,l,r,s,a),T=I.maxWidth,M=I.maxHeight,A=Q6t(n,e(c,d).map(function(U){return U.map(function(V){return yi(V,PE)})}),t+c,i+d,T,M,r,o,a),C=A[0],w=A[1];c+=C,d+=w}return[c,d]}function wwe(n,e,t,i){if(!sS(n,"rotatable"))return i;var r=e.pos1,s=e.pos2,o=e.pos3,a=e.pos4,l=i*Math.PI/180,u=[r,s,o,a].map(function(h){return ti(h,t)}),c=u.map(function(h){return dm(h,l)}),d=nr(H6t(n,u,c,t,i),B6t(n,u,c,t,i));return d.sort(function(h,f){return Math.abs(h-i)-Math.abs(f-i)}),d.length?d[0]:i}function J6t(n,e,t,i,r,s,o){if(!sS(n,"resizable"))return[0,0];var a=n.state,l=a.allMatrix,u=a.is3d;return ywe(n,function(c,d){return Cwe(l,e+c,t+d,r,i,u)},e,t,i,r,s,o)}function eBt(n,e,t,i,r){var s=r.width,o=r.height,a=r.fixedPosition;if(!sS(n,"scalable"))return[0,0];var l=r.is3d,u=ywe(n,function(c,d){return Cwe(k6t(r,Li(e,[c/s,d/o])),s,o,a,t,l)},s,o,t,a,i,r);return[u[0]/s,u[1]/o]}function tBt(n,e,t,i){var r=e[0]-n[0],s=e[1]-n[1];if(Math.abs(r)<To&&(r=0),Math.abs(s)<To&&(s=0),!r)return i?[0,0]:[0,t];if(!s)return i?[t,0]:[0,0];var o=s/r,a=n[1]-o*n[0];if(i){var l=o*(e[0]+t)+a;return[t,l-e[1]]}else{var u=(e[1]+t-a)/o;return[u-e[0],t]}}function nBt(n,e){e.absolutePoses=Ef(n.state)}function iBt(n,e,t,i,r){var s=e[0],o=e[1],a=t[0],l=t[1],u=i[0],c=i[1],d=r[0],h=r[1],f=-d,g=-h;if(n&&s&&o){f=0,g=0;var p=[];if(a&&l?p.push([0,h],[d,0]):a?p.push([d,0]):l?p.push([0,h]):u&&c?p.push([0,h],[d,0]):u?p.push([d,0]):c&&p.push([0,h]),p.length){p.sort(function(C,w){return Id(ti([s,o],C))-Id(ti([s,o],w))});var m=p[0];if(m[0]&&Math.abs(s)>To)f=-m[0],g=o*Math.abs(s+f)/Math.abs(s)-o;else if(m[1]&&Math.abs(o)>To){var b=o;g=-m[1],f=s*Math.abs(o+g)/Math.abs(b)-s}if(n&&l&&a)if(Math.abs(f)>To&&Math.abs(f)<Math.abs(d)){var _=Math.abs(d)/Math.abs(f);f*=_,g*=_}else if(Math.abs(g)>To&&Math.abs(g)<Math.abs(h)){var _=Math.abs(h)/Math.abs(g);f*=_,g*=_}else f=Lw(-d,f),g=Lw(-h,g)}}else f=s||a?-d:0,g=o||l?-h:0;return[f,g]}function rBt(n,e,t,i,r,s){if(!sS(n,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Gq(s.absolutePoses,[e,t]),a=Ac(o),l=a.left,u=a.right,c=a.top,d=a.bottom,h=n.props.snapCenter,f=[[l,c],[u,c],[l,d],[u,d]];h&&f.push([(l+u)/2,(c+d)/2]);var g=v3(n,r,f,o),p=g.vertical,m=g.horizontal,b=R6t(n,o,s),_=b.vertical,C=b.horizontal,w=p.isSnap,S=m.isSnap,D=p.isBound||_.isBound,E=m.isBound||C.isBound,I=Lw(p.offset,_.offset),T=Lw(m.offset,C.offset),M=iBt(i,[e,t],[D,E],[w,S],[I,T]),A=M[0],O=M[1];return[{isBound:D,isSnap:w,offset:A},{isBound:E,isSnap:S,offset:O}]}function Dae(n){var e=[];return n.forEach(function(t){t.guidelineInfos.forEach(function(i){var r=i.guideline;e.indexOf(r)>-1||e.push(r)})}),e}function sBt(n,e,t,i,r,s,o){var a=Math.abs(s),l=r[e]+(s>0?i[0]:0);return n.filter(function(u){var c=u.pos;return c[e]<=t[e]}).sort(function(u,c){var d=u.pos,h=c.pos;return h[e]-d[e]}).filter(function(u){var c=u.pos,d=u.sizes,h=c[e];return yi(h+d[e],PE)===yi(l-a,PE)?(l=h,!0):!1}).map(function(u){var c=-t[e]+u.pos[e]+u.sizes[e];return ht(ht({},u),{gap:s,renderPos:e?[o,c]:[c,o]})})}function oBt(n,e,t,i,r,s,o){var a=Math.abs(s),l=r[e]+(s<0?i[e]:0);return n.filter(function(u){var c=u.pos;return c[e]>t[e]}).sort(function(u,c){var d=u.pos,h=c.pos;return d[e]-h[e]}).filter(function(u){var c=u.pos,d=u.sizes,h=c[e];return yi(h,PE)===yi(l+a,PE)?(l=h+d[e],!0):!1}).map(function(u){var c=-t[e]+u.pos[e]-a;return ht(ht({},u),{gap:s,renderPos:e?[o,c]:[c,o]})})}function Iae(n,e,t,i){var r=n.filter(function(l){var u=l.element,c=l.gap,d=l.type;return u&&c&&d===e}),s=e==="vertical"?[0,1]:[1,0],o=s[0],a=s[1];return Yq(r.map(function(l){var u=l.pos,c=l.gap,d=l.gapGuidelines,h=l.sizes,f=c6t(u[a]+h[a]-t[a],u[a]-t[a]-i[a]),g=Math.min(h[a],i[a]);if(f>0&&f>g?f=(f-g/2)*2:f<0&&f<-g&&(f=(f+g/2)*2),f===0)return[];var p=(f>0?0:i[a])+f/2;return nr(sBt(d,o,t,i,u,c,p),oBt(d,o,t,i,u,c,p))}))}function Tae(n,e,t,i,r,s){var o=Xq(p3(n,s),e,t),a=o.vertical,l=o.horizontal;a.forEach(function(h){h.isBound&&i.push({type:"bounds",pos:h.pos})}),l.forEach(function(h){h.isBound&&r.push({type:"bounds",pos:h.pos})});var u=$6t(n),c=u.vertical,d=u.horizontal;c.forEach(function(h){Wc(i,function(f){var g=f.type,p=f.pos;return g==="bounds"&&p===h})>=0||i.push({type:"bounds",pos:h})}),d.forEach(function(h){Wc(r,function(f){var g=f.type,p=f.pos;return g==="bounds"&&p===h})>=0||r.push({type:"bounds",pos:h})})}var aBt={name:"snappable",props:{snappable:[Boolean,Array],snapContainer:Object,snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(n,e){var t=n.state,i=t.top,r=t.left,s=t.pos1,o=t.pos2,a=t.pos3,l=t.pos4,u=t.snapRenderInfo,c=t.targetClientRect,d=t.containerClientRect,h=t.is3d,f=t.rootMatrix;if(!u||!sS(n,""))return[];t.staticGuidelines=GR(n,!1,t.staticGuidelines),t.guidelines=LH(n);var g=h?4:3,p=Math.min(s[0],o[0],a[0],l[0]),m=Math.min(s[1],o[1],a[1],l[1]),b=hwe(f,d,g),_=S_(f,[c.left-b[0],c.top-b[1]],g),C=_[0],w=_[1],S=n.props,D=S.snapThreshold,E=D===void 0?5:D,I=S.snapDigit,T=I===void 0?0:I,M=S.snapDistFormat,A=M===void 0?function(x){return x}:M,O=u.externalPoses||[],F=Ef(n.state),U=[],V=[],G=[],j=[],X=[],ie=Ac(F),Ce=ie.width,Be=ie.height,we=ie.top,ke=ie.left,Se=ie.bottom,fe=ie.right,pe=O.length>0,me=pe?Ac(O):{};if(!u.request){if(u.direction&&X.push(M6t(n,F,u.direction)),u.snap){var Ne=Ac(F);u.center&&(Ne.middle=(Ne.top+Ne.bottom)/2,Ne.center=(Ne.left+Ne.right)/2),X.push(fae(n,Ne,!0,1))}pe&&(u.center&&(me.middle=(me.top+me.bottom)/2,me.center=(me.left+me.right)/2),X.push(fae(n,me,!0,1))),X.forEach(function(x){var R=x.vertical.posInfos,H=x.horizontal.posInfos;U.push.apply(U,R.filter(function(W){var K=W.guidelineInfos;return K.some(function(re){var se=re.guideline;return!se.hide})}).map(function(W){return{type:"snap",pos:W.pos}})),V.push.apply(V,H.filter(function(W){var K=W.guidelineInfos;return K.some(function(re){var se=re.guideline;return!se.hide})}).map(function(W){return{type:"snap",pos:W.pos}})),G.push.apply(G,Dae(R)),j.push.apply(j,Dae(H))})}Tae(n,[ke,fe],[we,Se],U,V),pe&&Tae(n,[me.left,me.right],[me.top,me.bottom],U,V,u.externalBounds);var je=Iae(G,"vertical",[r,i],[Ce,Be]),rt=Iae(j,"horizontal",[r,i],[Ce,Be]),xe=nr(G,j);an(n,"onSnap",{guidelines:xe.filter(function(x){var R=x.element;return!R}),elements:qq(xe.filter(function(x){var R=x.element;return R}),function(x){var R=x.element;return R}),gaps:nr(rt,je)},!0);var Ve=wae(n,j,0,[r,i],[C,w],[Ce,Be]),ee=Ve.guidelines,ne=Ve.groups,le=Ve.gapGuidelines,de=wae(n,G,1,[r,i],[C,w],[Ce,Be]),ye=de.guidelines,q=de.groups,P=de.gapGuidelines;return nr(Lae(n,"vertical",nr(rt,P),A,e),Lae(n,"horizontal",nr(je,le),A,e),Cae(n,"horizontal",ne,p,C,Ce,i,E,T,0,A,e),Cae(n,"vertical",q,m,w,Be,r,E,T,1,A,e),Sae(n,"horizontal",ee,[r,i],e),Sae(n,"vertical",ye,[r,i],e),yae(n,"horizontal",V,p,i,Ce,0,e),yae(n,"vertical",U,m,r,Be,1,e))},dragStart:function(n,e){n.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},j6(n)},drag:function(n){var e=n.state;e.staticGuidelines=GR(n,!1,e.staticGuidelines),e.guidelines=LH(n)},pinchStart:function(n){this.unset(n)},dragEnd:function(n){this.unset(n)},dragControlCondition:function(n,e){if(FE(n,e)||IH(n,e))return!0;if(!e.isRequest&&e.inputEvent)return Dc(e.inputEvent.target,Zn("snap-control"))},dragControlStart:function(n){n.state.snapRenderInfo=null,j6(n)},dragControl:function(n){this.drag(n)},dragControlEnd:function(n){this.unset(n)},dragGroupStart:function(n,e){this.dragStart(n,e)},dragGroup:function(n){this.drag(n)},dragGroupEnd:function(n){this.unset(n)},dragGroupControlStart:function(n){n.state.snapRenderInfo=null,j6(n)},dragGroupControl:function(n){this.drag(n)},dragGroupControlEnd:function(n){this.unset(n)},unset:function(n){var e=n.state;e.enableSnap=!1,e.staticGuidelines=[],e.guidelines=[],e.snapRenderInfo=null}},kl={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(n,e){var t=n.props,i=t.throttleDragRotate,r=t.zoom,s=n.state,o=s.dragInfo,a=s.beforeOrigin;if(!i||!o)return[];var l=o.dist;if(!l[0]&&!l[1])return[];var u=Id(l),c=ns(l,[0,0]);return[e.createElement("div",{className:Zn("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:u+"px",transform:"translate("+a[0]+"px, "+a[1]+"px) rotate("+c+"rad) scaleY("+r+")"}})]},dragStart:function(n,e){var t=e.datas,i=e.parentEvent,r=e.parentGesto,s=n.state,o=s.target,a=s.gesto;if(a)return!1;s.gesto=r||n.targetGesto;var l=ql(o);t.datas={},t.left=parseFloat(l.left||"")||0,t.top=parseFloat(l.top||"")||0,t.bottom=parseFloat(l.bottom||"")||0,t.right=parseFloat(l.right||"")||0,t.startValue=[0,0],Z1(n,e),f3(e,"translate"),nBt(n,t),t.prevDist=[0,0],t.prevBeforeDist=[0,0],t.isDrag=!1;var u=ki(n,e,ht({set:function(d){t.startValue=d}},h3(e))),c=i||an(n,"onDragStart",u);return c!==!1?(t.isDrag=!0,n.state.dragInfo={startRect:n.getRect(),dist:[0,0]}):(s.gesto=null,t.isPinch=!1),t.isDrag?u:!1},drag:function(n,e){u3(e,"translate");var t=e.datas,i=e.parentEvent,r=e.parentFlag,s=e.isPinch,o=e.isRequest,a=e.distX,l=e.distY,u=t.isDrag,c=t.prevDist,d=t.prevBeforeDist,h=t.startValue;if(!!u){var f=n.props,g=f.parentMoveable,p=i?0:f.throttleDrag||0,m=i?0:f.throttleDragRotate||0,b=!1,_=0;if(!i&&m>0&&(a||l)){var C=f.startDragRotate||0,w=yi(C+ns([0,0],[a,l])*180/Math.PI,m)-C,S=l*Math.abs(Math.cos((w-90)/180*Math.PI)),D=a*Math.abs(Math.cos(w/180*Math.PI)),E=Id([D,S]);_=w*Math.PI/180,a=E*Math.cos(_),l=E*Math.sin(_)}if(!s&&!i&&!r&&(!m||a||l)){var I=rBt(n,a,l,m,o,t),T=I[0],M=I[1],A=T.isSnap,O=T.isBound,F=T.offset,U=M.isSnap,V=M.isBound,G=M.offset;b=A||U||O||V,a+=F,l+=G}t.passDeltaX=a-(t.passDistX||0),t.passDeltaY=l-(t.passDistY||0),t.passDistX=a,t.passDistY=l;var j=Li(rwe({datas:t,distX:a,distY:l}),h),X=Li(b6t({datas:t,distX:a,distY:l}),h);!m&&!b&&(cae(X,p),cae(j,p));var ie=ti(j,h),Ce=ti(X,h),Be=ti(Ce,c),we=ti(ie,d);t.prevDist=Ce,t.prevBeforeDist=ie;var ke=t.left+ie[0],Se=t.top+ie[1],fe=t.right-ie[0],pe=t.bottom-ie[1],me=c3(t,"translate("+X[0]+"px, "+X[1]+"px)","translate("+Ce[0]+"px, "+Ce[1]+"px)");if(n.state.dragInfo.dist=i?[0,0]:Ce,!(!i&&!g&&Be.every(function(Ve){return!Ve})&&we.some(function(Ve){return!Ve}))){var Ne=n.state,je=Ne.width,rt=Ne.height,xe=ki(n,e,{transform:me,dist:Ce,delta:Be,translate:X,beforeDist:ie,beforeDelta:we,beforeTranslate:j,left:ke,top:Se,right:fe,bottom:pe,width:je,height:rt,isPinch:s});return!i&&an(n,"onDrag",xe),xe}}},dragEnd:function(n,e){var t=e.parentEvent,i=e.datas,r=e.isDrag;if(n.state.gesto=null,n.state.dragInfo=null,!!i.isDrag)return i.isDrag=!1,!t&&an(n,"onDragEnd",Hu(n,e,{})),r},dragGroupStart:function(n,e){var t=e.datas,i=e.clientX,r=e.clientY,s=this.dragStart(n,e);if(!s)return!1;var o=U6(n,this,"dragStart",[i||0,r||0],e,!1),a=ht(ht({},s),{targets:n.props.targets,events:o}),l=an(n,"onDragGroupStart",a);return t.isDrag=l!==!1,t.isDrag?s:!1},dragGroup:function(n,e){var t=e.datas;if(!!t.isDrag){var i=this.drag(n,e),r=e.datas,s=r.passDeltaX,o=r.passDeltaY,a=U6(n,this,"drag",[s,o],e,!1);if(!!i){var l=ht({targets:n.props.targets,events:a},i);return an(n,"onDragGroup",l),l}}},dragGroupEnd:function(n,e){var t=e.isDrag,i=e.datas;if(!!i.isDrag)return this.dragEnd(n,e),U6(n,this,"dragEnd",[0,0],e,!1),an(n,"onDragGroupEnd",Hu(n,e,{targets:n.props.targets})),t},request:function(n){var e={},t=n.getRect(),i=0,r=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(s){return"x"in s?i=s.x-t.left:"deltaX"in s&&(i+=s.deltaX),"y"in s?r=s.y-t.top:"deltaY"in s&&(r+=s.deltaY),{datas:e,distX:i,distY:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(n){n.state.dragInfo=null}};function Zq(n,e,t,i){i===void 0&&(i="");var r=n.state,s=r.renderPoses,o=r.rotation,a=r.direction,l=n.props,u=l.renderDirections,c=u===void 0?e:u,d=l.zoom,h={};if(!c)return[];var f=a>0?1:-1,g=c===!0?qye:c,p=o/Math.PI*180;return g.forEach(function(m){h[m]=!0}),g.map(function(m){var b=q8t[m];if(!b||!h[m])return null;var _=(yi(p,15)+f*Y8t[m]+720)%180;return t.createElement("div",{className:Zn("control","direction",m,i),"data-rotation":_,"data-direction":m,key:"direction-"+m,style:Qye.apply(void 0,nr([o,d],b.map(function(C){return s[C]})))})})}function TC(n,e,t,i,r,s){for(var o=[],a=6;a<arguments.length;a++)o[a-6]=arguments[a];var l=ns(t,i),u=e?yi(l/Math.PI*180,15)%180:-1;return n.createElement("div",{key:"line"+s,className:Zn.apply(void 0,nr(["line","direction",e],o)),"data-rotation":u,"data-line-index":s,"data-direction":e,style:C2(t,i,r,l)})}function Qq(n,e){return Zq(n,qye,e)}function Swe(n,e){return Zq(n,["nw","ne","sw","se"],e)}function K6(n,e,t,i,r,s){var o=n.state.is3d?4:3,a=ea(n.state.rootMatrix,r,o),l=Li([s.left,s.top],a);e.startAbsoluteOrigin=l,e.prevDeg=ns(l,[t,i])/Math.PI*180,e.prevSnapDeg=e.prevDeg,e.startDeg=e.prevDeg,e.loop=0}function G6(n,e,t,i,r,s){var o=t.prevDeg,a=wwe(n,e,t.origin,i);t.prevDeg=a;var l=a-o;return[l,a,s+a]}function Jx(n,e,t,i,r,s,o,a){var l=t.prevDeg,u=t.prevSnapDeg,c=t.startDeg,d=t.loop;l>i&&l>270&&i<90?++t.loop:l<i&&l<90&&i>270&&--t.loop;var h=t.loop,f=d*360+u-c+s,g=h*360+i-c+s;t.prevDeg=g-h*360+c-s,g=yi(g,o);var p=r*(g-s);a&&(p=wwe(n,e,t.origin,p),g=p/r+s),t.prevSnapDeg=g-h*360+c-s;var m=r*(g-f);return[m,p,s+p]}function q6(n,e,t,i,r,s,o,a){return Jx(n,e,t,ns(t.startAbsoluteOrigin,[r,s])/Math.PI*180,i,o,a,!0)}function lBt(n,e,t){var i=e[0],r=e[1],s=e[2],o=e[3];if(n!=="none"){var a=(n||"top").split("-"),l=a[0],u=a[1],c=[i,r];l==="left"?c=[s,i]:l==="right"?c=[r,o]:l==="bottom"&&(c=[o,s]);var d=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2],h=ewe(c,t);if(u){var f=u==="top"||u==="left",g=l==="bottom"||l==="left";d=c[f&&!g||!f&&g?0:1]}return[d,h]}}function IH(n,e){if(e.isRequest)return e.requestAble==="rotatable";var t=e.inputEvent.target;if(Dc(t,Zn("rotation-control")))return!0;var i=n.props.rotationTarget;return i?wH(i,!0).some(function(r){return r?t===r||t.contains(r):!1}):!1}var uBt={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object},events:{onRotateStart:"rotateStart",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[`.rotation {
            position: absolute;
            height: 40px;
            width: 1px;
            transform-origin: 50% 100%;
            height: calc(40px * var(--zoom));
            top: auto;
            left: 0;
            bottom: 100%;
            will-change: transform;
        }
        .rotation .rotation-line {
            display: block;
            width: 100%;
            height: 100%;
            transform-origin: 50% 50%;
        }
        .rotation .rotation-control {
            border-color: #4af;
            border-color: var(--moveable-color);
            background:#fff;
            cursor: alias;
        }`],render:function(n,e){var t=n.props,i=t.rotatable,r=t.rotationPosition,s=t.zoom,o=t.renderDirections,a=n.state,l=a.renderPoses,u=a.direction;if(!i)return null;var c=lBt(r,l,u),d=[];if(c){var h=c[0],f=c[1];d.push(e.createElement("div",{key:"rotation",className:Zn("rotation"),style:{transform:"translate(-50%) translate("+h[0]+"px, "+h[1]+"px) rotate("+f+"rad)"}},e.createElement("div",{className:Zn("line rotation-line"),style:{transform:"scaleX("+s+")"}}),e.createElement("div",{className:Zn("control rotation-control"),style:{transform:"translate(0.5px) scale("+s+")"}})))}return o&&d.push.apply(d,Zq(n,[],e)),d},dragControlCondition:IH,dragControlStart:function(n,e){var t=e.datas,i=e.clientX,r=e.clientY,s=e.parentRotate,o=e.parentFlag,a=e.isPinch,l=e.isRequest,u=n.state,c=u.target,d=u.left,h=u.top,f=u.origin,g=u.beforeOrigin,p=u.direction,m=u.beforeDirection,b=u.targetTransform,_=u.moveableClientRect;if(!l&&!c)return!1;var C=n.getRect();if(t.rect=C,t.transform=b,t.left=d,t.top=h,t.fixedPosition=dwe(n,cwe(n)),t.absoluteInfo={origin:C.origin,startValue:C.rotation},K6(n,t.absoluteInfo,i,r,f,_),l||a||o){var w=s||0;t.beforeInfo={origin:C.beforeOrigin,prevDeg:w,startDeg:w,prevSnapDeg:w,loop:0},t.afterInfo={origin:C.origin,prevDeg:w,startDeg:w,prevSnapDeg:w,loop:0}}else t.beforeInfo={origin:C.beforeOrigin},t.afterInfo={origin:C.origin},K6(n,t.beforeInfo,i,r,g,_),K6(n,t.afterInfo,i,r,f,_);t.direction=p,t.beforeDirection=m,t.startValue=0,t.datas={},f3(e,"rotate");var S=ki(n,e,ht(ht({set:function(E){t.startValue=E*Math.PI/180}},h3(e)),{dragStart:kl.dragStart(n,new KD().dragStart([0,0],e))})),D=an(n,"onRotateStart",S);return t.isRotate=D!==!1,n.state.snapRenderInfo={request:e.isRequest},t.isRotate?S:!1},dragControl:function(n,e){var t,i,r,s,o,a,l,u,c,d=e.datas,h=e.clientX,f=e.clientY,g=e.parentRotate,p=e.parentFlag,m=e.isPinch,b=e.groupDelta,_=d.beforeDirection,C=d.beforeInfo,w=d.afterInfo,S=d.absoluteInfo,D=d.isRotate,E=d.startValue,I=d.rect;if(!!D){u3(e,"rotate");var T=_6t(e),M=_*T,A=n.props,O=A.throttleRotate,F=O===void 0?0:O,U=A.parentMoveable,V,G,j,X,ie,Ce,Be,we,ke,Se=180/Math.PI*E,fe=S.startValue;if(!p&&"parentDist"in e){var pe=e.parentDist;t=G6(n,I,w,pe,M,Se),V=t[0],G=t[1],j=t[2],i=G6(n,I,C,pe,_,Se),X=i[0],ie=i[1],Ce=i[2],r=G6(n,I,S,pe,M,fe),Be=r[0],we=r[1],ke=r[2]}else m||p?(s=Jx(n,I,w,g,M,Se,F),V=s[0],G=s[1],j=s[2],o=Jx(n,I,C,g,_,Se,F),X=o[0],ie=o[1],Ce=o[2],a=Jx(n,I,S,g,M,fe,F),Be=a[0],we=a[1],ke=a[2]):(l=q6(n,I,w,M,h,f,Se,F),V=l[0],G=l[1],j=l[2],u=q6(n,I,C,_,h,f,Se,F),X=u[0],ie=u[1],Ce=u[2],c=q6(n,I,S,M,h,f,fe,F),Be=c[0],we=c[1],ke=c[2]);if(!(!Be&&!V&&!X&&!U)){var me=c3(d,"rotate("+j+"deg)","rotate("+G+"deg)"),Ne=D6t(n,G,d.fixedPosition,d),je=ti(Li(b||[0,0],Ne),d.prevInverseDist||[0,0]);d.prevInverseDist=Ne;var rt=ki(n,e,ht({delta:V,dist:G,rotate:j,beforeDist:ie,beforeDelta:X,beforeRotate:Ce,absoluteDist:we,absoluteDelta:Be,absoluteRotate:ke,isPinch:!!m},lwe(n,me,je,m,e)));return an(n,"onRotate",rt),rt}}},dragControlEnd:function(n,e){var t=e.datas,i=e.isDrag;return t.isRotate?(t.isRotate=!1,an(n,"onRotateEnd",Hu(n,e,{})),i):!1},dragGroupControlCondition:IH,dragGroupControlStart:function(n,e){var t=e.datas,i=n.state,r=i.left,s=i.top,o=i.beforeOrigin,a=this.dragControlStart(n,e);if(!a)return!1;a.set(t.beforeDirection*n.rotation);var l=Og(n,this,"dragControlStart",e,function(d,h){var f=d.state,g=f.left,p=f.top,m=f.beforeOrigin,b=Li(ti([g,p],[r,s]),ti(m,o));return h.datas.groupClient=b,ht(ht({},h),{parentRotate:0})}),u=ht(ht({},a),{targets:n.props.targets,events:l}),c=an(n,"onRotateGroupStart",u);return t.isRotate=c!==!1,t.isRotate?a:!1},dragGroupControl:function(n,e){var t=e.datas;if(!!t.isRotate){var i=this.dragControl(n,e);if(!!i){var r=t.beforeDirection,s=i.beforeDist,o=i.beforeDelta,a=o/180*Math.PI,l=Og(n,this,"dragControl",e,function(c,d){var h=d.datas.groupClient,f=h[0],g=h[1],p=dm([f,g],a*r),m=p[0],b=p[1],_=[m-f,b-g];return d.datas.groupClient=[m,b],ht(ht({},d),{parentRotate:s,groupDelta:_})});n.rotation=r*i.beforeRotate;var u=ht({targets:n.props.targets,events:l,set:function(c){n.rotation=c}},i);return an(n,"onRotateGroup",u),u}}},dragGroupControlEnd:function(n,e){var t=e.isDrag,i=e.datas;if(!!i.isRotate){this.dragControlEnd(n,e),Og(n,this,"dragControlEnd",e);var r=Hu(n,e,{targets:n.props.targets});return an(n,"onRotateGroupEnd",r),t}},request:function(n){var e={},t=0,i=n.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(r){return"deltaRotate"in r?t+=r.deltaRotate:"rotate"in r&&(t=r.rotate-i),{datas:e,parentDist:t}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},cBt={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean},events:{onResizeStart:"resizeStart",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(n,e){var t=n.props,i=t.resizable,r=t.edge;if(i)return r?Swe(n,e):Qq(n,e)},dragControlCondition:FE,dragControlStart:function(n,e){var t,i=e.inputEvent,r=e.isPinch,s=e.parentDirection,o=e.datas,a=e.parentFlag,l=s||(r?[0,0]:Kq(i.target)),u=n.state,c=u.target,d=u.width,h=u.height;if(!l||!c)return!1;!r&&Z1(n,e),o.datas={},o.direction=l,o.startOffsetWidth=d,o.startOffsetHeight=h,o.prevWidth=0,o.prevHeight=0,t=o6t(c),o.startWidth=t[0],o.startHeight=t[1];var f=[Math.max(0,d-o.startWidth),Math.max(0,h-o.startHeight)];if(o.minSize=f,o.maxSize=[1/0,1/0],!a){var g=ql(c),p=g.position,m=g.minWidth,b=g.minHeight,_=g.maxWidth,C=g.maxHeight,w=p==="static"||p==="relative",S=w?c.parentElement:c.offsetParent,D=d,E=h;if(S&&(D=S.clientWidth,E=S.clientHeight,w)){var I=ql(S);D-=parseFloat(I.paddingLeft)||0,E-=parseFloat(I.paddingTop)||0}o.minSize=Li([Js(m,D)||0,Js(b,E)||0],f),o.maxSize=Li([Js(_,D)||1/0,Js(C,E)||1/0],f)}var T=n.props.transformOrigin||"% %";o.transformOrigin=T&&zd(T)?T.split(" "):T,o.isWidth=!l[0]&&!l[1]||l[0]||!l[1];function M(U){o.ratio=U&&isFinite(U)?U:0}function A(U){o.fixedDirection=U,o.fixedPosition=hy(n,U)}M(d/h),A([-l[0],-l[1]]);var O=ki(n,e,{direction:l,set:function(U){var V=U[0],G=U[1];o.startWidth=V,o.startHeight=G},setMin:function(U){o.minSize=U},setMax:function(U){o.maxSize=[U[0]||1/0,U[1]||1/0]},setRatio:M,setFixedDirection:A,setOrigin:function(U){o.transformOrigin=U},dragStart:kl.dragStart(n,new KD().dragStart([0,0],e))}),F=an(n,"onResizeStart",O);return F!==!1&&(o.isResize=!0,n.state.snapRenderInfo={request:e.isRequest,direction:l}),o.isResize?O:!1},dragControl:function(n,e){var t,i=e.datas,r=e.distX,s=e.distY,o=e.parentFlag,a=e.isPinch,l=e.parentDistance,u=e.parentScale,c=e.parentKeepRatio,d=e.dragClient,h=e.parentDist,f=e.isRequest,g=i.isResize,p=i.transformOrigin,m=i.fixedDirection,b=i.startWidth,_=i.startHeight,C=i.prevWidth,w=i.prevHeight,S=i.minSize,D=i.maxSize,E=i.ratio,I=i.isWidth,T=i.startOffsetWidth,M=i.startOffsetHeight;if(!!g){var A=n.props,O=A.throttleResize,F=O===void 0?0:O,U=A.parentMoveable,V=A.snapThreshold,G=V===void 0?5:V,j=i.direction,X=j,ie=0,Ce=0;!j[0]&&!j[1]&&(X=[1,1]);var Be=E&&(n.props.keepRatio||c),we=d;if(d||(!o&&a?we=hy(n,[0,0]):we=i.fixedPosition),h)ie=h[0],Ce=h[1],Be&&(ie?Ce||(Ce=ie/E):ie=Ce*E);else if(u)ie=(u[0]-1)*T,Ce=(u[1]-1)*M;else if(a)l&&(ie=l,Ce=l*M/T);else{var ke=Df({datas:i,distX:r,distY:s});if(ie=X[0]*ke[0],Ce=X[1]*ke[1],Be&&T&&M){var Se=ns([0,0],ke),fe=ns([0,0],X),pe=Id([ie,Ce]),me=Math.cos(Se-fe)*pe;if(!X[0])Ce=me,ie=Ce/E;else if(!X[1])ie=me,Ce=ie*E;else{var Ne=X[0]*2*T,je=X[1]*2*M,rt=Id([Ne+ke[0],je+ke[1]])-Id([Ne,je]),xe=ns([0,0],[E,1]);ie=Math.cos(xe)*rt,Ce=Math.sin(xe)*rt}}else if(!Be){var Ve=nr(j);T||(ke[0]<0?Ve[0]=-1:ke[0]>0&&(Ve[0]=1)),M||(ke[1]<0?Ve[1]=-1:ke[1]>0&&(Ve[1]=1)),j=Ve,X=Ve,ie=X[0]*ke[0],Ce=X[1]*ke[1]}}var ee=X[0]||Be?Math.max(T+ie,To):T,ne=X[1]||Be?Math.max(M+Ce,To):M;Be&&T&&M&&(I?ne=ee/E:ee=ne*E);var le=[0,0];if(a||(le=J6t(n,ee,ne,j,we,f,i)),h&&(!h[0]&&(le[0]=0),!h[1]&&(le[1]=0)),Be){X[0]&&X[1]&&le[0]&&le[1]&&(Math.abs(le[0])>Math.abs(le[1])?le[1]=0:le[0]=0);var de=!le[0]&&!le[1];de&&(I?ee=yi(ee,F):ne=yi(ne,F)),X[0]&&!X[1]||le[0]&&!le[1]||de&&I?(ee+=le[0],ne=ee/E):(!X[0]&&X[1]||!le[0]&&le[1]||de&&!I)&&(ne+=le[1],ee=ne*E)}else T+ie<-G&&(le[0]=0),T+Ce<-G&&(le[1]=0),ee+=le[0],ne+=le[1],le[0]||(ee=yi(ee,F)),le[1]||(ne=yi(ne,F));t=IFt([ee,ne],S,D,Be),ee=t[0],ne=t[1],ee=Math.round(ee),ne=Math.round(ne),ie=ee-T,Ce=ne-M;var ye=[ie-C,Ce-w];i.prevWidth=ie,i.prevHeight=Ce;var q=I6t(n,ee,ne,m,we,p);if(!(!U&&ye.every(function(x){return!x})&&q.every(function(x){return!x}))){var P=ki(n,e,{width:b+ie,height:_+Ce,offsetWidth:ee,offsetHeight:ne,direction:j,dist:[ie,Ce],delta:ye,isPinch:!!a,drag:kl.drag(n,l3(e,n.state,q,!!a,!1))});return an(n,"onResize",P),P}}},dragControlAfter:function(n,e){var t=e.datas,i=t.isResize,r=t.startOffsetWidth,s=t.startOffsetHeight,o=t.prevWidth,a=t.prevHeight;if(!!i){var l=n.state,u=l.width,c=l.height,d=u-(r+o),h=c-(s+a),f=Math.abs(d)>3,g=Math.abs(h)>3;if(f&&(t.startWidth+=d,t.startOffsetWidth+=d,t.prevWidth+=d),g&&(t.startHeight+=h,t.startOffsetHeight+=h,t.prevHeight+=h),f||g)return this.dragControl(n,e),!0}},dragControlEnd:function(n,e){var t=e.datas,i=e.isDrag;if(!t.isResize)return!1;t.isResize=!1;var r=Hu(n,e,{});return an(n,"onResizeEnd",r),i},dragGroupControlCondition:FE,dragGroupControlStart:function(n,e){var t=e.datas,i=this.dragControlStart(n,e);if(!i)return!1;var r=kw(n,"resizable",e);function s(u,c){var d=t.fixedDirection,h=t.fixedPosition,f=hy(u,d),g=al(Sw(-n.rotation/180*Math.PI,3),[f[0]-h[0],f[1]-h[1],1],3),p=g[0],m=g[1];return c.datas.originalX=p,c.datas.originalY=m,c}var o=Og(n,this,"dragControlStart",e,function(u,c){return s(u,c)}),a=ht(ht({},i),{targets:n.props.targets,events:o,setFixedDirection:function(u){i.setFixedDirection(u),o.forEach(function(c,d){c.setFixedDirection(u),s(n.moveables[d],r[d])})}}),l=an(n,"onResizeGroupStart",a);return t.isResize=l!==!1,t.isResize?i:!1},dragGroupControl:function(n,e){var t=e.datas;if(!!t.isResize){var i=this.dragControl(n,e);if(!!i){var r=i.offsetWidth,s=i.offsetHeight,o=i.dist,a=n.props.keepRatio,l=[r/(r-o[0]),s/(s-o[1])],u=t.fixedPosition,c=Og(n,this,"dragControl",e,function(h,f){var g=al(Sw(n.rotation/180*Math.PI,3),[f.datas.originalX*l[0],f.datas.originalY*l[1],1],3),p=g[0],m=g[1];return ht(ht({},f),{parentDist:null,parentScale:l,dragClient:Li(u,[p,m]),parentKeepRatio:a})}),d=ht({targets:n.props.targets,events:c},i);return an(n,"onResizeGroup",d),d}}},dragGroupControlEnd:function(n,e){var t=e.isDrag,i=e.datas;if(!!i.isResize){this.dragControlEnd(n,e),Og(n,this,"dragControlEnd",e);var r=Hu(n,e,{targets:n.props.targets});return an(n,"onResizeGroupEnd",r),t}},request:function(n){var e={},t=0,i=0,r=n.getRect();return{isControl:!0,requestStart:function(s){return{datas:e,parentDirection:s.direction||[1,1]}},request:function(s){return"offsetWidth"in s?t=s.offsetWidth-r.offsetWidth:"deltaWidth"in s&&(t+=s.deltaWidth),"offsetHeight"in s?i=s.offsetHeight-r.offsetHeight:"deltaHeight"in s&&(i+=s.deltaHeight),{datas:e,parentDist:[t,i]}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},dBt={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(n,e){var t=n.props,i=t.resizable,r=t.scalable,s=t.edge;if(!i&&r)return s?Swe(n,e):Qq(n,e)},dragControlCondition:FE,dragControlStart:function(n,e){var t=e.datas,i=e.isPinch,r=e.inputEvent,s=e.parentDirection,o=s||(i?[0,0]:Kq(r.target)),a=n.state,l=a.width,u=a.height,c=a.targetTransform,d=a.target,h=a.pos1,f=a.pos2,g=a.pos4;if(!o||!d)return!1;i||Z1(n,e),t.datas={},t.transform=c,t.prevDist=[1,1],t.direction=o,t.width=l,t.height=u,t.startValue=[1,1];var p=yg(h,f),m=yg(f,g),b=!o[0]&&!o[1]||o[0]||!o[1];t.scaleWidth=p,t.scaleHeight=m,t.scaleXRatio=p/l,t.scaleYRatio=m/u,f3(e,"scale"),t.isWidth=b;function _(D){t.ratio=D&&isFinite(D)?D:0}function C(D){t.fixedDirection=D,t.fixedPosition=hy(n,D)}_(yg(h,f)/yg(f,g)),C([-o[0],-o[1]]);var w=ki(n,e,ht(ht({direction:o,set:function(D){t.startValue=D},setRatio:_,setFixedDirection:C},h3(e)),{dragStart:kl.dragStart(n,new KD().dragStart([0,0],e))})),S=an(n,"onScaleStart",w);return S!==!1&&(t.isScale=!0,n.state.snapRenderInfo={request:e.isRequest,direction:o}),t.isScale?w:!1},dragControl:function(n,e){u3(e,"scale");var t=e.datas,i=e.distX,r=e.distY,s=e.parentScale,o=e.parentDistance,a=e.parentKeepRatio,l=e.parentFlag,u=e.isPinch,c=e.dragClient,d=e.parentDist,h=e.isRequest,f=t.prevDist,g=t.direction,p=t.width,m=t.height,b=t.isScale,_=t.startValue,C=t.isWidth,w=t.ratio,S=t.fixedDirection,D=t.scaleXRatio,E=t.scaleYRatio;if(!b)return!1;var I=n.props,T=I.throttleScale,M=I.parentMoveable,A=g;!g[0]&&!g[1]&&(A=[1,1]);var O=w&&(n.props.keepRatio||a),F=n.state,U=1,V=1,G=c;if(c||(!l&&u?G=hy(n,[0,0]):G=t.fixedPosition),d)U=(p+d[0])/p,V=(m+d[1])/m;else if(s)U=s[0],V=s[1];else if(u)o&&(U=(p+o)/p,V=(m+o*m/p)/m);else{var j=Df({datas:t,distX:i,distY:r}),X=A[0]*j[0]*D,ie=A[1]*j[1]*E;if(O&&p&&m)if(!A[0])X=ie*w;else if(!A[1])ie=X/w;else{var Ce=Id([X,ie]),Be=ns([0,0],j),we=ns([0,0],A),ke=Math.cos(Be-we)*Ce,Se=ns([0,0],[w,1]);X=Math.cos(Se)*ke,ie=Math.sin(Se)*ke}U=(p+X/D)/p,V=(m+ie/E)/m}U=A[0]||O?U*_[0]:_[0],V=A[1]||O?V*_[1]:_[1],U===0&&(U=(f[0]>0?1:-1)*_N),V===0&&(V=(f[1]>0?1:-1)*_N);var fe=[U/_[0],V/_[1]],pe=[U,V];if(!u&&n.props.groupable){var me=F.snapRenderInfo||{},Ne=me.direction;Y1(Ne)&&(Ne[0]||Ne[1])&&(F.snapRenderInfo={direction:g,request:e.isRequest})}var je=[0,0];if(u||(je=eBt(n,fe,g,h,t)),O){A[0]&&A[1]&&je[0]&&je[1]&&(Math.abs(je[0]*p)>Math.abs(je[1]*m)?je[1]=0:je[0]=0);var rt=!je[0]&&!je[1];if(rt&&(C?fe[0]=yi(fe[0]*_[0],T)/_[0]:fe[1]=yi(fe[1]*_[1],T)/_[1]),A[0]&&!A[1]||je[0]&&!je[1]||rt&&C){fe[0]+=je[0];var xe=p*fe[0]*_[0]/w;fe[1]=xe/m/_[1]}else if(!A[0]&&A[1]||!je[0]&&je[1]||rt&&!C){fe[1]+=je[1];var Ve=m*fe[1]*_[1]*w;fe[0]=Ve/p/_[0]}}else fe[0]+=je[0],fe[1]+=je[1],je[0]||(fe[0]=yi(fe[0]*_[0],T)/_[0]),je[1]||(fe[1]=yi(fe[1]*_[1],T)/_[1]);fe[0]===0&&(fe[0]=(f[0]>0?1:-1)*_N),fe[1]===0&&(fe[1]=(f[1]>0?1:-1)*_N);var ee=[fe[0]/f[0],fe[1]/f[1]];pe=X8t(fe,_);var ne=E6t(n,fe,S,G,t),le=ti(ne,t.prevInverseDist||[0,0]);if(t.prevDist=fe,t.prevInverseDist=ne,U===f[0]&&V===f[1]&&le.every(function(q){return!q})&&!M)return!1;var de=c3(t,"scale("+pe.join(", ")+")","scale("+fe.join(", ")+")"),ye=ki(n,e,ht({offsetWidth:p,offsetHeight:m,direction:g,scale:pe,dist:fe,delta:ee,isPinch:!!u},lwe(n,de,le,u,e)));return an(n,"onScale",ye),ye},dragControlEnd:function(n,e){var t=e.datas,i=e.isDrag;return t.isScale?(t.isScale=!1,an(n,"onScaleEnd",Hu(n,e,{})),i):!1},dragGroupControlCondition:FE,dragGroupControlStart:function(n,e){var t=e.datas,i=this.dragControlStart(n,e);if(!i)return!1;var r=kw(n,"resizable",e);function s(u,c){var d=t.fixedDirection,h=t.fixedPosition,f=hy(u,d),g=al(Sw(-n.rotation/180*Math.PI,3),[f[0]-h[0],f[1]-h[1],1],3),p=g[0],m=g[1];return c.datas.originalX=p,c.datas.originalY=m,c}t.moveableScale=n.scale;var o=Og(n,this,"dragControlStart",e,function(u,c){return s(u,c)}),a=ht(ht({},i),{targets:n.props.targets,events:o,setFixedDirection:function(u){i.setFixedDirection(u),o.forEach(function(c,d){c.setFixedDirection(u),s(n.moveables[d],r[d])})}}),l=an(n,"onScaleGroupStart",a);return t.isScale=l!==!1,t.isScale?a:!1},dragGroupControl:function(n,e){var t=e.datas;if(!!t.isScale){var i=this.dragControl(n,e);if(!!i){var r=t.moveableScale;n.scale=[i.scale[0]*r[0],i.scale[1]*r[1]];var s=n.props.keepRatio,o=i.dist,a=i.scale,l=t.fixedPosition,u=Og(n,this,"dragControl",e,function(d,h){var f=al(Sw(n.rotation/180*Math.PI,3),[h.datas.originalX*o[0],h.datas.originalY*o[1],1],3),g=f[0],p=f[1];return ht(ht({},h),{parentDist:null,parentScale:a,parentKeepRatio:s,dragClient:Li(l,[g,p])})}),c=ht({targets:n.props.targets,events:u},i);return an(n,"onScaleGroup",c),c}}},dragGroupControlEnd:function(n,e){var t=e.isDrag,i=e.datas;if(!!i.isScale){this.dragControlEnd(n,e),Og(n,this,"dragControlEnd",e);var r=Hu(n,e,{targets:n.props.targets});return an(n,"onScaleGroupEnd",r),t}},request:function(){var n={},e=0,t=0;return{isControl:!0,requestStart:function(i){return{datas:n,parentDirection:i.direction||[1,1]}},request:function(i){return e+=i.deltaWidth,t+=i.deltaHeight,{datas:n,parentDist:[e,t]}},requestEnd:function(){return{datas:n,isDrag:!0}}}}};function Rp(n,e){return n.map(function(t,i){return SFt(t,e[i],1,2)})}function Nae(n,e,t){var i=ns(n,e),r=ns(n,t),s=r-i;return s>=0?s:s+2*Math.PI}function hBt(n,e){var t=Nae(n[0],n[1],n[2]),i=Nae(e[0],e[1],e[2]),r=Math.PI;return!(t>=r&&i<=r||t<=r&&i>=r)}var fBt={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(n,e){var t=n.props,i=t.resizable,r=t.scalable,s=t.warpable,o=t.zoom;if(i||r||!s)return[];var a=n.state,l=a.pos1,u=a.pos2,c=a.pos3,d=a.pos4,h=Rp(l,u),f=Rp(u,l),g=Rp(l,c),p=Rp(c,l),m=Rp(c,d),b=Rp(d,c),_=Rp(u,d),C=Rp(d,u);return nr([e.createElement("div",{className:Zn("line"),key:"middeLine1",style:C2(h,m,o)}),e.createElement("div",{className:Zn("line"),key:"middeLine2",style:C2(f,b,o)}),e.createElement("div",{className:Zn("line"),key:"middeLine3",style:C2(g,_,o)}),e.createElement("div",{className:Zn("line"),key:"middeLine4",style:C2(p,C,o)})],Qq(n,e))},dragControlCondition:function(n,e){return e.isRequest?!1:Dc(e.inputEvent.target,Zn("direction"))},dragControlStart:function(n,e){var t=e.datas,i=e.inputEvent,r=n.props.target,s=i.target,o=Kq(s);if(!o||!r)return!1;var a=n.state,l=a.transformOrigin,u=a.is3d,c=a.targetTransform,d=a.targetMatrix,h=a.width,f=a.height,g=a.left,p=a.top;t.datas={},t.targetTransform=c,t.warpTargetMatrix=u?d:vv(d,3,4),t.targetInverseMatrix=Bye(Ud(t.warpTargetMatrix,4),3,4),t.direction=o,t.left=g,t.top=p,t.poses=[[0,0],[h,0],[0,f],[h,f]].map(function(_){return ti(_,l)}),t.nextPoses=t.poses.map(function(_){var C=_[0],w=_[1];return al(t.warpTargetMatrix,[C,w,0,1],4)}),t.startValue=Us(4),t.prevMatrix=Us(4),t.absolutePoses=Ef(a),t.posIndexes=swe(o),Z1(n,e),f3(e,"matrix3d"),a.snapRenderInfo={request:e.isRequest,direction:o};var m=ki(n,e,ht({set:function(_){t.startValue=_}},h3(e))),b=an(n,"onWarpStart",m);return b!==!1&&(t.isWarp=!0),t.isWarp},dragControl:function(n,e){var t=e.datas,i=e.isRequest,r=e.distX,s=e.distY,o=t.targetInverseMatrix,a=t.prevMatrix,l=t.isWarp,u=t.startValue,c=t.poses,d=t.posIndexes,h=t.absolutePoses;if(!l)return!1;if(u3(e,"matrix3d"),sS(n,"warpable")){var f=d.map(function(T){return h[T]});f.length>1&&f.push([(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]);var g=v3(n,i,f.map(function(T){return[T[0]+r,T[1]+s]})),p=g.horizontal,m=g.vertical;s-=p.offset,r-=m.offset}var b=Df({datas:t,distX:r,distY:s},!0),_=t.nextPoses.slice();if(d.forEach(function(T){_[T]=Li(_[T],b)}),!G8t.every(function(T){return hBt(T.map(function(M){return c[M]}),T.map(function(M){return _[M]}))}))return!1;var C=Wq(c[0],c[2],c[1],c[3],_[0],_[2],_[1],_[3]);if(!C.length)return!1;var w=ts(o,C,4),S=iwe(t,w,!0),D=ts(Ud(a,4),S,4);t.prevMatrix=S;var E=ts(u,S,4),I=c3(t,"matrix3d("+E.join(", ")+")","matrix3d("+S.join(", ")+")");return awe(e,I),an(n,"onWarp",ki(n,e,{delta:D,matrix:E,dist:S,multiply:ts,transform:I})),!0},dragControlEnd:function(n,e){var t=e.datas,i=e.isDrag;return t.isWarp?(t.isWarp=!1,an(n,"onWarpEnd",Hu(n,e,{})),i):!1}},gBt=Zn("area-pieces"),yN=Zn("area-piece"),Lwe=Zn("avoid");function Y6(n){var e=n.areaElement,t=n.state,i=t.width,r=t.height;yye(e,Lwe),e.style.cssText+="left: 0px; top: 0px; width: "+i+"px; height: "+r+"px"}function xae(n){return n.createElement("div",{key:"area_pieces",className:gBt},n.createElement("div",{className:yN}),n.createElement("div",{className:yN}),n.createElement("div",{className:yN}),n.createElement("div",{className:yN}))}var kwe={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(n,e){var t=n.props,i=t.target,r=t.dragArea,s=t.groupable,o=t.passDragArea,a=n.state,l=a.width,u=a.height,c=a.renderPoses,d=o?Zn("area","pass"):Zn("area");if(s)return[e.createElement("div",{key:"area",ref:Eo(n,"areaElement"),className:d}),xae(e)];if(!i||!r)return[];var h=Wq([0,0],[l,0],[0,u],[l,u],c[0],c[1],c[2],c[3]),f=h.length?o3(h,!0):"none";return[e.createElement("div",{key:"area",ref:Eo(n,"areaElement"),className:d,style:{top:"0px",left:"0px",width:l+"px",height:u+"px",transformOrigin:"0 0",transform:f}}),xae(e)]},dragStart:function(n,e){var t=e.datas,i=e.clientX,r=e.clientY,s=e.inputEvent;if(!s)return!1;t.isDragArea=!1;var o=n.areaElement,a=n.state,l=a.moveableClientRect,u=a.renderPoses,c=a.rootMatrix,d=a.is3d,h=l.left,f=l.top,g=Ac(u),p=g.left,m=g.top,b=g.width,_=g.height,C=d?4:3,w=S_(c,[i-h,r-f],C),S=w[0],D=w[1];S-=p,D-=m;var E=[{left:p,top:m,width:b,height:D-10},{left:p,top:m,width:S-10,height:_},{left:p,top:m+D+10,width:b,height:_-D-10},{left:p+S+10,top:m,width:b-S-10,height:_}],I=[].slice.call(o.nextElementSibling.children);E.forEach(function(T,M){I[M].style.cssText="left: "+T.left+"px;top: "+T.top+"px; width: "+T.width+"px; height: "+T.height+"px;"}),Cye(o,Lwe),a.disableNativeEvent=!0},drag:function(n,e){var t=e.datas,i=e.inputEvent;if(this.enableNativeEvent(n),!i)return!1;t.isDragArea||(t.isDragArea=!0,Y6(n))},dragEnd:function(n,e){this.enableNativeEvent(n);var t=e.inputEvent,i=e.datas;if(!t)return!1;i.isDragArea||Y6(n)},dragGroupStart:function(n,e){return this.dragStart(n,e)},dragGroup:function(n,e){return this.drag(n,e)},dragGroupEnd:function(n,e){return this.dragEnd(n,e)},unset:function(n){Y6(n),n.state.disableNativeEvent=!1},enableNativeEvent:function(n){var e=n.state;e.disableNativeEvent&&requestAnimationFrame(function(){e.disableNativeEvent=!1})}},pBt=UD("origin",{render:function(n,e){var t=n.props.zoom,i=n.state,r=i.beforeOrigin,s=i.rotation;return[e.createElement("div",{className:Zn("control","origin"),style:Qye(s,t,r),key:"beforeOrigin"})]}});function mBt(n){var e=n.scrollContainer;return[e.scrollLeft,e.scrollTop]}var vBt={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragStart:function(n,e){var t=n.props,i=t.scrollContainer,r=i===void 0?n.getContainer():i,s=new M8t,o=a3(r,!0);e.datas.dragScroll=s;var a=e.isControl?"controlGesto":"targetGesto",l=e.targets;s.on("scroll",function(u){var c=u.container,d=u.direction,h=ki(n,e,{scrollContainer:c,direction:d}),f=l?"onScrollGroup":"onScroll";l&&(h.targets=l),an(n,f,h)}).on("move",function(u){var c=u.offsetX,d=u.offsetY;n[a].scrollBy(c,d,e.inputEvent,!1)}),s.dragStart(e,{container:o})},checkScroll:function(n,e){var t=e.datas.dragScroll;if(!!t){var i=n.props,r=i.scrollContainer,s=r===void 0?n.getContainer():r,o=i.scrollThreshold,a=o===void 0?0:o,l=i.getScrollPosition,u=l===void 0?mBt:l;return t.drag(e,{container:s,threshold:a,getScrollPosition:function(c){return u({scrollContainer:c.container,direction:c.direction})}}),!0}},drag:function(n,e){return this.checkScroll(n,e)},dragEnd:function(n,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(n,e){return this.dragStart(n,ht(ht({},e),{isControl:!0}))},dragControl:function(n,e){return this.drag(n,e)},dragControlEnd:function(n,e){return this.dragEnd(n,e)},dragGroupStart:function(n,e){return this.dragStart(n,ht(ht({},e),{targets:n.props.targets}))},dragGroup:function(n,e){return this.drag(n,ht(ht({},e),{targets:n.props.targets}))},dragGroupEnd:function(n,e){return this.dragEnd(n,ht(ht({},e),{targets:n.props.targets}))},dragGroupControlStart:function(n,e){return this.dragStart(n,ht(ht({},e),{targets:n.props.targets,isControl:!0}))},dragGroupContro:function(n,e){return this.drag(n,ht(ht({},e),{targets:n.props.targets}))},dragGroupControEnd:function(n,e){return this.dragEnd(n,ht(ht({},e),{targets:n.props.targets}))}},Ewe={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,props:Object},events:{}},_Bt=UD("padding",{render:function(n,e){var t=n.props;if(t.dragArea)return[];var i=t.padding||{},r=i.left,s=r===void 0?0:r,o=i.top,a=o===void 0?0:o,l=i.right,u=l===void 0?0:l,c=i.bottom,d=c===void 0?0:c,h=n.state,f=h.renderPoses,g=h.pos1,p=h.pos2,m=h.pos3,b=h.pos4,_=[g,p,m,b],C=[];return s>0&&C.push([0,2]),a>0&&C.push([0,1]),u>0&&C.push([1,3]),d>0&&C.push([2,3]),C.map(function(w,S){var D=w[0],E=w[1],I=_[D],T=_[E],M=f[D],A=f[E],O=Wq([0,0],[100,0],[0,100],[100,100],I,T,M,A);if(!!O.length)return e.createElement("div",{key:"padding"+S,className:Zn("padding"),style:{transform:o3(O,!0)}})})}}),Mae=["nw","ne","se","sw"];function wN(n,e){var t=n[0]+n[1],i=t>e?e/t:1;return n[0]*=i,n[1]=e-n[1]*i,n}var bBt=[1,2,5,6],CBt=[0,3,4,7],I0=[1,-1,-1,1],T0=[1,1,-1,-1];function Jq(n,e,t,i,r,s,o,a,l){s===void 0&&(s=0),o===void 0&&(o=0),a===void 0&&(a=i),l===void 0&&(l=r);var u=[],c=!1,d=n.map(function(h,f){var g=e[f],p=g.horizontal,m=g.vertical;if(m&&!c&&(c=!0,u.push("/")),c){var b=Math.max(0,m===1?h[1]-o:l-h[1]);return u.push(ud(b,r,t)),b}else{var b=Math.max(0,p===1?h[0]-s:a-h[0]);return u.push(ud(b,i,t)),b}});return{styles:u,raws:d}}function Dwe(n){for(var e=[0,0],t=[0,0],i=n.length,r=0;r<i;++r){var s=n[r];!s.sub||(s.horizontal&&(e[1]===0&&(e[0]=r),e[1]=r-e[0]+1,t[0]=r+1),s.vertical&&(t[1]===0&&(t[0]=r),t[1]=r-t[0]+1))}return{horizontalRange:e,verticalRange:t}}function Iwe(n,e,t,i,r,s){var o,a,l,u;s===void 0&&(s=[0,0]);var c=n.indexOf("/"),d=(c>-1?n.slice(0,c):n).length,h=n.slice(0,d),f=n.slice(d+1),g=h[0],p=g===void 0?"0px":g,m=h[1],b=m===void 0?p:m,_=h[2],C=_===void 0?p:_,w=h[3],S=w===void 0?b:w,D=f[0],E=D===void 0?p:D,I=f[1],T=I===void 0?E:I,M=f[2],A=M===void 0?E:M,O=f[3],F=O===void 0?T:O,U=[p,b,C,S].map(function(Ce){return Js(Ce,e)}),V=[E,T,A,F].map(function(Ce){return Js(Ce,t)}),G=U.slice(),j=V.slice();o=wN([G[0],G[1]],e),G[0]=o[0],G[1]=o[1],a=wN([G[3],G[2]],e),G[3]=a[0],G[2]=a[1],l=wN([j[0],j[3]],t),j[0]=l[0],j[3]=l[1],u=wN([j[1],j[2]],t),j[1]=u[0],j[2]=u[1];var X=G.slice(0,Math.max(s[0],h.length)),ie=j.slice(0,Math.max(s[1],f.length));return nr(X.map(function(Ce,Be){var we=Mae[Be];return{horizontal:I0[Be],vertical:0,pos:[i+Ce,r+(T0[Be]===-1?t:0)],sub:!0,raw:U[Be],direction:we}}),ie.map(function(Ce,Be){var we=Mae[Be];return{horizontal:0,vertical:T0[Be],pos:[i+(I0[Be]===-1?e:0),r+Ce],sub:!0,raw:V[Be],direction:we}}))}function Twe(n,e,t,i,r){r===void 0&&(r=e.length);var s=Dwe(n.slice(i)),o=s.horizontalRange,a=s.verticalRange,l=t-i,u=0;if(l===0)u=r;else if(l>0&&l<o[1])u=o[1]-l;else if(l>=a[0])u=a[0]+a[1]-l;else return;n.splice(t,u),e.splice(t,u)}function Nwe(n,e,t,i,r,s,o,a,l,u,c){u===void 0&&(u=0),c===void 0&&(c=0);var d=Dwe(n.slice(t)),h=d.horizontalRange,f=d.verticalRange;if(i>-1)for(var g=I0[i]===1?s-u:a-s,p=h[1];p<=i;++p){var m=T0[p]===1?c:l,b=0;if(i===p?b=s:p===0?b=u+g:I0[p]===-1&&(b=a-(e[t][0]-u)),n.splice(t+p,0,{horizontal:I0[p],vertical:0,pos:[b,m]}),e.splice(t+p,0,[b,m]),p===0)break}else if(r>-1){var _=T0[r]===1?o-c:l-o;if(h[1]===0&&f[1]===0){var C=[u+_,c];n.push({horizontal:I0[0],vertical:0,pos:C}),e.push(C)}for(var w=f[0],p=f[1];p<=r;++p){var b=I0[p]===1?u:a,m=0;if(r===p?m=o:p===0?m=c+_:T0[p]===1?m=e[t+w][1]:T0[p]===-1&&(m=l-(e[t+w][1]-c)),n.push({horizontal:0,vertical:T0[p],pos:[b,m]}),e.push([b,m]),p===0)break}}}function xwe(n,e){e===void 0&&(e=n.map(function(r){return r.raw}));var t=n.map(function(r,s){return r.horizontal?e[s]:null}).filter(function(r){return r!=null}),i=n.map(function(r,s){return r.vertical?e[s]:null}).filter(function(r){return r!=null});return{horizontals:t,verticals:i}}var yBt=[[0,-1,"n"],[1,0,"e"]],wBt=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function eY(n,e,t){var i=n.props.clipRelative,r=n.state,s=r.width,o=r.height,a=e,l=a.type,u=a.poses,c=l==="rect",d=l==="circle";if(l==="polygon")return t.map(function(D){return ud(D[0],s,i)+" "+ud(D[1],o,i)});if(c||l==="inset"){var h=t[1][1],f=t[3][0],g=t[7][0],p=t[5][1];if(c)return[h,f,p,g].map(function(D){return D+"px"});var m=[h,s-f,o-p,g].map(function(D,E){return ud(D,E%2?s:o,i)});if(t.length>8){var b=ti(t[4],t[0]),_=b[0],C=b[1];m.push.apply(m,nr(["round"],Jq(t.slice(8),u.slice(8),i,_,C,g,h,f,p).styles))}return m}else if(d||l==="ellipse"){var w=t[0],S=ud(Math.abs(t[1][1]-w[1]),d?Math.sqrt((s*s+o*o)/2):o,i),m=d?[S]:[ud(Math.abs(t[2][0]-w[0]),s,i),S];return m.push("at",ud(w[0],s,i),ud(w[1],o,i)),m}}function Aae(n,e,t,i){var r=[i,(i+e)/2,e],s=[n,(n+t)/2,t];return wBt.map(function(o){var a=o[0],l=o[1],u=o[2],c=r[a+1],d=s[l+1];return{vertical:Math.abs(l),horizontal:Math.abs(a),direction:u,pos:[c,d]}})}function Rae(n,e,t,i,r){var s,o,a,l,u,c,d,h=r;if(!h){var f=ql(n),g=f.clipPath;h=g!=="none"?g:f.clip}if(!((!h||h==="none"||h==="auto")&&(h=i,!h))){var p=Oq(h),m=p.prefix,b=m===void 0?h:m,_=p.value,C=_===void 0?"":_,w=b==="circle",S=" ";if(b==="polygon"){var D=K0(C||"0% 0%, 100% 0%, 100% 100%, 0% 100%");S=",";var E=D.map(function(ye){var q=ye.split(" "),P=q[0],x=q[1];return{vertical:1,horizontal:1,pos:[Js(P,e),Js(x,t)]}});return{type:b,clipText:h,poses:E,splitter:S}}else if(w||b==="ellipse"){var I="",T="",M=0,A=0,D=mv(C);if(w){var O="";s=D[0],O=s===void 0?"50%":s,o=D[2],I=o===void 0?"50%":o,a=D[3],T=a===void 0?"50%":a,M=Js(O,Math.sqrt((e*e+t*t)/2)),A=M}else{var F="",U="";l=D[0],F=l===void 0?"50%":l,u=D[1],U=u===void 0?"50%":u,c=D[3],I=c===void 0?"50%":c,d=D[4],T=d===void 0?"50%":d,M=Js(F,e),A=Js(U,t)}var V=[Js(I,e),Js(T,t)],E=nr([{vertical:1,horizontal:1,pos:V,direction:"nesw"}],yBt.slice(0,w?1:2).map(function(P){return{vertical:Math.abs(P[1]),horizontal:P[0],direction:P[2],sub:!0,pos:[V[0]+P[0]*M,V[1]+P[1]*A]}}));return{type:b,clipText:h,radiusX:M,radiusY:A,left:V[0]-M,top:V[1]-A,poses:E,splitter:S}}else if(b==="inset"){var D=mv(C||"0 0 0 0"),G=D.indexOf("round"),j=(G>-1?D.slice(0,G):D).length,X=D.slice(j+1),ie=D.slice(0,j),Ce=ie[0],Be=ie[1],we=Be===void 0?Ce:Be,ke=ie[2],Se=ke===void 0?Ce:ke,fe=ie[3],pe=fe===void 0?we:fe,me=[Ce,Se].map(function(P){return Js(P,t)}),Ne=me[0],je=me[1],rt=[pe,we].map(function(P){return Js(P,e)}),xe=rt[0],Ve=rt[1],ee=e-Ve,ne=t-je,le=Iwe(X,ee-xe,ne-Ne,xe,Ne),E=nr(Aae(Ne,ee,ne,xe),le);return{type:"inset",clipText:h,poses:E,top:Ne,left:xe,right:ee,bottom:ne,radius:X,splitter:S}}else if(b==="rect"){var D=K0(C||"0px, "+e+"px, "+t+"px, 0px");S=",";var de=D.map(function(W){var K=BD(W).value;return K}),Ne=de[0],Ve=de[1],je=de[2],xe=de[3],E=Aae(Ne,Ve,je,xe);return{type:"rect",clipText:h,poses:E,top:Ne,right:Ve,bottom:je,left:xe,values:D,splitter:S}}}}function SBt(n,e){var t=nwe(n,e),i=t[0],r=t[1],s=e.datas,o=s.clipPath,a=s.index,l=o,u=l.type,c=l.poses,d=l.splitter,h=c.map(function(b){return b.pos});if(u==="polygon")h.splice(a,0,[i,r]);else if(u==="inset"){var f=bBt.indexOf(a),g=CBt.indexOf(a),p=c.length;if(Nwe(c,h,8,f,g,i,r,h[4][0],h[4][1],h[0][0],h[0][1]),p===c.length)return}else return;var m=eY(n,o,h);an(n,"onClip",ki(n,e,{clipEventType:"added",clipType:u,poses:h,clipStyles:m,clipStyle:u+"("+m.join(d)+")",distX:0,distY:0}))}function LBt(n,e){var t=e.datas,i=t.clipPath,r=t.index,s=i,o=s.type,a=s.poses,l=s.splitter,u=a.map(function(h){return h.pos}),c=u.length;if(o==="polygon")a.splice(r,1),u.splice(r,1);else if(o==="inset"){if(r<8||(Twe(a,u,r,8,c),c===a.length))return}else return;var d=eY(n,i,u);an(n,"onClip",ki(n,e,{clipEventType:"removed",clipType:o,poses:u,clipStyles:d,clipStyle:o+"("+d.join(l)+")",distX:0,distY:0}))}var kBt={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(n,e){var t=n.props,i=t.customClipPath,r=t.defaultClipPath,s=t.clipArea,o=t.zoom,a=n.state,l=a.target,u=a.width,c=a.height,d=a.allMatrix,h=a.is3d,f=a.left,g=a.top,p=a.pos1,m=a.pos2,b=a.pos3,_=a.pos4,C=a.clipPathState,w=a.snapBoundInfos;if(!l)return[];var S=Rae(l,u,c,r||"inset",C||i);if(!S)return[];var D=h?4:3,E=S.type,I=S.poses,T=I.map(function(ee){var ne=ea(d,ee.pos,D);return[ne[0]-f,ne[1]-g]}),M=[],A=[],O=E==="rect",F=E==="inset",U=E==="polygon";if(O||F||U){var V=F?T.slice(0,8):T;A=V.map(function(ee,ne){var le=ne===0?V[V.length-1]:V[ne-1],de=ns(le,ee),ye=Zye(le,ee);return e.createElement("div",{key:"clipLine"+ne,className:Zn("line","clip-line","snap-control"),"data-clip-index":ne,style:{width:ye+"px",transform:"translate("+le[0]+"px, "+le[1]+"px) rotate("+de+"rad) scaleY("+o+")"}})})}if(M=T.map(function(ee,ne){return e.createElement("div",{key:"clipControl"+ne,className:Zn("control","clip-control","snap-control"),"data-clip-index":ne,style:{transform:"translate("+ee[0]+"px, "+ee[1]+"px) scale("+o+")"}})}),F&&M.push.apply(M,T.slice(8).map(function(ee,ne){return e.createElement("div",{key:"clipRadiusControl"+ne,className:Zn("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+ne,style:{transform:"translate("+ee[0]+"px, "+ee[1]+"px) scale("+o+")"}})})),E==="circle"||E==="ellipse"){var G=S.left,j=S.top,X=S.radiusX,ie=S.radiusY,Ce=ti(ea(d,[G,j],D),ea(d,[0,0],D)),Be=Ce[0],we=Ce[1],ke="none";if(!s){for(var Se=Math.max(10,X/5,ie/5),fe=[],pe=0;pe<=Se;++pe){var me=Math.PI*2/Se*pe;fe.push([X+(X-o)*Math.cos(me),ie+(ie-o)*Math.sin(me)])}fe.push([X,-2]),fe.push([-2,-2]),fe.push([-2,ie*2+2]),fe.push([X*2+2,ie*2+2]),fe.push([X*2+2,-2]),fe.push([X,-2]),ke="polygon("+fe.map(function(ee){return ee[0]+"px "+ee[1]+"px"}).join(", ")+")"}M.push(e.createElement("div",{key:"clipEllipse",className:Zn("clip-ellipse","snap-control"),style:{width:X*2+"px",height:ie*2+"px",clipPath:ke,transform:"translate("+(-f+Be)+"px, "+(-g+we)+"px) "+o3(d)}}))}if(s){var Ne=Ac(nr([p,m,b,_],T)),je=Ne.width,rt=Ne.height,xe=Ne.left,Ve=Ne.top;if(U||O||F){var fe=F?T.slice(0,8):T;M.push(e.createElement("div",{key:"clipArea",className:Zn("clip-area","snap-control"),style:{width:je+"px",height:rt+"px",transform:"translate("+xe+"px, "+Ve+"px)",clipPath:"polygon("+fe.map(function(ne){return ne[0]-xe+"px "+(ne[1]-Ve)+"px"}).join(", ")+")"}}))}}return w&&["vertical","horizontal"].forEach(function(ee){var ne=w[ee],le=ee==="horizontal";ne.isSnap&&A.push.apply(A,ne.snap.posInfos.map(function(de,ye){var q=de.pos,P=ti(ea(d,le?[0,q]:[q,0],D),[f,g]),x=ti(ea(d,le?[u,q]:[q,c],D),[f,g]);return TC(e,"",P,x,o,"clip"+ee+"snap"+ye,"guideline")})),ne.isBound&&A.push.apply(A,ne.bounds.map(function(de,ye){var q=de.pos,P=ti(ea(d,le?[0,q]:[q,0],D),[f,g]),x=ti(ea(d,le?[u,q]:[q,c],D),[f,g]);return TC(e,"",P,x,o,"clip"+ee+"bounds"+ye,"guideline","bounds","bold")}))}),nr(M,A)},dragControlCondition:function(n,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(n,e){var t=n.props,i=t.dragWithClip,r=i===void 0?!0:i;return r?!1:this.dragControlStart(n,e)},drag:function(n,e){return this.dragControl(n,e)},dragEnd:function(n,e){return this.dragControlEnd(n,e)},dragControlStart:function(n,e){var t=n.state,i=n.props,r=i.defaultClipPath,s=i.customClipPath,o=t.target,a=t.width,l=t.height,u=e.inputEvent?e.inputEvent.target:null,c=u?u.getAttribute("class"):"",d=e.datas,h=Rae(o,a,l,r||"inset",s);if(!h)return!1;var f=h.clipText,g=h.type,p=h.poses,m=an(n,"onClipStart",ki(n,e,{clipType:g,clipStyle:f,poses:p.map(function(b){return b.pos})}));return m===!1?(d.isClipStart=!1,!1):(d.isControl=c.indexOf("clip-control")>-1,d.isLine=c.indexOf("clip-line")>-1,d.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,d.index=u?parseInt(u.getAttribute("data-clip-index"),10):-1,d.clipPath=h,d.isClipStart=!0,t.clipPathState=f,Z1(n,e),!0)},dragControl:function(n,e){var t=e.datas,i=e.originalDatas;if(!t.isClipStart)return!1;var r=i&&i.draggable||{},s=t,o=s.isControl,a=s.isLine,l=s.isArea,u=s.index,c=s.clipPath;if(!c)return!1;var d=r.isDrag?r.prevDist:Df(e),h=d[0],f=d[1],g=n.props,p=n.state,m=p.width,b=p.height,_=!l&&!o&&!a,C=c.type,w=c.poses,S=c.splitter,D=w.map(function(ne){return ne.pos});_&&(h=-h,f=-f);var E=!o||w[u].direction==="nesw",I=C==="inset"||C==="rect",T=w.map(function(){return[0,0]});if(o&&!E){var M=w[u],A=M.horizontal,O=M.vertical,F=[h*Math.abs(A),f*Math.abs(O)];T=d6t(w,u,F,I)}else E&&(T=D.map(function(){return[h,f]}));var U=D.map(function(ne,le){return Li(ne,T[le])}),V=nr(U);p.snapBoundInfos=null;var G=c.type==="circle",j=c.type==="ellipse";if(G||j){var X=Ac(U),ie=Math.abs(X.bottom-X.top),Ce=Math.abs(j?X.right-X.left:ie),Be=U[0][1]+ie,we=U[0][0]-Ce,ke=U[0][0]+Ce;G&&(V.push([ke,X.bottom]),T.push([1,0])),V.push([X.left,Be]),T.push([0,1]),V.push([we,X.bottom]),T.push([1,0])}var Se=fwe((g.clipHorizontalGuidelines||[]).map(function(ne){return Js(""+ne,b)}),(g.clipVerticalGuidelines||[]).map(function(ne){return Js(""+ne,m)}),m,b),fe=[],pe=[];if(G||j)fe=[V[4][0],V[2][0]],pe=[V[1][1],V[3][1]];else if(I){var me=[V[0],V[2],V[4],V[6]],Ne=[T[0],T[2],T[4],T[6]];fe=me.filter(function(ne,le){return Ne[le][0]}).map(function(ne){return ne[0]}),pe=me.filter(function(ne,le){return Ne[le][1]}).map(function(ne){return ne[1]})}else fe=V.filter(function(ne,le){return T[le][0]}).map(function(ne){return ne[0]}),pe=V.filter(function(ne,le){return T[le][1]}).map(function(ne){return ne[1]});for(var je=function(ne){var le=Eae(Se,g.clipTargetBounds&&{left:0,top:0,right:m,bottom:b},fe,pe,{snapThreshold:5}),de=le.horizontal,ye=le.vertical,q=de.offset,P=ye.offset;if((j||G)&&T[0][0]===0&&T[0][1]===0){var x=Ac(U),R=x.bottom-x.top,H=j?x.right-x.left:R,W=ye.isBound?Math.abs(P):ye.snapIndex===0?-P:P,K=de.isBound?Math.abs(q):de.snapIndex===0?-q:q;H-=W,R-=K,G&&(R=pwe(ye,de)>0?R:H,H=R);var re=V[0];V[1][1]=re[1]-R,V[2][0]=re[0]+H,V[3][1]=re[1]+R,V[4][0]=re[0]-H}else return V.forEach(function(se,ve){var Re=T[ve];Re[0]&&(se[0]-=P),Re[1]&&(se[1]-=q)}),"break"},rt=0;rt<2;++rt){var xe=je();if(xe==="break")break}var Ve=eY(n,c,U),ee=C+"("+Ve.join(S)+")";if(p.clipPathState=ee,G||j)fe=[V[4][0],V[2][0]],pe=[V[1][1],V[3][1]];else if(I){var me=[V[0],V[2],V[4],V[6]];fe=me.map(function(le){return le[0]}),pe=me.map(function(le){return le[1]})}else fe=V.map(function(ne){return ne[0]}),pe=V.map(function(ne){return ne[1]});return p.snapBoundInfos=Eae(Se,g.clipTargetBounds&&{left:0,top:0,right:m,bottom:b},fe,pe,{snapThreshold:1}),an(n,"onClip",ki(n,e,{clipEventType:"changed",clipType:C,poses:U,clipStyle:ee,clipStyles:Ve,distX:h,distY:f})),!0},dragControlEnd:function(n,e){this.unset(n);var t=e.isDrag,i=e.datas,r=e.isDouble,s=i.isLine,o=i.isClipStart,a=i.isControl;return o?(an(n,"onClipEnd",Hu(n,e,{})),r&&(a?LBt(n,e):s&&SBt(n,e)),r||t):!1},unset:function(n){n.state.clipPathState="",n.state.snapBoundInfos=null}},EBt={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(n,e){return e.isRequest?e.requestAble==="originDraggable":Dc(e.inputEvent.target,Zn("origin"))},dragControlStart:function(n,e){var t=e.datas;Z1(n,e);var i=ki(n,e,{dragStart:kl.dragStart(n,new KD().dragStart([0,0],e))}),r=an(n,"onDragOriginStart",i);return t.startOrigin=n.state.transformOrigin,t.startTargetOrigin=n.state.targetOrigin,t.prevOrigin=[0,0],t.isDragOrigin=!0,r===!1?(t.isDragOrigin=!1,!1):i},dragControl:function(n,e){var t=e.datas,i=e.isPinch,r=e.isRequest;if(!t.isDragOrigin)return!1;var s=Df(e),o=s[0],a=s[1],l=n.state,u=l.width,c=l.height,d=l.offsetMatrix,h=l.targetMatrix,f=l.is3d,g=n.props.originRelative,p=g===void 0?!0:g,m=f?4:3,b=[o,a];if(r){var _=e.distOrigin;(_[0]||_[1])&&(b=_)}var C=Li(t.startOrigin,b),w=Li(t.startTargetOrigin,b),S=ti(b,t.prevOrigin),D=d3(d,h,C,m),E=n.getRect(),I=Ac(jD(D,u,c,m)),T=[E.left-I.left,E.top-I.top];t.prevOrigin=b;var M=[ud(w[0],u,p),ud(w[1],c,p)].join(" "),A=ki(n,e,{width:u,height:c,origin:C,dist:b,delta:S,transformOrigin:M,drag:kl.drag(n,l3(e,n.state,T,!!i,!1))});return an(n,"onDragOrigin",A),A},dragControlEnd:function(n,e){var t=e.datas;return t.isDragOrigin?(an(n,"onDragOriginEnd",Hu(n,e,{})),!0):!1},dragGroupControlCondition:function(n,e){return this.dragControlCondition(n,e)},dragGroupControlStart:function(n,e){var t=this.dragControlStart(n,e);return!!t},dragGroupControl:function(n,e){var t=this.dragControl(n,e);return t?(n.transformOrigin=t.transformOrigin,!0):!1},request:function(n){var e={},t=n.getRect(),i=0,r=0,s=t.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(a){return"deltaOrigin"in a?(o[0]+=a.deltaOrigin[0],o[1]+=a.deltaOrigin[1]):"origin"in a?(o[0]=a.origin[0]-s[0],o[1]=a.origin[1]-s[1]):("x"in a?i=a.x-t.left:"deltaX"in a&&(i+=a.deltaX),"y"in a?r=a.y-t.top:"deltaY"in a&&(r+=a.deltaY)),{datas:e,distX:i,distY:r,distOrigin:o}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function DBt(n,e,t,i,r,s,o){var a=xwe(n),l=a.horizontals,u=a.verticals,c=l.length,d=u.length,h=-1,f=-1;t===0?c===0?h=0:c===1&&(h=1):t===3&&(c<=2?h=2:c<=3&&(h=3)),t===2?d===0?f=0:d<4&&(f=3):t===1&&(d<=1?f=1:d<=2&&(f=2)),Nwe(n,e,0,h,f,i,r,s,o)}function Oae(n,e,t,i,r){i===void 0&&(i=[0,0]);var s,o=[];if(r)s=r;else{var a=ql(n);s=a&&a.borderRadius||""}return!s||!r&&s==="0px"?o=[]:o=mv(s),Iwe(o,e,t,0,0,i)}function Pae(n,e,t,i,r,s){var o=n.state,a=o.width,l=o.height,u=Jq(s,r,n.props.roundRelative,a,l),c=u.raws,d=u.styles,h=xwe(r,c),f=h.horizontals,g=h.verticals,p=d.join(" ");o.borderRadiusState=p,an(n,"onRound",ki(n,e,{horizontals:f,verticals:g,borderRadius:p,width:a,height:l,delta:i,dist:t}))}var IBt={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
}`,`:host[data-able-roundable] .line.direction {
    cursor: pointer;
}`],render:function(n,e){var t=n.state,i=t.target,r=t.width,s=t.height,o=t.allMatrix,a=t.is3d,l=t.left,u=t.top,c=t.borderRadiusState,d=n.props,h=d.minRoundControls,f=h===void 0?[0,0]:h,g=d.maxRoundControls,p=g===void 0?[4,4]:g,m=d.zoom;if(!i)return null;var b=a?4:3,_=Oae(i,r,s,f,c);if(!_)return null;var C=0,w=0;return _.map(function(S,D){w+=Math.abs(S.horizontal),C+=Math.abs(S.vertical);var E=ti(ea(o,S.pos,b),[l,u]),I=S.vertical?C<=p[1]:w<=p[0];return e.createElement("div",{key:"borderRadiusControl"+D,className:Zn("control","border-radius"),"data-radius-index":D,style:{display:I?"block":"none",transform:"translate("+E[0]+"px, "+E[1]+"px) scale("+m+")"}})})},dragControlCondition:function(n,e){if(!e.inputEvent||e.isRequest)return!1;var t=e.inputEvent.target.getAttribute("class")||"";return t.indexOf("border-radius")>-1||t.indexOf("moveable-line")>-1&&t.indexOf("moveable-direction")>-1},dragControlStart:function(n,e){var t=e.inputEvent,i=e.datas,r=t.target,s=r.getAttribute("class")||"",o=s.indexOf("border-radius")>-1,a=s.indexOf("moveable-line")>-1&&s.indexOf("moveable-direction")>-1,l=o?parseInt(r.getAttribute("data-radius-index"),10):-1,u=a?parseInt(r.getAttribute("data-line-index"),10):-1;if(!o&&!a)return!1;var c=an(n,"onRoundStart",ki(n,e,{}));if(c===!1)return!1;i.lineIndex=u,i.controlIndex=l,i.isControl=o,i.isLine=a,Z1(n,e);var d=n.props,h=d.roundRelative,f=d.minRoundControls,g=f===void 0?[0,0]:f,p=n.state,m=p.target,b=p.width,_=p.height;i.isRound=!0,i.prevDist=[0,0];var C=Oae(m,b,_,g)||[];return i.controlPoses=C,p.borderRadiusState=Jq(C.map(function(w){return w.pos}),C,h,b,_).styles.join(" "),!0},dragControl:function(n,e){var t=e.datas;if(!t.isRound||!t.isControl||!t.controlPoses.length)return!1;var i=t.controlIndex,r=t.controlPoses,s=Df(e),o=s[0],a=s[1],l=[o,a],u=ti(l,t.prevDist),c=n.props.maxRoundControls,d=c===void 0?[4,4]:c,h=n.state,f=h.width,g=h.height,p=r[i],m=p.vertical,b=p.horizontal,_=r.map(function(w){var S=w.horizontal,D=w.vertical,E=[S*b*l[0],D*m*l[1]];if(S){if(d[0]===1)return E;if(d[0]<4&&S!==b)return E}else{if(d[1]===0)return E[1]=D*b*l[0]/f*g,E;if(m){if(d[1]===1)return E;if(d[1]<4&&D!==m)return E}}return[0,0]});_[i]=l;var C=r.map(function(w,S){return Li(w.pos,_[S])});return t.prevDist=[o,a],Pae(n,e,l,u,r,C),!0},dragControlEnd:function(n,e){var t=n.state;t.borderRadiusState="";var i=e.datas,r=e.isDouble;if(!i.isRound)return!1;var s=t.width,o=t.height,a=i.isControl,l=i.controlIndex,u=i.isLine,c=i.lineIndex,d=i.controlPoses,h=d.map(function(C){return C.pos}),f=h.length,g=n.props.roundClickable,p=g===void 0?!0:g;if(r&&p){if(a)Twe(d,h,l,0);else if(u){var m=nwe(n,e),b=m[0],_=m[1];DBt(d,h,c,b,_,s,o)}f!==d.length&&Pae(n,e,[0,0],[0,0],d,h)}return an(n,"onRoundEnd",Hu(n,e,{})),t.borderRadiusState="",!0},unset:function(n){n.state.borderRadiusState=""}},Mwe={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},setTransform:function(n,e){var t=n.state,i=t.is3d,r=t.target,s=t.targetMatrix,o=r==null?void 0:r.style.transform,a=i?"matrix3d("+s.join(",")+")":"matrix("+$ye(s,!0)+")";e.datas.startTransforms=!o||o==="none"?[a]:mv(o)},resetTransform:function(n,e){e.datas.nextTransforms=e.datas.startTransforms,e.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(n,e){return ki(n,e,{setTransform:function(t){e.datas.startTransforms=Y1(t)?t:mv(t)},isPinch:!!e.isPinch})},fillDragParams:function(n,e){return ki(n,e,{isPinch:!!e.isPinch})},dragStart:function(n,e){this.setTransform(n,e),an(n,"onBeforeRenderStart",this.fillDragStartParams(n,e))},drag:function(n,e){this.resetTransform(n,e),an(n,"onBeforeRender",ki(n,e,{isPinch:!!e.isPinch}))},dragEnd:function(n,e){an(n,"onBeforeRenderEnd",ki(n,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(n,e){var t=this;this.dragStart(n,e);var i=kw(n,"beforeRenderable",e),r=n.moveables,s=i.map(function(o,a){var l=r[a];return t.setTransform(l,o),t.fillDragStartParams(l,o)});an(n,"onBeforeRenderGroupStart",ki(n,e,{isPinch:!!e.isPinch,targets:n.props.targets,setTransform:function(){},events:s}))},dragGroup:function(n,e){var t=this;this.drag(n,e);var i=kw(n,"beforeRenderable",e),r=n.moveables,s=i.map(function(o,a){var l=r[a];return t.resetTransform(l,o),t.fillDragParams(l,o)});an(n,"onBeforeRenderGroup",ki(n,e,{isPinch:!!e.isPinch,targets:n.props.targets,events:s}))},dragGroupEnd:function(n,e){this.dragEnd(n,e),an(n,"onBeforeRenderGroupEnd",ki(n,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:n.props.targets}))},dragControlStart:function(n,e){return this.dragStart(n,e)},dragControl:function(n,e){return this.drag(n,e)},dragControlEnd:function(n,e){return this.dragEnd(n,e)},dragGroupControlStart:function(n,e){return this.dragGroupStart(n,e)},dragGroupControl:function(n,e){return this.dragGroup(n,e)},dragGroupControlEnd:function(n,e){return this.dragGroupEnd(n,e)}},Awe={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragStart:function(n,e){an(n,"onRenderStart",ki(n,e,{isPinch:!!e.isPinch}))},drag:function(n,e){an(n,"onRender",ki(n,e,{isPinch:!!e.isPinch}))},dragEnd:function(n,e){an(n,"onRenderEnd",ki(n,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(n,e){an(n,"onRenderGroupStart",ki(n,e,{isPinch:!!e.isPinch,targets:n.props.targets}))},dragGroup:function(n,e){an(n,"onRenderGroup",ki(n,e,{isPinch:!!e.isPinch,targets:n.props.targets}))},dragGroupEnd:function(n,e){an(n,"onRenderGroupEnd",ki(n,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:n.props.targets}))},dragControlStart:function(n,e){return this.dragStart(n,e)},dragControl:function(n,e){return this.drag(n,e)},dragControlEnd:function(n,e){return this.dragEnd(n,e)},dragGroupControlStart:function(n,e){return this.dragGroupStart(n,e)},dragGroupControl:function(n,e){return this.dragGroup(n,e)},dragGroupControlEnd:function(n,e){return this.dragGroupEnd(n,e)}};function kL(n,e,t,i,r,s,o){var a=r==="Start",l=n.state.target,u=s.isRequest;if(!l||a&&i.indexOf("Control")>-1&&!u&&n.areaElement===s.inputEvent.target)return!1;var c=""+t+i+r,d=""+t+i+"Condition",h=r==="End",f=r.indexOf("After")>-1,g=a&&(!n.targetGesto||!n.controlGesto||!n.targetGesto.isFlag()||!n.controlGesto.isFlag());g&&n.updateRect(r,!0,!1),r===""&&!f&&!u&&twe(n.state,s);var p=nr([Mwe],n[e].slice(),[Awe]);if(u){var m=s.requestAble;p.some(function(I){return I.name===m})||p.push.apply(p,n.props.ables.filter(function(I){return I.name===m}))}if(!p.length)return!1;var b=p.filter(function(I){return I[c]}),_=s.datas;g&&b.forEach(function(I){I.unset&&I.unset(n)});var C=s.inputEvent,w;h&&C&&(w=document.elementFromPoint(s.clientX,s.clientY)||C.target);var S=b.filter(function(I){var T=I.name,M=_[T]||(_[T]={});return a&&(M.isEventStart=!I[d]||I[d](n,s)),M.isEventStart?I[c](n,ht(ht({},s),{datas:M,originalDatas:_,inputTarget:w})):!1}),D=S.length,E=a&&b.length&&!D;return(h||E)&&(n.state.gesto=null,n.moveables&&n.moveables.forEach(function(I){I.state.gesto=null})),g&&E&&b.forEach(function(I){I.unset&&I.unset(n)}),n.isUnmounted||E?!1:((!a&&D&&!o||h)&&(n.updateRect(r,!0,!1),n.forceUpdate()),!a&&!h&&!f&&D&&!o&&kL(n,e,t,i,r+"After",s),!0)}function Rwe(n,e,t){var i=n.controlBox.getElement(),r=[];r.push(i),(!n.props.dragArea||n.props.dragTarget)&&r.push(e);var s=function(o){var a=o.inputEvent.target,l=n.areaElement;return a===l||!n.isMoveableElement(a)||Dc(a,"moveable-area")||Dc(a,"moveable-padding")};return tY(n,r,"targetAbles",t,{dragStart:s,pinchStart:s})}function tY(n,e,t,i,r){r===void 0&&(r={});var s=n.props,o=s.pinchOutside,a=s.pinchThreshold,l={container:window,pinchThreshold:a,pinchOutside:o},u=new Lye(e,l);return["drag","pinch"].forEach(function(c){["Start","","End"].forEach(function(d){u.on(""+c+d,function(h){var f=h.eventType;if(r[f]&&!r[f](h)){h.stop();return}var g=kL(n,t,c,i,d,h);g||h.stop()})})}),u}var TBt=function(){function n(t,i,r){var s=this;this.target=t,this.moveable=i,this.eventName=r,this.ables=[],this.onEvent=function(o){var a=s.eventName,l=s.moveable;l.state.disableNativeEvent||s.ables.forEach(function(u){u[a](l,{inputEvent:o})})},this.target.addEventListener(this.eventName.toLowerCase(),this.onEvent)}var e=n.prototype;return e.setAbles=function(t){this.ables=t},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this.onEvent),this.target=null,this.moveable=null},n}(),Ew=function(n){zD(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.state=ht({container:null,target:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},CH(null)),i.enabledAbles=[],i.targetAbles=[],i.controlAbles=[],i.rotation=0,i.scale=[1,1],i.isUnmounted=!1,i.events={mouseEnter:null,mouseLeave:null},i.onPreventClick=function(r){r.stopPropagation()},i}var t=e.prototype;return t.render=function(){var i=this.props,r=this.state,s=i.edge,o=i.parentPosition,a=i.className,l=i.target,u=i.zoom,c=i.cspNonce,d=i.translateZ,h=i.cssStyled,f=i.portalContainer;this.checkUpdate(),this.updateRenderPoses();var g=o||{left:0,top:0},p=g.left,m=g.top,b=r.left,_=r.top,C=r.target,w=r.direction,S=r.renderPoses,D=i.targets,E=(D&&D.length||l)&&C,I=this.isDragging(),T={},M={createElement:Ns};return this.getEnabledAbles().forEach(function(A){T["data-able-"+A.name.toLowerCase()]=!0}),Ns(h,ht({cspNonce:c,ref:Eo(this,"controlBox"),className:Zn("control-box",w===-1?"reverse":"",I?"dragging":"")+" "+a},T,{onClick:this.onPreventClick,portalContainer:f,style:{position:"absolute",display:E?"block":"none",transform:"translate3d("+(b-p)+"px, "+(_-m)+"px, "+d+")","--zoom":u,"--zoompx":u+"px"}}),this.renderAbles(),TC(M,s?"n":"",S[0],S[1],u,0),TC(M,s?"e":"",S[1],S[3],u,1),TC(M,s?"w":"",S[0],S[2],u,2),TC(M,s?"s":"",S[2],S[3],u,3))},t.componentDidMount=function(){this.controlBox.getElement();var i=this.props,r=i.parentMoveable,s=i.container,o=i.wrapperMoveable;this.updateEvent(i),this.updateNativeEvents(i),!s&&!r&&!o&&this.updateRect("",!1,!0),this.updateCheckInput()},t.componentDidUpdate=function(i){this.updateNativeEvents(i),this.updateEvent(i),this.updateCheckInput()},t.componentWillUnmount=function(){this.isUnmounted=!0,DC(this,"targetGesto"),DC(this,"controlGesto");var i=this.events;for(var r in i){var s=i[r];s&&s.destroy()}},t.getContainer=function(){var i=this.props,r=i.parentMoveable,s=i.wrapperMoveable,o=i.container;return o||s&&s.getContainer()||r&&r.getContainer()||this.controlBox.getElement().parentElement},t.isMoveableElement=function(i){return i&&(i.getAttribute("class")||"").indexOf(zq)>-1},t.dragStart=function(i){return this.targetGesto&&this.targetGesto.triggerDragStart(i),this},t.hitTest=function(i){var r=this.state,s=r.target,o=r.pos1,a=r.pos2,l=r.pos3,u=r.pos4,c=r.targetClientRect;if(!s)return 0;var d;if(i instanceof Element){var h=i.getBoundingClientRect();d={left:h.left,top:h.top,width:h.width,height:h.height}}else d=ht({width:0,height:0},i);var f=d.left,g=d.top,p=d.width,m=d.height,b=sae([o,a,u,l],c),_=L8t(b,[[f,g],[f+p,g],[f+p,g+m],[f,g+m]]),C=zye(b);return!_||!C?0:Math.min(100,_/C*100)},t.isInside=function(i,r){var s=this.state,o=s.target,a=s.pos1,l=s.pos2,u=s.pos3,c=s.pos4,d=s.targetClientRect;return o?uH([i,r],sae([a,l,c,u],d)):!1},t.updateRect=function(i,r,s){s===void 0&&(s=!0);var o=this.props,a=o.parentMoveable,l=this.state,u=l.target||this.props.target,c=this.getContainer(),d=a?a.props.rootContainer:o.rootContainer;this.updateState(CH(this.controlBox&&this.controlBox.getElement(),u,c,c,d||c),a?!1:s)},t.isTargetChanged=function(i,r){var s=this.props,o=s.dragTarget||s.target,a=i.dragTarget||i.target,l=s.dragArea,u=i.dragArea,c=!l&&a!==o;return c||(r||l)&&u!==l},t.updateNativeEvents=function(i){var r=this,s=this.props,o=s.dragArea?this.areaElement:this.state.target,a=this.events,l=bye(a);if(this.isTargetChanged(i))for(var u in a){var c=a[u];c&&c.destroy(),a[u]=null}if(!!o){var d=this.enabledAbles;l.forEach(function(h){var f=bN(d,[h]),g=f.length>0,p=a[h];if(!g){p&&(p.destroy(),a[h]=null);return}p||(p=new TBt(o,r,h),a[h]=p),p.setAbles(f)})}},t.updateEvent=function(i){var r=this.controlBox.getElement(),s=this.targetAbles.length,o=this.controlAbles.length,a=this.props,l=a.dragTarget||a.target,u=this.isTargetChanged(i,!0),c=!s&&this.targetGesto||u;c&&(DC(this,"targetGesto"),this.updateState({gesto:null})),o||DC(this,"controlGesto"),l&&s&&!this.targetGesto&&(this.targetGesto=Rwe(this,l,"")),!this.controlGesto&&o&&(this.controlGesto=tY(this,r,"controlAbles","Control")),c&&this.unsetAbles()},t.isDragging=function(){return(this.targetGesto?this.targetGesto.isFlag():!1)||(this.controlGesto?this.controlGesto.isFlag():!1)},t.updateTarget=function(i){this.updateRect(i,!0)},t.getRect=function(){var i=this.state,r=Ef(this.state),s=r[0],o=r[1],a=r[2],l=r[3],u=Ac(r),c=i.width,d=i.height,h=u.width,f=u.height,g=u.left,p=u.top,m=[i.left,i.top],b=Li(m,i.origin),_=Li(m,i.beforeOrigin),C=i.transformOrigin;return{width:h,height:f,left:g,top:p,pos1:s,pos2:o,pos3:a,pos4:l,offsetWidth:c,offsetHeight:d,beforeOrigin:_,origin:b,transformOrigin:C,rotation:this.getRotation()}},t.getManager=function(){return this},t.getRotation=function(){var i=this.state,r=i.pos1,s=i.pos2,o=i.direction;return m6t(r,s,o)},t.request=function(i,r,s){r===void 0&&(r={});var o=this.props,a=o.ables,l=o.groupable,u=a.filter(function(m){return m.name===i})[0];if(this.isDragging()||!u||!u.request)return{request:function(){return this},requestEnd:function(){return this}};var c=this,d=u.request(this),h=s||r.isInstant,f=d.isControl?"controlAbles":"targetAbles",g=(l?"Group":"")+(d.isControl?"Control":""),p={request:function(m){return kL(c,f,"drag",g,"",ht(ht({},d.request(m)),{requestAble:i,isRequest:!0}),h),this},requestEnd:function(){return kL(c,f,"drag",g,"End",ht(ht({},d.requestEnd()),{requestAble:i,isRequest:!0}),h),this}};return kL(c,f,"drag",g,"Start",ht(ht({},d.requestStart(r)),{requestAble:i,isRequest:!0}),h),h?p.request(r).requestEnd():p},t.destroy=function(){this.componentWillUnmount()},t.updateRenderPoses=function(){var i=this.state,r=this.props,s=i.originalBeforeOrigin,o=i.transformOrigin,a=i.allMatrix,l=i.is3d,u=i.pos1,c=i.pos2,d=i.pos3,h=i.pos4,f=i.left,g=i.top,p=r.padding||{},m=p.left,b=m===void 0?0:m,_=p.top,C=_===void 0?0:_,w=p.bottom,S=w===void 0?0:w,D=p.right,E=D===void 0?0:D,I=l?4:3,T=r.groupable?s:Li(s,[f,g]);i.renderPoses=[Li(u,CN(a,[-b,-C],o,T,I)),Li(c,CN(a,[E,-C],o,T,I)),Li(d,CN(a,[-b,S],o,T,I)),Li(h,CN(a,[E,S],o,T,I))]},t.checkUpdate=function(){var i=this.props,r=i.target,s=i.container,o=i.parentMoveable,a=this.state,l=a.target,u=a.container;if(!(!l&&!r)){this.updateAbles();var c=!yH(l,r)||!yH(u,s);!c||(this.updateState({target:r,container:s}),!o&&(s||this.controlBox)&&this.updateRect("End",!1,!1))}},t.triggerEvent=function(i,r){var s=this.props[i];return s&&s(r)},t.useCSS=function(i,r){var s=this.props.customStyledMap,o=i+r;return s[o]||(s[o]=Hq(i,r)),s[o]},t.unsetAbles=function(){var i=this;this.targetAbles.filter(function(r){return r.unset?(r.unset(i),!0):!1}).length&&this.forceUpdate()},t.updateAbles=function(i,r){i===void 0&&(i=this.props.ables),r===void 0&&(r="");var s=this.props,o=s.triggerAblesSimultaneously,a=i.filter(function(f){return f&&(f.always||s[f.name])}),l="drag"+r+"Start",u="pinch"+r+"Start",c="drag"+r+"ControlStart",d=bN(a,[l,u],o),h=bN(a,[c],o);this.enabledAbles=a,this.targetAbles=d,this.controlAbles=h},t.updateState=function(i,r){if(r)this.setState(i);else{var s=this.state;for(var o in i)s[o]=i[o]}},t.getEnabledAbles=function(){var i=this.props,r=i.ables;return r.filter(function(s){return s&&i[s.name]})},t.renderAbles=function(){var i=this,r=this.props,s=r.triggerAblesSimultaneously,o={createElement:Ns};return u6t(Yq(bN(this.getEnabledAbles(),["render"],s).map(function(a){var l=a.render;return l(i,o)||[]})).filter(function(a){return a}),function(a){var l=a.key;return l}).map(function(a){return a[0]})},t.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{}},e}(VD),nY={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(n,e){var t=n.props.targets||[];n.moveables=[];var i=n.state,r=i.left,s=i.top,o={left:r,top:s};return t.map(function(a,l){return e.createElement(Ew,{key:"moveable"+l,ref:Pq(n,"moveables",l),target:a,origin:!1,cssStyled:n.props.cssStyled,customStyledMap:n.props.customStyledMap,parentMoveable:n,parentPosition:o})})}},NBt=UD("clickable",{props:{},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragStart:function(){},dragGroupStart:function(n,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(n,e){var t=n.state.target,i=e.inputEvent,r=e.inputTarget;if(!(!i||!r||e.isDrag||n.isMoveableElement(r))){var s=t.contains(r);an(n,"onClick",ki(n,e,{isDouble:e.isDouble,inputTarget:r,isTarget:t===r,containsTarget:s}))}},dragGroupEnd:function(n,e){var t=e.inputEvent,i=e.inputTarget;if(!(!t||!i||e.isDrag||n.isMoveableElement(i)||e.datas.inputTarget===i)){var r=n.props.targets,s=r.indexOf(i),o=s>-1,a=!1;s===-1&&(s=Wc(r,function(l){return l.contains(i)}),a=s>-1),an(n,"onClickGroup",ki(n,e,{isDouble:e.isDouble,targets:r,inputTarget:i,targetIndex:s,isTarget:o,containsTarget:a}))}}});function Wb(n){var e=n.originalDatas.draggable;return e||(n.originalDatas.draggable={},e=n.originalDatas.draggable),ht(ht({},n),{datas:e})}var xBt=UD("edgeDraggable",{dragControlCondition:function(n,e){if(!n.props.edgeDraggable||!e.inputEvent)return!1;var t=e.inputEvent.target;return Dc(t,Zn("direction"))&&Dc(t,Zn("line"))},dragControlStart:function(n,e){return kl.dragStart(n,Wb(e))},dragControl:function(n,e){return kl.drag(n,Wb(e))},dragControlEnd:function(n,e){return kl.dragEnd(n,Wb(e))},dragGroupControlCondition:function(n,e){if(!n.props.edgeDraggable||!e.inputEvent)return!1;var t=e.inputEvent.target;return Dc(t,Zn("direction"))&&Dc(t,Zn("line"))},dragGroupControlStart:function(n,e){return kl.dragGroupStart(n,Wb(e))},dragGroupControl:function(n,e){return kl.dragGroup(n,Wb(e))},dragGroupControlEnd:function(n,e){return kl.dragGroupEnd(n,Wb(e))},unset:function(n){n.state.dragInfo=null}}),Owe={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},iY=[Mwe,Ewe,aBt,v6t,kl,xBt,uBt,cBt,dBt,fBt,vBt,_Bt,pBt,EBt,kBt,IBt,nY,Owe,NBt,kwe,Awe],MBt=iY.reduce(function(n,e){return ht(ht({},n),"events"in e?e.events:{})},{}),ABt=iY.reduce(function(n,e){return ht(ht({},n),e.props)},{}),RBt=h6t(MBt),OBt=Object.keys(RBt),PBt=Object.keys(ABt);function SN(n,e){return Math.max.apply(Math,n.map(function(t){var i=t[0],r=t[1],s=t[2],o=t[3];return Math.max(i[e],r[e],s[e],o[e])}))}function LN(n,e){return Math.min.apply(Math,n.map(function(t){var i=t[0],r=t[1],s=t[2],o=t[3];return Math.min(i[e],r[e],s[e],o[e])}))}function FBt(n,e){if(!n.length)return[0,0,0,0];var t=n.map(function(p){var m=p.state;return Ef(m)}),i=b2,r=b2,s=0,o=0,a=yi(e,To);if(a%90){var l=a/180*Math.PI,u=Math.tan(l),c=-1/u,d=[aae,b2],h=[aae,b2];t.forEach(function(p){p.forEach(function(m){var b=m[1]-u*m[0],_=m[1]-c*m[0];d[0]=Math.max(d[0],b),d[1]=Math.min(d[1],b),h[0]=Math.max(h[0],_),h[1]=Math.min(h[1],_)})}),d.forEach(function(p){h.forEach(function(m){var b=(m-p)/(u-c),_=u*b+p;i=Math.min(i,b),r=Math.min(r,_)})});var f=t.map(function(p){var m=p[0],b=p[1],_=p[2],C=p[3];return[dm(m,-l),dm(b,-l),dm(_,-l),dm(C,-l)]});s=SN(f,0)-LN(f,0),o=SN(f,1)-LN(f,1)}else if(i=LN(t,0),r=LN(t,1),s=SN(t,0)-i,o=SN(t,1)-r,a%180){var g=s;s=o,o=g}return[i,r,s,o]}var BBt=function(n){zD(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.differ=new I8t,i.moveables=[],i.transformOrigin="50% 50%",i}var t=e.prototype;return t.updateEvent=function(i){var r=this.state,s=this.props,o=i.dragTarget||r.target,a=s.dragTarget||this.areaElement;o!==a&&(DC(this,"targetGesto"),DC(this,"controlGesto"),r.target=null),r.target||(r.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetGesto=Rwe(this,a,"Group"),this.controlGesto=tY(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var l=!yH(i.container,s.container);l&&(r.container=s.container);var u=this.differ.update(s.targets),c=u.added,d=u.changed,h=u.removed;(l||c.length||d.length||h.length)&&this.updateRect()},t.checkUpdate=function(){this.updateAbles()},t.updateRect=function(i,r,s){if(s===void 0&&(s=!0),!!this.controlBox){this.moveables.forEach(function(F){F.updateRect(i,!1,!1)});var o=this.state,a=this.props,l=o.target||a.target;(!r||i!==""&&a.updateGroup)&&(this.rotation=a.defaultGroupRotate,this.transformOrigin=a.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var u=this.rotation,c=this.scale,d=FBt(this.moveables,u),h=d[0],f=d[1],g=d[2],p=d[3],m="rotate("+u+"deg) scale("+(c[0]>=0?1:-1)+", "+(c[1]>=0?1:-1)+")";l.style.cssText+="left:0px;top:0px; transform-origin: "+this.transformOrigin+"; width:"+g+"px; height:"+p+"px;"+("transform:"+m),o.width=g,o.height=p;var b=this.getContainer(),_=CH(this.controlBox.getElement(),l,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||b),C=[_.left,_.top],w=Ef(_),S=w[0],D=w[1],E=w[2],I=w[3],T=s3([S,D,E,I]),M=[T.minX,T.minY];_.pos1=ti(S,M),_.pos2=ti(D,M),_.pos3=ti(E,M),_.pos4=ti(I,M),_.left=h-_.left+M[0],_.top=f-_.top+M[1],_.origin=ti(Li(C,_.origin),M),_.beforeOrigin=ti(Li(C,_.beforeOrigin),M),_.originalBeforeOrigin=Li(C,_.originalBeforeOrigin);var A=_.targetClientRect,O=c[0]*c[1]>0?1:-1;A.top+=_.top-o.top,A.left+=_.left-o.left,l.style.transform="translate("+-M[0]+"px, "+-M[1]+"px) "+m,this.updateState(ht(ht({},_),{direction:O,beforeDirection:O}),s)}},t.getRect=function(){return ht(ht({},n.prototype.getRect.call(this)),{children:this.moveables.map(function(i){return i.getRect()})})},t.triggerEvent=function(i,r,s){if(s||i.indexOf("Group")>-1)return n.prototype.triggerEvent.call(this,i,r)},t.updateAbles=function(){n.prototype.updateAbles.call(this,nr(this.props.ables,[nY]),"Group")},e.defaultProps=ht(ht({},Ew.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Ew),$Bt=function(n){zD(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.moveables=[],i}var t=e.prototype;return t.render=function(){var i=this,r=this.props,s=r.cspNonce,o=r.cssStyled,a=r.targets;return Ns(o,{cspNonce:s,ref:Eo(this,"controlBox"),className:Zn("control-box")},a.map(function(l,u){return Ns(Ew,ht({key:"moveable"+u,ref:Pq(i,"moveables",u)},i.props,{target:l,wrapperMoveable:i}))}))},t.componentDidUpdate=function(){},t.updateRect=function(i,r,s){s===void 0&&(s=!0),this.moveables.forEach(function(o){o.updateRect(i,r,s)})},t.getRect=function(){return ht(ht({},n.prototype.getRect.call(this)),{children:this.moveables.map(function(i){return i.getRect()})})},t.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},t.dragStart=function(){return this},t.hitTest=function(){return 0},t.isInside=function(){return!1},t.isDragging=function(){return!1},t.updateRenderPoses=function(){},t.updateEvent=function(){},t.checkUpdate=function(){},t.triggerEvent=function(){},t.updateAbles=function(){},e}(Ew),VBt=function(n){zD(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.refTargets=[],i.selectorMap={},i}var t=e.prototype;return e.makeStyled=function(){var i={},r=this.getTotalAbles();r.forEach(function(o){var a=o.css;!a||a.forEach(function(l){i[l]=!0})});var s=bye(i).join(`
`);this.defaultStyled=Hq("div",Eye(zq,K8t+s))},e.getTotalAbles=function(){return nr([Ewe,nY,Owe,kwe],this.defaultAbles)},t.render=function(){var i=this.constructor;i.defaultStyled||i.makeStyled();var r=this.props,s=r.ables,o=r.props,a=H8t(r,["ables","props"]),l=wH(a.target||a.targets),u=p6t(l,this.selectorMap);this.refTargets=l;var c=u.length>1,d=i.getTotalAbles(),h=nr(d,s||[]),f=ht(ht(ht({},a),o||{}),{ables:h,cssStyled:i.defaultStyled,customStyledMap:i.customStyledMap});return c?a.individualGroupable?Ns($Bt,ht({key:"individual-group",ref:Eo(this,"moveable")},f,{target:null,targets:u})):Ns(BBt,ht({key:"group",ref:Eo(this,"moveable")},f,{target:null,targets:u})):Ns(Ew,ht({key:"single",ref:Eo(this,"moveable")},f,{target:u[0]}))},t.componentDidMount=function(){this.updateRefs()},t.componentDidUpdate=function(){this.updateRefs()},t.updateRefs=function(i){var r=wH(this.props.target||this.props.targets),s=this.refTargets.some(function(l,u){var c=r[u];return!l&&!c?!1:l!==c}),o=i?{}:this.selectorMap,a={};this.refTargets.forEach(function(l){zd(l)&&(o[l]?a[l]=o[l]:(s=!0,a[l]=[].slice.call(document.querySelectorAll(l))))}),this.selectorMap=a,s&&this.forceUpdate()},t.getManager=function(){return this.moveable},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,z8t([BFt(Yye)],e.prototype,"moveable",void 0),e}(VD),WBt=function(n){zD(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.defaultAbles=iY,e}(VBt),HBt=WBt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TH=function(n,e){return TH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},TH(n,e)};function rY(n,e){TH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var BE=function(){return BE=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},BE.apply(this,arguments)};function zBt(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}var UBt=function(n){rY(e,n);function e(i){var r=n.call(this,i)||this;return r.state={},r.state=r.props,r}var t=e.prototype;return t.render=function(){return xye(Ns(HBt,BE({ref:Eo(this,"moveable")},this.state)),this.state.parentElement)},e}(r3),jBt=PBt,KBt=Yye,GBt=OBt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NH=function(){return NH=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},NH.apply(this,arguments)};function qBt(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var YBt=function(){function n(){this._events={}}var e=n.prototype;return e.on=function(t,i){if(cf(t))for(var r in t)this.on(r,t[r]);else this._addEvent(t,i,{});return this},e.off=function(t,i){if(!t)this._events={};else if(cf(t))for(var r in t)this.off(r);else if(!i)this._events[t]=[];else{var s=this._events[t];if(s){var o=Wc(s,function(a){return a.listener===i});o>-1&&s.splice(o,1)}}return this},e.once=function(t,i){var r=this;return i&&this._addEvent(t,i,{once:!0}),new Promise(function(s){r._addEvent(t,s,{once:!0})})},e.emit=function(t,i){var r=this;i===void 0&&(i={});var s=this._events[t];if(!t||!s)return!0;var o=!1;return i.eventType=t,i.stop=function(){o=!0},i.currentTarget=this,qBt(s).forEach(function(a){a.listener(i),a.once&&r.off(t,a.listener)}),!o},e.trigger=function(t,i){return i===void 0&&(i={}),this.emit(t,i)},e._addEvent=function(t,i,r){var s=this._events;s[t]=s[t]||[];var o=s[t];o.push(NH({listener:i},r))},n}(),XBt=function(n){rY(e,n);function e(i,r){r===void 0&&(r={});var s=n.call(this)||this;s.tempElement=document.createElement("div");var o=BE({container:i||document.body},r),a={};GBt.forEach(function(u){a[_ye("on "+u)]=function(c){return s.trigger(u,c)}}),UR(Ns(UBt,BE({ref:Eo(s,"innerMoveable"),parentElement:i},o,a)),s.tempElement);var l=o.target;return Y1(l)&&l.length>1&&s.updateRect(),s}var t=e.prototype;return t.setState=function(i,r){this.innerMoveable.setState(i,r)},t.destroy=function(){UR(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},t.getMoveable=function(){return this.innerMoveable.moveable},e=zBt([zR(KBt,function(i,r){i[r]||(i[r]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=this.getMoveable();if(!(!a||!a[r]))return a[r].apply(a,s)})}),zR(jBt,function(i,r){Object.defineProperty(i,r,{get:function(){return this.getMoveable().props[r]},set:function(s){var o;this.setState((o={},o[r]=s,o))},enumerable:!0,configurable:!0})})],e),e}(YBt),ZBt=function(n){rY(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(XBt),oHt=ZBt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xH=function(n,e){return xH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},xH(n,e)};function QBt(n,e){xH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var JBt=function(n){QBt(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.state={scrollPos:0},i.width=0,i.height=0,i}var t=e.prototype;return t.render=function(){return Ns("canvas",{ref:Eo(this,"canvasElement"),style:this.props.style})},t.componentDidMount=function(){var i=this.canvasElement,r=i.getContext("2d");this.canvasContext=r,this.resize()},t.componentDidUpdate=function(){this.resize()},t.scroll=function(i){this.draw(i)},t.resize=function(){var i=this.canvasElement,r=this.props,s=r.width,o=r.height,a=r.scrollPos;this.width=s||i.offsetWidth,this.height=o||i.offsetHeight,i.width=this.width*2,i.height=this.height*2,this.draw(a)},t.draw=function(i){i===void 0&&(i=this.state.scrollPos);var r=this.props,s=r,o=s.unit,a=s.zoom,l=s.type,u=s.backgroundColor,c=s.lineColor,d=s.textColor,h=s.direction,f=s.negativeRuler,g=f===void 0?!0:f,p=s.segment,m=p===void 0?10:p,b=s.textFormat,_=this.width,C=this.height,w=this.state;w.scrollPos=i;var S=this.canvasContext,D=l==="horizontal",E=h==="start",I=g!==!1,T=r.font||"10px sans-serif",M=r.textAlign||"left",A=r.textOffset||[0,0],O=D?C:_,F=Js(""+(r.mainLineSize||"100%"),O),U=Js(""+(r.longLineSize||10),O),V=Js(""+(r.shortLineSize||7),O);u==="transparent"?S.clearRect(0,0,_*2,C*2):(S.rect(0,0,_*2,C*2),S.fillStyle=u,S.fill()),S.save(),S.scale(2,2),S.strokeStyle=c,S.lineWidth=1,S.font=T,S.fillStyle=d,E&&(S.textBaseline="top"),S.translate(.5,0),S.beginPath();for(var G=D?_:C,j=a*o,X=Math.floor(i*a/j),ie=Math.ceil((i*a+G)/j),Ce=ie-X,Be=Math.max(["left","center","right"].indexOf(M)-1,-1),we=0;we<=Ce;++we){var ke=we+X;if(!(!I&&ke<0)){for(var Se=(ke*o-i)*a,fe=0;fe<m;++fe){var pe=Se+fe/m*j;if(!(pe<0||pe>=G)){var me=fe===0?F:fe%2===0?U:V,Ne=D?[pe,E?0:C-me]:[E?0:_-me,pe],je=Ne[0],rt=Ne[1],xe=D?[je,rt+me]:[je+me,rt],Ve=xe[0],ee=xe[1];S.moveTo(je,rt),S.lineTo(Ve,ee)}}if(Se>=-j&&Se<G+o*a){var ne=D?[Se+Be*-3,E?17:C-17]:[E?17:_-17,Se+Be*3],le=ne[0],de=ne[1],ye=""+ke*o;b&&(ye=b(ke*o)),S.textAlign=M,D?S.fillText(ye,le+A[0],de+A[1]):(S.save(),S.translate(le+A[0],de+A[1]),S.rotate(-Math.PI/2),S.fillText(ye,0,0),S.restore())}}}S.stroke(),S.restore()},e.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",lineColor:"#777777"},e}(VD),Pwe=["type","width","height","unit","zoom","style","backgroundColor","lineColor","textColor","direction","textFormat","scrollPos","textAlign","mainLineSize","longLineSize","shortLineSize","negativeRuler","textOffset","font","segment"],e9t=JBt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var MH=function(n,e){return MH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},MH(n,e)};function t9t(n,e){MH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var N0=function(){return N0=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},N0.apply(this,arguments)};function Pg(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return kye.apply(void 0,["scena-"].concat(n))}Pg("ruler");var n9t=Pg("guide","adder"),i9t=Pg("guides"),r9t=Pg("guide"),Fae=Pg("dragging"),s9t=Pg("display-drag"),o9t=Eye("scena-",`
{
    position: relative;
    width: 100%;
    height: 100%;
}
canvas {
    position: relative;
}
.guide-origin {
    position: absolute;
    width: 1px;
    height: 1px;
    top: 0;
    left: 0;
    opacity: 0;
}
.guides {
    position: absolute;
    top: 0;
    left: 0;
    will-change: transform;
    z-index: 2000;
}
.display-drag {
    position: absolute;
    will-change: transform;
    z-index: 2000;
    font-weight: bold;
    font-size: 12px;
    display: none;
    left: 20px;
    top: -20px;
    color: #f33;
}
:host.horizontal .guides {
    width: 100%;
    height: 0;
    top: 30px;
}
:host.vertical .guides {
    height: 100%;
    width: 0;
    left: 30px;
}
.guide {
    position: absolute;
    background: #f33;
    z-index: 2;
}
.guide.dragging:before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
:host.horizontal .guide {
    width: 100%;
    height: 1px;
    cursor: row-resize;
}
:host.vertical .guide {
    width: 1px;
    height: 100%;
    cursor: col-resize;
}
.mobile :host.horizontal .guide {
    transform: scale(1, 2);
}
.mobile :host.vertical .guide {
    transform: scale(2, 1);
}
:host.horizontal .guide:before {
    height: 20px;
}
:host.vertical .guide:before {
    width: 20px;
}
.adder {
    display: none;
}
.adder.dragging {
    display: block;
}
`),a9t=["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides"].concat(Pwe),l9t=["getGuides","loadGuides","scroll","scrollGuides","resize"],u9t=["changeGuides","dragStart","drag","dragEnd"],c9t=Hq("div",o9t),d9t=function(n){t9t(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.state={guides:[]},i.scrollPos=0,i.guideElements=[],i.onDragStart=function(r){var s=r.datas,o=r.inputEvent,a=i.props.onDragStart;Cye(s.target,Fae),i.onDrag(r),a(N0({},r,{dragElement:s.target})),o.stopPropagation(),o.preventDefault()},i.onDrag=function(r){var s=i.movePos(r);return i.props.onDrag(N0({},r,{dragElement:r.datas.target})),s},i.onDragEnd=function(r){var s=r.datas,o=r.isDouble,a=r.distX,l=r.distY,u=i.movePos(r),c=i.state.guides,d=i.props,h=d.onChangeGuides,f=d.zoom,g=d.displayDragPos,p=d.digit,m=d.lockGuides,b=parseFloat((u/f).toFixed(p||0));if(g&&(i.displayElement.style.cssText+="display: none;"),yye(s.target,Fae),i.props.onDragEnd(N0({},r,{dragElement:s.target})),s.fromRuler)u>=i.scrollPos&&c.indexOf(b)<0&&i.setState({guides:c.concat([b])},function(){h({guides:i.state.guides,distX:a,distY:l,isAdd:!0,isRemove:!1,isChange:!1})});else{var _=s.target.getAttribute("data-index"),C=!1,w=!1;if(c=c.slice(),o||b<i.scrollPos){if(m&&(m===!0||m.indexOf("remove")>-1))return;c.splice(_,1),C=!0}else{if(c.indexOf(b)>-1)return;if(m&&(m===!0||m.indexOf("change")>-1))return;c[_]=b,w=!0}i.setState({guides:c},function(){var S=i.state.guides;h({distX:a,distY:l,guides:S,isAdd:!1,isChange:w,isRemove:C})})}},i}var t=e.prototype;return t.render=function(){var i=this.props,r=i.className,s=i.type,o=i.zoom,a=i.style,l=i.rulerStyle,u=i.displayDragPos,c=i.cspNonce,d=i.dragGuideStyle,h=i.portalContainer,f=this.props,g=this.getTranslateName(),p={};return Pwe.forEach(function(m){m!=="style"&&(p[m]=f[m])}),Ns(c9t,{ref:Eo(this,"manager"),cspNonce:c,className:Pg("manager",s)+" "+r,portalContainer:h,style:a},Ns("div",{className:Pg("guide-origin"),ref:Eo(this,"originElement")}),Ns(e9t,N0({ref:Eo(this,"ruler"),style:l},p)),Ns("div",{className:i9t,ref:Eo(this,"guidesElement"),style:{transform:g+"("+-this.scrollPos*o+"px)"}},u&&Ns("div",{className:s9t,ref:Eo(this,"displayElement"),style:d}),Ns("div",{className:n9t,ref:Eo(this,"adderElement")}),this.renderGuides()))},t.renderGuides=function(){var i=this,r=this.props,s=r.type,o=r.zoom,a=r.showGuides,l=r.guideStyle,u=this.getTranslateName(),c=this.state.guides;if(this.guideElements=[],a)return c.map(function(d,h){return Ns("div",{className:Pg("guide",s),ref:Pq(i,"guideElements",h),key:h,"data-index":h,"data-pos":d,style:N0({},l,{transform:u+"("+d*o+"px) translateZ(0px)"})})})},t.componentDidMount=function(){var i=this;this.gesto=new Lye(this.manager.getElement(),{container:document.body}).on("dragStart",function(r){var s=i.props,o=s.type,a=s.zoom,l=s.lockGuides;if(l===!0){r.stop();return}var u=r.inputEvent,c=u.target,d=r.datas,h=i.ruler.canvasElement,f=i.guidesElement,g=o==="horizontal",p=i.originElement.getBoundingClientRect(),m=y8t(i.manager.getElement()),b=lH(m,[r.clientX-p.left,r.clientY-p.top]);b[0]-=f.offsetLeft,b[1]-=f.offsetTop,b[g?1:0]+=i.scrollPos*a,d.offsetPos=b,d.matrix=m;var _=l&&l.indexOf("add")>-1,C=l&&l.indexOf("remove")>-1,w=l&&l.indexOf("change")>-1;if(c===h){if(_){r.stop();return}d.fromRuler=!0,d.target=i.adderElement}else if(Dc(c,r9t)){if(C&&w){r.stop();return}d.target=c}else return r.stop(),!1;i.onDragStart(r)}).on("drag",this.onDrag).on("dragEnd",this.onDragEnd),this.setState({guides:this.props.defaultGuides||[]})},t.componentWillUnmount=function(){this.gesto.unset()},t.componentDidUpdate=function(i){i.defaultGuides!==this.props.defaultGuides&&this.setState({guides:this.props.defaultGuides||[]})},t.loadGuides=function(i){this.setState({guides:i})},t.getGuides=function(){return this.state.guides},t.scrollGuides=function(i){var r=this.props.zoom,s=this.guidesElement;this.scrollPos=i,s.style.transform=this.getTranslateName()+"("+-i*r+"px)";var o=this.state.guides;this.guideElements.forEach(function(a,l){!a||(a.style.display=-i+o[l]<0?"none":"block")})},t.resize=function(){this.ruler.resize()},t.scroll=function(i){this.ruler.scroll(i)},t.movePos=function(i){var r=i.datas,s=i.distX,o=i.distY,a=this.props,l=a.type,u=a.zoom,c=a.snaps,d=a.snapThreshold,h=a.displayDragPos,f=a.digit,g=a.dragPosFormat||function(I){return I},p=l==="horizontal",m=lH(r.matrix,[s,o]),b=r.offsetPos,_=m[0]+b[0],C=m[1]+b[1],w=Math.round(p?C:_),S=parseFloat((w/u).toFixed(f||0)),D=c.slice().sort(function(I,T){return Math.abs(S-I)-Math.abs(S-T)});if(D.length&&Math.abs(D[0]*u-w)<d&&(S=D[0],w=S*u),h){var E=l==="horizontal"?[_,w]:[w,C];this.displayElement.style.cssText+="display: block;transform: translate(-50%, -50%) "+("translate("+E.map(function(I){return I+"px"}).join(", ")+")"),this.displayElement.innerHTML=""+g(S)}return r.target.setAttribute("data-pos",S),r.target.style.transform=this.getTranslateName()+"("+w+"px)",w},t.getTranslateName=function(){return this.props.type==="horizontal"?"translateY":"translateX"},e.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onChangeGuides:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(i){return i},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},portalContainer:null},e}(VD),h9t=d9t;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var AH=function(n,e){return AH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},AH(n,e)};function sY(n,e){AH(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var XR=function(){return XR=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},XR.apply(this,arguments)};function f9t(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function g9t(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}var p9t=a9t,m9t=l9t,v9t=u9t,_9t=function(n){sY(e,n);function e(i){var r=n.call(this,i)||this;return r.state={},r.state=r.props,r}var t=e.prototype;return t.render=function(){var i=this.state,r=i.container,s=f9t(i,["container"]);return xye(Ns(h9t,XR({ref:Eo(this,"guides")},s)),r)},e}(r3);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RH=function(){return RH=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},RH.apply(this,arguments)};function b9t(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var C9t=function(){function n(){this._events={}}var e=n.prototype;return e.on=function(t,i){if(cf(t))for(var r in t)this.on(r,t[r]);else this._addEvent(t,i,{});return this},e.off=function(t,i){if(!t)this._events={};else if(cf(t))for(var r in t)this.off(r);else if(!i)this._events[t]=[];else{var s=this._events[t];if(s){var o=Wc(s,function(a){return a.listener===i});o>-1&&s.splice(o,1)}}return this},e.once=function(t,i){var r=this;return i&&this._addEvent(t,i,{once:!0}),new Promise(function(s){r._addEvent(t,s,{once:!0})})},e.emit=function(t,i){var r=this;i===void 0&&(i={});var s=this._events[t];if(!t||!s)return!0;var o=!1;return i.eventType=t,i.stop=function(){o=!0},i.currentTarget=this,b9t(s).forEach(function(a){a.listener(i),a.once&&r.off(t,a.listener)}),!o},e.trigger=function(t,i){return i===void 0&&(i={}),this.emit(t,i)},e._addEvent=function(t,i,r){var s=this._events;s[t]=s[t]||[];var o=s[t];o.push(RH({listener:i},r))},n}(),y9t=function(n){sY(e,n);function e(i,r){r===void 0&&(r={});var s=n.call(this)||this;s.tempElement=document.createElement("div");var o={};return v9t.forEach(function(a){o[_ye("on "+a)]=function(l){return s.trigger(a,l)}}),UR(Ns(_9t,XR({},r,o,{container:i,ref:Eo(s,"innerGuides")})),s.tempElement),s}var t=e.prototype;return t.setState=function(i,r){this.innerGuides.setState(i,r)},t.destroy=function(){UR(null,this.tempElement),this.tempElement=null,this.innerGuides=null},t.getInnerGuides=function(){return this.innerGuides.guides},e=g9t([zR(m9t,function(i,r){i[r]||(i[r]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=this.getInnerGuides();if(!(!a||!a[r]))return a[r].apply(a,s)})}),zR(p9t,function(i,r){Object.defineProperty(i,r,{get:function(){return this.getInnerGuides().props[r]},set:function(s){var o;this.innerGuides.setState((o={},o[r]=s,o))},enumerable:!0,configurable:!0})})],e),e}(C9t),w9t=function(n){sY(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(y9t),aHt=w9t,Bae={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,h=2,f=4,g=1,p=2,m=1,b=2,_=4,C=8,w=16,S=32,D=64,E=128,I=256,T=512,M=30,A="...",O=800,F=16,U=1,V=2,G=3,j=1/0,X=9007199254740991,ie=17976931348623157e292,Ce=0/0,Be=4294967295,we=Be-1,ke=Be>>>1,Se=[["ary",E],["bind",m],["bindKey",b],["curry",C],["curryRight",w],["flip",T],["partial",S],["partialRight",D],["rearg",I]],fe="[object Arguments]",pe="[object Array]",me="[object AsyncFunction]",Ne="[object Boolean]",je="[object Date]",rt="[object DOMException]",xe="[object Error]",Ve="[object Function]",ee="[object GeneratorFunction]",ne="[object Map]",le="[object Number]",de="[object Null]",ye="[object Object]",q="[object Promise]",P="[object Proxy]",x="[object RegExp]",R="[object Set]",H="[object String]",W="[object Symbol]",K="[object Undefined]",re="[object WeakMap]",se="[object WeakSet]",ve="[object ArrayBuffer]",Re="[object DataView]",ge="[object Float32Array]",Ie="[object Float64Array]",Pe="[object Int8Array]",Ge="[object Int16Array]",bt="[object Int32Array]",Mt="[object Uint8Array]",pt="[object Uint8ClampedArray]",Jt="[object Uint16Array]",sn="[object Uint32Array]",vr=/\b__p \+= '';/g,An=/\b(__p \+=) '' \+/g,vi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pa=/&(?:amp|lt|gt|quot|#39);/g,hs=/[&<>"']/g,Qe=RegExp(pa.source),At=RegExp(hs.source),fn=/<%-([\s\S]+?)%>/g,Gi=/<%([\s\S]+?)%>/g,po=/<%=([\s\S]+?)%>/g,ss=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xu=/^\w*$/,Q1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J1=/[\\^$.*+?()[\]{}|]/g,C3=RegExp(J1.source),un=/^\s+/,Ye=/\s/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,tn=/\{\n\/\* \[wrapped with (.+)\] \*/,or=/,? & /,Oo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Po=/[()=,{}\[\]\/\s]/,Fo=/\\(\\)?/g,qc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hp=/\w*$/,YD=/^[-+]0x[0-9a-f]+$/i,y3=/^0b[01]+$/i,LY=/^\[object .+?Constructor\]$/,oSe=/^0o[0-7]+$/i,aSe=/^(?:0|[1-9]\d*)$/,lSe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,XD=/($^)/,uSe=/['\n\r\u2028\u2029\\]/g,ZD="\\ud800-\\udfff",cSe="\\u0300-\\u036f",dSe="\\ufe20-\\ufe2f",hSe="\\u20d0-\\u20ff",kY=cSe+dSe+hSe,EY="\\u2700-\\u27bf",DY="a-z\\xdf-\\xf6\\xf8-\\xff",fSe="\\xac\\xb1\\xd7\\xf7",gSe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pSe="\\u2000-\\u206f",mSe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",IY="A-Z\\xc0-\\xd6\\xd8-\\xde",TY="\\ufe0e\\ufe0f",NY=fSe+gSe+pSe+mSe,w3="['\u2019]",vSe="["+ZD+"]",xY="["+NY+"]",QD="["+kY+"]",MY="\\d+",_Se="["+EY+"]",AY="["+DY+"]",RY="[^"+ZD+NY+MY+EY+DY+IY+"]",S3="\\ud83c[\\udffb-\\udfff]",bSe="(?:"+QD+"|"+S3+")",OY="[^"+ZD+"]",L3="(?:\\ud83c[\\udde6-\\uddff]){2}",k3="[\\ud800-\\udbff][\\udc00-\\udfff]",eb="["+IY+"]",PY="\\u200d",FY="(?:"+AY+"|"+RY+")",CSe="(?:"+eb+"|"+RY+")",BY="(?:"+w3+"(?:d|ll|m|re|s|t|ve))?",$Y="(?:"+w3+"(?:D|LL|M|RE|S|T|VE))?",VY=bSe+"?",WY="["+TY+"]?",ySe="(?:"+PY+"(?:"+[OY,L3,k3].join("|")+")"+WY+VY+")*",wSe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",SSe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",HY=WY+VY+ySe,LSe="(?:"+[_Se,L3,k3].join("|")+")"+HY,kSe="(?:"+[OY+QD+"?",QD,L3,k3,vSe].join("|")+")",ESe=RegExp(w3,"g"),DSe=RegExp(QD,"g"),E3=RegExp(S3+"(?="+S3+")|"+kSe+HY,"g"),ISe=RegExp([eb+"?"+AY+"+"+BY+"(?="+[xY,eb,"$"].join("|")+")",CSe+"+"+$Y+"(?="+[xY,eb+FY,"$"].join("|")+")",eb+"?"+FY+"+"+BY,eb+"+"+$Y,SSe,wSe,MY,LSe].join("|"),"g"),TSe=RegExp("["+PY+ZD+kY+TY+"]"),NSe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xSe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],MSe=-1,Gr={};Gr[ge]=Gr[Ie]=Gr[Pe]=Gr[Ge]=Gr[bt]=Gr[Mt]=Gr[pt]=Gr[Jt]=Gr[sn]=!0,Gr[fe]=Gr[pe]=Gr[ve]=Gr[Ne]=Gr[Re]=Gr[je]=Gr[xe]=Gr[Ve]=Gr[ne]=Gr[le]=Gr[ye]=Gr[x]=Gr[R]=Gr[H]=Gr[re]=!1;var Fr={};Fr[fe]=Fr[pe]=Fr[ve]=Fr[Re]=Fr[Ne]=Fr[je]=Fr[ge]=Fr[Ie]=Fr[Pe]=Fr[Ge]=Fr[bt]=Fr[ne]=Fr[le]=Fr[ye]=Fr[x]=Fr[R]=Fr[H]=Fr[W]=Fr[Mt]=Fr[pt]=Fr[Jt]=Fr[sn]=!0,Fr[xe]=Fr[Ve]=Fr[re]=!1;var ASe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},RSe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OSe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},PSe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},FSe=parseFloat,BSe=parseInt,zY=typeof zo=="object"&&zo&&zo.Object===Object&&zo,$Se=typeof self=="object"&&self&&self.Object===Object&&self,qo=zY||$Se||Function("return this")(),D3=e&&!e.nodeType&&e,Av=D3&&!0&&n&&!n.nodeType&&n,UY=Av&&Av.exports===D3,I3=UY&&zY.process,Zu=function(){try{var He=Av&&Av.require&&Av.require("util").types;return He||I3&&I3.binding&&I3.binding("util")}catch{}}(),jY=Zu&&Zu.isArrayBuffer,KY=Zu&&Zu.isDate,GY=Zu&&Zu.isMap,qY=Zu&&Zu.isRegExp,YY=Zu&&Zu.isSet,XY=Zu&&Zu.isTypedArray;function eu(He,ct,tt){switch(tt.length){case 0:return He.call(ct);case 1:return He.call(ct,tt[0]);case 2:return He.call(ct,tt[0],tt[1]);case 3:return He.call(ct,tt[0],tt[1],tt[2])}return He.apply(ct,tt)}function VSe(He,ct,tt,Gt){for(var Gn=-1,Qi=He==null?0:He.length;++Gn<Qi;){var mo=He[Gn];ct(Gt,mo,tt(mo),He)}return Gt}function Qu(He,ct){for(var tt=-1,Gt=He==null?0:He.length;++tt<Gt&&ct(He[tt],tt,He)!==!1;);return He}function WSe(He,ct){for(var tt=He==null?0:He.length;tt--&&ct(He[tt],tt,He)!==!1;);return He}function ZY(He,ct){for(var tt=-1,Gt=He==null?0:He.length;++tt<Gt;)if(!ct(He[tt],tt,He))return!1;return!0}function fp(He,ct){for(var tt=-1,Gt=He==null?0:He.length,Gn=0,Qi=[];++tt<Gt;){var mo=He[tt];ct(mo,tt,He)&&(Qi[Gn++]=mo)}return Qi}function JD(He,ct){var tt=He==null?0:He.length;return!!tt&&tb(He,ct,0)>-1}function T3(He,ct,tt){for(var Gt=-1,Gn=He==null?0:He.length;++Gt<Gn;)if(tt(ct,He[Gt]))return!0;return!1}function os(He,ct){for(var tt=-1,Gt=He==null?0:He.length,Gn=Array(Gt);++tt<Gt;)Gn[tt]=ct(He[tt],tt,He);return Gn}function gp(He,ct){for(var tt=-1,Gt=ct.length,Gn=He.length;++tt<Gt;)He[Gn+tt]=ct[tt];return He}function N3(He,ct,tt,Gt){var Gn=-1,Qi=He==null?0:He.length;for(Gt&&Qi&&(tt=He[++Gn]);++Gn<Qi;)tt=ct(tt,He[Gn],Gn,He);return tt}function HSe(He,ct,tt,Gt){var Gn=He==null?0:He.length;for(Gt&&Gn&&(tt=He[--Gn]);Gn--;)tt=ct(tt,He[Gn],Gn,He);return tt}function x3(He,ct){for(var tt=-1,Gt=He==null?0:He.length;++tt<Gt;)if(ct(He[tt],tt,He))return!0;return!1}var zSe=M3("length");function USe(He){return He.split("")}function jSe(He){return He.match(Oo)||[]}function QY(He,ct,tt){var Gt;return tt(He,function(Gn,Qi,mo){if(ct(Gn,Qi,mo))return Gt=Qi,!1}),Gt}function eI(He,ct,tt,Gt){for(var Gn=He.length,Qi=tt+(Gt?1:-1);Gt?Qi--:++Qi<Gn;)if(ct(He[Qi],Qi,He))return Qi;return-1}function tb(He,ct,tt){return ct===ct?i2e(He,ct,tt):eI(He,JY,tt)}function KSe(He,ct,tt,Gt){for(var Gn=tt-1,Qi=He.length;++Gn<Qi;)if(Gt(He[Gn],ct))return Gn;return-1}function JY(He){return He!==He}function eX(He,ct){var tt=He==null?0:He.length;return tt?R3(He,ct)/tt:Ce}function M3(He){return function(ct){return ct==null?t:ct[He]}}function A3(He){return function(ct){return He==null?t:He[ct]}}function tX(He,ct,tt,Gt,Gn){return Gn(He,function(Qi,mo,Tr){tt=Gt?(Gt=!1,Qi):ct(tt,Qi,mo,Tr)}),tt}function GSe(He,ct){var tt=He.length;for(He.sort(ct);tt--;)He[tt]=He[tt].value;return He}function R3(He,ct){for(var tt,Gt=-1,Gn=He.length;++Gt<Gn;){var Qi=ct(He[Gt]);Qi!==t&&(tt=tt===t?Qi:tt+Qi)}return tt}function O3(He,ct){for(var tt=-1,Gt=Array(He);++tt<He;)Gt[tt]=ct(tt);return Gt}function qSe(He,ct){return os(ct,function(tt){return[tt,He[tt]]})}function nX(He){return He&&He.slice(0,oX(He)+1).replace(un,"")}function tu(He){return function(ct){return He(ct)}}function P3(He,ct){return os(ct,function(tt){return He[tt]})}function aS(He,ct){return He.has(ct)}function iX(He,ct){for(var tt=-1,Gt=He.length;++tt<Gt&&tb(ct,He[tt],0)>-1;);return tt}function rX(He,ct){for(var tt=He.length;tt--&&tb(ct,He[tt],0)>-1;);return tt}function YSe(He,ct){for(var tt=He.length,Gt=0;tt--;)He[tt]===ct&&++Gt;return Gt}var XSe=A3(ASe),ZSe=A3(RSe);function QSe(He){return"\\"+PSe[He]}function JSe(He,ct){return He==null?t:He[ct]}function nb(He){return TSe.test(He)}function e2e(He){return NSe.test(He)}function t2e(He){for(var ct,tt=[];!(ct=He.next()).done;)tt.push(ct.value);return tt}function F3(He){var ct=-1,tt=Array(He.size);return He.forEach(function(Gt,Gn){tt[++ct]=[Gn,Gt]}),tt}function sX(He,ct){return function(tt){return He(ct(tt))}}function pp(He,ct){for(var tt=-1,Gt=He.length,Gn=0,Qi=[];++tt<Gt;){var mo=He[tt];(mo===ct||mo===c)&&(He[tt]=c,Qi[Gn++]=tt)}return Qi}function tI(He){var ct=-1,tt=Array(He.size);return He.forEach(function(Gt){tt[++ct]=Gt}),tt}function n2e(He){var ct=-1,tt=Array(He.size);return He.forEach(function(Gt){tt[++ct]=[Gt,Gt]}),tt}function i2e(He,ct,tt){for(var Gt=tt-1,Gn=He.length;++Gt<Gn;)if(He[Gt]===ct)return Gt;return-1}function r2e(He,ct,tt){for(var Gt=tt+1;Gt--;)if(He[Gt]===ct)return Gt;return Gt}function ib(He){return nb(He)?o2e(He):zSe(He)}function Yc(He){return nb(He)?a2e(He):USe(He)}function oX(He){for(var ct=He.length;ct--&&Ye.test(He.charAt(ct)););return ct}var s2e=A3(OSe);function o2e(He){for(var ct=E3.lastIndex=0;E3.test(He);)++ct;return ct}function a2e(He){return He.match(E3)||[]}function l2e(He){return He.match(ISe)||[]}var u2e=function He(ct){ct=ct==null?qo:rb.defaults(qo.Object(),ct,rb.pick(qo,xSe));var tt=ct.Array,Gt=ct.Date,Gn=ct.Error,Qi=ct.Function,mo=ct.Math,Tr=ct.Object,B3=ct.RegExp,c2e=ct.String,Ju=ct.TypeError,nI=tt.prototype,d2e=Qi.prototype,sb=Tr.prototype,iI=ct["__core-js_shared__"],rI=d2e.toString,gr=sb.hasOwnProperty,h2e=0,aX=function(){var v=/[^.]+$/.exec(iI&&iI.keys&&iI.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),sI=sb.toString,f2e=rI.call(Tr),g2e=qo._,p2e=B3("^"+rI.call(gr).replace(J1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oI=UY?ct.Buffer:t,mp=ct.Symbol,aI=ct.Uint8Array,lX=oI?oI.allocUnsafe:t,lI=sX(Tr.getPrototypeOf,Tr),uX=Tr.create,cX=sb.propertyIsEnumerable,uI=nI.splice,dX=mp?mp.isConcatSpreadable:t,lS=mp?mp.iterator:t,Rv=mp?mp.toStringTag:t,cI=function(){try{var v=$v(Tr,"defineProperty");return v({},"",{}),v}catch{}}(),m2e=ct.clearTimeout!==qo.clearTimeout&&ct.clearTimeout,v2e=Gt&&Gt.now!==qo.Date.now&&Gt.now,_2e=ct.setTimeout!==qo.setTimeout&&ct.setTimeout,dI=mo.ceil,hI=mo.floor,$3=Tr.getOwnPropertySymbols,b2e=oI?oI.isBuffer:t,hX=ct.isFinite,C2e=nI.join,y2e=sX(Tr.keys,Tr),vo=mo.max,ma=mo.min,w2e=Gt.now,S2e=ct.parseInt,fX=mo.random,L2e=nI.reverse,V3=$v(ct,"DataView"),uS=$v(ct,"Map"),W3=$v(ct,"Promise"),ob=$v(ct,"Set"),cS=$v(ct,"WeakMap"),dS=$v(Tr,"create"),fI=cS&&new cS,ab={},k2e=Vv(V3),E2e=Vv(uS),D2e=Vv(W3),I2e=Vv(ob),T2e=Vv(cS),gI=mp?mp.prototype:t,hS=gI?gI.valueOf:t,gX=gI?gI.toString:t;function ae(v){if(Ss(v)&&!Yn(v)&&!(v instanceof Si)){if(v instanceof ec)return v;if(gr.call(v,"__wrapped__"))return pZ(v)}return new ec(v)}var lb=function(){function v(){}return function(y){if(!fs(y))return{};if(uX)return uX(y);v.prototype=y;var N=new v;return v.prototype=t,N}}();function pI(){}function ec(v,y){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=t}ae.templateSettings={escape:fn,evaluate:Gi,interpolate:po,variable:"",imports:{_:ae}},ae.prototype=pI.prototype,ae.prototype.constructor=ae,ec.prototype=lb(pI.prototype),ec.prototype.constructor=ec;function Si(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Be,this.__views__=[]}function N2e(){var v=new Si(this.__wrapped__);return v.__actions__=dl(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=dl(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=dl(this.__views__),v}function x2e(){if(this.__filtered__){var v=new Si(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function M2e(){var v=this.__wrapped__.value(),y=this.__dir__,N=Yn(v),$=y<0,Q=N?v.length:0,he=ULe(0,Q,this.__views__),Ee=he.start,$e=he.end,Ke=$e-Ee,ft=$?$e:Ee-1,gt=this.__iteratees__,yt=gt.length,Vt=0,nn=ma(Ke,this.__takeCount__);if(!N||!$&&Q==Ke&&nn==Ke)return BX(v,this.__actions__);var Sn=[];e:for(;Ke--&&Vt<nn;){ft+=y;for(var ai=-1,Ln=v[ft];++ai<yt;){var _i=gt[ai],Ai=_i.iteratee,ru=_i.type,Wa=Ai(Ln);if(ru==V)Ln=Wa;else if(!Wa){if(ru==U)continue e;break e}}Sn[Vt++]=Ln}return Sn}Si.prototype=lb(pI.prototype),Si.prototype.constructor=Si;function Ov(v){var y=-1,N=v==null?0:v.length;for(this.clear();++y<N;){var $=v[y];this.set($[0],$[1])}}function A2e(){this.__data__=dS?dS(null):{},this.size=0}function R2e(v){var y=this.has(v)&&delete this.__data__[v];return this.size-=y?1:0,y}function O2e(v){var y=this.__data__;if(dS){var N=y[v];return N===l?t:N}return gr.call(y,v)?y[v]:t}function P2e(v){var y=this.__data__;return dS?y[v]!==t:gr.call(y,v)}function F2e(v,y){var N=this.__data__;return this.size+=this.has(v)?0:1,N[v]=dS&&y===t?l:y,this}Ov.prototype.clear=A2e,Ov.prototype.delete=R2e,Ov.prototype.get=O2e,Ov.prototype.has=P2e,Ov.prototype.set=F2e;function If(v){var y=-1,N=v==null?0:v.length;for(this.clear();++y<N;){var $=v[y];this.set($[0],$[1])}}function B2e(){this.__data__=[],this.size=0}function $2e(v){var y=this.__data__,N=mI(y,v);if(N<0)return!1;var $=y.length-1;return N==$?y.pop():uI.call(y,N,1),--this.size,!0}function V2e(v){var y=this.__data__,N=mI(y,v);return N<0?t:y[N][1]}function W2e(v){return mI(this.__data__,v)>-1}function H2e(v,y){var N=this.__data__,$=mI(N,v);return $<0?(++this.size,N.push([v,y])):N[$][1]=y,this}If.prototype.clear=B2e,If.prototype.delete=$2e,If.prototype.get=V2e,If.prototype.has=W2e,If.prototype.set=H2e;function Tf(v){var y=-1,N=v==null?0:v.length;for(this.clear();++y<N;){var $=v[y];this.set($[0],$[1])}}function z2e(){this.size=0,this.__data__={hash:new Ov,map:new(uS||If),string:new Ov}}function U2e(v){var y=II(this,v).delete(v);return this.size-=y?1:0,y}function j2e(v){return II(this,v).get(v)}function K2e(v){return II(this,v).has(v)}function G2e(v,y){var N=II(this,v),$=N.size;return N.set(v,y),this.size+=N.size==$?0:1,this}Tf.prototype.clear=z2e,Tf.prototype.delete=U2e,Tf.prototype.get=j2e,Tf.prototype.has=K2e,Tf.prototype.set=G2e;function Pv(v){var y=-1,N=v==null?0:v.length;for(this.__data__=new Tf;++y<N;)this.add(v[y])}function q2e(v){return this.__data__.set(v,l),this}function Y2e(v){return this.__data__.has(v)}Pv.prototype.add=Pv.prototype.push=q2e,Pv.prototype.has=Y2e;function Xc(v){var y=this.__data__=new If(v);this.size=y.size}function X2e(){this.__data__=new If,this.size=0}function Z2e(v){var y=this.__data__,N=y.delete(v);return this.size=y.size,N}function Q2e(v){return this.__data__.get(v)}function J2e(v){return this.__data__.has(v)}function eLe(v,y){var N=this.__data__;if(N instanceof If){var $=N.__data__;if(!uS||$.length<r-1)return $.push([v,y]),this.size=++N.size,this;N=this.__data__=new Tf($)}return N.set(v,y),this.size=N.size,this}Xc.prototype.clear=X2e,Xc.prototype.delete=Z2e,Xc.prototype.get=Q2e,Xc.prototype.has=J2e,Xc.prototype.set=eLe;function pX(v,y){var N=Yn(v),$=!N&&Wv(v),Q=!N&&!$&&yp(v),he=!N&&!$&&!Q&&hb(v),Ee=N||$||Q||he,$e=Ee?O3(v.length,c2e):[],Ke=$e.length;for(var ft in v)(y||gr.call(v,ft))&&!(Ee&&(ft=="length"||Q&&(ft=="offset"||ft=="parent")||he&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||Af(ft,Ke)))&&$e.push(ft);return $e}function mX(v){var y=v.length;return y?v[Q3(0,y-1)]:t}function tLe(v,y){return TI(dl(v),Fv(y,0,v.length))}function nLe(v){return TI(dl(v))}function H3(v,y,N){(N!==t&&!Zc(v[y],N)||N===t&&!(y in v))&&Nf(v,y,N)}function fS(v,y,N){var $=v[y];(!(gr.call(v,y)&&Zc($,N))||N===t&&!(y in v))&&Nf(v,y,N)}function mI(v,y){for(var N=v.length;N--;)if(Zc(v[N][0],y))return N;return-1}function iLe(v,y,N,$){return vp(v,function(Q,he,Ee){y($,Q,N(Q),Ee)}),$}function vX(v,y){return v&&eh(y,Bo(y),v)}function rLe(v,y){return v&&eh(y,fl(y),v)}function Nf(v,y,N){y=="__proto__"&&cI?cI(v,y,{configurable:!0,enumerable:!0,value:N,writable:!0}):v[y]=N}function z3(v,y){for(var N=-1,$=y.length,Q=tt($),he=v==null;++N<$;)Q[N]=he?t:S5(v,y[N]);return Q}function Fv(v,y,N){return v===v&&(N!==t&&(v=v<=N?v:N),y!==t&&(v=v>=y?v:y)),v}function tc(v,y,N,$,Q,he){var Ee,$e=y&d,Ke=y&h,ft=y&f;if(N&&(Ee=Q?N(v,$,Q,he):N(v)),Ee!==t)return Ee;if(!fs(v))return v;var gt=Yn(v);if(gt){if(Ee=KLe(v),!$e)return dl(v,Ee)}else{var yt=va(v),Vt=yt==Ve||yt==ee;if(yp(v))return WX(v,$e);if(yt==ye||yt==fe||Vt&&!Q){if(Ee=Ke||Vt?{}:oZ(v),!$e)return Ke?OLe(v,rLe(Ee,v)):RLe(v,vX(Ee,v))}else{if(!Fr[yt])return Q?v:{};Ee=GLe(v,yt,$e)}}he||(he=new Xc);var nn=he.get(v);if(nn)return nn;he.set(v,Ee),OZ(v)?v.forEach(function(Ln){Ee.add(tc(Ln,y,N,Ln,v,he))}):AZ(v)&&v.forEach(function(Ln,_i){Ee.set(_i,tc(Ln,y,N,_i,v,he))});var Sn=ft?Ke?u5:l5:Ke?fl:Bo,ai=gt?t:Sn(v);return Qu(ai||v,function(Ln,_i){ai&&(_i=Ln,Ln=v[_i]),fS(Ee,_i,tc(Ln,y,N,_i,v,he))}),Ee}function sLe(v){var y=Bo(v);return function(N){return _X(N,v,y)}}function _X(v,y,N){var $=N.length;if(v==null)return!$;for(v=Tr(v);$--;){var Q=N[$],he=y[Q],Ee=v[Q];if(Ee===t&&!(Q in v)||!he(Ee))return!1}return!0}function bX(v,y,N){if(typeof v!="function")throw new Ju(o);return CS(function(){v.apply(t,N)},y)}function gS(v,y,N,$){var Q=-1,he=JD,Ee=!0,$e=v.length,Ke=[],ft=y.length;if(!$e)return Ke;N&&(y=os(y,tu(N))),$?(he=T3,Ee=!1):y.length>=r&&(he=aS,Ee=!1,y=new Pv(y));e:for(;++Q<$e;){var gt=v[Q],yt=N==null?gt:N(gt);if(gt=$||gt!==0?gt:0,Ee&&yt===yt){for(var Vt=ft;Vt--;)if(y[Vt]===yt)continue e;Ke.push(gt)}else he(y,yt,$)||Ke.push(gt)}return Ke}var vp=KX(Jd),CX=KX(j3,!0);function oLe(v,y){var N=!0;return vp(v,function($,Q,he){return N=!!y($,Q,he),N}),N}function vI(v,y,N){for(var $=-1,Q=v.length;++$<Q;){var he=v[$],Ee=y(he);if(Ee!=null&&($e===t?Ee===Ee&&!iu(Ee):N(Ee,$e)))var $e=Ee,Ke=he}return Ke}function aLe(v,y,N,$){var Q=v.length;for(N=ni(N),N<0&&(N=-N>Q?0:Q+N),$=$===t||$>Q?Q:ni($),$<0&&($+=Q),$=N>$?0:FZ($);N<$;)v[N++]=y;return v}function yX(v,y){var N=[];return vp(v,function($,Q,he){y($,Q,he)&&N.push($)}),N}function Yo(v,y,N,$,Q){var he=-1,Ee=v.length;for(N||(N=YLe),Q||(Q=[]);++he<Ee;){var $e=v[he];y>0&&N($e)?y>1?Yo($e,y-1,N,$,Q):gp(Q,$e):$||(Q[Q.length]=$e)}return Q}var U3=GX(),wX=GX(!0);function Jd(v,y){return v&&U3(v,y,Bo)}function j3(v,y){return v&&wX(v,y,Bo)}function _I(v,y){return fp(y,function(N){return Rf(v[N])})}function Bv(v,y){y=bp(y,v);for(var N=0,$=y.length;v!=null&&N<$;)v=v[th(y[N++])];return N&&N==$?v:t}function SX(v,y,N){var $=y(v);return Yn(v)?$:gp($,N(v))}function $a(v){return v==null?v===t?K:de:Rv&&Rv in Tr(v)?zLe(v):nke(v)}function K3(v,y){return v>y}function lLe(v,y){return v!=null&&gr.call(v,y)}function uLe(v,y){return v!=null&&y in Tr(v)}function cLe(v,y,N){return v>=ma(y,N)&&v<vo(y,N)}function G3(v,y,N){for(var $=N?T3:JD,Q=v[0].length,he=v.length,Ee=he,$e=tt(he),Ke=1/0,ft=[];Ee--;){var gt=v[Ee];Ee&&y&&(gt=os(gt,tu(y))),Ke=ma(gt.length,Ke),$e[Ee]=!N&&(y||Q>=120&&gt.length>=120)?new Pv(Ee&&gt):t}gt=v[0];var yt=-1,Vt=$e[0];e:for(;++yt<Q&&ft.length<Ke;){var nn=gt[yt],Sn=y?y(nn):nn;if(nn=N||nn!==0?nn:0,!(Vt?aS(Vt,Sn):$(ft,Sn,N))){for(Ee=he;--Ee;){var ai=$e[Ee];if(!(ai?aS(ai,Sn):$(v[Ee],Sn,N)))continue e}Vt&&Vt.push(Sn),ft.push(nn)}}return ft}function dLe(v,y,N,$){return Jd(v,function(Q,he,Ee){y($,N(Q),he,Ee)}),$}function pS(v,y,N){y=bp(y,v),v=cZ(v,y);var $=v==null?v:v[th(ic(y))];return $==null?t:eu($,v,N)}function LX(v){return Ss(v)&&$a(v)==fe}function hLe(v){return Ss(v)&&$a(v)==ve}function fLe(v){return Ss(v)&&$a(v)==je}function mS(v,y,N,$,Q){return v===y?!0:v==null||y==null||!Ss(v)&&!Ss(y)?v!==v&&y!==y:gLe(v,y,N,$,mS,Q)}function gLe(v,y,N,$,Q,he){var Ee=Yn(v),$e=Yn(y),Ke=Ee?pe:va(v),ft=$e?pe:va(y);Ke=Ke==fe?ye:Ke,ft=ft==fe?ye:ft;var gt=Ke==ye,yt=ft==ye,Vt=Ke==ft;if(Vt&&yp(v)){if(!yp(y))return!1;Ee=!0,gt=!1}if(Vt&&!gt)return he||(he=new Xc),Ee||hb(v)?iZ(v,y,N,$,Q,he):WLe(v,y,Ke,N,$,Q,he);if(!(N&g)){var nn=gt&&gr.call(v,"__wrapped__"),Sn=yt&&gr.call(y,"__wrapped__");if(nn||Sn){var ai=nn?v.value():v,Ln=Sn?y.value():y;return he||(he=new Xc),Q(ai,Ln,N,$,he)}}return Vt?(he||(he=new Xc),HLe(v,y,N,$,Q,he)):!1}function pLe(v){return Ss(v)&&va(v)==ne}function q3(v,y,N,$){var Q=N.length,he=Q,Ee=!$;if(v==null)return!he;for(v=Tr(v);Q--;){var $e=N[Q];if(Ee&&$e[2]?$e[1]!==v[$e[0]]:!($e[0]in v))return!1}for(;++Q<he;){$e=N[Q];var Ke=$e[0],ft=v[Ke],gt=$e[1];if(Ee&&$e[2]){if(ft===t&&!(Ke in v))return!1}else{var yt=new Xc;if($)var Vt=$(ft,gt,Ke,v,y,yt);if(!(Vt===t?mS(gt,ft,g|p,$,yt):Vt))return!1}}return!0}function kX(v){if(!fs(v)||ZLe(v))return!1;var y=Rf(v)?p2e:LY;return y.test(Vv(v))}function mLe(v){return Ss(v)&&$a(v)==x}function vLe(v){return Ss(v)&&va(v)==R}function _Le(v){return Ss(v)&&OI(v.length)&&!!Gr[$a(v)]}function EX(v){return typeof v=="function"?v:v==null?gl:typeof v=="object"?Yn(v)?TX(v[0],v[1]):IX(v):qZ(v)}function Y3(v){if(!bS(v))return y2e(v);var y=[];for(var N in Tr(v))gr.call(v,N)&&N!="constructor"&&y.push(N);return y}function bLe(v){if(!fs(v))return tke(v);var y=bS(v),N=[];for(var $ in v)$=="constructor"&&(y||!gr.call(v,$))||N.push($);return N}function X3(v,y){return v<y}function DX(v,y){var N=-1,$=hl(v)?tt(v.length):[];return vp(v,function(Q,he,Ee){$[++N]=y(Q,he,Ee)}),$}function IX(v){var y=d5(v);return y.length==1&&y[0][2]?lZ(y[0][0],y[0][1]):function(N){return N===v||q3(N,v,y)}}function TX(v,y){return f5(v)&&aZ(y)?lZ(th(v),y):function(N){var $=S5(N,v);return $===t&&$===y?L5(N,v):mS(y,$,g|p)}}function bI(v,y,N,$,Q){v!==y&&U3(y,function(he,Ee){if(Q||(Q=new Xc),fs(he))CLe(v,y,Ee,N,bI,$,Q);else{var $e=$?$(p5(v,Ee),he,Ee+"",v,y,Q):t;$e===t&&($e=he),H3(v,Ee,$e)}},fl)}function CLe(v,y,N,$,Q,he,Ee){var $e=p5(v,N),Ke=p5(y,N),ft=Ee.get(Ke);if(ft){H3(v,N,ft);return}var gt=he?he($e,Ke,N+"",v,y,Ee):t,yt=gt===t;if(yt){var Vt=Yn(Ke),nn=!Vt&&yp(Ke),Sn=!Vt&&!nn&&hb(Ke);gt=Ke,Vt||nn||Sn?Yn($e)?gt=$e:Os($e)?gt=dl($e):nn?(yt=!1,gt=WX(Ke,!0)):Sn?(yt=!1,gt=HX(Ke,!0)):gt=[]:yS(Ke)||Wv(Ke)?(gt=$e,Wv($e)?gt=BZ($e):(!fs($e)||Rf($e))&&(gt=oZ(Ke))):yt=!1}yt&&(Ee.set(Ke,gt),Q(gt,Ke,$,he,Ee),Ee.delete(Ke)),H3(v,N,gt)}function NX(v,y){var N=v.length;if(!!N)return y+=y<0?N:0,Af(y,N)?v[y]:t}function xX(v,y,N){y.length?y=os(y,function(he){return Yn(he)?function(Ee){return Bv(Ee,he.length===1?he[0]:he)}:he}):y=[gl];var $=-1;y=os(y,tu(bn()));var Q=DX(v,function(he,Ee,$e){var Ke=os(y,function(ft){return ft(he)});return{criteria:Ke,index:++$,value:he}});return GSe(Q,function(he,Ee){return ALe(he,Ee,N)})}function yLe(v,y){return MX(v,y,function(N,$){return L5(v,$)})}function MX(v,y,N){for(var $=-1,Q=y.length,he={};++$<Q;){var Ee=y[$],$e=Bv(v,Ee);N($e,Ee)&&vS(he,bp(Ee,v),$e)}return he}function wLe(v){return function(y){return Bv(y,v)}}function Z3(v,y,N,$){var Q=$?KSe:tb,he=-1,Ee=y.length,$e=v;for(v===y&&(y=dl(y)),N&&($e=os(v,tu(N)));++he<Ee;)for(var Ke=0,ft=y[he],gt=N?N(ft):ft;(Ke=Q($e,gt,Ke,$))>-1;)$e!==v&&uI.call($e,Ke,1),uI.call(v,Ke,1);return v}function AX(v,y){for(var N=v?y.length:0,$=N-1;N--;){var Q=y[N];if(N==$||Q!==he){var he=Q;Af(Q)?uI.call(v,Q,1):t5(v,Q)}}return v}function Q3(v,y){return v+hI(fX()*(y-v+1))}function SLe(v,y,N,$){for(var Q=-1,he=vo(dI((y-v)/(N||1)),0),Ee=tt(he);he--;)Ee[$?he:++Q]=v,v+=N;return Ee}function J3(v,y){var N="";if(!v||y<1||y>X)return N;do y%2&&(N+=v),y=hI(y/2),y&&(v+=v);while(y);return N}function li(v,y){return m5(uZ(v,y,gl),v+"")}function LLe(v){return mX(fb(v))}function kLe(v,y){var N=fb(v);return TI(N,Fv(y,0,N.length))}function vS(v,y,N,$){if(!fs(v))return v;y=bp(y,v);for(var Q=-1,he=y.length,Ee=he-1,$e=v;$e!=null&&++Q<he;){var Ke=th(y[Q]),ft=N;if(Ke==="__proto__"||Ke==="constructor"||Ke==="prototype")return v;if(Q!=Ee){var gt=$e[Ke];ft=$?$(gt,Ke,$e):t,ft===t&&(ft=fs(gt)?gt:Af(y[Q+1])?[]:{})}fS($e,Ke,ft),$e=$e[Ke]}return v}var RX=fI?function(v,y){return fI.set(v,y),v}:gl,ELe=cI?function(v,y){return cI(v,"toString",{configurable:!0,enumerable:!1,value:E5(y),writable:!0})}:gl;function DLe(v){return TI(fb(v))}function nc(v,y,N){var $=-1,Q=v.length;y<0&&(y=-y>Q?0:Q+y),N=N>Q?Q:N,N<0&&(N+=Q),Q=y>N?0:N-y>>>0,y>>>=0;for(var he=tt(Q);++$<Q;)he[$]=v[$+y];return he}function ILe(v,y){var N;return vp(v,function($,Q,he){return N=y($,Q,he),!N}),!!N}function CI(v,y,N){var $=0,Q=v==null?$:v.length;if(typeof y=="number"&&y===y&&Q<=ke){for(;$<Q;){var he=$+Q>>>1,Ee=v[he];Ee!==null&&!iu(Ee)&&(N?Ee<=y:Ee<y)?$=he+1:Q=he}return Q}return e5(v,y,gl,N)}function e5(v,y,N,$){var Q=0,he=v==null?0:v.length;if(he===0)return 0;y=N(y);for(var Ee=y!==y,$e=y===null,Ke=iu(y),ft=y===t;Q<he;){var gt=hI((Q+he)/2),yt=N(v[gt]),Vt=yt!==t,nn=yt===null,Sn=yt===yt,ai=iu(yt);if(Ee)var Ln=$||Sn;else ft?Ln=Sn&&($||Vt):$e?Ln=Sn&&Vt&&($||!nn):Ke?Ln=Sn&&Vt&&!nn&&($||!ai):nn||ai?Ln=!1:Ln=$?yt<=y:yt<y;Ln?Q=gt+1:he=gt}return ma(he,we)}function OX(v,y){for(var N=-1,$=v.length,Q=0,he=[];++N<$;){var Ee=v[N],$e=y?y(Ee):Ee;if(!N||!Zc($e,Ke)){var Ke=$e;he[Q++]=Ee===0?0:Ee}}return he}function PX(v){return typeof v=="number"?v:iu(v)?Ce:+v}function nu(v){if(typeof v=="string")return v;if(Yn(v))return os(v,nu)+"";if(iu(v))return gX?gX.call(v):"";var y=v+"";return y=="0"&&1/v==-j?"-0":y}function _p(v,y,N){var $=-1,Q=JD,he=v.length,Ee=!0,$e=[],Ke=$e;if(N)Ee=!1,Q=T3;else if(he>=r){var ft=y?null:$Le(v);if(ft)return tI(ft);Ee=!1,Q=aS,Ke=new Pv}else Ke=y?[]:$e;e:for(;++$<he;){var gt=v[$],yt=y?y(gt):gt;if(gt=N||gt!==0?gt:0,Ee&&yt===yt){for(var Vt=Ke.length;Vt--;)if(Ke[Vt]===yt)continue e;y&&Ke.push(yt),$e.push(gt)}else Q(Ke,yt,N)||(Ke!==$e&&Ke.push(yt),$e.push(gt))}return $e}function t5(v,y){return y=bp(y,v),v=cZ(v,y),v==null||delete v[th(ic(y))]}function FX(v,y,N,$){return vS(v,y,N(Bv(v,y)),$)}function yI(v,y,N,$){for(var Q=v.length,he=$?Q:-1;($?he--:++he<Q)&&y(v[he],he,v););return N?nc(v,$?0:he,$?he+1:Q):nc(v,$?he+1:0,$?Q:he)}function BX(v,y){var N=v;return N instanceof Si&&(N=N.value()),N3(y,function($,Q){return Q.func.apply(Q.thisArg,gp([$],Q.args))},N)}function n5(v,y,N){var $=v.length;if($<2)return $?_p(v[0]):[];for(var Q=-1,he=tt($);++Q<$;)for(var Ee=v[Q],$e=-1;++$e<$;)$e!=Q&&(he[Q]=gS(he[Q]||Ee,v[$e],y,N));return _p(Yo(he,1),y,N)}function $X(v,y,N){for(var $=-1,Q=v.length,he=y.length,Ee={};++$<Q;){var $e=$<he?y[$]:t;N(Ee,v[$],$e)}return Ee}function i5(v){return Os(v)?v:[]}function r5(v){return typeof v=="function"?v:gl}function bp(v,y){return Yn(v)?v:f5(v,y)?[v]:gZ(ar(v))}var TLe=li;function Cp(v,y,N){var $=v.length;return N=N===t?$:N,!y&&N>=$?v:nc(v,y,N)}var VX=m2e||function(v){return qo.clearTimeout(v)};function WX(v,y){if(y)return v.slice();var N=v.length,$=lX?lX(N):new v.constructor(N);return v.copy($),$}function s5(v){var y=new v.constructor(v.byteLength);return new aI(y).set(new aI(v)),y}function NLe(v,y){var N=y?s5(v.buffer):v.buffer;return new v.constructor(N,v.byteOffset,v.byteLength)}function xLe(v){var y=new v.constructor(v.source,hp.exec(v));return y.lastIndex=v.lastIndex,y}function MLe(v){return hS?Tr(hS.call(v)):{}}function HX(v,y){var N=y?s5(v.buffer):v.buffer;return new v.constructor(N,v.byteOffset,v.length)}function zX(v,y){if(v!==y){var N=v!==t,$=v===null,Q=v===v,he=iu(v),Ee=y!==t,$e=y===null,Ke=y===y,ft=iu(y);if(!$e&&!ft&&!he&&v>y||he&&Ee&&Ke&&!$e&&!ft||$&&Ee&&Ke||!N&&Ke||!Q)return 1;if(!$&&!he&&!ft&&v<y||ft&&N&&Q&&!$&&!he||$e&&N&&Q||!Ee&&Q||!Ke)return-1}return 0}function ALe(v,y,N){for(var $=-1,Q=v.criteria,he=y.criteria,Ee=Q.length,$e=N.length;++$<Ee;){var Ke=zX(Q[$],he[$]);if(Ke){if($>=$e)return Ke;var ft=N[$];return Ke*(ft=="desc"?-1:1)}}return v.index-y.index}function UX(v,y,N,$){for(var Q=-1,he=v.length,Ee=N.length,$e=-1,Ke=y.length,ft=vo(he-Ee,0),gt=tt(Ke+ft),yt=!$;++$e<Ke;)gt[$e]=y[$e];for(;++Q<Ee;)(yt||Q<he)&&(gt[N[Q]]=v[Q]);for(;ft--;)gt[$e++]=v[Q++];return gt}function jX(v,y,N,$){for(var Q=-1,he=v.length,Ee=-1,$e=N.length,Ke=-1,ft=y.length,gt=vo(he-$e,0),yt=tt(gt+ft),Vt=!$;++Q<gt;)yt[Q]=v[Q];for(var nn=Q;++Ke<ft;)yt[nn+Ke]=y[Ke];for(;++Ee<$e;)(Vt||Q<he)&&(yt[nn+N[Ee]]=v[Q++]);return yt}function dl(v,y){var N=-1,$=v.length;for(y||(y=tt($));++N<$;)y[N]=v[N];return y}function eh(v,y,N,$){var Q=!N;N||(N={});for(var he=-1,Ee=y.length;++he<Ee;){var $e=y[he],Ke=$?$(N[$e],v[$e],$e,N,v):t;Ke===t&&(Ke=v[$e]),Q?Nf(N,$e,Ke):fS(N,$e,Ke)}return N}function RLe(v,y){return eh(v,h5(v),y)}function OLe(v,y){return eh(v,rZ(v),y)}function wI(v,y){return function(N,$){var Q=Yn(N)?VSe:iLe,he=y?y():{};return Q(N,v,bn($,2),he)}}function ub(v){return li(function(y,N){var $=-1,Q=N.length,he=Q>1?N[Q-1]:t,Ee=Q>2?N[2]:t;for(he=v.length>3&&typeof he=="function"?(Q--,he):t,Ee&&Va(N[0],N[1],Ee)&&(he=Q<3?t:he,Q=1),y=Tr(y);++$<Q;){var $e=N[$];$e&&v(y,$e,$,he)}return y})}function KX(v,y){return function(N,$){if(N==null)return N;if(!hl(N))return v(N,$);for(var Q=N.length,he=y?Q:-1,Ee=Tr(N);(y?he--:++he<Q)&&$(Ee[he],he,Ee)!==!1;);return N}}function GX(v){return function(y,N,$){for(var Q=-1,he=Tr(y),Ee=$(y),$e=Ee.length;$e--;){var Ke=Ee[v?$e:++Q];if(N(he[Ke],Ke,he)===!1)break}return y}}function PLe(v,y,N){var $=y&m,Q=_S(v);function he(){var Ee=this&&this!==qo&&this instanceof he?Q:v;return Ee.apply($?N:this,arguments)}return he}function qX(v){return function(y){y=ar(y);var N=nb(y)?Yc(y):t,$=N?N[0]:y.charAt(0),Q=N?Cp(N,1).join(""):y.slice(1);return $[v]()+Q}}function cb(v){return function(y){return N3(KZ(jZ(y).replace(ESe,"")),v,"")}}function _S(v){return function(){var y=arguments;switch(y.length){case 0:return new v;case 1:return new v(y[0]);case 2:return new v(y[0],y[1]);case 3:return new v(y[0],y[1],y[2]);case 4:return new v(y[0],y[1],y[2],y[3]);case 5:return new v(y[0],y[1],y[2],y[3],y[4]);case 6:return new v(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new v(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var N=lb(v.prototype),$=v.apply(N,y);return fs($)?$:N}}function FLe(v,y,N){var $=_S(v);function Q(){for(var he=arguments.length,Ee=tt(he),$e=he,Ke=db(Q);$e--;)Ee[$e]=arguments[$e];var ft=he<3&&Ee[0]!==Ke&&Ee[he-1]!==Ke?[]:pp(Ee,Ke);if(he-=ft.length,he<N)return JX(v,y,SI,Q.placeholder,t,Ee,ft,t,t,N-he);var gt=this&&this!==qo&&this instanceof Q?$:v;return eu(gt,this,Ee)}return Q}function YX(v){return function(y,N,$){var Q=Tr(y);if(!hl(y)){var he=bn(N,3);y=Bo(y),N=function($e){return he(Q[$e],$e,Q)}}var Ee=v(y,N,$);return Ee>-1?Q[he?y[Ee]:Ee]:t}}function XX(v){return Mf(function(y){var N=y.length,$=N,Q=ec.prototype.thru;for(v&&y.reverse();$--;){var he=y[$];if(typeof he!="function")throw new Ju(o);if(Q&&!Ee&&DI(he)=="wrapper")var Ee=new ec([],!0)}for($=Ee?$:N;++$<N;){he=y[$];var $e=DI(he),Ke=$e=="wrapper"?c5(he):t;Ke&&g5(Ke[0])&&Ke[1]==(E|C|S|I)&&!Ke[4].length&&Ke[9]==1?Ee=Ee[DI(Ke[0])].apply(Ee,Ke[3]):Ee=he.length==1&&g5(he)?Ee[$e]():Ee.thru(he)}return function(){var ft=arguments,gt=ft[0];if(Ee&&ft.length==1&&Yn(gt))return Ee.plant(gt).value();for(var yt=0,Vt=N?y[yt].apply(this,ft):gt;++yt<N;)Vt=y[yt].call(this,Vt);return Vt}})}function SI(v,y,N,$,Q,he,Ee,$e,Ke,ft){var gt=y&E,yt=y&m,Vt=y&b,nn=y&(C|w),Sn=y&T,ai=Vt?t:_S(v);function Ln(){for(var _i=arguments.length,Ai=tt(_i),ru=_i;ru--;)Ai[ru]=arguments[ru];if(nn)var Wa=db(Ln),su=YSe(Ai,Wa);if($&&(Ai=UX(Ai,$,Q,nn)),he&&(Ai=jX(Ai,he,Ee,nn)),_i-=su,nn&&_i<ft){var Ps=pp(Ai,Wa);return JX(v,y,SI,Ln.placeholder,N,Ai,Ps,$e,Ke,ft-_i)}var Qc=yt?N:this,Pf=Vt?Qc[v]:v;return _i=Ai.length,$e?Ai=ike(Ai,$e):Sn&&_i>1&&Ai.reverse(),gt&&Ke<_i&&(Ai.length=Ke),this&&this!==qo&&this instanceof Ln&&(Pf=ai||_S(Pf)),Pf.apply(Qc,Ai)}return Ln}function ZX(v,y){return function(N,$){return dLe(N,v,y($),{})}}function LI(v,y){return function(N,$){var Q;if(N===t&&$===t)return y;if(N!==t&&(Q=N),$!==t){if(Q===t)return $;typeof N=="string"||typeof $=="string"?(N=nu(N),$=nu($)):(N=PX(N),$=PX($)),Q=v(N,$)}return Q}}function o5(v){return Mf(function(y){return y=os(y,tu(bn())),li(function(N){var $=this;return v(y,function(Q){return eu(Q,$,N)})})})}function kI(v,y){y=y===t?" ":nu(y);var N=y.length;if(N<2)return N?J3(y,v):y;var $=J3(y,dI(v/ib(y)));return nb(y)?Cp(Yc($),0,v).join(""):$.slice(0,v)}function BLe(v,y,N,$){var Q=y&m,he=_S(v);function Ee(){for(var $e=-1,Ke=arguments.length,ft=-1,gt=$.length,yt=tt(gt+Ke),Vt=this&&this!==qo&&this instanceof Ee?he:v;++ft<gt;)yt[ft]=$[ft];for(;Ke--;)yt[ft++]=arguments[++$e];return eu(Vt,Q?N:this,yt)}return Ee}function QX(v){return function(y,N,$){return $&&typeof $!="number"&&Va(y,N,$)&&(N=$=t),y=Of(y),N===t?(N=y,y=0):N=Of(N),$=$===t?y<N?1:-1:Of($),SLe(y,N,$,v)}}function EI(v){return function(y,N){return typeof y=="string"&&typeof N=="string"||(y=rc(y),N=rc(N)),v(y,N)}}function JX(v,y,N,$,Q,he,Ee,$e,Ke,ft){var gt=y&C,yt=gt?Ee:t,Vt=gt?t:Ee,nn=gt?he:t,Sn=gt?t:he;y|=gt?S:D,y&=~(gt?D:S),y&_||(y&=~(m|b));var ai=[v,y,Q,nn,yt,Sn,Vt,$e,Ke,ft],Ln=N.apply(t,ai);return g5(v)&&dZ(Ln,ai),Ln.placeholder=$,hZ(Ln,v,y)}function a5(v){var y=mo[v];return function(N,$){if(N=rc(N),$=$==null?0:ma(ni($),292),$&&hX(N)){var Q=(ar(N)+"e").split("e"),he=y(Q[0]+"e"+(+Q[1]+$));return Q=(ar(he)+"e").split("e"),+(Q[0]+"e"+(+Q[1]-$))}return y(N)}}var $Le=ob&&1/tI(new ob([,-0]))[1]==j?function(v){return new ob(v)}:T5;function eZ(v){return function(y){var N=va(y);return N==ne?F3(y):N==R?n2e(y):qSe(y,v(y))}}function xf(v,y,N,$,Q,he,Ee,$e){var Ke=y&b;if(!Ke&&typeof v!="function")throw new Ju(o);var ft=$?$.length:0;if(ft||(y&=~(S|D),$=Q=t),Ee=Ee===t?Ee:vo(ni(Ee),0),$e=$e===t?$e:ni($e),ft-=Q?Q.length:0,y&D){var gt=$,yt=Q;$=Q=t}var Vt=Ke?t:c5(v),nn=[v,y,N,$,Q,gt,yt,he,Ee,$e];if(Vt&&eke(nn,Vt),v=nn[0],y=nn[1],N=nn[2],$=nn[3],Q=nn[4],$e=nn[9]=nn[9]===t?Ke?0:v.length:vo(nn[9]-ft,0),!$e&&y&(C|w)&&(y&=~(C|w)),!y||y==m)var Sn=PLe(v,y,N);else y==C||y==w?Sn=FLe(v,y,$e):(y==S||y==(m|S))&&!Q.length?Sn=BLe(v,y,N,$):Sn=SI.apply(t,nn);var ai=Vt?RX:dZ;return hZ(ai(Sn,nn),v,y)}function tZ(v,y,N,$){return v===t||Zc(v,sb[N])&&!gr.call($,N)?y:v}function nZ(v,y,N,$,Q,he){return fs(v)&&fs(y)&&(he.set(y,v),bI(v,y,t,nZ,he),he.delete(y)),v}function VLe(v){return yS(v)?t:v}function iZ(v,y,N,$,Q,he){var Ee=N&g,$e=v.length,Ke=y.length;if($e!=Ke&&!(Ee&&Ke>$e))return!1;var ft=he.get(v),gt=he.get(y);if(ft&&gt)return ft==y&&gt==v;var yt=-1,Vt=!0,nn=N&p?new Pv:t;for(he.set(v,y),he.set(y,v);++yt<$e;){var Sn=v[yt],ai=y[yt];if($)var Ln=Ee?$(ai,Sn,yt,y,v,he):$(Sn,ai,yt,v,y,he);if(Ln!==t){if(Ln)continue;Vt=!1;break}if(nn){if(!x3(y,function(_i,Ai){if(!aS(nn,Ai)&&(Sn===_i||Q(Sn,_i,N,$,he)))return nn.push(Ai)})){Vt=!1;break}}else if(!(Sn===ai||Q(Sn,ai,N,$,he))){Vt=!1;break}}return he.delete(v),he.delete(y),Vt}function WLe(v,y,N,$,Q,he,Ee){switch(N){case Re:if(v.byteLength!=y.byteLength||v.byteOffset!=y.byteOffset)return!1;v=v.buffer,y=y.buffer;case ve:return!(v.byteLength!=y.byteLength||!he(new aI(v),new aI(y)));case Ne:case je:case le:return Zc(+v,+y);case xe:return v.name==y.name&&v.message==y.message;case x:case H:return v==y+"";case ne:var $e=F3;case R:var Ke=$&g;if($e||($e=tI),v.size!=y.size&&!Ke)return!1;var ft=Ee.get(v);if(ft)return ft==y;$|=p,Ee.set(v,y);var gt=iZ($e(v),$e(y),$,Q,he,Ee);return Ee.delete(v),gt;case W:if(hS)return hS.call(v)==hS.call(y)}return!1}function HLe(v,y,N,$,Q,he){var Ee=N&g,$e=l5(v),Ke=$e.length,ft=l5(y),gt=ft.length;if(Ke!=gt&&!Ee)return!1;for(var yt=Ke;yt--;){var Vt=$e[yt];if(!(Ee?Vt in y:gr.call(y,Vt)))return!1}var nn=he.get(v),Sn=he.get(y);if(nn&&Sn)return nn==y&&Sn==v;var ai=!0;he.set(v,y),he.set(y,v);for(var Ln=Ee;++yt<Ke;){Vt=$e[yt];var _i=v[Vt],Ai=y[Vt];if($)var ru=Ee?$(Ai,_i,Vt,y,v,he):$(_i,Ai,Vt,v,y,he);if(!(ru===t?_i===Ai||Q(_i,Ai,N,$,he):ru)){ai=!1;break}Ln||(Ln=Vt=="constructor")}if(ai&&!Ln){var Wa=v.constructor,su=y.constructor;Wa!=su&&"constructor"in v&&"constructor"in y&&!(typeof Wa=="function"&&Wa instanceof Wa&&typeof su=="function"&&su instanceof su)&&(ai=!1)}return he.delete(v),he.delete(y),ai}function Mf(v){return m5(uZ(v,t,_Z),v+"")}function l5(v){return SX(v,Bo,h5)}function u5(v){return SX(v,fl,rZ)}var c5=fI?function(v){return fI.get(v)}:T5;function DI(v){for(var y=v.name+"",N=ab[y],$=gr.call(ab,y)?N.length:0;$--;){var Q=N[$],he=Q.func;if(he==null||he==v)return Q.name}return y}function db(v){var y=gr.call(ae,"placeholder")?ae:v;return y.placeholder}function bn(){var v=ae.iteratee||D5;return v=v===D5?EX:v,arguments.length?v(arguments[0],arguments[1]):v}function II(v,y){var N=v.__data__;return XLe(y)?N[typeof y=="string"?"string":"hash"]:N.map}function d5(v){for(var y=Bo(v),N=y.length;N--;){var $=y[N],Q=v[$];y[N]=[$,Q,aZ(Q)]}return y}function $v(v,y){var N=JSe(v,y);return kX(N)?N:t}function zLe(v){var y=gr.call(v,Rv),N=v[Rv];try{v[Rv]=t;var $=!0}catch{}var Q=sI.call(v);return $&&(y?v[Rv]=N:delete v[Rv]),Q}var h5=$3?function(v){return v==null?[]:(v=Tr(v),fp($3(v),function(y){return cX.call(v,y)}))}:N5,rZ=$3?function(v){for(var y=[];v;)gp(y,h5(v)),v=lI(v);return y}:N5,va=$a;(V3&&va(new V3(new ArrayBuffer(1)))!=Re||uS&&va(new uS)!=ne||W3&&va(W3.resolve())!=q||ob&&va(new ob)!=R||cS&&va(new cS)!=re)&&(va=function(v){var y=$a(v),N=y==ye?v.constructor:t,$=N?Vv(N):"";if($)switch($){case k2e:return Re;case E2e:return ne;case D2e:return q;case I2e:return R;case T2e:return re}return y});function ULe(v,y,N){for(var $=-1,Q=N.length;++$<Q;){var he=N[$],Ee=he.size;switch(he.type){case"drop":v+=Ee;break;case"dropRight":y-=Ee;break;case"take":y=ma(y,v+Ee);break;case"takeRight":v=vo(v,y-Ee);break}}return{start:v,end:y}}function jLe(v){var y=v.match(tn);return y?y[1].split(or):[]}function sZ(v,y,N){y=bp(y,v);for(var $=-1,Q=y.length,he=!1;++$<Q;){var Ee=th(y[$]);if(!(he=v!=null&&N(v,Ee)))break;v=v[Ee]}return he||++$!=Q?he:(Q=v==null?0:v.length,!!Q&&OI(Q)&&Af(Ee,Q)&&(Yn(v)||Wv(v)))}function KLe(v){var y=v.length,N=new v.constructor(y);return y&&typeof v[0]=="string"&&gr.call(v,"index")&&(N.index=v.index,N.input=v.input),N}function oZ(v){return typeof v.constructor=="function"&&!bS(v)?lb(lI(v)):{}}function GLe(v,y,N){var $=v.constructor;switch(y){case ve:return s5(v);case Ne:case je:return new $(+v);case Re:return NLe(v,N);case ge:case Ie:case Pe:case Ge:case bt:case Mt:case pt:case Jt:case sn:return HX(v,N);case ne:return new $;case le:case H:return new $(v);case x:return xLe(v);case R:return new $;case W:return MLe(v)}}function qLe(v,y){var N=y.length;if(!N)return v;var $=N-1;return y[$]=(N>1?"& ":"")+y[$],y=y.join(N>2?", ":" "),v.replace(Ot,`{
/* [wrapped with `+y+`] */
`)}function YLe(v){return Yn(v)||Wv(v)||!!(dX&&v&&v[dX])}function Af(v,y){var N=typeof v;return y=y==null?X:y,!!y&&(N=="number"||N!="symbol"&&aSe.test(v))&&v>-1&&v%1==0&&v<y}function Va(v,y,N){if(!fs(N))return!1;var $=typeof y;return($=="number"?hl(N)&&Af(y,N.length):$=="string"&&y in N)?Zc(N[y],v):!1}function f5(v,y){if(Yn(v))return!1;var N=typeof v;return N=="number"||N=="symbol"||N=="boolean"||v==null||iu(v)?!0:Xu.test(v)||!ss.test(v)||y!=null&&v in Tr(y)}function XLe(v){var y=typeof v;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?v!=="__proto__":v===null}function g5(v){var y=DI(v),N=ae[y];if(typeof N!="function"||!(y in Si.prototype))return!1;if(v===N)return!0;var $=c5(N);return!!$&&v===$[0]}function ZLe(v){return!!aX&&aX in v}var QLe=iI?Rf:x5;function bS(v){var y=v&&v.constructor,N=typeof y=="function"&&y.prototype||sb;return v===N}function aZ(v){return v===v&&!fs(v)}function lZ(v,y){return function(N){return N==null?!1:N[v]===y&&(y!==t||v in Tr(N))}}function JLe(v){var y=AI(v,function($){return N.size===u&&N.clear(),$}),N=y.cache;return y}function eke(v,y){var N=v[1],$=y[1],Q=N|$,he=Q<(m|b|E),Ee=$==E&&N==C||$==E&&N==I&&v[7].length<=y[8]||$==(E|I)&&y[7].length<=y[8]&&N==C;if(!(he||Ee))return v;$&m&&(v[2]=y[2],Q|=N&m?0:_);var $e=y[3];if($e){var Ke=v[3];v[3]=Ke?UX(Ke,$e,y[4]):$e,v[4]=Ke?pp(v[3],c):y[4]}return $e=y[5],$e&&(Ke=v[5],v[5]=Ke?jX(Ke,$e,y[6]):$e,v[6]=Ke?pp(v[5],c):y[6]),$e=y[7],$e&&(v[7]=$e),$&E&&(v[8]=v[8]==null?y[8]:ma(v[8],y[8])),v[9]==null&&(v[9]=y[9]),v[0]=y[0],v[1]=Q,v}function tke(v){var y=[];if(v!=null)for(var N in Tr(v))y.push(N);return y}function nke(v){return sI.call(v)}function uZ(v,y,N){return y=vo(y===t?v.length-1:y,0),function(){for(var $=arguments,Q=-1,he=vo($.length-y,0),Ee=tt(he);++Q<he;)Ee[Q]=$[y+Q];Q=-1;for(var $e=tt(y+1);++Q<y;)$e[Q]=$[Q];return $e[y]=N(Ee),eu(v,this,$e)}}function cZ(v,y){return y.length<2?v:Bv(v,nc(y,0,-1))}function ike(v,y){for(var N=v.length,$=ma(y.length,N),Q=dl(v);$--;){var he=y[$];v[$]=Af(he,N)?Q[he]:t}return v}function p5(v,y){if(!(y==="constructor"&&typeof v[y]=="function")&&y!="__proto__")return v[y]}var dZ=fZ(RX),CS=_2e||function(v,y){return qo.setTimeout(v,y)},m5=fZ(ELe);function hZ(v,y,N){var $=y+"";return m5(v,qLe($,rke(jLe($),N)))}function fZ(v){var y=0,N=0;return function(){var $=w2e(),Q=F-($-N);if(N=$,Q>0){if(++y>=O)return arguments[0]}else y=0;return v.apply(t,arguments)}}function TI(v,y){var N=-1,$=v.length,Q=$-1;for(y=y===t?$:y;++N<y;){var he=Q3(N,Q),Ee=v[he];v[he]=v[N],v[N]=Ee}return v.length=y,v}var gZ=JLe(function(v){var y=[];return v.charCodeAt(0)===46&&y.push(""),v.replace(Q1,function(N,$,Q,he){y.push(Q?he.replace(Fo,"$1"):$||N)}),y});function th(v){if(typeof v=="string"||iu(v))return v;var y=v+"";return y=="0"&&1/v==-j?"-0":y}function Vv(v){if(v!=null){try{return rI.call(v)}catch{}try{return v+""}catch{}}return""}function rke(v,y){return Qu(Se,function(N){var $="_."+N[0];y&N[1]&&!JD(v,$)&&v.push($)}),v.sort()}function pZ(v){if(v instanceof Si)return v.clone();var y=new ec(v.__wrapped__,v.__chain__);return y.__actions__=dl(v.__actions__),y.__index__=v.__index__,y.__values__=v.__values__,y}function ske(v,y,N){(N?Va(v,y,N):y===t)?y=1:y=vo(ni(y),0);var $=v==null?0:v.length;if(!$||y<1)return[];for(var Q=0,he=0,Ee=tt(dI($/y));Q<$;)Ee[he++]=nc(v,Q,Q+=y);return Ee}function oke(v){for(var y=-1,N=v==null?0:v.length,$=0,Q=[];++y<N;){var he=v[y];he&&(Q[$++]=he)}return Q}function ake(){var v=arguments.length;if(!v)return[];for(var y=tt(v-1),N=arguments[0],$=v;$--;)y[$-1]=arguments[$];return gp(Yn(N)?dl(N):[N],Yo(y,1))}var lke=li(function(v,y){return Os(v)?gS(v,Yo(y,1,Os,!0)):[]}),uke=li(function(v,y){var N=ic(y);return Os(N)&&(N=t),Os(v)?gS(v,Yo(y,1,Os,!0),bn(N,2)):[]}),cke=li(function(v,y){var N=ic(y);return Os(N)&&(N=t),Os(v)?gS(v,Yo(y,1,Os,!0),t,N):[]});function dke(v,y,N){var $=v==null?0:v.length;return $?(y=N||y===t?1:ni(y),nc(v,y<0?0:y,$)):[]}function hke(v,y,N){var $=v==null?0:v.length;return $?(y=N||y===t?1:ni(y),y=$-y,nc(v,0,y<0?0:y)):[]}function fke(v,y){return v&&v.length?yI(v,bn(y,3),!0,!0):[]}function gke(v,y){return v&&v.length?yI(v,bn(y,3),!0):[]}function pke(v,y,N,$){var Q=v==null?0:v.length;return Q?(N&&typeof N!="number"&&Va(v,y,N)&&(N=0,$=Q),aLe(v,y,N,$)):[]}function mZ(v,y,N){var $=v==null?0:v.length;if(!$)return-1;var Q=N==null?0:ni(N);return Q<0&&(Q=vo($+Q,0)),eI(v,bn(y,3),Q)}function vZ(v,y,N){var $=v==null?0:v.length;if(!$)return-1;var Q=$-1;return N!==t&&(Q=ni(N),Q=N<0?vo($+Q,0):ma(Q,$-1)),eI(v,bn(y,3),Q,!0)}function _Z(v){var y=v==null?0:v.length;return y?Yo(v,1):[]}function mke(v){var y=v==null?0:v.length;return y?Yo(v,j):[]}function vke(v,y){var N=v==null?0:v.length;return N?(y=y===t?1:ni(y),Yo(v,y)):[]}function _ke(v){for(var y=-1,N=v==null?0:v.length,$={};++y<N;){var Q=v[y];$[Q[0]]=Q[1]}return $}function bZ(v){return v&&v.length?v[0]:t}function bke(v,y,N){var $=v==null?0:v.length;if(!$)return-1;var Q=N==null?0:ni(N);return Q<0&&(Q=vo($+Q,0)),tb(v,y,Q)}function Cke(v){var y=v==null?0:v.length;return y?nc(v,0,-1):[]}var yke=li(function(v){var y=os(v,i5);return y.length&&y[0]===v[0]?G3(y):[]}),wke=li(function(v){var y=ic(v),N=os(v,i5);return y===ic(N)?y=t:N.pop(),N.length&&N[0]===v[0]?G3(N,bn(y,2)):[]}),Ske=li(function(v){var y=ic(v),N=os(v,i5);return y=typeof y=="function"?y:t,y&&N.pop(),N.length&&N[0]===v[0]?G3(N,t,y):[]});function Lke(v,y){return v==null?"":C2e.call(v,y)}function ic(v){var y=v==null?0:v.length;return y?v[y-1]:t}function kke(v,y,N){var $=v==null?0:v.length;if(!$)return-1;var Q=$;return N!==t&&(Q=ni(N),Q=Q<0?vo($+Q,0):ma(Q,$-1)),y===y?r2e(v,y,Q):eI(v,JY,Q,!0)}function Eke(v,y){return v&&v.length?NX(v,ni(y)):t}var Dke=li(CZ);function CZ(v,y){return v&&v.length&&y&&y.length?Z3(v,y):v}function Ike(v,y,N){return v&&v.length&&y&&y.length?Z3(v,y,bn(N,2)):v}function Tke(v,y,N){return v&&v.length&&y&&y.length?Z3(v,y,t,N):v}var Nke=Mf(function(v,y){var N=v==null?0:v.length,$=z3(v,y);return AX(v,os(y,function(Q){return Af(Q,N)?+Q:Q}).sort(zX)),$});function xke(v,y){var N=[];if(!(v&&v.length))return N;var $=-1,Q=[],he=v.length;for(y=bn(y,3);++$<he;){var Ee=v[$];y(Ee,$,v)&&(N.push(Ee),Q.push($))}return AX(v,Q),N}function v5(v){return v==null?v:L2e.call(v)}function Mke(v,y,N){var $=v==null?0:v.length;return $?(N&&typeof N!="number"&&Va(v,y,N)?(y=0,N=$):(y=y==null?0:ni(y),N=N===t?$:ni(N)),nc(v,y,N)):[]}function Ake(v,y){return CI(v,y)}function Rke(v,y,N){return e5(v,y,bn(N,2))}function Oke(v,y){var N=v==null?0:v.length;if(N){var $=CI(v,y);if($<N&&Zc(v[$],y))return $}return-1}function Pke(v,y){return CI(v,y,!0)}function Fke(v,y,N){return e5(v,y,bn(N,2),!0)}function Bke(v,y){var N=v==null?0:v.length;if(N){var $=CI(v,y,!0)-1;if(Zc(v[$],y))return $}return-1}function $ke(v){return v&&v.length?OX(v):[]}function Vke(v,y){return v&&v.length?OX(v,bn(y,2)):[]}function Wke(v){var y=v==null?0:v.length;return y?nc(v,1,y):[]}function Hke(v,y,N){return v&&v.length?(y=N||y===t?1:ni(y),nc(v,0,y<0?0:y)):[]}function zke(v,y,N){var $=v==null?0:v.length;return $?(y=N||y===t?1:ni(y),y=$-y,nc(v,y<0?0:y,$)):[]}function Uke(v,y){return v&&v.length?yI(v,bn(y,3),!1,!0):[]}function jke(v,y){return v&&v.length?yI(v,bn(y,3)):[]}var Kke=li(function(v){return _p(Yo(v,1,Os,!0))}),Gke=li(function(v){var y=ic(v);return Os(y)&&(y=t),_p(Yo(v,1,Os,!0),bn(y,2))}),qke=li(function(v){var y=ic(v);return y=typeof y=="function"?y:t,_p(Yo(v,1,Os,!0),t,y)});function Yke(v){return v&&v.length?_p(v):[]}function Xke(v,y){return v&&v.length?_p(v,bn(y,2)):[]}function Zke(v,y){return y=typeof y=="function"?y:t,v&&v.length?_p(v,t,y):[]}function _5(v){if(!(v&&v.length))return[];var y=0;return v=fp(v,function(N){if(Os(N))return y=vo(N.length,y),!0}),O3(y,function(N){return os(v,M3(N))})}function yZ(v,y){if(!(v&&v.length))return[];var N=_5(v);return y==null?N:os(N,function($){return eu(y,t,$)})}var Qke=li(function(v,y){return Os(v)?gS(v,y):[]}),Jke=li(function(v){return n5(fp(v,Os))}),eEe=li(function(v){var y=ic(v);return Os(y)&&(y=t),n5(fp(v,Os),bn(y,2))}),tEe=li(function(v){var y=ic(v);return y=typeof y=="function"?y:t,n5(fp(v,Os),t,y)}),nEe=li(_5);function iEe(v,y){return $X(v||[],y||[],fS)}function rEe(v,y){return $X(v||[],y||[],vS)}var sEe=li(function(v){var y=v.length,N=y>1?v[y-1]:t;return N=typeof N=="function"?(v.pop(),N):t,yZ(v,N)});function wZ(v){var y=ae(v);return y.__chain__=!0,y}function oEe(v,y){return y(v),v}function NI(v,y){return y(v)}var aEe=Mf(function(v){var y=v.length,N=y?v[0]:0,$=this.__wrapped__,Q=function(he){return z3(he,v)};return y>1||this.__actions__.length||!($ instanceof Si)||!Af(N)?this.thru(Q):($=$.slice(N,+N+(y?1:0)),$.__actions__.push({func:NI,args:[Q],thisArg:t}),new ec($,this.__chain__).thru(function(he){return y&&!he.length&&he.push(t),he}))});function lEe(){return wZ(this)}function uEe(){return new ec(this.value(),this.__chain__)}function cEe(){this.__values__===t&&(this.__values__=PZ(this.value()));var v=this.__index__>=this.__values__.length,y=v?t:this.__values__[this.__index__++];return{done:v,value:y}}function dEe(){return this}function hEe(v){for(var y,N=this;N instanceof pI;){var $=pZ(N);$.__index__=0,$.__values__=t,y?Q.__wrapped__=$:y=$;var Q=$;N=N.__wrapped__}return Q.__wrapped__=v,y}function fEe(){var v=this.__wrapped__;if(v instanceof Si){var y=v;return this.__actions__.length&&(y=new Si(this)),y=y.reverse(),y.__actions__.push({func:NI,args:[v5],thisArg:t}),new ec(y,this.__chain__)}return this.thru(v5)}function gEe(){return BX(this.__wrapped__,this.__actions__)}var pEe=wI(function(v,y,N){gr.call(v,N)?++v[N]:Nf(v,N,1)});function mEe(v,y,N){var $=Yn(v)?ZY:oLe;return N&&Va(v,y,N)&&(y=t),$(v,bn(y,3))}function vEe(v,y){var N=Yn(v)?fp:yX;return N(v,bn(y,3))}var _Ee=YX(mZ),bEe=YX(vZ);function CEe(v,y){return Yo(xI(v,y),1)}function yEe(v,y){return Yo(xI(v,y),j)}function wEe(v,y,N){return N=N===t?1:ni(N),Yo(xI(v,y),N)}function SZ(v,y){var N=Yn(v)?Qu:vp;return N(v,bn(y,3))}function LZ(v,y){var N=Yn(v)?WSe:CX;return N(v,bn(y,3))}var SEe=wI(function(v,y,N){gr.call(v,N)?v[N].push(y):Nf(v,N,[y])});function LEe(v,y,N,$){v=hl(v)?v:fb(v),N=N&&!$?ni(N):0;var Q=v.length;return N<0&&(N=vo(Q+N,0)),PI(v)?N<=Q&&v.indexOf(y,N)>-1:!!Q&&tb(v,y,N)>-1}var kEe=li(function(v,y,N){var $=-1,Q=typeof y=="function",he=hl(v)?tt(v.length):[];return vp(v,function(Ee){he[++$]=Q?eu(y,Ee,N):pS(Ee,y,N)}),he}),EEe=wI(function(v,y,N){Nf(v,N,y)});function xI(v,y){var N=Yn(v)?os:DX;return N(v,bn(y,3))}function DEe(v,y,N,$){return v==null?[]:(Yn(y)||(y=y==null?[]:[y]),N=$?t:N,Yn(N)||(N=N==null?[]:[N]),xX(v,y,N))}var IEe=wI(function(v,y,N){v[N?0:1].push(y)},function(){return[[],[]]});function TEe(v,y,N){var $=Yn(v)?N3:tX,Q=arguments.length<3;return $(v,bn(y,4),N,Q,vp)}function NEe(v,y,N){var $=Yn(v)?HSe:tX,Q=arguments.length<3;return $(v,bn(y,4),N,Q,CX)}function xEe(v,y){var N=Yn(v)?fp:yX;return N(v,RI(bn(y,3)))}function MEe(v){var y=Yn(v)?mX:LLe;return y(v)}function AEe(v,y,N){(N?Va(v,y,N):y===t)?y=1:y=ni(y);var $=Yn(v)?tLe:kLe;return $(v,y)}function REe(v){var y=Yn(v)?nLe:DLe;return y(v)}function OEe(v){if(v==null)return 0;if(hl(v))return PI(v)?ib(v):v.length;var y=va(v);return y==ne||y==R?v.size:Y3(v).length}function PEe(v,y,N){var $=Yn(v)?x3:ILe;return N&&Va(v,y,N)&&(y=t),$(v,bn(y,3))}var FEe=li(function(v,y){if(v==null)return[];var N=y.length;return N>1&&Va(v,y[0],y[1])?y=[]:N>2&&Va(y[0],y[1],y[2])&&(y=[y[0]]),xX(v,Yo(y,1),[])}),MI=v2e||function(){return qo.Date.now()};function BEe(v,y){if(typeof y!="function")throw new Ju(o);return v=ni(v),function(){if(--v<1)return y.apply(this,arguments)}}function kZ(v,y,N){return y=N?t:y,y=v&&y==null?v.length:y,xf(v,E,t,t,t,t,y)}function EZ(v,y){var N;if(typeof y!="function")throw new Ju(o);return v=ni(v),function(){return--v>0&&(N=y.apply(this,arguments)),v<=1&&(y=t),N}}var b5=li(function(v,y,N){var $=m;if(N.length){var Q=pp(N,db(b5));$|=S}return xf(v,$,y,N,Q)}),DZ=li(function(v,y,N){var $=m|b;if(N.length){var Q=pp(N,db(DZ));$|=S}return xf(y,$,v,N,Q)});function IZ(v,y,N){y=N?t:y;var $=xf(v,C,t,t,t,t,t,y);return $.placeholder=IZ.placeholder,$}function TZ(v,y,N){y=N?t:y;var $=xf(v,w,t,t,t,t,t,y);return $.placeholder=TZ.placeholder,$}function NZ(v,y,N){var $,Q,he,Ee,$e,Ke,ft=0,gt=!1,yt=!1,Vt=!0;if(typeof v!="function")throw new Ju(o);y=rc(y)||0,fs(N)&&(gt=!!N.leading,yt="maxWait"in N,he=yt?vo(rc(N.maxWait)||0,y):he,Vt="trailing"in N?!!N.trailing:Vt);function nn(Ps){var Qc=$,Pf=Q;return $=Q=t,ft=Ps,Ee=v.apply(Pf,Qc),Ee}function Sn(Ps){return ft=Ps,$e=CS(_i,y),gt?nn(Ps):Ee}function ai(Ps){var Qc=Ps-Ke,Pf=Ps-ft,YZ=y-Qc;return yt?ma(YZ,he-Pf):YZ}function Ln(Ps){var Qc=Ps-Ke,Pf=Ps-ft;return Ke===t||Qc>=y||Qc<0||yt&&Pf>=he}function _i(){var Ps=MI();if(Ln(Ps))return Ai(Ps);$e=CS(_i,ai(Ps))}function Ai(Ps){return $e=t,Vt&&$?nn(Ps):($=Q=t,Ee)}function ru(){$e!==t&&VX($e),ft=0,$=Ke=Q=$e=t}function Wa(){return $e===t?Ee:Ai(MI())}function su(){var Ps=MI(),Qc=Ln(Ps);if($=arguments,Q=this,Ke=Ps,Qc){if($e===t)return Sn(Ke);if(yt)return VX($e),$e=CS(_i,y),nn(Ke)}return $e===t&&($e=CS(_i,y)),Ee}return su.cancel=ru,su.flush=Wa,su}var $Ee=li(function(v,y){return bX(v,1,y)}),VEe=li(function(v,y,N){return bX(v,rc(y)||0,N)});function WEe(v){return xf(v,T)}function AI(v,y){if(typeof v!="function"||y!=null&&typeof y!="function")throw new Ju(o);var N=function(){var $=arguments,Q=y?y.apply(this,$):$[0],he=N.cache;if(he.has(Q))return he.get(Q);var Ee=v.apply(this,$);return N.cache=he.set(Q,Ee)||he,Ee};return N.cache=new(AI.Cache||Tf),N}AI.Cache=Tf;function RI(v){if(typeof v!="function")throw new Ju(o);return function(){var y=arguments;switch(y.length){case 0:return!v.call(this);case 1:return!v.call(this,y[0]);case 2:return!v.call(this,y[0],y[1]);case 3:return!v.call(this,y[0],y[1],y[2])}return!v.apply(this,y)}}function HEe(v){return EZ(2,v)}var zEe=TLe(function(v,y){y=y.length==1&&Yn(y[0])?os(y[0],tu(bn())):os(Yo(y,1),tu(bn()));var N=y.length;return li(function($){for(var Q=-1,he=ma($.length,N);++Q<he;)$[Q]=y[Q].call(this,$[Q]);return eu(v,this,$)})}),C5=li(function(v,y){var N=pp(y,db(C5));return xf(v,S,t,y,N)}),xZ=li(function(v,y){var N=pp(y,db(xZ));return xf(v,D,t,y,N)}),UEe=Mf(function(v,y){return xf(v,I,t,t,t,y)});function jEe(v,y){if(typeof v!="function")throw new Ju(o);return y=y===t?y:ni(y),li(v,y)}function KEe(v,y){if(typeof v!="function")throw new Ju(o);return y=y==null?0:vo(ni(y),0),li(function(N){var $=N[y],Q=Cp(N,0,y);return $&&gp(Q,$),eu(v,this,Q)})}function GEe(v,y,N){var $=!0,Q=!0;if(typeof v!="function")throw new Ju(o);return fs(N)&&($="leading"in N?!!N.leading:$,Q="trailing"in N?!!N.trailing:Q),NZ(v,y,{leading:$,maxWait:y,trailing:Q})}function qEe(v){return kZ(v,1)}function YEe(v,y){return C5(r5(y),v)}function XEe(){if(!arguments.length)return[];var v=arguments[0];return Yn(v)?v:[v]}function ZEe(v){return tc(v,f)}function QEe(v,y){return y=typeof y=="function"?y:t,tc(v,f,y)}function JEe(v){return tc(v,d|f)}function eDe(v,y){return y=typeof y=="function"?y:t,tc(v,d|f,y)}function tDe(v,y){return y==null||_X(v,y,Bo(y))}function Zc(v,y){return v===y||v!==v&&y!==y}var nDe=EI(K3),iDe=EI(function(v,y){return v>=y}),Wv=LX(function(){return arguments}())?LX:function(v){return Ss(v)&&gr.call(v,"callee")&&!cX.call(v,"callee")},Yn=tt.isArray,rDe=jY?tu(jY):hLe;function hl(v){return v!=null&&OI(v.length)&&!Rf(v)}function Os(v){return Ss(v)&&hl(v)}function sDe(v){return v===!0||v===!1||Ss(v)&&$a(v)==Ne}var yp=b2e||x5,oDe=KY?tu(KY):fLe;function aDe(v){return Ss(v)&&v.nodeType===1&&!yS(v)}function lDe(v){if(v==null)return!0;if(hl(v)&&(Yn(v)||typeof v=="string"||typeof v.splice=="function"||yp(v)||hb(v)||Wv(v)))return!v.length;var y=va(v);if(y==ne||y==R)return!v.size;if(bS(v))return!Y3(v).length;for(var N in v)if(gr.call(v,N))return!1;return!0}function uDe(v,y){return mS(v,y)}function cDe(v,y,N){N=typeof N=="function"?N:t;var $=N?N(v,y):t;return $===t?mS(v,y,t,N):!!$}function y5(v){if(!Ss(v))return!1;var y=$a(v);return y==xe||y==rt||typeof v.message=="string"&&typeof v.name=="string"&&!yS(v)}function dDe(v){return typeof v=="number"&&hX(v)}function Rf(v){if(!fs(v))return!1;var y=$a(v);return y==Ve||y==ee||y==me||y==P}function MZ(v){return typeof v=="number"&&v==ni(v)}function OI(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=X}function fs(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")}function Ss(v){return v!=null&&typeof v=="object"}var AZ=GY?tu(GY):pLe;function hDe(v,y){return v===y||q3(v,y,d5(y))}function fDe(v,y,N){return N=typeof N=="function"?N:t,q3(v,y,d5(y),N)}function gDe(v){return RZ(v)&&v!=+v}function pDe(v){if(QLe(v))throw new Gn(s);return kX(v)}function mDe(v){return v===null}function vDe(v){return v==null}function RZ(v){return typeof v=="number"||Ss(v)&&$a(v)==le}function yS(v){if(!Ss(v)||$a(v)!=ye)return!1;var y=lI(v);if(y===null)return!0;var N=gr.call(y,"constructor")&&y.constructor;return typeof N=="function"&&N instanceof N&&rI.call(N)==f2e}var w5=qY?tu(qY):mLe;function _De(v){return MZ(v)&&v>=-X&&v<=X}var OZ=YY?tu(YY):vLe;function PI(v){return typeof v=="string"||!Yn(v)&&Ss(v)&&$a(v)==H}function iu(v){return typeof v=="symbol"||Ss(v)&&$a(v)==W}var hb=XY?tu(XY):_Le;function bDe(v){return v===t}function CDe(v){return Ss(v)&&va(v)==re}function yDe(v){return Ss(v)&&$a(v)==se}var wDe=EI(X3),SDe=EI(function(v,y){return v<=y});function PZ(v){if(!v)return[];if(hl(v))return PI(v)?Yc(v):dl(v);if(lS&&v[lS])return t2e(v[lS]());var y=va(v),N=y==ne?F3:y==R?tI:fb;return N(v)}function Of(v){if(!v)return v===0?v:0;if(v=rc(v),v===j||v===-j){var y=v<0?-1:1;return y*ie}return v===v?v:0}function ni(v){var y=Of(v),N=y%1;return y===y?N?y-N:y:0}function FZ(v){return v?Fv(ni(v),0,Be):0}function rc(v){if(typeof v=="number")return v;if(iu(v))return Ce;if(fs(v)){var y=typeof v.valueOf=="function"?v.valueOf():v;v=fs(y)?y+"":y}if(typeof v!="string")return v===0?v:+v;v=nX(v);var N=y3.test(v);return N||oSe.test(v)?BSe(v.slice(2),N?2:8):YD.test(v)?Ce:+v}function BZ(v){return eh(v,fl(v))}function LDe(v){return v?Fv(ni(v),-X,X):v===0?v:0}function ar(v){return v==null?"":nu(v)}var kDe=ub(function(v,y){if(bS(y)||hl(y)){eh(y,Bo(y),v);return}for(var N in y)gr.call(y,N)&&fS(v,N,y[N])}),$Z=ub(function(v,y){eh(y,fl(y),v)}),FI=ub(function(v,y,N,$){eh(y,fl(y),v,$)}),EDe=ub(function(v,y,N,$){eh(y,Bo(y),v,$)}),DDe=Mf(z3);function IDe(v,y){var N=lb(v);return y==null?N:vX(N,y)}var TDe=li(function(v,y){v=Tr(v);var N=-1,$=y.length,Q=$>2?y[2]:t;for(Q&&Va(y[0],y[1],Q)&&($=1);++N<$;)for(var he=y[N],Ee=fl(he),$e=-1,Ke=Ee.length;++$e<Ke;){var ft=Ee[$e],gt=v[ft];(gt===t||Zc(gt,sb[ft])&&!gr.call(v,ft))&&(v[ft]=he[ft])}return v}),NDe=li(function(v){return v.push(t,nZ),eu(VZ,t,v)});function xDe(v,y){return QY(v,bn(y,3),Jd)}function MDe(v,y){return QY(v,bn(y,3),j3)}function ADe(v,y){return v==null?v:U3(v,bn(y,3),fl)}function RDe(v,y){return v==null?v:wX(v,bn(y,3),fl)}function ODe(v,y){return v&&Jd(v,bn(y,3))}function PDe(v,y){return v&&j3(v,bn(y,3))}function FDe(v){return v==null?[]:_I(v,Bo(v))}function BDe(v){return v==null?[]:_I(v,fl(v))}function S5(v,y,N){var $=v==null?t:Bv(v,y);return $===t?N:$}function $De(v,y){return v!=null&&sZ(v,y,lLe)}function L5(v,y){return v!=null&&sZ(v,y,uLe)}var VDe=ZX(function(v,y,N){y!=null&&typeof y.toString!="function"&&(y=sI.call(y)),v[y]=N},E5(gl)),WDe=ZX(function(v,y,N){y!=null&&typeof y.toString!="function"&&(y=sI.call(y)),gr.call(v,y)?v[y].push(N):v[y]=[N]},bn),HDe=li(pS);function Bo(v){return hl(v)?pX(v):Y3(v)}function fl(v){return hl(v)?pX(v,!0):bLe(v)}function zDe(v,y){var N={};return y=bn(y,3),Jd(v,function($,Q,he){Nf(N,y($,Q,he),$)}),N}function UDe(v,y){var N={};return y=bn(y,3),Jd(v,function($,Q,he){Nf(N,Q,y($,Q,he))}),N}var jDe=ub(function(v,y,N){bI(v,y,N)}),VZ=ub(function(v,y,N,$){bI(v,y,N,$)}),KDe=Mf(function(v,y){var N={};if(v==null)return N;var $=!1;y=os(y,function(he){return he=bp(he,v),$||($=he.length>1),he}),eh(v,u5(v),N),$&&(N=tc(N,d|h|f,VLe));for(var Q=y.length;Q--;)t5(N,y[Q]);return N});function GDe(v,y){return WZ(v,RI(bn(y)))}var qDe=Mf(function(v,y){return v==null?{}:yLe(v,y)});function WZ(v,y){if(v==null)return{};var N=os(u5(v),function($){return[$]});return y=bn(y),MX(v,N,function($,Q){return y($,Q[0])})}function YDe(v,y,N){y=bp(y,v);var $=-1,Q=y.length;for(Q||(Q=1,v=t);++$<Q;){var he=v==null?t:v[th(y[$])];he===t&&($=Q,he=N),v=Rf(he)?he.call(v):he}return v}function XDe(v,y,N){return v==null?v:vS(v,y,N)}function ZDe(v,y,N,$){return $=typeof $=="function"?$:t,v==null?v:vS(v,y,N,$)}var HZ=eZ(Bo),zZ=eZ(fl);function QDe(v,y,N){var $=Yn(v),Q=$||yp(v)||hb(v);if(y=bn(y,4),N==null){var he=v&&v.constructor;Q?N=$?new he:[]:fs(v)?N=Rf(he)?lb(lI(v)):{}:N={}}return(Q?Qu:Jd)(v,function(Ee,$e,Ke){return y(N,Ee,$e,Ke)}),N}function JDe(v,y){return v==null?!0:t5(v,y)}function eIe(v,y,N){return v==null?v:FX(v,y,r5(N))}function tIe(v,y,N,$){return $=typeof $=="function"?$:t,v==null?v:FX(v,y,r5(N),$)}function fb(v){return v==null?[]:P3(v,Bo(v))}function nIe(v){return v==null?[]:P3(v,fl(v))}function iIe(v,y,N){return N===t&&(N=y,y=t),N!==t&&(N=rc(N),N=N===N?N:0),y!==t&&(y=rc(y),y=y===y?y:0),Fv(rc(v),y,N)}function rIe(v,y,N){return y=Of(y),N===t?(N=y,y=0):N=Of(N),v=rc(v),cLe(v,y,N)}function sIe(v,y,N){if(N&&typeof N!="boolean"&&Va(v,y,N)&&(y=N=t),N===t&&(typeof y=="boolean"?(N=y,y=t):typeof v=="boolean"&&(N=v,v=t)),v===t&&y===t?(v=0,y=1):(v=Of(v),y===t?(y=v,v=0):y=Of(y)),v>y){var $=v;v=y,y=$}if(N||v%1||y%1){var Q=fX();return ma(v+Q*(y-v+FSe("1e-"+((Q+"").length-1))),y)}return Q3(v,y)}var oIe=cb(function(v,y,N){return y=y.toLowerCase(),v+(N?UZ(y):y)});function UZ(v){return k5(ar(v).toLowerCase())}function jZ(v){return v=ar(v),v&&v.replace(lSe,XSe).replace(DSe,"")}function aIe(v,y,N){v=ar(v),y=nu(y);var $=v.length;N=N===t?$:Fv(ni(N),0,$);var Q=N;return N-=y.length,N>=0&&v.slice(N,Q)==y}function lIe(v){return v=ar(v),v&&At.test(v)?v.replace(hs,ZSe):v}function uIe(v){return v=ar(v),v&&C3.test(v)?v.replace(J1,"\\$&"):v}var cIe=cb(function(v,y,N){return v+(N?"-":"")+y.toLowerCase()}),dIe=cb(function(v,y,N){return v+(N?" ":"")+y.toLowerCase()}),hIe=qX("toLowerCase");function fIe(v,y,N){v=ar(v),y=ni(y);var $=y?ib(v):0;if(!y||$>=y)return v;var Q=(y-$)/2;return kI(hI(Q),N)+v+kI(dI(Q),N)}function gIe(v,y,N){v=ar(v),y=ni(y);var $=y?ib(v):0;return y&&$<y?v+kI(y-$,N):v}function pIe(v,y,N){v=ar(v),y=ni(y);var $=y?ib(v):0;return y&&$<y?kI(y-$,N)+v:v}function mIe(v,y,N){return N||y==null?y=0:y&&(y=+y),S2e(ar(v).replace(un,""),y||0)}function vIe(v,y,N){return(N?Va(v,y,N):y===t)?y=1:y=ni(y),J3(ar(v),y)}function _Ie(){var v=arguments,y=ar(v[0]);return v.length<3?y:y.replace(v[1],v[2])}var bIe=cb(function(v,y,N){return v+(N?"_":"")+y.toLowerCase()});function CIe(v,y,N){return N&&typeof N!="number"&&Va(v,y,N)&&(y=N=t),N=N===t?Be:N>>>0,N?(v=ar(v),v&&(typeof y=="string"||y!=null&&!w5(y))&&(y=nu(y),!y&&nb(v))?Cp(Yc(v),0,N):v.split(y,N)):[]}var yIe=cb(function(v,y,N){return v+(N?" ":"")+k5(y)});function wIe(v,y,N){return v=ar(v),N=N==null?0:Fv(ni(N),0,v.length),y=nu(y),v.slice(N,N+y.length)==y}function SIe(v,y,N){var $=ae.templateSettings;N&&Va(v,y,N)&&(y=t),v=ar(v),y=FI({},y,$,tZ);var Q=FI({},y.imports,$.imports,tZ),he=Bo(Q),Ee=P3(Q,he),$e,Ke,ft=0,gt=y.interpolate||XD,yt="__p += '",Vt=B3((y.escape||XD).source+"|"+gt.source+"|"+(gt===po?qc:XD).source+"|"+(y.evaluate||XD).source+"|$","g"),nn="//# sourceURL="+(gr.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++MSe+"]")+`
`;v.replace(Vt,function(Ln,_i,Ai,ru,Wa,su){return Ai||(Ai=ru),yt+=v.slice(ft,su).replace(uSe,QSe),_i&&($e=!0,yt+=`' +
__e(`+_i+`) +
'`),Wa&&(Ke=!0,yt+=`';
`+Wa+`;
__p += '`),Ai&&(yt+=`' +
((__t = (`+Ai+`)) == null ? '' : __t) +
'`),ft=su+Ln.length,Ln}),yt+=`';
`;var Sn=gr.call(y,"variable")&&y.variable;if(!Sn)yt=`with (obj) {
`+yt+`
}
`;else if(Po.test(Sn))throw new Gn(a);yt=(Ke?yt.replace(vr,""):yt).replace(An,"$1").replace(vi,"$1;"),yt="function("+(Sn||"obj")+`) {
`+(Sn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($e?", __e = _.escape":"")+(Ke?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yt+`return __p
}`;var ai=GZ(function(){return Qi(he,nn+"return "+yt).apply(t,Ee)});if(ai.source=yt,y5(ai))throw ai;return ai}function LIe(v){return ar(v).toLowerCase()}function kIe(v){return ar(v).toUpperCase()}function EIe(v,y,N){if(v=ar(v),v&&(N||y===t))return nX(v);if(!v||!(y=nu(y)))return v;var $=Yc(v),Q=Yc(y),he=iX($,Q),Ee=rX($,Q)+1;return Cp($,he,Ee).join("")}function DIe(v,y,N){if(v=ar(v),v&&(N||y===t))return v.slice(0,oX(v)+1);if(!v||!(y=nu(y)))return v;var $=Yc(v),Q=rX($,Yc(y))+1;return Cp($,0,Q).join("")}function IIe(v,y,N){if(v=ar(v),v&&(N||y===t))return v.replace(un,"");if(!v||!(y=nu(y)))return v;var $=Yc(v),Q=iX($,Yc(y));return Cp($,Q).join("")}function TIe(v,y){var N=M,$=A;if(fs(y)){var Q="separator"in y?y.separator:Q;N="length"in y?ni(y.length):N,$="omission"in y?nu(y.omission):$}v=ar(v);var he=v.length;if(nb(v)){var Ee=Yc(v);he=Ee.length}if(N>=he)return v;var $e=N-ib($);if($e<1)return $;var Ke=Ee?Cp(Ee,0,$e).join(""):v.slice(0,$e);if(Q===t)return Ke+$;if(Ee&&($e+=Ke.length-$e),w5(Q)){if(v.slice($e).search(Q)){var ft,gt=Ke;for(Q.global||(Q=B3(Q.source,ar(hp.exec(Q))+"g")),Q.lastIndex=0;ft=Q.exec(gt);)var yt=ft.index;Ke=Ke.slice(0,yt===t?$e:yt)}}else if(v.indexOf(nu(Q),$e)!=$e){var Vt=Ke.lastIndexOf(Q);Vt>-1&&(Ke=Ke.slice(0,Vt))}return Ke+$}function NIe(v){return v=ar(v),v&&Qe.test(v)?v.replace(pa,s2e):v}var xIe=cb(function(v,y,N){return v+(N?" ":"")+y.toUpperCase()}),k5=qX("toUpperCase");function KZ(v,y,N){return v=ar(v),y=N?t:y,y===t?e2e(v)?l2e(v):jSe(v):v.match(y)||[]}var GZ=li(function(v,y){try{return eu(v,t,y)}catch(N){return y5(N)?N:new Gn(N)}}),MIe=Mf(function(v,y){return Qu(y,function(N){N=th(N),Nf(v,N,b5(v[N],v))}),v});function AIe(v){var y=v==null?0:v.length,N=bn();return v=y?os(v,function($){if(typeof $[1]!="function")throw new Ju(o);return[N($[0]),$[1]]}):[],li(function($){for(var Q=-1;++Q<y;){var he=v[Q];if(eu(he[0],this,$))return eu(he[1],this,$)}})}function RIe(v){return sLe(tc(v,d))}function E5(v){return function(){return v}}function OIe(v,y){return v==null||v!==v?y:v}var PIe=XX(),FIe=XX(!0);function gl(v){return v}function D5(v){return EX(typeof v=="function"?v:tc(v,d))}function BIe(v){return IX(tc(v,d))}function $Ie(v,y){return TX(v,tc(y,d))}var VIe=li(function(v,y){return function(N){return pS(N,v,y)}}),WIe=li(function(v,y){return function(N){return pS(v,N,y)}});function I5(v,y,N){var $=Bo(y),Q=_I(y,$);N==null&&!(fs(y)&&(Q.length||!$.length))&&(N=y,y=v,v=this,Q=_I(y,Bo(y)));var he=!(fs(N)&&"chain"in N)||!!N.chain,Ee=Rf(v);return Qu(Q,function($e){var Ke=y[$e];v[$e]=Ke,Ee&&(v.prototype[$e]=function(){var ft=this.__chain__;if(he||ft){var gt=v(this.__wrapped__),yt=gt.__actions__=dl(this.__actions__);return yt.push({func:Ke,args:arguments,thisArg:v}),gt.__chain__=ft,gt}return Ke.apply(v,gp([this.value()],arguments))})}),v}function HIe(){return qo._===this&&(qo._=g2e),this}function T5(){}function zIe(v){return v=ni(v),li(function(y){return NX(y,v)})}var UIe=o5(os),jIe=o5(ZY),KIe=o5(x3);function qZ(v){return f5(v)?M3(th(v)):wLe(v)}function GIe(v){return function(y){return v==null?t:Bv(v,y)}}var qIe=QX(),YIe=QX(!0);function N5(){return[]}function x5(){return!1}function XIe(){return{}}function ZIe(){return""}function QIe(){return!0}function JIe(v,y){if(v=ni(v),v<1||v>X)return[];var N=Be,$=ma(v,Be);y=bn(y),v-=Be;for(var Q=O3($,y);++N<v;)y(N);return Q}function eTe(v){return Yn(v)?os(v,th):iu(v)?[v]:dl(gZ(ar(v)))}function tTe(v){var y=++h2e;return ar(v)+y}var nTe=LI(function(v,y){return v+y},0),iTe=a5("ceil"),rTe=LI(function(v,y){return v/y},1),sTe=a5("floor");function oTe(v){return v&&v.length?vI(v,gl,K3):t}function aTe(v,y){return v&&v.length?vI(v,bn(y,2),K3):t}function lTe(v){return eX(v,gl)}function uTe(v,y){return eX(v,bn(y,2))}function cTe(v){return v&&v.length?vI(v,gl,X3):t}function dTe(v,y){return v&&v.length?vI(v,bn(y,2),X3):t}var hTe=LI(function(v,y){return v*y},1),fTe=a5("round"),gTe=LI(function(v,y){return v-y},0);function pTe(v){return v&&v.length?R3(v,gl):0}function mTe(v,y){return v&&v.length?R3(v,bn(y,2)):0}return ae.after=BEe,ae.ary=kZ,ae.assign=kDe,ae.assignIn=$Z,ae.assignInWith=FI,ae.assignWith=EDe,ae.at=DDe,ae.before=EZ,ae.bind=b5,ae.bindAll=MIe,ae.bindKey=DZ,ae.castArray=XEe,ae.chain=wZ,ae.chunk=ske,ae.compact=oke,ae.concat=ake,ae.cond=AIe,ae.conforms=RIe,ae.constant=E5,ae.countBy=pEe,ae.create=IDe,ae.curry=IZ,ae.curryRight=TZ,ae.debounce=NZ,ae.defaults=TDe,ae.defaultsDeep=NDe,ae.defer=$Ee,ae.delay=VEe,ae.difference=lke,ae.differenceBy=uke,ae.differenceWith=cke,ae.drop=dke,ae.dropRight=hke,ae.dropRightWhile=fke,ae.dropWhile=gke,ae.fill=pke,ae.filter=vEe,ae.flatMap=CEe,ae.flatMapDeep=yEe,ae.flatMapDepth=wEe,ae.flatten=_Z,ae.flattenDeep=mke,ae.flattenDepth=vke,ae.flip=WEe,ae.flow=PIe,ae.flowRight=FIe,ae.fromPairs=_ke,ae.functions=FDe,ae.functionsIn=BDe,ae.groupBy=SEe,ae.initial=Cke,ae.intersection=yke,ae.intersectionBy=wke,ae.intersectionWith=Ske,ae.invert=VDe,ae.invertBy=WDe,ae.invokeMap=kEe,ae.iteratee=D5,ae.keyBy=EEe,ae.keys=Bo,ae.keysIn=fl,ae.map=xI,ae.mapKeys=zDe,ae.mapValues=UDe,ae.matches=BIe,ae.matchesProperty=$Ie,ae.memoize=AI,ae.merge=jDe,ae.mergeWith=VZ,ae.method=VIe,ae.methodOf=WIe,ae.mixin=I5,ae.negate=RI,ae.nthArg=zIe,ae.omit=KDe,ae.omitBy=GDe,ae.once=HEe,ae.orderBy=DEe,ae.over=UIe,ae.overArgs=zEe,ae.overEvery=jIe,ae.overSome=KIe,ae.partial=C5,ae.partialRight=xZ,ae.partition=IEe,ae.pick=qDe,ae.pickBy=WZ,ae.property=qZ,ae.propertyOf=GIe,ae.pull=Dke,ae.pullAll=CZ,ae.pullAllBy=Ike,ae.pullAllWith=Tke,ae.pullAt=Nke,ae.range=qIe,ae.rangeRight=YIe,ae.rearg=UEe,ae.reject=xEe,ae.remove=xke,ae.rest=jEe,ae.reverse=v5,ae.sampleSize=AEe,ae.set=XDe,ae.setWith=ZDe,ae.shuffle=REe,ae.slice=Mke,ae.sortBy=FEe,ae.sortedUniq=$ke,ae.sortedUniqBy=Vke,ae.split=CIe,ae.spread=KEe,ae.tail=Wke,ae.take=Hke,ae.takeRight=zke,ae.takeRightWhile=Uke,ae.takeWhile=jke,ae.tap=oEe,ae.throttle=GEe,ae.thru=NI,ae.toArray=PZ,ae.toPairs=HZ,ae.toPairsIn=zZ,ae.toPath=eTe,ae.toPlainObject=BZ,ae.transform=QDe,ae.unary=qEe,ae.union=Kke,ae.unionBy=Gke,ae.unionWith=qke,ae.uniq=Yke,ae.uniqBy=Xke,ae.uniqWith=Zke,ae.unset=JDe,ae.unzip=_5,ae.unzipWith=yZ,ae.update=eIe,ae.updateWith=tIe,ae.values=fb,ae.valuesIn=nIe,ae.without=Qke,ae.words=KZ,ae.wrap=YEe,ae.xor=Jke,ae.xorBy=eEe,ae.xorWith=tEe,ae.zip=nEe,ae.zipObject=iEe,ae.zipObjectDeep=rEe,ae.zipWith=sEe,ae.entries=HZ,ae.entriesIn=zZ,ae.extend=$Z,ae.extendWith=FI,I5(ae,ae),ae.add=nTe,ae.attempt=GZ,ae.camelCase=oIe,ae.capitalize=UZ,ae.ceil=iTe,ae.clamp=iIe,ae.clone=ZEe,ae.cloneDeep=JEe,ae.cloneDeepWith=eDe,ae.cloneWith=QEe,ae.conformsTo=tDe,ae.deburr=jZ,ae.defaultTo=OIe,ae.divide=rTe,ae.endsWith=aIe,ae.eq=Zc,ae.escape=lIe,ae.escapeRegExp=uIe,ae.every=mEe,ae.find=_Ee,ae.findIndex=mZ,ae.findKey=xDe,ae.findLast=bEe,ae.findLastIndex=vZ,ae.findLastKey=MDe,ae.floor=sTe,ae.forEach=SZ,ae.forEachRight=LZ,ae.forIn=ADe,ae.forInRight=RDe,ae.forOwn=ODe,ae.forOwnRight=PDe,ae.get=S5,ae.gt=nDe,ae.gte=iDe,ae.has=$De,ae.hasIn=L5,ae.head=bZ,ae.identity=gl,ae.includes=LEe,ae.indexOf=bke,ae.inRange=rIe,ae.invoke=HDe,ae.isArguments=Wv,ae.isArray=Yn,ae.isArrayBuffer=rDe,ae.isArrayLike=hl,ae.isArrayLikeObject=Os,ae.isBoolean=sDe,ae.isBuffer=yp,ae.isDate=oDe,ae.isElement=aDe,ae.isEmpty=lDe,ae.isEqual=uDe,ae.isEqualWith=cDe,ae.isError=y5,ae.isFinite=dDe,ae.isFunction=Rf,ae.isInteger=MZ,ae.isLength=OI,ae.isMap=AZ,ae.isMatch=hDe,ae.isMatchWith=fDe,ae.isNaN=gDe,ae.isNative=pDe,ae.isNil=vDe,ae.isNull=mDe,ae.isNumber=RZ,ae.isObject=fs,ae.isObjectLike=Ss,ae.isPlainObject=yS,ae.isRegExp=w5,ae.isSafeInteger=_De,ae.isSet=OZ,ae.isString=PI,ae.isSymbol=iu,ae.isTypedArray=hb,ae.isUndefined=bDe,ae.isWeakMap=CDe,ae.isWeakSet=yDe,ae.join=Lke,ae.kebabCase=cIe,ae.last=ic,ae.lastIndexOf=kke,ae.lowerCase=dIe,ae.lowerFirst=hIe,ae.lt=wDe,ae.lte=SDe,ae.max=oTe,ae.maxBy=aTe,ae.mean=lTe,ae.meanBy=uTe,ae.min=cTe,ae.minBy=dTe,ae.stubArray=N5,ae.stubFalse=x5,ae.stubObject=XIe,ae.stubString=ZIe,ae.stubTrue=QIe,ae.multiply=hTe,ae.nth=Eke,ae.noConflict=HIe,ae.noop=T5,ae.now=MI,ae.pad=fIe,ae.padEnd=gIe,ae.padStart=pIe,ae.parseInt=mIe,ae.random=sIe,ae.reduce=TEe,ae.reduceRight=NEe,ae.repeat=vIe,ae.replace=_Ie,ae.result=YDe,ae.round=fTe,ae.runInContext=He,ae.sample=MEe,ae.size=OEe,ae.snakeCase=bIe,ae.some=PEe,ae.sortedIndex=Ake,ae.sortedIndexBy=Rke,ae.sortedIndexOf=Oke,ae.sortedLastIndex=Pke,ae.sortedLastIndexBy=Fke,ae.sortedLastIndexOf=Bke,ae.startCase=yIe,ae.startsWith=wIe,ae.subtract=gTe,ae.sum=pTe,ae.sumBy=mTe,ae.template=SIe,ae.times=JIe,ae.toFinite=Of,ae.toInteger=ni,ae.toLength=FZ,ae.toLower=LIe,ae.toNumber=rc,ae.toSafeInteger=LDe,ae.toString=ar,ae.toUpper=kIe,ae.trim=EIe,ae.trimEnd=DIe,ae.trimStart=IIe,ae.truncate=TIe,ae.unescape=NIe,ae.uniqueId=tTe,ae.upperCase=xIe,ae.upperFirst=k5,ae.each=SZ,ae.eachRight=LZ,ae.first=bZ,I5(ae,function(){var v={};return Jd(ae,function(y,N){gr.call(ae.prototype,N)||(v[N]=y)}),v}(),{chain:!1}),ae.VERSION=i,Qu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){ae[v].placeholder=ae}),Qu(["drop","take"],function(v,y){Si.prototype[v]=function(N){N=N===t?1:vo(ni(N),0);var $=this.__filtered__&&!y?new Si(this):this.clone();return $.__filtered__?$.__takeCount__=ma(N,$.__takeCount__):$.__views__.push({size:ma(N,Be),type:v+($.__dir__<0?"Right":"")}),$},Si.prototype[v+"Right"]=function(N){return this.reverse()[v](N).reverse()}}),Qu(["filter","map","takeWhile"],function(v,y){var N=y+1,$=N==U||N==G;Si.prototype[v]=function(Q){var he=this.clone();return he.__iteratees__.push({iteratee:bn(Q,3),type:N}),he.__filtered__=he.__filtered__||$,he}}),Qu(["head","last"],function(v,y){var N="take"+(y?"Right":"");Si.prototype[v]=function(){return this[N](1).value()[0]}}),Qu(["initial","tail"],function(v,y){var N="drop"+(y?"":"Right");Si.prototype[v]=function(){return this.__filtered__?new Si(this):this[N](1)}}),Si.prototype.compact=function(){return this.filter(gl)},Si.prototype.find=function(v){return this.filter(v).head()},Si.prototype.findLast=function(v){return this.reverse().find(v)},Si.prototype.invokeMap=li(function(v,y){return typeof v=="function"?new Si(this):this.map(function(N){return pS(N,v,y)})}),Si.prototype.reject=function(v){return this.filter(RI(bn(v)))},Si.prototype.slice=function(v,y){v=ni(v);var N=this;return N.__filtered__&&(v>0||y<0)?new Si(N):(v<0?N=N.takeRight(-v):v&&(N=N.drop(v)),y!==t&&(y=ni(y),N=y<0?N.dropRight(-y):N.take(y-v)),N)},Si.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},Si.prototype.toArray=function(){return this.take(Be)},Jd(Si.prototype,function(v,y){var N=/^(?:filter|find|map|reject)|While$/.test(y),$=/^(?:head|last)$/.test(y),Q=ae[$?"take"+(y=="last"?"Right":""):y],he=$||/^find/.test(y);!Q||(ae.prototype[y]=function(){var Ee=this.__wrapped__,$e=$?[1]:arguments,Ke=Ee instanceof Si,ft=$e[0],gt=Ke||Yn(Ee),yt=function(_i){var Ai=Q.apply(ae,gp([_i],$e));return $&&Vt?Ai[0]:Ai};gt&&N&&typeof ft=="function"&&ft.length!=1&&(Ke=gt=!1);var Vt=this.__chain__,nn=!!this.__actions__.length,Sn=he&&!Vt,ai=Ke&&!nn;if(!he&&gt){Ee=ai?Ee:new Si(this);var Ln=v.apply(Ee,$e);return Ln.__actions__.push({func:NI,args:[yt],thisArg:t}),new ec(Ln,Vt)}return Sn&&ai?v.apply(this,$e):(Ln=this.thru(yt),Sn?$?Ln.value()[0]:Ln.value():Ln)})}),Qu(["pop","push","shift","sort","splice","unshift"],function(v){var y=nI[v],N=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",$=/^(?:pop|shift)$/.test(v);ae.prototype[v]=function(){var Q=arguments;if($&&!this.__chain__){var he=this.value();return y.apply(Yn(he)?he:[],Q)}return this[N](function(Ee){return y.apply(Yn(Ee)?Ee:[],Q)})}}),Jd(Si.prototype,function(v,y){var N=ae[y];if(N){var $=N.name+"";gr.call(ab,$)||(ab[$]=[]),ab[$].push({name:y,func:N})}}),ab[SI(t,b).name]=[{name:"wrapper",func:t}],Si.prototype.clone=N2e,Si.prototype.reverse=x2e,Si.prototype.value=M2e,ae.prototype.at=aEe,ae.prototype.chain=lEe,ae.prototype.commit=uEe,ae.prototype.next=cEe,ae.prototype.plant=hEe,ae.prototype.reverse=fEe,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=gEe,ae.prototype.first=ae.prototype.head,lS&&(ae.prototype[lS]=dEe),ae},rb=u2e();Av?((Av.exports=rb)._=rb,D3._=rb):qo._=rb}).call(zo)})(Bae,Bae.exports);var oY=Me({name:"ArrowDown"});const S9t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},L9t=be("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1);function k9t(n,e,t,i,r,s){return B(),Oe("svg",S9t,[L9t])}oY.render=k9t;oY.__file="packages/components/ArrowDown.vue";var lHt=oY,aY=Me({name:"ArrowUp"});const E9t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},D9t=be("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1);function I9t(n,e,t,i,r,s){return B(),Oe("svg",E9t,[D9t])}aY.render=I9t;aY.__file="packages/components/ArrowUp.vue";var uHt=aY,lY=Me({name:"CaretBottom"});const T9t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},N9t=be("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"},null,-1);function x9t(n,e,t,i,r,s){return B(),Oe("svg",T9t,[N9t])}lY.render=x9t;lY.__file="packages/components/CaretBottom.vue";var cHt=lY,uY=Me({name:"CaretRight"});const M9t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},A9t=be("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1);function R9t(n,e,t,i,r,s){return B(),Oe("svg",M9t,[A9t])}uY.render=R9t;uY.__file="packages/components/CaretRight.vue";var dHt=uY,cY=Me({name:"Delete"});const O9t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},P9t=be("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1);function F9t(n,e,t,i,r,s){return B(),Oe("svg",O9t,[P9t])}cY.render=F9t;cY.__file="packages/components/Delete.vue";var hHt=cY,dY=Me({name:"FullScreen"});const B9t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$9t=be("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1);function V9t(n,e,t,i,r,s){return B(),Oe("svg",B9t,[$9t])}dY.render=V9t;dY.__file="packages/components/FullScreen.vue";var fHt=dY,hY=Me({name:"Grid"});const W9t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},H9t=be("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1);function z9t(n,e,t,i,r,s){return B(),Oe("svg",W9t,[H9t])}hY.render=z9t;hY.__file="packages/components/Grid.vue";var gHt=hY;/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function $ae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function df(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$ae(Object(t),!0).forEach(function(i){U9t(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$ae(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function eM(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eM=function(e){return typeof e}:eM=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eM(n)}function U9t(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ep(){return ep=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ep.apply(this,arguments)}function j9t(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function K9t(n,e){if(n==null)return{};var t=j9t(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(t[i]=n[i]))}return t}var G9t="1.14.0";function Fg(n){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(n)}var dp=Fg(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),GD=Fg(/Edge/i),Vae=Fg(/firefox/i),EL=Fg(/safari/i)&&!Fg(/chrome/i)&&!Fg(/android/i),Fwe=Fg(/iP(ad|od|hone)/i),q9t=Fg(/chrome/i)&&Fg(/android/i),Bwe={capture:!1,passive:!1};function Ji(n,e,t){n.addEventListener(e,t,!dp&&Bwe)}function Ui(n,e,t){n.removeEventListener(e,t,!dp&&Bwe)}function ZR(n,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Y9t(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function vh(n,e,t,i){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&ZR(n,e):ZR(n,e))||i&&n===t)return n;if(n===t)break}while(n=Y9t(n))}return null}var Wae=/\s+/g;function lu(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var i=(" "+n.className+" ").replace(Wae," ").replace(" "+e+" "," ");n.className=(i+(t?" "+e:"")).replace(Wae," ")}}function Nn(n,e,t){var i=n&&n.style;if(i){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=t+(typeof t=="string"?"":"px")}}function fy(n,e){var t="";if(typeof n=="string")t=n;else do{var i=Nn(n,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!e&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function $we(n,e,t){if(n){var i=n.getElementsByTagName(e),r=0,s=i.length;if(t)for(;r<s;r++)t(i[r],r);return i}return[]}function Xh(){var n=document.scrollingElement;return n||document.documentElement}function So(n,e,t,i,r){if(!(!n.getBoundingClientRect&&n!==window)){var s,o,a,l,u,c,d;if(n!==window&&n.parentNode&&n!==Xh()?(s=n.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||t)&&n!==window&&(r=r||n.parentNode,!dp))do if(r&&r.getBoundingClientRect&&(Nn(r,"transform")!=="none"||t&&Nn(r,"position")!=="static")){var h=r.getBoundingClientRect();o-=h.top+parseInt(Nn(r,"border-top-width")),a-=h.left+parseInt(Nn(r,"border-left-width")),l=o+s.height,u=a+s.width;break}while(r=r.parentNode);if(i&&n!==window){var f=fy(r||n),g=f&&f.a,p=f&&f.d;f&&(o/=p,a/=g,d/=g,c/=p,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function Hae(n,e,t){for(var i=fm(n,!0),r=So(n)[e];i;){var s=So(i)[t],o=void 0;if(t==="top"||t==="left"?o=r>=s:o=r<=s,!o)return i;if(i===Xh())break;i=fm(i,!1)}return!1}function Dw(n,e,t,i){for(var r=0,s=0,o=n.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==Rn.ghost&&(i||o[s]!==Rn.dragged)&&vh(o[s],t.draggable,n,!1)){if(r===e)return o[s];r++}s++}return null}function fY(n,e){for(var t=n.lastElementChild;t&&(t===Rn.ghost||Nn(t,"display")==="none"||e&&!ZR(t,e));)t=t.previousElementSibling;return t||null}function gc(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Rn.clone&&(!e||ZR(n,e))&&t++;return t}function zae(n){var e=0,t=0,i=Xh();if(n)do{var r=fy(n),s=r.a,o=r.d;e+=n.scrollLeft*s,t+=n.scrollTop*o}while(n!==i&&(n=n.parentNode));return[e,t]}function X9t(n,e){for(var t in n)if(!!n.hasOwnProperty(t)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===n[t][i])return Number(t)}return-1}function fm(n,e){if(!n||!n.getBoundingClientRect)return Xh();var t=n,i=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=Nn(t);if(t.clientWidth<t.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Xh();if(i||e)return t;i=!0}}while(t=t.parentNode);return Xh()}function Z9t(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function X6(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var DL;function Vwe(n,e){return function(){if(!DL){var t=arguments,i=this;t.length===1?n.call(i,t[0]):n.apply(i,t),DL=setTimeout(function(){DL=void 0},e)}}}function Q9t(){clearTimeout(DL),DL=void 0}function Wwe(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Hwe(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var Cu="Sortable"+new Date().getTime();function J9t(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(Nn(r,"display")==="none"||r===Rn.ghost)){n.push({target:r,rect:So(r)});var s=df({},n[n.length-1].rect);if(r.thisAnimationDuration){var o=fy(r,!0);o&&(s.top-=o.f,s.left-=o.e)}r.fromRect=s}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(X9t(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var s=!1,o=0;n.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=So(u),h=u.prevFromRect,f=u.prevToRect,g=a.rect,p=fy(u,!0);p&&(d.top-=p.f,d.left-=p.e),u.toRect=d,u.thisAnimationDuration&&X6(h,d)&&!X6(c,d)&&(g.top-d.top)/(g.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=t7t(g,h,f,r.options)),X6(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=r.options.animation),r.animate(u,g,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),n=[]},animate:function(i,r,s,o){if(o){Nn(i,"transition",""),Nn(i,"transform","");var a=fy(this.el),l=a&&a.a,u=a&&a.d,c=(r.left-s.left)/(l||1),d=(r.top-s.top)/(u||1);i.animatingX=!!c,i.animatingY=!!d,Nn(i,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=e7t(i),Nn(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Nn(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){Nn(i,"transition",""),Nn(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function e7t(n){return n.offsetWidth}function t7t(n,e,t,i){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}var Hb=[],Z6={initializeByDefault:!0},qD={mount:function(e){for(var t in Z6)Z6.hasOwnProperty(t)&&!(t in e)&&(e[t]=Z6[t]);Hb.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Hb.push(e)},pluginEvent:function(e,t,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var s=e+"Global";Hb.forEach(function(o){!t[o.pluginName]||(t[o.pluginName][s]&&t[o.pluginName][s](df({sortable:t},i)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](df({sortable:t},i)))})},initializePlugins:function(e,t,i,r){Hb.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,t,e.options);u.sortable=e,u.options=e.options,e[l]=u,ep(i,u.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o!="undefined"&&(e.options[s]=o)}},getEventProperties:function(e,t){var i={};return Hb.forEach(function(r){typeof r.eventProperties=="function"&&ep(i,r.eventProperties.call(t[r.pluginName],e))}),i},modifyOption:function(e,t,i){var r;return Hb.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[t]=="function"&&(r=s.optionListeners[t].call(e[s.pluginName],i))}),r}};function n7t(n){var e=n.sortable,t=n.rootEl,i=n.name,r=n.targetEl,s=n.cloneEl,o=n.toEl,a=n.fromEl,l=n.oldIndex,u=n.newIndex,c=n.oldDraggableIndex,d=n.newDraggableIndex,h=n.originalEvent,f=n.putSortable,g=n.extraEventProperties;if(e=e||t&&t[Cu],!!e){var p,m=e.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!dp&&!GD?p=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(i,!0,!0)),p.to=o||t,p.from=a||t,p.item=r||t,p.clone=s,p.oldIndex=l,p.newIndex=u,p.oldDraggableIndex=c,p.newDraggableIndex=d,p.originalEvent=h,p.pullMode=f?f.lastPutMode:void 0;var _=df(df({},g),qD.getEventProperties(i,e));for(var C in _)p[C]=_[C];t&&t.dispatchEvent(p),m[b]&&m[b].call(e,p)}}var i7t=["evt"],_l=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,s=K9t(i,i7t);qD.pluginEvent.bind(Rn)(e,t,df({dragEl:Pt,parentEl:ks,ghostEl:Qn,rootEl:ls,nextEl:h0,lastDownEl:tM,cloneEl:Es,cloneHidden:Qp,dragStarted:y2,putSortable:Zo,activeSortable:Rn.active,originalEvent:r,oldIndex:NC,oldDraggableIndex:IL,newIndex:uu,newDraggableIndex:Kp,hideGhostForTarget:Kwe,unhideGhostForTarget:Gwe,cloneNowHidden:function(){Qp=!0},cloneNowShown:function(){Qp=!1},dispatchSortableEvent:function(a){ja({sortable:t,name:a,originalEvent:r})}},s))};function ja(n){n7t(df({putSortable:Zo,cloneEl:Es,targetEl:Pt,rootEl:ls,oldIndex:NC,oldDraggableIndex:IL,newIndex:uu,newDraggableIndex:Kp},n))}var Pt,ks,Qn,ls,h0,tM,Es,Qp,NC,uu,IL,Kp,kN,Zo,iC=!1,QR=!1,JR=[],Qv,td,Q6,J6,Uae,jae,y2,zb,TL,NL=!1,EN=!1,nM,_a,eB=[],OH=!1,eO=[],_3=typeof document!="undefined",DN=Fwe,Kae=GD||dp?"cssFloat":"float",r7t=_3&&!q9t&&!Fwe&&"draggable"in document.createElement("div"),zwe=function(){if(!!_3){if(dp)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Uwe=function(e,t){var i=Nn(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=Dw(e,0,t),o=Dw(e,1,t),a=s&&Nn(s),l=o&&Nn(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+So(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+So(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=r&&i[Kae]==="none"||o&&i[Kae]==="none"&&u+c>r)?"vertical":"horizontal"},s7t=function(e,t,i){var r=i?e.left:e.top,s=i?e.right:e.bottom,o=i?e.width:e.height,a=i?t.left:t.top,l=i?t.right:t.bottom,u=i?t.width:t.height;return r===a||s===l||r+o/2===a+u/2},o7t=function(e,t){var i;return JR.some(function(r){var s=r[Cu].options.emptyInsertThreshold;if(!(!s||fY(r))){var o=So(r),a=e>=o.left-s&&e<=o.right+s,l=t>=o.top-s&&t<=o.bottom+s;if(a&&l)return i=r}}),i},jwe=function(e){function t(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return t(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var i={},r=e.group;(!r||eM(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=t(r.pull,!0),i.checkPut=t(r.put),i.revertClone=r.revertClone,e.group=i},Kwe=function(){!zwe&&Qn&&Nn(Qn,"display","none")},Gwe=function(){!zwe&&Qn&&Nn(Qn,"display","")};_3&&document.addEventListener("click",function(n){if(QR)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),QR=!1,!1},!0);var Jv=function(e){if(Pt){e=e.touches?e.touches[0]:e;var t=o7t(e.clientX,e.clientY);if(t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[Cu]._onDragOver(i)}}},a7t=function(e){Pt&&Pt.parentNode[Cu]._isOutsideThisEl(e.target)};function Rn(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=ep({},e),n[Cu]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Uwe(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Rn.supportPointer!==!1&&"PointerEvent"in window&&!EL,emptyInsertThreshold:5};qD.initializePlugins(this,n,t);for(var i in t)!(i in e)&&(e[i]=t[i]);jwe(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:r7t,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ji(n,"pointerdown",this._onTapStart):(Ji(n,"mousedown",this._onTapStart),Ji(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ji(n,"dragover",this),Ji(n,"dragenter",this)),JR.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ep(this,J9t())}Rn.prototype={constructor:Rn,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(zb=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,Pt):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var t=this,i=this.el,r=this.options,s=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=r.filter;if(p7t(i),!Pt&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&EL&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=vh(l,r.draggable,i,!1),!(l&&l.animated)&&tM!==l)){if(NC=gc(l),IL=gc(l,r.draggable),typeof c=="function"){if(c.call(this,e,l,this)){ja({sortable:t,rootEl:u,name:"filter",targetEl:l,toEl:i,fromEl:i}),_l("filter",t,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=vh(u,d.trim(),i,!1),d)return ja({sortable:t,rootEl:d,name:"filter",targetEl:l,fromEl:i,toEl:i}),_l("filter",t,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}r.handle&&!vh(u,r.handle,i,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,i){var r=this,s=r.el,o=r.options,a=s.ownerDocument,l;if(i&&!Pt&&i.parentNode===s){var u=So(i);if(ls=s,Pt=i,ks=Pt.parentNode,h0=Pt.nextSibling,tM=i,kN=o.group,Rn.dragged=Pt,Qv={target:Pt,clientX:(t||e).clientX,clientY:(t||e).clientY},Uae=Qv.clientX-u.left,jae=Qv.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Pt.style["will-change"]="all",l=function(){if(_l("delayEnded",r,{evt:e}),Rn.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Vae&&r.nativeDraggable&&(Pt.draggable=!0),r._triggerDragStart(e,t),ja({sortable:r,name:"choose",originalEvent:e}),lu(Pt,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){$we(Pt,c.trim(),tB)}),Ji(a,"dragover",Jv),Ji(a,"mousemove",Jv),Ji(a,"touchmove",Jv),Ji(a,"mouseup",r._onDrop),Ji(a,"touchend",r._onDrop),Ji(a,"touchcancel",r._onDrop),Vae&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Pt.draggable=!0),_l("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(GD||dp))){if(Rn.eventCanceled){this._onDrop();return}Ji(a,"mouseup",r._disableDelayedDrag),Ji(a,"touchend",r._disableDelayedDrag),Ji(a,"touchcancel",r._disableDelayedDrag),Ji(a,"mousemove",r._delayedDragTouchMoveHandler),Ji(a,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&Ji(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Pt&&tB(Pt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ui(e,"mouseup",this._disableDelayedDrag),Ui(e,"touchend",this._disableDelayedDrag),Ui(e,"touchcancel",this._disableDelayedDrag),Ui(e,"mousemove",this._delayedDragTouchMoveHandler),Ui(e,"touchmove",this._delayedDragTouchMoveHandler),Ui(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?Ji(document,"pointermove",this._onTouchMove):t?Ji(document,"touchmove",this._onTouchMove):Ji(document,"mousemove",this._onTouchMove):(Ji(Pt,"dragend",this),Ji(ls,"dragstart",this._onDragStart));try{document.selection?iM(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(iC=!1,ls&&Pt){_l("dragStarted",this,{evt:t}),this.nativeDraggable&&Ji(document,"dragover",a7t);var i=this.options;!e&&lu(Pt,i.dragClass,!1),lu(Pt,i.ghostClass,!0),Rn.active=this,e&&this._appendGhost(),ja({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(td){this._lastX=td.clientX,this._lastY=td.clientY,Kwe();for(var e=document.elementFromPoint(td.clientX,td.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(td.clientX,td.clientY),e!==t);)t=e;if(Pt.parentNode[Cu]._isOutsideThisEl(e),t)do{if(t[Cu]){var i=void 0;if(i=t[Cu]._onDragOver({clientX:td.clientX,clientY:td.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Gwe()}},_onTouchMove:function(e){if(Qv){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=Qn&&fy(Qn,!0),a=Qn&&o&&o.a,l=Qn&&o&&o.d,u=DN&&_a&&zae(_a),c=(s.clientX-Qv.clientX+r.x)/(a||1)+(u?u[0]-eB[0]:0)/(a||1),d=(s.clientY-Qv.clientY+r.y)/(l||1)+(u?u[1]-eB[1]:0)/(l||1);if(!Rn.active&&!iC){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(Qn){o?(o.e+=c-(Q6||0),o.f+=d-(J6||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Nn(Qn,"webkitTransform",h),Nn(Qn,"mozTransform",h),Nn(Qn,"msTransform",h),Nn(Qn,"transform",h),Q6=c,J6=d,td=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Qn){var e=this.options.fallbackOnBody?document.body:ls,t=So(Pt,!0,DN,!0,e),i=this.options;if(DN){for(_a=e;Nn(_a,"position")==="static"&&Nn(_a,"transform")==="none"&&_a!==document;)_a=_a.parentNode;_a!==document.body&&_a!==document.documentElement?(_a===document&&(_a=Xh()),t.top+=_a.scrollTop,t.left+=_a.scrollLeft):_a=Xh(),eB=zae(_a)}Qn=Pt.cloneNode(!0),lu(Qn,i.ghostClass,!1),lu(Qn,i.fallbackClass,!0),lu(Qn,i.dragClass,!0),Nn(Qn,"transition",""),Nn(Qn,"transform",""),Nn(Qn,"box-sizing","border-box"),Nn(Qn,"margin",0),Nn(Qn,"top",t.top),Nn(Qn,"left",t.left),Nn(Qn,"width",t.width),Nn(Qn,"height",t.height),Nn(Qn,"opacity","0.8"),Nn(Qn,"position",DN?"absolute":"fixed"),Nn(Qn,"zIndex","100000"),Nn(Qn,"pointerEvents","none"),Rn.ghost=Qn,e.appendChild(Qn),Nn(Qn,"transform-origin",Uae/parseInt(Qn.style.width)*100+"% "+jae/parseInt(Qn.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,r=e.dataTransfer,s=i.options;if(_l("dragStart",this,{evt:e}),Rn.eventCanceled){this._onDrop();return}_l("setupClone",this),Rn.eventCanceled||(Es=Hwe(Pt),Es.draggable=!1,Es.style["will-change"]="",this._hideClone(),lu(Es,this.options.chosenClass,!1),Rn.clone=Es),i.cloneId=iM(function(){_l("clone",i),!Rn.eventCanceled&&(i.options.removeCloneOnHide||ls.insertBefore(Es,Pt),i._hideClone(),ja({sortable:i,name:"clone"}))}),!t&&lu(Pt,s.dragClass,!0),t?(QR=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Ui(document,"mouseup",i._onDrop),Ui(document,"touchend",i._onDrop),Ui(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(i,r,Pt)),Ji(document,"drop",i),Nn(Pt,"transform","translateZ(0)")),iC=!0,i._dragStartId=iM(i._dragStarted.bind(i,t,e)),Ji(document,"selectstart",i),y2=!0,EL&&Nn(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,r,s,o,a=this.options,l=a.group,u=Rn.active,c=kN===l,d=a.sort,h=Zo||u,f,g=this,p=!1;if(OH)return;function m(X,ie){_l(X,g,df({evt:e,isOwner:c,axis:f?"vertical":"horizontal",revert:o,dragRect:r,targetRect:s,canSort:d,fromSortable:h,target:i,completed:_,onMove:function(Be,we){return IN(ls,t,Pt,r,Be,So(Be),e,we)},changed:C},ie))}function b(){m("dragOverAnimationCapture"),g.captureAnimationState(),g!==h&&h.captureAnimationState()}function _(X){return m("dragOverCompleted",{insertion:X}),X&&(c?u._hideClone():u._showClone(g),g!==h&&(lu(Pt,Zo?Zo.options.ghostClass:u.options.ghostClass,!1),lu(Pt,a.ghostClass,!0)),Zo!==g&&g!==Rn.active?Zo=g:g===Rn.active&&Zo&&(Zo=null),h===g&&(g._ignoreWhileAnimating=i),g.animateAll(function(){m("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(i===Pt&&!Pt.animated||i===t&&!i.animated)&&(zb=null),!a.dragoverBubble&&!e.rootEl&&i!==document&&(Pt.parentNode[Cu]._isOutsideThisEl(e.target),!X&&Jv(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function C(){uu=gc(Pt),Kp=gc(Pt,a.draggable),ja({sortable:g,name:"change",toEl:t,newIndex:uu,newDraggableIndex:Kp,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=vh(i,a.draggable,t,!0),m("dragOver"),Rn.eventCanceled)return p;if(Pt.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||g._ignoreWhileAnimating===i)return _(!1);if(QR=!1,u&&!a.disabled&&(c?d||(o=ks!==ls):Zo===this||(this.lastPutMode=kN.checkPull(this,u,Pt,e))&&l.checkPut(this,u,Pt,e))){if(f=this._getDirection(e,i)==="vertical",r=So(Pt),m("dragOverValid"),Rn.eventCanceled)return p;if(o)return ks=ls,b(),this._hideClone(),m("revert"),Rn.eventCanceled||(h0?ls.insertBefore(Pt,h0):ls.appendChild(Pt)),_(!0);var w=fY(t,a.draggable);if(!w||d7t(e,f,this)&&!w.animated){if(w===Pt)return _(!1);if(w&&t===e.target&&(i=w),i&&(s=So(i)),IN(ls,t,Pt,r,i,s,e,!!i)!==!1)return b(),t.appendChild(Pt),ks=t,C(),_(!0)}else if(w&&c7t(e,f,this)){var S=Dw(t,0,a,!0);if(S===Pt)return _(!1);if(i=S,s=So(i),IN(ls,t,Pt,r,i,s,e,!1)!==!1)return b(),t.insertBefore(Pt,S),ks=t,C(),_(!0)}else if(i.parentNode===t){s=So(i);var D=0,E,I=Pt.parentNode!==t,T=!s7t(Pt.animated&&Pt.toRect||r,i.animated&&i.toRect||s,f),M=f?"top":"left",A=Hae(i,"top","top")||Hae(Pt,"top","top"),O=A?A.scrollTop:void 0;zb!==i&&(E=s[M],NL=!1,EN=!T&&a.invertSwap||I),D=h7t(e,i,s,f,T?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,EN,zb===i);var F;if(D!==0){var U=gc(Pt);do U-=D,F=ks.children[U];while(F&&(Nn(F,"display")==="none"||F===Qn))}if(D===0||F===i)return _(!1);zb=i,TL=D;var V=i.nextElementSibling,G=!1;G=D===1;var j=IN(ls,t,Pt,r,i,s,e,G);if(j!==!1)return(j===1||j===-1)&&(G=j===1),OH=!0,setTimeout(u7t,30),b(),G&&!V?t.appendChild(Pt):i.parentNode.insertBefore(Pt,G?V:i),A&&Wwe(A,0,O-A.scrollTop),ks=Pt.parentNode,E!==void 0&&!EN&&(nM=Math.abs(E-So(i)[M])),C(),_(!0)}if(t.contains(Pt))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ui(document,"mousemove",this._onTouchMove),Ui(document,"touchmove",this._onTouchMove),Ui(document,"pointermove",this._onTouchMove),Ui(document,"dragover",Jv),Ui(document,"mousemove",Jv),Ui(document,"touchmove",Jv)},_offUpEvents:function(){var e=this.el.ownerDocument;Ui(e,"mouseup",this._onDrop),Ui(e,"touchend",this._onDrop),Ui(e,"pointerup",this._onDrop),Ui(e,"touchcancel",this._onDrop),Ui(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(uu=gc(Pt),Kp=gc(Pt,i.draggable),_l("drop",this,{evt:e}),ks=Pt&&Pt.parentNode,uu=gc(Pt),Kp=gc(Pt,i.draggable),Rn.eventCanceled){this._nulling();return}iC=!1,EN=!1,NL=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),PH(this.cloneId),PH(this._dragStartId),this.nativeDraggable&&(Ui(document,"drop",this),Ui(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),EL&&Nn(document.body,"user-select",""),Nn(Pt,"transform",""),e&&(y2&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),Qn&&Qn.parentNode&&Qn.parentNode.removeChild(Qn),(ls===ks||Zo&&Zo.lastPutMode!=="clone")&&Es&&Es.parentNode&&Es.parentNode.removeChild(Es),Pt&&(this.nativeDraggable&&Ui(Pt,"dragend",this),tB(Pt),Pt.style["will-change"]="",y2&&!iC&&lu(Pt,Zo?Zo.options.ghostClass:this.options.ghostClass,!1),lu(Pt,this.options.chosenClass,!1),ja({sortable:this,name:"unchoose",toEl:ks,newIndex:null,newDraggableIndex:null,originalEvent:e}),ls!==ks?(uu>=0&&(ja({rootEl:ks,name:"add",toEl:ks,fromEl:ls,originalEvent:e}),ja({sortable:this,name:"remove",toEl:ks,originalEvent:e}),ja({rootEl:ks,name:"sort",toEl:ks,fromEl:ls,originalEvent:e}),ja({sortable:this,name:"sort",toEl:ks,originalEvent:e})),Zo&&Zo.save()):uu!==NC&&uu>=0&&(ja({sortable:this,name:"update",toEl:ks,originalEvent:e}),ja({sortable:this,name:"sort",toEl:ks,originalEvent:e})),Rn.active&&((uu==null||uu===-1)&&(uu=NC,Kp=IL),ja({sortable:this,name:"end",toEl:ks,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){_l("nulling",this),ls=Pt=ks=Qn=h0=Es=tM=Qp=Qv=td=y2=uu=Kp=NC=IL=zb=TL=Zo=kN=Rn.dragged=Rn.ghost=Rn.clone=Rn.active=null,eO.forEach(function(e){e.checked=!0}),eO.length=Q6=J6=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Pt&&(this._onDragOver(e),l7t(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,r=0,s=i.length,o=this.options;r<s;r++)t=i[r],vh(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||g7t(t));return e},sort:function(e,t){var i={},r=this.el;this.toArray().forEach(function(s,o){var a=r.children[o];vh(a,this.options.draggable,r,!1)&&(i[s]=a)},this),t&&this.captureAnimationState(),e.forEach(function(s){i[s]&&(r.removeChild(i[s]),r.appendChild(i[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return vh(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var r=qD.modifyOption(this,e,t);typeof r!="undefined"?i[e]=r:i[e]=t,e==="group"&&jwe(i)},destroy:function(){_l("destroy",this);var e=this.el;e[Cu]=null,Ui(e,"mousedown",this._onTapStart),Ui(e,"touchstart",this._onTapStart),Ui(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ui(e,"dragover",this),Ui(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),JR.splice(JR.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Qp){if(_l("hideClone",this),Rn.eventCanceled)return;Nn(Es,"display","none"),this.options.removeCloneOnHide&&Es.parentNode&&Es.parentNode.removeChild(Es),Qp=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Qp){if(_l("showClone",this),Rn.eventCanceled)return;Pt.parentNode==ls&&!this.options.group.revertClone?ls.insertBefore(Es,Pt):h0?ls.insertBefore(Es,h0):ls.appendChild(Es),this.options.group.revertClone&&this.animate(Pt,Es),Nn(Es,"display",""),Qp=!1}}};function l7t(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function IN(n,e,t,i,r,s,o,a){var l,u=n[Cu],c=u.options.onMove,d;return window.CustomEvent&&!dp&&!GD?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=t,l.draggedRect=i,l.related=r||e,l.relatedRect=s||So(e),l.willInsertAfter=a,l.originalEvent=o,n.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function tB(n){n.draggable=!1}function u7t(){OH=!1}function c7t(n,e,t){var i=So(Dw(t.el,0,t.options,!0)),r=10;return e?n.clientX<i.left-r||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-r||n.clientY<i.bottom&&n.clientX<i.left}function d7t(n,e,t){var i=So(fY(t.el,t.options.draggable)),r=10;return e?n.clientX>i.right+r||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+r}function h7t(n,e,t,i,r,s,o,a){var l=i?n.clientY:n.clientX,u=i?t.height:t.width,c=i?t.top:t.left,d=i?t.bottom:t.right,h=!1;if(!o){if(a&&nM<u*r){if(!NL&&(TL===1?l>c+u*s/2:l<d-u*s/2)&&(NL=!0),NL)h=!0;else if(TL===1?l<c+nM:l>d-nM)return-TL}else if(l>c+u*(1-r)/2&&l<d-u*(1-r)/2)return f7t(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function f7t(n){return gc(Pt)<gc(n)?1:-1}function g7t(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function p7t(n){eO.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&eO.push(i)}}function iM(n){return setTimeout(n,0)}function PH(n){return clearTimeout(n)}_3&&Ji(document,"touchmove",function(n){(Rn.active||iC)&&n.cancelable&&n.preventDefault()});Rn.utils={on:Ji,off:Ui,css:Nn,find:$we,is:function(e,t){return!!vh(e,t,e,!1)},extend:Z9t,throttle:Vwe,closest:vh,toggleClass:lu,clone:Hwe,index:gc,nextTick:iM,cancelNextTick:PH,detectDirection:Uwe,getChild:Dw};Rn.get=function(n){return n[Cu]};Rn.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Rn.utils=df(df({},Rn.utils),i.utils)),qD.mount(i)})};Rn.create=function(n,e){return new Rn(n,e)};Rn.version=G9t;var Xs=[],w2,FH,BH=!1,nB,iB,tO,S2;function m7t(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?Ji(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ji(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Ji(document,"touchmove",this._handleFallbackAutoScroll):Ji(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Ui(document,"dragover",this._handleAutoScroll):(Ui(document,"pointermove",this._handleFallbackAutoScroll),Ui(document,"touchmove",this._handleFallbackAutoScroll),Ui(document,"mousemove",this._handleFallbackAutoScroll)),Gae(),rM(),Q9t()},nulling:function(){tO=FH=w2=BH=S2=nB=iB=null,Xs.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var r=this,s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(s,o);if(tO=t,i||this.options.forceAutoScrollFallback||GD||dp||EL){rB(t,this.options,a,i);var l=fm(a,!0);BH&&(!S2||s!==nB||o!==iB)&&(S2&&Gae(),S2=setInterval(function(){var u=fm(document.elementFromPoint(s,o),!0);u!==l&&(l=u,rM()),rB(t,r.options,u,i)},10),nB=s,iB=o)}else{if(!this.options.bubbleScroll||fm(a,!0)===Xh()){rM();return}rB(t,this.options,fm(a,!1),!1)}}},ep(n,{pluginName:"scroll",initializeByDefault:!0})}function rM(){Xs.forEach(function(n){clearInterval(n.pid)}),Xs=[]}function Gae(){clearInterval(S2)}var rB=Vwe(function(n,e,t,i){if(!!e.scroll){var r=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Xh(),u=!1,c;FH!==t&&(FH=t,rM(),w2=e.scroll,c=e.scrollFn,w2===!0&&(w2=fm(t,!0)));var d=0,h=w2;do{var f=h,g=So(f),p=g.top,m=g.bottom,b=g.left,_=g.right,C=g.width,w=g.height,S=void 0,D=void 0,E=f.scrollWidth,I=f.scrollHeight,T=Nn(f),M=f.scrollLeft,A=f.scrollTop;f===l?(S=C<E&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),D=w<I&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(S=C<E&&(T.overflowX==="auto"||T.overflowX==="scroll"),D=w<I&&(T.overflowY==="auto"||T.overflowY==="scroll"));var O=S&&(Math.abs(_-r)<=o&&M+C<E)-(Math.abs(b-r)<=o&&!!M),F=D&&(Math.abs(m-s)<=o&&A+w<I)-(Math.abs(p-s)<=o&&!!A);if(!Xs[d])for(var U=0;U<=d;U++)Xs[U]||(Xs[U]={});(Xs[d].vx!=O||Xs[d].vy!=F||Xs[d].el!==f)&&(Xs[d].el=f,Xs[d].vx=O,Xs[d].vy=F,clearInterval(Xs[d].pid),(O!=0||F!=0)&&(u=!0,Xs[d].pid=setInterval(function(){i&&this.layer===0&&Rn.active._onTouchMove(tO);var V=Xs[this.layer].vy?Xs[this.layer].vy*a:0,G=Xs[this.layer].vx?Xs[this.layer].vx*a:0;typeof c=="function"&&c.call(Rn.dragged.parentNode[Cu],G,V,n,tO,Xs[this.layer].el)!=="continue"||Wwe(Xs[this.layer].el,G,V)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=fm(h,!1)));BH=u}},30),qwe=function(e){var t=e.originalEvent,i=e.putSortable,r=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!t){var u=i||s;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function gY(){}gY.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=Dw(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:qwe};ep(gY,{pluginName:"revertOnSpill"});function pY(){}pY.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:qwe};ep(pY,{pluginName:"removeOnSpill"});Rn.mount(new m7t);Rn.mount(pY,gY);/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const Ywe=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",oS=n=>Ywe?Symbol(n):"_vr_"+n,v7t=oS("rvlm"),qae=oS("rvd"),mY=oS("r"),Xwe=oS("rl"),$H=oS("rvl"),rC=typeof window!="undefined";function _7t(n){return n.__esModule||Ywe&&n[Symbol.toStringTag]==="Module"}const xr=Object.assign;function sB(n,e){const t={};for(const i in e){const r=e[i];t[i]=Array.isArray(r)?r.map(n):n(r)}return t}const xL=()=>{},b7t=/\/$/,C7t=n=>n.replace(b7t,"");function oB(n,e,t="/"){let i,r={},s="",o="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(i=e.slice(0,a),s=e.slice(a+1,l>-1?l:e.length),r=n(s)),l>-1&&(i=i||e.slice(0,l),o=e.slice(l,e.length)),i=L7t(i!=null?i:e,t),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function y7t(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Yae(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function w7t(n,e,t){const i=e.matched.length-1,r=t.matched.length-1;return i>-1&&i===r&&Iw(e.matched[i],t.matched[r])&&Zwe(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Iw(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function Zwe(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!S7t(n[t],e[t]))return!1;return!0}function S7t(n,e){return Array.isArray(n)?Xae(n,e):Array.isArray(e)?Xae(e,n):n===e}function Xae(n,e){return Array.isArray(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function L7t(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/");let r=t.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],!(r===1||o==="."))if(o==="..")r--;else break;return t.slice(0,r).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var $E;(function(n){n.pop="pop",n.push="push"})($E||($E={}));var ML;(function(n){n.back="back",n.forward="forward",n.unknown=""})(ML||(ML={}));function k7t(n){if(!n)if(rC){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),C7t(n)}const E7t=/^[^#]+#/;function D7t(n,e){return n.replace(E7t,"#")+e}function I7t(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const b3=()=>({left:window.pageXOffset,top:window.pageYOffset});function T7t(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=I7t(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Zae(n,e){return(history.state?history.state.position-e:-1)+n}const VH=new Map;function N7t(n,e){VH.set(n,e)}function x7t(n){const e=VH.get(n);return VH.delete(n),e}let M7t=()=>location.protocol+"//"+location.host;function Qwe(n,e){const{pathname:t,search:i,hash:r}=e,s=n.indexOf("#");if(s>-1){let a=r.includes(n.slice(s))?n.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Yae(l,"")}return Yae(t,n)+i+r}function A7t(n,e,t,i){let r=[],s=[],o=null;const a=({state:h})=>{const f=Qwe(n,location),g=t.value,p=e.value;let m=0;if(h){if(t.value=f,e.value=h,o&&o===g){o=null;return}m=p?h.position-p.position:0}else i(f);r.forEach(b=>{b(t.value,g,{delta:m,type:$E.pop,direction:m?m>0?ML.forward:ML.back:ML.unknown})})};function l(){o=t.value}function u(h){r.push(h);const f=()=>{const g=r.indexOf(h);g>-1&&r.splice(g,1)};return s.push(f),f}function c(){const{history:h}=window;!h.state||h.replaceState(xr({},h.state,{scroll:b3()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:d}}function Qae(n,e,t,i=!1,r=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:r?b3():null}}function R7t(n){const{history:e,location:t}=window,i={value:Qwe(n,t)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=n.indexOf("#"),h=d>-1?(t.host&&document.querySelector("base")?n:n.slice(d))+l:M7t()+n+l;try{e[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(f){console.error(f),t[c?"replace":"assign"](h)}}function o(l,u){const c=xr({},e.state,Qae(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),i.value=l}function a(l,u){const c=xr({},r.value,e.state,{forward:l,scroll:b3()});s(c.current,c,!0);const d=xr({},Qae(i.value,l,null),{position:c.position+1},u);s(l,d,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function O7t(n){n=k7t(n);const e=R7t(n),t=A7t(n,e.state,e.location,e.replace);function i(s,o=!0){o||t.pauseListeners(),history.go(s)}const r=xr({location:"",base:n,go:i,createHref:D7t.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function pHt(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),O7t(n)}function P7t(n){return typeof n=="string"||n&&typeof n=="object"}function Jwe(n){return typeof n=="string"||typeof n=="symbol"}const Op={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},eSe=oS("nf");var Jae;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Jae||(Jae={}));function Tw(n,e){return xr(new Error,{type:n,[eSe]:!0},e)}function e0(n,e){return n instanceof Error&&eSe in n&&(e==null||!!(n.type&e))}const ele="[^/]+?",F7t={sensitive:!1,strict:!1,start:!0,end:!0},B7t=/[.+*?^${}()[\]/\\]/g;function $7t(n,e){const t=xr({},F7t,e),i=[];let r=t.start?"^":"";const s=[];for(const u of n){const c=u.length?[]:[90];t.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(t.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(B7t,"\\$&"),f+=40;else if(h.type===1){const{value:g,repeatable:p,optional:m,regexp:b}=h;s.push({name:g,repeatable:p,optional:m});const _=b||ele;if(_!==ele){f+=10;try{new RegExp(`(${_})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${g}" (${_}): `+w.message)}}let C=p?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(C=m&&u.length<2?`(?:/${C})`:"/"+C),m&&(C+="?"),r+=C,f+=20,m&&(f+=-8),p&&(f+=-20),_===".*"&&(f+=-50)}c.push(f)}i.push(c)}if(t.strict&&t.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&(r+="(?:/|$)");const o=new RegExp(r,t.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",g=s[h-1];d[g.name]=f&&g.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of n){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:g,repeatable:p,optional:m}=f,b=g in u?u[g]:"";if(Array.isArray(b)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const _=Array.isArray(b)?b.join("/"):b;if(!_)if(m)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=_}}return c}return{re:o,score:i,keys:s,parse:a,stringify:l}}function V7t(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function W7t(n,e){let t=0;const i=n.score,r=e.score;for(;t<i.length&&t<r.length;){const s=V7t(i[t],r[t]);if(s)return s;t++}return r.length-i.length}const H7t={type:0,value:""},z7t=/[a-zA-Z0-9_]/;function U7t(n){if(!n)return[[]];if(n==="/")return[[H7t]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(f){throw new Error(`ERR (${t})/"${u}": ${f}`)}let t=0,i=t;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function d(){!u||(t===0?s.push({type:0,value:u}):t===1||t===2||t===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),t=1):h();break;case 4:h(),t=i;break;case 1:l==="("?t=2:z7t.test(l)?h():(d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:t=3:c+=l;break;case 3:d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),r}function j7t(n,e,t){const i=$7t(U7t(n.path),t),r=xr(i,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function K7t(n,e){const t=[],i=new Map;e=nle({strict:!1,end:!0,sensitive:!1},e);function r(c){return i.get(c)}function s(c,d,h){const f=!h,g=q7t(c);g.aliasOf=h&&h.record;const p=nle(e,c),m=[g];if("alias"in c){const C=typeof c.alias=="string"?[c.alias]:c.alias;for(const w of C)m.push(xr({},g,{components:h?h.record.components:g.components,path:w,aliasOf:h?h.record:g}))}let b,_;for(const C of m){const{path:w}=C;if(d&&w[0]!=="/"){const S=d.record.path,D=S[S.length-1]==="/"?"":"/";C.path=d.record.path+(w&&D+w)}if(b=j7t(C,d,p),h?h.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),f&&c.name&&!tle(b)&&o(c.name)),"children"in g){const S=g.children;for(let D=0;D<S.length;D++)s(S[D],b,h&&h.children[D])}h=h||b,l(b)}return _?()=>{o(_)}:xL}function o(c){if(Jwe(c)){const d=i.get(c);d&&(i.delete(c),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(c);d>-1&&(t.splice(d,1),c.record.name&&i.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return t}function l(c){let d=0;for(;d<t.length&&W7t(c,t[d])>=0;)d++;t.splice(d,0,c),c.record.name&&!tle(c)&&i.set(c.record.name,c)}function u(c,d){let h,f={},g,p;if("name"in c&&c.name){if(h=i.get(c.name),!h)throw Tw(1,{location:c});p=h.record.name,f=xr(G7t(d.params,h.keys.filter(_=>!_.optional).map(_=>_.name)),c.params),g=h.stringify(f)}else if("path"in c)g=c.path,h=t.find(_=>_.re.test(g)),h&&(f=h.parse(g),p=h.record.name);else{if(h=d.name?i.get(d.name):t.find(_=>_.re.test(d.path)),!h)throw Tw(1,{location:c,currentLocation:d});p=h.record.name,f=xr({},d.params,c.params),g=h.stringify(f)}const m=[];let b=h;for(;b;)m.unshift(b.record),b=b.parent;return{name:p,path:g,params:f,matched:m,meta:X7t(m)}}return n.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function G7t(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function q7t(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:Y7t(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||{}:{default:n.component}}}function Y7t(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="boolean"?t:t[i];return e}function tle(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function X7t(n){return n.reduce((e,t)=>xr(e,t.meta),{})}function nle(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}const tSe=/#/g,Z7t=/&/g,Q7t=/\//g,J7t=/=/g,e$t=/\?/g,nSe=/\+/g,t$t=/%5B/g,n$t=/%5D/g,iSe=/%5E/g,i$t=/%60/g,rSe=/%7B/g,r$t=/%7C/g,sSe=/%7D/g,s$t=/%20/g;function vY(n){return encodeURI(""+n).replace(r$t,"|").replace(t$t,"[").replace(n$t,"]")}function o$t(n){return vY(n).replace(rSe,"{").replace(sSe,"}").replace(iSe,"^")}function WH(n){return vY(n).replace(nSe,"%2B").replace(s$t,"+").replace(tSe,"%23").replace(Z7t,"%26").replace(i$t,"`").replace(rSe,"{").replace(sSe,"}").replace(iSe,"^")}function a$t(n){return WH(n).replace(J7t,"%3D")}function l$t(n){return vY(n).replace(tSe,"%23").replace(e$t,"%3F")}function u$t(n){return n==null?"":l$t(n).replace(Q7t,"%2F")}function nO(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function c$t(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(nSe," "),o=s.indexOf("="),a=nO(o<0?s:s.slice(0,o)),l=o<0?null:nO(s.slice(o+1));if(a in e){let u=e[a];Array.isArray(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function ile(n){let e="";for(let t in n){const i=n[t];if(t=a$t(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Array.isArray(i)?i.map(s=>s&&WH(s)):[i&&WH(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function d$t(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=Array.isArray(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}function e2(){let n=[];function e(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function Gp(n,e,t,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Tw(4,{from:t,to:e})):d instanceof Error?a(d):P7t(d)?a(Tw(2,{from:e,to:d})):(s&&i.enterCallbacks[r]===s&&typeof d=="function"&&s.push(d),o())},u=n.call(i&&i.instances[r],e,t,l);let c=Promise.resolve(u);n.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function aB(n,e,t,i){const r=[];for(const s of n)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(h$t(a)){const u=(a.__vccOpts||a)[e];u&&r.push(Gp(u,t,i,s,o))}else{let l=a();r.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=_7t(u)?u.default:u;s.components[o]=c;const h=(c.__vccOpts||c)[e];return h&&Gp(h,t,i,s,o)()}))}}return r}function h$t(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function rle(n){const e=mt(mY),t=mt(Xwe),i=z(()=>e.resolve(Ue(n.to))),r=z(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],d=t.matched;if(!c||!d.length)return-1;const h=d.findIndex(Iw.bind(null,c));if(h>-1)return h;const f=sle(l[u-2]);return u>1&&sle(c)===f&&d[d.length-1].path!==f?d.findIndex(Iw.bind(null,l[u-2])):h}),s=z(()=>r.value>-1&&m$t(t.params,i.value.params)),o=z(()=>r.value>-1&&r.value===t.matched.length-1&&Zwe(t.params,i.value.params));function a(l={}){return p$t(l)?e[Ue(n.replace)?"replace":"push"](Ue(n.to)).catch(xL):Promise.resolve()}return{route:i,href:z(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const f$t=Me({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:rle,setup(n,{slots:e}){const t=xi(rle(n)),{options:i}=mt(mY),r=z(()=>({[ole(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[ole(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&e.default(t);return n.custom?s:st("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},s)}}}),g$t=f$t;function p$t(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function m$t(n,e){for(const t in e){const i=e[t],r=n[t];if(typeof i=="string"){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function sle(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const ole=(n,e,t)=>n!=null?n:e!=null?e:t,v$t=Me({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(n,{attrs:e,slots:t}){const i=mt($H),r=z(()=>n.route||i.value),s=mt(qae,0),o=z(()=>r.value.matched[s]);vn(qae,s+1),vn(v7t,o),vn($H,r);const a=J();return Ze(()=>[a.value,o.value,n.name],([l,u,c],[d,h,f])=>{u&&(u.instances[c]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!Iw(u,h)||!d)&&(u.enterCallbacks[c]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=r.value,u=o.value,c=u&&u.components[n.name],d=n.name;if(!c)return ale(t.default,{Component:c,route:l});const h=u.props[n.name],f=h?h===!0?l.params:typeof h=="function"?h(l):h:null,p=st(c,xr({},f,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(u.instances[d]=null)},ref:a}));return ale(t.default,{Component:p,route:l})||p}}});function ale(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const _$t=v$t;function mHt(n){const e=K7t(n.routes,n),t=n.parseQuery||c$t,i=n.stringifyQuery||ile,r=n.history,s=e2(),o=e2(),a=e2(),l=ra(Op);let u=Op;rC&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=sB.bind(null,fe=>""+fe),d=sB.bind(null,u$t),h=sB.bind(null,nO);function f(fe,pe){let me,Ne;return Jwe(fe)?(me=e.getRecordMatcher(fe),Ne=pe):Ne=fe,e.addRoute(Ne,me)}function g(fe){const pe=e.getRecordMatcher(fe);pe&&e.removeRoute(pe)}function p(){return e.getRoutes().map(fe=>fe.record)}function m(fe){return!!e.getRecordMatcher(fe)}function b(fe,pe){if(pe=xr({},pe||l.value),typeof fe=="string"){const Ve=oB(t,fe,pe.path),ee=e.resolve({path:Ve.path},pe),ne=r.createHref(Ve.fullPath);return xr(Ve,ee,{params:h(ee.params),hash:nO(Ve.hash),redirectedFrom:void 0,href:ne})}let me;if("path"in fe)me=xr({},fe,{path:oB(t,fe.path,pe.path).path});else{const Ve=xr({},fe.params);for(const ee in Ve)Ve[ee]==null&&delete Ve[ee];me=xr({},fe,{params:d(fe.params)}),pe.params=d(pe.params)}const Ne=e.resolve(me,pe),je=fe.hash||"";Ne.params=c(h(Ne.params));const rt=y7t(i,xr({},fe,{hash:o$t(je),path:Ne.path})),xe=r.createHref(rt);return xr({fullPath:rt,hash:je,query:i===ile?d$t(fe.query):fe.query||{}},Ne,{redirectedFrom:void 0,href:xe})}function _(fe){return typeof fe=="string"?oB(t,fe,l.value.path):xr({},fe)}function C(fe,pe){if(u!==fe)return Tw(8,{from:pe,to:fe})}function w(fe){return E(fe)}function S(fe){return w(xr(_(fe),{replace:!0}))}function D(fe){const pe=fe.matched[fe.matched.length-1];if(pe&&pe.redirect){const{redirect:me}=pe;let Ne=typeof me=="function"?me(fe):me;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=_(Ne):{path:Ne},Ne.params={}),xr({query:fe.query,hash:fe.hash,params:fe.params},Ne)}}function E(fe,pe){const me=u=b(fe),Ne=l.value,je=fe.state,rt=fe.force,xe=fe.replace===!0,Ve=D(me);if(Ve)return E(xr(_(Ve),{state:je,force:rt,replace:xe}),pe||me);const ee=me;ee.redirectedFrom=pe;let ne;return!rt&&w7t(i,Ne,me)&&(ne=Tw(16,{to:ee,from:Ne}),Ce(Ne,Ne,!0,!1)),(ne?Promise.resolve(ne):T(ee,Ne)).catch(le=>e0(le)?le:j(le,ee,Ne)).then(le=>{if(le){if(e0(le,2))return E(xr(_(le.to),{state:je,force:rt,replace:xe}),pe||ee)}else le=A(ee,Ne,!0,xe,je);return M(ee,Ne,le),le})}function I(fe,pe){const me=C(fe,pe);return me?Promise.reject(me):Promise.resolve()}function T(fe,pe){let me;const[Ne,je,rt]=b$t(fe,pe);me=aB(Ne.reverse(),"beforeRouteLeave",fe,pe);for(const Ve of Ne)Ve.leaveGuards.forEach(ee=>{me.push(Gp(ee,fe,pe))});const xe=I.bind(null,fe,pe);return me.push(xe),Ub(me).then(()=>{me=[];for(const Ve of s.list())me.push(Gp(Ve,fe,pe));return me.push(xe),Ub(me)}).then(()=>{me=aB(je,"beforeRouteUpdate",fe,pe);for(const Ve of je)Ve.updateGuards.forEach(ee=>{me.push(Gp(ee,fe,pe))});return me.push(xe),Ub(me)}).then(()=>{me=[];for(const Ve of fe.matched)if(Ve.beforeEnter&&!pe.matched.includes(Ve))if(Array.isArray(Ve.beforeEnter))for(const ee of Ve.beforeEnter)me.push(Gp(ee,fe,pe));else me.push(Gp(Ve.beforeEnter,fe,pe));return me.push(xe),Ub(me)}).then(()=>(fe.matched.forEach(Ve=>Ve.enterCallbacks={}),me=aB(rt,"beforeRouteEnter",fe,pe),me.push(xe),Ub(me))).then(()=>{me=[];for(const Ve of o.list())me.push(Gp(Ve,fe,pe));return me.push(xe),Ub(me)}).catch(Ve=>e0(Ve,8)?Ve:Promise.reject(Ve))}function M(fe,pe,me){for(const Ne of a.list())Ne(fe,pe,me)}function A(fe,pe,me,Ne,je){const rt=C(fe,pe);if(rt)return rt;const xe=pe===Op,Ve=rC?history.state:{};me&&(Ne||xe?r.replace(fe.fullPath,xr({scroll:xe&&Ve&&Ve.scroll},je)):r.push(fe.fullPath,je)),l.value=fe,Ce(fe,pe,me,xe),ie()}let O;function F(){O=r.listen((fe,pe,me)=>{const Ne=b(fe),je=D(Ne);if(je){E(xr(je,{replace:!0}),Ne).catch(xL);return}u=Ne;const rt=l.value;rC&&N7t(Zae(rt.fullPath,me.delta),b3()),T(Ne,rt).catch(xe=>e0(xe,12)?xe:e0(xe,2)?(E(xe.to,Ne).then(Ve=>{e0(Ve,20)&&!me.delta&&me.type===$E.pop&&r.go(-1,!1)}).catch(xL),Promise.reject()):(me.delta&&r.go(-me.delta,!1),j(xe,Ne,rt))).then(xe=>{xe=xe||A(Ne,rt,!1),xe&&(me.delta?r.go(-me.delta,!1):me.type===$E.pop&&e0(xe,20)&&r.go(-1,!1)),M(Ne,rt,xe)}).catch(xL)})}let U=e2(),V=e2(),G;function j(fe,pe,me){ie(fe);const Ne=V.list();return Ne.length?Ne.forEach(je=>je(fe,pe,me)):console.error(fe),Promise.reject(fe)}function X(){return G&&l.value!==Op?Promise.resolve():new Promise((fe,pe)=>{U.add([fe,pe])})}function ie(fe){G||(G=!0,F(),U.list().forEach(([pe,me])=>fe?me(fe):pe()),U.reset())}function Ce(fe,pe,me,Ne){const{scrollBehavior:je}=n;if(!rC||!je)return Promise.resolve();const rt=!me&&x7t(Zae(fe.fullPath,0))||(Ne||!me)&&history.state&&history.state.scroll||null;return Nt().then(()=>je(fe,pe,rt)).then(xe=>xe&&T7t(xe)).catch(xe=>j(xe,fe,pe))}const Be=fe=>r.go(fe);let we;const ke=new Set;return{currentRoute:l,addRoute:f,removeRoute:g,hasRoute:m,getRoutes:p,resolve:b,options:n,push:w,replace:S,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:V.add,isReady:X,install(fe){const pe=this;fe.component("RouterLink",g$t),fe.component("RouterView",_$t),fe.config.globalProperties.$router=pe,Object.defineProperty(fe.config.globalProperties,"$route",{enumerable:!0,get:()=>Ue(l)}),rC&&!we&&l.value===Op&&(we=!0,w(r.location).catch(je=>{}));const me={};for(const je in Op)me[je]=z(()=>l.value[je]);fe.provide(mY,pe),fe.provide(Xwe,xi(me)),fe.provide($H,l);const Ne=fe.unmount;ke.add(fe),fe.unmount=function(){ke.delete(fe),ke.size<1&&(u=Op,O&&O(),l.value=Op,we=!1,G=!1),Ne()}}}}function Ub(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function b$t(n,e){const t=[],i=[],r=[],s=Math.max(e.matched.length,n.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(n.matched.find(u=>Iw(u,a))?i.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(u=>Iw(u,l))||r.push(l))}return[t,i,r]}var _Y=Me({name:"Coin"});const C$t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},y$t=be("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),w$t=be("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),S$t=be("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224zm0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160z"},null,-1);function L$t(n,e,t,i,r,s){return B(),Oe("svg",C$t,[y$t,w$t,S$t])}_Y.render=L$t;_Y.__file="packages/components/Coin.vue";var vHt=_Y,bY=Me({name:"Connection"});const k$t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},E$t=be("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192h192z"},null,-1),D$t=be("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192H384z"},null,-1);function I$t(n,e,t,i,r,s){return B(),Oe("svg",k$t,[E$t,D$t])}bY.render=I$t;bY.__file="packages/components/Connection.vue";var _Ht=bY,CY=Me({name:"Document"});const T$t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},N$t=be("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1);function x$t(n,e,t,i,r,s){return B(),Oe("svg",T$t,[N$t])}CY.render=x$t;CY.__file="packages/components/Document.vue";var bHt=CY,yY=Me({name:"FolderOpened"});const M$t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},A$t=be("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"},null,-1);function R$t(n,e,t,i,r,s){return B(),Oe("svg",M$t,[A$t])}yY.render=R$t;yY.__file="packages/components/FolderOpened.vue";var CHt=yY,wY=Me({name:"Tickets"});const O$t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},P$t=be("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h192v64H320v-64zm0 384h384v64H320v-64z"},null,-1);function F$t(n,e,t,i,r,s){return B(),Oe("svg",O$t,[P$t])}wY.render=F$t;wY.__file="packages/components/Tickets.vue";var yHt=wY,SY=Me({name:"SwitchButton"});const B$t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$$t=be("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"},null,-1),V$t=be("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32z"},null,-1);function W$t(n,e,t,i,r,s){return B(),Oe("svg",B$t,[$$t,V$t])}SY.render=W$t;SY.__file="packages/components/SwitchButton.vue";var wHt=SY;export{cue as $,De as A,Xe as B,Z as C,Bn as D,YWt as E,kt as F,Lye as G,UWt as H,XWt as I,tHt as J,jWt as K,qWt as L,$n as M,xn as N,Am as O,QWt as P,lo as Q,JWt as R,eHt as S,en as T,urt as U,Ht as V,zn as W,zE as X,ZWt as Y,nHt as Z,GWt as _,Oe as a,_y as a0,KWt as a1,oHt as a2,Bae as a3,aHt as a4,Nt as a5,vn as a6,dHt as a7,cHt as a8,hHt as a9,NCt as aA,Bue as aB,dge as aC,z$t as aD,yD as aE,i_e as aF,lHt as aa,uHt as ab,fHt as ac,gHt as ad,Ko as ae,Rn as af,Ue as ag,Er as ah,k_ as ai,Mw as aj,xa as ak,rHt as al,Ert as am,_Ht as an,vHt as ao,bHt as ap,CHt as aq,yHt as ar,wHt as as,mHt as at,pHt as au,WWt as av,$Wt as aw,VWt as ax,HWt as ay,BWt as az,J as b,z as c,Me as d,te as e,oe as f,Ft as g,Fe as h,mt as i,Ze as j,rn as k,b1 as l,TCt as m,wt as n,B as o,Ut as p,iHt as q,Te as r,zWt as s,Je as t,oye as u,xi as v,yd as w,sHt as x,wi as y,be as z};
//# sourceMappingURL=vendor.fad7d76f.js.map
